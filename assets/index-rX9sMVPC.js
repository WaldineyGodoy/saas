var nR=Object.defineProperty;var aR=(e,t,r)=>t in e?nR(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Uh=(e,t,r)=>aR(e,typeof t!="symbol"?t+"":t,r);function QS(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(n,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();function Fn(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function ej(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var a=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,a.get?a:{enumerable:!0,get:function(){return e[n]}})}),r}var tj={exports:{}},ff={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iR=Symbol.for("react.transitional.element"),oR=Symbol.for("react.fragment");function rj(e,t,r){var n=null;if(r!==void 0&&(n=""+r),t.key!==void 0&&(n=""+t.key),"key"in t){r={};for(var a in t)a!=="key"&&(r[a]=t[a])}else r=t;return t=r.ref,{$$typeof:iR,type:e,key:n,ref:t!==void 0?t:null,props:r}}ff.Fragment=oR;ff.jsx=rj;ff.jsxs=rj;tj.exports=ff;var c=tj.exports,nj={exports:{}},te={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gv=Symbol.for("react.transitional.element"),lR=Symbol.for("react.portal"),sR=Symbol.for("react.fragment"),uR=Symbol.for("react.strict_mode"),cR=Symbol.for("react.profiler"),dR=Symbol.for("react.consumer"),fR=Symbol.for("react.context"),hR=Symbol.for("react.forward_ref"),mR=Symbol.for("react.suspense"),pR=Symbol.for("react.memo"),aj=Symbol.for("react.lazy"),gR=Symbol.for("react.activity"),bb=Symbol.iterator;function vR(e){return e===null||typeof e!="object"?null:(e=bb&&e[bb]||e["@@iterator"],typeof e=="function"?e:null)}var ij={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},oj=Object.assign,lj={};function tl(e,t,r){this.props=e,this.context=t,this.refs=lj,this.updater=r||ij}tl.prototype.isReactComponent={};tl.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};tl.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function sj(){}sj.prototype=tl.prototype;function vv(e,t,r){this.props=e,this.context=t,this.refs=lj,this.updater=r||ij}var yv=vv.prototype=new sj;yv.constructor=vv;oj(yv,tl.prototype);yv.isPureReactComponent=!0;var xb=Array.isArray;function op(){}var Re={H:null,A:null,T:null,S:null},uj=Object.prototype.hasOwnProperty;function bv(e,t,r){var n=r.ref;return{$$typeof:gv,type:e,key:t,ref:n!==void 0?n:null,props:r}}function yR(e,t){return bv(e.type,t,e.props)}function xv(e){return typeof e=="object"&&e!==null&&e.$$typeof===gv}function bR(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var wb=/\/+/g;function qh(e,t){return typeof e=="object"&&e!==null&&e.key!=null?bR(""+e.key):t.toString(36)}function xR(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch(typeof e.status=="string"?e.then(op,op):(e.status="pending",e.then(function(t){e.status==="pending"&&(e.status="fulfilled",e.value=t)},function(t){e.status==="pending"&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}function eo(e,t,r,n,a){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"bigint":case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case gv:case lR:o=!0;break;case aj:return o=e._init,eo(o(e._payload),t,r,n,a)}}if(o)return a=a(e),o=n===""?"."+qh(e,0):n,xb(a)?(r="",o!=null&&(r=o.replace(wb,"$&/")+"/"),eo(a,t,r,"",function(u){return u})):a!=null&&(xv(a)&&(a=yR(a,r+(a.key==null||e&&e.key===a.key?"":(""+a.key).replace(wb,"$&/")+"/")+o)),t.push(a)),1;o=0;var l=n===""?".":n+":";if(xb(e))for(var s=0;s<e.length;s++)n=e[s],i=l+qh(n,s),o+=eo(n,t,r,i,a);else if(s=vR(e),typeof s=="function")for(e=s.call(e),s=0;!(n=e.next()).done;)n=n.value,i=l+qh(n,s++),o+=eo(n,t,r,i,a);else if(i==="object"){if(typeof e.then=="function")return eo(xR(e),t,r,n,a);throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return o}function Tu(e,t,r){if(e==null)return e;var n=[],a=0;return eo(e,n,"","",function(i){return t.call(r,i,a++)}),n}function wR(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var _b=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},_R={map:Tu,forEach:function(e,t,r){Tu(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Tu(e,function(){t++}),t},toArray:function(e){return Tu(e,function(t){return t})||[]},only:function(e){if(!xv(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};te.Activity=gR;te.Children=_R;te.Component=tl;te.Fragment=sR;te.Profiler=cR;te.PureComponent=vv;te.StrictMode=uR;te.Suspense=mR;te.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Re;te.__COMPILER_RUNTIME={__proto__:null,c:function(e){return Re.H.useMemoCache(e)}};te.cache=function(e){return function(){return e.apply(null,arguments)}};te.cacheSignal=function(){return null};te.cloneElement=function(e,t,r){if(e==null)throw Error("The argument must be a React element, but you passed "+e+".");var n=oj({},e.props),a=e.key;if(t!=null)for(i in t.key!==void 0&&(a=""+t.key),t)!uj.call(t,i)||i==="key"||i==="__self"||i==="__source"||i==="ref"&&t.ref===void 0||(n[i]=t[i]);var i=arguments.length-2;if(i===1)n.children=r;else if(1<i){for(var o=Array(i),l=0;l<i;l++)o[l]=arguments[l+2];n.children=o}return bv(e.type,a,n)};te.createContext=function(e){return e={$$typeof:fR,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider=e,e.Consumer={$$typeof:dR,_context:e},e};te.createElement=function(e,t,r){var n,a={},i=null;if(t!=null)for(n in t.key!==void 0&&(i=""+t.key),t)uj.call(t,n)&&n!=="key"&&n!=="__self"&&n!=="__source"&&(a[n]=t[n]);var o=arguments.length-2;if(o===1)a.children=r;else if(1<o){for(var l=Array(o),s=0;s<o;s++)l[s]=arguments[s+2];a.children=l}if(e&&e.defaultProps)for(n in o=e.defaultProps,o)a[n]===void 0&&(a[n]=o[n]);return bv(e,i,a)};te.createRef=function(){return{current:null}};te.forwardRef=function(e){return{$$typeof:hR,render:e}};te.isValidElement=xv;te.lazy=function(e){return{$$typeof:aj,_payload:{_status:-1,_result:e},_init:wR}};te.memo=function(e,t){return{$$typeof:pR,type:e,compare:t===void 0?null:t}};te.startTransition=function(e){var t=Re.T,r={};Re.T=r;try{var n=e(),a=Re.S;a!==null&&a(r,n),typeof n=="object"&&n!==null&&typeof n.then=="function"&&n.then(op,_b)}catch(i){_b(i)}finally{t!==null&&r.types!==null&&(t.types=r.types),Re.T=t}};te.unstable_useCacheRefresh=function(){return Re.H.useCacheRefresh()};te.use=function(e){return Re.H.use(e)};te.useActionState=function(e,t,r){return Re.H.useActionState(e,t,r)};te.useCallback=function(e,t){return Re.H.useCallback(e,t)};te.useContext=function(e){return Re.H.useContext(e)};te.useDebugValue=function(){};te.useDeferredValue=function(e,t){return Re.H.useDeferredValue(e,t)};te.useEffect=function(e,t){return Re.H.useEffect(e,t)};te.useEffectEvent=function(e){return Re.H.useEffectEvent(e)};te.useId=function(){return Re.H.useId()};te.useImperativeHandle=function(e,t,r){return Re.H.useImperativeHandle(e,t,r)};te.useInsertionEffect=function(e,t){return Re.H.useInsertionEffect(e,t)};te.useLayoutEffect=function(e,t){return Re.H.useLayoutEffect(e,t)};te.useMemo=function(e,t){return Re.H.useMemo(e,t)};te.useOptimistic=function(e,t){return Re.H.useOptimistic(e,t)};te.useReducer=function(e,t,r){return Re.H.useReducer(e,t,r)};te.useRef=function(e){return Re.H.useRef(e)};te.useState=function(e){return Re.H.useState(e)};te.useSyncExternalStore=function(e,t,r){return Re.H.useSyncExternalStore(e,t,r)};te.useTransition=function(){return Re.H.useTransition()};te.version="19.2.3";nj.exports=te;var x=nj.exports;const SR=Fn(x),cj=QS({__proto__:null,default:SR},[x]);var dj={exports:{}},hf={},fj={exports:{}},hj={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(C,k){var D=C.length;C.push(k);e:for(;0<D;){var L=D-1>>>1,H=C[L];if(0<a(H,k))C[L]=k,C[D]=H,D=L;else break e}}function r(C){return C.length===0?null:C[0]}function n(C){if(C.length===0)return null;var k=C[0],D=C.pop();if(D!==k){C[0]=D;e:for(var L=0,H=C.length,le=H>>>1;L<le;){var ue=2*(L+1)-1,ce=C[ue],de=ue+1,Ee=C[de];if(0>a(ce,D))de<H&&0>a(Ee,ce)?(C[L]=Ee,C[de]=D,L=de):(C[L]=ce,C[ue]=D,L=ue);else if(de<H&&0>a(Ee,D))C[L]=Ee,C[de]=D,L=de;else break e}}return k}function a(C,k){var D=C.sortIndex-k.sortIndex;return D!==0?D:C.id-k.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();e.unstable_now=function(){return o.now()-l}}var s=[],u=[],d=1,f=null,h=3,m=!1,g=!1,b=!1,y=!1,v=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;function _(C){for(var k=r(u);k!==null;){if(k.callback===null)n(u);else if(k.startTime<=C)n(u),k.sortIndex=k.expirationTime,t(s,k);else break;k=r(u)}}function j(C){if(b=!1,_(C),!g)if(r(s)!==null)g=!0,S||(S=!0,P());else{var k=r(u);k!==null&&q(j,k.startTime-C)}}var S=!1,E=-1,O=5,A=-1;function N(){return y?!0:!(e.unstable_now()-A<O)}function I(){if(y=!1,S){var C=e.unstable_now();A=C;var k=!0;try{e:{g=!1,b&&(b=!1,p(E),E=-1),m=!0;var D=h;try{t:{for(_(C),f=r(s);f!==null&&!(f.expirationTime>C&&N());){var L=f.callback;if(typeof L=="function"){f.callback=null,h=f.priorityLevel;var H=L(f.expirationTime<=C);if(C=e.unstable_now(),typeof H=="function"){f.callback=H,_(C),k=!0;break t}f===r(s)&&n(s),_(C)}else n(s);f=r(s)}if(f!==null)k=!0;else{var le=r(u);le!==null&&q(j,le.startTime-C),k=!1}}break e}finally{f=null,h=D,m=!1}k=void 0}}finally{k?P():S=!1}}}var P;if(typeof w=="function")P=function(){w(I)};else if(typeof MessageChannel<"u"){var K=new MessageChannel,T=K.port2;K.port1.onmessage=I,P=function(){T.postMessage(null)}}else P=function(){v(I,0)};function q(C,k){E=v(function(){C(e.unstable_now())},k)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(C){C.callback=null},e.unstable_forceFrameRate=function(C){0>C||125<C?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<C?Math.floor(1e3/C):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_next=function(C){switch(h){case 1:case 2:case 3:var k=3;break;default:k=h}var D=h;h=k;try{return C()}finally{h=D}},e.unstable_requestPaint=function(){y=!0},e.unstable_runWithPriority=function(C,k){switch(C){case 1:case 2:case 3:case 4:case 5:break;default:C=3}var D=h;h=C;try{return k()}finally{h=D}},e.unstable_scheduleCallback=function(C,k,D){var L=e.unstable_now();switch(typeof D=="object"&&D!==null?(D=D.delay,D=typeof D=="number"&&0<D?L+D:L):D=L,C){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=D+H,C={id:d++,callback:k,priorityLevel:C,startTime:D,expirationTime:H,sortIndex:-1},D>L?(C.sortIndex=D,t(u,C),r(s)===null&&C===r(u)&&(b?(p(E),E=-1):b=!0,q(j,D-L))):(C.sortIndex=H,t(s,C),g||m||(g=!0,S||(S=!0,P()))),C},e.unstable_shouldYield=N,e.unstable_wrapCallback=function(C){var k=h;return function(){var D=h;h=k;try{return C.apply(this,arguments)}finally{h=D}}}})(hj);fj.exports=hj;var jR=fj.exports,mj={exports:{}},$t={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ER=x;function pj(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function aa(){}var Dt={d:{f:aa,r:function(){throw Error(pj(522))},D:aa,C:aa,L:aa,m:aa,X:aa,S:aa,M:aa},p:0,findDOMNode:null},OR=Symbol.for("react.portal");function CR(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:OR,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}var Fl=ER.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function mf(e,t){if(e==="font")return"";if(typeof t=="string")return t==="use-credentials"?t:""}$t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Dt;$t.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)throw Error(pj(299));return CR(e,t,null,r)};$t.flushSync=function(e){var t=Fl.T,r=Dt.p;try{if(Fl.T=null,Dt.p=2,e)return e()}finally{Fl.T=t,Dt.p=r,Dt.d.f()}};$t.preconnect=function(e,t){typeof e=="string"&&(t?(t=t.crossOrigin,t=typeof t=="string"?t==="use-credentials"?t:"":void 0):t=null,Dt.d.C(e,t))};$t.prefetchDNS=function(e){typeof e=="string"&&Dt.d.D(e)};$t.preinit=function(e,t){if(typeof e=="string"&&t&&typeof t.as=="string"){var r=t.as,n=mf(r,t.crossOrigin),a=typeof t.integrity=="string"?t.integrity:void 0,i=typeof t.fetchPriority=="string"?t.fetchPriority:void 0;r==="style"?Dt.d.S(e,typeof t.precedence=="string"?t.precedence:void 0,{crossOrigin:n,integrity:a,fetchPriority:i}):r==="script"&&Dt.d.X(e,{crossOrigin:n,integrity:a,fetchPriority:i,nonce:typeof t.nonce=="string"?t.nonce:void 0})}};$t.preinitModule=function(e,t){if(typeof e=="string")if(typeof t=="object"&&t!==null){if(t.as==null||t.as==="script"){var r=mf(t.as,t.crossOrigin);Dt.d.M(e,{crossOrigin:r,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0})}}else t==null&&Dt.d.M(e)};$t.preload=function(e,t){if(typeof e=="string"&&typeof t=="object"&&t!==null&&typeof t.as=="string"){var r=t.as,n=mf(r,t.crossOrigin);Dt.d.L(e,r,{crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0,type:typeof t.type=="string"?t.type:void 0,fetchPriority:typeof t.fetchPriority=="string"?t.fetchPriority:void 0,referrerPolicy:typeof t.referrerPolicy=="string"?t.referrerPolicy:void 0,imageSrcSet:typeof t.imageSrcSet=="string"?t.imageSrcSet:void 0,imageSizes:typeof t.imageSizes=="string"?t.imageSizes:void 0,media:typeof t.media=="string"?t.media:void 0})}};$t.preloadModule=function(e,t){if(typeof e=="string")if(t){var r=mf(t.as,t.crossOrigin);Dt.d.m(e,{as:typeof t.as=="string"&&t.as!=="script"?t.as:void 0,crossOrigin:r,integrity:typeof t.integrity=="string"?t.integrity:void 0})}else Dt.d.m(e)};$t.requestFormReset=function(e){Dt.d.r(e)};$t.unstable_batchedUpdates=function(e,t){return e(t)};$t.useFormState=function(e,t,r){return Fl.H.useFormState(e,t,r)};$t.useFormStatus=function(){return Fl.H.useHostTransitionStatus()};$t.version="19.2.3";function gj(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(gj)}catch(e){console.error(e)}}gj(),mj.exports=$t;var wv=mj.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var it=jR,vj=x,AR=wv;function B(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function yj(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ks(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function bj(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function xj(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Sb(e){if(Ks(e)!==e)throw Error(B(188))}function TR(e){var t=e.alternate;if(!t){if(t=Ks(e),t===null)throw Error(B(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(a===null)break;var i=a.alternate;if(i===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===r)return Sb(a),e;if(i===n)return Sb(a),t;i=i.sibling}throw Error(B(188))}if(r.return!==n.return)r=a,n=i;else{for(var o=!1,l=a.child;l;){if(l===r){o=!0,r=a,n=i;break}if(l===n){o=!0,n=a,r=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===r){o=!0,r=i,n=a;break}if(l===n){o=!0,n=i,r=a;break}l=l.sibling}if(!o)throw Error(B(189))}}if(r.alternate!==n)throw Error(B(190))}if(r.tag!==3)throw Error(B(188));return r.stateNode.current===r?e:t}function wj(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=wj(e),t!==null)return t;e=e.sibling}return null}var Me=Object.assign,kR=Symbol.for("react.element"),ku=Symbol.for("react.transitional.element"),Ll=Symbol.for("react.portal"),oo=Symbol.for("react.fragment"),_j=Symbol.for("react.strict_mode"),lp=Symbol.for("react.profiler"),Sj=Symbol.for("react.consumer"),jn=Symbol.for("react.context"),_v=Symbol.for("react.forward_ref"),sp=Symbol.for("react.suspense"),up=Symbol.for("react.suspense_list"),Sv=Symbol.for("react.memo"),la=Symbol.for("react.lazy"),cp=Symbol.for("react.activity"),NR=Symbol.for("react.memo_cache_sentinel"),jb=Symbol.iterator;function El(e){return e===null||typeof e!="object"?null:(e=jb&&e[jb]||e["@@iterator"],typeof e=="function"?e:null)}var PR=Symbol.for("react.client.reference");function dp(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===PR?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case oo:return"Fragment";case lp:return"Profiler";case _j:return"StrictMode";case sp:return"Suspense";case up:return"SuspenseList";case cp:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case Ll:return"Portal";case jn:return e.displayName||"Context";case Sj:return(e._context.displayName||"Context")+".Consumer";case _v:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Sv:return t=e.displayName||null,t!==null?t:dp(e.type)||"Memo";case la:t=e._payload,e=e._init;try{return dp(e(t))}catch{}}return null}var Ul=Array.isArray,Q=vj.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,me=AR.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,di={pending:!1,data:null,method:null,action:null},fp=[],lo=-1;function dn(e){return{current:e}}function pt(e){0>lo||(e.current=fp[lo],fp[lo]=null,lo--)}function Te(e,t){lo++,fp[lo]=e.current,e.current=t}var on=dn(null),fs=dn(null),ja=dn(null),Bc=dn(null);function Ic(e,t){switch(Te(ja,t),Te(fs,e),Te(on,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?kx(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=kx(t),e=HO(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}pt(on),Te(on,e)}function No(){pt(on),pt(fs),pt(ja)}function hp(e){e.memoizedState!==null&&Te(Bc,e);var t=on.current,r=HO(t,e.type);t!==r&&(Te(fs,e),Te(on,r))}function $c(e){fs.current===e&&(pt(on),pt(fs)),Bc.current===e&&(pt(Bc),Ss._currentValue=di)}var Hh,Eb;function Xa(e){if(Hh===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Hh=t&&t[1]||"",Eb=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Hh+e+Eb}var Wh=!1;function Vh(e,t){if(!e||Wh)return"";Wh=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var n={DetermineComponentFrameRoot:function(){try{if(t){var f=function(){throw Error()};if(Object.defineProperty(f.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(f,[])}catch(m){var h=m}Reflect.construct(e,[],f)}else{try{f.call()}catch(m){h=m}e.call(f.prototype)}}else{try{throw Error()}catch(m){h=m}(f=e())&&typeof f.catch=="function"&&f.catch(function(){})}}catch(m){if(m&&h&&typeof m.stack=="string")return[m.stack,h.stack]}return[null,null]}};n.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var a=Object.getOwnPropertyDescriptor(n.DetermineComponentFrameRoot,"name");a&&a.configurable&&Object.defineProperty(n.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var i=n.DetermineComponentFrameRoot(),o=i[0],l=i[1];if(o&&l){var s=o.split(`
`),u=l.split(`
`);for(a=n=0;n<s.length&&!s[n].includes("DetermineComponentFrameRoot");)n++;for(;a<u.length&&!u[a].includes("DetermineComponentFrameRoot");)a++;if(n===s.length||a===u.length)for(n=s.length-1,a=u.length-1;1<=n&&0<=a&&s[n]!==u[a];)a--;for(;1<=n&&0<=a;n--,a--)if(s[n]!==u[a]){if(n!==1||a!==1)do if(n--,a--,0>a||s[n]!==u[a]){var d=`
`+s[n].replace(" at new "," at ");return e.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",e.displayName)),d}while(1<=n&&0<=a);break}}}finally{Wh=!1,Error.prepareStackTrace=r}return(r=e?e.displayName||e.name:"")?Xa(r):""}function RR(e,t){switch(e.tag){case 26:case 27:case 5:return Xa(e.type);case 16:return Xa("Lazy");case 13:return e.child!==t&&t!==null?Xa("Suspense Fallback"):Xa("Suspense");case 19:return Xa("SuspenseList");case 0:case 15:return Vh(e.type,!1);case 11:return Vh(e.type.render,!1);case 1:return Vh(e.type,!0);case 31:return Xa("Activity");default:return""}}function Ob(e){try{var t="",r=null;do t+=RR(e,r),r=e,e=e.return;while(e);return t}catch(n){return`
Error generating stack: `+n.message+`
`+n.stack}}var mp=Object.prototype.hasOwnProperty,jv=it.unstable_scheduleCallback,Kh=it.unstable_cancelCallback,MR=it.unstable_shouldYield,DR=it.unstable_requestPaint,cr=it.unstable_now,zR=it.unstable_getCurrentPriorityLevel,jj=it.unstable_ImmediatePriority,Ej=it.unstable_UserBlockingPriority,Lc=it.unstable_NormalPriority,BR=it.unstable_LowPriority,Oj=it.unstable_IdlePriority,IR=it.log,$R=it.unstable_setDisableYieldValue,Gs=null,dr=null;function va(e){if(typeof IR=="function"&&$R(e),dr&&typeof dr.setStrictMode=="function")try{dr.setStrictMode(Gs,e)}catch{}}var fr=Math.clz32?Math.clz32:qR,LR=Math.log,UR=Math.LN2;function qR(e){return e>>>=0,e===0?32:31-(LR(e)/UR|0)|0}var Nu=256,Pu=262144,Ru=4194304;function Za(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function pf(e,t,r){var n=e.pendingLanes;if(n===0)return 0;var a=0,i=e.suspendedLanes,o=e.pingedLanes;e=e.warmLanes;var l=n&134217727;return l!==0?(n=l&~i,n!==0?a=Za(n):(o&=l,o!==0?a=Za(o):r||(r=l&~e,r!==0&&(a=Za(r))))):(l=n&~i,l!==0?a=Za(l):o!==0?a=Za(o):r||(r=n&~e,r!==0&&(a=Za(r)))),a===0?0:t!==0&&t!==a&&!(t&i)&&(i=a&-a,r=t&-t,i>=r||i===32&&(r&4194048)!==0)?t:a}function Fs(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function HR(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Cj(){var e=Ru;return Ru<<=1,!(Ru&62914560)&&(Ru=4194304),e}function Gh(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Ys(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function WR(e,t,r,n,a,i){var o=e.pendingLanes;e.pendingLanes=r,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=r,e.entangledLanes&=r,e.errorRecoveryDisabledLanes&=r,e.shellSuspendCounter=0;var l=e.entanglements,s=e.expirationTimes,u=e.hiddenUpdates;for(r=o&~r;0<r;){var d=31-fr(r),f=1<<d;l[d]=0,s[d]=-1;var h=u[d];if(h!==null)for(u[d]=null,d=0;d<h.length;d++){var m=h[d];m!==null&&(m.lane&=-536870913)}r&=~f}n!==0&&Aj(e,n,0),i!==0&&a===0&&e.tag!==0&&(e.suspendedLanes|=i&~(o&~t))}function Aj(e,t,r){e.pendingLanes|=t,e.suspendedLanes&=~t;var n=31-fr(t);e.entangledLanes|=t,e.entanglements[n]=e.entanglements[n]|1073741824|r&261930}function Tj(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-fr(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}function kj(e,t){var r=t&-t;return r=r&42?1:Ev(r),r&(e.suspendedLanes|t)?0:r}function Ev(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ov(e){return e&=-e,2<e?8<e?e&134217727?32:268435456:8:2}function Nj(){var e=me.p;return e!==0?e:(e=window.event,e===void 0?32:eC(e.type))}function Cb(e,t){var r=me.p;try{return me.p=e,t()}finally{me.p=r}}var $a=Math.random().toString(36).slice(2),St="__reactFiber$"+$a,Yt="__reactProps$"+$a,rl="__reactContainer$"+$a,pp="__reactEvents$"+$a,VR="__reactListeners$"+$a,KR="__reactHandles$"+$a,Ab="__reactResources$"+$a,Xs="__reactMarker$"+$a;function Cv(e){delete e[St],delete e[Yt],delete e[pp],delete e[VR],delete e[KR]}function so(e){var t=e[St];if(t)return t;for(var r=e.parentNode;r;){if(t=r[rl]||r[St]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Dx(e);e!==null;){if(r=e[St])return r;e=Dx(e)}return t}e=r,r=e.parentNode}return null}function nl(e){if(e=e[St]||e[rl]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function ql(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(B(33))}function wo(e){var t=e[Ab];return t||(t=e[Ab]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function mt(e){e[Xs]=!0}var Pj=new Set,Rj={};function Ri(e,t){Po(e,t),Po(e+"Capture",t)}function Po(e,t){for(Rj[e]=t,e=0;e<t.length;e++)Pj.add(t[e])}var GR=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Tb={},kb={};function FR(e){return mp.call(kb,e)?!0:mp.call(Tb,e)?!1:GR.test(e)?kb[e]=!0:(Tb[e]=!0,!1)}function vc(e,t,r){if(FR(t))if(r===null)e.removeAttribute(t);else{switch(typeof r){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var n=t.toLowerCase().slice(0,5);if(n!=="data-"&&n!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+r)}}function Mu(e,t,r){if(r===null)e.removeAttribute(t);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+r)}}function hn(e,t,r,n){if(n===null)e.removeAttribute(r);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(r);return}e.setAttributeNS(t,r,""+n)}}function Sr(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Mj(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function YR(e,t,r){var n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var a=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function gp(e){if(!e._valueTracker){var t=Mj(e)?"checked":"value";e._valueTracker=YR(e,t,""+e[t])}}function Dj(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=Mj(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Uc(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var XR=/[\n"\\]/g;function Or(e){return e.replace(XR,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function vp(e,t,r,n,a,i,o,l){e.name="",o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"?e.type=o:e.removeAttribute("type"),t!=null?o==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Sr(t)):e.value!==""+Sr(t)&&(e.value=""+Sr(t)):o!=="submit"&&o!=="reset"||e.removeAttribute("value"),t!=null?yp(e,o,Sr(t)):r!=null?yp(e,o,Sr(r)):n!=null&&e.removeAttribute("value"),a==null&&i!=null&&(e.defaultChecked=!!i),a!=null&&(e.checked=a&&typeof a!="function"&&typeof a!="symbol"),l!=null&&typeof l!="function"&&typeof l!="symbol"&&typeof l!="boolean"?e.name=""+Sr(l):e.removeAttribute("name")}function zj(e,t,r,n,a,i,o,l){if(i!=null&&typeof i!="function"&&typeof i!="symbol"&&typeof i!="boolean"&&(e.type=i),t!=null||r!=null){if(!(i!=="submit"&&i!=="reset"||t!=null)){gp(e);return}r=r!=null?""+Sr(r):"",t=t!=null?""+Sr(t):r,l||t===e.value||(e.value=t),e.defaultValue=t}n=n??a,n=typeof n!="function"&&typeof n!="symbol"&&!!n,e.checked=l?e.checked:!!n,e.defaultChecked=!!n,o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"&&(e.name=o),gp(e)}function yp(e,t,r){t==="number"&&Uc(e.ownerDocument)===e||e.defaultValue===""+r||(e.defaultValue=""+r)}function _o(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Sr(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,n&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function Bj(e,t,r){if(t!=null&&(t=""+Sr(t),t!==e.value&&(e.value=t),r==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=r!=null?""+Sr(r):""}function Ij(e,t,r,n){if(t==null){if(n!=null){if(r!=null)throw Error(B(92));if(Ul(n)){if(1<n.length)throw Error(B(93));n=n[0]}r=n}r==null&&(r=""),t=r}r=Sr(t),e.defaultValue=r,n=e.textContent,n===r&&n!==""&&n!==null&&(e.value=n),gp(e)}function Ro(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var ZR=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Nb(e,t,r){var n=t.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?n?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":n?e.setProperty(t,r):typeof r!="number"||r===0||ZR.has(t)?t==="float"?e.cssFloat=r:e[t]=(""+r).trim():e[t]=r+"px"}function $j(e,t,r){if(t!=null&&typeof t!="object")throw Error(B(62));if(e=e.style,r!=null){for(var n in r)!r.hasOwnProperty(n)||t!=null&&t.hasOwnProperty(n)||(n.indexOf("--")===0?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="");for(var a in t)n=t[a],t.hasOwnProperty(a)&&r[a]!==n&&Nb(e,a,n)}else for(var i in t)t.hasOwnProperty(i)&&Nb(e,i,t[i])}function Av(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var JR=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),QR=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function yc(e){return QR.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function En(){}var bp=null;function Tv(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var uo=null,So=null;function Pb(e){var t=nl(e);if(t&&(e=t.stateNode)){var r=e[Yt]||null;e:switch(e=t.stateNode,t.type){case"input":if(vp(e,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+Or(""+t)+'"][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=n[Yt]||null;if(!a)throw Error(B(90));vp(n,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name)}}for(t=0;t<r.length;t++)n=r[t],n.form===e.form&&Dj(n)}break e;case"textarea":Bj(e,r.value,r.defaultValue);break e;case"select":t=r.value,t!=null&&_o(e,!!r.multiple,t,!1)}}}var Fh=!1;function Lj(e,t,r){if(Fh)return e(t,r);Fh=!0;try{var n=e(t);return n}finally{if(Fh=!1,(uo!==null||So!==null)&&(Cf(),uo&&(t=uo,e=So,So=uo=null,Pb(t),e)))for(t=0;t<e.length;t++)Pb(e[t])}}function hs(e,t){var r=e.stateNode;if(r===null)return null;var n=r[Yt]||null;if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(B(231,t,typeof r));return r}var Mn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),xp=!1;if(Mn)try{var Ol={};Object.defineProperty(Ol,"passive",{get:function(){xp=!0}}),window.addEventListener("test",Ol,Ol),window.removeEventListener("test",Ol,Ol)}catch{xp=!1}var ya=null,kv=null,bc=null;function Uj(){if(bc)return bc;var e,t=kv,r=t.length,n,a="value"in ya?ya.value:ya.textContent,i=a.length;for(e=0;e<r&&t[e]===a[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===a[i-n];n++);return bc=a.slice(e,1<n?1-n:void 0)}function xc(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Du(){return!0}function Rb(){return!1}function Xt(e){function t(r,n,a,i,o){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Du:Rb,this.isPropagationStopped=Rb,this}return Me(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Du)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Du)},persist:function(){},isPersistent:Du}),t}var Mi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},gf=Xt(Mi),Zs=Me({},Mi,{view:0,detail:0}),eM=Xt(Zs),Yh,Xh,Cl,vf=Me({},Zs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Nv,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Cl&&(Cl&&e.type==="mousemove"?(Yh=e.screenX-Cl.screenX,Xh=e.screenY-Cl.screenY):Xh=Yh=0,Cl=e),Yh)},movementY:function(e){return"movementY"in e?e.movementY:Xh}}),Mb=Xt(vf),tM=Me({},vf,{dataTransfer:0}),rM=Xt(tM),nM=Me({},Zs,{relatedTarget:0}),Zh=Xt(nM),aM=Me({},Mi,{animationName:0,elapsedTime:0,pseudoElement:0}),iM=Xt(aM),oM=Me({},Mi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),lM=Xt(oM),sM=Me({},Mi,{data:0}),Db=Xt(sM),uM={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},cM={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},dM={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function fM(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=dM[e])?!!t[e]:!1}function Nv(){return fM}var hM=Me({},Zs,{key:function(e){if(e.key){var t=uM[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=xc(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?cM[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Nv,charCode:function(e){return e.type==="keypress"?xc(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?xc(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),mM=Xt(hM),pM=Me({},vf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),zb=Xt(pM),gM=Me({},Zs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Nv}),vM=Xt(gM),yM=Me({},Mi,{propertyName:0,elapsedTime:0,pseudoElement:0}),bM=Xt(yM),xM=Me({},vf,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),wM=Xt(xM),_M=Me({},Mi,{newState:0,oldState:0}),SM=Xt(_M),jM=[9,13,27,32],Pv=Mn&&"CompositionEvent"in window,Yl=null;Mn&&"documentMode"in document&&(Yl=document.documentMode);var EM=Mn&&"TextEvent"in window&&!Yl,qj=Mn&&(!Pv||Yl&&8<Yl&&11>=Yl),Bb=" ",Ib=!1;function Hj(e,t){switch(e){case"keyup":return jM.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Wj(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var co=!1;function OM(e,t){switch(e){case"compositionend":return Wj(t);case"keypress":return t.which!==32?null:(Ib=!0,Bb);case"textInput":return e=t.data,e===Bb&&Ib?null:e;default:return null}}function CM(e,t){if(co)return e==="compositionend"||!Pv&&Hj(e,t)?(e=Uj(),bc=kv=ya=null,co=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return qj&&t.locale!=="ko"?null:t.data;default:return null}}var AM={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $b(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!AM[e.type]:t==="textarea"}function Vj(e,t,r,n){uo?So?So.push(n):So=[n]:uo=n,t=id(t,"onChange"),0<t.length&&(r=new gf("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Xl=null,ms=null;function TM(e){LO(e,0)}function yf(e){var t=ql(e);if(Dj(t))return e}function Lb(e,t){if(e==="change")return t}var Kj=!1;if(Mn){var Jh;if(Mn){var Qh="oninput"in document;if(!Qh){var Ub=document.createElement("div");Ub.setAttribute("oninput","return;"),Qh=typeof Ub.oninput=="function"}Jh=Qh}else Jh=!1;Kj=Jh&&(!document.documentMode||9<document.documentMode)}function qb(){Xl&&(Xl.detachEvent("onpropertychange",Gj),ms=Xl=null)}function Gj(e){if(e.propertyName==="value"&&yf(ms)){var t=[];Vj(t,ms,e,Tv(e)),Lj(TM,t)}}function kM(e,t,r){e==="focusin"?(qb(),Xl=t,ms=r,Xl.attachEvent("onpropertychange",Gj)):e==="focusout"&&qb()}function NM(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return yf(ms)}function PM(e,t){if(e==="click")return yf(t)}function RM(e,t){if(e==="input"||e==="change")return yf(t)}function MM(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var pr=typeof Object.is=="function"?Object.is:MM;function ps(e,t){if(pr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!mp.call(t,a)||!pr(e[a],t[a]))return!1}return!0}function Hb(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Wb(e,t){var r=Hb(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Hb(r)}}function Fj(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Fj(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Yj(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Uc(e.document);t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Uc(e.document)}return t}function Rv(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var DM=Mn&&"documentMode"in document&&11>=document.documentMode,fo=null,wp=null,Zl=null,_p=!1;function Vb(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;_p||fo==null||fo!==Uc(n)||(n=fo,"selectionStart"in n&&Rv(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Zl&&ps(Zl,n)||(Zl=n,n=id(wp,"onSelect"),0<n.length&&(t=new gf("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=fo)))}function Ga(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var ho={animationend:Ga("Animation","AnimationEnd"),animationiteration:Ga("Animation","AnimationIteration"),animationstart:Ga("Animation","AnimationStart"),transitionrun:Ga("Transition","TransitionRun"),transitionstart:Ga("Transition","TransitionStart"),transitioncancel:Ga("Transition","TransitionCancel"),transitionend:Ga("Transition","TransitionEnd")},em={},Xj={};Mn&&(Xj=document.createElement("div").style,"AnimationEvent"in window||(delete ho.animationend.animation,delete ho.animationiteration.animation,delete ho.animationstart.animation),"TransitionEvent"in window||delete ho.transitionend.transition);function Di(e){if(em[e])return em[e];if(!ho[e])return e;var t=ho[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in Xj)return em[e]=t[r];return e}var Zj=Di("animationend"),Jj=Di("animationiteration"),Qj=Di("animationstart"),zM=Di("transitionrun"),BM=Di("transitionstart"),IM=Di("transitioncancel"),eE=Di("transitionend"),tE=new Map,Sp="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Sp.push("scrollEnd");function Zr(e,t){tE.set(e,t),Ri(t,[e])}var qc=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},_r=[],mo=0,Mv=0;function bf(){for(var e=mo,t=Mv=mo=0;t<e;){var r=_r[t];_r[t++]=null;var n=_r[t];_r[t++]=null;var a=_r[t];_r[t++]=null;var i=_r[t];if(_r[t++]=null,n!==null&&a!==null){var o=n.pending;o===null?a.next=a:(a.next=o.next,o.next=a),n.pending=a}i!==0&&rE(r,a,i)}}function xf(e,t,r,n){_r[mo++]=e,_r[mo++]=t,_r[mo++]=r,_r[mo++]=n,Mv|=n,e.lanes|=n,e=e.alternate,e!==null&&(e.lanes|=n)}function Dv(e,t,r,n){return xf(e,t,r,n),Hc(e)}function zi(e,t){return xf(e,null,null,t),Hc(e)}function rE(e,t,r){e.lanes|=r;var n=e.alternate;n!==null&&(n.lanes|=r);for(var a=!1,i=e.return;i!==null;)i.childLanes|=r,n=i.alternate,n!==null&&(n.childLanes|=r),i.tag===22&&(e=i.stateNode,e===null||e._visibility&1||(a=!0)),e=i,i=i.return;return e.tag===3?(i=e.stateNode,a&&t!==null&&(a=31-fr(r),e=i.hiddenUpdates,n=e[a],n===null?e[a]=[t]:n.push(t),t.lane=r|536870912),i):null}function Hc(e){if(50<os)throw os=0,Wp=null,Error(B(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var po={};function $M(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ar(e,t,r,n){return new $M(e,t,r,n)}function zv(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Tn(e,t){var r=e.alternate;return r===null?(r=ar(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&65011712,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r.refCleanup=e.refCleanup,r}function nE(e,t){e.flags&=65011714;var r=e.alternate;return r===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=r.childLanes,e.lanes=r.lanes,e.child=r.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=r.memoizedProps,e.memoizedState=r.memoizedState,e.updateQueue=r.updateQueue,e.type=r.type,t=r.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function wc(e,t,r,n,a,i){var o=0;if(n=e,typeof e=="function")zv(e)&&(o=1);else if(typeof e=="string")o=WD(e,r,on.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case cp:return e=ar(31,r,t,a),e.elementType=cp,e.lanes=i,e;case oo:return fi(r.children,a,i,t);case _j:o=8,a|=24;break;case lp:return e=ar(12,r,t,a|2),e.elementType=lp,e.lanes=i,e;case sp:return e=ar(13,r,t,a),e.elementType=sp,e.lanes=i,e;case up:return e=ar(19,r,t,a),e.elementType=up,e.lanes=i,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case jn:o=10;break e;case Sj:o=9;break e;case _v:o=11;break e;case Sv:o=14;break e;case la:o=16,n=null;break e}o=29,r=Error(B(130,e===null?"null":typeof e,"")),n=null}return t=ar(o,r,t,a),t.elementType=e,t.type=n,t.lanes=i,t}function fi(e,t,r,n){return e=ar(7,e,n,t),e.lanes=r,e}function tm(e,t,r){return e=ar(6,e,null,t),e.lanes=r,e}function aE(e){var t=ar(18,null,null,0);return t.stateNode=e,t}function rm(e,t,r){return t=ar(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Kb=new WeakMap;function Cr(e,t){if(typeof e=="object"&&e!==null){var r=Kb.get(e);return r!==void 0?r:(t={value:e,source:t,stack:Ob(t)},Kb.set(e,t),t)}return{value:e,source:t,stack:Ob(t)}}var go=[],vo=0,Wc=null,gs=0,jr=[],Er=0,Ma=null,tn=1,rn="";function bn(e,t){go[vo++]=gs,go[vo++]=Wc,Wc=e,gs=t}function iE(e,t,r){jr[Er++]=tn,jr[Er++]=rn,jr[Er++]=Ma,Ma=e;var n=tn;e=rn;var a=32-fr(n)-1;n&=~(1<<a),r+=1;var i=32-fr(t)+a;if(30<i){var o=a-a%5;i=(n&(1<<o)-1).toString(32),n>>=o,a-=o,tn=1<<32-fr(t)+a|r<<a|n,rn=i+e}else tn=1<<i|r<<a|n,rn=e}function Bv(e){e.return!==null&&(bn(e,1),iE(e,1,0))}function Iv(e){for(;e===Wc;)Wc=go[--vo],go[vo]=null,gs=go[--vo],go[vo]=null;for(;e===Ma;)Ma=jr[--Er],jr[Er]=null,rn=jr[--Er],jr[Er]=null,tn=jr[--Er],jr[Er]=null}function oE(e,t){jr[Er++]=tn,jr[Er++]=rn,jr[Er++]=Ma,tn=t.id,rn=t.overflow,Ma=e}var jt=null,Pe=null,oe=!1,Ea=null,Ar=!1,jp=Error(B(519));function Da(e){var t=Error(B(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw vs(Cr(t,e)),jp}function Gb(e){var t=e.stateNode,r=e.type,n=e.memoizedProps;switch(t[St]=e,t[Yt]=n,r){case"dialog":ne("cancel",t),ne("close",t);break;case"iframe":case"object":case"embed":ne("load",t);break;case"video":case"audio":for(r=0;r<ws.length;r++)ne(ws[r],t);break;case"source":ne("error",t);break;case"img":case"image":case"link":ne("error",t),ne("load",t);break;case"details":ne("toggle",t);break;case"input":ne("invalid",t),zj(t,n.value,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name,!0);break;case"select":ne("invalid",t);break;case"textarea":ne("invalid",t),Ij(t,n.value,n.defaultValue,n.children)}r=n.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||t.textContent===""+r||n.suppressHydrationWarning===!0||qO(t.textContent,r)?(n.popover!=null&&(ne("beforetoggle",t),ne("toggle",t)),n.onScroll!=null&&ne("scroll",t),n.onScrollEnd!=null&&ne("scrollend",t),n.onClick!=null&&(t.onclick=En),t=!0):t=!1,t||Da(e,!0)}function Fb(e){for(jt=e.return;jt;)switch(jt.tag){case 5:case 31:case 13:Ar=!1;return;case 27:case 3:Ar=!0;return;default:jt=jt.return}}function Wi(e){if(e!==jt)return!1;if(!oe)return Fb(e),oe=!0,!1;var t=e.tag,r;if((r=t!==3&&t!==27)&&((r=t===5)&&(r=e.type,r=!(r!=="form"&&r!=="button")||Yp(e.type,e.memoizedProps)),r=!r),r&&Pe&&Da(e),Fb(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(B(317));Pe=Mx(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(B(317));Pe=Mx(e)}else t===27?(t=Pe,La(e.type)?(e=Qp,Qp=null,Pe=e):Pe=t):Pe=jt?Nr(e.stateNode.nextSibling):null;return!0}function xi(){Pe=jt=null,oe=!1}function nm(){var e=Ea;return e!==null&&(Vt===null?Vt=e:Vt.push.apply(Vt,e),Ea=null),e}function vs(e){Ea===null?Ea=[e]:Ea.push(e)}var Ep=dn(null),Bi=null,On=null;function da(e,t,r){Te(Ep,t._currentValue),t._currentValue=r}function kn(e){e._currentValue=Ep.current,pt(Ep)}function Op(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Cp(e,t,r,n){var a=e.child;for(a!==null&&(a.return=e);a!==null;){var i=a.dependencies;if(i!==null){var o=a.child;i=i.firstContext;e:for(;i!==null;){var l=i;i=a;for(var s=0;s<t.length;s++)if(l.context===t[s]){i.lanes|=r,l=i.alternate,l!==null&&(l.lanes|=r),Op(i.return,r,e),n||(o=null);break e}i=l.next}}else if(a.tag===18){if(o=a.return,o===null)throw Error(B(341));o.lanes|=r,i=o.alternate,i!==null&&(i.lanes|=r),Op(o,r,e),o=null}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===e){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}}function al(e,t,r,n){e=null;for(var a=t,i=!1;a!==null;){if(!i){if(a.flags&524288)i=!0;else if(a.flags&262144)break}if(a.tag===10){var o=a.alternate;if(o===null)throw Error(B(387));if(o=o.memoizedProps,o!==null){var l=a.type;pr(a.pendingProps.value,o.value)||(e!==null?e.push(l):e=[l])}}else if(a===Bc.current){if(o=a.alternate,o===null)throw Error(B(387));o.memoizedState.memoizedState!==a.memoizedState.memoizedState&&(e!==null?e.push(Ss):e=[Ss])}a=a.return}e!==null&&Cp(t,e,r,n),t.flags|=262144}function Vc(e){for(e=e.firstContext;e!==null;){if(!pr(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function wi(e){Bi=e,On=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Et(e){return lE(Bi,e)}function zu(e,t){return Bi===null&&wi(e),lE(e,t)}function lE(e,t){var r=t._currentValue;if(t={context:t,memoizedValue:r,next:null},On===null){if(e===null)throw Error(B(308));On=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else On=On.next=t;return r}var LM=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(r,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(r){return r()})}},UM=it.unstable_scheduleCallback,qM=it.unstable_NormalPriority,Je={$$typeof:jn,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function $v(){return{controller:new LM,data:new Map,refCount:0}}function Js(e){e.refCount--,e.refCount===0&&UM(qM,function(){e.controller.abort()})}var Jl=null,Ap=0,Mo=0,jo=null;function HM(e,t){if(Jl===null){var r=Jl=[];Ap=0,Mo=cy(),jo={status:"pending",value:void 0,then:function(n){r.push(n)}}}return Ap++,t.then(Yb,Yb),t}function Yb(){if(--Ap===0&&Jl!==null){jo!==null&&(jo.status="fulfilled");var e=Jl;Jl=null,Mo=0,jo=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function WM(e,t){var r=[],n={status:"pending",value:null,reason:null,then:function(a){r.push(a)}};return e.then(function(){n.status="fulfilled",n.value=t;for(var a=0;a<r.length;a++)(0,r[a])(t)},function(a){for(n.status="rejected",n.reason=a,a=0;a<r.length;a++)(0,r[a])(void 0)}),n}var Xb=Q.S;Q.S=function(e,t){wO=cr(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&HM(e,t),Xb!==null&&Xb(e,t)};var hi=dn(null);function Lv(){var e=hi.current;return e!==null?e:_e.pooledCache}function _c(e,t){t===null?Te(hi,hi.current):Te(hi,t.pool)}function sE(){var e=Lv();return e===null?null:{parent:Je._currentValue,pool:e}}var il=Error(B(460)),Uv=Error(B(474)),wf=Error(B(542)),Kc={then:function(){}};function Zb(e){return e=e.status,e==="fulfilled"||e==="rejected"}function uE(e,t,r){switch(r=e[r],r===void 0?e.push(t):r!==t&&(t.then(En,En),t=r),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Qb(e),e;default:if(typeof t.status=="string")t.then(En,En);else{if(e=_e,e!==null&&100<e.shellSuspendCounter)throw Error(B(482));e=t,e.status="pending",e.then(function(n){if(t.status==="pending"){var a=t;a.status="fulfilled",a.value=n}},function(n){if(t.status==="pending"){var a=t;a.status="rejected",a.reason=n}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Qb(e),e}throw mi=t,il}}function Ja(e){try{var t=e._init;return t(e._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(mi=r,il):r}}var mi=null;function Jb(){if(mi===null)throw Error(B(459));var e=mi;return mi=null,e}function Qb(e){if(e===il||e===wf)throw Error(B(483))}var Eo=null,ys=0;function Bu(e){var t=ys;return ys+=1,Eo===null&&(Eo=[]),uE(Eo,e,t)}function Al(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Iu(e,t){throw t.$$typeof===kR?Error(B(525)):(e=Object.prototype.toString.call(t),Error(B(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function cE(e){function t(v,p){if(e){var w=v.deletions;w===null?(v.deletions=[p],v.flags|=16):w.push(p)}}function r(v,p){if(!e)return null;for(;p!==null;)t(v,p),p=p.sibling;return null}function n(v){for(var p=new Map;v!==null;)v.key!==null?p.set(v.key,v):p.set(v.index,v),v=v.sibling;return p}function a(v,p){return v=Tn(v,p),v.index=0,v.sibling=null,v}function i(v,p,w){return v.index=w,e?(w=v.alternate,w!==null?(w=w.index,w<p?(v.flags|=67108866,p):w):(v.flags|=67108866,p)):(v.flags|=1048576,p)}function o(v){return e&&v.alternate===null&&(v.flags|=67108866),v}function l(v,p,w,_){return p===null||p.tag!==6?(p=tm(w,v.mode,_),p.return=v,p):(p=a(p,w),p.return=v,p)}function s(v,p,w,_){var j=w.type;return j===oo?d(v,p,w.props.children,_,w.key):p!==null&&(p.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===la&&Ja(j)===p.type)?(p=a(p,w.props),Al(p,w),p.return=v,p):(p=wc(w.type,w.key,w.props,null,v.mode,_),Al(p,w),p.return=v,p)}function u(v,p,w,_){return p===null||p.tag!==4||p.stateNode.containerInfo!==w.containerInfo||p.stateNode.implementation!==w.implementation?(p=rm(w,v.mode,_),p.return=v,p):(p=a(p,w.children||[]),p.return=v,p)}function d(v,p,w,_,j){return p===null||p.tag!==7?(p=fi(w,v.mode,_,j),p.return=v,p):(p=a(p,w),p.return=v,p)}function f(v,p,w){if(typeof p=="string"&&p!==""||typeof p=="number"||typeof p=="bigint")return p=tm(""+p,v.mode,w),p.return=v,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case ku:return w=wc(p.type,p.key,p.props,null,v.mode,w),Al(w,p),w.return=v,w;case Ll:return p=rm(p,v.mode,w),p.return=v,p;case la:return p=Ja(p),f(v,p,w)}if(Ul(p)||El(p))return p=fi(p,v.mode,w,null),p.return=v,p;if(typeof p.then=="function")return f(v,Bu(p),w);if(p.$$typeof===jn)return f(v,zu(v,p),w);Iu(v,p)}return null}function h(v,p,w,_){var j=p!==null?p.key:null;if(typeof w=="string"&&w!==""||typeof w=="number"||typeof w=="bigint")return j!==null?null:l(v,p,""+w,_);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case ku:return w.key===j?s(v,p,w,_):null;case Ll:return w.key===j?u(v,p,w,_):null;case la:return w=Ja(w),h(v,p,w,_)}if(Ul(w)||El(w))return j!==null?null:d(v,p,w,_,null);if(typeof w.then=="function")return h(v,p,Bu(w),_);if(w.$$typeof===jn)return h(v,p,zu(v,w),_);Iu(v,w)}return null}function m(v,p,w,_,j){if(typeof _=="string"&&_!==""||typeof _=="number"||typeof _=="bigint")return v=v.get(w)||null,l(p,v,""+_,j);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case ku:return v=v.get(_.key===null?w:_.key)||null,s(p,v,_,j);case Ll:return v=v.get(_.key===null?w:_.key)||null,u(p,v,_,j);case la:return _=Ja(_),m(v,p,w,_,j)}if(Ul(_)||El(_))return v=v.get(w)||null,d(p,v,_,j,null);if(typeof _.then=="function")return m(v,p,w,Bu(_),j);if(_.$$typeof===jn)return m(v,p,w,zu(p,_),j);Iu(p,_)}return null}function g(v,p,w,_){for(var j=null,S=null,E=p,O=p=0,A=null;E!==null&&O<w.length;O++){E.index>O?(A=E,E=null):A=E.sibling;var N=h(v,E,w[O],_);if(N===null){E===null&&(E=A);break}e&&E&&N.alternate===null&&t(v,E),p=i(N,p,O),S===null?j=N:S.sibling=N,S=N,E=A}if(O===w.length)return r(v,E),oe&&bn(v,O),j;if(E===null){for(;O<w.length;O++)E=f(v,w[O],_),E!==null&&(p=i(E,p,O),S===null?j=E:S.sibling=E,S=E);return oe&&bn(v,O),j}for(E=n(E);O<w.length;O++)A=m(E,v,O,w[O],_),A!==null&&(e&&A.alternate!==null&&E.delete(A.key===null?O:A.key),p=i(A,p,O),S===null?j=A:S.sibling=A,S=A);return e&&E.forEach(function(I){return t(v,I)}),oe&&bn(v,O),j}function b(v,p,w,_){if(w==null)throw Error(B(151));for(var j=null,S=null,E=p,O=p=0,A=null,N=w.next();E!==null&&!N.done;O++,N=w.next()){E.index>O?(A=E,E=null):A=E.sibling;var I=h(v,E,N.value,_);if(I===null){E===null&&(E=A);break}e&&E&&I.alternate===null&&t(v,E),p=i(I,p,O),S===null?j=I:S.sibling=I,S=I,E=A}if(N.done)return r(v,E),oe&&bn(v,O),j;if(E===null){for(;!N.done;O++,N=w.next())N=f(v,N.value,_),N!==null&&(p=i(N,p,O),S===null?j=N:S.sibling=N,S=N);return oe&&bn(v,O),j}for(E=n(E);!N.done;O++,N=w.next())N=m(E,v,O,N.value,_),N!==null&&(e&&N.alternate!==null&&E.delete(N.key===null?O:N.key),p=i(N,p,O),S===null?j=N:S.sibling=N,S=N);return e&&E.forEach(function(P){return t(v,P)}),oe&&bn(v,O),j}function y(v,p,w,_){if(typeof w=="object"&&w!==null&&w.type===oo&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case ku:e:{for(var j=w.key;p!==null;){if(p.key===j){if(j=w.type,j===oo){if(p.tag===7){r(v,p.sibling),_=a(p,w.props.children),_.return=v,v=_;break e}}else if(p.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===la&&Ja(j)===p.type){r(v,p.sibling),_=a(p,w.props),Al(_,w),_.return=v,v=_;break e}r(v,p);break}else t(v,p);p=p.sibling}w.type===oo?(_=fi(w.props.children,v.mode,_,w.key),_.return=v,v=_):(_=wc(w.type,w.key,w.props,null,v.mode,_),Al(_,w),_.return=v,v=_)}return o(v);case Ll:e:{for(j=w.key;p!==null;){if(p.key===j)if(p.tag===4&&p.stateNode.containerInfo===w.containerInfo&&p.stateNode.implementation===w.implementation){r(v,p.sibling),_=a(p,w.children||[]),_.return=v,v=_;break e}else{r(v,p);break}else t(v,p);p=p.sibling}_=rm(w,v.mode,_),_.return=v,v=_}return o(v);case la:return w=Ja(w),y(v,p,w,_)}if(Ul(w))return g(v,p,w,_);if(El(w)){if(j=El(w),typeof j!="function")throw Error(B(150));return w=j.call(w),b(v,p,w,_)}if(typeof w.then=="function")return y(v,p,Bu(w),_);if(w.$$typeof===jn)return y(v,p,zu(v,w),_);Iu(v,w)}return typeof w=="string"&&w!==""||typeof w=="number"||typeof w=="bigint"?(w=""+w,p!==null&&p.tag===6?(r(v,p.sibling),_=a(p,w),_.return=v,v=_):(r(v,p),_=tm(w,v.mode,_),_.return=v,v=_),o(v)):r(v,p)}return function(v,p,w,_){try{ys=0;var j=y(v,p,w,_);return Eo=null,j}catch(E){if(E===il||E===wf)throw E;var S=ar(29,E,null,v.mode);return S.lanes=_,S.return=v,S}finally{}}}var _i=cE(!0),dE=cE(!1),sa=!1;function qv(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Tp(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Oa(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ca(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,he&2){var a=n.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),n.pending=t,t=Hc(e),rE(e,null,r),t}return xf(e,n,t,r),Hc(e)}function Ql(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194048)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Tj(e,r)}}function am(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};i===null?a=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?a=i=t:i=i.next=t}else a=i=t;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:n.shared,callbacks:n.callbacks},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}var kp=!1;function es(){if(kp){var e=jo;if(e!==null)throw e}}function ts(e,t,r,n){kp=!1;var a=e.updateQueue;sa=!1;var i=a.firstBaseUpdate,o=a.lastBaseUpdate,l=a.shared.pending;if(l!==null){a.shared.pending=null;var s=l,u=s.next;s.next=null,o===null?i=u:o.next=u,o=s;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=s))}if(i!==null){var f=a.baseState;o=0,d=u=s=null,l=i;do{var h=l.lane&-536870913,m=h!==l.lane;if(m?(ie&h)===h:(n&h)===h){h!==0&&h===Mo&&(kp=!0),d!==null&&(d=d.next={lane:0,tag:l.tag,payload:l.payload,callback:null,next:null});e:{var g=e,b=l;h=t;var y=r;switch(b.tag){case 1:if(g=b.payload,typeof g=="function"){f=g.call(y,f,h);break e}f=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=b.payload,h=typeof g=="function"?g.call(y,f,h):g,h==null)break e;f=Me({},f,h);break e;case 2:sa=!0}}h=l.callback,h!==null&&(e.flags|=64,m&&(e.flags|=8192),m=a.callbacks,m===null?a.callbacks=[h]:m.push(h))}else m={lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=m,s=f):d=d.next=m,o|=h;if(l=l.next,l===null){if(l=a.shared.pending,l===null)break;m=l,l=m.next,m.next=null,a.lastBaseUpdate=m,a.shared.pending=null}}while(!0);d===null&&(s=f),a.baseState=s,a.firstBaseUpdate=u,a.lastBaseUpdate=d,i===null&&(a.shared.lanes=0),Ba|=o,e.lanes=o,e.memoizedState=f}}function fE(e,t){if(typeof e!="function")throw Error(B(191,e));e.call(t)}function hE(e,t){var r=e.callbacks;if(r!==null)for(e.callbacks=null,e=0;e<r.length;e++)fE(r[e],t)}var Do=dn(null),Gc=dn(0);function ex(e,t){e=In,Te(Gc,e),Te(Do,t),In=e|t.baseLanes}function Np(){Te(Gc,In),Te(Do,Do.current)}function Hv(){In=Gc.current,pt(Do),pt(Gc)}var gr=dn(null),kr=null;function fa(e){var t=e.alternate;Te(Ve,Ve.current&1),Te(gr,e),kr===null&&(t===null||Do.current!==null||t.memoizedState!==null)&&(kr=e)}function Pp(e){Te(Ve,Ve.current),Te(gr,e),kr===null&&(kr=e)}function mE(e){e.tag===22?(Te(Ve,Ve.current),Te(gr,e),kr===null&&(kr=e)):ha()}function ha(){Te(Ve,Ve.current),Te(gr,gr.current)}function nr(e){pt(gr),kr===e&&(kr=null),pt(Ve)}var Ve=dn(0);function Fc(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||Zp(r)||Jp(r)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Dn=0,re=null,xe=null,Xe=null,Yc=!1,Oo=!1,Si=!1,Xc=0,bs=0,Co=null,VM=0;function Ue(){throw Error(B(321))}function Wv(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!pr(e[r],t[r]))return!1;return!0}function Vv(e,t,r,n,a,i){return Dn=i,re=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Q.H=e===null||e.memoizedState===null?VE:ry,Si=!1,i=r(n,a),Si=!1,Oo&&(i=gE(t,r,n,a)),pE(e),i}function pE(e){Q.H=xs;var t=xe!==null&&xe.next!==null;if(Dn=0,Xe=xe=re=null,Yc=!1,bs=0,Co=null,t)throw Error(B(300));e===null||Qe||(e=e.dependencies,e!==null&&Vc(e)&&(Qe=!0))}function gE(e,t,r,n){re=e;var a=0;do{if(Oo&&(Co=null),bs=0,Oo=!1,25<=a)throw Error(B(301));if(a+=1,Xe=xe=null,e.updateQueue!=null){var i=e.updateQueue;i.lastEffect=null,i.events=null,i.stores=null,i.memoCache!=null&&(i.memoCache.index=0)}Q.H=KE,i=t(r,n)}while(Oo);return i}function KM(){var e=Q.H,t=e.useState()[0];return t=typeof t.then=="function"?Qs(t):t,e=e.useState()[0],(xe!==null?xe.memoizedState:null)!==e&&(re.flags|=1024),t}function Kv(){var e=Xc!==0;return Xc=0,e}function Gv(e,t,r){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r}function Fv(e){if(Yc){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Yc=!1}Dn=0,Xe=xe=re=null,Oo=!1,bs=Xc=0,Co=null}function Pt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Xe===null?re.memoizedState=Xe=e:Xe=Xe.next=e,Xe}function Ke(){if(xe===null){var e=re.alternate;e=e!==null?e.memoizedState:null}else e=xe.next;var t=Xe===null?re.memoizedState:Xe.next;if(t!==null)Xe=t,xe=e;else{if(e===null)throw re.alternate===null?Error(B(467)):Error(B(310));xe=e,e={memoizedState:xe.memoizedState,baseState:xe.baseState,baseQueue:xe.baseQueue,queue:xe.queue,next:null},Xe===null?re.memoizedState=Xe=e:Xe=Xe.next=e}return Xe}function _f(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Qs(e){var t=bs;return bs+=1,Co===null&&(Co=[]),e=uE(Co,e,t),t=re,(Xe===null?t.memoizedState:Xe.next)===null&&(t=t.alternate,Q.H=t===null||t.memoizedState===null?VE:ry),e}function Sf(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Qs(e);if(e.$$typeof===jn)return Et(e)}throw Error(B(438,String(e)))}function Yv(e){var t=null,r=re.updateQueue;if(r!==null&&(t=r.memoCache),t==null){var n=re.alternate;n!==null&&(n=n.updateQueue,n!==null&&(n=n.memoCache,n!=null&&(t={data:n.data.map(function(a){return a.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),r===null&&(r=_f(),re.updateQueue=r),r.memoCache=t,r=t.data[t.index],r===void 0)for(r=t.data[t.index]=Array(e),n=0;n<e;n++)r[n]=NR;return t.index++,r}function zn(e,t){return typeof t=="function"?t(e):t}function Sc(e){var t=Ke();return Xv(t,xe,e)}function Xv(e,t,r){var n=e.queue;if(n===null)throw Error(B(311));n.lastRenderedReducer=r;var a=e.baseQueue,i=n.pending;if(i!==null){if(a!==null){var o=a.next;a.next=i.next,i.next=o}t.baseQueue=a=i,n.pending=null}if(i=e.baseState,a===null)e.memoizedState=i;else{t=a.next;var l=o=null,s=null,u=t,d=!1;do{var f=u.lane&-536870913;if(f!==u.lane?(ie&f)===f:(Dn&f)===f){var h=u.revertLane;if(h===0)s!==null&&(s=s.next={lane:0,revertLane:0,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),f===Mo&&(d=!0);else if((Dn&h)===h){u=u.next,h===Mo&&(d=!0);continue}else f={lane:0,revertLane:u.revertLane,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},s===null?(l=s=f,o=i):s=s.next=f,re.lanes|=h,Ba|=h;f=u.action,Si&&r(i,f),i=u.hasEagerState?u.eagerState:r(i,f)}else h={lane:f,revertLane:u.revertLane,gesture:u.gesture,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},s===null?(l=s=h,o=i):s=s.next=h,re.lanes|=f,Ba|=f;u=u.next}while(u!==null&&u!==t);if(s===null?o=i:s.next=l,!pr(i,e.memoizedState)&&(Qe=!0,d&&(r=jo,r!==null)))throw r;e.memoizedState=i,e.baseState=o,e.baseQueue=s,n.lastRenderedState=i}return a===null&&(n.lanes=0),[e.memoizedState,n.dispatch]}function im(e){var t=Ke(),r=t.queue;if(r===null)throw Error(B(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,i=t.memoizedState;if(a!==null){r.pending=null;var o=a=a.next;do i=e(i,o.action),o=o.next;while(o!==a);pr(i,t.memoizedState)||(Qe=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function vE(e,t,r){var n=re,a=Ke(),i=oe;if(i){if(r===void 0)throw Error(B(407));r=r()}else r=t();var o=!pr((xe||a).memoizedState,r);if(o&&(a.memoizedState=r,Qe=!0),a=a.queue,Zv(xE.bind(null,n,a,e),[e]),a.getSnapshot!==t||o||Xe!==null&&Xe.memoizedState.tag&1){if(n.flags|=2048,zo(9,{destroy:void 0},bE.bind(null,n,a,r,t),null),_e===null)throw Error(B(349));i||Dn&127||yE(n,t,r)}return r}function yE(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=re.updateQueue,t===null?(t=_f(),re.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function bE(e,t,r,n){t.value=r,t.getSnapshot=n,wE(t)&&_E(e)}function xE(e,t,r){return r(function(){wE(t)&&_E(e)})}function wE(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!pr(e,r)}catch{return!0}}function _E(e){var t=zi(e,2);t!==null&&Ft(t,e,2)}function Rp(e){var t=Pt();if(typeof e=="function"){var r=e;if(e=r(),Si){va(!0);try{r()}finally{va(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:zn,lastRenderedState:e},t}function SE(e,t,r,n){return e.baseState=r,Xv(e,xe,typeof n=="function"?n:zn)}function GM(e,t,r,n,a){if(Ef(e))throw Error(B(485));if(e=t.action,e!==null){var i={payload:a,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(o){i.listeners.push(o)}};Q.T!==null?r(!0):i.isTransition=!1,n(i),r=t.pending,r===null?(i.next=t.pending=i,jE(t,i)):(i.next=r.next,t.pending=r.next=i)}}function jE(e,t){var r=t.action,n=t.payload,a=e.state;if(t.isTransition){var i=Q.T,o={};Q.T=o;try{var l=r(a,n),s=Q.S;s!==null&&s(o,l),tx(e,t,l)}catch(u){Mp(e,t,u)}finally{i!==null&&o.types!==null&&(i.types=o.types),Q.T=i}}else try{i=r(a,n),tx(e,t,i)}catch(u){Mp(e,t,u)}}function tx(e,t,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(n){rx(e,t,n)},function(n){return Mp(e,t,n)}):rx(e,t,r)}function rx(e,t,r){t.status="fulfilled",t.value=r,EE(t),e.state=r,t=e.pending,t!==null&&(r=t.next,r===t?e.pending=null:(r=r.next,t.next=r,jE(e,r)))}function Mp(e,t,r){var n=e.pending;if(e.pending=null,n!==null){n=n.next;do t.status="rejected",t.reason=r,EE(t),t=t.next;while(t!==n)}e.action=null}function EE(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function OE(e,t){return t}function nx(e,t){if(oe){var r=_e.formState;if(r!==null){e:{var n=re;if(oe){if(Pe){t:{for(var a=Pe,i=Ar;a.nodeType!==8;){if(!i){a=null;break t}if(a=Nr(a.nextSibling),a===null){a=null;break t}}i=a.data,a=i==="F!"||i==="F"?a:null}if(a){Pe=Nr(a.nextSibling),n=a.data==="F!";break e}}Da(n)}n=!1}n&&(t=r[0])}}return r=Pt(),r.memoizedState=r.baseState=t,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:OE,lastRenderedState:t},r.queue=n,r=qE.bind(null,re,n),n.dispatch=r,n=Rp(!1),i=ty.bind(null,re,!1,n.queue),n=Pt(),a={state:t,dispatch:null,action:e,pending:null},n.queue=a,r=GM.bind(null,re,a,i,r),a.dispatch=r,n.memoizedState=e,[t,r,!1]}function ax(e){var t=Ke();return CE(t,xe,e)}function CE(e,t,r){if(t=Xv(e,t,OE)[0],e=Sc(zn)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var n=Qs(t)}catch(o){throw o===il?wf:o}else n=t;t=Ke();var a=t.queue,i=a.dispatch;return r!==t.memoizedState&&(re.flags|=2048,zo(9,{destroy:void 0},FM.bind(null,a,r),null)),[n,i,e]}function FM(e,t){e.action=t}function ix(e){var t=Ke(),r=xe;if(r!==null)return CE(t,r,e);Ke(),t=t.memoizedState,r=Ke();var n=r.queue.dispatch;return r.memoizedState=e,[t,n,!1]}function zo(e,t,r,n){return e={tag:e,create:r,deps:n,inst:t,next:null},t=re.updateQueue,t===null&&(t=_f(),re.updateQueue=t),r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e),e}function AE(){return Ke().memoizedState}function jc(e,t,r,n){var a=Pt();re.flags|=e,a.memoizedState=zo(1|t,{destroy:void 0},r,n===void 0?null:n)}function jf(e,t,r,n){var a=Ke();n=n===void 0?null:n;var i=a.memoizedState.inst;xe!==null&&n!==null&&Wv(n,xe.memoizedState.deps)?a.memoizedState=zo(t,i,r,n):(re.flags|=e,a.memoizedState=zo(1|t,i,r,n))}function ox(e,t){jc(8390656,8,e,t)}function Zv(e,t){jf(2048,8,e,t)}function YM(e){re.flags|=4;var t=re.updateQueue;if(t===null)t=_f(),re.updateQueue=t,t.events=[e];else{var r=t.events;r===null?t.events=[e]:r.push(e)}}function TE(e){var t=Ke().memoizedState;return YM({ref:t,nextImpl:e}),function(){if(he&2)throw Error(B(440));return t.impl.apply(void 0,arguments)}}function kE(e,t){return jf(4,2,e,t)}function NE(e,t){return jf(4,4,e,t)}function PE(e,t){if(typeof t=="function"){e=e();var r=t(e);return function(){typeof r=="function"?r():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function RE(e,t,r){r=r!=null?r.concat([e]):null,jf(4,4,PE.bind(null,t,e),r)}function Jv(){}function ME(e,t){var r=Ke();t=t===void 0?null:t;var n=r.memoizedState;return t!==null&&Wv(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function DE(e,t){var r=Ke();t=t===void 0?null:t;var n=r.memoizedState;if(t!==null&&Wv(t,n[1]))return n[0];if(n=e(),Si){va(!0);try{e()}finally{va(!1)}}return r.memoizedState=[n,t],n}function Qv(e,t,r){return r===void 0||Dn&1073741824&&!(ie&261930)?e.memoizedState=t:(e.memoizedState=r,e=SO(),re.lanes|=e,Ba|=e,r)}function zE(e,t,r,n){return pr(r,t)?r:Do.current!==null?(e=Qv(e,r,n),pr(e,t)||(Qe=!0),e):!(Dn&42)||Dn&1073741824&&!(ie&261930)?(Qe=!0,e.memoizedState=r):(e=SO(),re.lanes|=e,Ba|=e,t)}function BE(e,t,r,n,a){var i=me.p;me.p=i!==0&&8>i?i:8;var o=Q.T,l={};Q.T=l,ty(e,!1,t,r);try{var s=a(),u=Q.S;if(u!==null&&u(l,s),s!==null&&typeof s=="object"&&typeof s.then=="function"){var d=WM(s,n);rs(e,t,d,hr(e))}else rs(e,t,n,hr(e))}catch(f){rs(e,t,{then:function(){},status:"rejected",reason:f},hr())}finally{me.p=i,o!==null&&l.types!==null&&(o.types=l.types),Q.T=o}}function XM(){}function Dp(e,t,r,n){if(e.tag!==5)throw Error(B(476));var a=IE(e).queue;BE(e,a,t,di,r===null?XM:function(){return $E(e),r(n)})}function IE(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:di,baseState:di,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:zn,lastRenderedState:di},next:null};var r={};return t.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:zn,lastRenderedState:r},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function $E(e){var t=IE(e);t.next===null&&(t=e.alternate.memoizedState),rs(e,t.next.queue,{},hr())}function ey(){return Et(Ss)}function LE(){return Ke().memoizedState}function UE(){return Ke().memoizedState}function ZM(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var r=hr();e=Oa(r);var n=Ca(t,e,r);n!==null&&(Ft(n,t,r),Ql(n,t,r)),t={cache:$v()},e.payload=t;return}t=t.return}}function JM(e,t,r){var n=hr();r={lane:n,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},Ef(e)?HE(t,r):(r=Dv(e,t,r,n),r!==null&&(Ft(r,e,n),WE(r,t,n)))}function qE(e,t,r){var n=hr();rs(e,t,r,n)}function rs(e,t,r,n){var a={lane:n,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(Ef(e))HE(t,a);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,l=i(o,r);if(a.hasEagerState=!0,a.eagerState=l,pr(l,o))return xf(e,t,a,0),_e===null&&bf(),!1}catch{}finally{}if(r=Dv(e,t,a,n),r!==null)return Ft(r,e,n),WE(r,t,n),!0}return!1}function ty(e,t,r,n){if(n={lane:2,revertLane:cy(),gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},Ef(e)){if(t)throw Error(B(479))}else t=Dv(e,r,n,2),t!==null&&Ft(t,e,2)}function Ef(e){var t=e.alternate;return e===re||t!==null&&t===re}function HE(e,t){Oo=Yc=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function WE(e,t,r){if(r&4194048){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Tj(e,r)}}var xs={readContext:Et,use:Sf,useCallback:Ue,useContext:Ue,useEffect:Ue,useImperativeHandle:Ue,useLayoutEffect:Ue,useInsertionEffect:Ue,useMemo:Ue,useReducer:Ue,useRef:Ue,useState:Ue,useDebugValue:Ue,useDeferredValue:Ue,useTransition:Ue,useSyncExternalStore:Ue,useId:Ue,useHostTransitionStatus:Ue,useFormState:Ue,useActionState:Ue,useOptimistic:Ue,useMemoCache:Ue,useCacheRefresh:Ue};xs.useEffectEvent=Ue;var VE={readContext:Et,use:Sf,useCallback:function(e,t){return Pt().memoizedState=[e,t===void 0?null:t],e},useContext:Et,useEffect:ox,useImperativeHandle:function(e,t,r){r=r!=null?r.concat([e]):null,jc(4194308,4,PE.bind(null,t,e),r)},useLayoutEffect:function(e,t){return jc(4194308,4,e,t)},useInsertionEffect:function(e,t){jc(4,2,e,t)},useMemo:function(e,t){var r=Pt();t=t===void 0?null:t;var n=e();if(Si){va(!0);try{e()}finally{va(!1)}}return r.memoizedState=[n,t],n},useReducer:function(e,t,r){var n=Pt();if(r!==void 0){var a=r(t);if(Si){va(!0);try{r(t)}finally{va(!1)}}}else a=t;return n.memoizedState=n.baseState=a,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:a},n.queue=e,e=e.dispatch=JM.bind(null,re,e),[n.memoizedState,e]},useRef:function(e){var t=Pt();return e={current:e},t.memoizedState=e},useState:function(e){e=Rp(e);var t=e.queue,r=qE.bind(null,re,t);return t.dispatch=r,[e.memoizedState,r]},useDebugValue:Jv,useDeferredValue:function(e,t){var r=Pt();return Qv(r,e,t)},useTransition:function(){var e=Rp(!1);return e=BE.bind(null,re,e.queue,!0,!1),Pt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,r){var n=re,a=Pt();if(oe){if(r===void 0)throw Error(B(407));r=r()}else{if(r=t(),_e===null)throw Error(B(349));ie&127||yE(n,t,r)}a.memoizedState=r;var i={value:r,getSnapshot:t};return a.queue=i,ox(xE.bind(null,n,i,e),[e]),n.flags|=2048,zo(9,{destroy:void 0},bE.bind(null,n,i,r,t),null),r},useId:function(){var e=Pt(),t=_e.identifierPrefix;if(oe){var r=rn,n=tn;r=(n&~(1<<32-fr(n)-1)).toString(32)+r,t="_"+t+"R_"+r,r=Xc++,0<r&&(t+="H"+r.toString(32)),t+="_"}else r=VM++,t="_"+t+"r_"+r.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:ey,useFormState:nx,useActionState:nx,useOptimistic:function(e){var t=Pt();t.memoizedState=t.baseState=e;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=r,t=ty.bind(null,re,!0,r),r.dispatch=t,[e,t]},useMemoCache:Yv,useCacheRefresh:function(){return Pt().memoizedState=ZM.bind(null,re)},useEffectEvent:function(e){var t=Pt(),r={impl:e};return t.memoizedState=r,function(){if(he&2)throw Error(B(440));return r.impl.apply(void 0,arguments)}}},ry={readContext:Et,use:Sf,useCallback:ME,useContext:Et,useEffect:Zv,useImperativeHandle:RE,useInsertionEffect:kE,useLayoutEffect:NE,useMemo:DE,useReducer:Sc,useRef:AE,useState:function(){return Sc(zn)},useDebugValue:Jv,useDeferredValue:function(e,t){var r=Ke();return zE(r,xe.memoizedState,e,t)},useTransition:function(){var e=Sc(zn)[0],t=Ke().memoizedState;return[typeof e=="boolean"?e:Qs(e),t]},useSyncExternalStore:vE,useId:LE,useHostTransitionStatus:ey,useFormState:ax,useActionState:ax,useOptimistic:function(e,t){var r=Ke();return SE(r,xe,e,t)},useMemoCache:Yv,useCacheRefresh:UE};ry.useEffectEvent=TE;var KE={readContext:Et,use:Sf,useCallback:ME,useContext:Et,useEffect:Zv,useImperativeHandle:RE,useInsertionEffect:kE,useLayoutEffect:NE,useMemo:DE,useReducer:im,useRef:AE,useState:function(){return im(zn)},useDebugValue:Jv,useDeferredValue:function(e,t){var r=Ke();return xe===null?Qv(r,e,t):zE(r,xe.memoizedState,e,t)},useTransition:function(){var e=im(zn)[0],t=Ke().memoizedState;return[typeof e=="boolean"?e:Qs(e),t]},useSyncExternalStore:vE,useId:LE,useHostTransitionStatus:ey,useFormState:ix,useActionState:ix,useOptimistic:function(e,t){var r=Ke();return xe!==null?SE(r,xe,e,t):(r.baseState=e,[e,r.queue.dispatch])},useMemoCache:Yv,useCacheRefresh:UE};KE.useEffectEvent=TE;function om(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Me({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var zp={enqueueSetState:function(e,t,r){e=e._reactInternals;var n=hr(),a=Oa(n);a.payload=t,r!=null&&(a.callback=r),t=Ca(e,a,n),t!==null&&(Ft(t,e,n),Ql(t,e,n))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=hr(),a=Oa(n);a.tag=1,a.payload=t,r!=null&&(a.callback=r),t=Ca(e,a,n),t!==null&&(Ft(t,e,n),Ql(t,e,n))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=hr(),n=Oa(r);n.tag=2,t!=null&&(n.callback=t),t=Ca(e,n,r),t!==null&&(Ft(t,e,r),Ql(t,e,r))}};function lx(e,t,r,n,a,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,o):t.prototype&&t.prototype.isPureReactComponent?!ps(r,n)||!ps(a,i):!0}function sx(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&zp.enqueueReplaceState(t,t.state,null)}function ji(e,t){var r=t;if("ref"in t){r={};for(var n in t)n!=="ref"&&(r[n]=t[n])}if(e=e.defaultProps){r===t&&(r=Me({},r));for(var a in e)r[a]===void 0&&(r[a]=e[a])}return r}function GE(e){qc(e)}function FE(e){console.error(e)}function YE(e){qc(e)}function Zc(e,t){try{var r=e.onUncaughtError;r(t.value,{componentStack:t.stack})}catch(n){setTimeout(function(){throw n})}}function ux(e,t,r){try{var n=e.onCaughtError;n(r.value,{componentStack:r.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(a){setTimeout(function(){throw a})}}function Bp(e,t,r){return r=Oa(r),r.tag=3,r.payload={element:null},r.callback=function(){Zc(e,t)},r}function XE(e){return e=Oa(e),e.tag=3,e}function ZE(e,t,r,n){var a=r.type.getDerivedStateFromError;if(typeof a=="function"){var i=n.value;e.payload=function(){return a(i)},e.callback=function(){ux(t,r,n)}}var o=r.stateNode;o!==null&&typeof o.componentDidCatch=="function"&&(e.callback=function(){ux(t,r,n),typeof a!="function"&&(Aa===null?Aa=new Set([this]):Aa.add(this));var l=n.stack;this.componentDidCatch(n.value,{componentStack:l!==null?l:""})})}function QM(e,t,r,n,a){if(r.flags|=32768,n!==null&&typeof n=="object"&&typeof n.then=="function"){if(t=r.alternate,t!==null&&al(t,r,a,!0),r=gr.current,r!==null){switch(r.tag){case 31:case 13:return kr===null?rd():r.alternate===null&&He===0&&(He=3),r.flags&=-257,r.flags|=65536,r.lanes=a,n===Kc?r.flags|=16384:(t=r.updateQueue,t===null?r.updateQueue=new Set([n]):t.add(n),vm(e,n,a)),!1;case 22:return r.flags|=65536,n===Kc?r.flags|=16384:(t=r.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([n])},r.updateQueue=t):(r=t.retryQueue,r===null?t.retryQueue=new Set([n]):r.add(n)),vm(e,n,a)),!1}throw Error(B(435,r.tag))}return vm(e,n,a),rd(),!1}if(oe)return t=gr.current,t!==null?(!(t.flags&65536)&&(t.flags|=256),t.flags|=65536,t.lanes=a,n!==jp&&(e=Error(B(422),{cause:n}),vs(Cr(e,r)))):(n!==jp&&(t=Error(B(423),{cause:n}),vs(Cr(t,r))),e=e.current.alternate,e.flags|=65536,a&=-a,e.lanes|=a,n=Cr(n,r),a=Bp(e.stateNode,n,a),am(e,a),He!==4&&(He=2)),!1;var i=Error(B(520),{cause:n});if(i=Cr(i,r),is===null?is=[i]:is.push(i),He!==4&&(He=2),t===null)return!0;n=Cr(n,r),r=t;do{switch(r.tag){case 3:return r.flags|=65536,e=a&-a,r.lanes|=e,e=Bp(r.stateNode,n,e),am(r,e),!1;case 1:if(t=r.type,i=r.stateNode,(r.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||i!==null&&typeof i.componentDidCatch=="function"&&(Aa===null||!Aa.has(i))))return r.flags|=65536,a&=-a,r.lanes|=a,a=XE(a),ZE(a,e,r,n),am(r,a),!1}r=r.return}while(r!==null);return!1}var ny=Error(B(461)),Qe=!1;function xt(e,t,r,n){t.child=e===null?dE(t,null,r,n):_i(t,e.child,r,n)}function cx(e,t,r,n,a){r=r.render;var i=t.ref;if("ref"in n){var o={};for(var l in n)l!=="ref"&&(o[l]=n[l])}else o=n;return wi(t),n=Vv(e,t,r,o,i,a),l=Kv(),e!==null&&!Qe?(Gv(e,t,a),Bn(e,t,a)):(oe&&l&&Bv(t),t.flags|=1,xt(e,t,n,a),t.child)}function dx(e,t,r,n,a){if(e===null){var i=r.type;return typeof i=="function"&&!zv(i)&&i.defaultProps===void 0&&r.compare===null?(t.tag=15,t.type=i,JE(e,t,i,n,a)):(e=wc(r.type,null,n,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!ay(e,a)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:ps,r(o,n)&&e.ref===t.ref)return Bn(e,t,a)}return t.flags|=1,e=Tn(i,n),e.ref=t.ref,e.return=t,t.child=e}function JE(e,t,r,n,a){if(e!==null){var i=e.memoizedProps;if(ps(i,n)&&e.ref===t.ref)if(Qe=!1,t.pendingProps=n=i,ay(e,a))e.flags&131072&&(Qe=!0);else return t.lanes=e.lanes,Bn(e,t,a)}return Ip(e,t,r,n,a)}function QE(e,t,r,n){var a=n.children,i=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.mode==="hidden"){if(t.flags&128){if(i=i!==null?i.baseLanes|r:r,e!==null){for(n=t.child=e.child,a=0;n!==null;)a=a|n.lanes|n.childLanes,n=n.sibling;n=a&~i}else n=0,t.child=null;return fx(e,t,i,r,n)}if(r&536870912)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&_c(t,i!==null?i.cachePool:null),i!==null?ex(t,i):Np(),mE(t);else return n=t.lanes=536870912,fx(e,t,i!==null?i.baseLanes|r:r,r,n)}else i!==null?(_c(t,i.cachePool),ex(t,i),ha(),t.memoizedState=null):(e!==null&&_c(t,null),Np(),ha());return xt(e,t,a,r),t.child}function Hl(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function fx(e,t,r,n,a){var i=Lv();return i=i===null?null:{parent:Je._currentValue,pool:i},t.memoizedState={baseLanes:r,cachePool:i},e!==null&&_c(t,null),Np(),mE(t),e!==null&&al(e,t,n,!0),t.childLanes=a,null}function Ec(e,t){return t=Jc({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function hx(e,t,r){return _i(t,e.child,null,r),e=Ec(t,t.pendingProps),e.flags|=2,nr(t),t.memoizedState=null,e}function eD(e,t,r){var n=t.pendingProps,a=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(oe){if(n.mode==="hidden")return e=Ec(t,n),t.lanes=536870912,Hl(null,e);if(Pp(t),(e=Pe)?(e=VO(e,Ar),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Ma!==null?{id:tn,overflow:rn}:null,retryLane:536870912,hydrationErrors:null},r=aE(e),r.return=t,t.child=r,jt=t,Pe=null)):e=null,e===null)throw Da(t);return t.lanes=536870912,null}return Ec(t,n)}var i=e.memoizedState;if(i!==null){var o=i.dehydrated;if(Pp(t),a)if(t.flags&256)t.flags&=-257,t=hx(e,t,r);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(B(558));else if(Qe||al(e,t,r,!1),a=(r&e.childLanes)!==0,Qe||a){if(n=_e,n!==null&&(o=kj(n,r),o!==0&&o!==i.retryLane))throw i.retryLane=o,zi(e,o),Ft(n,e,o),ny;rd(),t=hx(e,t,r)}else e=i.treeContext,Pe=Nr(o.nextSibling),jt=t,oe=!0,Ea=null,Ar=!1,e!==null&&oE(t,e),t=Ec(t,n),t.flags|=4096;return t}return e=Tn(e.child,{mode:n.mode,children:n.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Oc(e,t){var r=t.ref;if(r===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(B(284));(e===null||e.ref!==r)&&(t.flags|=4194816)}}function Ip(e,t,r,n,a){return wi(t),r=Vv(e,t,r,n,void 0,a),n=Kv(),e!==null&&!Qe?(Gv(e,t,a),Bn(e,t,a)):(oe&&n&&Bv(t),t.flags|=1,xt(e,t,r,a),t.child)}function mx(e,t,r,n,a,i){return wi(t),t.updateQueue=null,r=gE(t,n,r,a),pE(e),n=Kv(),e!==null&&!Qe?(Gv(e,t,i),Bn(e,t,i)):(oe&&n&&Bv(t),t.flags|=1,xt(e,t,r,i),t.child)}function px(e,t,r,n,a){if(wi(t),t.stateNode===null){var i=po,o=r.contextType;typeof o=="object"&&o!==null&&(i=Et(o)),i=new r(n,i),t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=zp,t.stateNode=i,i._reactInternals=t,i=t.stateNode,i.props=n,i.state=t.memoizedState,i.refs={},qv(t),o=r.contextType,i.context=typeof o=="object"&&o!==null?Et(o):po,i.state=t.memoizedState,o=r.getDerivedStateFromProps,typeof o=="function"&&(om(t,r,o,n),i.state=t.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(o=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),o!==i.state&&zp.enqueueReplaceState(i,i.state,null),ts(t,n,i,a),es(),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308),n=!0}else if(e===null){i=t.stateNode;var l=t.memoizedProps,s=ji(r,l);i.props=s;var u=i.context,d=r.contextType;o=po,typeof d=="object"&&d!==null&&(o=Et(d));var f=r.getDerivedStateFromProps;d=typeof f=="function"||typeof i.getSnapshotBeforeUpdate=="function",l=t.pendingProps!==l,d||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l||u!==o)&&sx(t,i,n,o),sa=!1;var h=t.memoizedState;i.state=h,ts(t,n,i,a),es(),u=t.memoizedState,l||h!==u||sa?(typeof f=="function"&&(om(t,r,f,n),u=t.memoizedState),(s=sa||lx(t,r,s,n,h,u,o))?(d||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=u),i.props=n,i.state=u,i.context=o,n=s):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{i=t.stateNode,Tp(e,t),o=t.memoizedProps,d=ji(r,o),i.props=d,f=t.pendingProps,h=i.context,u=r.contextType,s=po,typeof u=="object"&&u!==null&&(s=Et(u)),l=r.getDerivedStateFromProps,(u=typeof l=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(o!==f||h!==s)&&sx(t,i,n,s),sa=!1,h=t.memoizedState,i.state=h,ts(t,n,i,a),es();var m=t.memoizedState;o!==f||h!==m||sa||e!==null&&e.dependencies!==null&&Vc(e.dependencies)?(typeof l=="function"&&(om(t,r,l,n),m=t.memoizedState),(d=sa||lx(t,r,d,n,h,m,s)||e!==null&&e.dependencies!==null&&Vc(e.dependencies))?(u||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(n,m,s),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(n,m,s)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=m),i.props=n,i.state=m,i.context=s,n=d):(typeof i.componentDidUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return i=n,Oc(e,t),n=(t.flags&128)!==0,i||n?(i=t.stateNode,r=n&&typeof r.getDerivedStateFromError!="function"?null:i.render(),t.flags|=1,e!==null&&n?(t.child=_i(t,e.child,null,a),t.child=_i(t,null,r,a)):xt(e,t,r,a),t.memoizedState=i.state,e=t.child):e=Bn(e,t,a),e}function gx(e,t,r,n){return xi(),t.flags|=256,xt(e,t,r,n),t.child}var lm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function sm(e){return{baseLanes:e,cachePool:sE()}}function um(e,t,r){return e=e!==null?e.childLanes&~r:0,t&&(e|=sr),e}function eO(e,t,r){var n=t.pendingProps,a=!1,i=(t.flags&128)!==0,o;if((o=i)||(o=e!==null&&e.memoizedState===null?!1:(Ve.current&2)!==0),o&&(a=!0,t.flags&=-129),o=(t.flags&32)!==0,t.flags&=-33,e===null){if(oe){if(a?fa(t):ha(),(e=Pe)?(e=VO(e,Ar),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Ma!==null?{id:tn,overflow:rn}:null,retryLane:536870912,hydrationErrors:null},r=aE(e),r.return=t,t.child=r,jt=t,Pe=null)):e=null,e===null)throw Da(t);return Jp(e)?t.lanes=32:t.lanes=536870912,null}var l=n.children;return n=n.fallback,a?(ha(),a=t.mode,l=Jc({mode:"hidden",children:l},a),n=fi(n,a,r,null),l.return=t,n.return=t,l.sibling=n,t.child=l,n=t.child,n.memoizedState=sm(r),n.childLanes=um(e,o,r),t.memoizedState=lm,Hl(null,n)):(fa(t),$p(t,l))}var s=e.memoizedState;if(s!==null&&(l=s.dehydrated,l!==null)){if(i)t.flags&256?(fa(t),t.flags&=-257,t=cm(e,t,r)):t.memoizedState!==null?(ha(),t.child=e.child,t.flags|=128,t=null):(ha(),l=n.fallback,a=t.mode,n=Jc({mode:"visible",children:n.children},a),l=fi(l,a,r,null),l.flags|=2,n.return=t,l.return=t,n.sibling=l,t.child=n,_i(t,e.child,null,r),n=t.child,n.memoizedState=sm(r),n.childLanes=um(e,o,r),t.memoizedState=lm,t=Hl(null,n));else if(fa(t),Jp(l)){if(o=l.nextSibling&&l.nextSibling.dataset,o)var u=o.dgst;o=u,n=Error(B(419)),n.stack="",n.digest=o,vs({value:n,source:null,stack:null}),t=cm(e,t,r)}else if(Qe||al(e,t,r,!1),o=(r&e.childLanes)!==0,Qe||o){if(o=_e,o!==null&&(n=kj(o,r),n!==0&&n!==s.retryLane))throw s.retryLane=n,zi(e,n),Ft(o,e,n),ny;Zp(l)||rd(),t=cm(e,t,r)}else Zp(l)?(t.flags|=192,t.child=e.child,t=null):(e=s.treeContext,Pe=Nr(l.nextSibling),jt=t,oe=!0,Ea=null,Ar=!1,e!==null&&oE(t,e),t=$p(t,n.children),t.flags|=4096);return t}return a?(ha(),l=n.fallback,a=t.mode,s=e.child,u=s.sibling,n=Tn(s,{mode:"hidden",children:n.children}),n.subtreeFlags=s.subtreeFlags&65011712,u!==null?l=Tn(u,l):(l=fi(l,a,r,null),l.flags|=2),l.return=t,n.return=t,n.sibling=l,t.child=n,Hl(null,n),n=t.child,l=e.child.memoizedState,l===null?l=sm(r):(a=l.cachePool,a!==null?(s=Je._currentValue,a=a.parent!==s?{parent:s,pool:s}:a):a=sE(),l={baseLanes:l.baseLanes|r,cachePool:a}),n.memoizedState=l,n.childLanes=um(e,o,r),t.memoizedState=lm,Hl(e.child,n)):(fa(t),r=e.child,e=r.sibling,r=Tn(r,{mode:"visible",children:n.children}),r.return=t,r.sibling=null,e!==null&&(o=t.deletions,o===null?(t.deletions=[e],t.flags|=16):o.push(e)),t.child=r,t.memoizedState=null,r)}function $p(e,t){return t=Jc({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Jc(e,t){return e=ar(22,e,null,t),e.lanes=0,e}function cm(e,t,r){return _i(t,e.child,null,r),e=$p(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function vx(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Op(e.return,t,r)}function dm(e,t,r,n,a,i){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a,treeForkCount:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=n,o.tail=r,o.tailMode=a,o.treeForkCount=i)}function tO(e,t,r){var n=t.pendingProps,a=n.revealOrder,i=n.tail;n=n.children;var o=Ve.current,l=(o&2)!==0;if(l?(o=o&1|2,t.flags|=128):o&=1,Te(Ve,o),xt(e,t,n,r),n=oe?gs:0,!l&&e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&vx(e,r,t);else if(e.tag===19)vx(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&Fc(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),dm(t,!1,a,r,i,n);break;case"backwards":case"unstable_legacy-backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&Fc(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}dm(t,!0,r,null,i,n);break;case"together":dm(t,!1,null,null,void 0,n);break;default:t.memoizedState=null}return t.child}function Bn(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Ba|=t.lanes,!(r&t.childLanes))if(e!==null){if(al(e,t,r,!1),(r&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(B(153));if(t.child!==null){for(e=t.child,r=Tn(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Tn(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function ay(e,t){return e.lanes&t?!0:(e=e.dependencies,!!(e!==null&&Vc(e)))}function tD(e,t,r){switch(t.tag){case 3:Ic(t,t.stateNode.containerInfo),da(t,Je,e.memoizedState.cache),xi();break;case 27:case 5:hp(t);break;case 4:Ic(t,t.stateNode.containerInfo);break;case 10:da(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,Pp(t),null;break;case 13:var n=t.memoizedState;if(n!==null)return n.dehydrated!==null?(fa(t),t.flags|=128,null):r&t.child.childLanes?eO(e,t,r):(fa(t),e=Bn(e,t,r),e!==null?e.sibling:null);fa(t);break;case 19:var a=(e.flags&128)!==0;if(n=(r&t.childLanes)!==0,n||(al(e,t,r,!1),n=(r&t.childLanes)!==0),a){if(n)return tO(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),Te(Ve,Ve.current),n)break;return null;case 22:return t.lanes=0,QE(e,t,r,t.pendingProps);case 24:da(t,Je,e.memoizedState.cache)}return Bn(e,t,r)}function rO(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps)Qe=!0;else{if(!ay(e,r)&&!(t.flags&128))return Qe=!1,tD(e,t,r);Qe=!!(e.flags&131072)}else Qe=!1,oe&&t.flags&1048576&&iE(t,gs,t.index);switch(t.lanes=0,t.tag){case 16:e:{var n=t.pendingProps;if(e=Ja(t.elementType),t.type=e,typeof e=="function")zv(e)?(n=ji(e,n),t.tag=1,t=px(null,t,e,n,r)):(t.tag=0,t=Ip(null,t,e,n,r));else{if(e!=null){var a=e.$$typeof;if(a===_v){t.tag=11,t=cx(null,t,e,n,r);break e}else if(a===Sv){t.tag=14,t=dx(null,t,e,n,r);break e}}throw t=dp(e)||e,Error(B(306,t,""))}}return t;case 0:return Ip(e,t,t.type,t.pendingProps,r);case 1:return n=t.type,a=ji(n,t.pendingProps),px(e,t,n,a,r);case 3:e:{if(Ic(t,t.stateNode.containerInfo),e===null)throw Error(B(387));n=t.pendingProps;var i=t.memoizedState;a=i.element,Tp(e,t),ts(t,n,null,r);var o=t.memoizedState;if(n=o.cache,da(t,Je,n),n!==i.cache&&Cp(t,[Je],r,!0),es(),n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){t=gx(e,t,n,r);break e}else if(n!==a){a=Cr(Error(B(424)),t),vs(a),t=gx(e,t,n,r);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Pe=Nr(e.firstChild),jt=t,oe=!0,Ea=null,Ar=!0,r=dE(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(xi(),n===a){t=Bn(e,t,r);break e}xt(e,t,n,r)}t=t.child}return t;case 26:return Oc(e,t),e===null?(r=Bx(t.type,null,t.pendingProps,null))?t.memoizedState=r:oe||(r=t.type,e=t.pendingProps,n=od(ja.current).createElement(r),n[St]=t,n[Yt]=e,Ct(n,r,e),mt(n),t.stateNode=n):t.memoizedState=Bx(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return hp(t),e===null&&oe&&(n=t.stateNode=KO(t.type,t.pendingProps,ja.current),jt=t,Ar=!0,a=Pe,La(t.type)?(Qp=a,Pe=Nr(n.firstChild)):Pe=a),xt(e,t,t.pendingProps.children,r),Oc(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&oe&&((a=n=Pe)&&(n=ND(n,t.type,t.pendingProps,Ar),n!==null?(t.stateNode=n,jt=t,Pe=Nr(n.firstChild),Ar=!1,a=!0):a=!1),a||Da(t)),hp(t),a=t.type,i=t.pendingProps,o=e!==null?e.memoizedProps:null,n=i.children,Yp(a,i)?n=null:o!==null&&Yp(a,o)&&(t.flags|=32),t.memoizedState!==null&&(a=Vv(e,t,KM,null,null,r),Ss._currentValue=a),Oc(e,t),xt(e,t,n,r),t.child;case 6:return e===null&&oe&&((e=r=Pe)&&(r=PD(r,t.pendingProps,Ar),r!==null?(t.stateNode=r,jt=t,Pe=null,e=!0):e=!1),e||Da(t)),null;case 13:return eO(e,t,r);case 4:return Ic(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=_i(t,null,n,r):xt(e,t,n,r),t.child;case 11:return cx(e,t,t.type,t.pendingProps,r);case 7:return xt(e,t,t.pendingProps,r),t.child;case 8:return xt(e,t,t.pendingProps.children,r),t.child;case 12:return xt(e,t,t.pendingProps.children,r),t.child;case 10:return n=t.pendingProps,da(t,t.type,n.value),xt(e,t,n.children,r),t.child;case 9:return a=t.type._context,n=t.pendingProps.children,wi(t),a=Et(a),n=n(a),t.flags|=1,xt(e,t,n,r),t.child;case 14:return dx(e,t,t.type,t.pendingProps,r);case 15:return JE(e,t,t.type,t.pendingProps,r);case 19:return tO(e,t,r);case 31:return eD(e,t,r);case 22:return QE(e,t,r,t.pendingProps);case 24:return wi(t),n=Et(Je),e===null?(a=Lv(),a===null&&(a=_e,i=$v(),a.pooledCache=i,i.refCount++,i!==null&&(a.pooledCacheLanes|=r),a=i),t.memoizedState={parent:n,cache:a},qv(t),da(t,Je,a)):(e.lanes&r&&(Tp(e,t),ts(t,null,null,r),es()),a=e.memoizedState,i=t.memoizedState,a.parent!==n?(a={parent:n,cache:n},t.memoizedState=a,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=a),da(t,Je,n)):(n=i.cache,da(t,Je,n),n!==a.cache&&Cp(t,[Je],r,!0))),xt(e,t,t.pendingProps.children,r),t.child;case 29:throw t.pendingProps}throw Error(B(156,t.tag))}function mn(e){e.flags|=4}function fm(e,t,r,n,a){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(a&335544128)===a)if(e.stateNode.complete)e.flags|=8192;else if(OO())e.flags|=8192;else throw mi=Kc,Uv}else e.flags&=-16777217}function yx(e,t){if(t.type!=="stylesheet"||t.state.loading&4)e.flags&=-16777217;else if(e.flags|=16777216,!YO(t))if(OO())e.flags|=8192;else throw mi=Kc,Uv}function $u(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Cj():536870912,e.lanes|=t,Bo|=t)}function Tl(e,t){if(!oe)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function ke(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&65011712,n|=a.flags&65011712,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function rD(e,t,r){var n=t.pendingProps;switch(Iv(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ke(t),null;case 1:return ke(t),null;case 3:return r=t.stateNode,n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),kn(Je),No(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Wi(t)?mn(t):e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,nm())),ke(t),null;case 26:var a=t.type,i=t.memoizedState;return e===null?(mn(t),i!==null?(ke(t),yx(t,i)):(ke(t),fm(t,a,null,n,r))):i?i!==e.memoizedState?(mn(t),ke(t),yx(t,i)):(ke(t),t.flags&=-16777217):(e=e.memoizedProps,e!==n&&mn(t),ke(t),fm(t,a,e,n,r)),null;case 27:if($c(t),r=ja.current,a=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==n&&mn(t);else{if(!n){if(t.stateNode===null)throw Error(B(166));return ke(t),null}e=on.current,Wi(t)?Gb(t):(e=KO(a,n,r),t.stateNode=e,mn(t))}return ke(t),null;case 5:if($c(t),a=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==n&&mn(t);else{if(!n){if(t.stateNode===null)throw Error(B(166));return ke(t),null}if(i=on.current,Wi(t))Gb(t);else{var o=od(ja.current);switch(i){case 1:i=o.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:i=o.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":i=o.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":i=o.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":i=o.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof n.is=="string"?o.createElement("select",{is:n.is}):o.createElement("select"),n.multiple?i.multiple=!0:n.size&&(i.size=n.size);break;default:i=typeof n.is=="string"?o.createElement(a,{is:n.is}):o.createElement(a)}}i[St]=t,i[Yt]=n;e:for(o=t.child;o!==null;){if(o.tag===5||o.tag===6)i.appendChild(o.stateNode);else if(o.tag!==4&&o.tag!==27&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===t)break e;for(;o.sibling===null;){if(o.return===null||o.return===t)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}t.stateNode=i;e:switch(Ct(i,a,n),a){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&mn(t)}}return ke(t),fm(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,r),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==n&&mn(t);else{if(typeof n!="string"&&t.stateNode===null)throw Error(B(166));if(e=ja.current,Wi(t)){if(e=t.stateNode,r=t.memoizedProps,n=null,a=jt,a!==null)switch(a.tag){case 27:case 5:n=a.memoizedProps}e[St]=t,e=!!(e.nodeValue===r||n!==null&&n.suppressHydrationWarning===!0||qO(e.nodeValue,r)),e||Da(t,!0)}else e=od(e).createTextNode(n),e[St]=t,t.stateNode=e}return ke(t),null;case 31:if(r=t.memoizedState,e===null||e.memoizedState!==null){if(n=Wi(t),r!==null){if(e===null){if(!n)throw Error(B(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(B(557));e[St]=t}else xi(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ke(t),e=!1}else r=nm(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=r),e=!0;if(!e)return t.flags&256?(nr(t),t):(nr(t),null);if(t.flags&128)throw Error(B(558))}return ke(t),null;case 13:if(n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(a=Wi(t),n!==null&&n.dehydrated!==null){if(e===null){if(!a)throw Error(B(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(B(317));a[St]=t}else xi(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ke(t),a=!1}else a=nm(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),a=!0;if(!a)return t.flags&256?(nr(t),t):(nr(t),null)}return nr(t),t.flags&128?(t.lanes=r,t):(r=n!==null,e=e!==null&&e.memoizedState!==null,r&&(n=t.child,a=null,n.alternate!==null&&n.alternate.memoizedState!==null&&n.alternate.memoizedState.cachePool!==null&&(a=n.alternate.memoizedState.cachePool.pool),i=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(i=n.memoizedState.cachePool.pool),i!==a&&(n.flags|=2048)),r!==e&&r&&(t.child.flags|=8192),$u(t,t.updateQueue),ke(t),null);case 4:return No(),e===null&&dy(t.stateNode.containerInfo),ke(t),null;case 10:return kn(t.type),ke(t),null;case 19:if(pt(Ve),n=t.memoizedState,n===null)return ke(t),null;if(a=(t.flags&128)!==0,i=n.rendering,i===null)if(a)Tl(n,!1);else{if(He!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=Fc(e),i!==null){for(t.flags|=128,Tl(n,!1),e=i.updateQueue,t.updateQueue=e,$u(t,e),t.subtreeFlags=0,e=r,r=t.child;r!==null;)nE(r,e),r=r.sibling;return Te(Ve,Ve.current&1|2),oe&&bn(t,n.treeForkCount),t.child}e=e.sibling}n.tail!==null&&cr()>ed&&(t.flags|=128,a=!0,Tl(n,!1),t.lanes=4194304)}else{if(!a)if(e=Fc(i),e!==null){if(t.flags|=128,a=!0,e=e.updateQueue,t.updateQueue=e,$u(t,e),Tl(n,!0),n.tail===null&&n.tailMode==="hidden"&&!i.alternate&&!oe)return ke(t),null}else 2*cr()-n.renderingStartTime>ed&&r!==536870912&&(t.flags|=128,a=!0,Tl(n,!1),t.lanes=4194304);n.isBackwards?(i.sibling=t.child,t.child=i):(e=n.last,e!==null?e.sibling=i:t.child=i,n.last=i)}return n.tail!==null?(e=n.tail,n.rendering=e,n.tail=e.sibling,n.renderingStartTime=cr(),e.sibling=null,r=Ve.current,Te(Ve,a?r&1|2:r&1),oe&&bn(t,n.treeForkCount),e):(ke(t),null);case 22:case 23:return nr(t),Hv(),n=t.memoizedState!==null,e!==null?e.memoizedState!==null!==n&&(t.flags|=8192):n&&(t.flags|=8192),n?r&536870912&&!(t.flags&128)&&(ke(t),t.subtreeFlags&6&&(t.flags|=8192)):ke(t),r=t.updateQueue,r!==null&&$u(t,r.retryQueue),r=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),n=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),n!==r&&(t.flags|=2048),e!==null&&pt(hi),null;case 24:return r=null,e!==null&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),kn(Je),ke(t),null;case 25:return null;case 30:return null}throw Error(B(156,t.tag))}function nD(e,t){switch(Iv(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return kn(Je),No(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return $c(t),null;case 31:if(t.memoizedState!==null){if(nr(t),t.alternate===null)throw Error(B(340));xi()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(nr(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(B(340));xi()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return pt(Ve),null;case 4:return No(),null;case 10:return kn(t.type),null;case 22:case 23:return nr(t),Hv(),e!==null&&pt(hi),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return kn(Je),null;case 25:return null;default:return null}}function nO(e,t){switch(Iv(t),t.tag){case 3:kn(Je),No();break;case 26:case 27:case 5:$c(t);break;case 4:No();break;case 31:t.memoizedState!==null&&nr(t);break;case 13:nr(t);break;case 19:pt(Ve);break;case 10:kn(t.type);break;case 22:case 23:nr(t),Hv(),e!==null&&pt(hi);break;case 24:kn(Je)}}function eu(e,t){try{var r=t.updateQueue,n=r!==null?r.lastEffect:null;if(n!==null){var a=n.next;r=a;do{if((r.tag&e)===e){n=void 0;var i=r.create,o=r.inst;n=i(),o.destroy=n}r=r.next}while(r!==a)}}catch(l){ve(t,t.return,l)}}function za(e,t,r){try{var n=t.updateQueue,a=n!==null?n.lastEffect:null;if(a!==null){var i=a.next;n=i;do{if((n.tag&e)===e){var o=n.inst,l=o.destroy;if(l!==void 0){o.destroy=void 0,a=t;var s=r,u=l;try{u()}catch(d){ve(a,s,d)}}}n=n.next}while(n!==i)}}catch(d){ve(t,t.return,d)}}function aO(e){var t=e.updateQueue;if(t!==null){var r=e.stateNode;try{hE(t,r)}catch(n){ve(e,e.return,n)}}}function iO(e,t,r){r.props=ji(e.type,e.memoizedProps),r.state=e.memoizedState;try{r.componentWillUnmount()}catch(n){ve(e,t,n)}}function ns(e,t){try{var r=e.ref;if(r!==null){switch(e.tag){case 26:case 27:case 5:var n=e.stateNode;break;case 30:n=e.stateNode;break;default:n=e.stateNode}typeof r=="function"?e.refCleanup=r(n):r.current=n}}catch(a){ve(e,t,a)}}function nn(e,t){var r=e.ref,n=e.refCleanup;if(r!==null)if(typeof n=="function")try{n()}catch(a){ve(e,t,a)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(a){ve(e,t,a)}else r.current=null}function oO(e){var t=e.type,r=e.memoizedProps,n=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":r.autoFocus&&n.focus();break e;case"img":r.src?n.src=r.src:r.srcSet&&(n.srcset=r.srcSet)}}catch(a){ve(e,e.return,a)}}function hm(e,t,r){try{var n=e.stateNode;ED(n,e.type,r,t),n[Yt]=t}catch(a){ve(e,e.return,a)}}function lO(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&La(e.type)||e.tag===4}function mm(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||lO(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&La(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Lp(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(e,t):(t=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,t.appendChild(e),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=En));else if(n!==4&&(n===27&&La(e.type)&&(r=e.stateNode,t=null),e=e.child,e!==null))for(Lp(e,t,r),e=e.sibling;e!==null;)Lp(e,t,r),e=e.sibling}function Qc(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(n===27&&La(e.type)&&(r=e.stateNode),e=e.child,e!==null))for(Qc(e,t,r),e=e.sibling;e!==null;)Qc(e,t,r),e=e.sibling}function sO(e){var t=e.stateNode,r=e.memoizedProps;try{for(var n=e.type,a=t.attributes;a.length;)t.removeAttributeNode(a[0]);Ct(t,n,r),t[St]=e,t[Yt]=r}catch(i){ve(e,e.return,i)}}var wn=!1,Ze=!1,pm=!1,bx=typeof WeakSet=="function"?WeakSet:Set,ht=null;function aD(e,t){if(e=e.containerInfo,Gp=cd,e=Yj(e),Rv(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,l=-1,s=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var m;f!==r||a!==0&&f.nodeType!==3||(l=o+a),f!==i||n!==0&&f.nodeType!==3||(s=o+n),f.nodeType===3&&(o+=f.nodeValue.length),(m=f.firstChild)!==null;)h=f,f=m;for(;;){if(f===e)break t;if(h===r&&++u===a&&(l=o),h===i&&++d===n&&(s=o),(m=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=m}r=l===-1||s===-1?null:{start:l,end:s}}else r=null}r=r||{start:0,end:0}}else r=null;for(Fp={focusedElem:e,selectionRange:r},cd=!1,ht=t;ht!==null;)if(t=ht,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ht=e;else for(;ht!==null;){switch(t=ht,i=t.alternate,e=t.flags,t.tag){case 0:if(e&4&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(r=0;r<e.length;r++)a=e[r],a.ref.impl=a.nextImpl;break;case 11:case 15:break;case 1:if(e&1024&&i!==null){e=void 0,r=t,a=i.memoizedProps,i=i.memoizedState,n=r.stateNode;try{var g=ji(r.type,a);e=n.getSnapshotBeforeUpdate(g,i),n.__reactInternalSnapshotBeforeUpdate=e}catch(b){ve(r,r.return,b)}}break;case 3:if(e&1024){if(e=t.stateNode.containerInfo,r=e.nodeType,r===9)Xp(e);else if(r===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Xp(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(e&1024)throw Error(B(163))}if(e=t.sibling,e!==null){e.return=t.return,ht=e;break}ht=t.return}}function uO(e,t,r){var n=r.flags;switch(r.tag){case 0:case 11:case 15:gn(e,r),n&4&&eu(5,r);break;case 1:if(gn(e,r),n&4)if(e=r.stateNode,t===null)try{e.componentDidMount()}catch(o){ve(r,r.return,o)}else{var a=ji(r.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(a,t,e.__reactInternalSnapshotBeforeUpdate)}catch(o){ve(r,r.return,o)}}n&64&&aO(r),n&512&&ns(r,r.return);break;case 3:if(gn(e,r),n&64&&(e=r.updateQueue,e!==null)){if(t=null,r.child!==null)switch(r.child.tag){case 27:case 5:t=r.child.stateNode;break;case 1:t=r.child.stateNode}try{hE(e,t)}catch(o){ve(r,r.return,o)}}break;case 27:t===null&&n&4&&sO(r);case 26:case 5:gn(e,r),t===null&&n&4&&oO(r),n&512&&ns(r,r.return);break;case 12:gn(e,r);break;case 31:gn(e,r),n&4&&fO(e,r);break;case 13:gn(e,r),n&4&&hO(e,r),n&64&&(e=r.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(r=hD.bind(null,r),RD(e,r))));break;case 22:if(n=r.memoizedState!==null||wn,!n){t=t!==null&&t.memoizedState!==null||Ze,a=wn;var i=Ze;wn=n,(Ze=t)&&!i?vn(e,r,(r.subtreeFlags&8772)!==0):gn(e,r),wn=a,Ze=i}break;case 30:break;default:gn(e,r)}}function cO(e){var t=e.alternate;t!==null&&(e.alternate=null,cO(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Cv(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ze=null,Wt=!1;function pn(e,t,r){for(r=r.child;r!==null;)dO(e,t,r),r=r.sibling}function dO(e,t,r){if(dr&&typeof dr.onCommitFiberUnmount=="function")try{dr.onCommitFiberUnmount(Gs,r)}catch{}switch(r.tag){case 26:Ze||nn(r,t),pn(e,t,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:Ze||nn(r,t);var n=ze,a=Wt;La(r.type)&&(ze=r.stateNode,Wt=!1),pn(e,t,r),ls(r.stateNode),ze=n,Wt=a;break;case 5:Ze||nn(r,t);case 6:if(n=ze,a=Wt,ze=null,pn(e,t,r),ze=n,Wt=a,ze!==null)if(Wt)try{(ze.nodeType===9?ze.body:ze.nodeName==="HTML"?ze.ownerDocument.body:ze).removeChild(r.stateNode)}catch(i){ve(r,t,i)}else try{ze.removeChild(r.stateNode)}catch(i){ve(r,t,i)}break;case 18:ze!==null&&(Wt?(e=ze,Px(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,r.stateNode),Uo(e)):Px(ze,r.stateNode));break;case 4:n=ze,a=Wt,ze=r.stateNode.containerInfo,Wt=!0,pn(e,t,r),ze=n,Wt=a;break;case 0:case 11:case 14:case 15:za(2,r,t),Ze||za(4,r,t),pn(e,t,r);break;case 1:Ze||(nn(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"&&iO(r,t,n)),pn(e,t,r);break;case 21:pn(e,t,r);break;case 22:Ze=(n=Ze)||r.memoizedState!==null,pn(e,t,r),Ze=n;break;default:pn(e,t,r)}}function fO(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Uo(e)}catch(r){ve(t,t.return,r)}}}function hO(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Uo(e)}catch(r){ve(t,t.return,r)}}function iD(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new bx),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new bx),t;default:throw Error(B(435,e.tag))}}function Lu(e,t){var r=iD(e);t.forEach(function(n){if(!r.has(n)){r.add(n);var a=mD.bind(null,e,n);n.then(a,a)}})}function qt(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n],i=e,o=t,l=o;e:for(;l!==null;){switch(l.tag){case 27:if(La(l.type)){ze=l.stateNode,Wt=!1;break e}break;case 5:ze=l.stateNode,Wt=!1;break e;case 3:case 4:ze=l.stateNode.containerInfo,Wt=!0;break e}l=l.return}if(ze===null)throw Error(B(160));dO(i,o,a),ze=null,Wt=!1,i=a.alternate,i!==null&&(i.return=null),a.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)mO(t,e),t=t.sibling}var qr=null;function mO(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:qt(t,e),Ht(e),n&4&&(za(3,e,e.return),eu(3,e),za(5,e,e.return));break;case 1:qt(t,e),Ht(e),n&512&&(Ze||r===null||nn(r,r.return)),n&64&&wn&&(e=e.updateQueue,e!==null&&(n=e.callbacks,n!==null&&(r=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=r===null?n:r.concat(n))));break;case 26:var a=qr;if(qt(t,e),Ht(e),n&512&&(Ze||r===null||nn(r,r.return)),n&4){var i=r!==null?r.memoizedState:null;if(n=e.memoizedState,r===null)if(n===null)if(e.stateNode===null){e:{n=e.type,r=e.memoizedProps,a=a.ownerDocument||a;t:switch(n){case"title":i=a.getElementsByTagName("title")[0],(!i||i[Xs]||i[St]||i.namespaceURI==="http://www.w3.org/2000/svg"||i.hasAttribute("itemprop"))&&(i=a.createElement(n),a.head.insertBefore(i,a.querySelector("head > title"))),Ct(i,n,r),i[St]=e,mt(i),n=i;break e;case"link":var o=$x("link","href",a).get(n+(r.href||""));if(o){for(var l=0;l<o.length;l++)if(i=o[l],i.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&i.getAttribute("rel")===(r.rel==null?null:r.rel)&&i.getAttribute("title")===(r.title==null?null:r.title)&&i.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){o.splice(l,1);break t}}i=a.createElement(n),Ct(i,n,r),a.head.appendChild(i);break;case"meta":if(o=$x("meta","content",a).get(n+(r.content||""))){for(l=0;l<o.length;l++)if(i=o[l],i.getAttribute("content")===(r.content==null?null:""+r.content)&&i.getAttribute("name")===(r.name==null?null:r.name)&&i.getAttribute("property")===(r.property==null?null:r.property)&&i.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&i.getAttribute("charset")===(r.charSet==null?null:r.charSet)){o.splice(l,1);break t}}i=a.createElement(n),Ct(i,n,r),a.head.appendChild(i);break;default:throw Error(B(468,n))}i[St]=e,mt(i),n=i}e.stateNode=n}else Lx(a,e.type,e.stateNode);else e.stateNode=Ix(a,n,e.memoizedProps);else i!==n?(i===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):i.count--,n===null?Lx(a,e.type,e.stateNode):Ix(a,n,e.memoizedProps)):n===null&&e.stateNode!==null&&hm(e,e.memoizedProps,r.memoizedProps)}break;case 27:qt(t,e),Ht(e),n&512&&(Ze||r===null||nn(r,r.return)),r!==null&&n&4&&hm(e,e.memoizedProps,r.memoizedProps);break;case 5:if(qt(t,e),Ht(e),n&512&&(Ze||r===null||nn(r,r.return)),e.flags&32){a=e.stateNode;try{Ro(a,"")}catch(g){ve(e,e.return,g)}}n&4&&e.stateNode!=null&&(a=e.memoizedProps,hm(e,a,r!==null?r.memoizedProps:a)),n&1024&&(pm=!0);break;case 6:if(qt(t,e),Ht(e),n&4){if(e.stateNode===null)throw Error(B(162));n=e.memoizedProps,r=e.stateNode;try{r.nodeValue=n}catch(g){ve(e,e.return,g)}}break;case 3:if(Tc=null,a=qr,qr=ld(t.containerInfo),qt(t,e),qr=a,Ht(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Uo(t.containerInfo)}catch(g){ve(e,e.return,g)}pm&&(pm=!1,pO(e));break;case 4:n=qr,qr=ld(e.stateNode.containerInfo),qt(t,e),Ht(e),qr=n;break;case 12:qt(t,e),Ht(e);break;case 31:qt(t,e),Ht(e),n&4&&(n=e.updateQueue,n!==null&&(e.updateQueue=null,Lu(e,n)));break;case 13:qt(t,e),Ht(e),e.child.flags&8192&&e.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(Of=cr()),n&4&&(n=e.updateQueue,n!==null&&(e.updateQueue=null,Lu(e,n)));break;case 22:a=e.memoizedState!==null;var s=r!==null&&r.memoizedState!==null,u=wn,d=Ze;if(wn=u||a,Ze=d||s,qt(t,e),Ze=d,wn=u,Ht(e),n&8192)e:for(t=e.stateNode,t._visibility=a?t._visibility&-2:t._visibility|1,a&&(r===null||s||wn||Ze||Qa(e)),r=null,t=e;;){if(t.tag===5||t.tag===26){if(r===null){s=r=t;try{if(i=s.stateNode,a)o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none";else{l=s.stateNode;var f=s.memoizedProps.style,h=f!=null&&f.hasOwnProperty("display")?f.display:null;l.style.display=h==null||typeof h=="boolean"?"":(""+h).trim()}}catch(g){ve(s,s.return,g)}}}else if(t.tag===6){if(r===null){s=t;try{s.stateNode.nodeValue=a?"":s.memoizedProps}catch(g){ve(s,s.return,g)}}}else if(t.tag===18){if(r===null){s=t;try{var m=s.stateNode;a?Rx(m,!0):Rx(s.stateNode,!1)}catch(g){ve(s,s.return,g)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;r===t&&(r=null),t=t.return}r===t&&(r=null),t.sibling.return=t.return,t=t.sibling}n&4&&(n=e.updateQueue,n!==null&&(r=n.retryQueue,r!==null&&(n.retryQueue=null,Lu(e,r))));break;case 19:qt(t,e),Ht(e),n&4&&(n=e.updateQueue,n!==null&&(e.updateQueue=null,Lu(e,n)));break;case 30:break;case 21:break;default:qt(t,e),Ht(e)}}function Ht(e){var t=e.flags;if(t&2){try{for(var r,n=e.return;n!==null;){if(lO(n)){r=n;break}n=n.return}if(r==null)throw Error(B(160));switch(r.tag){case 27:var a=r.stateNode,i=mm(e);Qc(e,i,a);break;case 5:var o=r.stateNode;r.flags&32&&(Ro(o,""),r.flags&=-33);var l=mm(e);Qc(e,l,o);break;case 3:case 4:var s=r.stateNode.containerInfo,u=mm(e);Lp(e,u,s);break;default:throw Error(B(161))}}catch(d){ve(e,e.return,d)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function pO(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;pO(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function gn(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)uO(e,t.alternate,t),t=t.sibling}function Qa(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:za(4,t,t.return),Qa(t);break;case 1:nn(t,t.return);var r=t.stateNode;typeof r.componentWillUnmount=="function"&&iO(t,t.return,r),Qa(t);break;case 27:ls(t.stateNode);case 26:case 5:nn(t,t.return),Qa(t);break;case 22:t.memoizedState===null&&Qa(t);break;case 30:Qa(t);break;default:Qa(t)}e=e.sibling}}function vn(e,t,r){for(r=r&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var n=t.alternate,a=e,i=t,o=i.flags;switch(i.tag){case 0:case 11:case 15:vn(a,i,r),eu(4,i);break;case 1:if(vn(a,i,r),n=i,a=n.stateNode,typeof a.componentDidMount=="function")try{a.componentDidMount()}catch(u){ve(n,n.return,u)}if(n=i,a=n.updateQueue,a!==null){var l=n.stateNode;try{var s=a.shared.hiddenCallbacks;if(s!==null)for(a.shared.hiddenCallbacks=null,a=0;a<s.length;a++)fE(s[a],l)}catch(u){ve(n,n.return,u)}}r&&o&64&&aO(i),ns(i,i.return);break;case 27:sO(i);case 26:case 5:vn(a,i,r),r&&n===null&&o&4&&oO(i),ns(i,i.return);break;case 12:vn(a,i,r);break;case 31:vn(a,i,r),r&&o&4&&fO(a,i);break;case 13:vn(a,i,r),r&&o&4&&hO(a,i);break;case 22:i.memoizedState===null&&vn(a,i,r),ns(i,i.return);break;case 30:break;default:vn(a,i,r)}t=t.sibling}}function iy(e,t){var r=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==r&&(e!=null&&e.refCount++,r!=null&&Js(r))}function oy(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Js(e))}function Ir(e,t,r,n){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)gO(e,t,r,n),t=t.sibling}function gO(e,t,r,n){var a=t.flags;switch(t.tag){case 0:case 11:case 15:Ir(e,t,r,n),a&2048&&eu(9,t);break;case 1:Ir(e,t,r,n);break;case 3:Ir(e,t,r,n),a&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Js(e)));break;case 12:if(a&2048){Ir(e,t,r,n),e=t.stateNode;try{var i=t.memoizedProps,o=i.id,l=i.onPostCommit;typeof l=="function"&&l(o,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(s){ve(t,t.return,s)}}else Ir(e,t,r,n);break;case 31:Ir(e,t,r,n);break;case 13:Ir(e,t,r,n);break;case 23:break;case 22:i=t.stateNode,o=t.alternate,t.memoizedState!==null?i._visibility&2?Ir(e,t,r,n):as(e,t):i._visibility&2?Ir(e,t,r,n):(i._visibility|=2,to(e,t,r,n,(t.subtreeFlags&10256)!==0||!1)),a&2048&&iy(o,t);break;case 24:Ir(e,t,r,n),a&2048&&oy(t.alternate,t);break;default:Ir(e,t,r,n)}}function to(e,t,r,n,a){for(a=a&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var i=e,o=t,l=r,s=n,u=o.flags;switch(o.tag){case 0:case 11:case 15:to(i,o,l,s,a),eu(8,o);break;case 23:break;case 22:var d=o.stateNode;o.memoizedState!==null?d._visibility&2?to(i,o,l,s,a):as(i,o):(d._visibility|=2,to(i,o,l,s,a)),a&&u&2048&&iy(o.alternate,o);break;case 24:to(i,o,l,s,a),a&&u&2048&&oy(o.alternate,o);break;default:to(i,o,l,s,a)}t=t.sibling}}function as(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var r=e,n=t,a=n.flags;switch(n.tag){case 22:as(r,n),a&2048&&iy(n.alternate,n);break;case 24:as(r,n),a&2048&&oy(n.alternate,n);break;default:as(r,n)}t=t.sibling}}var Wl=8192;function Vi(e,t,r){if(e.subtreeFlags&Wl)for(e=e.child;e!==null;)vO(e,t,r),e=e.sibling}function vO(e,t,r){switch(e.tag){case 26:Vi(e,t,r),e.flags&Wl&&e.memoizedState!==null&&VD(r,qr,e.memoizedState,e.memoizedProps);break;case 5:Vi(e,t,r);break;case 3:case 4:var n=qr;qr=ld(e.stateNode.containerInfo),Vi(e,t,r),qr=n;break;case 22:e.memoizedState===null&&(n=e.alternate,n!==null&&n.memoizedState!==null?(n=Wl,Wl=16777216,Vi(e,t,r),Wl=n):Vi(e,t,r));break;default:Vi(e,t,r)}}function yO(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function kl(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var r=0;r<t.length;r++){var n=t[r];ht=n,xO(n,e)}yO(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)bO(e),e=e.sibling}function bO(e){switch(e.tag){case 0:case 11:case 15:kl(e),e.flags&2048&&za(9,e,e.return);break;case 3:kl(e);break;case 12:kl(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Cc(e)):kl(e);break;default:kl(e)}}function Cc(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var r=0;r<t.length;r++){var n=t[r];ht=n,xO(n,e)}yO(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:za(8,t,t.return),Cc(t);break;case 22:r=t.stateNode,r._visibility&2&&(r._visibility&=-3,Cc(t));break;default:Cc(t)}e=e.sibling}}function xO(e,t){for(;ht!==null;){var r=ht;switch(r.tag){case 0:case 11:case 15:za(8,r,t);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var n=r.memoizedState.cachePool.pool;n!=null&&n.refCount++}break;case 24:Js(r.memoizedState.cache)}if(n=r.child,n!==null)n.return=r,ht=n;else e:for(r=e;ht!==null;){n=ht;var a=n.sibling,i=n.return;if(cO(n),n===r){ht=null;break e}if(a!==null){a.return=i,ht=a;break e}ht=i}}}var oD={getCacheForType:function(e){var t=Et(Je),r=t.data.get(e);return r===void 0&&(r=e(),t.data.set(e,r)),r},cacheSignal:function(){return Et(Je).controller.signal}},lD=typeof WeakMap=="function"?WeakMap:Map,he=0,_e=null,ae=null,ie=0,pe=0,tr=null,ba=!1,ol=!1,ly=!1,In=0,He=0,Ba=0,pi=0,sy=0,sr=0,Bo=0,is=null,Vt=null,Up=!1,Of=0,wO=0,ed=1/0,td=null,Aa=null,at=0,Ta=null,Io=null,Nn=0,qp=0,Hp=null,_O=null,os=0,Wp=null;function hr(){return he&2&&ie!==0?ie&-ie:Q.T!==null?cy():Nj()}function SO(){if(sr===0)if(!(ie&536870912)||oe){var e=Pu;Pu<<=1,!(Pu&3932160)&&(Pu=262144),sr=e}else sr=536870912;return e=gr.current,e!==null&&(e.flags|=32),sr}function Ft(e,t,r){(e===_e&&(pe===2||pe===9)||e.cancelPendingCommit!==null)&&($o(e,0),xa(e,ie,sr,!1)),Ys(e,r),(!(he&2)||e!==_e)&&(e===_e&&(!(he&2)&&(pi|=r),He===4&&xa(e,ie,sr,!1)),fn(e))}function jO(e,t,r){if(he&6)throw Error(B(327));var n=!r&&(t&127)===0&&(t&e.expiredLanes)===0||Fs(e,t),a=n?cD(e,t):gm(e,t,!0),i=n;do{if(a===0){ol&&!n&&xa(e,t,0,!1);break}else{if(r=e.current.alternate,i&&!sD(r)){a=gm(e,t,!1),i=!1;continue}if(a===2){if(i=t,e.errorRecoveryDisabledLanes&i)var o=0;else o=e.pendingLanes&-536870913,o=o!==0?o:o&536870912?536870912:0;if(o!==0){t=o;e:{var l=e;a=is;var s=l.current.memoizedState.isDehydrated;if(s&&($o(l,o).flags|=256),o=gm(l,o,!1),o!==2){if(ly&&!s){l.errorRecoveryDisabledLanes|=i,pi|=i,a=4;break e}i=Vt,Vt=a,i!==null&&(Vt===null?Vt=i:Vt.push.apply(Vt,i))}a=o}if(i=!1,a!==2)continue}}if(a===1){$o(e,0),xa(e,t,0,!0);break}e:{switch(n=e,i=a,i){case 0:case 1:throw Error(B(345));case 4:if((t&4194048)!==t)break;case 6:xa(n,t,sr,!ba);break e;case 2:Vt=null;break;case 3:case 5:break;default:throw Error(B(329))}if((t&62914560)===t&&(a=Of+300-cr(),10<a)){if(xa(n,t,sr,!ba),pf(n,0,!0)!==0)break e;Nn=t,n.timeoutHandle=WO(xx.bind(null,n,r,Vt,td,Up,t,sr,pi,Bo,ba,i,"Throttled",-0,0),a);break e}xx(n,r,Vt,td,Up,t,sr,pi,Bo,ba,i,null,-0,0)}}break}while(!0);fn(e)}function xx(e,t,r,n,a,i,o,l,s,u,d,f,h,m){if(e.timeoutHandle=-1,f=t.subtreeFlags,f&8192||(f&16785408)===16785408){f={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:En},vO(t,i,f);var g=(i&62914560)===i?Of-cr():(i&4194048)===i?wO-cr():0;if(g=KD(f,g),g!==null){Nn=i,e.cancelPendingCommit=g(_x.bind(null,e,t,i,r,n,a,o,l,s,d,f,null,h,m)),xa(e,i,o,!u);return}}_x(e,t,i,r,n,a,o,l,s)}function sD(e){for(var t=e;;){var r=t.tag;if((r===0||r===11||r===15)&&t.flags&16384&&(r=t.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var n=0;n<r.length;n++){var a=r[n],i=a.getSnapshot;a=a.value;try{if(!pr(i(),a))return!1}catch{return!1}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function xa(e,t,r,n){t&=~sy,t&=~pi,e.suspendedLanes|=t,e.pingedLanes&=~t,n&&(e.warmLanes|=t),n=e.expirationTimes;for(var a=t;0<a;){var i=31-fr(a),o=1<<i;n[i]=-1,a&=~o}r!==0&&Aj(e,r,t)}function Cf(){return he&6?!0:(tu(0),!1)}function uy(){if(ae!==null){if(pe===0)var e=ae.return;else e=ae,On=Bi=null,Fv(e),Eo=null,ys=0,e=ae;for(;e!==null;)nO(e.alternate,e),e=e.return;ae=null}}function $o(e,t){var r=e.timeoutHandle;r!==-1&&(e.timeoutHandle=-1,AD(r)),r=e.cancelPendingCommit,r!==null&&(e.cancelPendingCommit=null,r()),Nn=0,uy(),_e=e,ae=r=Tn(e.current,null),ie=t,pe=0,tr=null,ba=!1,ol=Fs(e,t),ly=!1,Bo=sr=sy=pi=Ba=He=0,Vt=is=null,Up=!1,t&8&&(t|=t&32);var n=e.entangledLanes;if(n!==0)for(e=e.entanglements,n&=t;0<n;){var a=31-fr(n),i=1<<a;t|=e[a],n&=~i}return In=t,bf(),r}function EO(e,t){re=null,Q.H=xs,t===il||t===wf?(t=Jb(),pe=3):t===Uv?(t=Jb(),pe=4):pe=t===ny?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,tr=t,ae===null&&(He=1,Zc(e,Cr(t,e.current)))}function OO(){var e=gr.current;return e===null?!0:(ie&4194048)===ie?kr===null:(ie&62914560)===ie||ie&536870912?e===kr:!1}function CO(){var e=Q.H;return Q.H=xs,e===null?xs:e}function AO(){var e=Q.A;return Q.A=oD,e}function rd(){He=4,ba||(ie&4194048)!==ie&&gr.current!==null||(ol=!0),!(Ba&134217727)&&!(pi&134217727)||_e===null||xa(_e,ie,sr,!1)}function gm(e,t,r){var n=he;he|=2;var a=CO(),i=AO();(_e!==e||ie!==t)&&(td=null,$o(e,t)),t=!1;var o=He;e:do try{if(pe!==0&&ae!==null){var l=ae,s=tr;switch(pe){case 8:uy(),o=6;break e;case 3:case 2:case 9:case 6:gr.current===null&&(t=!0);var u=pe;if(pe=0,tr=null,yo(e,l,s,u),r&&ol){o=0;break e}break;default:u=pe,pe=0,tr=null,yo(e,l,s,u)}}uD(),o=He;break}catch(d){EO(e,d)}while(!0);return t&&e.shellSuspendCounter++,On=Bi=null,he=n,Q.H=a,Q.A=i,ae===null&&(_e=null,ie=0,bf()),o}function uD(){for(;ae!==null;)TO(ae)}function cD(e,t){var r=he;he|=2;var n=CO(),a=AO();_e!==e||ie!==t?(td=null,ed=cr()+500,$o(e,t)):ol=Fs(e,t);e:do try{if(pe!==0&&ae!==null){t=ae;var i=tr;t:switch(pe){case 1:pe=0,tr=null,yo(e,t,i,1);break;case 2:case 9:if(Zb(i)){pe=0,tr=null,wx(t);break}t=function(){pe!==2&&pe!==9||_e!==e||(pe=7),fn(e)},i.then(t,t);break e;case 3:pe=7;break e;case 4:pe=5;break e;case 7:Zb(i)?(pe=0,tr=null,wx(t)):(pe=0,tr=null,yo(e,t,i,7));break;case 5:var o=null;switch(ae.tag){case 26:o=ae.memoizedState;case 5:case 27:var l=ae;if(o?YO(o):l.stateNode.complete){pe=0,tr=null;var s=l.sibling;if(s!==null)ae=s;else{var u=l.return;u!==null?(ae=u,Af(u)):ae=null}break t}}pe=0,tr=null,yo(e,t,i,5);break;case 6:pe=0,tr=null,yo(e,t,i,6);break;case 8:uy(),He=6;break e;default:throw Error(B(462))}}dD();break}catch(d){EO(e,d)}while(!0);return On=Bi=null,Q.H=n,Q.A=a,he=r,ae!==null?0:(_e=null,ie=0,bf(),He)}function dD(){for(;ae!==null&&!MR();)TO(ae)}function TO(e){var t=rO(e.alternate,e,In);e.memoizedProps=e.pendingProps,t===null?Af(e):ae=t}function wx(e){var t=e,r=t.alternate;switch(t.tag){case 15:case 0:t=mx(r,t,t.pendingProps,t.type,void 0,ie);break;case 11:t=mx(r,t,t.pendingProps,t.type.render,t.ref,ie);break;case 5:Fv(t);default:nO(r,t),t=ae=nE(t,In),t=rO(r,t,In)}e.memoizedProps=e.pendingProps,t===null?Af(e):ae=t}function yo(e,t,r,n){On=Bi=null,Fv(t),Eo=null,ys=0;var a=t.return;try{if(QM(e,a,t,r,ie)){He=1,Zc(e,Cr(r,e.current)),ae=null;return}}catch(i){if(a!==null)throw ae=a,i;He=1,Zc(e,Cr(r,e.current)),ae=null;return}t.flags&32768?(oe||n===1?e=!0:ol||ie&536870912?e=!1:(ba=e=!0,(n===2||n===9||n===3||n===6)&&(n=gr.current,n!==null&&n.tag===13&&(n.flags|=16384))),kO(t,e)):Af(t)}function Af(e){var t=e;do{if(t.flags&32768){kO(t,ba);return}e=t.return;var r=rD(t.alternate,t,In);if(r!==null){ae=r;return}if(t=t.sibling,t!==null){ae=t;return}ae=t=e}while(t!==null);He===0&&(He=5)}function kO(e,t){do{var r=nD(e.alternate,e);if(r!==null){r.flags&=32767,ae=r;return}if(r=e.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!t&&(e=e.sibling,e!==null)){ae=e;return}ae=e=r}while(e!==null);He=6,ae=null}function _x(e,t,r,n,a,i,o,l,s){e.cancelPendingCommit=null;do Tf();while(at!==0);if(he&6)throw Error(B(327));if(t!==null){if(t===e.current)throw Error(B(177));if(i=t.lanes|t.childLanes,i|=Mv,WR(e,r,i,o,l,s),e===_e&&(ae=_e=null,ie=0),Io=t,Ta=e,Nn=r,qp=i,Hp=a,_O=n,t.subtreeFlags&10256||t.flags&10256?(e.callbackNode=null,e.callbackPriority=0,pD(Lc,function(){return DO(),null})):(e.callbackNode=null,e.callbackPriority=0),n=(t.flags&13878)!==0,t.subtreeFlags&13878||n){n=Q.T,Q.T=null,a=me.p,me.p=2,o=he,he|=4;try{aD(e,t,r)}finally{he=o,me.p=a,Q.T=n}}at=1,NO(),PO(),RO()}}function NO(){if(at===1){at=0;var e=Ta,t=Io,r=(t.flags&13878)!==0;if(t.subtreeFlags&13878||r){r=Q.T,Q.T=null;var n=me.p;me.p=2;var a=he;he|=4;try{mO(t,e);var i=Fp,o=Yj(e.containerInfo),l=i.focusedElem,s=i.selectionRange;if(o!==l&&l&&l.ownerDocument&&Fj(l.ownerDocument.documentElement,l)){if(s!==null&&Rv(l)){var u=s.start,d=s.end;if(d===void 0&&(d=u),"selectionStart"in l)l.selectionStart=u,l.selectionEnd=Math.min(d,l.value.length);else{var f=l.ownerDocument||document,h=f&&f.defaultView||window;if(h.getSelection){var m=h.getSelection(),g=l.textContent.length,b=Math.min(s.start,g),y=s.end===void 0?b:Math.min(s.end,g);!m.extend&&b>y&&(o=y,y=b,b=o);var v=Wb(l,b),p=Wb(l,y);if(v&&p&&(m.rangeCount!==1||m.anchorNode!==v.node||m.anchorOffset!==v.offset||m.focusNode!==p.node||m.focusOffset!==p.offset)){var w=f.createRange();w.setStart(v.node,v.offset),m.removeAllRanges(),b>y?(m.addRange(w),m.extend(p.node,p.offset)):(w.setEnd(p.node,p.offset),m.addRange(w))}}}}for(f=[],m=l;m=m.parentNode;)m.nodeType===1&&f.push({element:m,left:m.scrollLeft,top:m.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<f.length;l++){var _=f[l];_.element.scrollLeft=_.left,_.element.scrollTop=_.top}}cd=!!Gp,Fp=Gp=null}finally{he=a,me.p=n,Q.T=r}}e.current=t,at=2}}function PO(){if(at===2){at=0;var e=Ta,t=Io,r=(t.flags&8772)!==0;if(t.subtreeFlags&8772||r){r=Q.T,Q.T=null;var n=me.p;me.p=2;var a=he;he|=4;try{uO(e,t.alternate,t)}finally{he=a,me.p=n,Q.T=r}}at=3}}function RO(){if(at===4||at===3){at=0,DR();var e=Ta,t=Io,r=Nn,n=_O;t.subtreeFlags&10256||t.flags&10256?at=5:(at=0,Io=Ta=null,MO(e,e.pendingLanes));var a=e.pendingLanes;if(a===0&&(Aa=null),Ov(r),t=t.stateNode,dr&&typeof dr.onCommitFiberRoot=="function")try{dr.onCommitFiberRoot(Gs,t,void 0,(t.current.flags&128)===128)}catch{}if(n!==null){t=Q.T,a=me.p,me.p=2,Q.T=null;try{for(var i=e.onRecoverableError,o=0;o<n.length;o++){var l=n[o];i(l.value,{componentStack:l.stack})}}finally{Q.T=t,me.p=a}}Nn&3&&Tf(),fn(e),a=e.pendingLanes,r&261930&&a&42?e===Wp?os++:(os=0,Wp=e):os=0,tu(0)}}function MO(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Js(t)))}function Tf(){return NO(),PO(),RO(),DO()}function DO(){if(at!==5)return!1;var e=Ta,t=qp;qp=0;var r=Ov(Nn),n=Q.T,a=me.p;try{me.p=32>r?32:r,Q.T=null,r=Hp,Hp=null;var i=Ta,o=Nn;if(at=0,Io=Ta=null,Nn=0,he&6)throw Error(B(331));var l=he;if(he|=4,bO(i.current),gO(i,i.current,o,r),he=l,tu(0,!1),dr&&typeof dr.onPostCommitFiberRoot=="function")try{dr.onPostCommitFiberRoot(Gs,i)}catch{}return!0}finally{me.p=a,Q.T=n,MO(e,t)}}function Sx(e,t,r){t=Cr(r,t),t=Bp(e.stateNode,t,2),e=Ca(e,t,2),e!==null&&(Ys(e,2),fn(e))}function ve(e,t,r){if(e.tag===3)Sx(e,e,r);else for(;t!==null;){if(t.tag===3){Sx(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Aa===null||!Aa.has(n))){e=Cr(r,e),r=XE(2),n=Ca(t,r,2),n!==null&&(ZE(r,n,t,e),Ys(n,2),fn(n));break}}t=t.return}}function vm(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new lD;var a=new Set;n.set(t,a)}else a=n.get(t),a===void 0&&(a=new Set,n.set(t,a));a.has(r)||(ly=!0,a.add(r),e=fD.bind(null,e,t,r),t.then(e,e))}function fD(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),e.pingedLanes|=e.suspendedLanes&r,e.warmLanes&=~r,_e===e&&(ie&r)===r&&(He===4||He===3&&(ie&62914560)===ie&&300>cr()-Of?!(he&2)&&$o(e,0):sy|=r,Bo===ie&&(Bo=0)),fn(e)}function zO(e,t){t===0&&(t=Cj()),e=zi(e,t),e!==null&&(Ys(e,t),fn(e))}function hD(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),zO(e,r)}function mD(e,t){var r=0;switch(e.tag){case 31:case 13:var n=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=e.stateNode;break;case 22:n=e.stateNode._retryCache;break;default:throw Error(B(314))}n!==null&&n.delete(t),zO(e,r)}function pD(e,t){return jv(e,t)}var nd=null,ro=null,Vp=!1,ad=!1,ym=!1,wa=0;function fn(e){e!==ro&&e.next===null&&(ro===null?nd=ro=e:ro=ro.next=e),ad=!0,Vp||(Vp=!0,vD())}function tu(e,t){if(!ym&&ad){ym=!0;do for(var r=!1,n=nd;n!==null;){if(e!==0){var a=n.pendingLanes;if(a===0)var i=0;else{var o=n.suspendedLanes,l=n.pingedLanes;i=(1<<31-fr(42|e)+1)-1,i&=a&~(o&~l),i=i&201326741?i&201326741|1:i?i|2:0}i!==0&&(r=!0,jx(n,i))}else i=ie,i=pf(n,n===_e?i:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),!(i&3)||Fs(n,i)||(r=!0,jx(n,i));n=n.next}while(r);ym=!1}}function gD(){BO()}function BO(){ad=Vp=!1;var e=0;wa!==0&&CD()&&(e=wa);for(var t=cr(),r=null,n=nd;n!==null;){var a=n.next,i=IO(n,t);i===0?(n.next=null,r===null?nd=a:r.next=a,a===null&&(ro=r)):(r=n,(e!==0||i&3)&&(ad=!0)),n=a}at!==0&&at!==5||tu(e),wa!==0&&(wa=0)}function IO(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes&-62914561;0<i;){var o=31-fr(i),l=1<<o,s=a[o];s===-1?(!(l&r)||l&n)&&(a[o]=HR(l,t)):s<=t&&(e.expiredLanes|=l),i&=~l}if(t=_e,r=ie,r=pf(e,e===t?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),n=e.callbackNode,r===0||e===t&&(pe===2||pe===9)||e.cancelPendingCommit!==null)return n!==null&&n!==null&&Kh(n),e.callbackNode=null,e.callbackPriority=0;if(!(r&3)||Fs(e,r)){if(t=r&-r,t===e.callbackPriority)return t;switch(n!==null&&Kh(n),Ov(r)){case 2:case 8:r=Ej;break;case 32:r=Lc;break;case 268435456:r=Oj;break;default:r=Lc}return n=$O.bind(null,e),r=jv(r,n),e.callbackPriority=t,e.callbackNode=r,t}return n!==null&&n!==null&&Kh(n),e.callbackPriority=2,e.callbackNode=null,2}function $O(e,t){if(at!==0&&at!==5)return e.callbackNode=null,e.callbackPriority=0,null;var r=e.callbackNode;if(Tf()&&e.callbackNode!==r)return null;var n=ie;return n=pf(e,e===_e?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),n===0?null:(jO(e,n,t),IO(e,cr()),e.callbackNode!=null&&e.callbackNode===r?$O.bind(null,e):null)}function jx(e,t){if(Tf())return null;jO(e,t,!0)}function vD(){TD(function(){he&6?jv(jj,gD):BO()})}function cy(){if(wa===0){var e=Mo;e===0&&(e=Nu,Nu<<=1,!(Nu&261888)&&(Nu=256)),wa=e}return wa}function Ex(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:yc(""+e)}function Ox(e,t){var r=t.ownerDocument.createElement("input");return r.name=t.name,r.value=t.value,e.id&&r.setAttribute("form",e.id),t.parentNode.insertBefore(r,t),e=new FormData(e),r.parentNode.removeChild(r),e}function yD(e,t,r,n,a){if(t==="submit"&&r&&r.stateNode===a){var i=Ex((a[Yt]||null).action),o=n.submitter;o&&(t=(t=o[Yt]||null)?Ex(t.formAction):o.getAttribute("formAction"),t!==null&&(i=t,o=null));var l=new gf("action","action",null,n,a);e.push({event:l,listeners:[{instance:null,listener:function(){if(n.defaultPrevented){if(wa!==0){var s=o?Ox(a,o):new FormData(a);Dp(r,{pending:!0,data:s,method:a.method,action:i},null,s)}}else typeof i=="function"&&(l.preventDefault(),s=o?Ox(a,o):new FormData(a),Dp(r,{pending:!0,data:s,method:a.method,action:i},i,s))},currentTarget:a}]})}}for(var bm=0;bm<Sp.length;bm++){var xm=Sp[bm],bD=xm.toLowerCase(),xD=xm[0].toUpperCase()+xm.slice(1);Zr(bD,"on"+xD)}Zr(Zj,"onAnimationEnd");Zr(Jj,"onAnimationIteration");Zr(Qj,"onAnimationStart");Zr("dblclick","onDoubleClick");Zr("focusin","onFocus");Zr("focusout","onBlur");Zr(zM,"onTransitionRun");Zr(BM,"onTransitionStart");Zr(IM,"onTransitionCancel");Zr(eE,"onTransitionEnd");Po("onMouseEnter",["mouseout","mouseover"]);Po("onMouseLeave",["mouseout","mouseover"]);Po("onPointerEnter",["pointerout","pointerover"]);Po("onPointerLeave",["pointerout","pointerover"]);Ri("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ri("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ri("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ri("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ri("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ri("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ws="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),wD=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ws));function LO(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var o=n.length-1;0<=o;o--){var l=n[o],s=l.instance,u=l.currentTarget;if(l=l.listener,s!==i&&a.isPropagationStopped())break e;i=l,a.currentTarget=u;try{i(a)}catch(d){qc(d)}a.currentTarget=null,i=s}else for(o=0;o<n.length;o++){if(l=n[o],s=l.instance,u=l.currentTarget,l=l.listener,s!==i&&a.isPropagationStopped())break e;i=l,a.currentTarget=u;try{i(a)}catch(d){qc(d)}a.currentTarget=null,i=s}}}}function ne(e,t){var r=t[pp];r===void 0&&(r=t[pp]=new Set);var n=e+"__bubble";r.has(n)||(UO(t,e,2,!1),r.add(n))}function wm(e,t,r){var n=0;t&&(n|=4),UO(r,e,n,t)}var Uu="_reactListening"+Math.random().toString(36).slice(2);function dy(e){if(!e[Uu]){e[Uu]=!0,Pj.forEach(function(r){r!=="selectionchange"&&(wD.has(r)||wm(r,!1,e),wm(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Uu]||(t[Uu]=!0,wm("selectionchange",!1,t))}}function UO(e,t,r,n){switch(eC(t)){case 2:var a=YD;break;case 8:a=XD;break;default:a=py}r=a.bind(null,t,r,e),a=void 0,!xp||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),n?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function _m(e,t,r,n,a){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===a)break;if(o===4)for(o=n.return;o!==null;){var s=o.tag;if((s===3||s===4)&&o.stateNode.containerInfo===a)return;o=o.return}for(;l!==null;){if(o=so(l),o===null)return;if(s=o.tag,s===5||s===6||s===26||s===27){n=i=o;continue e}l=l.parentNode}}n=n.return}Lj(function(){var u=i,d=Tv(r),f=[];e:{var h=tE.get(e);if(h!==void 0){var m=gf,g=e;switch(e){case"keypress":if(xc(r)===0)break e;case"keydown":case"keyup":m=mM;break;case"focusin":g="focus",m=Zh;break;case"focusout":g="blur",m=Zh;break;case"beforeblur":case"afterblur":m=Zh;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=Mb;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=rM;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=vM;break;case Zj:case Jj:case Qj:m=iM;break;case eE:m=bM;break;case"scroll":case"scrollend":m=eM;break;case"wheel":m=wM;break;case"copy":case"cut":case"paste":m=lM;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=zb;break;case"toggle":case"beforetoggle":m=SM}var b=(t&4)!==0,y=!b&&(e==="scroll"||e==="scrollend"),v=b?h!==null?h+"Capture":null:h;b=[];for(var p=u,w;p!==null;){var _=p;if(w=_.stateNode,_=_.tag,_!==5&&_!==26&&_!==27||w===null||v===null||(_=hs(p,v),_!=null&&b.push(_s(p,_,w))),y)break;p=p.return}0<b.length&&(h=new m(h,g,null,r,d),f.push({event:h,listeners:b}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",h&&r!==bp&&(g=r.relatedTarget||r.fromElement)&&(so(g)||g[rl]))break e;if((m||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,m?(g=r.relatedTarget||r.toElement,m=u,g=g?so(g):null,g!==null&&(y=Ks(g),b=g.tag,g!==y||b!==5&&b!==27&&b!==6)&&(g=null)):(m=null,g=u),m!==g)){if(b=Mb,_="onMouseLeave",v="onMouseEnter",p="mouse",(e==="pointerout"||e==="pointerover")&&(b=zb,_="onPointerLeave",v="onPointerEnter",p="pointer"),y=m==null?h:ql(m),w=g==null?h:ql(g),h=new b(_,p+"leave",m,r,d),h.target=y,h.relatedTarget=w,_=null,so(d)===u&&(b=new b(v,p+"enter",g,r,d),b.target=w,b.relatedTarget=y,_=b),y=_,m&&g)t:{for(b=_D,v=m,p=g,w=0,_=v;_;_=b(_))w++;_=0;for(var j=p;j;j=b(j))_++;for(;0<w-_;)v=b(v),w--;for(;0<_-w;)p=b(p),_--;for(;w--;){if(v===p||p!==null&&v===p.alternate){b=v;break t}v=b(v),p=b(p)}b=null}else b=null;m!==null&&Cx(f,h,m,b,!1),g!==null&&y!==null&&Cx(f,y,g,b,!0)}}e:{if(h=u?ql(u):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var S=Lb;else if($b(h))if(Kj)S=RM;else{S=NM;var E=kM}else m=h.nodeName,!m||m.toLowerCase()!=="input"||h.type!=="checkbox"&&h.type!=="radio"?u&&Av(u.elementType)&&(S=Lb):S=PM;if(S&&(S=S(e,u))){Vj(f,S,r,d);break e}E&&E(e,h,u),e==="focusout"&&u&&h.type==="number"&&u.memoizedProps.value!=null&&yp(h,"number",h.value)}switch(E=u?ql(u):window,e){case"focusin":($b(E)||E.contentEditable==="true")&&(fo=E,wp=u,Zl=null);break;case"focusout":Zl=wp=fo=null;break;case"mousedown":_p=!0;break;case"contextmenu":case"mouseup":case"dragend":_p=!1,Vb(f,r,d);break;case"selectionchange":if(DM)break;case"keydown":case"keyup":Vb(f,r,d)}var O;if(Pv)e:{switch(e){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else co?Hj(e,r)&&(A="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(A="onCompositionStart");A&&(qj&&r.locale!=="ko"&&(co||A!=="onCompositionStart"?A==="onCompositionEnd"&&co&&(O=Uj()):(ya=d,kv="value"in ya?ya.value:ya.textContent,co=!0)),E=id(u,A),0<E.length&&(A=new Db(A,e,null,r,d),f.push({event:A,listeners:E}),O?A.data=O:(O=Wj(r),O!==null&&(A.data=O)))),(O=EM?OM(e,r):CM(e,r))&&(A=id(u,"onBeforeInput"),0<A.length&&(E=new Db("onBeforeInput","beforeinput",null,r,d),f.push({event:E,listeners:A}),E.data=O)),yD(f,e,u,r,d)}LO(f,t)})}function _s(e,t,r){return{instance:e,listener:t,currentTarget:r}}function id(e,t){for(var r=t+"Capture",n=[];e!==null;){var a=e,i=a.stateNode;if(a=a.tag,a!==5&&a!==26&&a!==27||i===null||(a=hs(e,r),a!=null&&n.unshift(_s(e,a,i)),a=hs(e,t),a!=null&&n.push(_s(e,a,i))),e.tag===3)return n;e=e.return}return[]}function _D(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Cx(e,t,r,n,a){for(var i=t._reactName,o=[];r!==null&&r!==n;){var l=r,s=l.alternate,u=l.stateNode;if(l=l.tag,s!==null&&s===n)break;l!==5&&l!==26&&l!==27||u===null||(s=u,a?(u=hs(r,i),u!=null&&o.unshift(_s(r,u,s))):a||(u=hs(r,i),u!=null&&o.push(_s(r,u,s)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var SD=/\r\n?/g,jD=/\u0000|\uFFFD/g;function Ax(e){return(typeof e=="string"?e:""+e).replace(SD,`
`).replace(jD,"")}function qO(e,t){return t=Ax(t),Ax(e)===t}function be(e,t,r,n,a,i){switch(r){case"children":typeof n=="string"?t==="body"||t==="textarea"&&n===""||Ro(e,n):(typeof n=="number"||typeof n=="bigint")&&t!=="body"&&Ro(e,""+n);break;case"className":Mu(e,"class",n);break;case"tabIndex":Mu(e,"tabindex",n);break;case"dir":case"role":case"viewBox":case"width":case"height":Mu(e,r,n);break;case"style":$j(e,n,i);break;case"data":if(t!=="object"){Mu(e,"data",n);break}case"src":case"href":if(n===""&&(t!=="a"||r!=="href")){e.removeAttribute(r);break}if(n==null||typeof n=="function"||typeof n=="symbol"||typeof n=="boolean"){e.removeAttribute(r);break}n=yc(""+n),e.setAttribute(r,n);break;case"action":case"formAction":if(typeof n=="function"){e.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof i=="function"&&(r==="formAction"?(t!=="input"&&be(e,t,"name",a.name,a,null),be(e,t,"formEncType",a.formEncType,a,null),be(e,t,"formMethod",a.formMethod,a,null),be(e,t,"formTarget",a.formTarget,a,null)):(be(e,t,"encType",a.encType,a,null),be(e,t,"method",a.method,a,null),be(e,t,"target",a.target,a,null)));if(n==null||typeof n=="symbol"||typeof n=="boolean"){e.removeAttribute(r);break}n=yc(""+n),e.setAttribute(r,n);break;case"onClick":n!=null&&(e.onclick=En);break;case"onScroll":n!=null&&ne("scroll",e);break;case"onScrollEnd":n!=null&&ne("scrollend",e);break;case"dangerouslySetInnerHTML":if(n!=null){if(typeof n!="object"||!("__html"in n))throw Error(B(61));if(r=n.__html,r!=null){if(a.children!=null)throw Error(B(60));e.innerHTML=r}}break;case"multiple":e.multiple=n&&typeof n!="function"&&typeof n!="symbol";break;case"muted":e.muted=n&&typeof n!="function"&&typeof n!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(n==null||typeof n=="function"||typeof n=="boolean"||typeof n=="symbol"){e.removeAttribute("xlink:href");break}r=yc(""+n),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":n!=null&&typeof n!="function"&&typeof n!="symbol"?e.setAttribute(r,""+n):e.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":n&&typeof n!="function"&&typeof n!="symbol"?e.setAttribute(r,""):e.removeAttribute(r);break;case"capture":case"download":n===!0?e.setAttribute(r,""):n!==!1&&n!=null&&typeof n!="function"&&typeof n!="symbol"?e.setAttribute(r,n):e.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":n!=null&&typeof n!="function"&&typeof n!="symbol"&&!isNaN(n)&&1<=n?e.setAttribute(r,n):e.removeAttribute(r);break;case"rowSpan":case"start":n==null||typeof n=="function"||typeof n=="symbol"||isNaN(n)?e.removeAttribute(r):e.setAttribute(r,n);break;case"popover":ne("beforetoggle",e),ne("toggle",e),vc(e,"popover",n);break;case"xlinkActuate":hn(e,"http://www.w3.org/1999/xlink","xlink:actuate",n);break;case"xlinkArcrole":hn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",n);break;case"xlinkRole":hn(e,"http://www.w3.org/1999/xlink","xlink:role",n);break;case"xlinkShow":hn(e,"http://www.w3.org/1999/xlink","xlink:show",n);break;case"xlinkTitle":hn(e,"http://www.w3.org/1999/xlink","xlink:title",n);break;case"xlinkType":hn(e,"http://www.w3.org/1999/xlink","xlink:type",n);break;case"xmlBase":hn(e,"http://www.w3.org/XML/1998/namespace","xml:base",n);break;case"xmlLang":hn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",n);break;case"xmlSpace":hn(e,"http://www.w3.org/XML/1998/namespace","xml:space",n);break;case"is":vc(e,"is",n);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=JR.get(r)||r,vc(e,r,n))}}function Kp(e,t,r,n,a,i){switch(r){case"style":$j(e,n,i);break;case"dangerouslySetInnerHTML":if(n!=null){if(typeof n!="object"||!("__html"in n))throw Error(B(61));if(r=n.__html,r!=null){if(a.children!=null)throw Error(B(60));e.innerHTML=r}}break;case"children":typeof n=="string"?Ro(e,n):(typeof n=="number"||typeof n=="bigint")&&Ro(e,""+n);break;case"onScroll":n!=null&&ne("scroll",e);break;case"onScrollEnd":n!=null&&ne("scrollend",e);break;case"onClick":n!=null&&(e.onclick=En);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Rj.hasOwnProperty(r))e:{if(r[0]==="o"&&r[1]==="n"&&(a=r.endsWith("Capture"),t=r.slice(2,a?r.length-7:void 0),i=e[Yt]||null,i=i!=null?i[r]:null,typeof i=="function"&&e.removeEventListener(t,i,a),typeof n=="function")){typeof i!="function"&&i!==null&&(r in e?e[r]=null:e.hasAttribute(r)&&e.removeAttribute(r)),e.addEventListener(t,n,a);break e}r in e?e[r]=n:n===!0?e.setAttribute(r,""):vc(e,r,n)}}}function Ct(e,t,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ne("error",e),ne("load",e);var n=!1,a=!1,i;for(i in r)if(r.hasOwnProperty(i)){var o=r[i];if(o!=null)switch(i){case"src":n=!0;break;case"srcSet":a=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(B(137,t));default:be(e,t,i,o,r,null)}}a&&be(e,t,"srcSet",r.srcSet,r,null),n&&be(e,t,"src",r.src,r,null);return;case"input":ne("invalid",e);var l=i=o=a=null,s=null,u=null;for(n in r)if(r.hasOwnProperty(n)){var d=r[n];if(d!=null)switch(n){case"name":a=d;break;case"type":o=d;break;case"checked":s=d;break;case"defaultChecked":u=d;break;case"value":i=d;break;case"defaultValue":l=d;break;case"children":case"dangerouslySetInnerHTML":if(d!=null)throw Error(B(137,t));break;default:be(e,t,n,d,r,null)}}zj(e,i,l,s,u,o,a,!1);return;case"select":ne("invalid",e),n=o=i=null;for(a in r)if(r.hasOwnProperty(a)&&(l=r[a],l!=null))switch(a){case"value":i=l;break;case"defaultValue":o=l;break;case"multiple":n=l;default:be(e,t,a,l,r,null)}t=i,r=o,e.multiple=!!n,t!=null?_o(e,!!n,t,!1):r!=null&&_o(e,!!n,r,!0);return;case"textarea":ne("invalid",e),i=a=n=null;for(o in r)if(r.hasOwnProperty(o)&&(l=r[o],l!=null))switch(o){case"value":n=l;break;case"defaultValue":a=l;break;case"children":i=l;break;case"dangerouslySetInnerHTML":if(l!=null)throw Error(B(91));break;default:be(e,t,o,l,r,null)}Ij(e,n,a,i);return;case"option":for(s in r)if(r.hasOwnProperty(s)&&(n=r[s],n!=null))switch(s){case"selected":e.selected=n&&typeof n!="function"&&typeof n!="symbol";break;default:be(e,t,s,n,r,null)}return;case"dialog":ne("beforetoggle",e),ne("toggle",e),ne("cancel",e),ne("close",e);break;case"iframe":case"object":ne("load",e);break;case"video":case"audio":for(n=0;n<ws.length;n++)ne(ws[n],e);break;case"image":ne("error",e),ne("load",e);break;case"details":ne("toggle",e);break;case"embed":case"source":case"link":ne("error",e),ne("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in r)if(r.hasOwnProperty(u)&&(n=r[u],n!=null))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(B(137,t));default:be(e,t,u,n,r,null)}return;default:if(Av(t)){for(d in r)r.hasOwnProperty(d)&&(n=r[d],n!==void 0&&Kp(e,t,d,n,r,void 0));return}}for(l in r)r.hasOwnProperty(l)&&(n=r[l],n!=null&&be(e,t,l,n,r,null))}function ED(e,t,r,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var a=null,i=null,o=null,l=null,s=null,u=null,d=null;for(m in r){var f=r[m];if(r.hasOwnProperty(m)&&f!=null)switch(m){case"checked":break;case"value":break;case"defaultValue":s=f;default:n.hasOwnProperty(m)||be(e,t,m,null,n,f)}}for(var h in n){var m=n[h];if(f=r[h],n.hasOwnProperty(h)&&(m!=null||f!=null))switch(h){case"type":i=m;break;case"name":a=m;break;case"checked":u=m;break;case"defaultChecked":d=m;break;case"value":o=m;break;case"defaultValue":l=m;break;case"children":case"dangerouslySetInnerHTML":if(m!=null)throw Error(B(137,t));break;default:m!==f&&be(e,t,h,m,n,f)}}vp(e,o,l,s,u,d,i,a);return;case"select":m=o=l=h=null;for(i in r)if(s=r[i],r.hasOwnProperty(i)&&s!=null)switch(i){case"value":break;case"multiple":m=s;default:n.hasOwnProperty(i)||be(e,t,i,null,n,s)}for(a in n)if(i=n[a],s=r[a],n.hasOwnProperty(a)&&(i!=null||s!=null))switch(a){case"value":h=i;break;case"defaultValue":l=i;break;case"multiple":o=i;default:i!==s&&be(e,t,a,i,n,s)}t=l,r=o,n=m,h!=null?_o(e,!!r,h,!1):!!n!=!!r&&(t!=null?_o(e,!!r,t,!0):_o(e,!!r,r?[]:"",!1));return;case"textarea":m=h=null;for(l in r)if(a=r[l],r.hasOwnProperty(l)&&a!=null&&!n.hasOwnProperty(l))switch(l){case"value":break;case"children":break;default:be(e,t,l,null,n,a)}for(o in n)if(a=n[o],i=r[o],n.hasOwnProperty(o)&&(a!=null||i!=null))switch(o){case"value":h=a;break;case"defaultValue":m=a;break;case"children":break;case"dangerouslySetInnerHTML":if(a!=null)throw Error(B(91));break;default:a!==i&&be(e,t,o,a,n,i)}Bj(e,h,m);return;case"option":for(var g in r)if(h=r[g],r.hasOwnProperty(g)&&h!=null&&!n.hasOwnProperty(g))switch(g){case"selected":e.selected=!1;break;default:be(e,t,g,null,n,h)}for(s in n)if(h=n[s],m=r[s],n.hasOwnProperty(s)&&h!==m&&(h!=null||m!=null))switch(s){case"selected":e.selected=h&&typeof h!="function"&&typeof h!="symbol";break;default:be(e,t,s,h,n,m)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var b in r)h=r[b],r.hasOwnProperty(b)&&h!=null&&!n.hasOwnProperty(b)&&be(e,t,b,null,n,h);for(u in n)if(h=n[u],m=r[u],n.hasOwnProperty(u)&&h!==m&&(h!=null||m!=null))switch(u){case"children":case"dangerouslySetInnerHTML":if(h!=null)throw Error(B(137,t));break;default:be(e,t,u,h,n,m)}return;default:if(Av(t)){for(var y in r)h=r[y],r.hasOwnProperty(y)&&h!==void 0&&!n.hasOwnProperty(y)&&Kp(e,t,y,void 0,n,h);for(d in n)h=n[d],m=r[d],!n.hasOwnProperty(d)||h===m||h===void 0&&m===void 0||Kp(e,t,d,h,n,m);return}}for(var v in r)h=r[v],r.hasOwnProperty(v)&&h!=null&&!n.hasOwnProperty(v)&&be(e,t,v,null,n,h);for(f in n)h=n[f],m=r[f],!n.hasOwnProperty(f)||h===m||h==null&&m==null||be(e,t,f,h,n,m)}function Tx(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function OD(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,r=performance.getEntriesByType("resource"),n=0;n<r.length;n++){var a=r[n],i=a.transferSize,o=a.initiatorType,l=a.duration;if(i&&l&&Tx(o)){for(o=0,l=a.responseEnd,n+=1;n<r.length;n++){var s=r[n],u=s.startTime;if(u>l)break;var d=s.transferSize,f=s.initiatorType;d&&Tx(f)&&(s=s.responseEnd,o+=d*(s<l?1:(l-u)/(s-u)))}if(--n,t+=8*(i+o)/(a.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Gp=null,Fp=null;function od(e){return e.nodeType===9?e:e.ownerDocument}function kx(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function HO(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Yp(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Sm=null;function CD(){var e=window.event;return e&&e.type==="popstate"?e===Sm?!1:(Sm=e,!0):(Sm=null,!1)}var WO=typeof setTimeout=="function"?setTimeout:void 0,AD=typeof clearTimeout=="function"?clearTimeout:void 0,Nx=typeof Promise=="function"?Promise:void 0,TD=typeof queueMicrotask=="function"?queueMicrotask:typeof Nx<"u"?function(e){return Nx.resolve(null).then(e).catch(kD)}:WO;function kD(e){setTimeout(function(){throw e})}function La(e){return e==="head"}function Px(e,t){var r=t,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"||r==="/&"){if(n===0){e.removeChild(a),Uo(t);return}n--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")n++;else if(r==="html")ls(e.ownerDocument.documentElement);else if(r==="head"){r=e.ownerDocument.head,ls(r);for(var i=r.firstChild;i;){var o=i.nextSibling,l=i.nodeName;i[Xs]||l==="SCRIPT"||l==="STYLE"||l==="LINK"&&i.rel.toLowerCase()==="stylesheet"||r.removeChild(i),i=o}}else r==="body"&&ls(e.ownerDocument.body);r=a}while(r);Uo(t)}function Rx(e,t){var r=e;e=0;do{var n=r.nextSibling;if(r.nodeType===1?t?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(t?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),n&&n.nodeType===8)if(r=n.data,r==="/$"){if(e===0)break;e--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||e++;r=n}while(r)}function Xp(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var r=t;switch(t=t.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":Xp(r),Cv(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}e.removeChild(r)}}function ND(e,t,r,n){for(;e.nodeType===1;){var a=r;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!n&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(n){if(!e[Xs])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(i=e.getAttribute("rel"),i==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(i!==a.rel||e.getAttribute("href")!==(a.href==null||a.href===""?null:a.href)||e.getAttribute("crossorigin")!==(a.crossOrigin==null?null:a.crossOrigin)||e.getAttribute("title")!==(a.title==null?null:a.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(i=e.getAttribute("src"),(i!==(a.src==null?null:a.src)||e.getAttribute("type")!==(a.type==null?null:a.type)||e.getAttribute("crossorigin")!==(a.crossOrigin==null?null:a.crossOrigin))&&i&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var i=a.name==null?null:""+a.name;if(a.type==="hidden"&&e.getAttribute("name")===i)return e}else return e;if(e=Nr(e.nextSibling),e===null)break}return null}function PD(e,t,r){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!r||(e=Nr(e.nextSibling),e===null))return null;return e}function VO(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Nr(e.nextSibling),e===null))return null;return e}function Zp(e){return e.data==="$?"||e.data==="$~"}function Jp(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function RD(e,t){var r=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||r.readyState!=="loading")t();else{var n=function(){t(),r.removeEventListener("DOMContentLoaded",n)};r.addEventListener("DOMContentLoaded",n),e._reactRetry=n}}function Nr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var Qp=null;function Mx(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"||r==="/&"){if(t===0)return Nr(e.nextSibling);t--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||t++}e=e.nextSibling}return null}function Dx(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(t===0)return e;t--}else r!=="/$"&&r!=="/&"||t++}e=e.previousSibling}return null}function KO(e,t,r){switch(t=od(r),e){case"html":if(e=t.documentElement,!e)throw Error(B(452));return e;case"head":if(e=t.head,!e)throw Error(B(453));return e;case"body":if(e=t.body,!e)throw Error(B(454));return e;default:throw Error(B(451))}}function ls(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Cv(e)}var Pr=new Map,zx=new Set;function ld(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Yn=me.d;me.d={f:MD,r:DD,D:zD,C:BD,L:ID,m:$D,X:UD,S:LD,M:qD};function MD(){var e=Yn.f(),t=Cf();return e||t}function DD(e){var t=nl(e);t!==null&&t.tag===5&&t.type==="form"?$E(t):Yn.r(e)}var ll=typeof document>"u"?null:document;function GO(e,t,r){var n=ll;if(n&&typeof t=="string"&&t){var a=Or(t);a='link[rel="'+e+'"][href="'+a+'"]',typeof r=="string"&&(a+='[crossorigin="'+r+'"]'),zx.has(a)||(zx.add(a),e={rel:e,crossOrigin:r,href:t},n.querySelector(a)===null&&(t=n.createElement("link"),Ct(t,"link",e),mt(t),n.head.appendChild(t)))}}function zD(e){Yn.D(e),GO("dns-prefetch",e,null)}function BD(e,t){Yn.C(e,t),GO("preconnect",e,t)}function ID(e,t,r){Yn.L(e,t,r);var n=ll;if(n&&e&&t){var a='link[rel="preload"][as="'+Or(t)+'"]';t==="image"&&r&&r.imageSrcSet?(a+='[imagesrcset="'+Or(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(a+='[imagesizes="'+Or(r.imageSizes)+'"]')):a+='[href="'+Or(e)+'"]';var i=a;switch(t){case"style":i=Lo(e);break;case"script":i=sl(e)}Pr.has(i)||(e=Me({rel:"preload",href:t==="image"&&r&&r.imageSrcSet?void 0:e,as:t},r),Pr.set(i,e),n.querySelector(a)!==null||t==="style"&&n.querySelector(ru(i))||t==="script"&&n.querySelector(nu(i))||(t=n.createElement("link"),Ct(t,"link",e),mt(t),n.head.appendChild(t)))}}function $D(e,t){Yn.m(e,t);var r=ll;if(r&&e){var n=t&&typeof t.as=="string"?t.as:"script",a='link[rel="modulepreload"][as="'+Or(n)+'"][href="'+Or(e)+'"]',i=a;switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":i=sl(e)}if(!Pr.has(i)&&(e=Me({rel:"modulepreload",href:e},t),Pr.set(i,e),r.querySelector(a)===null)){switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(nu(i)))return}n=r.createElement("link"),Ct(n,"link",e),mt(n),r.head.appendChild(n)}}}function LD(e,t,r){Yn.S(e,t,r);var n=ll;if(n&&e){var a=wo(n).hoistableStyles,i=Lo(e);t=t||"default";var o=a.get(i);if(!o){var l={loading:0,preload:null};if(o=n.querySelector(ru(i)))l.loading=5;else{e=Me({rel:"stylesheet",href:e,"data-precedence":t},r),(r=Pr.get(i))&&fy(e,r);var s=o=n.createElement("link");mt(s),Ct(s,"link",e),s._p=new Promise(function(u,d){s.onload=u,s.onerror=d}),s.addEventListener("load",function(){l.loading|=1}),s.addEventListener("error",function(){l.loading|=2}),l.loading|=4,Ac(o,t,n)}o={type:"stylesheet",instance:o,count:1,state:l},a.set(i,o)}}}function UD(e,t){Yn.X(e,t);var r=ll;if(r&&e){var n=wo(r).hoistableScripts,a=sl(e),i=n.get(a);i||(i=r.querySelector(nu(a)),i||(e=Me({src:e,async:!0},t),(t=Pr.get(a))&&hy(e,t),i=r.createElement("script"),mt(i),Ct(i,"link",e),r.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},n.set(a,i))}}function qD(e,t){Yn.M(e,t);var r=ll;if(r&&e){var n=wo(r).hoistableScripts,a=sl(e),i=n.get(a);i||(i=r.querySelector(nu(a)),i||(e=Me({src:e,async:!0,type:"module"},t),(t=Pr.get(a))&&hy(e,t),i=r.createElement("script"),mt(i),Ct(i,"link",e),r.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},n.set(a,i))}}function Bx(e,t,r,n){var a=(a=ja.current)?ld(a):null;if(!a)throw Error(B(446));switch(e){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(t=Lo(r.href),r=wo(a).hoistableStyles,n=r.get(t),n||(n={type:"style",instance:null,count:0,state:null},r.set(t,n)),n):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){e=Lo(r.href);var i=wo(a).hoistableStyles,o=i.get(e);if(o||(a=a.ownerDocument||a,o={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},i.set(e,o),(i=a.querySelector(ru(e)))&&!i._p&&(o.instance=i,o.state.loading=5),Pr.has(e)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Pr.set(e,r),i||HD(a,e,r,o.state))),t&&n===null)throw Error(B(528,""));return o}if(t&&n!==null)throw Error(B(529,""));return null;case"script":return t=r.async,r=r.src,typeof r=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=sl(r),r=wo(a).hoistableScripts,n=r.get(t),n||(n={type:"script",instance:null,count:0,state:null},r.set(t,n)),n):{type:"void",instance:null,count:0,state:null};default:throw Error(B(444,e))}}function Lo(e){return'href="'+Or(e)+'"'}function ru(e){return'link[rel="stylesheet"]['+e+"]"}function FO(e){return Me({},e,{"data-precedence":e.precedence,precedence:null})}function HD(e,t,r,n){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?n.loading=1:(t=e.createElement("link"),n.preload=t,t.addEventListener("load",function(){return n.loading|=1}),t.addEventListener("error",function(){return n.loading|=2}),Ct(t,"link",r),mt(t),e.head.appendChild(t))}function sl(e){return'[src="'+Or(e)+'"]'}function nu(e){return"script[async]"+e}function Ix(e,t,r){if(t.count++,t.instance===null)switch(t.type){case"style":var n=e.querySelector('style[data-href~="'+Or(r.href)+'"]');if(n)return t.instance=n,mt(n),n;var a=Me({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return n=(e.ownerDocument||e).createElement("style"),mt(n),Ct(n,"style",a),Ac(n,r.precedence,e),t.instance=n;case"stylesheet":a=Lo(r.href);var i=e.querySelector(ru(a));if(i)return t.state.loading|=4,t.instance=i,mt(i),i;n=FO(r),(a=Pr.get(a))&&fy(n,a),i=(e.ownerDocument||e).createElement("link"),mt(i);var o=i;return o._p=new Promise(function(l,s){o.onload=l,o.onerror=s}),Ct(i,"link",n),t.state.loading|=4,Ac(i,r.precedence,e),t.instance=i;case"script":return i=sl(r.src),(a=e.querySelector(nu(i)))?(t.instance=a,mt(a),a):(n=r,(a=Pr.get(i))&&(n=Me({},r),hy(n,a)),e=e.ownerDocument||e,a=e.createElement("script"),mt(a),Ct(a,"link",n),e.head.appendChild(a),t.instance=a);case"void":return null;default:throw Error(B(443,t.type))}else t.type==="stylesheet"&&!(t.state.loading&4)&&(n=t.instance,t.state.loading|=4,Ac(n,r.precedence,e));return t.instance}function Ac(e,t,r){for(var n=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),a=n.length?n[n.length-1]:null,i=a,o=0;o<n.length;o++){var l=n[o];if(l.dataset.precedence===t)i=l;else if(i!==a)break}i?i.parentNode.insertBefore(e,i.nextSibling):(t=r.nodeType===9?r.head:r,t.insertBefore(e,t.firstChild))}function fy(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function hy(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Tc=null;function $x(e,t,r){if(Tc===null){var n=new Map,a=Tc=new Map;a.set(r,n)}else a=Tc,n=a.get(r),n||(n=new Map,a.set(r,n));if(n.has(e))return n;for(n.set(e,null),r=r.getElementsByTagName(e),a=0;a<r.length;a++){var i=r[a];if(!(i[Xs]||i[St]||e==="link"&&i.getAttribute("rel")==="stylesheet")&&i.namespaceURI!=="http://www.w3.org/2000/svg"){var o=i.getAttribute(t)||"";o=e+o;var l=n.get(o);l?l.push(i):n.set(o,[i])}}return n}function Lx(e,t,r){e=e.ownerDocument||e,e.head.insertBefore(r,t==="title"?e.querySelector("head > title"):null)}function WD(e,t,r){if(r===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function YO(e){return!(e.type==="stylesheet"&&!(e.state.loading&3))}function VD(e,t,r,n){if(r.type==="stylesheet"&&(typeof n.media!="string"||matchMedia(n.media).matches!==!1)&&!(r.state.loading&4)){if(r.instance===null){var a=Lo(n.href),i=t.querySelector(ru(a));if(i){t=i._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=sd.bind(e),t.then(e,e)),r.state.loading|=4,r.instance=i,mt(i);return}i=t.ownerDocument||t,n=FO(n),(a=Pr.get(a))&&fy(n,a),i=i.createElement("link"),mt(i);var o=i;o._p=new Promise(function(l,s){o.onload=l,o.onerror=s}),Ct(i,"link",n),r.instance=i}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(r,t),(t=r.state.preload)&&!(r.state.loading&3)&&(e.count++,r=sd.bind(e),t.addEventListener("load",r),t.addEventListener("error",r))}}var jm=0;function KD(e,t){return e.stylesheets&&e.count===0&&kc(e,e.stylesheets),0<e.count||0<e.imgCount?function(r){var n=setTimeout(function(){if(e.stylesheets&&kc(e,e.stylesheets),e.unsuspend){var i=e.unsuspend;e.unsuspend=null,i()}},6e4+t);0<e.imgBytes&&jm===0&&(jm=62500*OD());var a=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&kc(e,e.stylesheets),e.unsuspend)){var i=e.unsuspend;e.unsuspend=null,i()}},(e.imgBytes>jm?50:800)+t);return e.unsuspend=r,function(){e.unsuspend=null,clearTimeout(n),clearTimeout(a)}}:null}function sd(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)kc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var ud=null;function kc(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,ud=new Map,t.forEach(GD,e),ud=null,sd.call(e))}function GD(e,t){if(!(t.state.loading&4)){var r=ud.get(e);if(r)var n=r.get(null);else{r=new Map,ud.set(e,r);for(var a=e.querySelectorAll("link[data-precedence],style[data-precedence]"),i=0;i<a.length;i++){var o=a[i];(o.nodeName==="LINK"||o.getAttribute("media")!=="not all")&&(r.set(o.dataset.precedence,o),n=o)}n&&r.set(null,n)}a=t.instance,o=a.getAttribute("data-precedence"),i=r.get(o)||n,i===n&&r.set(null,a),r.set(o,a),this.count++,n=sd.bind(this),a.addEventListener("load",n),a.addEventListener("error",n),i?i.parentNode.insertBefore(a,i.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(a,e.firstChild)),t.state.loading|=4}}var Ss={$$typeof:jn,Provider:null,Consumer:null,_currentValue:di,_currentValue2:di,_threadCount:0};function FD(e,t,r,n,a,i,o,l,s){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Gh(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Gh(0),this.hiddenUpdates=Gh(null),this.identifierPrefix=n,this.onUncaughtError=a,this.onCaughtError=i,this.onRecoverableError=o,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=s,this.incompleteTransitions=new Map}function XO(e,t,r,n,a,i,o,l,s,u,d,f){return e=new FD(e,t,r,o,s,u,d,f,l),t=1,i===!0&&(t|=24),i=ar(3,null,null,t),e.current=i,i.stateNode=e,t=$v(),t.refCount++,e.pooledCache=t,t.refCount++,i.memoizedState={element:n,isDehydrated:r,cache:t},qv(i),e}function ZO(e){return e?(e=po,e):po}function JO(e,t,r,n,a,i){a=ZO(a),n.context===null?n.context=a:n.pendingContext=a,n=Oa(t),n.payload={element:r},i=i===void 0?null:i,i!==null&&(n.callback=i),r=Ca(e,n,t),r!==null&&(Ft(r,e,t),Ql(r,e,t))}function Ux(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function my(e,t){Ux(e,t),(e=e.alternate)&&Ux(e,t)}function QO(e){if(e.tag===13||e.tag===31){var t=zi(e,67108864);t!==null&&Ft(t,e,67108864),my(e,67108864)}}function qx(e){if(e.tag===13||e.tag===31){var t=hr();t=Ev(t);var r=zi(e,t);r!==null&&Ft(r,e,t),my(e,t)}}var cd=!0;function YD(e,t,r,n){var a=Q.T;Q.T=null;var i=me.p;try{me.p=2,py(e,t,r,n)}finally{me.p=i,Q.T=a}}function XD(e,t,r,n){var a=Q.T;Q.T=null;var i=me.p;try{me.p=8,py(e,t,r,n)}finally{me.p=i,Q.T=a}}function py(e,t,r,n){if(cd){var a=eg(n);if(a===null)_m(e,t,n,dd,r),Hx(e,n);else if(JD(a,e,t,r,n))n.stopPropagation();else if(Hx(e,n),t&4&&-1<ZD.indexOf(e)){for(;a!==null;){var i=nl(a);if(i!==null)switch(i.tag){case 3:if(i=i.stateNode,i.current.memoizedState.isDehydrated){var o=Za(i.pendingLanes);if(o!==0){var l=i;for(l.pendingLanes|=2,l.entangledLanes|=2;o;){var s=1<<31-fr(o);l.entanglements[1]|=s,o&=~s}fn(i),!(he&6)&&(ed=cr()+500,tu(0))}}break;case 31:case 13:l=zi(i,2),l!==null&&Ft(l,i,2),Cf(),my(i,2)}if(i=eg(n),i===null&&_m(e,t,n,dd,r),i===a)break;a=i}a!==null&&n.stopPropagation()}else _m(e,t,n,null,r)}}function eg(e){return e=Tv(e),gy(e)}var dd=null;function gy(e){if(dd=null,e=so(e),e!==null){var t=Ks(e);if(t===null)e=null;else{var r=t.tag;if(r===13){if(e=bj(t),e!==null)return e;e=null}else if(r===31){if(e=xj(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return dd=e,null}function eC(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(zR()){case jj:return 2;case Ej:return 8;case Lc:case BR:return 32;case Oj:return 268435456;default:return 32}default:return 32}}var tg=!1,ka=null,Na=null,Pa=null,js=new Map,Es=new Map,ma=[],ZD="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Hx(e,t){switch(e){case"focusin":case"focusout":ka=null;break;case"dragenter":case"dragleave":Na=null;break;case"mouseover":case"mouseout":Pa=null;break;case"pointerover":case"pointerout":js.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Es.delete(t.pointerId)}}function Nl(e,t,r,n,a,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[a]},t!==null&&(t=nl(t),t!==null&&QO(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function JD(e,t,r,n,a){switch(t){case"focusin":return ka=Nl(ka,e,t,r,n,a),!0;case"dragenter":return Na=Nl(Na,e,t,r,n,a),!0;case"mouseover":return Pa=Nl(Pa,e,t,r,n,a),!0;case"pointerover":var i=a.pointerId;return js.set(i,Nl(js.get(i)||null,e,t,r,n,a)),!0;case"gotpointercapture":return i=a.pointerId,Es.set(i,Nl(Es.get(i)||null,e,t,r,n,a)),!0}return!1}function tC(e){var t=so(e.target);if(t!==null){var r=Ks(t);if(r!==null){if(t=r.tag,t===13){if(t=bj(r),t!==null){e.blockedOn=t,Cb(e.priority,function(){qx(r)});return}}else if(t===31){if(t=xj(r),t!==null){e.blockedOn=t,Cb(e.priority,function(){qx(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Nc(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=eg(e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);bp=n,r.target.dispatchEvent(n),bp=null}else return t=nl(r),t!==null&&QO(t),e.blockedOn=r,!1;t.shift()}return!0}function Wx(e,t,r){Nc(e)&&r.delete(t)}function QD(){tg=!1,ka!==null&&Nc(ka)&&(ka=null),Na!==null&&Nc(Na)&&(Na=null),Pa!==null&&Nc(Pa)&&(Pa=null),js.forEach(Wx),Es.forEach(Wx)}function qu(e,t){e.blockedOn===t&&(e.blockedOn=null,tg||(tg=!0,it.unstable_scheduleCallback(it.unstable_NormalPriority,QD)))}var Hu=null;function Vx(e){Hu!==e&&(Hu=e,it.unstable_scheduleCallback(it.unstable_NormalPriority,function(){Hu===e&&(Hu=null);for(var t=0;t<e.length;t+=3){var r=e[t],n=e[t+1],a=e[t+2];if(typeof n!="function"){if(gy(n||r)===null)continue;break}var i=nl(r);i!==null&&(e.splice(t,3),t-=3,Dp(i,{pending:!0,data:a,method:r.method,action:n},n,a))}}))}function Uo(e){function t(s){return qu(s,e)}ka!==null&&qu(ka,e),Na!==null&&qu(Na,e),Pa!==null&&qu(Pa,e),js.forEach(t),Es.forEach(t);for(var r=0;r<ma.length;r++){var n=ma[r];n.blockedOn===e&&(n.blockedOn=null)}for(;0<ma.length&&(r=ma[0],r.blockedOn===null);)tC(r),r.blockedOn===null&&ma.shift();if(r=(e.ownerDocument||e).$$reactFormReplay,r!=null)for(n=0;n<r.length;n+=3){var a=r[n],i=r[n+1],o=a[Yt]||null;if(typeof i=="function")o||Vx(r);else if(o){var l=null;if(i&&i.hasAttribute("formAction")){if(a=i,o=i[Yt]||null)l=o.formAction;else if(gy(a)!==null)continue}else l=o.action;typeof l=="function"?r[n+1]=l:(r.splice(n,3),n-=3),Vx(r)}}}function rC(){function e(i){i.canIntercept&&i.info==="react-transition"&&i.intercept({handler:function(){return new Promise(function(o){return a=o})},focusReset:"manual",scroll:"manual"})}function t(){a!==null&&(a(),a=null),n||setTimeout(r,20)}function r(){if(!n&&!navigation.transition){var i=navigation.currentEntry;i&&i.url!=null&&navigation.navigate(i.url,{state:i.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var n=!1,a=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(r,100),function(){n=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),a!==null&&(a(),a=null)}}}function vy(e){this._internalRoot=e}kf.prototype.render=vy.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(B(409));var r=t.current,n=hr();JO(r,n,e,t,null,null)};kf.prototype.unmount=vy.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;JO(e.current,2,null,e,null,null),Cf(),t[rl]=null}};function kf(e){this._internalRoot=e}kf.prototype.unstable_scheduleHydration=function(e){if(e){var t=Nj();e={blockedOn:null,target:e,priority:t};for(var r=0;r<ma.length&&t!==0&&t<ma[r].priority;r++);ma.splice(r,0,e),r===0&&tC(e)}};var Kx=vj.version;if(Kx!=="19.2.3")throw Error(B(527,Kx,"19.2.3"));me.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(B(188)):(e=Object.keys(e).join(","),Error(B(268,e)));return e=TR(t),e=e!==null?wj(e):null,e=e===null?null:e.stateNode,e};var ez={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:Q,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Wu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Wu.isDisabled&&Wu.supportsFiber)try{Gs=Wu.inject(ez),dr=Wu}catch{}}hf.createRoot=function(e,t){if(!yj(e))throw Error(B(299));var r=!1,n="",a=GE,i=FE,o=YE;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onUncaughtError!==void 0&&(a=t.onUncaughtError),t.onCaughtError!==void 0&&(i=t.onCaughtError),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),t=XO(e,1,!1,null,null,r,n,null,a,i,o,rC),e[rl]=t.current,dy(e),new vy(t)};hf.hydrateRoot=function(e,t,r){if(!yj(e))throw Error(B(299));var n=!1,a="",i=GE,o=FE,l=YE,s=null;return r!=null&&(r.unstable_strictMode===!0&&(n=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onUncaughtError!==void 0&&(i=r.onUncaughtError),r.onCaughtError!==void 0&&(o=r.onCaughtError),r.onRecoverableError!==void 0&&(l=r.onRecoverableError),r.formState!==void 0&&(s=r.formState)),t=XO(e,1,!0,t,r??null,n,a,s,i,o,l,rC),t.context=ZO(null),r=t.current,n=hr(),n=Ev(n),a=Oa(n),a.callback=null,Ca(r,a,n),r=n,t.current.lanes=r,Ys(t,r),fn(t),e[rl]=t.current,dy(e),new kf(t)};hf.version="19.2.3";function nC(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(nC)}catch(e){console.error(e)}}nC(),dj.exports=hf;var tz=dj.exports;/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Os(){return Os=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Os.apply(this,arguments)}var _a;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(_a||(_a={}));const Gx="popstate";function rz(e){e===void 0&&(e={});function t(n,a){let{pathname:i,search:o,hash:l}=n.location;return rg("",{pathname:i,search:o,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:aC(a)}return az(t,r,null,e)}function et(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function yy(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function nz(){return Math.random().toString(36).substr(2,8)}function Fx(e,t){return{usr:e.state,key:e.key,idx:t}}function rg(e,t,r,n){return r===void 0&&(r=null),Os({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?ul(t):t,{state:r,key:t&&t.key||n||nz()})}function aC(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function ul(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function az(e,t,r,n){n===void 0&&(n={});let{window:a=document.defaultView,v5Compat:i=!1}=n,o=a.history,l=_a.Pop,s=null,u=d();u==null&&(u=0,o.replaceState(Os({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function f(){l=_a.Pop;let y=d(),v=y==null?null:y-u;u=y,s&&s({action:l,location:b.location,delta:v})}function h(y,v){l=_a.Push;let p=rg(b.location,y,v);u=d()+1;let w=Fx(p,u),_=b.createHref(p);try{o.pushState(w,"",_)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;a.location.assign(_)}i&&s&&s({action:l,location:b.location,delta:1})}function m(y,v){l=_a.Replace;let p=rg(b.location,y,v);u=d();let w=Fx(p,u),_=b.createHref(p);o.replaceState(w,"",_),i&&s&&s({action:l,location:b.location,delta:0})}function g(y){let v=a.location.origin!=="null"?a.location.origin:a.location.href,p=typeof y=="string"?y:aC(y);return p=p.replace(/ $/,"%20"),et(v,"No window.location.(origin|href) available to create URL for href: "+p),new URL(p,v)}let b={get action(){return l},get location(){return e(a,o)},listen(y){if(s)throw new Error("A history only accepts one active listener");return a.addEventListener(Gx,f),s=y,()=>{a.removeEventListener(Gx,f),s=null}},createHref(y){return t(a,y)},createURL:g,encodeLocation(y){let v=g(y);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:h,replace:m,go(y){return o.go(y)}};return b}var Yx;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Yx||(Yx={}));function iz(e,t,r){return r===void 0&&(r="/"),oz(e,t,r)}function oz(e,t,r,n){let a=typeof t=="string"?ul(t):t,i=lC(a.pathname||"/",r);if(i==null)return null;let o=iC(e);lz(o);let l=null;for(let s=0;l==null&&s<o.length;++s){let u=bz(i);l=gz(o[s],u)}return l}function iC(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let a=(i,o,l)=>{let s={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};s.relativePath.startsWith("/")&&(et(s.relativePath.startsWith(n),'Absolute route path "'+s.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),s.relativePath=s.relativePath.slice(n.length));let u=gi([n,s.relativePath]),d=r.concat(s);i.children&&i.children.length>0&&(et(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),iC(i.children,t,d,u)),!(i.path==null&&!i.index)&&t.push({path:u,score:mz(u,i.index),routesMeta:d})};return e.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))a(i,o);else for(let s of oC(i.path))a(i,o,s)}),t}function oC(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,a=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return a?[i,""]:[i];let o=oC(n.join("/")),l=[];return l.push(...o.map(s=>s===""?i:[i,s].join("/"))),a&&l.push(...o),l.map(s=>e.startsWith("/")&&s===""?"/":s)}function lz(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:pz(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const sz=/^:[\w-]+$/,uz=3,cz=2,dz=1,fz=10,hz=-2,Xx=e=>e==="*";function mz(e,t){let r=e.split("/"),n=r.length;return r.some(Xx)&&(n+=hz),t&&(n+=cz),r.filter(a=>!Xx(a)).reduce((a,i)=>a+(sz.test(i)?uz:i===""?dz:fz),n)}function pz(e,t){return e.length===t.length&&e.slice(0,-1).every((n,a)=>n===t[a])?e[e.length-1]-t[t.length-1]:0}function gz(e,t,r){let{routesMeta:n}=e,a={},i="/",o=[];for(let l=0;l<n.length;++l){let s=n[l],u=l===n.length-1,d=i==="/"?t:t.slice(i.length)||"/",f=vz({path:s.relativePath,caseSensitive:s.caseSensitive,end:u},d),h=s.route;if(!f)return null;Object.assign(a,f.params),o.push({params:a,pathname:gi([i,f.pathname]),pathnameBase:jz(gi([i,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(i=gi([i,f.pathnameBase]))}return o}function vz(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=yz(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let i=a[0],o=i.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:n.reduce((u,d,f)=>{let{paramName:h,isOptional:m}=d;if(h==="*"){let b=l[f]||"";o=i.slice(0,i.length-b.length).replace(/(.)\/+$/,"$1")}const g=l[f];return m&&!g?u[h]=void 0:u[h]=(g||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:e}}function yz(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),yy(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,s)=>(n.push({paramName:l,isOptional:s!=null}),s?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function bz(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return yy(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function lC(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}const xz=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,wz=e=>xz.test(e);function _z(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:a=""}=typeof e=="string"?ul(e):e,i;if(r)if(wz(r))i=r;else{if(r.includes("//")){let o=r;r=r.replace(/\/\/+/g,"/"),yy(!1,"Pathnames cannot have embedded double slashes - normalizing "+(o+" -> "+r))}r.startsWith("/")?i=Zx(r.substring(1),"/"):i=Zx(r,t)}else i=t;return{pathname:i,search:Ez(n),hash:Oz(a)}}function Zx(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function Em(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Sz(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function sC(e,t){let r=Sz(e);return t?r.map((n,a)=>a===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function uC(e,t,r,n){n===void 0&&(n=!1);let a;typeof e=="string"?a=ul(e):(a=Os({},e),et(!a.pathname||!a.pathname.includes("?"),Em("?","pathname","search",a)),et(!a.pathname||!a.pathname.includes("#"),Em("#","pathname","hash",a)),et(!a.search||!a.search.includes("#"),Em("#","search","hash",a)));let i=e===""||a.pathname==="",o=i?"/":a.pathname,l;if(o==null)l=r;else{let f=t.length-1;if(!n&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),f-=1;a.pathname=h.join("/")}l=f>=0?t[f]:"/"}let s=_z(a,l),u=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&r.endsWith("/");return!s.pathname.endsWith("/")&&(u||d)&&(s.pathname+="/"),s}const gi=e=>e.join("/").replace(/\/\/+/g,"/"),jz=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Ez=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Oz=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Cz(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const cC=["post","put","patch","delete"];new Set(cC);const Az=["get",...cC];new Set(Az);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Cs(){return Cs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Cs.apply(this,arguments)}const by=x.createContext(null),Tz=x.createContext(null),au=x.createContext(null),Nf=x.createContext(null),Ua=x.createContext({outlet:null,matches:[],isDataRoute:!1}),dC=x.createContext(null);function iu(){return x.useContext(Nf)!=null}function Pf(){return iu()||et(!1),x.useContext(Nf).location}function fC(e){x.useContext(au).static||x.useLayoutEffect(e)}function cl(){let{isDataRoute:e}=x.useContext(Ua);return e?Wz():kz()}function kz(){iu()||et(!1);let e=x.useContext(by),{basename:t,future:r,navigator:n}=x.useContext(au),{matches:a}=x.useContext(Ua),{pathname:i}=Pf(),o=JSON.stringify(sC(a,r.v7_relativeSplatPath)),l=x.useRef(!1);return fC(()=>{l.current=!0}),x.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){n.go(u);return}let f=uC(u,JSON.parse(o),i,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:gi([t,f.pathname])),(d.replace?n.replace:n.push)(f,d.state,d)},[t,n,o,i,e])}const Nz=x.createContext(null);function Pz(e){let t=x.useContext(Ua).outlet;return t&&x.createElement(Nz.Provider,{value:e},t)}function Rz(e,t){return Mz(e,t)}function Mz(e,t,r,n){iu()||et(!1);let{navigator:a}=x.useContext(au),{matches:i}=x.useContext(Ua),o=i[i.length-1],l=o?o.params:{};o&&o.pathname;let s=o?o.pathnameBase:"/";o&&o.route;let u=Pf(),d;if(t){var f;let y=typeof t=="string"?ul(t):t;s==="/"||(f=y.pathname)!=null&&f.startsWith(s)||et(!1),d=y}else d=u;let h=d.pathname||"/",m=h;if(s!=="/"){let y=s.replace(/^\//,"").split("/");m="/"+h.replace(/^\//,"").split("/").slice(y.length).join("/")}let g=iz(e,{pathname:m}),b=$z(g&&g.map(y=>Object.assign({},y,{params:Object.assign({},l,y.params),pathname:gi([s,a.encodeLocation?a.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?s:gi([s,a.encodeLocation?a.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),i,r,n);return t&&b?x.createElement(Nf.Provider,{value:{location:Cs({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:_a.Pop}},b):b}function Dz(){let e=Hz(),t=Cz(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},t),r?x.createElement("pre",{style:a},r):null,null)}const zz=x.createElement(Dz,null);class Bz extends x.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?x.createElement(Ua.Provider,{value:this.props.routeContext},x.createElement(dC.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Iz(e){let{routeContext:t,match:r,children:n}=e,a=x.useContext(by);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),x.createElement(Ua.Provider,{value:t},n)}function $z(e,t,r,n){var a;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,l=(a=r)==null?void 0:a.errors;if(l!=null){let d=o.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);d>=0||et(!1),o=o.slice(0,Math.min(o.length,d+1))}let s=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<o.length;d++){let f=o[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:h,errors:m}=r,g=f.route.loader&&h[f.route.id]===void 0&&(!m||m[f.route.id]===void 0);if(f.route.lazy||g){s=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,f,h)=>{let m,g=!1,b=null,y=null;r&&(m=l&&f.route.id?l[f.route.id]:void 0,b=f.route.errorElement||zz,s&&(u<0&&h===0?(Vz("route-fallback"),g=!0,y=null):u===h&&(g=!0,y=f.route.hydrateFallbackElement||null)));let v=t.concat(o.slice(0,h+1)),p=()=>{let w;return m?w=b:g?w=y:f.route.Component?w=x.createElement(f.route.Component,null):f.route.element?w=f.route.element:w=d,x.createElement(Iz,{match:f,routeContext:{outlet:d,matches:v,isDataRoute:r!=null},children:w})};return r&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?x.createElement(Bz,{location:r.location,revalidation:r.revalidation,component:b,error:m,children:p(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):p()},null)}var hC=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(hC||{}),mC=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(mC||{});function Lz(e){let t=x.useContext(by);return t||et(!1),t}function Uz(e){let t=x.useContext(Tz);return t||et(!1),t}function qz(e){let t=x.useContext(Ua);return t||et(!1),t}function pC(e){let t=qz(),r=t.matches[t.matches.length-1];return r.route.id||et(!1),r.route.id}function Hz(){var e;let t=x.useContext(dC),r=Uz(),n=pC();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function Wz(){let{router:e}=Lz(hC.UseNavigateStable),t=pC(mC.UseNavigateStable),r=x.useRef(!1);return fC(()=>{r.current=!0}),x.useCallback(function(a,i){i===void 0&&(i={}),r.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,Cs({fromRouteId:t},i)))},[e,t])}const Jx={};function Vz(e,t,r){Jx[e]||(Jx[e]=!0)}function Kz(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function gC(e){let{to:t,replace:r,state:n,relative:a}=e;iu()||et(!1);let{future:i,static:o}=x.useContext(au),{matches:l}=x.useContext(Ua),{pathname:s}=Pf(),u=cl(),d=uC(t,sC(l,i.v7_relativeSplatPath),s,a==="path"),f=JSON.stringify(d);return x.useEffect(()=>u(JSON.parse(f),{replace:r,state:n,relative:a}),[u,f,a,r,n]),null}function Gz(e){return Pz(e.context)}function oa(e){et(!1)}function Fz(e){let{basename:t="/",children:r=null,location:n,navigationType:a=_a.Pop,navigator:i,static:o=!1,future:l}=e;iu()&&et(!1);let s=t.replace(/^\/*/,"/"),u=x.useMemo(()=>({basename:s,navigator:i,static:o,future:Cs({v7_relativeSplatPath:!1},l)}),[s,l,i,o]);typeof n=="string"&&(n=ul(n));let{pathname:d="/",search:f="",hash:h="",state:m=null,key:g="default"}=n,b=x.useMemo(()=>{let y=lC(d,s);return y==null?null:{location:{pathname:y,search:f,hash:h,state:m,key:g},navigationType:a}},[s,d,f,h,m,g,a]);return b==null?null:x.createElement(au.Provider,{value:u},x.createElement(Nf.Provider,{children:r,value:b}))}function Yz(e){let{children:t,location:r}=e;return Rz(ng(t),r)}new Promise(()=>{});function ng(e,t){t===void 0&&(t=[]);let r=[];return x.Children.forEach(e,(n,a)=>{if(!x.isValidElement(n))return;let i=[...t,a];if(n.type===x.Fragment){r.push.apply(r,ng(n.props.children,i));return}n.type!==oa&&et(!1),!n.props.index||!n.props.children||et(!1);let o={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=ng(n.props.children,i)),r.push(o)}),r}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ag(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(a=>[r,a]):[[r,n]])},[]))}function Xz(e,t){let r=ag(e);return t&&t.forEach((n,a)=>{r.has(a)||t.getAll(a).forEach(i=>{r.append(a,i)})}),r}const Zz="6";try{window.__reactRouterVersion=Zz}catch{}const Jz="startTransition",Qx=cj[Jz];function Qz(e){let{basename:t,children:r,future:n,window:a}=e,i=x.useRef();i.current==null&&(i.current=rz({window:a,v5Compat:!0}));let o=i.current,[l,s]=x.useState({action:o.action,location:o.location}),{v7_startTransition:u}=n||{},d=x.useCallback(f=>{u&&Qx?Qx(()=>s(f)):s(f)},[s,u]);return x.useLayoutEffect(()=>o.listen(d),[o,d]),x.useEffect(()=>Kz(n),[n]),x.createElement(Fz,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:o,future:n})}var e1;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(e1||(e1={}));var t1;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(t1||(t1={}));function vC(e){let t=x.useRef(ag(e)),r=x.useRef(!1),n=Pf(),a=x.useMemo(()=>Xz(n.search,r.current?null:t.current),[n.search]),i=cl(),o=x.useCallback((l,s)=>{const u=ag(typeof l=="function"?l(a):l);r.current=!0,i("?"+u,s)},[i,a]);return[a,o]}var ig=function(e,t){return ig=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])},ig(e,t)};function yC(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");ig(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var fd=function(){return fd=Object.assign||function(t){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},fd.apply(this,arguments)};function dl(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}function bC(e,t,r,n){var a=arguments.length,i=a<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,r,n);else for(var l=e.length-1;l>=0;l--)(o=e[l])&&(i=(a<3?o(i):a>3?o(t,r,i):o(t,r))||i);return a>3&&i&&Object.defineProperty(t,r,i),i}function xC(e,t){return function(r,n){t(r,n,e)}}function wC(e,t,r,n,a,i){function o(v){if(v!==void 0&&typeof v!="function")throw new TypeError("Function expected");return v}for(var l=n.kind,s=l==="getter"?"get":l==="setter"?"set":"value",u=!t&&e?n.static?e:e.prototype:null,d=t||(u?Object.getOwnPropertyDescriptor(u,n.name):{}),f,h=!1,m=r.length-1;m>=0;m--){var g={};for(var b in n)g[b]=b==="access"?{}:n[b];for(var b in n.access)g.access[b]=n.access[b];g.addInitializer=function(v){if(h)throw new TypeError("Cannot add initializers after decoration has completed");i.push(o(v||null))};var y=(0,r[m])(l==="accessor"?{get:d.get,set:d.set}:d[s],g);if(l==="accessor"){if(y===void 0)continue;if(y===null||typeof y!="object")throw new TypeError("Object expected");(f=o(y.get))&&(d.get=f),(f=o(y.set))&&(d.set=f),(f=o(y.init))&&a.unshift(f)}else(f=o(y))&&(l==="field"?a.unshift(f):d[s]=f)}u&&Object.defineProperty(u,n.name,d),h=!0}function _C(e,t,r){for(var n=arguments.length>2,a=0;a<t.length;a++)r=n?t[a].call(e,r):t[a].call(e);return n?r:void 0}function SC(e){return typeof e=="symbol"?e:"".concat(e)}function jC(e,t,r){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:r?"".concat(r," ",t):t})}function EC(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function G(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function l(d){try{u(n.next(d))}catch(f){o(f)}}function s(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):a(d.value).then(l,s)}u((n=n.apply(e,t||[])).next())})}function OC(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,a,i,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=l(0),o.throw=l(1),o.return=l(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function l(u){return function(d){return s([u,d])}}function s(u){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(r=0)),r;)try{if(n=1,a&&(i=u[0]&2?a.return:u[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,u[1])).done)return i;switch(a=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,a=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(d){u=[6,d],a=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}var Rf=Object.create?function(e,t,r,n){n===void 0&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);(!a||("get"in a?!t.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]};function CC(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&Rf(t,e,r)}function hd(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function xy(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),a,i=[],o;try{for(;(t===void 0||t-- >0)&&!(a=n.next()).done;)i.push(a.value)}catch(l){o={error:l}}finally{try{a&&!a.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return i}function AC(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(xy(arguments[t]));return e}function TC(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),a=0,t=0;t<r;t++)for(var i=arguments[t],o=0,l=i.length;o<l;o++,a++)n[a]=i[o];return n}function kC(e,t,r){if(r||arguments.length===2)for(var n=0,a=t.length,i;n<a;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}function qo(e){return this instanceof qo?(this.v=e,this):new qo(e)}function NC(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),a,i=[];return a=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),l("next"),l("throw"),l("return",o),a[Symbol.asyncIterator]=function(){return this},a;function o(m){return function(g){return Promise.resolve(g).then(m,f)}}function l(m,g){n[m]&&(a[m]=function(b){return new Promise(function(y,v){i.push([m,b,y,v])>1||s(m,b)})},g&&(a[m]=g(a[m])))}function s(m,g){try{u(n[m](g))}catch(b){h(i[0][3],b)}}function u(m){m.value instanceof qo?Promise.resolve(m.value.v).then(d,f):h(i[0][2],m)}function d(m){s("next",m)}function f(m){s("throw",m)}function h(m,g){m(g),i.shift(),i.length&&s(i[0][0],i[0][1])}}function PC(e){var t,r;return t={},n("next"),n("throw",function(a){throw a}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(a,i){t[a]=e[a]?function(o){return(r=!r)?{value:qo(e[a](o)),done:!1}:i?i(o):o}:i}}function RC(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof hd=="function"?hd(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(i){r[i]=e[i]&&function(o){return new Promise(function(l,s){o=e[i](o),a(l,s,o.done,o.value)})}}function a(i,o,l,s){Promise.resolve(s).then(function(u){i({value:u,done:l})},o)}}function MC(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var e5=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t},og=function(e){return og=Object.getOwnPropertyNames||function(t){var r=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[r.length]=n);return r},og(e)};function DC(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r=og(e),n=0;n<r.length;n++)r[n]!=="default"&&Rf(t,e,r[n]);return e5(t,e),t}function zC(e){return e&&e.__esModule?e:{default:e}}function BC(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)}function IC(e,t,r,n,a){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!a)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!a:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?a.call(e,r):a?a.value=r:t.set(e,r),r}function $C(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function LC(e,t,r){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var n,a;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=t[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=t[Symbol.dispose],r&&(a=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");a&&(n=function(){try{a.call(this)}catch(i){return Promise.reject(i)}}),e.stack.push({value:t,dispose:n,async:r})}else r&&e.stack.push({async:!0});return t}var t5=typeof SuppressedError=="function"?SuppressedError:function(e,t,r){var n=new Error(r);return n.name="SuppressedError",n.error=e,n.suppressed=t,n};function UC(e){function t(i){e.error=e.hasError?new t5(i,e.error,"An error was suppressed during disposal."):i,e.hasError=!0}var r,n=0;function a(){for(;r=e.stack.pop();)try{if(!r.async&&n===1)return n=0,e.stack.push(r),Promise.resolve().then(a);if(r.dispose){var i=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(i).then(a,function(o){return t(o),a()})}else n|=1}catch(o){t(o)}if(n===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return a()}function qC(e,t){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,n,a,i,o){return n?t?".jsx":".js":a&&(!i||!o)?r:a+i+"."+o.toLowerCase()+"js"}):e}const r5={__extends:yC,__assign:fd,__rest:dl,__decorate:bC,__param:xC,__esDecorate:wC,__runInitializers:_C,__propKey:SC,__setFunctionName:jC,__metadata:EC,__awaiter:G,__generator:OC,__createBinding:Rf,__exportStar:CC,__values:hd,__read:xy,__spread:AC,__spreadArrays:TC,__spreadArray:kC,__await:qo,__asyncGenerator:NC,__asyncDelegator:PC,__asyncValues:RC,__makeTemplateObject:MC,__importStar:DC,__importDefault:zC,__classPrivateFieldGet:BC,__classPrivateFieldSet:IC,__classPrivateFieldIn:$C,__addDisposableResource:LC,__disposeResources:UC,__rewriteRelativeImportExtension:qC},n5=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:LC,get __assign(){return fd},__asyncDelegator:PC,__asyncGenerator:NC,__asyncValues:RC,__await:qo,__awaiter:G,__classPrivateFieldGet:BC,__classPrivateFieldIn:$C,__classPrivateFieldSet:IC,__createBinding:Rf,__decorate:bC,__disposeResources:UC,__esDecorate:wC,__exportStar:CC,__extends:yC,__generator:OC,__importDefault:zC,__importStar:DC,__makeTemplateObject:MC,__metadata:EC,__param:xC,__propKey:SC,__read:xy,__rest:dl,__rewriteRelativeImportExtension:qC,__runInitializers:_C,__setFunctionName:jC,__spread:AC,__spreadArray:kC,__spreadArrays:TC,__values:hd,default:r5},Symbol.toStringTag,{value:"Module"})),a5="modulepreload",i5=function(e){return"/"+e},r1={},fl=function(t,r,n){let a=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));a=Promise.allSettled(r.map(s=>{if(s=i5(s),s in r1)return;r1[s]=!0;const u=s.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${s}"]${d}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":a5,u||(f.as="script"),f.crossOrigin="",f.href=s,l&&f.setAttribute("nonce",l),document.head.appendChild(f),u)return new Promise((h,m)=>{f.addEventListener("load",h),f.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${s}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return a.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return t().catch(i)})},o5=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>fl(async()=>{const{default:n}=await Promise.resolve().then(()=>Ii);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class wy extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class n1 extends wy{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class a1 extends wy{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class i1 extends wy{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var lg;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(lg||(lg={}));class l5{constructor(t,{headers:r={},customFetch:n,region:a=lg.Any}={}){this.url=t,this.headers=r,this.region=a,this.fetch=o5(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return G(this,arguments,void 0,function*(r,n={}){var a;try{const{headers:i,method:o,body:l,signal:s}=n;let u={},{region:d}=n;d||(d=this.region);const f=new URL(`${this.url}/${r}`);d&&d!=="any"&&(u["x-region"]=d,f.searchParams.set("forceFunctionRegion",d));let h;l&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)?typeof Blob<"u"&&l instanceof Blob||l instanceof ArrayBuffer?(u["Content-Type"]="application/octet-stream",h=l):typeof l=="string"?(u["Content-Type"]="text/plain",h=l):typeof FormData<"u"&&l instanceof FormData?h=l:(u["Content-Type"]="application/json",h=JSON.stringify(l)):h=l;const m=yield this.fetch(f.toString(),{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},u),this.headers),i),body:h,signal:s}).catch(v=>{throw v.name==="AbortError"?v:new n1(v)}),g=m.headers.get("x-relay-error");if(g&&g==="true")throw new a1(m);if(!m.ok)throw new i1(m);let b=((a=m.headers.get("Content-Type"))!==null&&a!==void 0?a:"text/plain").split(";")[0].trim(),y;return b==="application/json"?y=yield m.json():b==="application/octet-stream"||b==="application/pdf"?y=yield m.blob():b==="text/event-stream"?y=m:b==="multipart/form-data"?y=yield m.formData():y=yield m.text(),{data:y,error:null,response:m}}catch(i){return i instanceof Error&&i.name==="AbortError"?{data:null,error:new n1(i)}:{data:null,error:i,response:i instanceof i1||i instanceof a1?i.context:void 0}}})}}var Rt={};const hl=ej(n5);var Vu={},Ku={},Gu={},Fu={},Yu={},s5=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Ho=s5();const u5=Ho.fetch,HC=Ho.fetch.bind(Ho),WC=Ho.Headers,c5=Ho.Request,d5=Ho.Response,Ii=Object.freeze(Object.defineProperty({__proto__:null,Headers:WC,Request:c5,Response:d5,default:HC,fetch:u5},Symbol.toStringTag,{value:"Module"})),f5=ej(Ii);var Xu={},o1;function VC(){if(o1)return Xu;o1=1,Object.defineProperty(Xu,"__esModule",{value:!0});class e extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return Xu.default=e,Xu}var l1;function KC(){if(l1)return Yu;l1=1,Object.defineProperty(Yu,"__esModule",{value:!0});const e=hl,t=e.__importDefault(f5),r=e.__importDefault(VC());class n{constructor(i){var o,l;this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=new Headers(i.headers),this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=(o=i.shouldThrowOnError)!==null&&o!==void 0?o:!1,this.signal=i.signal,this.isMaybeSingle=(l=i.isMaybeSingle)!==null&&l!==void 0?l:!1,i.fetch?this.fetch=i.fetch:typeof fetch>"u"?this.fetch=t.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,o){return this.headers=new Headers(this.headers),this.headers.set(i,o),this}then(i,o){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const l=this.fetch;let s=l(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async u=>{var d,f,h,m;let g=null,b=null,y=null,v=u.status,p=u.statusText;if(u.ok){if(this.method!=="HEAD"){const S=await u.text();S===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((d=this.headers.get("Accept"))===null||d===void 0)&&d.includes("application/vnd.pgrst.plan+text"))?b=S:b=JSON.parse(S))}const _=(f=this.headers.get("Prefer"))===null||f===void 0?void 0:f.match(/count=(exact|planned|estimated)/),j=(h=u.headers.get("content-range"))===null||h===void 0?void 0:h.split("/");_&&j&&j.length>1&&(y=parseInt(j[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(b)&&(b.length>1?(g={code:"PGRST116",details:`Results contain ${b.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},b=null,y=null,v=406,p="Not Acceptable"):b.length===1?b=b[0]:b=null)}else{const _=await u.text();try{g=JSON.parse(_),Array.isArray(g)&&u.status===404&&(b=[],g=null,v=200,p="OK")}catch{u.status===404&&_===""?(v=204,p="No Content"):g={message:_}}if(g&&this.isMaybeSingle&&(!((m=g==null?void 0:g.details)===null||m===void 0)&&m.includes("0 rows"))&&(g=null,v=200,p="OK"),g&&this.shouldThrowOnError)throw new r.default(g)}return{error:g,data:b,count:y,status:v,statusText:p}});return this.shouldThrowOnError||(s=s.catch(u=>{var d,f,h;return{error:{message:`${(d=u==null?void 0:u.name)!==null&&d!==void 0?d:"FetchError"}: ${u==null?void 0:u.message}`,details:`${(f=u==null?void 0:u.stack)!==null&&f!==void 0?f:""}`,hint:"",code:`${(h=u==null?void 0:u.code)!==null&&h!==void 0?h:""}`},data:null,count:null,status:0,statusText:""}})),s.then(i,o)}returns(){return this}overrideTypes(){return this}}return Yu.default=n,Yu}var s1;function GC(){if(s1)return Fu;s1=1,Object.defineProperty(Fu,"__esModule",{value:!0});const t=hl.__importDefault(KC());class r extends t.default{select(a){let i=!1;const o=(a??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",o),this.headers.append("Prefer","return=representation"),this}order(a,{ascending:i=!0,nullsFirst:o,foreignTable:l,referencedTable:s=l}={}){const u=s?`${s}.order`:"order",d=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${d?`${d},`:""}${a}.${i?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(a,{foreignTable:i,referencedTable:o=i}={}){const l=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(l,`${a}`),this}range(a,i,{foreignTable:o,referencedTable:l=o}={}){const s=typeof l>"u"?"offset":`${l}.offset`,u=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(s,`${a}`),this.url.searchParams.set(u,`${i-a+1}`),this}abortSignal(a){return this.signal=a,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:a=!1,verbose:i=!1,settings:o=!1,buffers:l=!1,wal:s=!1,format:u="text"}={}){var d;const f=[a?"analyze":null,i?"verbose":null,o?"settings":null,l?"buffers":null,s?"wal":null].filter(Boolean).join("|"),h=(d=this.headers.get("Accept"))!==null&&d!==void 0?d:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${u}; for="${h}"; options=${f};`),u==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(a){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${a}`),this}}return Fu.default=r,Fu}var u1;function _y(){if(u1)return Gu;u1=1,Object.defineProperty(Gu,"__esModule",{value:!0});const t=hl.__importDefault(GC()),r=new RegExp("[,()]");class n extends t.default{eq(i,o){return this.url.searchParams.append(i,`eq.${o}`),this}neq(i,o){return this.url.searchParams.append(i,`neq.${o}`),this}gt(i,o){return this.url.searchParams.append(i,`gt.${o}`),this}gte(i,o){return this.url.searchParams.append(i,`gte.${o}`),this}lt(i,o){return this.url.searchParams.append(i,`lt.${o}`),this}lte(i,o){return this.url.searchParams.append(i,`lte.${o}`),this}like(i,o){return this.url.searchParams.append(i,`like.${o}`),this}likeAllOf(i,o){return this.url.searchParams.append(i,`like(all).{${o.join(",")}}`),this}likeAnyOf(i,o){return this.url.searchParams.append(i,`like(any).{${o.join(",")}}`),this}ilike(i,o){return this.url.searchParams.append(i,`ilike.${o}`),this}ilikeAllOf(i,o){return this.url.searchParams.append(i,`ilike(all).{${o.join(",")}}`),this}ilikeAnyOf(i,o){return this.url.searchParams.append(i,`ilike(any).{${o.join(",")}}`),this}is(i,o){return this.url.searchParams.append(i,`is.${o}`),this}in(i,o){const l=Array.from(new Set(o)).map(s=>typeof s=="string"&&r.test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(i,`in.(${l})`),this}contains(i,o){return typeof o=="string"?this.url.searchParams.append(i,`cs.${o}`):Array.isArray(o)?this.url.searchParams.append(i,`cs.{${o.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(o)}`),this}containedBy(i,o){return typeof o=="string"?this.url.searchParams.append(i,`cd.${o}`):Array.isArray(o)?this.url.searchParams.append(i,`cd.{${o.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(o)}`),this}rangeGt(i,o){return this.url.searchParams.append(i,`sr.${o}`),this}rangeGte(i,o){return this.url.searchParams.append(i,`nxl.${o}`),this}rangeLt(i,o){return this.url.searchParams.append(i,`sl.${o}`),this}rangeLte(i,o){return this.url.searchParams.append(i,`nxr.${o}`),this}rangeAdjacent(i,o){return this.url.searchParams.append(i,`adj.${o}`),this}overlaps(i,o){return typeof o=="string"?this.url.searchParams.append(i,`ov.${o}`):this.url.searchParams.append(i,`ov.{${o.join(",")}}`),this}textSearch(i,o,{config:l,type:s}={}){let u="";s==="plain"?u="pl":s==="phrase"?u="ph":s==="websearch"&&(u="w");const d=l===void 0?"":`(${l})`;return this.url.searchParams.append(i,`${u}fts${d}.${o}`),this}match(i){return Object.entries(i).forEach(([o,l])=>{this.url.searchParams.append(o,`eq.${l}`)}),this}not(i,o,l){return this.url.searchParams.append(i,`not.${o}.${l}`),this}or(i,{foreignTable:o,referencedTable:l=o}={}){const s=l?`${l}.or`:"or";return this.url.searchParams.append(s,`(${i})`),this}filter(i,o,l){return this.url.searchParams.append(i,`${o}.${l}`),this}}return Gu.default=n,Gu}var c1;function FC(){if(c1)return Ku;c1=1,Object.defineProperty(Ku,"__esModule",{value:!0});const t=hl.__importDefault(_y());class r{constructor(a,{headers:i={},schema:o,fetch:l}){this.url=a,this.headers=new Headers(i),this.schema=o,this.fetch=l}select(a,i){const{head:o=!1,count:l}=i??{},s=o?"HEAD":"GET";let u=!1;const d=(a??"*").split("").map(f=>/\s/.test(f)&&!u?"":(f==='"'&&(u=!u),f)).join("");return this.url.searchParams.set("select",d),l&&this.headers.append("Prefer",`count=${l}`),new t.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(a,{count:i,defaultToNull:o=!0}={}){var l;const s="POST";if(i&&this.headers.append("Prefer",`count=${i}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(a)){const u=a.reduce((d,f)=>d.concat(Object.keys(f)),[]);if(u.length>0){const d=[...new Set(u)].map(f=>`"${f}"`);this.url.searchParams.set("columns",d.join(","))}}return new t.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}upsert(a,{onConflict:i,ignoreDuplicates:o=!1,count:l,defaultToNull:s=!0}={}){var u;const d="POST";if(this.headers.append("Prefer",`resolution=${o?"ignore":"merge"}-duplicates`),i!==void 0&&this.url.searchParams.set("on_conflict",i),l&&this.headers.append("Prefer",`count=${l}`),s||this.headers.append("Prefer","missing=default"),Array.isArray(a)){const f=a.reduce((h,m)=>h.concat(Object.keys(m)),[]);if(f.length>0){const h=[...new Set(f)].map(m=>`"${m}"`);this.url.searchParams.set("columns",h.join(","))}}return new t.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}update(a,{count:i}={}){var o;const l="PATCH";return i&&this.headers.append("Prefer",`count=${i}`),new t.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}delete({count:a}={}){var i;const o="DELETE";return a&&this.headers.append("Prefer",`count=${a}`),new t.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}}return Ku.default=r,Ku}var d1;function h5(){if(d1)return Vu;d1=1,Object.defineProperty(Vu,"__esModule",{value:!0});const e=hl,t=e.__importDefault(FC()),r=e.__importDefault(_y());class n{constructor(i,{headers:o={},schema:l,fetch:s}={}){this.url=i,this.headers=new Headers(o),this.schemaName=l,this.fetch=s}from(i){const o=new URL(`${this.url}/${i}`);return new t.default(o,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(i){return new n(this.url,{headers:this.headers,schema:i,fetch:this.fetch})}rpc(i,o={},{head:l=!1,get:s=!1,count:u}={}){var d;let f;const h=new URL(`${this.url}/rpc/${i}`);let m;l||s?(f=l?"HEAD":"GET",Object.entries(o).filter(([b,y])=>y!==void 0).map(([b,y])=>[b,Array.isArray(y)?`{${y.join(",")}}`:`${y}`]).forEach(([b,y])=>{h.searchParams.append(b,y)})):(f="POST",m=o);const g=new Headers(this.headers);return u&&g.set("Prefer",`count=${u}`),new r.default({method:f,url:h,headers:g,schema:this.schemaName,body:m,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}}return Vu.default=n,Vu}Object.defineProperty(Rt,"__esModule",{value:!0});var YC=Rt.PostgrestError=iA=Rt.PostgrestBuilder=nA=Rt.PostgrestTransformBuilder=tA=Rt.PostgrestFilterBuilder=QC=Rt.PostgrestQueryBuilder=ZC=Rt.PostgrestClient=void 0;const ml=hl,XC=ml.__importDefault(h5());var ZC=Rt.PostgrestClient=XC.default;const JC=ml.__importDefault(FC());var QC=Rt.PostgrestQueryBuilder=JC.default;const eA=ml.__importDefault(_y());var tA=Rt.PostgrestFilterBuilder=eA.default;const rA=ml.__importDefault(GC());var nA=Rt.PostgrestTransformBuilder=rA.default;const aA=ml.__importDefault(KC());var iA=Rt.PostgrestBuilder=aA.default;const oA=ml.__importDefault(VC());YC=Rt.PostgrestError=oA.default;var lA=Rt.default={PostgrestClient:XC.default,PostgrestQueryBuilder:JC.default,PostgrestFilterBuilder:eA.default,PostgrestTransformBuilder:rA.default,PostgrestBuilder:aA.default,PostgrestError:oA.default};const m5=QS({__proto__:null,get PostgrestBuilder(){return iA},get PostgrestClient(){return ZC},get PostgrestError(){return YC},get PostgrestFilterBuilder(){return tA},get PostgrestQueryBuilder(){return QC},get PostgrestTransformBuilder(){return nA},default:lA},[Rt]),{PostgrestClient:p5,PostgrestQueryBuilder:sZ,PostgrestFilterBuilder:uZ,PostgrestTransformBuilder:cZ,PostgrestBuilder:dZ,PostgrestError:fZ}=lA||m5;class g5{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,a=parseInt(n.replace(/^v/,"").split(".")[0]);return a>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${a} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${a} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const v5="2.78.0",y5=`realtime-js/${v5}`,b5="1.0.0",sg=1e4,x5=1e3,w5=100;var ss;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(ss||(ss={}));var rt;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(rt||(rt={}));var Hr;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Hr||(Hr={}));var ug;(function(e){e.websocket="websocket"})(ug||(ug={}));var ai;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(ai||(ai={}));class _5{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const a=r.getUint8(1),i=r.getUint8(2);let o=this.HEADER_LENGTH+2;const l=n.decode(t.slice(o,o+a));o=o+a;const s=n.decode(t.slice(o,o+i));o=o+i;const u=JSON.parse(n.decode(t.slice(o,t.byteLength)));return{ref:null,topic:l,event:s,payload:u}}}class sA{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ce;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Ce||(Ce={}));const f1=(e,t,r={})=>{var n;const a=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((i,o)=>(i[o]=S5(o,e,t,a),i),{}):{}},S5=(e,t,r,n)=>{const a=t.find(l=>l.name===e),i=a==null?void 0:a.type,o=r[e];return i&&!n.includes(i)?uA(i,o):cg(o)},uA=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return C5(t,r)}switch(e){case Ce.bool:return j5(t);case Ce.float4:case Ce.float8:case Ce.int2:case Ce.int4:case Ce.int8:case Ce.numeric:case Ce.oid:return E5(t);case Ce.json:case Ce.jsonb:return O5(t);case Ce.timestamp:return A5(t);case Ce.abstime:case Ce.date:case Ce.daterange:case Ce.int4range:case Ce.int8range:case Ce.money:case Ce.reltime:case Ce.text:case Ce.time:case Ce.timestamptz:case Ce.timetz:case Ce.tsrange:case Ce.tstzrange:return cg(t);default:return cg(t)}},cg=e=>e,j5=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},E5=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},O5=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},C5=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const o=e.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(l=>uA(t,l))}return e},A5=e=>typeof e=="string"?e.replace(" ","T"):e,cA=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class Om{constructor(t,r,n={},a=sg){this.channel=t,this.event=r,this.payload=n,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var h1;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(h1||(h1={}));class us{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},a=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=us.syncState(this.state,a,i,o),this.pendingDiffs.forEach(s=>{this.state=us.syncDiff(this.state,s,i,o)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},a=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=us.syncDiff(this.state,a,i,o),l())}),this.onJoin((a,i,o)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:i,newPresences:o})}),this.onLeave((a,i,o)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,a){const i=this.cloneDeep(t),o=this.transformState(r),l={},s={};return this.map(i,(u,d)=>{o[u]||(s[u]=d)}),this.map(o,(u,d)=>{const f=i[u];if(f){const h=d.map(y=>y.presence_ref),m=f.map(y=>y.presence_ref),g=d.filter(y=>m.indexOf(y.presence_ref)<0),b=f.filter(y=>h.indexOf(y.presence_ref)<0);g.length>0&&(l[u]=g),b.length>0&&(s[u]=b)}else l[u]=d}),this.syncDiff(i,{joins:l,leaves:s},n,a)}static syncDiff(t,r,n,a){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),a||(a=()=>{}),this.map(i,(l,s)=>{var u;const d=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(s),d.length>0){const f=t[l].map(m=>m.presence_ref),h=d.filter(m=>f.indexOf(m.presence_ref)<0);t[l].unshift(...h)}n(l,d,s)}),this.map(o,(l,s)=>{let u=t[l];if(!u)return;const d=s.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),t[l]=u,a(l,u,s),u.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const a=t[n];return"metas"in a?r[n]=a.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=a,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var m1;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(m1||(m1={}));var cs;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(cs||(cs={}));var yn;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(yn||(yn={}));class Sy{constructor(t,r={config:{}},n){var a,i;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=rt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Om(this,Hr.join,this.params,this.timeout),this.rejoinTimer=new sA(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=rt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=rt.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=rt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=rt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=rt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Hr.reply,{},(o,l)=>{this._trigger(this._replyEventName(l),o)}),this.presence=new us(this),this.broadcastEndpointURL=cA(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(a=this.params.config)===null||a===void 0?void 0:a.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,a,i;if(this.socket.isConnected()||this.socket.connect(),this.state==rt.closed){const{config:{broadcast:o,presence:l,private:s}}=this.params,u=(a=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(m=>m.filter))!==null&&a!==void 0?a:[],d=!!this.bindings[cs.PRESENCE]&&this.bindings[cs.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,f={},h={broadcast:o,presence:Object.assign(Object.assign({},l),{enabled:d}),postgres_changes:u,private:s};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(m=>t==null?void 0:t(yn.CHANNEL_ERROR,m)),this._onClose(()=>t==null?void 0:t(yn.CLOSED)),this.updateJoinPayload(Object.assign({config:h},f)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:m})=>{var g;if(this.socket.setAuth(),m===void 0){t==null||t(yn.SUBSCRIBED);return}else{const b=this.bindings.postgres_changes,y=(g=b==null?void 0:b.length)!==null&&g!==void 0?g:0,v=[];for(let p=0;p<y;p++){const w=b[p],{filter:{event:_,schema:j,table:S,filter:E}}=w,O=m&&m[p];if(O&&O.event===_&&O.schema===j&&O.table===S&&O.filter===E)v.push(Object.assign(Object.assign({},w),{id:O.id}));else{this.unsubscribe(),this.state=rt.errored,t==null||t(yn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=v,t&&t(yn.SUBSCRIBED);return}}).receive("error",m=>{this.state=rt.errored,t==null||t(yn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(m).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(yn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===rt.joined&&t===cs.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,r,n)}async httpSend(t,r,n={}){var a;const i=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const o={method:"POST",headers:{Authorization:i,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},l=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(a=n.timeout)!==null&&a!==void 0?a:this.timeout);if(l.status===202)return{success:!0};let s=l.statusText;try{const u=await l.json();s=u.error||u.message||s}catch{}return Promise.reject(new Error(s))}async send(t,r={}){var n,a;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:o}=t,s={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,s,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((a=u.body)===null||a===void 0?void 0:a.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,l,s;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((s=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||s===void 0)&&s.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=rt.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Hr.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(a=>{n=new Om(this,Hr.leave,{},t),n.receive("ok",()=>{r(),a("ok")}).receive("timeout",()=>{r(),a("timed out")}).receive("error",()=>{a("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=rt.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const a=new AbortController,i=setTimeout(()=>a.abort(),n),o=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:a.signal}));return clearTimeout(i),o}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new Om(this,t,r,n);return this._canPush()?a.send():this._addToPushBuffer(a),a}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>w5){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var a,i;const o=t.toLocaleLowerCase(),{close:l,error:s,leave:u,join:d}=Hr;if(n&&[l,s,u,d].indexOf(o)>=0&&n!==this._joinRef())return;let h=this._onMessage(o,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(m=>{var g,b,y;return((g=m.filter)===null||g===void 0?void 0:g.event)==="*"||((y=(b=m.filter)===null||b===void 0?void 0:b.event)===null||y===void 0?void 0:y.toLocaleLowerCase())===o}).map(m=>m.callback(h,n)):(i=this.bindings[o])===null||i===void 0||i.filter(m=>{var g,b,y,v,p,w;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in m){const _=m.id,j=(g=m.filter)===null||g===void 0?void 0:g.event;return _&&((b=r.ids)===null||b===void 0?void 0:b.includes(_))&&(j==="*"||(j==null?void 0:j.toLocaleLowerCase())===((y=r.data)===null||y===void 0?void 0:y.type.toLocaleLowerCase()))}else{const _=(p=(v=m==null?void 0:m.filter)===null||v===void 0?void 0:v.event)===null||p===void 0?void 0:p.toLocaleLowerCase();return _==="*"||_===((w=r==null?void 0:r.event)===null||w===void 0?void 0:w.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===o}).map(m=>{if(typeof h=="object"&&"ids"in h){const g=h.data,{schema:b,table:y,commit_timestamp:v,type:p,errors:w}=g;h=Object.assign(Object.assign({},{schema:b,table:y,commit_timestamp:v,eventType:p,new:{},old:{},errors:w}),this._getPayloadRecords(g))}m.callback(h,n)})}_isClosed(){return this.state===rt.closed}_isJoined(){return this.state===rt.joined}_isJoining(){return this.state===rt.joining}_isLeaving(){return this.state===rt.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const a=t.toLocaleLowerCase(),i={type:a,filter:r,callback:n};return this.bindings[a]?this.bindings[a].push(i):this.bindings[a]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(a=>{var i;return!(((i=a.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&Sy.isEqual(a.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Hr.close,{},t)}_onError(t){this._on(Hr.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=rt.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=f1(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=f1(t.columns,t.old_record)),r}}const Cm=()=>{},Zu={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},T5=[1e3,2e3,5e3,1e4],k5=1e4,N5=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class P5{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=sg,this.transport=null,this.heartbeatIntervalMs=Zu.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Cm,this.ref=0,this.reconnectTimer=null,this.logger=Cm,this.conn=null,this.sendBuffer=[],this.serializer=new _5,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=a=>{let i;return a?i=a:typeof fetch>"u"?i=(...o)=>fl(async()=>{const{default:l}=await Promise.resolve().then(()=>Ii);return{default:l}},void 0).then(({default:l})=>l(...o)).catch(l=>{throw new Error(`Failed to load @supabase/node-fetch: ${l.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):i=fetch,(...o)=>i(...o)},!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${ug.websocket}`,this.httpEndpoint=cA(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=g5.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:b5}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},t?this.conn.close(t,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case ss.connecting:return ai.Connecting;case ss.open:return ai.Open;case ss.closing:return ai.Closing;default:return ai.Closed}}isConnected(){return this.connectionState()===ai.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,a=this.getChannels().find(i=>i.topic===n);if(a)return a;{const i=new Sy(`realtime:${t}`,r,this);return this.channels.push(i),i}}push(t){const{topic:r,event:n,payload:a,ref:i}=t,o=()=>{this.encode(t,l=>{var s;(s=this.conn)===null||s===void 0||s.send(l)})};this.log("push",`${r} ${n} (${i})`,a),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(x5,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Zu.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:a,payload:i,ref:o}=r,l=o?`(${o})`:"",s=i.status||"";this.log("receive",`${s} ${n} ${a} ${l}`.trim(),i),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(a,i,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Hr.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",a=new URLSearchParams(r);return`${t}${n}${a}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([N5],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r;t?r=t:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const a={access_token:r,version:y5};r&&n.updateJoinPayload(a),n.joinedOnce&&n._isJoined()&&n._push(Hr.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(a){this.log("error",`error in ${t} callback`,a)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new sA(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Zu.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,a,i,o,l,s,u,d;if(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:sg,this.heartbeatIntervalMs=(a=t==null?void 0:t.heartbeatIntervalMs)!==null&&a!==void 0?a:Zu.HEARTBEAT_INTERVAL,this.worker=(i=t==null?void 0:t.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=t==null?void 0:t.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(l=t==null?void 0:t.heartbeatCallback)!==null&&l!==void 0?l:Cm,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(s=t==null?void 0:t.reconnectAfterMs)!==null&&s!==void 0?s:f=>T5[f-1]||k5,this.encode=(u=t==null?void 0:t.encode)!==null&&u!==void 0?u:(f,h)=>h(JSON.stringify(f)),this.decode=(d=t==null?void 0:t.decode)!==null&&d!==void 0?d:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class jy extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function $e(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class R5 extends jy{constructor(t,r,n){super(t),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class dg extends jy{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}const Ey=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>fl(async()=>{const{default:n}=await Promise.resolve().then(()=>Ii);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},M5=()=>G(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield fl(()=>Promise.resolve().then(()=>Ii),void 0)).Response:Response}),fg=e=>{if(Array.isArray(e))return e.map(r=>fg(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const a=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[a]=fg(n)}),t},D5=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Am=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},z5=(e,t,r)=>G(void 0,void 0,void 0,function*(){const n=yield M5();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(a=>{const i=e.status||500,o=(a==null?void 0:a.statusCode)||i+"";t(new R5(Am(a),i,o))}).catch(a=>{t(new dg(Am(a),a))}):t(new dg(Am(e),e))}),B5=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!n?a:(D5(n)?(a.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),a.body=JSON.stringify(n)):a.body=n,t!=null&&t.duplex&&(a.duplex=t.duplex),Object.assign(Object.assign({},a),r))};function ou(e,t,r,n,a,i){return G(this,void 0,void 0,function*(){return new Promise((o,l)=>{e(r,B5(t,n,a,i)).then(s=>{if(!s.ok)throw s;return n!=null&&n.noResolveJson?s:s.json()}).then(s=>o(s)).catch(s=>z5(s,l,n))})})}function As(e,t,r,n){return G(this,void 0,void 0,function*(){return ou(e,"GET",t,r,n)})}function Ur(e,t,r,n,a){return G(this,void 0,void 0,function*(){return ou(e,"POST",t,n,a,r)})}function hg(e,t,r,n,a){return G(this,void 0,void 0,function*(){return ou(e,"PUT",t,n,a,r)})}function I5(e,t,r,n){return G(this,void 0,void 0,function*(){return ou(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function Oy(e,t,r,n,a){return G(this,void 0,void 0,function*(){return ou(e,"DELETE",t,n,a,r)})}class $5{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r}then(t,r){return this.execute().then(t,r)}execute(){return G(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if($e(t))return{data:null,error:t};throw t}})}}var dA;class L5{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r,this[dA]="BlobDownloadBuilder",this.promise=null}asStream(){return new $5(this.downloadFn,this.shouldThrowOnError)}then(t,r){return this.getPromise().then(t,r)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return G(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if($e(t))return{data:null,error:t};throw t}})}}dA=Symbol.toStringTag;const U5={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},p1={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class q5{constructor(t,r={},n,a){this.shouldThrowOnError=!1,this.url=t,this.headers=r,this.bucketId=n,this.fetch=Ey(a)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,r,n,a){return G(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},p1),a);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const s=o.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),s&&i.append("metadata",this.encodeMetadata(s)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",o.cacheControl),s&&i.append("metadata",this.encodeMetadata(s))):(i=n,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,s&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(s)))),a!=null&&a.headers&&(l=Object.assign(Object.assign({},l),a.headers));const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),f=yield(t=="PUT"?hg:Ur)(this.fetch,`${this.url}/object/${d}`,i,Object.assign({headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:u,id:f.Id,fullPath:f.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if($e(i))return{data:null,error:i};throw i}})}upload(t,r,n){return G(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,a){return G(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),o=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",r);try{let s;const u=Object.assign({upsert:p1.upsert},a),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(s=new FormData,s.append("cacheControl",u.cacheControl),s.append("",n)):typeof FormData<"u"&&n instanceof FormData?(s=n,s.append("cacheControl",u.cacheControl)):(s=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const f=yield hg(this.fetch,l.toString(),s,{headers:d});return{data:{path:i,fullPath:f.Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if($e(s))return{data:null,error:s};throw s}})}createSignedUploadUrl(t,r){return G(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const a=Object.assign({},this.headers);r!=null&&r.upsert&&(a["x-upsert"]="true");const i=yield Ur(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:a}),o=new URL(this.url+i.url),l=o.searchParams.get("token");if(!l)throw new jy("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:l},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if($e(n))return{data:null,error:n};throw n}})}update(t,r,n){return G(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return G(this,void 0,void 0,function*(){try{return{data:yield Ur(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if($e(a))return{data:null,error:a};throw a}})}copy(t,r,n){return G(this,void 0,void 0,function*(){try{return{data:{path:(yield Ur(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if($e(a))return{data:null,error:a};throw a}})}createSignedUrl(t,r,n){return G(this,void 0,void 0,function*(){try{let a=this._getFinalPath(t),i=yield Ur(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(a){if(this.shouldThrowOnError)throw a;if($e(a))return{data:null,error:a};throw a}})}createSignedUrls(t,r,n){return G(this,void 0,void 0,function*(){try{const a=yield Ur(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:a.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if($e(a))return{data:null,error:a};throw a}})}download(t,r){const a=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=i?`?${i}`:"",l=this._getFinalPath(t),s=()=>As(this.fetch,`${this.url}/${a}/${l}${o}`,{headers:this.headers,noResolveJson:!0});return new L5(s,this.shouldThrowOnError)}info(t){return G(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield As(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:fg(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if($e(n))return{data:null,error:n};throw n}})}exists(t){return G(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield I5(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if($e(n)&&n instanceof dg){const a=n.originalError;if([400,404].includes(a==null?void 0:a.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),a=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&a.push(i);const l=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",s=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});s!==""&&a.push(s);let u=a.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${u}`)}}}remove(t){return G(this,void 0,void 0,function*(){try{return{data:yield Oy(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if($e(r))return{data:null,error:r};throw r}})}list(t,r,n){return G(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},U5),r),{prefix:t||""});return{data:yield Ur(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},n),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if($e(a))return{data:null,error:a};throw a}})}listV2(t,r){return G(this,void 0,void 0,function*(){try{const n=Object.assign({},t);return{data:yield Ur(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if($e(n))return{data:null,error:n};throw n}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const fA="2.78.0",hA={"X-Client-Info":`storage-js/${fA}`};class H5{constructor(t,r={},n,a){this.shouldThrowOnError=!1;const i=new URL(t);a!=null&&a.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},hA),r),this.fetch=Ey(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(t){return G(this,void 0,void 0,function*(){try{const r=this.listBucketOptionsToQueryString(t);return{data:yield As(this.fetch,`${this.url}/bucket${r}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if($e(r))return{data:null,error:r};throw r}})}getBucket(t){return G(this,void 0,void 0,function*(){try{return{data:yield As(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if($e(r))return{data:null,error:r};throw r}})}createBucket(t){return G(this,arguments,void 0,function*(r,n={public:!1}){try{return{data:yield Ur(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if($e(a))return{data:null,error:a};throw a}})}updateBucket(t,r){return G(this,void 0,void 0,function*(){try{return{data:yield hg(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if($e(n))return{data:null,error:n};throw n}})}emptyBucket(t){return G(this,void 0,void 0,function*(){try{return{data:yield Ur(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if($e(r))return{data:null,error:r};throw r}})}deleteBucket(t){return G(this,void 0,void 0,function*(){try{return{data:yield Oy(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if($e(r))return{data:null,error:r};throw r}})}listBucketOptionsToQueryString(t){const r={};return t&&("limit"in t&&(r.limit=String(t.limit)),"offset"in t&&(r.offset=String(t.offset)),t.search&&(r.search=t.search),t.sortColumn&&(r.sortColumn=t.sortColumn),t.sortOrder&&(r.sortOrder=t.sortOrder)),Object.keys(r).length>0?"?"+new URLSearchParams(r).toString():""}}class W5{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},hA),r),this.fetch=Ey(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return G(this,void 0,void 0,function*(){try{return{data:yield Ur(this.fetch,`${this.url}/bucket`,{name:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if($e(r))return{data:null,error:r};throw r}})}listBuckets(t){return G(this,void 0,void 0,function*(){try{const r=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&r.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&r.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&r.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&r.set("sortOrder",t.sortOrder),t!=null&&t.search&&r.set("search",t.search);const n=r.toString(),a=n?`${this.url}/bucket?${n}`:`${this.url}/bucket`;return{data:yield As(this.fetch,a,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if($e(r))return{data:null,error:r};throw r}})}deleteBucket(t){return G(this,void 0,void 0,function*(){try{return{data:yield Oy(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if($e(r))return{data:null,error:r};throw r}})}}const Cy={"X-Client-Info":`storage-js/${fA}`,"Content-Type":"application/json"};class mA extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function ir(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}class Tm extends mA{constructor(t,r,n){super(t),this.name="StorageVectorsApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class V5 extends mA{constructor(t,r){super(t),this.name="StorageVectorsUnknownError",this.originalError=r}}var g1;(function(e){e.InternalError="InternalError",e.S3VectorConflictException="S3VectorConflictException",e.S3VectorNotFoundException="S3VectorNotFoundException",e.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",e.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",e.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(g1||(g1={}));const Ay=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>fl(async()=>{const{default:n}=await Promise.resolve().then(()=>Ii);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},K5=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},v1=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),G5=(e,t,r)=>G(void 0,void 0,void 0,function*(){if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(r!=null&&r.noResolveJson)){const a=e.status||500,i=e;if(typeof i.json=="function")i.json().then(o=>{const l=(o==null?void 0:o.statusCode)||(o==null?void 0:o.code)||a+"";t(new Tm(v1(o),a,l))}).catch(()=>{const o=a+"",l=i.statusText||`HTTP ${a} error`;t(new Tm(l,a,o))});else{const o=a+"",l=i.statusText||`HTTP ${a} error`;t(new Tm(l,a,o))}}else t(new V5(v1(e),e))}),F5=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return n?(K5(n)?(a.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),a.body=JSON.stringify(n)):a.body=n,Object.assign(Object.assign({},a),r)):a};function Y5(e,t,r,n,a,i){return G(this,void 0,void 0,function*(){return new Promise((o,l)=>{e(r,F5(t,n,a,i)).then(s=>{if(!s.ok)throw s;if(n!=null&&n.noResolveJson)return s;const u=s.headers.get("content-type");return!u||!u.includes("application/json")?{}:s.json()}).then(s=>o(s)).catch(s=>G5(s,l,n))})})}function or(e,t,r,n,a){return G(this,void 0,void 0,function*(){return Y5(e,"POST",t,n,a,r)})}class X5{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Cy),r),this.fetch=Ay(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(t){return G(this,void 0,void 0,function*(){try{return{data:(yield or(this.fetch,`${this.url}/CreateIndex`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ir(r))return{data:null,error:r};throw r}})}getIndex(t,r){return G(this,void 0,void 0,function*(){try{return{data:yield or(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ir(n))return{data:null,error:n};throw n}})}listIndexes(t){return G(this,void 0,void 0,function*(){try{return{data:yield or(this.fetch,`${this.url}/ListIndexes`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ir(r))return{data:null,error:r};throw r}})}deleteIndex(t,r){return G(this,void 0,void 0,function*(){try{return{data:(yield or(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ir(n))return{data:null,error:n};throw n}})}}class Z5{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Cy),r),this.fetch=Ay(n)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(t){return G(this,void 0,void 0,function*(){try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield or(this.fetch,`${this.url}/PutVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ir(r))return{data:null,error:r};throw r}})}getVectors(t){return G(this,void 0,void 0,function*(){try{return{data:yield or(this.fetch,`${this.url}/GetVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ir(r))return{data:null,error:r};throw r}})}listVectors(t){return G(this,void 0,void 0,function*(){try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:yield or(this.fetch,`${this.url}/ListVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ir(r))return{data:null,error:r};throw r}})}queryVectors(t){return G(this,void 0,void 0,function*(){try{return{data:yield or(this.fetch,`${this.url}/QueryVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ir(r))return{data:null,error:r};throw r}})}deleteVectors(t){return G(this,void 0,void 0,function*(){try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield or(this.fetch,`${this.url}/DeleteVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ir(r))return{data:null,error:r};throw r}})}}class J5{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Cy),r),this.fetch=Ay(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return G(this,void 0,void 0,function*(){try{return{data:(yield or(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ir(r))return{data:null,error:r};throw r}})}getBucket(t){return G(this,void 0,void 0,function*(){try{return{data:yield or(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ir(r))return{data:null,error:r};throw r}})}listBuckets(){return G(this,arguments,void 0,function*(t={}){try{return{data:yield or(this.fetch,`${this.url}/ListVectorBuckets`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ir(r))return{data:null,error:r};throw r}})}deleteBucket(t){return G(this,void 0,void 0,function*(){try{return{data:(yield or(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ir(r))return{data:null,error:r};throw r}})}}class Q5 extends J5{constructor(t,r={}){super(t,r.headers||{},r.fetch)}from(t){return new e3(this.url,this.headers,t,this.fetch)}}class e3 extends X5{constructor(t,r,n,a){super(t,r,a),this.vectorBucketName=n}createIndex(t){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return G(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const t=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return G(this,arguments,void 0,function*(r={}){return t.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(t){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return G(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,t)})}deleteIndex(t){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return G(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,t)})}index(t){return new t3(this.url,this.headers,this.vectorBucketName,t,this.fetch)}}class t3 extends Z5{constructor(t,r,n,a,i){super(t,r,i),this.vectorBucketName=n,this.indexName=a}putVectors(t){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return G(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(t){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return G(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const t=Object.create(null,{listVectors:{get:()=>super.listVectors}});return G(this,arguments,void 0,function*(r={}){return t.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(t){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return G(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(t){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return G(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class r3 extends H5{constructor(t,r={},n,a){super(t,r,n,a)}from(t){return new q5(this.url,this.headers,t,this.fetch)}get vectors(){return new Q5(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new W5(this.url+"/iceberg",this.headers,this.fetch)}}const n3="2.78.0";let Vl="";typeof Deno<"u"?Vl="deno":typeof document<"u"?Vl="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Vl="react-native":Vl="node";const a3={"X-Client-Info":`supabase-js-${Vl}/${n3}`},i3={headers:a3},o3={schema:"public"},l3={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},s3={},u3=e=>{let t;return e?t=e:typeof fetch>"u"?t=HC:t=fetch,(...r)=>t(...r)},c3=()=>typeof Headers>"u"?WC:Headers,d3=(e,t,r)=>{const n=u3(r),a=c3();return async(i,o)=>{var l;const s=(l=await t())!==null&&l!==void 0?l:e;let u=new a(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${s}`),n(i,Object.assign(Object.assign({},o),{headers:u}))}};function f3(e){return e.endsWith("/")?e:e+"/"}function h3(e,t){var r,n;const{db:a,auth:i,realtime:o,global:l}=e,{db:s,auth:u,realtime:d,global:f}=t,h={db:Object.assign(Object.assign({},s),a),auth:Object.assign(Object.assign({},u),i),realtime:Object.assign(Object.assign({},d),o),storage:{},global:Object.assign(Object.assign(Object.assign({},f),l),{headers:Object.assign(Object.assign({},(r=f==null?void 0:f.headers)!==null&&r!==void 0?r:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}function m3(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(f3(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const pA="2.78.0",no=30*1e3,mg=3,km=mg*no,p3="http://localhost:9999",g3="supabase.auth.token",v3={"X-Client-Info":`gotrue-js/${pA}`},pg="X-Supabase-Api-Version",gA={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},y3=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,b3=10*60*1e3;class Ts extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function X(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class x3 extends Ts{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function w3(e){return X(e)&&e.name==="AuthApiError"}class ii extends Ts{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class qa extends Ts{constructor(t,r,n,a){super(t,n,a),this.name=r,this.status=n}}class $r extends qa{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function _3(e){return X(e)&&e.name==="AuthSessionMissingError"}class Ki extends qa{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Ju extends qa{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Qu extends qa{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function S3(e){return X(e)&&e.name==="AuthImplicitGrantRedirectError"}class y1 extends qa{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class gg extends qa{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function Nm(e){return X(e)&&e.name==="AuthRetryableFetchError"}class b1 extends qa{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class vg extends qa{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const md="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),x1=` 	
\r=`.split(""),j3=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<x1.length;t+=1)e[x1[t].charCodeAt(0)]=-2;for(let t=0;t<md.length;t+=1)e[md[t].charCodeAt(0)]=t;return e})();function w1(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(md[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(md[n]),t.queuedBits-=6}}function vA(e,t,r){const n=j3[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function _1(e){const t=[],r=o=>{t.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},i=o=>{C3(o,n,r)};for(let o=0;o<e.length;o+=1)vA(e.charCodeAt(o),a,i);return t.join("")}function E3(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function O3(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const a=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|a)+65536,r+=1}E3(n,t)}}function C3(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function Ao(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};for(let a=0;a<e.length;a+=1)vA(e.charCodeAt(a),r,n);return new Uint8Array(t)}function A3(e){const t=[];return O3(e,r=>t.push(r)),new Uint8Array(t)}function oi(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};return e.forEach(a=>w1(a,r,n)),w1(null,r,n),t.join("")}function T3(e){return Math.round(Date.now()/1e3)+e}function k3(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Nt=()=>typeof window<"u"&&typeof document<"u",Fa={tested:!1,writable:!1},yA=()=>{if(!Nt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Fa.tested)return Fa.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Fa.tested=!0,Fa.writable=!0}catch{Fa.tested=!0,Fa.writable=!1}return Fa.writable};function N3(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((a,i)=>{t[i]=a})}catch{}return r.searchParams.forEach((n,a)=>{t[a]=n}),t}const bA=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>fl(async()=>{const{default:n}=await Promise.resolve().then(()=>Ii);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},P3=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",ao=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},Ya=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},ia=async(e,t)=>{await e.removeItem(t)};class Mf{constructor(){this.promise=new Mf.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}Mf.promiseConstructor=Promise;function Pm(e){const t=e.split(".");if(t.length!==3)throw new vg("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!y3.test(t[n]))throw new vg("JWT not in base64url format");return{header:JSON.parse(_1(t[0])),payload:JSON.parse(_1(t[1])),signature:Ao(t[2]),raw:{header:t[0],payload:t[1]}}}async function R3(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function M3(e,t){return new Promise((n,a)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){n(o);return}}catch(o){if(!t(i,o)){a(o);return}}})()})}function D3(e){return("0"+e.toString(16)).substr(-2)}function z3(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let a="";for(let i=0;i<56;i++)a+=r.charAt(Math.floor(Math.random()*n));return a}return crypto.getRandomValues(t),Array.from(t,D3).join("")}async function B3(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),a=new Uint8Array(n);return Array.from(a).map(i=>String.fromCharCode(i)).join("")}async function I3(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await B3(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Gi(e,t,r=!1){const n=z3();let a=n;r&&(a+="/PASSWORD_RECOVERY"),await ao(e,`${t}-code-verifier`,a);const i=await I3(n);return[i,n===i?"plain":"s256"]}const $3=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function L3(e){const t=e.headers.get(pg);if(!t||!t.match($3))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function U3(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function q3(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const H3=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Fi(e){if(!H3.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Rm(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function W3(e,t){return new Proxy(e,{get:(r,n,a)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const i=n.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,a)}return!t.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(r,n,a)}})}function S1(e){return JSON.parse(JSON.stringify(e))}const ei=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),V3=[502,503,504];async function j1(e){var t;if(!P3(e))throw new gg(ei(e),0);if(V3.includes(e.status))throw new gg(ei(e),e.status);let r;try{r=await e.json()}catch(i){throw new ii(ei(i),i)}let n;const a=L3(e);if(a&&a.getTime()>=gA["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new b1(ei(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new $r}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new b1(ei(r),e.status,r.weak_password.reasons);throw new x3(ei(r),e.status||500,n)}const K3=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),a.body=JSON.stringify(n),Object.assign(Object.assign({},a),r))};async function J(e,t,r,n){var a;const i=Object.assign({},n==null?void 0:n.headers);i[pg]||(i[pg]=gA["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(a=n==null?void 0:n.query)!==null&&a!==void 0?a:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",s=await G3(e,t,r+l,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(s):{data:Object.assign({},s),error:null}}async function G3(e,t,r,n,a,i){const o=K3(t,n,a,i);let l;try{l=await e(r,Object.assign({},o))}catch(s){throw console.error(s),new gg(ei(s),0)}if(l.ok||await j1(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(s){await j1(s)}}function Lr(e){var t;let r=null;X3(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=T3(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function E1(e){const t=Lr(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function pa(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function F3(e){return{data:e,error:null}}function Y3(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i}=e,o=dl(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i},s=Object.assign({},o);return{data:{properties:l,user:s},error:null}}function O1(e){return e}function X3(e){return e.access_token&&e.refresh_token&&e.expires_in}const Mm=["global","local","others"];class Z3{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=bA(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=Mm[0]){if(Mm.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Mm.join(", ")}`);try{return await J(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(X(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await J(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:pa})}catch(n){if(X(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=dl(t,["options"]),a=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(a.new_email=n==null?void 0:n.newEmail,delete a.newEmail),await J(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:Y3,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(X(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await J(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:pa})}catch(r){if(X(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,a,i,o,l,s;try{const u={nextPage:null,lastPage:0,total:0},d=await J(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(a=t==null?void 0:t.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:O1});if(d.error)throw d.error;const f=await d.json(),h=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,m=(s=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&s!==void 0?s:[];return m.length>0&&(m.forEach(g=>{const b=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),y=JSON.parse(g.split(";")[1].split("=")[1]);u[`${y}Page`]=b}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(X(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){Fi(t);try{return await J(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:pa})}catch(r){if(X(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){Fi(t);try{return await J(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:pa})}catch(n){if(X(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){Fi(t);try{return await J(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:pa})}catch(n){if(X(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){Fi(t.userId);try{const{data:r,error:n}=await J(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:r,error:n}}catch(r){if(X(r))return{data:null,error:r};throw r}}async _deleteFactor(t){Fi(t.userId),Fi(t.id);try{return{data:await J(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(X(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,n,a,i,o,l,s;try{const u={nextPage:null,lastPage:0,total:0},d=await J(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(a=t==null?void 0:t.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:O1});if(d.error)throw d.error;const f=await d.json(),h=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,m=(s=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&s!==void 0?s:[];return m.length>0&&(m.forEach(g=>{const b=parseInt(g.split(";")[0].split("=")[1].substring(0,1)),y=JSON.parse(g.split(";")[1].split("=")[1]);u[`${y}Page`]=b}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(X(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(t){try{return await J(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(X(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await J(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(X(r))return{data:null,error:r};throw r}}async _updateOAuthClient(t,r){try{return await J(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(X(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await J(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(X(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await J(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(X(r))return{data:null,error:r};throw r}}}function C1(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const Yi={debug:!!(globalThis&&yA()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class xA extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class J3 extends xA{}async function Q3(e,t,r){Yi.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Yi.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async a=>{if(a){Yi.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,a.name);try{return await r()}finally{Yi.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,a.name)}}else{if(t===0)throw Yi.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new J3(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Yi.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function e4(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function wA(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function t4(e){return parseInt(e,16)}function r4(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function n4(e){var t;const{chainId:r,domain:n,expirationTime:a,issuedAt:i=new Date,nonce:o,notBefore:l,requestId:s,resources:u,scheme:d,uri:f,version:h}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!f)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(h!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${h}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const m=wA(e.address),g=d?`${d}://${n}`:n,b=e.statement?`${e.statement}
`:"",y=`${g} wants you to sign in with your Ethereum account:
${m}

${b}`;let v=`URI: ${f}
Version: ${h}
Chain ID: ${r}${o?`
Nonce: ${o}`:""}
Issued At: ${i.toISOString()}`;if(a&&(v+=`
Expiration Time: ${a.toISOString()}`),l&&(v+=`
Not Before: ${l.toISOString()}`),s&&(v+=`
Request ID: ${s}`),u){let p=`
Resources:`;for(const w of u){if(!w||typeof w!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${w}`);p+=`
- ${w}`}v+=p}return`${y}
${v}`}class Fe extends Error{constructor({message:t,code:r,cause:n,name:a}){var i;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(i=a??(n instanceof Error?n.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=r}}class pd extends Fe{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function a4({error:e,options:t}){var r,n,a;const{publicKey:i}=t;if(!i)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Fe({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=i.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new Fe({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=i.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new Fe({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((a=i.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new Fe({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new Fe({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new Fe({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return i.pubKeyCredParams.filter(l=>l.type==="public-key").length===0?new Fe({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new Fe({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const o=window.location.hostname;if(_A(o)){if(i.rp.id!==o)return new Fe({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Fe({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new Fe({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new Fe({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Fe({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function i4({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Fe({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new Fe({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(_A(n)){if(r.rpId!==n)return new Fe({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Fe({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new Fe({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Fe({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class o4{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const l4=new o4;function s4(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,a=dl(e,["challenge","user","excludeCredentials"]),i=Ao(t).buffer,o=Object.assign(Object.assign({},r),{id:Ao(r.id).buffer}),l=Object.assign(Object.assign({},a),{challenge:i,user:o});if(n&&n.length>0){l.excludeCredentials=new Array(n.length);for(let s=0;s<n.length;s++){const u=n[s];l.excludeCredentials[s]=Object.assign(Object.assign({},u),{id:Ao(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return l}function u4(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=dl(e,["challenge","allowCredentials"]),a=Ao(t).buffer,i=Object.assign(Object.assign({},n),{challenge:a});if(r&&r.length>0){i.allowCredentials=new Array(r.length);for(let o=0;o<r.length;o++){const l=r[o];i.allowCredentials[o]=Object.assign(Object.assign({},l),{id:Ao(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return i}function c4(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:oi(new Uint8Array(e.response.attestationObject)),clientDataJSON:oi(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function d4(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,n=e.getClientExtensionResults(),a=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:oi(new Uint8Array(a.authenticatorData)),clientDataJSON:oi(new Uint8Array(a.clientDataJSON)),signature:oi(new Uint8Array(a.signature)),userHandle:a.userHandle?oi(new Uint8Array(a.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function _A(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function A1(){var e,t;return!!(Nt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function f4(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new pd("Browser returned unexpected credential type",t)}:{data:null,error:new pd("Empty credential response",t)}}catch(t){return{data:null,error:a4({error:t,options:e})}}}async function h4(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new pd("Browser returned unexpected credential type",t)}:{data:null,error:new pd("Empty credential response",t)}}catch(t){return{data:null,error:i4({error:t,options:e})}}}const m4={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},p4={userVerification:"preferred",hints:["security-key"]};function gd(...e){const t=a=>a!==null&&typeof a=="object"&&!Array.isArray(a),r=a=>a instanceof ArrayBuffer||ArrayBuffer.isView(a),n={};for(const a of e)if(a)for(const i in a){const o=a[i];if(o!==void 0)if(Array.isArray(o))n[i]=o;else if(r(o))n[i]=o;else if(t(o)){const l=n[i];t(l)?n[i]=gd(l,o):n[i]=gd(o)}else n[i]=o}return n}function g4(e,t){return gd(m4,e,t||{})}function v4(e,t){return gd(p4,e,t||{})}class y4{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:n,signal:a},i){try{const{data:o,error:l}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!o)return{data:null,error:l};const s=a??l4.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:u}=o.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${n}`),u.displayName||(u.displayName=u.name)}switch(o.webauthn.type){case"create":{const u=g4(o.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:d,error:f}=await f4({publicKey:u,signal:s});return d?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}case"request":{const u=v4(o.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:d,error:f}=await h4(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:u,signal:s}));return d?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}}}catch(o){return X(o)?{data:null,error:o}:{data:null,error:new ii("Unexpected error in challenge",o)}}}async _verify({challengeId:t,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:a}},i){if(!r)return{data:null,error:new Ts("rpId is required for WebAuthn authentication")};try{if(!A1())return{data:null,error:new ii("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:n},signal:a},{request:i});if(!o)return{data:null,error:l};const{webauthn:s}=o;return this._verify({factorId:t,challengeId:o.challengeId,webauthn:{type:s.type,rpId:r,rpOrigins:n,credential_response:s.credential_response}})}catch(o){return X(o)?{data:null,error:o}:{data:null,error:new ii("Unexpected error in authenticate",o)}}}async _register({friendlyName:t,rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:a},i){if(!r)return{data:null,error:new Ts("rpId is required for WebAuthn registration")};try{if(!A1())return{data:null,error:new ii("Browser does not support WebAuthn",null)};const{data:o,error:l}=await this._enroll({friendlyName:t});if(!o)return await this.client.mfa.listFactors().then(d=>{var f;return(f=d.data)===null||f===void 0?void 0:f.all.find(h=>h.factor_type==="webauthn"&&h.friendly_name===t&&h.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d==null?void 0:d.id}):void 0),{data:null,error:l};const{data:s,error:u}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:a},{create:i});return s?this._verify({factorId:o.id,challengeId:s.challengeId,webauthn:{rpId:r,rpOrigins:n,type:s.webauthn.type,credential_response:s.webauthn.credential_response}}):{data:null,error:u}}catch(o){return X(o)?{data:null,error:o}:{data:null,error:new ii("Unexpected error in register",o)}}}}e4();const b4={url:p3,storageKey:g3,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:v3,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function T1(e,t,r){return await r()}const Xi={};class ks{get jwks(){var t,r;return(r=(t=Xi[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){Xi[this.storageKey]=Object.assign(Object.assign({},Xi[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=Xi[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Xi[this.storageKey]=Object.assign(Object.assign({},Xi[this.storageKey]),{cachedAt:t})}constructor(t){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=ks.nextInstanceID,ks.nextInstanceID+=1,this.instanceID>0&&Nt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const a=Object.assign(Object.assign({},b4),t);if(this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.persistSession=a.persistSession,this.storageKey=a.storageKey,this.autoRefreshToken=a.autoRefreshToken,this.admin=new Z3({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=bA(a.fetch),this.lock=a.lock||T1,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,a.lock?this.lock=a.lock:Nt()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=Q3:this.lock=T1,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new y4(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:yA()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=C1(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=C1(this.memoryStorage)),Nt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${pA}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=N3(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),Nt()&&this.detectSessionInUrl&&n!=="none"){const{data:a,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),S3(i)){const s=(t=i.details)===null||t===void 0?void 0:t.code;if(s==="identity_already_exists"||s==="identity_not_found"||s==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:l}=a;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return X(r)?{error:r}:{error:new ii("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,a;try{const i=await J(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(a=t==null?void 0:t.options)===null||a===void 0?void 0:a.captchaToken}},xform:Lr}),{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const s=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",s)),{data:{user:u,session:s},error:null}}catch(i){if(X(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var r,n,a;try{let i;if("email"in t){const{email:d,password:f,options:h}=t;let m=null,g=null;this.flowType==="pkce"&&([m,g]=await Gi(this.storage,this.storageKey)),i=await J(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:m,code_challenge_method:g},xform:Lr})}else if("phone"in t){const{phone:d,password:f,options:h}=t;i=await J(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(a=h==null?void 0:h.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Lr})}else throw new Ju("You must provide either an email or phone number and a password");const{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const s=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",s)),{data:{user:u,session:s},error:null}}catch(i){if(X(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:o,options:l}=t;r=await J(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:E1})}else if("phone"in t){const{phone:i,password:o,options:l}=t;r=await J(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:E1})}else throw new Ju("You must provide either an email or phone number and a password");const{data:n,error:a}=r;return a?{data:{user:null,session:null},error:a}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new Ki}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:a})}catch(r){if(X(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,a,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(a=t.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,a,i,o,l,s,u,d,f,h;let m,g;if("message"in t)m=t.message,g=t.signature;else{const{chain:b,wallet:y,statement:v,options:p}=t;let w;if(Nt())if(typeof y=="object")w=y;else{const A=window;if("ethereum"in A&&typeof A.ethereum=="object"&&"request"in A.ethereum&&typeof A.ethereum.request=="function")w=A.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!(p!=null&&p.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");w=y}const _=new URL((r=p==null?void 0:p.url)!==null&&r!==void 0?r:window.location.href),j=await w.request({method:"eth_requestAccounts"}).then(A=>A).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!j||j.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const S=wA(j[0]);let E=(n=p==null?void 0:p.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!E){const A=await w.request({method:"eth_chainId"});E=t4(A)}const O={domain:_.host,address:S,statement:v,uri:_.href,version:"1",chainId:E,nonce:(a=p==null?void 0:p.signInWithEthereum)===null||a===void 0?void 0:a.nonce,issuedAt:(o=(i=p==null?void 0:p.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(l=p==null?void 0:p.signInWithEthereum)===null||l===void 0?void 0:l.expirationTime,notBefore:(s=p==null?void 0:p.signInWithEthereum)===null||s===void 0?void 0:s.notBefore,requestId:(u=p==null?void 0:p.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(d=p==null?void 0:p.signInWithEthereum)===null||d===void 0?void 0:d.resources};m=n4(O),g=await w.request({method:"personal_sign",params:[r4(m),S]})}try{const{data:b,error:y}=await J(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:m,signature:g},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(h=t.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:Lr});if(y)throw y;return!b||!b.session||!b.user?{data:{user:null,session:null},error:new Ki}:(b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),{data:Object.assign({},b),error:y})}catch(b){if(X(b))return{data:{user:null,session:null},error:b};throw b}}async signInWithSolana(t){var r,n,a,i,o,l,s,u,d,f,h,m;let g,b;if("message"in t)g=t.message,b=t.signature;else{const{chain:y,wallet:v,statement:p,options:w}=t;let _;if(Nt())if(typeof v=="object")_=v;else{const S=window;if("solana"in S&&typeof S.solana=="object"&&("signIn"in S.solana&&typeof S.solana.signIn=="function"||"signMessage"in S.solana&&typeof S.solana.signMessage=="function"))_=S.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof v!="object"||!(w!=null&&w.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=v}const j=new URL((r=w==null?void 0:w.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in _&&_.signIn){const S=await _.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},w==null?void 0:w.signInWithSolana),{version:"1",domain:j.host,uri:j.href}),p?{statement:p}:null));let E;if(Array.isArray(S)&&S[0]&&typeof S[0]=="object")E=S[0];else if(S&&typeof S=="object"&&"signedMessage"in S&&"signature"in S)E=S;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in E&&"signature"in E&&(typeof E.signedMessage=="string"||E.signedMessage instanceof Uint8Array)&&E.signature instanceof Uint8Array)g=typeof E.signedMessage=="string"?E.signedMessage:new TextDecoder().decode(E.signedMessage),b=E.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in _)||typeof _.signMessage!="function"||!("publicKey"in _)||typeof _!="object"||!_.publicKey||!("toBase58"in _.publicKey)||typeof _.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");g=[`${j.host} wants you to sign in with your Solana account:`,_.publicKey.toBase58(),...p?["",p,""]:[""],"Version: 1",`URI: ${j.href}`,`Issued At: ${(a=(n=w==null?void 0:w.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((i=w==null?void 0:w.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${w.signInWithSolana.notBefore}`]:[],...!((o=w==null?void 0:w.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${w.signInWithSolana.expirationTime}`]:[],...!((l=w==null?void 0:w.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${w.signInWithSolana.chainId}`]:[],...!((s=w==null?void 0:w.signInWithSolana)===null||s===void 0)&&s.nonce?[`Nonce: ${w.signInWithSolana.nonce}`]:[],...!((u=w==null?void 0:w.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${w.signInWithSolana.requestId}`]:[],...!((f=(d=w==null?void 0:w.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...w.signInWithSolana.resources.map(E=>`- ${E}`)]:[]].join(`
`);const S=await _.signMessage(new TextEncoder().encode(g),"utf8");if(!S||!(S instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");b=S}}try{const{data:y,error:v}=await J(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:g,signature:oi(b)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(m=t.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:Lr});if(v)throw v;return!y||!y.session||!y.user?{data:{user:null,session:null},error:new Ki}:(y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),{data:Object.assign({},y),error:v})}catch(y){if(X(y))return{data:{user:null,session:null},error:y};throw y}}async _exchangeCodeForSession(t){const r=await Ya(this.storage,`${this.storageKey}-code-verifier`),[n,a]=(r??"").split("/");try{const{data:i,error:o}=await J(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:Lr});if(await ia(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Ki}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:a??null}),error:o})}catch(i){if(X(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:r,provider:n,token:a,access_token:i,nonce:o}=t,l=await J(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:a,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Lr}),{data:s,error:u}=l;return u?{data:{user:null,session:null},error:u}:!s||!s.session||!s.user?{data:{user:null,session:null},error:new Ki}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:s,error:u})}catch(r){if(X(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,a,i,o;try{if("email"in t){const{email:l,options:s}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await Gi(this.storage,this.storageKey));const{error:f}=await J(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=s==null?void 0:s.data)!==null&&r!==void 0?r:{},create_user:(n=s==null?void 0:s.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:s==null?void 0:s.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in t){const{phone:l,options:s}=t,{data:u,error:d}=await J(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(a=s==null?void 0:s.data)!==null&&a!==void 0?a:{},create_user:(i=s==null?void 0:s.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken},channel:(o=s==null?void 0:s.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new Ju("You must provide either an email or phone number.")}catch(l){if(X(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var r,n;try{let a,i;"options"in t&&(a=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:l}=await J(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:a,xform:Lr});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const s=o.session,u=o.user;return s!=null&&s.access_token&&(await this._saveSession(s),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",s)),{data:{user:u,session:s},error:null}}catch(a){if(X(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithSSO(t){var r,n,a;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await Gi(this.storage,this.storageKey)),await J(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((a=t==null?void 0:t.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:F3})}catch(i){if(X(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new $r;const{error:a}=await J(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:a}})}catch(t){if(X(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:a,options:i}=t,{error:o}=await J(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:n,type:a,options:i}=t,{data:o,error:l}=await J(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l}}throw new Ju("You must provide either an email or phone number and a type")}catch(r){if(X(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await Ya(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<km:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const o=await Ya(this.userStorage,this.storageKey+"-user");o!=null&&o.user?t.user=o.user:t.user=Rm()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};t.user=W3(t.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:a},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await J(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:pa}):await this._useSession(async r=>{var n,a,i;const{data:o,error:l}=r;if(l)throw l;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new $r}:await J(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(a=o.session)===null||a===void 0?void 0:a.access_token)!==null&&i!==void 0?i:void 0,xform:pa})})}catch(r){if(X(r))return _3(r)&&(await this._removeSession(),await ia(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:a,error:i}=n;if(i)throw i;if(!a.session)throw new $r;const o=a.session;let l=null,s=null;this.flowType==="pkce"&&t.email!=null&&([l,s]=await Gi(this.storage,this.storageKey));const{data:u,error:d}=await J(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:s}),jwt:o.access_token,xform:pa});if(d)throw d;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if(X(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new $r;const r=Date.now()/1e3;let n=r,a=!0,i=null;const{payload:o}=Pm(t.access_token);if(o.exp&&(n=o.exp,a=n<=r),a){const{data:l,error:s}=await this._callRefreshToken(t.refresh_token);if(s)return{data:{user:null,session:null},error:s};if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:s}=await this._getUser(t.access_token);if(s)throw s;i={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(X(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:o,error:l}=r;if(l)throw l;t=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new $r;const{data:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:a?{data:{user:a.user,session:a},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(X(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!Nt())throw new Qu("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Qu(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new y1("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Qu("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new y1("No code detected.");const{data:p,error:w}=await this._exchangeCodeForSession(t.code);if(w)throw w;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:p.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:a,access_token:i,refresh_token:o,expires_in:l,expires_at:s,token_type:u}=t;if(!i||!l||!o||!u)throw new Qu("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(l);let h=d+f;s&&(h=parseInt(s));const m=h-d;m*1e3<=no&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${f}s`);const g=h-f;d-g>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",g,h,d):d-g<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",g,h,d);const{data:b,error:y}=await this._getUser(i);if(y)throw y;const v={provider_token:n,provider_refresh_token:a,access_token:i,expires_in:f,expires_at:h,refresh_token:o,token_type:u,user:b.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:v,redirectType:t.type},error:null}}catch(n){if(X(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await Ya(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return{error:i};const o=(n=a.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:l}=await this.admin.signOut(o,t);if(l&&!(w3(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await ia(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=k3(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,a;try{const{data:{session:i},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,a=null;this.flowType==="pkce"&&([n,a]=await Gi(this.storage,this.storageKey,!0));try{return await J(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:a,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(X(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(X(r))return{data:null,error:r};throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:n,error:a}=await this._useSession(async i=>{var o,l,s,u,d;const{data:f,error:h}=i;if(h)throw h;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:!0});return await J(this.fetch,"GET",m,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(a)throw a;return Nt()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(X(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var n;try{const{error:a,data:{session:i}}=r;if(a)throw a;const{options:o,provider:l,token:s,access_token:u,nonce:d}=t,f=await J(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=i==null?void 0:i.access_token)!==null&&n!==void 0?n:void 0,body:{provider:l,id_token:s,access_token:u,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:Lr}),{data:h,error:m}=f;return m?{data:{user:null,session:null},error:m}:!h||!h.session||!h.user?{data:{user:null,session:null},error:new Ki}:(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("USER_UPDATED",h.session)),{data:h,error:m})}catch(a){if(X(a))return{data:{user:null,session:null},error:a};throw a}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,a;const{data:i,error:o}=r;if(o)throw o;return await J(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(a=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&a!==void 0?a:void 0})})}catch(r){if(X(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await M3(async a=>(a>0&&await R3(200*Math.pow(2,a-1)),this._debug(r,"refreshing attempt",a),await J(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Lr})),(a,i)=>{const o=200*Math.pow(2,a);return i&&Nm(i)&&Date.now()+o-n<no})}catch(n){if(this._debug(r,"error",n),X(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),Nt()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const a=await Ya(this.storage,this.storageKey);if(a&&this.userStorage){let o=await Ya(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:a.user},await ao(this.userStorage,this.storageKey+"-user",o)),a.user=(t=o==null?void 0:o.user)!==null&&t!==void 0?t:Rm()}else if(a&&!a.user&&!a.user){const o=await Ya(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(a.user=o.user,await ia(this.storage,this.storageKey+"-user"),await ao(this.storage,this.storageKey,a)):a.user=Rm()}if(this._debug(n,"session from storage",a),!this._isValidSession(a)){this._debug(n,"session is not valid"),a!==null&&await this._removeSession();return}const i=((r=a.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<km;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${km}s`),i){if(this.autoRefreshToken&&a.refresh_token){const{error:o}=await this._callRefreshToken(a.refresh_token);o&&(console.error(o),Nm(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:l}=await this._getUser(a.access_token);!l&&(o!=null&&o.user)?(a.user=o.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(n,"error",a),console.error(a);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new $r;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new Mf;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new $r;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={data:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(a,"error",i),X(i)){const o={data:null,error:i};return Nm(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(t,r,n=!0){const a=`#_notifyAllSubscribers(${t})`;this._debug(a,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(s){i.push(s)}});if(await Promise.all(o),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(a,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await ao(this.userStorage,this.storageKey+"-user",{user:r.user});const a=Object.assign({},r);delete a.user;const i=S1(a);await ao(this.storage,this.storageKey,i)}else{const a=S1(r);await ao(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),await ia(this.storage,this.storageKey),await ia(this.storage,this.storageKey+"-code-verifier"),await ia(this.storage,this.storageKey+"-user"),this.userStorage&&await ia(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Nt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),no);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((n.expires_at*1e3-t)/no);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${no}ms, refresh threshold is ${mg} ticks`),a<=mg&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof xA)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Nt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const a=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&a.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&a.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await Gi(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});a.push(l.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);a.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&a.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${a.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;return i?{data:null,error:i}:await J(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(X(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,a;const{data:i,error:o}=r;if(o)return{data:null,error:o};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:s,error:u}=await J(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&s.type==="totp"&&(!((a=s==null?void 0:s.totp)===null||a===void 0)&&a.qr_code)&&(s.totp.qr_code=`data:image/svg+xml;utf-8,${s.totp.qr_code}`),{data:s,error:null})})}catch(r){if(X(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return{data:null,error:i};const o=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?c4(t.webauthn.credential_response):d4(t.webauthn.credential_response)})}:{code:t.code}),{data:l,error:s}=await J(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:o,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return s?{data:null,error:s}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),{data:l,error:s})})}catch(r){if(X(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return{data:null,error:i};const o=await J(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});if(o.error)return o;const{data:l}=o;if(l.type!=="webauthn")return{data:l,error:null};switch(l.webauthn.type){case"create":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:s4(l.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},l),{webauthn:Object.assign(Object.assign({},l.webauthn),{credential_options:Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:u4(l.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(X(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const a={all:[],phone:[],totp:[],webauthn:[]};for(const i of(t=r==null?void 0:r.factors)!==null&&t!==void 0?t:[])a.all.push(i),i.status==="verified"&&a[i.factor_type].push(i);return{data:a,error:null}}async _getAuthenticatorAssuranceLevel(){var t,r;const{data:{session:n},error:a}=await this.getSession();if(a)return{data:null,error:a};if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=Pm(n.access_token);let o=null;i.aal&&(o=i.aal);let l=o;((r=(t=n.user.factors)===null||t===void 0?void 0:t.filter(d=>d.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const u=i.amr||[];return{data:{currentLevel:o,nextLevel:l,currentAuthenticationMethods:u},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async r=>{const{data:{session:n},error:a}=r;return a?{data:null,error:a}:n?await J(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):{data:null,error:new $r}})}catch(r){if(X(r))return{data:null,error:r};throw r}}async _approveAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:a},error:i}=n;if(i)return{data:null,error:i};if(!a)return{data:null,error:new $r};const o=await J(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"approve"},xform:l=>({data:l,error:null})});return o.data&&o.data.redirect_url&&Nt()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(n){if(X(n))return{data:null,error:n};throw n}}async _denyAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:a},error:i}=n;if(i)return{data:null,error:i};if(!a)return{data:null,error:new $r};const o=await J(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"deny"},xform:l=>({data:l,error:null})});return o.data&&o.data.redirect_url&&Nt()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(n){if(X(n))return{data:null,error:n};throw n}}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(l=>l.kid===t);if(n)return n;const a=Date.now();if(n=this.jwks.keys.find(l=>l.kid===t),n&&this.jwks_cached_at+b3>a)return n;const{data:i,error:o}=await J(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=a,n=i.keys.find(l=>l.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:m,error:g}=await this.getSession();if(g||!m.session)return{data:null,error:g};n=m.session.access_token}const{header:a,payload:i,signature:o,raw:{header:l,payload:s}}=Pm(n);r!=null&&r.allowExpired||U3(i.exp);const u=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:m}=await this.getUser(n);if(m)throw m;return{data:{claims:i,header:a,signature:o},error:null}}const d=q3(a.alg),f=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,o,A3(`${l}.${s}`)))throw new vg("Invalid JWT signature");return{data:{claims:i,header:a,signature:o},error:null}}catch(n){if(X(n))return{data:null,error:n};throw n}}}ks.nextInstanceID=0;const x4=ks;class w4 extends x4{constructor(t){super(t)}}class _4{constructor(t,r,n){var a,i,o;this.supabaseUrl=t,this.supabaseKey=r;const l=m3(t);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const s=`sb-${l.hostname.split(".")[0]}-auth-token`,u={db:o3,realtime:s3,auth:Object.assign(Object.assign({},l3),{storageKey:s}),global:i3},d=h3(n??{},u);this.storageKey=(a=d.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(f,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=d.auth)!==null&&o!==void 0?o:{},this.headers,d.global.fetch),this.fetch=d3(r,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new p5(new URL("rest/v1",l).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new r3(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new l5(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t,r;if(this.accessToken)return await this.accessToken();const{data:n}=await this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:a,userStorage:i,storageKey:o,flowType:l,lock:s,debug:u},d,f){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new w4({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),d),storageKey:o,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:a,userStorage:i,flowType:l,lock:s,debug:u,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(m=>m.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new P5(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const S4=(e,t,r)=>new _4(e,t,r);function j4(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}j4()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const E4="https://abbysvxnnhwvvzhftoms.supabase.co",O4="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImFiYnlzdnhubmh3dnZ6aGZ0b21zIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njg2NTcwNzcsImV4cCI6MjA4NDIzMzA3N30.omP9h4ZqFbDX4FMO_lkd5Q3Iv99xgbs5bVz6beIpqfo",U=S4(E4,O4);function C4(){const[e,t]=x.useState(""),[r,n]=x.useState(""),[a,i]=x.useState(!1),o=cl(),l=async s=>{s.preventDefault(),i(!0);const{error:u}=await U.auth.signInWithPassword({email:e,password:r});u?u.message.includes("Email not confirmed")?alert("Email no confirmado, vc deve antes confirmar o email SupaBase Auth com o titulo Confirm Your Singup"):alert(u.message):o("/dashboard"),i(!1)};return c.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",backgroundColor:"var(--color-blue)"},children:c.jsxs("form",{onSubmit:l,className:"card",style:{width:"100%",maxWidth:"400px",padding:"2.5rem"},children:[c.jsxs("div",{style:{textAlign:"center",marginBottom:"2rem"},children:[c.jsx("img",{src:"https://b2wenergia.com.br/wp-content/uploads/2025/12/Logo-B2W-Escuro.png",alt:"B2W Energia",style:{height:"60px",objectFit:"contain",marginBottom:"1rem"},onError:s=>{s.target.onerror=null,s.target.style.display="none",s.target.nextSibling.style.display="block"}}),c.jsx("h2",{style:{color:"var(--color-blue)",display:"none"},children:"B2W Energia"}),c.jsx("p",{style:{color:"var(--color-text-medium)"},children:"Faa login para continuar"})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"email",className:"label",children:"Email"}),c.jsx("input",{id:"email",type:"email",value:e,onChange:s=>t(s.target.value),className:"input",placeholder:"seu@email.com",required:!0})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{htmlFor:"password",className:"label",children:"Senha"}),c.jsx("input",{id:"password",type:"password",value:r,onChange:s=>n(s.target.value),className:"input",placeholder:"",required:!0})]}),c.jsx("button",{type:"submit",disabled:a,className:"btn btn-accent",style:{width:"100%",padding:"0.75rem",justifyContent:"center",fontSize:"1rem",marginTop:"1rem"},children:a?"Carregando...":"Entrar"})]})})}const Ha=async e=>{const t=e.replace(/\D/g,"");if(t.length!==8)throw new Error("CEP invlido");const n=await(await fetch(`https://viacep.com.br/ws/${t}/json/`)).json();if(n.erro)throw new Error("CEP no encontrado");return{rua:n.logradouro,bairro:n.bairro,cidade:n.localidade,uf:n.uf,cep:n.cep,ibge:n.ibge}},Ty=async e=>{var n,a,i;const t=e.replace(/\D/g,"");if(t.length>11)try{const o=await fetch(`https://publica.cnpj.ws/cnpj/${t}`);if(!o.ok)throw new Error("Erro ao buscar CNPJ");const l=await o.json(),s=l.estabelecimento||{},u=l.socios&&l.socios.length>0?l.socios[0]:null;return{nome:l.razao_social,fantasia:s.nome_fantasia,doc:t,email:s.email,telefone:s.ddd1&&s.telefone1?`(${s.ddd1}) ${s.telefone1}`:"",address:{logradouro:s.tipo_logradouro?`${s.tipo_logradouro} ${s.logradouro}`:s.logradouro,numero:s.numero,complemento:s.complemento,bairro:s.bairro,cep:s.cep,uf:(n=s.estado)==null?void 0:n.sigla,municipio:(a=s.cidade)==null?void 0:a.nome,cidade:(i=s.cidade)==null?void 0:i.nome},legal_partner:u?{nome:u.nome,cpf:u.cpf_cnpj_socio}:{nome:"",cpf:""},raw:l}}catch(o){throw console.error("Erro CNPJ (publica.cnpj.ws)",o),o}else return console.warn("Busca de CPF desabilitada temporariamente (Plano API no ativo)."),{nome:"",doc:t}},A4=async e=>{try{const{data:t,error:r}=await U.functions.invoke("manage-asaas-customer",{body:e});if(r)throw r;return t}catch(t){throw console.error("Erro Asaas Customer:",t),t}},lu=async e=>{const{data:t,error:r}=await U.from("Concessionaria").select("*").eq('"Cod. Ibge"',e).single();return r?null:t},Df=async(e,t="invoice")=>{const r=t==="invoice"?{invoice_id:e}:{subscriber_id:e},{data:n,error:a}=await U.functions.invoke("create-asaas-charge",{body:r});if(a)throw a;return n};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T4=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),k4=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,r,n)=>n?n.toUpperCase():r.toLowerCase()),k1=e=>{const t=k4(e);return t.charAt(0).toUpperCase()+t.slice(1)},SA=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim(),N4=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var P4={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R4=x.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:i,iconNode:o,...l},s)=>x.createElement("svg",{ref:s,...P4,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:SA("lucide",a),...!i&&!N4(l)&&{"aria-hidden":"true"},...l},[...o.map(([u,d])=>x.createElement(u,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Se=(e,t)=>{const r=x.forwardRef(({className:n,...a},i)=>x.createElement(R4,{ref:i,iconNode:t,className:SA(`lucide-${T4(k1(e))}`,`lucide-${e}`,n),...a}));return r.displayName=k1(e),r};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M4=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],N1=Se("briefcase",M4);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D4=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],z4=Se("chevron-left",D4);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B4=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],I4=Se("chevron-right",B4);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $4=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],jA=Se("circle-alert",$4);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L4=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],EA=Se("circle-check-big",L4);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U4=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],q4=Se("circle-question-mark",U4);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H4=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],W4=Se("clock",H4);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V4=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],K4=Se("copy",V4);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G4=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],zf=Se("credit-card",G4);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F4=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],Y4=Se("dollar-sign",F4);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X4=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],vd=Se("file-text",X4);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z4=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],J4=Se("funnel",Z4);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q4=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],eB=Se("house",Q4);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tB=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],rB=Se("info",tB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nB=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],Dm=Se("layout-dashboard",nB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aB=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],iB=Se("log-out",aB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oB=[["path",{d:"M11 6a13 13 0 0 0 8.4-2.8A1 1 0 0 1 21 4v12a1 1 0 0 1-1.6.8A13 13 0 0 0 11 14H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2z",key:"q8bfy3"}],["path",{d:"M6 14a12 12 0 0 0 2.4 7.2 2 2 0 0 0 3.2-2.4A8 8 0 0 1 10 14",key:"1853fq"}],["path",{d:"M8 6v8",key:"15ugcq"}]],lB=Se("megaphone",oB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sB=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],uB=Se("menu",sB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cB=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],ky=Se("plus",cB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dB=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],OA=Se("search",dB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fB=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],hB=Se("settings",fB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mB=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],pB=Se("square-pen",mB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gB=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],CA=Se("trash-2",gB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vB=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],yB=Se("truck",vB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bB=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],xB=Se("user-check",bB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wB=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],_B=Se("x",wB);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SB=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],jB=Se("zap",SB),AA=x.createContext(),pl=()=>{const e=x.useContext(AA);if(!e)throw new Error("useUI must be used within a UIProvider");return e},EB=({children:e})=>{const[t,r]=x.useState({isOpen:!1,type:"alert",variant:"info",title:"",message:"",confirmText:"Confirmar",cancelText:"Cancelar",onConfirm:()=>{},onCancel:()=>{}}),n=x.useRef(null),a=()=>{r(u=>({...u,isOpen:!1})),n.current&&(n.current(!1),n.current=null)},i=()=>{r(u=>({...u,isOpen:!1})),t.onConfirm&&t.onConfirm(),n.current&&(n.current(!0),n.current=null)},o=(u,d="info",f="")=>{if(!f)switch(d){case"error":f="Erro";break;case"success":f="Sucesso";break;case"warning":f="Ateno";break;default:f="Informao"}r({isOpen:!0,type:"alert",variant:d,title:f,message:u,confirmText:"OK",onConfirm:()=>{},onCancel:()=>{}})},l=(u,d="Confirmao",f="Confirmar",h="Cancelar")=>new Promise(m=>{n.current=m,r({isOpen:!0,type:"confirm",variant:"warning",title:d,message:u,confirmText:f,cancelText:h,onConfirm:()=>{},onCancel:()=>{}})}),s=()=>{switch(t.variant){case"error":return c.jsx(jA,{size:32,color:"#ef4444"});case"success":return c.jsx(EA,{size:32,color:"#22c55e"});case"warning":return c.jsx(q4,{size:32,color:"#f59e0b"});default:return c.jsx(rB,{size:32,color:"#3b82f6"})}};return c.jsxs(AA.Provider,{value:{showAlert:o,showConfirm:l},children:[e,t.isOpen&&c.jsxs("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.4)",backdropFilter:"blur(2px)",zIndex:9999,display:"flex",justifyContent:"center",alignItems:"center",animation:"fadeIn 0.2s ease-out"},children:[c.jsxs("div",{style:{background:"white",borderRadius:"12px",padding:"24px",width:"90%",maxWidth:"400px",boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1), 0 8px 10px -6px rgba(0, 0, 0, 0.1)",animation:"slideUp 0.3s cubic-bezier(0.16, 1, 0.3, 1)",display:"flex",flexDirection:"column",gap:"16px"},children:[c.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[c.jsxs("div",{style:{display:"flex",gap:"12px",alignItems:"center"},children:[c.jsx("div",{style:{padding:"8px",borderRadius:"50%",background:t.variant==="error"?"#fee2e2":t.variant==="success"?"#dcfce7":t.variant==="warning"?"#fef3c7":"#dbeafe"},children:s()}),c.jsx("h3",{style:{margin:0,fontSize:"1.25rem",fontWeight:"600",color:"#1f2937"},children:t.title})]}),c.jsx("button",{onClick:a,style:{background:"transparent",border:"none",cursor:"pointer",color:"#9ca3af"},children:c.jsx(_B,{size:20})})]}),c.jsx("p",{style:{margin:0,color:"#4b5563",fontSize:"1rem",lineHeight:"1.5"},children:t.message}),c.jsxs("div",{style:{display:"flex",justifyContent:"flex-end",gap:"12px",marginTop:"8px"},children:[t.type==="confirm"&&c.jsx("button",{onClick:a,style:{padding:"8px 16px",borderRadius:"6px",border:"1px solid #e5e7eb",background:"white",color:"#374151",fontWeight:"500",cursor:"pointer",transition:"background 0.2s"},onMouseOver:u=>u.currentTarget.style.background="#f9fafb",onMouseOut:u=>u.currentTarget.style.background="white",children:t.cancelText}),c.jsx("button",{onClick:i,style:{padding:"8px 16px",borderRadius:"6px",border:"none",background:t.variant==="error"?"#dc2626":"var(--color-blue)",color:"white",fontWeight:"500",cursor:"pointer",boxShadow:"0 1px 2px 0 rgba(0, 0, 0, 0.05)",transition:"filter 0.2s"},onMouseOver:u=>u.currentTarget.style.filter="brightness(0.9)",onMouseOut:u=>u.currentTarget.style.filter="brightness(1)",children:t.confirmText})]})]}),c.jsx("style",{children:`
                        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
                        @keyframes slideUp { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
                    `})]})]})};function OB(){const[e]=vC(),{showAlert:t}=pl(),[r,n]=x.useState(!1),[a,i]=x.useState(!1),[o,l]=x.useState(null),s=e.get("id");e.get("originador");const[u,d]=x.useState({name:"",email:"",phone:"",cep:"",concessionaria:"",consumo:500,uf:"",city:"",neighborhood:"",street:"",number:""}),[f,h]=x.useState(null),m=async()=>{const _=u.cep.replace(/\D/g,"");if(_.length===8){n(!0);try{const j=await Ha(_);if(d(S=>({...S,street:j.rua,neighborhood:j.bairro,city:j.cidade,uf:j.uf})),j.ibge){const S=await lu(j.ibge);S?(h(S),d(E=>({...E,concessionaria:S.Concessionaria||""}))):(h(null),d(E=>({...E,concessionaria:""})))}}catch(j){console.error("Error fetching CEP:",j)}finally{n(!1)}}},g=()=>{if(!f)return 0;const _=Number(f["Tarifa Concessionaria"])||0;let S=Number(f["Desconto Assinante"])||0;return S>1&&(S=S/100),u.consumo*_*S},b=async _=>{_.preventDefault(),n(!0);try{const j=g(),E=s&&/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(s)?s:null,O={name:u.name,email:u.email,phone:u.phone,cep:u.cep,concessionaria:u.concessionaria,consumo_kwh:u.consumo,calculated_discount:j,rua:u.street,numero:u.number,bairro:u.neighborhood,cidade:u.city,uf:u.uf,tarifa_concessionaria:Number(f==null?void 0:f["Tarifa Concessionaria"])||0,desconto_assinante:Number(f==null?void 0:f["Desconto Assinante"])||0,status:"simulacao",originator_id:E},{data:A,error:N}=await U.from("leads").insert(O).select().single();if(N)throw N;l(A),i(!0)}catch(j){console.error("Error saving lead:",j);const S=j.message||"Erro ao processar simulao. Tente novamente.";t(S,"error")}finally{n(!1)}},y=_=>_.toLocaleString("pt-BR",{style:"currency",currency:"BRL"}),v={primary:"#003366",accent:"#FF6600"},p={wrapper:{backgroundColor:"white",borderRadius:"24px",border:"1px solid #f1f5f9",padding:"2rem",boxShadow:"0 32px 64px -16px rgba(0, 51, 102, 0.12)",maxWidth:"42rem",margin:"0 auto",fontFamily:"Inter, sans-serif"},header:{fontSize:"1.5rem",fontWeight:"bold",textAlign:"center",marginBottom:"2rem",color:v.primary},formSpace:{display:"flex",flexDirection:"column",gap:"1.5rem"},grid:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(240px, 1fr))",gap:"1.5rem"},label:{display:"block",fontSize:"0.75rem",fontWeight:"bold",textTransform:"uppercase",color:"#6b7280",marginBottom:"0.25rem"},input:{width:"100%",padding:"0.75rem 1rem",borderRadius:"0.75rem",border:"1px solid #e2e8f0",backgroundColor:"#f8fafc",outline:"none",transition:"all 0.2s",fontSize:"1rem"},button:{width:"100%",padding:"1rem",marginTop:"1.5rem",borderRadius:"0.75rem",fontWeight:"800",color:"white",textTransform:"uppercase",fontSize:"1.125rem",letterSpacing:"0.025em",border:"none",cursor:r?"wait":"pointer",opacity:r?.7:1,backgroundColor:v.accent,boxShadow:"0 4px 14px 0 rgba(255, 102, 0, 0.39)",transition:"opacity 0.2s"},rangeContainer:{paddingTop:"1rem"},rangeLabelRow:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0.5rem"},rangeInput:{width:"100%",height:"0.5rem",backgroundColor:"#e5e7eb",borderRadius:"0.5rem",appearance:"none",cursor:"pointer",accentColor:v.accent},rangeTicks:{display:"flex",justifyContent:"space-between",fontSize:"0.75rem",color:"#9ca3af",marginTop:"0.25rem"}},w=g();return c.jsxs(c.Fragment,{children:[c.jsxs("div",{style:p.wrapper,children:[c.jsx("h2",{style:p.header,children:"Saiba o valor do seu desconto"}),c.jsxs("form",{onSubmit:b,style:p.formSpace,children:[c.jsx("div",{style:p.grid,children:c.jsxs("div",{style:{gridColumn:"1 / -1"},children:[c.jsx("label",{style:p.label,children:"CEP"}),c.jsx("input",{type:"text",maxLength:"9",value:u.cep,onChange:_=>{let j=_.target.value.replace(/\D/g,"");j.length>5&&(j=j.replace(/^(\d{5})(\d)/,"$1-$2")),d({...u,cep:j})},onBlur:m,style:p.input,placeholder:"00000-000",required:!0})]})}),c.jsxs("div",{children:[c.jsx("label",{style:p.label,children:"Nome Completo"}),c.jsx("input",{type:"text",value:u.name,onChange:_=>d({...u,name:_.target.value}),style:p.input,placeholder:"Como devemos te chamar?",required:!0})]}),c.jsxs("div",{style:p.grid,children:[c.jsxs("div",{children:[c.jsx("label",{style:p.label,children:"E-mail"}),c.jsx("input",{type:"email",value:u.email,onChange:_=>d({...u,email:_.target.value}),style:p.input,placeholder:"exemplo@email.com",required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{style:p.label,children:"WhatsApp"}),c.jsx("input",{type:"tel",maxLength:"15",value:u.phone,onChange:_=>{let j=_.target.value.replace(/\D/g,"");j=j.replace(/^(\d{2})(\d)/g,"($1) $2"),j=j.replace(/(\d)(\d{4})$/,"$1-$2"),d({...u,phone:j})},style:p.input,placeholder:"(00) 00000-0000",required:!0})]})]}),c.jsxs("div",{style:p.rangeContainer,children:[c.jsxs("div",{style:p.rangeLabelRow,children:[c.jsx("label",{style:p.label,children:"Mdia de Gasto Mensal (kWh)"}),c.jsxs("span",{style:{fontSize:"1.25rem",fontWeight:"bold",color:v.accent},children:[u.consumo," kWh"]})]}),c.jsx("input",{type:"range",min:"0",max:"10000",step:"50",value:u.consumo,onChange:_=>d({...u,consumo:Number(_.target.value)}),style:p.rangeInput}),c.jsxs("div",{style:p.rangeTicks,children:[c.jsx("span",{children:"0 kWh"}),c.jsx("span",{children:"10.000+ kWh"})]})]}),c.jsx("button",{type:"submit",disabled:r,style:p.button,children:r?"Calculando...":"Ver o Desconto"})]})]}),a&&c.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,zIndex:9999,display:"flex",alignItems:"center",justifyContent:"center",padding:"1rem",backgroundColor:"rgba(0,0,0,0.6)",backdropFilter:"blur(4px)"},children:c.jsxs("div",{style:{backgroundColor:"white",borderRadius:"24px",padding:"2rem",maxWidth:"28rem",width:"100%",position:"relative",boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.25)"},children:[c.jsx("button",{onClick:()=>i(!1),style:{position:"absolute",top:"1rem",right:"1rem",background:"none",border:"none",cursor:"pointer",color:"#9ca3af",padding:"0.25rem"},children:c.jsx("svg",{style:{width:"24px",height:"24px"},fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),c.jsx("h3",{style:{fontSize:"1.5rem",fontWeight:"bold",textAlign:"center",marginBottom:"0.5rem",color:"#dc2626"},children:"Seu desconto"}),c.jsx("p",{style:{textAlign:"center",color:"#6b7280",marginBottom:"1.5rem",fontSize:"0.875rem"},children:"Agora  s prosseguir com o cadastro para garantir o seu desconto"}),c.jsxs("div",{style:{border:"1px dashed #d1d5db",borderRadius:"0.75rem",padding:"1.5rem",position:"relative",backgroundColor:"#f9fafb"},children:[c.jsx("div",{style:{position:"absolute",top:"-0.75rem",left:"1rem",backgroundColor:"#3b82f6",color:"white",fontSize:"0.75rem",fontWeight:"bold",padding:"0.25rem 0.75rem",borderRadius:"9999px"},children:"Garantir desconto"}),c.jsxs("div",{style:{marginTop:"0.5rem",display:"flex",flexDirection:"column",gap:"0.75rem"},children:[c.jsxs("div",{children:[c.jsx("p",{style:{fontSize:"0.875rem",fontWeight:"bold",color:"#4f46e5"},children:"Nome do cliente"}),c.jsx("p",{style:{fontSize:"1.125rem",fontWeight:"600",color:"#1f2937"},children:u.name})]}),c.jsxs("div",{children:[c.jsx("p",{style:{fontSize:"0.875rem",fontWeight:"bold",color:"#16a34a"},children:"Concessionria"}),c.jsx("p",{style:{fontSize:"1.125rem",fontWeight:"600",color:"#1f2937"},children:u.concessionaria})]}),c.jsxs("div",{children:[c.jsx("p",{style:{fontSize:"0.875rem",fontWeight:"bold",color:"#FF6600"},children:"Valor do Desconto"}),c.jsxs("p",{style:{fontSize:"1.875rem",fontWeight:"bold",color:"#FF6600"},children:[y((o==null?void 0:o.calculated_discount)||w),c.jsx("span",{style:{fontSize:"0.875rem",color:"#6b7280",fontWeight:"normal",marginLeft:"0.25rem"},children:"/ms"})]})]})]})]}),c.jsx("button",{onClick:()=>window.location.href="https://crm.b2wenergia.com.br/cadastro",style:{width:"100%",padding:"0.75rem",marginTop:"1.5rem",borderRadius:"0.75rem",fontWeight:"bold",color:"white",textTransform:"uppercase",border:"none",cursor:"pointer",backgroundColor:v.accent,boxShadow:"0 4px 14px 0 rgba(255, 102, 0, 0.39)"},children:"Garantir Desconto"})]})})]})}function CB(){return c.jsx("div",{style:{minHeight:"100vh",backgroundColor:"#f9fafb",display:"flex",alignItems:"center",justifyContent:"center",padding:"1rem"},children:c.jsx("div",{style:{width:"100%",maxWidth:"42rem"},children:c.jsx(OB,{})})})}function AB(){const e=cl(),[t,r]=x.useState(!1),[n,a]=x.useState(1),[i,o]=x.useState({cpf:"",nome:"",email:"",password:"",telefone:"",cep:"",rua:"",numero:"",complemento:"",bairro:"",cidade:"",uf:"",numero_uc:""}),l=async()=>{if(i.cpf.replace(/\D/g,"").length===11){r(!0);try{const f=await Ty(i.cpf);o(h=>({...h,nome:f.nome}))}catch(f){console.error(f)}finally{r(!1)}}},s=async()=>{if(i.cep.length>=8){r(!0);try{const f=await Ha(i.cep);o(h=>({...h,rua:f.rua,bairro:f.bairro,cidade:f.cidade,uf:f.uf}))}catch{alert("CEP no encontrado")}finally{r(!1)}}},u=async f=>{f.preventDefault(),a(2)},d=async f=>{f.preventDefault(),r(!0);try{const{data:h,error:m}=await U.auth.signUp({email:i.email,password:i.password,options:{data:{name:i.nome,role:"subscriber",cpf_cnpj:i.cpf,phone:i.telefone,address:{rua:i.rua,numero:i.numero,complemento:i.complemento,bairro:i.bairro,cidade:i.cidade,uf:i.uf,cep:i.cep}}}});if(m)throw m;const g=h.user.id,{error:b}=await U.from("profiles").upsert({id:g,name:i.nome,cpf_cnpj:i.cpf,email:i.email,phone:i.telefone,role:"subscriber",address:{rua:i.rua,numero:i.numero,complemento:i.complemento,bairro:i.bairro,cidade:i.cidade,uf:i.uf,cep:i.cep}});b&&console.error("Erro ao criar/atualizar perfil:",b);const{data:y,error:v}=await U.from("subscribers").insert({profile_id:g,name:i.nome,cpf_cnpj:i.cpf,email:i.email,phone:i.telefone,status:"ativacao"}).select().single();if(v)throw v;await U.from("consumer_units").insert({subscriber_id:y.id,numero_uc:i.numero_uc,status:"ativacao",address:{rua:i.rua,cep:i.cep}}),alert("Cadastro realizado com sucesso! Entre com o seu email e senha e faa login."),e("/login")}catch(h){alert("Erro ao cadastrar: "+h.message)}finally{r(!1)}};return c.jsx("div",{style:{minHeight:"100vh",padding:"2rem",backgroundColor:"var(--color-bg-light)"},children:c.jsxs("div",{style:{maxWidth:"600px",margin:"0 auto",background:"white",padding:"2rem",borderRadius:"8px"},children:[c.jsx("h1",{style:{textAlign:"center",marginBottom:"1rem"},children:"Assine Agora"}),n===1&&c.jsx("form",{onSubmit:u,children:c.jsxs("div",{style:{display:"grid",gap:"1rem"},children:[c.jsxs("div",{children:[c.jsx("label",{children:"CPF/CNPJ"}),c.jsx("input",{value:i.cpf,onChange:f=>o({...i,cpf:f.target.value}),onBlur:l,style:{width:"100%",padding:"0.5rem"},required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{children:"Nome Completo"}),c.jsx("input",{value:i.nome,onChange:f=>o({...i,nome:f.target.value}),style:{width:"100%",padding:"0.5rem"},required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{children:"Email"}),c.jsx("input",{type:"email",value:i.email,onChange:f=>o({...i,email:f.target.value}),style:{width:"100%",padding:"0.5rem"},required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{children:"Senha"}),c.jsx("input",{type:"password",value:i.password,onChange:f=>o({...i,password:f.target.value}),style:{width:"100%",padding:"0.5rem"},required:!0,minLength:6})]}),c.jsxs("div",{children:[c.jsx("label",{children:"Telefone"}),c.jsx("input",{value:i.telefone,onChange:f=>o({...i,telefone:f.target.value}),style:{width:"100%",padding:"0.5rem"},required:!0})]}),c.jsx("button",{type:"submit",style:{width:"100%",padding:"1rem",backgroundColor:"var(--color-blue)",color:"white"},children:"Prximo"})]})}),n===2&&c.jsx("form",{onSubmit:d,children:c.jsxs("div",{style:{display:"grid",gap:"1rem"},children:[c.jsxs("div",{children:[c.jsx("label",{children:"CEP da Unidade Consumidora"}),c.jsx("input",{value:i.cep,onChange:f=>o({...i,cep:f.target.value}),onBlur:s,style:{width:"100%",padding:"0.5rem"},required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{children:"Rua"}),c.jsx("input",{value:i.rua,onChange:f=>o({...i,rua:f.target.value}),style:{width:"100%",padding:"0.5rem"}})]}),c.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:[c.jsx("input",{placeholder:"Nmero",value:i.numero,onChange:f=>o({...i,numero:f.target.value}),style:{width:"100%",padding:"0.5rem"}}),c.jsx("input",{placeholder:"Complemento",value:i.complemento,onChange:f=>o({...i,complemento:f.target.value}),style:{width:"100%",padding:"0.5rem"}})]}),c.jsxs("div",{children:[c.jsx("label",{children:"Nmero da Instalao (UC)"}),c.jsx("input",{value:i.numero_uc,onChange:f=>o({...i,numero_uc:f.target.value}),placeholder:"Cdigo na conta de luz",style:{width:"100%",padding:"0.5rem"},required:!0})]}),c.jsx("button",{type:"submit",disabled:t,style:{width:"100%",padding:"1rem",success:!0,backgroundColor:"var(--color-orange)",color:"white",fontWeight:"bold"},children:t?"Processando...":"Finalizar Cadastro"})]})})]})})}const TA=x.createContext({}),Jr=()=>x.useContext(TA),TB=({children:e})=>{const[t,r]=x.useState(null),[n,a]=x.useState(null),[i,o]=x.useState(!0);x.useEffect(()=>{U.auth.getSession().then(({data:{session:d}})=>{r((d==null?void 0:d.user)??null),d!=null&&d.user?l(d.user.id):o(!1)});const{data:{subscription:u}}=U.auth.onAuthStateChange(async(d,f)=>{r((f==null?void 0:f.user)??null),f!=null&&f.user?l(f.user.id):(a(null),o(!1))});return()=>u.unsubscribe()},[]);const l=async u=>{try{const{data:d,error:f}=await U.from("profiles").select("*").eq("id",u).single();f?console.error("Error fetching profile:",f):a(d)}catch(d){console.error("Unexpected error fetching profile:",d)}finally{o(!1)}},s={signUp:u=>U.auth.signUp(u),signIn:u=>U.auth.signInWithPassword(u),signOut:()=>U.auth.signOut(),user:t,profile:n,loading:i};return c.jsx(TA.Provider,{value:s,children:!i&&e})},gl=e=>e?e.replace(/\D/g,""):"",Bf=e=>{const t=gl(e);return t.length<=11?t.replace(/(\d{3})(\d)/,"$1.$2").replace(/(\d{3})(\d)/,"$1.$2").replace(/(\d{3})(\d{1,2})/,"$1-$2").replace(/(-\d{2})\d+?$/,"$1"):t.replace(/(\d{2})(\d)/,"$1.$2").replace(/(\d{3})(\d)/,"$1.$2").replace(/(\d{3})(\d)/,"$1/$2").replace(/(\d{4})(\d)/,"$1-$2").replace(/(-\d{2})\d+?$/,"$1")},Wo=e=>gl(e).replace(/(\d{2})(\d)/,"($1) $2").replace(/(\d{5})(\d)/,"$1-$2").replace(/(-\d{4})\d+?$/,"$1"),kB=e=>{const t=gl(e);if(t.length!==11||t==="00000000000"||t==="11111111111"||t==="22222222222"||t==="33333333333"||t==="44444444444"||t==="55555555555"||t==="66666666666"||t==="77777777777"||t==="88888888888"||t==="99999999999")return!1;let r,n,a,i,o,l,s;try{for(a=0,s=10,i=0;i<9;i++)l=parseInt(t.charAt(i)),a=a+l*s,s=s-1;for(o=11-a%11,o===10||o===11?r="0":r=String.fromCharCode(o+48),a=0,s=11,i=0;i<10;i++)l=parseInt(t.charAt(i)),a=a+l*s,s=s-1;return o=11-a%11,o===10||o===11?n="0":n=String.fromCharCode(o+48),r===t.charAt(9)&&n===t.charAt(10)}catch{return!1}},NB=e=>{const t=gl(e);if(t.length!==14||/^(\d)\1{13}$/.test(t))return!1;let r=t.length-2,n=t.substring(0,r),a=t.substring(r),i=0,o=r-7;for(let s=r;s>=1;s--)i+=n.charAt(r-s)*o--,o<2&&(o=9);let l=i%11<2?0:11-i%11;if(l!=a.charAt(0))return!1;r=r+1,n=t.substring(0,r),i=0,o=r-7;for(let s=r;s>=1;s--)i+=n.charAt(r-s)*o--,o<2&&(o=9);return l=i%11<2?0:11-i%11,l==a.charAt(1)},Ei=e=>gl(e).length===11,If=e=>{const t=gl(e);return t.length<=11?kB(t):NB(t)};function PB({user:e,onClose:t,onSave:r}){const[n,a]=x.useState({name:"",role:"lead",commission_start:0,commission_recorrente:0,phone:"",superior_id:""}),[i,o]=x.useState(!1),[l,s]=x.useState([]),u={super_admin:1,admin:2,manager:3,coordinator:4,supplier:5,originator:6,subscriber:7,lead:8};x.useEffect(()=>{var h,m;e&&(a({name:e.name||"",role:e.role||"lead",commission_start:((h=e.commission_split)==null?void 0:h.start)||0,commission_recorrente:((m=e.commission_split)==null?void 0:m.recorrente)||0,phone:e.phone||"",superior_id:e.superior_id||""}),d(e.role))},[e]);const d=async h=>{const{data:m}=await U.from("profiles").select("id, name, role").neq("id",e.id);if(m){const g=u[h]||99,b=m.filter(y=>(u[y.role]||99)<g);s(b)}},f=async h=>{if(h.preventDefault(),n.phone&&!Ei(n.phone)){alert("Telefone invlido!");return}o(!0);try{const m={name:n.name,role:n.role,phone:n.phone,commission_split:{start:Number(n.commission_start),recorrente:Number(n.commission_recorrente)},superior_id:n.superior_id||null},{error:g}=await U.from("profiles").update(m).eq("id",e.id);if(g)throw g;r({...e,...m}),t()}catch(m){alert("Erro ao atualizar usurio: "+m.message)}finally{o(!1)}};return c.jsx("div",{className:"modal-overlay",children:c.jsxs("div",{className:"modal-content",style:{maxWidth:"500px"},children:[c.jsxs("div",{className:"modal-header",children:[c.jsx("h3",{children:"Editar Usurio"}),c.jsx("button",{onClick:t,className:"modal-close",children:""})]}),c.jsxs("form",{onSubmit:f,children:[c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"label",children:"Nome"}),c.jsx("input",{value:n.name,onChange:h=>a({...n,name:h.target.value}),className:"input"})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"label",children:"Telefone"}),c.jsx("input",{value:n.phone,onChange:h=>a({...n,phone:Wo(h.target.value)}),className:"input"})]}),c.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:[c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"label",children:"Funo (Role)"}),c.jsxs("select",{value:n.role,onChange:h=>{a({...n,role:h.target.value}),d(h.target.value)},className:"select",children:[c.jsx("option",{value:"lead",children:"Lead"}),c.jsx("option",{value:"subscriber",children:"Assinante"}),c.jsx("option",{value:"originator",children:"Originador"}),c.jsx("option",{value:"supplier",children:"Fornecedor"}),c.jsx("option",{value:"coordinator",children:"Coordenador"}),c.jsx("option",{value:"manager",children:"Gerente"}),c.jsx("option",{value:"admin",children:"Admin"}),c.jsx("option",{value:"super_admin",children:"Super Admin"})]})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"label",children:"Superior Imediato"}),c.jsxs("select",{value:n.superior_id,onChange:h=>a({...n,superior_id:h.target.value}),className:"select",children:[c.jsx("option",{value:"",children:"Sem superior"}),l.map(h=>c.jsxs("option",{value:h.id,children:[h.name," (",h.role,")"]},h.id))]})]})]}),c.jsxs("div",{style:{borderTop:"1px solid var(--color-border)",paddingTop:"1rem",marginTop:"0.5rem"},children:[c.jsx("h4",{style:{fontSize:"1rem",marginBottom:"0.5rem",color:"var(--color-text-medium)"},children:"Configurao de Comisses (%)"}),c.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:[c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"label",style:{fontSize:"0.8rem"},children:"Start (1 Fatura)"}),c.jsx("input",{type:"number",step:"0.1",value:n.commission_start,onChange:h=>a({...n,commission_start:h.target.value}),className:"input"})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"label",style:{fontSize:"0.8rem"},children:"Recorrente (Mensal)"}),c.jsx("input",{type:"number",step:"0.1",value:n.commission_recorrente,onChange:h=>a({...n,commission_recorrente:h.target.value}),className:"input"})]})]})]}),c.jsxs("div",{className:"modal-footer",children:[c.jsx("button",{type:"button",onClick:t,className:"btn btn-secondary",children:"Cancelar"}),c.jsx("button",{type:"submit",disabled:i,className:"btn btn-primary",children:i?"Salvando...":"Salvar Alteraes"})]})]})]})})}function RB(){const{user:e}=Jr(),[t,r]=x.useState([]),[n,a]=x.useState(!0),[i,o]=x.useState(null),[l,s]=x.useState(""),[u,d]=x.useState(""),f={super_admin:1,admin:2,manager:3,coordinator:4,supplier:5,originator:6,subscriber:7,lead:8},h=y=>f[y]||99;x.useEffect(()=>{m()},[]);const m=async()=>{try{const{data:y,error:v}=await U.from("profiles").select("*").order("name");if(v)throw v;r(y||[])}catch(y){console.error("Error fetching users:",y),alert("Erro ao buscar usurios")}finally{a(!1)}},g=y=>{r(t.map(v=>v.id===y.id?y:v)),alert("Perfil atualizado com sucesso!")},b=t.filter(y=>{var w,_;const v=(((w=y.name)==null?void 0:w.toLowerCase())||"").includes(l.toLowerCase())||(((_=y.email)==null?void 0:_.toLowerCase())||"").includes(l.toLowerCase()),p=u?y.role===u:!0;return v&&p}).sort((y,v)=>h(y.role)-h(v.role));return c.jsxs("div",{children:[c.jsx("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"2rem"},children:c.jsx("h2",{children:"Painel Administrativo"})}),c.jsxs("div",{className:"card",style:{padding:0,overflow:"hidden"},children:[c.jsxs("div",{style:{padding:"1.5rem",borderBottom:"1px solid var(--color-border)",display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:"1rem"},children:[c.jsx("h3",{style:{margin:0},children:"Gesto de Usurios"}),c.jsxs("div",{style:{display:"flex",gap:"0.5rem",flexWrap:"wrap"},children:[c.jsx("input",{placeholder:"Buscar por nome ou email...",value:l,onChange:y=>s(y.target.value),className:"input",style:{width:"250px"}}),c.jsxs("select",{value:u,onChange:y=>d(y.target.value),className:"select",style:{width:"auto"},children:[c.jsx("option",{value:"",children:"Todos os Perfis"}),c.jsx("option",{value:"super_admin",children:"Super Admin"}),c.jsx("option",{value:"admin",children:"Admin"}),c.jsx("option",{value:"manager",children:"Gerente"}),c.jsx("option",{value:"coordinator",children:"Coordenador"}),c.jsx("option",{value:"supplier",children:"Fornecedor"}),c.jsx("option",{value:"originator",children:"Originador"}),c.jsx("option",{value:"subscriber",children:"Assinante"}),c.jsx("option",{value:"lead",children:"Lead"})]})]})]}),n?c.jsx("p",{style:{padding:"1.5rem"},children:"Carregando..."}):c.jsx("div",{className:"table-container",children:c.jsxs("table",{className:"table",children:[c.jsx("thead",{children:c.jsxs("tr",{children:[c.jsx("th",{children:"Hierarquia"}),c.jsx("th",{children:"Nome"}),c.jsx("th",{children:"Email"}),c.jsx("th",{children:"Perfil (Role)"}),c.jsx("th",{children:"Comisso (Start/Rec.)"}),c.jsx("th",{children:"Aes"})]})}),c.jsx("tbody",{children:b.map(y=>{var v,p;return c.jsxs("tr",{children:[c.jsxs("td",{style:{fontWeight:"bold",color:"var(--color-text-light)"},children:["#",h(y.role)]}),c.jsx("td",{children:y.name||"-"}),c.jsx("td",{children:y.email}),c.jsx("td",{children:c.jsx("span",{className:"badge badge-neutral",children:y.role})}),c.jsxs("td",{style:{fontSize:"0.9rem",color:"var(--color-text-medium)"},children:[((v=y.commission_split)==null?void 0:v.start)||0,"% / ",((p=y.commission_split)==null?void 0:p.recorrente)||0,"%"]}),c.jsx("td",{children:c.jsx("button",{onClick:()=>o(y),className:"btn btn-secondary",style:{padding:"0.3rem 0.6rem",fontSize:"0.8rem"},children:"Editar"})})]},y.id)})})]})})]}),i&&c.jsx(PB,{user:i,onClose:()=>o(null),onSave:g})]})}function kA({invoice:e,ucs:t,onClose:r,onSave:n}){const{profile:a}=Jr(),i=["super_admin","admin","manager"].includes(a==null?void 0:a.role),o=p=>{if(!p&&p!==0)return"";const w=Number(p);return isNaN(w)?"":w.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})},l=p=>{if(!p||typeof p!="string")return 0;const w=p.replace(/\D/g,"");return Number(w)/100},[s,u]=x.useState({uc_id:"",mes_referencia:new Date().toISOString().substring(0,7),vencimento:"",consumo_kwh:"",valor_a_pagar:"",economia_reais:"",status:"a_vencer"}),[d,f]=x.useState(!1),[h,m]=x.useState(!1);x.useEffect(()=>{e?u({uc_id:e.uc_id,mes_referencia:e.mes_referencia?e.mes_referencia.substring(0,7):"",vencimento:e.vencimento?e.vencimento.split("T")[0]:"",consumo_kwh:e.consumo_kwh,valor_a_pagar:o(e.valor_a_pagar),economia_reais:o(e.economia_reais),status:e.status}):t&&t.length>0&&u(p=>({...p,uc_id:t[0].id}))},[e,t]);const g=(p,w)=>{const _=w.replace(/\D/g,""),S=(Number(_)/100).toLocaleString("pt-BR",{style:"currency",currency:"BRL"});u(E=>({...E,[p]:S}))},b=(p,w)=>{const _=s.mes_referencia.split("-");let j=_[0]||new Date().getFullYear(),S=_[1]||"01";p==="month"&&(S=w),p==="year"&&(j=w),u(E=>({...E,mes_referencia:`${j}-${S}`}))},y=async()=>{if(!(e!=null&&e.id)){alert("Salve a fatura antes de emitir o boleto.");return}if(confirm("Gerar boleto Asaas agora?")){m(!0);try{const p=await Df(e.id);p.url&&(alert("Boleto gerado com sucesso!"),window.open(p.url,"_blank"),n(),r())}catch(p){console.error(p),alert("Erro ao gerar boleto: "+p.message)}finally{m(!1)}}},v=async p=>{p.preventDefault(),f(!0);try{const w={uc_id:s.uc_id,mes_referencia:`${s.mes_referencia}-01`,vencimento:s.vencimento,consumo_kwh:Number(s.consumo_kwh),valor_a_pagar:l(s.valor_a_pagar),economia_reais:l(s.economia_reais),status:s.status};if(!w.uc_id)throw new Error("Selecione uma Unidade Consumidora (UC).");let _;if(e!=null&&e.id?_=await U.from("invoices").update(w).eq("id",e.id).select().single():_=await U.from("invoices").insert(w).select().single(),_.error)throw _.error;n(),r()}catch(w){alert("Erro ao salvar fatura: "+w.message)}finally{f(!1)}};return c.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},children:c.jsxs("div",{style:{background:"white",padding:"2rem",borderRadius:"8px",width:"90%",maxWidth:"600px",maxHeight:"90vh",overflowY:"auto"},children:[c.jsx("h3",{style:{marginBottom:"1.5rem",borderBottom:"1px solid #eee",paddingBottom:"0.5rem"},children:e?"Editar Fatura":"Nova Fatura"}),c.jsxs("form",{onSubmit:v,style:{display:"grid",gap:"1rem"},children:[c.jsxs("div",{children:[c.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Unidade Consumidora"}),c.jsxs("select",{required:!0,value:s.uc_id,onChange:p=>u({...s,uc_id:p.target.value}),disabled:!!e,style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"},children:[c.jsx("option",{value:"",children:"Selecione a UC..."}),t&&t.map(p=>c.jsxs("option",{value:p.id,children:[p.numero_uc," - ",p.titular_conta," (",p.concessionaria,")"]},p.id))]}),(!t||t.length===0)&&c.jsx("p",{style:{color:"red",fontSize:"0.8rem"},children:"Nenhuma UC ativa encontrada. Cadastre uma UC primeiro."})]}),c.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1.5fr 1fr",gap:"1rem"},children:[c.jsxs("div",{children:[c.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Ms Referncia (Ms/Ano)"}),c.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[c.jsx("select",{value:s.mes_referencia.split("-")[1],onChange:p=>b("month",p.target.value),style:{flex:1,padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"},children:["01","02","03","04","05","06","07","08","09","10","11","12"].map((p,w)=>c.jsx("option",{value:p,children:["Janeiro","Fevereiro","Maro","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"][w]},p))}),c.jsx("select",{value:s.mes_referencia.split("-")[0],onChange:p=>b("year",p.target.value),style:{width:"80px",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"},children:Array.from({length:10},(p,w)=>new Date().getFullYear()-2+w).map(p=>c.jsx("option",{value:p,children:p},p))})]})]}),c.jsxs("div",{children:[c.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Vencimento"}),c.jsx("input",{type:"date",required:!0,value:s.vencimento,onChange:p=>u({...s,vencimento:p.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]})]}),c.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:[c.jsxs("div",{children:[c.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Consumo (kWh)"}),c.jsx("input",{type:"number",step:"any",required:!0,value:s.consumo_kwh,onChange:p=>u({...s,consumo_kwh:p.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),c.jsxs("div",{children:[c.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Valor a Pagar (R$)"}),c.jsx("input",{type:"text",required:!0,value:s.valor_a_pagar,onChange:p=>g("valor_a_pagar",p.target.value),placeholder:"R$ 0,00",style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]})]}),c.jsxs("div",{children:[c.jsxs("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:["Economia Gerada (R$) ",c.jsx("span",{style:{color:"#888",fontWeight:"normal"},children:"(Opcional)"})]}),c.jsx("input",{type:"text",value:s.economia_reais,onChange:p=>g("economia_reais",p.target.value),placeholder:"R$ 0,00",style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),i&&c.jsxs("div",{children:[c.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Status"}),c.jsxs("select",{value:s.status,onChange:p=>u({...s,status:p.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"},children:[c.jsx("option",{value:"a_vencer",children:"A Vencer"}),c.jsx("option",{value:"pago",children:"Pago"}),c.jsx("option",{value:"atrasado",children:"Atrasado"})]})]}),c.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:"1.5rem"},children:[c.jsx("div",{children:(e==null?void 0:e.id)&&c.jsx(c.Fragment,{children:e.asaas_boleto_url?c.jsxs("a",{href:e.asaas_boleto_url,target:"_blank",rel:"noreferrer",style:{display:"flex",alignItems:"center",gap:"0.5rem",textDecoration:"none",color:"#166534",fontWeight:"bold"},children:[c.jsx(vd,{size:18})," Ver Boleto"]}):c.jsx("button",{type:"button",onClick:y,disabled:h,style:{display:"flex",alignItems:"center",gap:"0.5rem",background:"#fff7ed",color:"#c2410c",border:"1px solid #ffedd5",padding:"0.6rem 1rem",borderRadius:"4px",cursor:"pointer",fontWeight:"bold"},children:h?"Gerando...":c.jsxs(c.Fragment,{children:[c.jsx(zf,{size:18})," Emitir Boleto"]})})})}),c.jsxs("div",{style:{display:"flex",gap:"1rem"},children:[c.jsx("button",{type:"button",onClick:r,style:{padding:"0.8rem 1.5rem",background:"#ccc",borderRadius:"4px",border:"none",cursor:"pointer"},children:"Cancelar"}),c.jsx("button",{type:"submit",disabled:d,style:{padding:"0.8rem 1.5rem",background:"var(--color-blue)",color:"white",borderRadius:"4px",border:"none",cursor:"pointer",fontWeight:"bold"},children:d?"Salvando...":"Salvar Fatura"})]})]})]})]})})}function Ny({consumerUnit:e,onClose:t,onSave:r,onDelete:n}){const{showAlert:a,showConfirm:i}=pl(),[o,l]=x.useState([]),[s,u]=x.useState([]),[d,f]=x.useState(!1),[h,m]=x.useState(!1),g=T=>{if(!T&&T!==0)return"";const q=Number(T);return isNaN(q)?"":q.toLocaleString("pt-BR",{style:"currency",currency:"BRL",minimumFractionDigits:4})},b=T=>{if(!T||typeof T!="string")return 0;const q=T.replace(/\D/g,"");return Number(q)/1e4},y=(T,q)=>{const C=q.replace(/\D/g,""),D=(Number(C)/1e4).toLocaleString("pt-BR",{style:"currency",currency:"BRL",minimumFractionDigits:4});E(L=>({...L,[T]:D}))},v=T=>T.replace(/\D/g,"").replace(/^(\d{5})(\d)/,"$1-$2").substring(0,9),p=[{value:"em_ativacao",label:"Em Ativao"},{value:"aguardando_conexao",label:"Aguardando Conexo"},{value:"ativo",label:"Ativo"},{value:"sem_geracao",label:"Sem Gerao"},{value:"em_atraso",label:"Em Atraso"},{value:"cancelado",label:"Cancelado"},{value:"cancelado_inadimplente",label:"Cancelado (Inadimplente)"}],w=[{value:"auto_consumo_remoto",label:"Auto Consumo Remoto"},{value:"geracao_compartilhada",label:"Gerao Compartilhada"}],_=[{value:"monofasico",label:"Monofsico"},{value:"bifasico",label:"Bifsico"},{value:"trifasico",label:"Trifsico"}],j=[1,5,10,15,20,25,30],[S,E]=x.useState({subscriber_id:"",usina_id:"",status:"em_ativacao",numero_uc:"",titular_conta:"",modalidade:"geracao_compartilhada",concessionaria:"",tipo_ligacao:"trifasico",franquia:"",tarifa_concessionaria:"",te:"",tusd:"",fio_b:"",tarifa_minima:"",desconto_assinante:"",dia_vencimento:10,cep:"",rua:"",numero:"",complemento:"",bairro:"",cidade:"",uf:""});x.useEffect(()=>{var T,q,C,k,D,L,H;O(),A(),e&&E({subscriber_id:e.subscriber_id||"",usina_id:e.usina_id||"",status:e.status||"em_ativacao",numero_uc:e.numero_uc||"",titular_conta:e.titular_conta||"",modalidade:e.modalidade||"geracao_compartilhada",concessionaria:e.concessionaria||"",tipo_ligacao:e.tipo_ligacao||"trifasico",franquia:e.franquia||"",tarifa_concessionaria:g(e.tarifa_concessionaria),te:g(e.te),tusd:g(e.tusd),fio_b:g(e.fio_b),tarifa_minima:"",desconto_assinante:e.desconto_assinante||"",dia_vencimento:e.dia_vencimento||10,cep:v(((T=e.address)==null?void 0:T.cep)||""),rua:((q=e.address)==null?void 0:q.rua)||"",numero:((C=e.address)==null?void 0:C.numero)||"",complemento:((k=e.address)==null?void 0:k.complemento)||"",bairro:((D=e.address)==null?void 0:D.bairro)||"",cidade:((L=e.address)==null?void 0:L.cidade)||"",uf:((H=e.address)==null?void 0:H.uf)||""})},[e]),x.useEffect(()=>{const T=b(S.tarifa_concessionaria);let q=30;S.tipo_ligacao==="trifasico"?q=100:S.tipo_ligacao==="bifasico"&&(q=50);const k=(T*q).toLocaleString("pt-BR",{style:"currency",currency:"BRL",minimumFractionDigits:2,maximumFractionDigits:2});E(D=>({...D,tarifa_minima:k}))},[S.tarifa_concessionaria,S.tipo_ligacao]);const O=async()=>{const{data:T}=await U.from("subscribers").select("id, name, cpf_cnpj").order("name");l(T||[])},A=async()=>{const{data:T}=await U.from("usinas").select("id, name").order("name");u(T||[])},N=T=>{const q=v(T.target.value);E(C=>({...C,cep:q}))},I=async()=>{const T=S.cep.replace(/\D/g,"");if(T.length===8){m(!0);try{const q=await Ha(T);if(E(C=>({...C,rua:q.rua||"",bairro:q.bairro||"",cidade:q.cidade||"",uf:q.uf||"",concessionaria:C.concessionaria||""})),q.ibge){const C=await lu(q.ibge);if(C){let k=C["Desconto Assinante"]||0;k>1||(k=k*100),E(D=>({...D,rua:q.rua||"",bairro:q.bairro||"",cidade:q.cidade||"",uf:q.uf||"",concessionaria:C.Concessionaria||D.concessionaria,tarifa_concessionaria:C["Tarifa Concessionaria"]?g(C["Tarifa Concessionaria"]):D.tarifa_concessionaria,te:C.TE?g(C.TE):D.te,tusd:C.TUSD?g(C.TUSD):D.tusd,fio_b:C["Fio B"]?g(C["Fio B"]):D.fio_b,desconto_assinante:k.toFixed(2)}))}}}catch(q){console.error("Erro CEP",q),a("Erro ao buscar CEP/Ofertas: "+(q.message||"No encontrado"),"error")}finally{m(!1)}}},P=async T=>{T.preventDefault(),f(!0);try{const q={subscriber_id:S.subscriber_id||null,usina_id:S.usina_id||null,status:S.status,numero_uc:S.numero_uc,titular_conta:S.titular_conta,modalidade:S.modalidade,concessionaria:S.concessionaria,tipo_ligacao:S.tipo_ligacao,franquia:Number(S.franquia),tarifa_concessionaria:b(S.tarifa_concessionaria),te:b(S.te),tusd:b(S.tusd),fio_b:b(S.fio_b),desconto_assinante:Number(S.desconto_assinante),dia_vencimento:Number(S.dia_vencimento),address:{cep:S.cep.replace(/\D/g,""),rua:S.rua,numero:S.numero,complemento:S.complemento,bairro:S.bairro,cidade:S.cidade,uf:S.uf}};if(!q.subscriber_id)throw new Error("Assinante  obrigatrio.");let C;if(e!=null&&e.id?C=await U.from("consumer_units").update(q).eq("id",e.id).select().single():C=await U.from("consumer_units").insert(q).select().single(),C.error)throw C.error;r(C.data),t()}catch(q){a("Erro ao salvar UC: "+q.message,"error")}finally{f(!1)}},K=async()=>{if(await i("Excluir esta Unidade Consumidora?")){f(!0);try{const{error:q}=await U.from("consumer_units").delete().eq("id",e.id);if(q)throw q;n&&n(e.id),t()}catch(q){a("Erro ao excluir: "+q.message,"error")}finally{f(!1)}}};return c.jsx("div",{className:"modal-overlay",children:c.jsxs("div",{className:"modal-content",style:{maxWidth:"900px"},children:[c.jsxs("div",{className:"modal-header",children:[c.jsx("h3",{children:e?"Editar UC":"Nova Unidade Consumidora"}),c.jsx("button",{onClick:t,className:"modal-close",children:""})]}),c.jsxs("form",{onSubmit:P,style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:[c.jsxs("div",{className:"form-group",style:{gridColumn:"1 / -1",background:"var(--color-bg-light)",padding:"1rem",borderRadius:"var(--radius-sm)"},children:[c.jsx("label",{className:"label",children:"Status da Unidade"}),c.jsx("select",{value:S.status,onChange:T=>E({...S,status:T.target.value}),className:"select",style:{maxWidth:"300px"},children:p.map(T=>c.jsx("option",{value:T.value,children:T.label},T.value))})]}),c.jsx("div",{style:{gridColumn:"1 / -1",marginTop:"1rem"},children:c.jsx("h4",{style:{borderBottom:"1px solid var(--color-border)",paddingBottom:"0.5rem"},children:"Vnculos"})}),c.jsxs("div",{className:"form-group",children:[c.jsxs("label",{className:"label",children:["Assinante ",c.jsx("span",{style:{color:"var(--color-error)"},children:"*"})]}),c.jsxs("select",{required:!0,value:S.subscriber_id,onChange:T=>E({...S,subscriber_id:T.target.value}),className:"select",children:[c.jsx("option",{value:"",children:"Selecione..."}),o.map(T=>c.jsxs("option",{value:T.id,children:[T.name," (",T.cpf_cnpj,")"]},T.id))]})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"label",children:"Usina (Opcional)"}),c.jsxs("select",{value:S.usina_id,onChange:T=>E({...S,usina_id:T.target.value}),className:"select",children:[c.jsx("option",{value:"",children:"Selecione..."}),s.map(T=>c.jsx("option",{value:T.id,children:T.name},T.id))]})]}),c.jsxs("div",{style:{gridColumn:"1 / -1",display:"flex",gap:"1rem"},children:[c.jsxs("div",{style:{width:"150px"},children:[c.jsx("label",{className:"label",children:"CEP"}),c.jsxs("div",{style:{position:"relative"},children:[c.jsx("input",{value:S.cep,onChange:N,onBlur:I,placeholder:"00000-000",maxLength:9,className:"input"}),h&&c.jsx("span",{style:{position:"absolute",right:"10px",top:"10px",fontSize:"0.7rem",color:"var(--color-text-light)"},children:"..."})]})]}),c.jsxs("div",{style:{flex:1},children:[c.jsx("label",{className:"label",children:"Concessionria (Auto)"}),c.jsx("input",{value:S.concessionaria,onChange:T=>E({...S,concessionaria:T.target.value}),className:"input",readOnly:!0,style:{background:"var(--color-bg-light)"}})]})]}),c.jsx("div",{style:{gridColumn:"1 / -1",marginTop:"1rem"},children:c.jsx("h4",{style:{borderBottom:"1px solid var(--color-border)",paddingBottom:"0.5rem"},children:"Dados da Unidade"})}),c.jsxs("div",{className:"form-group",children:[c.jsxs("label",{className:"label",children:["Nmero da UC ",c.jsx("span",{style:{color:"var(--color-error)"},children:"*"})]}),c.jsx("input",{required:!0,value:S.numero_uc,onChange:T=>E({...S,numero_uc:T.target.value}),placeholder:"Ex: 7204400277",className:"input"})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"label",children:"Titular da Conta (Na Fatura)"}),c.jsx("input",{required:!0,value:S.titular_conta,onChange:T=>E({...S,titular_conta:T.target.value}),placeholder:"Nome Completo / Razo Social",className:"input"})]}),c.jsx("div",{style:{gridColumn:"1 / -1",marginTop:"1rem"},children:c.jsx("h4",{style:{borderBottom:"1px solid var(--color-border)",paddingBottom:"0.5rem"},children:"Endereo de Instalao"})}),c.jsxs("div",{style:{display:"flex",gap:"1rem",gridColumn:"1 / -1"},children:[c.jsxs("div",{style:{flex:1},children:[c.jsx("label",{className:"label",children:"Rua"}),c.jsx("input",{value:S.rua,onChange:T=>E({...S,rua:T.target.value}),className:"input"})]}),c.jsxs("div",{style:{width:"100px"},children:[c.jsx("label",{className:"label",children:"Nmero"}),c.jsx("input",{value:S.numero,onChange:T=>E({...S,numero:T.target.value}),className:"input"})]})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"label",children:"Bairro"}),c.jsx("input",{value:S.bairro,onChange:T=>E({...S,bairro:T.target.value}),className:"input"})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"label",children:"Complemento"}),c.jsx("input",{value:S.complemento,onChange:T=>E({...S,complemento:T.target.value}),className:"input"})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"label",children:"Cidade"}),c.jsx("input",{value:S.cidade,onChange:T=>E({...S,cidade:T.target.value}),className:"input"})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"label",children:"UF"}),c.jsx("input",{value:S.uf,onChange:T=>E({...S,uf:T.target.value}),className:"input"})]}),c.jsx("div",{style:{gridColumn:"1 / -1",marginTop:"1rem"},children:c.jsx("h4",{style:{borderBottom:"1px solid var(--color-border)",paddingBottom:"0.5rem"},children:"Dados Tcnicos e Comerciais"})}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"label",children:"Tipo de Ligao"}),c.jsx("select",{value:S.tipo_ligacao,onChange:T=>E({...S,tipo_ligacao:T.target.value}),className:"select",children:_.map(T=>c.jsx("option",{value:T.value,children:T.label},T.value))})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"label",children:"Modalidade"}),c.jsx("select",{value:S.modalidade,onChange:T=>E({...S,modalidade:T.target.value}),className:"select",children:w.map(T=>c.jsx("option",{value:T.value,children:T.label},T.value))})]}),c.jsxs("div",{style:{gridColumn:"1 / -1",background:"#e0f2fe",padding:"1rem",borderRadius:"var(--radius-md)",border:"1px solid #bae6fd",display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:[c.jsx("div",{style:{gridColumn:"1 / -1",fontSize:"0.9rem",fontWeight:"bold",color:"#0369a1",marginBottom:"0.5rem"},children:"Componentes Tarifrios"}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"label",style:{color:"#075985"},children:"Tarifa Concessionria (R$/kWh)"}),c.jsx("input",{type:"text",value:S.tarifa_concessionaria,onChange:T=>y("tarifa_concessionaria",T.target.value),placeholder:"R$ 0,0000",className:"input",style:{borderColor:"#7dd3fc"}})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"label",style:{color:"#075985"},children:"TE (Energia) - R$/kWh"}),c.jsx("input",{type:"text",value:S.te,onChange:T=>y("te",T.target.value),placeholder:"R$ 0,0000",className:"input",style:{borderColor:"#7dd3fc"}})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"label",style:{color:"#075985"},children:"TUSD (Distribuio) - R$/kWh"}),c.jsx("input",{type:"text",value:S.tusd,onChange:T=>y("tusd",T.target.value),placeholder:"R$ 0,0000",className:"input",style:{borderColor:"#7dd3fc"}})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"label",style:{color:"#075985"},children:"Fio B - R$/kWh"}),c.jsx("input",{type:"text",value:S.fio_b,onChange:T=>y("fio_b",T.target.value),placeholder:"R$ 0,0000",className:"input",style:{borderColor:"#7dd3fc"}})]})]}),c.jsxs("div",{style:{background:"var(--color-warning-bg)",padding:"0.8rem",borderRadius:"var(--radius-sm)",border:"1px solid var(--color-warning)"},children:[c.jsx("label",{className:"label",style:{color:"var(--color-warning)",fontWeight:"bold"},children:"Tarifa Mnima Estimada (R$)"}),c.jsx("div",{style:{fontSize:"1.2rem",fontWeight:"bold",color:"var(--color-warning)"},children:S.tarifa_minima||"R$ 0,00"}),c.jsxs("span",{style:{fontSize:"0.7rem",color:"var(--color-warning)"},children:["Baseada no Tipo de Ligao (",S.tipo_ligacao,") x Tarifa."]})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"label",children:"Desconto Assinante (%)"}),c.jsx("input",{type:"number",step:"0.01",value:S.desconto_assinante,onChange:T=>E({...S,desconto_assinante:T.target.value}),placeholder:"%",className:"input"})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"label",children:"Franquia / Consumo Min (kWh)"}),c.jsx("input",{type:"number",value:S.franquia,onChange:T=>E({...S,franquia:T.target.value}),className:"input"})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"label",children:"Dia de Vencimento"}),c.jsx("select",{value:S.dia_vencimento,onChange:T=>E({...S,dia_vencimento:T.target.value}),className:"select",children:j.map(T=>c.jsx("option",{value:T,children:T},T))})]}),c.jsxs("div",{className:"modal-footer",style:{gridColumn:"1 / -1"},children:[e&&n&&c.jsx("button",{type:"button",onClick:K,className:"btn btn-danger",style:{marginRight:"auto"},children:"Excluir UC"}),c.jsx("button",{type:"button",onClick:t,className:"btn btn-secondary",children:"Cancelar"}),c.jsx("button",{type:"submit",disabled:d,className:"btn btn-primary",children:d?"Salvando...":"Salvar UC"})]})]})]})})}function MB(){var j;const{user:e,profile:t}=Jr(),[r,n]=x.useState([]),[a,i]=x.useState([]),[o,l]=x.useState(!0),[s,u]=x.useState(null),[d,f]=x.useState(!1),[h,m]=x.useState(null),[g,b]=x.useState(!1),y=["super_admin","admin","manager"].includes(t==null?void 0:t.role);x.useEffect(()=>{e&&v()},[e]);const v=async()=>{try{l(!0);let S;const{data:E}=await U.from("subscribers").select("id, name").eq("profile_id",e.id).single();if(E){S=E.id,u(E.id);const{data:O}=await U.from("consumer_units").select("*").eq("subscriber_id",S);if(n(O||[]),O&&O.length>0){const A=O.map(I=>I.id),{data:N}=await U.from("invoices").select("*").in("uc_id",A).order("vencimento",{ascending:!1});i(N||[])}}else if(y){const{data:O}=await U.from("consumer_units").select("*");if(n(O||[]),O&&O.length>0){const{data:A}=await U.from("invoices").select("*").order("vencimento",{ascending:!1}).limit(50);i(A||[])}}}catch(S){console.error("Error fetching dashboard data:",S)}finally{l(!1)}},p=S=>{const E=a.find(O=>O.id===S.id);i(E?a.map(O=>O.id===S.id?S:O):[S,...a]),alert("Fatura salva com sucesso!")},w=a.reduce((S,E)=>S+(E.economia_reais||0),0),_=a[0];return c.jsxs("div",{children:[c.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"2rem"},children:[c.jsx("h2",{children:"Viso Geral do Assinante"}),c.jsx("div",{style:{display:"flex",gap:"1rem"},children:y&&c.jsxs(c.Fragment,{children:[c.jsx("button",{onClick:()=>b(!0),className:"btn btn-secondary",children:"+ Cadastrar UC"}),c.jsx("button",{onClick:()=>{m(null),f(!0)},className:"btn btn-primary",children:"+ Nova Fatura"})]})})]}),c.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:"1rem",marginBottom:"2rem"},children:[c.jsxs("div",{className:"card",children:[c.jsx("h3",{style:{fontSize:"0.9rem",color:"var(--color-text-medium)",marginBottom:"0.5rem"},children:"Economia Acumulada"}),c.jsxs("p",{style:{fontSize:"1.8rem",fontWeight:"bold",color:"var(--color-success)"},children:["R$ ",w.toFixed(2)]})]}),c.jsxs("div",{className:"card",children:[c.jsx("h3",{style:{fontSize:"0.9rem",color:"var(--color-text-medium)",marginBottom:"0.5rem"},children:"ltima Fatura"}),c.jsx("p",{style:{fontSize:"1.8rem",fontWeight:"bold",color:"var(--color-blue)"},children:_?`R$ ${(j=_.valor_a_pagar)==null?void 0:j.toFixed(2)}`:"-"}),c.jsx("small",{style:{color:"var(--color-text-light)"},children:_?new Date(_.vencimento).toLocaleDateString():""})]}),c.jsxs("div",{className:"card",children:[c.jsx("h3",{style:{fontSize:"0.9rem",color:"var(--color-text-medium)",marginBottom:"0.5rem"},children:"Unidades Consumidoras"}),c.jsx("p",{style:{fontSize:"1.8rem",fontWeight:"bold",color:"var(--color-text-dark)"},children:r.length})]})]}),c.jsx("h3",{children:"Minhas Faturas"}),c.jsx("div",{className:"card",style:{padding:0,overflow:"hidden"},children:a.length===0?c.jsx("p",{style:{padding:"2rem",textAlign:"center",color:"var(--color-text-light)"},children:"Nenhuma fatura encontrada."}):c.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[c.jsx("thead",{children:c.jsxs("tr",{style:{background:"var(--color-bg-light)",textAlign:"left"},children:[c.jsx("th",{style:{padding:"1rem",color:"var(--color-text-medium)",fontWeight:"600",fontSize:"0.85rem"},children:"Vencimento"}),c.jsx("th",{style:{padding:"1rem",color:"var(--color-text-medium)",fontWeight:"600",fontSize:"0.85rem"},children:"Consumo"}),c.jsx("th",{style:{padding:"1rem",color:"var(--color-text-medium)",fontWeight:"600",fontSize:"0.85rem"},children:"Valor"}),c.jsx("th",{style:{padding:"1rem",color:"var(--color-text-medium)",fontWeight:"600",fontSize:"0.85rem"},children:"Economia"}),c.jsx("th",{style:{padding:"1rem",color:"var(--color-text-medium)",fontWeight:"600",fontSize:"0.85rem"},children:"Status"}),c.jsx("th",{style:{padding:"1rem",color:"var(--color-text-medium)",fontWeight:"600",fontSize:"0.85rem"},children:"Ao"})]})}),c.jsx("tbody",{children:a.map(S=>{var E,O;return c.jsxs("tr",{style:{borderBottom:"1px solid var(--color-border)"},children:[c.jsx("td",{style:{padding:"1rem",fontSize:"0.9rem"},children:new Date(S.vencimento).toLocaleDateString()}),c.jsxs("td",{style:{padding:"1rem",fontSize:"0.9rem"},children:[S.consumo_kwh," kWh"]}),c.jsxs("td",{style:{padding:"1rem",fontWeight:"bold",fontSize:"0.9rem"},children:["R$ ",(E=S.valor_a_pagar)==null?void 0:E.toFixed(2)]}),c.jsxs("td",{style:{padding:"1rem",color:"var(--color-success)",fontWeight:"bold",fontSize:"0.9rem"},children:["R$ ",(O=S.economia_reais)==null?void 0:O.toFixed(2)]}),c.jsx("td",{style:{padding:"1rem"},children:c.jsx("span",{className:`badge ${S.status==="pago"?"badge-success":"badge-error"}`,children:S.status==="pago"?"Pago":"A Vencer"})}),c.jsx("td",{style:{padding:"1rem"},children:y?c.jsx("button",{onClick:()=>{m(S),f(!0)},className:"btn btn-secondary",style:{padding:"0.3rem 0.8rem",fontSize:"0.8rem"},children:"Editar"}):c.jsx("button",{className:"btn btn-secondary",style:{padding:"0.3rem 0.8rem",fontSize:"0.8rem"},children:"Ver Boleto"})})]},S.id)})})]})}),d&&c.jsx(kA,{invoice:h,ucs:r,onClose:()=>f(!1),onSave:p}),g&&c.jsx(Ny,{consumerUnit:{subscriber_id:s},onClose:()=>b(!1),onSave:()=>{v(),b(!1)}})]})}function DB(){const{user:e,profile:t}=Jr(),[r,n]=x.useState([]),[a,i]=x.useState([]),o=`${window.location.origin}/simulacao?id=${t==null?void 0:t.id}`;x.useEffect(()=>{async function u(){const{data:d}=await U.from("originators_v2").select("id, name, pix_key, pix_key_type").eq("user_id",e.id).single();if(d){const{data:f}=await U.from("leads").select("*").eq("originator_id",d.id);n(f||[]);const{data:h,error:m}=await U.from("commissions").select("*").eq("originator_id",d.id).order("reference_month",{ascending:!1});m||i(h||[])}}e&&u()},[e]);const l=()=>{navigator.clipboard.writeText(o),alert("Link copiado!")},s=async u=>{var h;if(u.status==="paid")return;if((t==null?void 0:t.role)!=="admin"&&(t==null?void 0:t.role)!=="super_admin"){alert("Apenas administradores podem realizar pagamentos.");return}const{data:d,error:f}=await U.from("originators_v2").select("pix_key, pix_key_type, name").eq("id",u.originator_id).single();if(f||!d){alert("Erro ao buscar dados do originador.");return}if(!d.pix_key){alert("Originador sem Chave Pix cadastrada.");return}if(confirm(`Confirmar pagamento de ${Number(u.total_value).toLocaleString("pt-BR",{style:"currency",currency:"BRL"})} via PIX para ${d.name}?`))try{const{data:m,error:g}=await U.functions.invoke("transfer-asaas-pix",{body:{value:u.total_value,pix_key:d.pix_key,pix_key_type:d.pix_key_type,description:`Comisso - ${new Date(u.reference_month).toLocaleDateString()}`,operationType:"PIX"}});if(g)throw g;if(!m.success)throw new Error(m.error||"Erro no pagamento");alert("Pagamento enviado! ID: "+((h=m.data)==null?void 0:h.id)),await U.from("commissions").update({status:"paid",payment_id:m.data.id,payment_date:new Date}).eq("id",u.id),window.location.reload()}catch(m){console.error(m),alert("Erro: "+m.message)}};return c.jsxs("div",{children:[c.jsx("h2",{children:"Painel do Originador"}),c.jsxs("div",{className:"card",style:{marginBottom:"2rem"},children:[c.jsx("h3",{style:{color:"var(--color-text-dark)",fontSize:"1.1rem"},children:"Seu Link de Indicao"}),c.jsxs("div",{style:{display:"flex",gap:"1rem",marginTop:"1rem"},children:[c.jsx("input",{value:o,readOnly:!0,className:"input",style:{background:"var(--color-bg-light)",color:"var(--color-text-medium)"}}),c.jsx("button",{onClick:l,className:"btn btn-accent",children:"Copiar"})]})]}),c.jsx("h3",{style:{marginBottom:"1rem"},children:"Meus Leads"}),c.jsx("div",{className:"card",style:{padding:0,overflow:"hidden"},children:c.jsx("div",{className:"table-container",children:c.jsxs("table",{className:"table",children:[c.jsx("thead",{children:c.jsxs("tr",{children:[c.jsx("th",{children:"Nome"}),c.jsx("th",{children:"Status"}),c.jsx("th",{children:"Data"})]})}),c.jsxs("tbody",{children:[r.map(u=>c.jsxs("tr",{children:[c.jsx("td",{children:u.name}),c.jsx("td",{children:c.jsx("span",{className:"badge badge-neutral",children:u.status})}),c.jsx("td",{children:new Date(u.created_at).toLocaleDateString()})]},u.id)),r.length===0&&c.jsx("tr",{children:c.jsx("td",{colSpan:"3",style:{textAlign:"center",color:"var(--color-text-light)"},children:"Nenhum lead encontrado."})})]})]})})}),c.jsx("h3",{style:{marginTop:"2rem",marginBottom:"1rem"},children:"Extrato Financeiro (Comisses)"}),c.jsx("div",{className:"card",style:{padding:0,overflow:"hidden"},children:c.jsx("div",{className:"table-container",children:c.jsxs("table",{className:"table",children:[c.jsx("thead",{children:c.jsxs("tr",{children:[c.jsx("th",{children:"Ms Ref."}),c.jsx("th",{children:"Faturas Proc."}),c.jsx("th",{children:"Valor (R$)"}),c.jsx("th",{children:"Status"}),c.jsx("th",{children:"Data Pagt."}),c.jsx("th",{children:"Aes"})]})}),c.jsx("tbody",{children:a.length===0?c.jsx("tr",{children:c.jsx("td",{colSpan:"6",style:{textAlign:"center",color:"var(--color-text-light)"},children:"Nenhuma comisso registrada."})}):a.map(u=>c.jsxs("tr",{children:[c.jsx("td",{children:new Date(u.reference_month).toLocaleDateString()}),c.jsx("td",{children:u.total_invoices}),c.jsx("td",{style:{fontWeight:"bold",color:"var(--color-success)"},children:Number(u.total_value).toLocaleString("pt-BR",{style:"currency",currency:"BRL"})}),c.jsx("td",{children:c.jsx("span",{className:`badge ${u.status==="paid"?"badge-success":"badge-warning"}`,children:u.status==="paid"?"Pago":"Pendente"})}),c.jsx("td",{children:u.payment_date?new Date(u.payment_date).toLocaleDateString():"-"}),c.jsx("td",{children:u.status!=="paid"&&((t==null?void 0:t.role)==="admin"||(t==null?void 0:t.role)==="super_admin")&&c.jsx("button",{onClick:()=>s(u),className:"btn",style:{background:"var(--color-success)",color:"white",padding:"0.3rem 0.8rem",fontSize:"0.8rem"},children:"Pagar"})})]},u.id))})]})})})]})}function zB(){const{user:e}=Jr(),[t,r]=x.useState([]);return x.useEffect(()=>{async function n(){const{data:a}=await U.from("suppliers").select("id").eq("profile_id",e.id).single();if(a){const{data:i}=await U.from("usinas").select("*").eq("supplier_id",a.id);r(i||[])}}n()},[e]),c.jsxs("div",{children:[c.jsx("h2",{children:"Painel do Fornecedor"}),c.jsxs("div",{style:{padding:"1.5rem",background:"white",borderRadius:"8px",marginBottom:"2rem"},children:[c.jsx("h3",{children:"Minhas Usinas"}),c.jsxs("p",{style:{fontSize:"1.2rem",color:"#666"},children:[t.length," Usinas cadastradas"]})]}),c.jsx("div",{style:{display:"grid",gap:"1rem"},children:t.map(n=>c.jsxs("div",{style:{padding:"1rem",background:"white",borderLeft:"4px solid var(--color-orange)",borderRadius:"4px"},children:[c.jsx("h4",{children:n.name}),c.jsxs("p",{children:["Status: ",c.jsx("strong",{children:n.status})]}),c.jsxs("p",{children:["Potncia: ",n.potencia_kwp," KWp"]})]},n.id))})]})}function BB({lead:e,onClose:t,onSave:r,onDelete:n,onConvert:a}){const{profile:i}=Jr(),[o,l]=x.useState([]),s=[{value:"simulacao",label:"Simulao"},{value:"indicado",label:"Indicado"},{value:"em_negociacao",label:"Em Negociao"},{value:"negocio_perdido",label:"Negcio Perdido"},{value:"ativo",label:"Ativo"},{value:"pago",label:"Pago"},{value:"convertido",label:"Convertido (Legado)"}],[u,d]=x.useState({name:"",status:"simulacao",phone:"",email:"",cep:"",rua:"",numero:"",complemento:"",bairro:"",cidade:"",uf:"",concessionaria:"",tarifa_concessionaria:"",consumo_kwh:"",desconto_assinante:"",originator_id:""}),[f,h]=x.useState(!1),[m,g]=x.useState(!1);x.useEffect(()=>{b(),e?d({name:e.name,status:e.status||"simulacao",phone:e.phone||"",email:e.email||"",cep:e.cep||"",rua:e.rua||"",numero:e.numero||"",complemento:e.complemento||"",bairro:e.bairro||"",cidade:e.cidade||"",uf:e.uf||"",concessionaria:e.concessionaria||"",tarifa_concessionaria:e.tarifa_concessionaria||"",consumo_kwh:e.consumo_kwh||"",desconto_assinante:e.desconto_assinante||"",originator_id:e.originator_id||""}):(i==null?void 0:i.role)==="originator"&&d(w=>({...w,originator_id:i.id}))},[e,i]);const b=async()=>{const{data:w}=await U.from("originators_v2").select("id, name").order("name");l(w||[])},y=async()=>{const w=u.cep.replace(/\D/g,"");if(w.length===8){g(!0);try{const _=await Ha(w);let j={};if(_.ibge)try{const S=await lu(_.ibge);S&&(j=S)}catch(S){console.error("Erro na oferta",S)}d(S=>({...S,rua:_.rua||"",bairro:_.bairro||"",cidade:_.cidade||"",uf:_.uf||"",concessionaria:(j==null?void 0:j.Concessionaria)||S.concessionaria||"",tarifa_concessionaria:(j==null?void 0:j["Tarifa Concessionaria"])||S.tarifa_concessionaria||"",desconto_assinante:(j==null?void 0:j["Desconto Assinante"])||S.desconto_assinante||""}))}catch(_){console.error("Erro ao buscar CEP:",_),alert("Erro ao buscar CEP. Verifique se digitou corretamente.")}finally{g(!1)}}},v=async w=>{if(w.preventDefault(),u.phone&&!Ei(u.phone)){alert("Telefone invlido!");return}h(!0);try{const _={...u};_.tarifa_concessionaria=_.tarifa_concessionaria?Number(_.tarifa_concessionaria):null,_.consumo_kwh=_.consumo_kwh?Number(_.consumo_kwh):null,_.desconto_assinante=_.desconto_assinante?Number(_.desconto_assinante):null,_.originator_id===""&&(_.originator_id=null);let j;if(e!=null&&e.id?j=await U.from("leads").update(_).eq("id",e.id).select().single():j=await U.from("leads").insert(_).select().single(),j.error)throw j.error;r(j.data),t()}catch(_){alert("Erro ao salvar lead: "+_.message)}finally{h(!1)}},p=async()=>{if(e!=null&&e.id&&confirm("Tem certeza que deseja excluir este lead? Esta ao no pode ser desfeita.")){h(!0);try{const{error:w}=await U.from("leads").delete().eq("id",e.id);if(w)throw w;n&&n(e.id),t()}catch(w){alert("Erro ao excluir lead: "+w.message)}finally{h(!1)}}};return c.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},children:c.jsxs("div",{style:{background:"white",padding:"2rem",borderRadius:"8px",width:"90%",maxWidth:"800px",maxHeight:"90vh",overflowY:"auto"},children:[c.jsx("h3",{style:{marginBottom:"1.5rem",borderBottom:"1px solid #eee",paddingBottom:"0.5rem"},children:e?"Editar Lead":"Novo Lead"}),c.jsxs("form",{onSubmit:v,style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:[c.jsx("div",{style:{gridColumn:"1 / -1",fontWeight:"bold",marginTop:"0.5rem",color:"var(--color-blue)"},children:"Dados do Lead"}),c.jsxs("div",{children:[c.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Status"}),c.jsx("select",{value:u.status,onChange:w=>d({...u,status:w.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"},children:s.map(w=>c.jsx("option",{value:w.value,children:w.label},w.value))})]}),c.jsxs("div",{children:[c.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Originador"}),c.jsxs("select",{value:u.originator_id,onChange:w=>d({...u,originator_id:w.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"},children:[c.jsx("option",{value:"",children:"Selecione..."}),o.map(w=>c.jsx("option",{value:w.id,children:w.name},w.id))]})]}),c.jsxs("div",{style:{gridColumn:"1 / -1"},children:[c.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Nome Completo"}),c.jsx("input",{required:!0,value:u.name,onChange:w=>d({...u,name:w.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),c.jsxs("div",{children:[c.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Telefone"}),c.jsx("input",{placeholder:"55 xx xxxxx xxxx",value:u.phone,onChange:w=>d({...u,phone:w.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),c.jsxs("div",{children:[c.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Email"}),c.jsx("input",{type:"email",value:u.email,onChange:w=>d({...u,email:w.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),c.jsx("div",{style:{gridColumn:"1 / -1",fontWeight:"bold",marginTop:"1rem",borderTop:"1px solid #eee",paddingTop:"1rem",color:"var(--color-blue)"},children:"Endereo e Instalao"}),c.jsxs("div",{style:{gridColumn:"1 / -1",display:"flex",gap:"1rem"},children:[c.jsxs("div",{style:{flex:1},children:[c.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"CEP (Busca)"}),c.jsx("input",{placeholder:"00000-000",value:u.cep,onChange:w=>d({...u,cep:w.target.value}),onBlur:y,style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px",background:m?"#f0f9ff":"white"}})]}),c.jsxs("div",{style:{flex:2},children:[c.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Cidade/UF"}),c.jsx("input",{value:`${u.cidade} - ${u.uf} `,disabled:!0,style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px",background:"#f9fafb"}})]})]}),c.jsxs("div",{style:{gridColumn:"1 / -1"},children:[c.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Rua"}),c.jsx("input",{value:u.rua,onChange:w=>d({...u,rua:w.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),c.jsxs("div",{children:[c.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Nmero"}),c.jsx("input",{value:u.numero,onChange:w=>d({...u,numero:w.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),c.jsxs("div",{children:[c.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Complemento"}),c.jsx("input",{value:u.complemento,onChange:w=>d({...u,complemento:w.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),c.jsxs("div",{children:[c.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Bairro"}),c.jsx("input",{value:u.bairro,onChange:w=>d({...u,bairro:w.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),c.jsx("div",{style:{gridColumn:"1 / -1",fontWeight:"bold",marginTop:"1rem",borderTop:"1px solid #eee",paddingTop:"1rem",color:"var(--color-blue)"},children:"Dados de Energia e Oferta"}),c.jsxs("div",{children:[c.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Consumo Mdio (kWh)"}),c.jsx("input",{type:"number",value:u.consumo_kwh,onChange:w=>d({...u,consumo_kwh:w.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),c.jsxs("div",{children:[c.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Concessionria"}),c.jsx("input",{value:u.concessionaria,onChange:w=>d({...u,concessionaria:w.target.value}),placeholder:"Busca automtica...",style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px",background:"#f8fdfce"}})]}),c.jsxs("div",{children:[c.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Tarifa (R$)"}),c.jsx("input",{type:"number",step:"0.0001",value:u.tarifa_concessionaria,onChange:w=>d({...u,tarifa_concessionaria:w.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),c.jsxs("div",{children:[c.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Desconto Oferta (%)"}),c.jsx("input",{type:"number",step:"0.01",value:u.desconto_assinante,onChange:w=>d({...u,desconto_assinante:w.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),c.jsxs("div",{children:[c.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem",color:"green",fontWeight:"bold"},children:"Economia Mensal Estimada (R$)"}),c.jsx("input",{value:(()=>{const w=Number(u.consumo_kwh)||0,_=Number(u.tarifa_concessionaria)||0,j=Number(u.desconto_assinante)||0;if(w&&_&&j){const E=w*_*(j/100);return isNaN(E)?"R$ 0,00":E.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})}return"R$ 0,00"})(),disabled:!0,style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px",background:"#e6fffa",color:"#047857",fontWeight:"bold"}})]}),c.jsxs("div",{style:{gridColumn:"1 / -1",display:"flex",justifyContent:"space-between",marginTop:"1.5rem",paddingTop:"1rem",borderTop:"1px solid #eee"},children:[c.jsx("div",{children:e&&n&&c.jsx("button",{type:"button",onClick:p,style:{padding:"0.5rem 1rem",background:"#fee2e2",color:"#dc2626",borderRadius:"4px",border:"1px solid #fecaca"},children:"Excluir"})}),c.jsxs("div",{style:{display:"flex",gap:"1rem"},children:[e&&e.status!=="convertido"&&a&&c.jsx("button",{type:"button",onClick:()=>{a(e),t()},style:{padding:"0.5rem 1rem",background:"white",color:"green",border:"1px solid green",borderRadius:"4px"},children:"Converter em Assinante"}),c.jsx("button",{type:"button",onClick:t,style:{padding:"0.5rem 1rem",background:"#ccc",borderRadius:"4px"},children:"Cancelar"}),c.jsx("button",{type:"submit",disabled:f,style:{padding:"0.5rem 1rem",background:"var(--color-blue)",color:"white",borderRadius:"4px"},children:f?"Salvando...":"Salvar Lead"})]})]})]})]})})}function NA({subscriber:e,onClose:t,onSave:r,onDelete:n}){const{showAlert:a,showConfirm:i}=pl(),{profile:o}=Jr(),[l,s]=x.useState([]),[u,d]=x.useState([]),[f,h]=x.useState(!1),[m,g]=x.useState(!1),b=[{value:"ativacao",label:"Em Ativao"},{value:"ativo",label:"Ativo"},{value:"ativo_inadimplente",label:"Ativo (Inadimplente)"},{value:"transferido",label:"Transferido"},{value:"cancelado",label:"Cancelado"},{value:"cancelado_inadimplente",label:"Cancelado (Inadimplente)"}],[y,v]=x.useState({name:"",cpf_cnpj:"",status:"ativacao",phone:"",email:"",cep:"",rua:"",numero:"",complemento:"",bairro:"",cidade:"",uf:"",originator_id:""}),[p,w]=x.useState(!1),[_,j]=x.useState(!1),[S,E]=x.useState(!1);x.useEffect(()=>{O(),e&&(v({name:e.name||"",cpf_cnpj:e.cpf_cnpj||"",status:e.status||"ativacao",phone:e.phone||"",email:e.email||"",cep:e.cep||"",rua:e.rua||"",numero:e.numero||"",complemento:e.complemento||"",bairro:e.bairro||"",cidade:e.cidade||"",uf:e.uf||"",originator_id:e.originator_id||""}),A(e.id))},[e]);const O=async()=>{const{data:C}=await U.from("originators_v2").select("id, name").order("name");s(C||[])},A=async C=>{const{data:k}=await U.from("consumer_units").select("*").eq("subscriber_id",C);d(k||[])},N=async()=>{const C=y.cep.replace(/\D/g,"");if(C.length===8){j(!0);try{const k=await Ha(C);v(D=>({...D,rua:k.rua||"",bairro:k.bairro||"",cidade:k.cidade||"",uf:k.uf||""}))}catch(k){console.error("Erro ao buscar CEP:",k),alert("Erro ao buscar CEP. Verifique se digitou corretamente.")}finally{j(!1)}}},I=async()=>{const C=y.cpf_cnpj.replace(/\D/g,"");if(C.length>=11){E(!0);try{const k=await Ty(C);k.nome&&v(D=>({...D,name:k.nome}))}catch(k){console.error("Erro buscar doc",k)}finally{E(!1)}}},P=async()=>{if(!(e!=null&&e.id)){a("Salve o assinante antes de gerar boletos.","warning");return}if(await i(`Gerar boleto CONSOLIDADO (todas as faturas pendentes) para ${y.name}?`)){h(!0);try{const k=await Df(e.id,"subscriber");k.url&&(a("Boleto consolidado gerado com sucesso!","success"),window.open(k.url,"_blank"))}catch(k){console.error(k),a("Erro: "+(k.message||"Falha ao gerar boleto. Verifique se h faturas pendentes."),"error")}finally{h(!1)}}},K=async C=>{if(C.preventDefault(),!If(y.cpf_cnpj)){a("CPF/CNPJ invlido!","warning");return}if(y.phone&&!Ei(y.phone)){a("Telefone invlido!","warning");return}w(!0);try{const k=y.cpf_cnpj.replace(/\D/g,"");let D=U.from("subscribers").select("id").eq("cpf_cnpj",y.cpf_cnpj);e!=null&&e.id&&(D=D.neq("id",e.id));const{data:L,error:H}=await D;if(H)throw H;if(L&&L.length>0)throw new Error("J existe um assinante cadastrado com este CPF/CNPJ.");console.log("Syncing with Asaas...");let le=null,ue=!1;try{const Ee=await A4({id:e==null?void 0:e.asaas_customer_id,name:y.name,cpfCnpj:y.cpf_cnpj,email:y.email,phone:y.phone,postalCode:y.cep,addressNumber:y.numero,address:y.rua,province:y.bairro});if(!Ee||!Ee.success)throw new Error((Ee==null?void 0:Ee.error)||"Erro desconhecido");le=Ee.asaas_id,ue=!0}catch(Ee){if(console.error("Asaas Sync Error:",Ee),!await i(`Falha ao sincronizar com Asaas: ${Ee.message}.

Deseja salvar apenas no CRM (Localmente)?`,"Erro de Sincronizao")){w(!1);return}}const ce={...y};le&&(ce.asaas_customer_id=le),ce.originator_id===""&&(ce.originator_id=null);let de;if(e!=null&&e.id?de=await U.from("subscribers").update(ce).eq("id",e.id).select().single():de=await U.from("subscribers").insert(ce).select().single(),de.error)throw de.error;ue?a("Cliente salvo e sincronizado com Asaas!","success"):a("Cliente salvo APENAS LOCALMENTE (Erro Asaas ignorado).","warning"),r(de.data),t()}catch(k){console.error(k),a("Erro ao salvar assinante: "+k.message,"error")}finally{w(!1)}},T=async()=>{if(!(!(e!=null&&e.id)||!await i("Tem certeza que deseja excluir este assinante?","Excluir Assinante","Excluir","Cancelar"))){w(!0);try{const{error:k}=await U.from("subscribers").delete().eq("id",e.id);if(k)throw k;n&&n(e.id),t()}catch(k){a("Erro ao excluir: "+k.message,"error")}finally{w(!1)}}},q=async C=>{if(await i("Deseja desvincular esta UC do assinante? A UC no ser excluda, apenas removida deste cliente.","Desvincular UC"))try{const{error:D}=await U.from("consumer_units").update({subscriber_id:null}).eq("id",C);if(D)throw D;A(e.id),a("UC desvinculada com sucesso!","success")}catch(D){console.error(D),a("Erro ao desvincular UC: "+D.message,"error")}};return c.jsxs("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},children:[c.jsxs("div",{style:{background:"white",padding:"2rem",borderRadius:"8px",width:"90%",maxWidth:"900px",maxHeight:"90vh",overflowY:"auto"},children:[c.jsx("h3",{style:{marginBottom:"1.5rem",borderBottom:"1px solid #eee",paddingBottom:"0.5rem"},children:e?"Editar Assinante":"Novo Assinante"}),c.jsxs("form",{onSubmit:K,style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:[c.jsx("div",{style:{gridColumn:"1 / -1",fontWeight:"bold",marginTop:"0.5rem",color:"var(--color-blue)"},children:"Dados Cadastrais"}),c.jsxs("div",{children:[c.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Status"}),c.jsx("select",{value:y.status,onChange:C=>v({...y,status:C.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"},children:b.map(C=>c.jsx("option",{value:C.value,children:C.label},C.value))})]}),c.jsxs("div",{children:[c.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Originador"}),c.jsxs("select",{value:y.originator_id,onChange:C=>v({...y,originator_id:C.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"},children:[c.jsx("option",{value:"",children:"Selecione..."}),l.map(C=>c.jsx("option",{value:C.id,children:C.name},C.id))]})]}),c.jsxs("div",{children:[c.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"CPF/CNPJ (Busca Automtica)"}),c.jsx("div",{style:{display:"flex",gap:"0.5rem"},children:c.jsx("input",{value:y.cpf_cnpj,onChange:C=>v({...y,cpf_cnpj:Bf(C.target.value)}),onBlur:I,placeholder:"000.000.000-00",style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px",background:S?"#f0f9ff":"white"},required:!0})})]}),c.jsxs("div",{style:{gridColumn:"1 / -1"},children:[c.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Nome Completo / Razo Social"}),c.jsx("input",{required:!0,value:y.name,onChange:C=>v({...y,name:C.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),c.jsxs("div",{children:[c.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Email"}),c.jsx("input",{type:"email",value:y.email,onChange:C=>v({...y,email:C.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"},required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Telefone"}),c.jsx("input",{value:y.phone,onChange:C=>v({...y,phone:Wo(C.target.value)}),placeholder:"(00) 00000-0000",style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),c.jsx("div",{style:{gridColumn:"1 / -1",fontWeight:"bold",marginTop:"1rem",borderTop:"1px solid #eee",paddingTop:"1rem",color:"var(--color-blue)"},children:"Endereo"}),c.jsxs("div",{style:{gridColumn:"1 / -1",display:"flex",gap:"1rem"},children:[c.jsxs("div",{style:{flex:1},children:[c.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"CEP (Busca)"}),c.jsx("input",{value:y.cep,onChange:C=>v({...y,cep:C.target.value}),onBlur:N,style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px",background:_?"#f0f9ff":"white"}})]}),c.jsxs("div",{style:{flex:2},children:[c.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Cidade/UF"}),c.jsx("input",{value:`${y.cidade} - ${y.uf}`,disabled:!0,style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px",background:"#f9fafb"}})]})]}),c.jsxs("div",{style:{gridColumn:"1 / -1"},children:[c.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Rua"}),c.jsx("input",{value:y.rua,onChange:C=>v({...y,rua:C.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),c.jsxs("div",{children:[c.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Nmero"}),c.jsx("input",{value:y.numero,onChange:C=>v({...y,numero:C.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),c.jsxs("div",{children:[c.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Complemento"}),c.jsx("input",{value:y.complemento,onChange:C=>v({...y,complemento:C.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),c.jsxs("div",{children:[c.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Bairro"}),c.jsx("input",{value:y.bairro,onChange:C=>v({...y,bairro:C.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),c.jsxs("div",{style:{gridColumn:"1 / -1",fontWeight:"bold",marginTop:"1rem",borderTop:"1px solid #eee",paddingTop:"1rem",color:"var(--color-blue)",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[c.jsx("span",{children:"Unidades Consumidoras (UCs)"}),(e==null?void 0:e.id)&&c.jsxs("button",{type:"button",onClick:()=>g(!0),style:{display:"flex",alignItems:"center",gap:"0.3rem",background:"#ecfdf5",color:"#059669",border:"1px solid #d1fae5",padding:"0.4rem 0.8rem",borderRadius:"4px",cursor:"pointer",fontSize:"0.8rem"},children:[c.jsx(ky,{size:16})," Cadastrar UCs"]})]}),c.jsx("div",{style:{gridColumn:"1 / -1"},children:u.length>0?c.jsx("ul",{style:{listStyle:"none",padding:0},children:u.map(C=>{var k;return c.jsxs("li",{style:{background:"#f8fafc",padding:"0.5rem",marginBottom:"0.5rem",borderRadius:"4px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[c.jsxs("div",{style:{flex:1},children:[c.jsxs("span",{children:["UC: ",C.numero_uc," - ",C.concessionaria]}),c.jsx("span",{style:{display:"block",fontSize:"0.8rem",color:"#666"},children:(k=C.status)==null?void 0:k.replace("_"," ").toUpperCase()})]}),c.jsx("button",{type:"button",onClick:()=>q(C.id),style:{padding:"0.3rem",background:"transparent",border:"none",color:"#a1a1aa",cursor:"pointer"},title:"Desvincular UC",children:c.jsx(CA,{size:16})})]},C.id)})}):c.jsx("p",{style:{color:"#999",fontSize:"0.9rem"},children:'Nenhuma UC vinculada. Voc pode adicionar UCs na tela de "Unidades Consumidoras" aps salvar.'})}),c.jsxs("div",{style:{gridColumn:"1 / -1",display:"flex",justifyContent:"space-between",marginTop:"1.5rem",paddingTop:"1rem",borderTop:"1px solid #eee",alignItems:"center"},children:[c.jsx("div",{children:(e==null?void 0:e.id)&&c.jsx("button",{type:"button",onClick:P,disabled:f,style:{display:"flex",alignItems:"center",gap:"0.5rem",background:"#fff7ed",color:"#c2410c",border:"1px solid #ffedd5",padding:"0.6rem 1rem",borderRadius:"4px",cursor:"pointer",fontWeight:"bold"},children:f?"Processando...":c.jsxs(c.Fragment,{children:[c.jsx(zf,{size:18})," Emitir Fatura Consolidada"]})})}),c.jsxs("div",{style:{display:"flex",gap:"1rem",alignItems:"center"},children:[e&&n&&c.jsx("button",{type:"button",onClick:T,style:{padding:"0.5rem 1rem",background:"#fee2e2",color:"#dc2626",borderRadius:"4px",border:"1px solid #fecaca",height:"fit-content"},children:"Excluir"}),c.jsx("button",{type:"button",onClick:t,style:{padding:"0.5rem 1rem",background:"#ccc",borderRadius:"4px"},children:"Cancelar"}),c.jsx("button",{type:"submit",disabled:p,style:{padding:"0.5rem 1rem",background:"var(--color-blue)",color:"white",borderRadius:"4px"},children:p?"Salvando...":"Salvar Assinante"})]})]})]})]}),m&&e&&c.jsx(Ny,{consumerUnit:{subscriber_id:e.id},onClose:()=>g(!1),onSave:()=>{A(e.id),g(!1)}})]})}function IB(){const{profile:e}=Jr(),[t,r]=x.useState([]),[n,a]=x.useState(!0),[i,o]=x.useState(!1),[l,s]=x.useState(!1),[u,d]=x.useState(null),[f,h]=x.useState(null),[m,g]=x.useState("list"),[b,y]=x.useState(""),v=t.filter(O=>{var N,I,P;if(!b)return!0;const A=b.toLowerCase();return((N=O.name)==null?void 0:N.toLowerCase().includes(A))||((I=O.email)==null?void 0:I.toLowerCase().includes(A))||((P=O.phone)==null?void 0:P.includes(A))});x.useEffect(()=>{p()},[]);const p=async()=>{a(!0);try{const{data:O,error:A}=await U.from("leads").select(`
                    *,
                    originator:originator_id (name)
                `).order("created_at",{ascending:!1});if(A)throw A;r(O||[])}catch(O){console.error("Error fetching leads:",O)}finally{a(!1)}},w=O=>{t.find(N=>N.id===O.id)?(r(t.map(N=>N.id===O.id?{...N,...O}:N)),p()):(r([O,...t]),p())},_=O=>{r(t.filter(A=>A.id!==O))},j=O=>{h(O),s(!0)},S=async O=>{try{await U.from("leads").update({status:"em_negociacao"}).eq("id",f.id),p(),alert('Lead convertido em Assinante! Status atualizado para "Em Negociao".')}catch(A){console.error("Erro ao atualizar status do lead",A)}},E={simulacao:"#64748b",indicado:"#0ea5e9",em_negociacao:"#eab308",ativo:"#22c55e",negocio_perdido:"#ef4444",pago:"#8b5cf6"};return c.jsxs("div",{children:[c.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"2rem"},children:[c.jsx("h2",{children:"Gesto de Leads"}),c.jsx("button",{onClick:()=>{d(null),o(!0)},className:"btn btn-primary",children:"+ Novo Lead"})]}),c.jsx("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.5rem",flexWrap:"wrap",gap:"1rem"},children:c.jsxs("div",{style:{display:"flex",gap:"1rem",flex:1,alignItems:"center"},children:[c.jsx("input",{type:"text",placeholder:"Buscar por nome, email ou telefone...",value:b,onChange:O=>y(O.target.value),className:"input",style:{maxWidth:"350px"}}),c.jsxs("div",{className:"btn-group",style:{display:"flex",border:"1px solid var(--color-border)",borderRadius:"var(--radius-sm)",overflow:"hidden"},children:[c.jsx("button",{onClick:()=>g("list"),className:`btn ${m==="list"?"btn-primary":"btn-secondary"}`,style:{borderRadius:0,border:"none"},children:"Lista"}),c.jsx("button",{onClick:()=>g("kanban"),className:`btn ${m==="kanban"?"btn-primary":"btn-secondary"}`,style:{borderRadius:0,border:"none"},children:"Kanban"})]})]})}),n?c.jsx("p",{children:"Carregando..."}):c.jsx(c.Fragment,{children:m==="list"?c.jsx("div",{className:"card",style:{padding:0,overflow:"hidden"},children:c.jsx("div",{className:"table-container",children:v.length===0?c.jsx("p",{style:{padding:"2rem",textAlign:"center",color:"var(--color-text-light)"},children:"Nenhum lead encontrado."}):c.jsxs("table",{className:"table",children:[c.jsx("thead",{children:c.jsxs("tr",{children:[c.jsx("th",{children:"Nome"}),c.jsx("th",{children:"Contato"}),c.jsx("th",{children:"Status"}),c.jsx("th",{children:"Originador"}),c.jsx("th",{children:"Aes"})]})}),c.jsx("tbody",{children:v.map(O=>{var A;return c.jsxs("tr",{children:[c.jsx("td",{style:{fontWeight:"bold"},children:O.name}),c.jsxs("td",{children:[c.jsx("div",{style:{fontSize:"0.9rem"},children:O.email}),c.jsx("div",{style:{fontSize:"0.8rem",color:"var(--color-text-medium)"},children:O.phone})]}),c.jsx("td",{children:c.jsx("span",{style:{padding:"0.25rem 0.75rem",borderRadius:"999px",fontSize:"0.85rem",fontWeight:"500",background:O.status==="simulacao"?"#f1f5f9":O.status==="em_negociacao"?"#fef9c3":O.status==="ativo"?"#dcfce7":"#f1f5f9",color:O.status==="simulacao"?"#64748b":O.status==="em_negociacao"?"#a16207":O.status==="ativo"?"#166534":"#64748b"},children:O.status.toUpperCase().replace("_"," ")})}),c.jsx("td",{children:((A=O.originator)==null?void 0:A.name)||"-"}),c.jsxs("td",{style:{display:"flex",gap:"0.5rem"},children:[c.jsx("button",{onClick:()=>{d(O),o(!0)},className:"btn btn-secondary",style:{padding:"0.3rem 0.6rem",fontSize:"0.8rem"},children:"Editar"}),O.status!=="convertido"&&c.jsx("button",{onClick:()=>j(O),className:"btn",style:{padding:"0.3rem 0.6rem",fontSize:"0.8rem",border:"1px solid var(--color-success)",color:"var(--color-success)",background:"white"},children:"Converter"})]})]},O.id)})})]})})}):c.jsx("div",{style:{display:"flex",gap:"1rem",overflowX:"auto",paddingBottom:"1rem"},children:["simulacao","indicado","em_negociacao","ativo","negocio_perdido","pago"].map(O=>{const A=v.filter(I=>I.status===O),N=E[O]||"#64748b";return c.jsxs("div",{style:{minWidth:"280px",flex:1,background:"var(--color-bg-light)",borderRadius:"var(--radius-md)",padding:"0.5rem",borderTop:`4px solid ${N}`,boxShadow:"var(--shadow-sm)"},children:[c.jsxs("h4",{style:{padding:"0.8rem",borderBottom:"1px solid var(--color-border)",background:"white",borderRadius:"var(--radius-sm)",display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0.5rem",color:N},children:[c.jsx("span",{style:{textTransform:"uppercase",fontSize:"0.8rem",fontWeight:"bold"},children:O.replace("_"," ")}),c.jsx("span",{style:{fontSize:"0.8rem",background:N,color:"white",padding:"0.1rem 0.5rem",borderRadius:"99px"},children:A.length})]}),c.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem"},children:A.map(I=>{var P,K;return c.jsxs("div",{onClick:()=>{d(I),o(!0)},style:{background:"white",padding:"1rem",borderRadius:"var(--radius-sm)",boxShadow:"var(--shadow-sm)",cursor:"pointer",border:"1px solid transparent",transition:"0.2s"},onMouseEnter:T=>T.currentTarget.style.borderColor="var(--color-blue)",onMouseLeave:T=>T.currentTarget.style.borderColor="transparent",children:[c.jsx("div",{style:{fontWeight:"bold",marginBottom:"0.3rem",color:"var(--color-text-dark)"},children:I.name}),c.jsx("div",{style:{fontSize:"0.8rem",color:"var(--color-text-medium)",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:I.email}),c.jsx("div",{style:{fontSize:"0.8rem",color:"var(--color-text-medium)",marginTop:"0.2rem"},children:I.phone}),c.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:"0.8rem",fontSize:"0.75rem",color:"var(--color-text-light)"},children:[c.jsx("span",{children:(K=(P=I.originator)==null?void 0:P.name)==null?void 0:K.split(" ")[0]}),c.jsx("span",{children:new Date(I.created_at).toLocaleDateString()})]})]},I.id)})})]},O)})})}),i&&c.jsx(BB,{lead:u,onClose:()=>o(!1),onSave:w,onDelete:_,onConvert:j}),l&&c.jsx(NA,{subscriber:f?{...f,id:null,status:"ativacao",originator_id:f.originator_id}:null,onClose:()=>s(!1),onSave:S})]})}function $B(){const{profile:e}=Jr(),[t,r]=x.useState([]),[n,a]=x.useState(!0),[i,o]=x.useState(!1),[l,s]=x.useState(null),[u,d]=x.useState("list"),[f,h]=x.useState(""),[m,g]=x.useState(null),b=t.filter(j=>{var E,O,A,N;if(!f)return!0;const S=f.toLowerCase();return((E=j.name)==null?void 0:E.toLowerCase().includes(S))||((O=j.email)==null?void 0:O.toLowerCase().includes(S))||((A=j.phone)==null?void 0:A.includes(S))||((N=j.cpf_cnpj)==null?void 0:N.includes(S))});x.useEffect(()=>{y()},[]);const y=async()=>{a(!0);try{const{data:j,error:S}=await U.from("subscribers").select("*").order("created_at",{ascending:!1});if(S)throw S;r(j||[])}catch(j){console.error("Error fetching subscribers:",j)}finally{a(!1)}},v=j=>{const S=t.find(E=>E.id===j.id);r(S?t.map(E=>E.id===j.id?{...E,...j}:E):[j,...t])},p=async j=>{if(confirm(`Gerar boleto CONSOLIDADO (todas as faturas pendentes) para ${j.name}?`)){g(j.id);try{const S=await Df(j.id,"subscriber");S.url&&(alert("Boleto consolidado gerado com sucesso!"),window.open(S.url,"_blank"))}catch(S){console.error(S),alert("Erro: "+(S.message||"Falha ao gerar boleto. Verifique se h faturas pendentes."))}finally{g(null)}}},w={ativacao:"#0ea5e9",ativo:"#22c55e",ativo_inadimplente:"#f59e0b",transferido:"#64748b",cancelado:"#ef4444",cancelado_inadimplente:"#b91c1c"},_=j=>{r(t.filter(S=>S.id!==j))};return c.jsxs("div",{children:[c.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"2rem"},children:[c.jsx("h2",{children:"Gesto de Assinantes"}),c.jsx("button",{onClick:()=>{s(null),o(!0)},style:{padding:"0.6rem 1.2rem",background:"var(--color-blue)",color:"white",borderRadius:"4px",fontWeight:"bold",cursor:"pointer"},children:"+ Novo Assinante"})]}),c.jsx("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.5rem",flexWrap:"wrap",gap:"1rem"},children:c.jsxs("div",{style:{display:"flex",gap:"1rem",flex:1},children:[c.jsx("input",{type:"text",placeholder:"Buscar por nome, email, telefone ou CPF...",value:f,onChange:j=>h(j.target.value),style:{padding:"0.6rem",width:"100%",maxWidth:"350px",border:"1px solid #ddd",borderRadius:"4px"}}),c.jsxs("div",{style:{display:"flex",border:"1px solid #ccc",borderRadius:"4px",overflow:"hidden"},children:[c.jsx("button",{onClick:()=>d("list"),style:{padding:"0.6rem 1rem",cursor:"pointer",border:"none",background:u==="list"?"var(--color-blue)":"white",color:u==="list"?"white":"#333"},children:"Lista"}),c.jsx("button",{onClick:()=>d("kanban"),style:{padding:"0.6rem 1rem",cursor:"pointer",border:"none",background:u==="kanban"?"var(--color-blue)":"white",color:u==="kanban"?"white":"#333"},children:"Kanban"})]})]})}),n?c.jsx("p",{children:"Carregando..."}):c.jsx(c.Fragment,{children:u==="list"?c.jsx("div",{style:{background:"white",borderRadius:"8px",boxShadow:"0 2px 4px rgba(0,0,0,0.1)",overflowX:"auto"},children:b.length===0?c.jsx("p",{style:{padding:"2rem",textAlign:"center",color:"#999"},children:"Nenhum assinante encontrado."}):c.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[c.jsx("thead",{children:c.jsxs("tr",{style:{background:"#f8fafc",textAlign:"left",borderBottom:"1px solid #e2e8f0"},children:[c.jsx("th",{style:{padding:"1rem",color:"#64748b"},children:"Nome/CPF"}),c.jsx("th",{style:{padding:"1rem",color:"#64748b"},children:"Contato"}),c.jsx("th",{style:{padding:"1rem",color:"#64748b"},children:"Status"}),c.jsx("th",{style:{padding:"1rem",color:"#64748b"},children:"Cidade"}),c.jsx("th",{style:{padding:"1rem",color:"#64748b"},children:"Aes"})]})}),c.jsx("tbody",{children:b.map(j=>{var S,E,O,A,N;return c.jsxs("tr",{style:{borderBottom:"1px solid #f1f5f9"},children:[c.jsxs("td",{style:{padding:"1rem"},children:[c.jsx("div",{style:{fontWeight:"bold"},children:j.name}),c.jsx("div",{style:{fontSize:"0.8rem",color:"#666"},children:j.cpf_cnpj})]}),c.jsxs("td",{style:{padding:"1rem"},children:[c.jsx("div",{style:{fontSize:"0.9rem"},children:j.email}),c.jsx("div",{style:{fontSize:"0.8rem",color:"#666"},children:j.phone})]}),c.jsx("td",{style:{padding:"1rem"},children:c.jsx("span",{style:{padding:"0.25rem 0.75rem",borderRadius:"999px",fontSize:"0.85rem",background:(S=j.status)!=null&&S.includes("ativo")?"#dcfce7":(E=j.status)!=null&&E.includes("cancelado")?"#fee2e2":"#dbeafe",color:(O=j.status)!=null&&O.includes("ativo")?"#166534":(A=j.status)!=null&&A.includes("cancelado")?"#dc2626":"#1e40af"},children:(N=j.status)==null?void 0:N.toUpperCase().replace("_"," ")})}),c.jsx("td",{style:{padding:"1rem"},children:j.cidade?`${j.cidade}/${j.uf}`:"-"}),c.jsx("td",{style:{padding:"1rem"},children:c.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[c.jsx("button",{onClick:()=>p(j),disabled:m===j.id,title:"Emitir Boleto Consolidado",style:{background:"#fff7ed",color:"#c2410c",border:"1px solid #ffedd5",padding:"0.4rem 0.6rem",borderRadius:"4px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"},children:m===j.id?"...":c.jsx(zf,{size:14})}),c.jsx("button",{onClick:()=>{s(j),o(!0)},style:{border:"1px solid #ccc",background:"white",padding:"0.4rem 0.8rem",borderRadius:"4px",cursor:"pointer"},children:"Editar"})]})})]},j.id)})})]})}):c.jsx("div",{style:{display:"flex",gap:"1rem",overflowX:"auto",paddingBottom:"1rem"},children:["ativacao","ativo","ativo_inadimplente","transferido","cancelado","cancelado_inadimplente"].map(j=>{const S=b.filter(O=>O.status===j),E=w[j]||"#64748b";return c.jsxs("div",{style:{minWidth:"280px",flex:1,background:"#f8fafc",borderRadius:"8px",padding:"0.5rem",borderTop:`4px solid ${E}`},children:[c.jsxs("h4",{style:{padding:"0.8rem",borderBottom:"1px solid #e2e8f0",background:"white",borderRadius:"4px",display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0.5rem",color:E},children:[c.jsx("span",{style:{textTransform:"uppercase",fontSize:"0.8rem",fontWeight:"bold"},children:j.replace("_"," ")}),c.jsx("span",{style:{fontSize:"0.8rem",background:E,color:"white",padding:"0.1rem 0.5rem",borderRadius:"99px"},children:S.length})]}),c.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem"},children:S.map(O=>c.jsxs("div",{onClick:()=>{s(O),o(!0)},style:{background:"white",padding:"1rem",borderRadius:"4px",boxShadow:"0 1px 2px rgba(0,0,0,0.05)",cursor:"pointer",border:"1px solid transparent",transition:"0.2s"},onMouseEnter:A=>A.currentTarget.style.borderColor="var(--color-blue)",onMouseLeave:A=>A.currentTarget.style.borderColor="transparent",children:[c.jsx("div",{style:{fontWeight:"bold",marginBottom:"0.3rem"},children:O.name}),c.jsx("div",{style:{fontSize:"0.8rem",color:"#666"},children:O.cpf_cnpj}),c.jsx("div",{style:{fontSize:"0.8rem",color:"#666"},children:O.email}),c.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:"0.8rem",fontSize:"0.75rem",color:"#999"},children:[c.jsx("span",{children:O.cidade}),c.jsx("span",{children:new Date(O.created_at).toLocaleDateString()})]})]},O.id))})]},j)})})}),i&&c.jsx(NA,{subscriber:l,onClose:()=>o(!1),onSave:v,onDelete:_})]})}function LB({originator:e,onClose:t,onSave:r,onDelete:n}){const[a,i]=x.useState(!1),[o,l]=x.useState(!1),[s,u]=x.useState({name:"",cpf_cnpj:"",email:"",phone:"",pix_key:"",pix_key_type:"cpf",split_start:0,split_recurrent:0,cep:"",rua:"",numero:"",complemento:"",bairro:"",cidade:"",uf:""});x.useEffect(()=>{var g,b,y,v,p,w,_,j,S;e&&u({name:e.name||"",cpf_cnpj:e.cpf_cnpj||"",email:e.email||"",phone:e.phone||"",pix_key:e.pix_key||"",pix_key_type:e.pix_key_type||"cpf",split_start:((g=e.split_commission)==null?void 0:g.start)||0,split_recurrent:((b=e.split_commission)==null?void 0:b.recurrent)||0,cep:((y=e.address)==null?void 0:y.cep)||"",rua:((v=e.address)==null?void 0:v.rua)||"",numero:((p=e.address)==null?void 0:p.numero)||"",complemento:((w=e.address)==null?void 0:w.complemento)||"",bairro:((_=e.address)==null?void 0:_.bairro)||"",cidade:((j=e.address)==null?void 0:j.cidade)||"",uf:((S=e.address)==null?void 0:S.uf)||""})},[e]);const d=async()=>{const g=s.cep.replace(/\D/g,"");if(g.length===8){l(!0);try{const b=await Ha(g);u(y=>({...y,rua:b.rua||"",bairro:b.bairro||"",cidade:b.cidade||"",uf:b.uf||""}))}catch(b){console.error("Erro CEP",b),alert("Erro ao buscar CEP")}finally{l(!1)}}};x.useEffect(()=>{if(s.pix_key_type==="aleatoria")return;let g="";s.pix_key_type==="cpf"||s.pix_key_type==="cnpj"?g=s.cpf_cnpj:s.pix_key_type==="email"?g=s.email:s.pix_key_type==="telefone"&&(g=s.phone),g!==s.pix_key&&u(b=>({...b,pix_key:g}))},[s.pix_key_type,s.cpf_cnpj,s.email,s.phone]);const f=async g=>{if(g.preventDefault(),!If(s.cpf_cnpj)){alert("CPF ou CNPJ invlido! Verifique o nmero digitado.");return}if(!Ei(s.phone)){alert("Telefone invlido! Digite o DDD + 9 dgitos. Ex: (11) 99999-9999");return}i(!0);const b={name:s.name,cpf_cnpj:s.cpf_cnpj,email:s.email,phone:s.phone,pix_key:s.pix_key,pix_key_type:s.pix_key_type,split_commission:{start:Number(s.split_start)||0,recurrent:Number(s.split_recurrent)||0},address:{cep:s.cep,rua:s.rua,numero:s.numero,complemento:s.complemento,bairro:s.bairro,cidade:s.cidade,uf:s.uf}};try{let y;if(e!=null&&e.id?y=await U.from("originators_v2").update(b).eq("id",e.id).select().single():y=await U.from("originators_v2").insert(b).select().single(),y.error)throw y.error;r(y.data),t()}catch(y){alert("Erro ao salvar originador: "+y.message)}finally{i(!1)}},h=async()=>{if(confirm("Excluir este originador?")){i(!0);try{const{error:g}=await U.from("originators_v2").delete().eq("id",e.id);if(g)throw g;n&&n(e.id),t()}catch(g){alert("Erro ao excluir: "+g.message)}finally{i(!1)}}},m=e?`${window.location.origin}/originador?id=${e.id}`:"Salver para gerar URL";return c.jsx("div",{className:"modal-overlay",children:c.jsxs("div",{className:"modal-content",style:{maxWidth:"800px"},children:[c.jsxs("div",{className:"modal-header",children:[c.jsx("h2",{style:{fontSize:"1.25rem"},children:e?"Editar Originador":"Novo Originador"}),c.jsx("button",{onClick:t,className:"modal-close",children:""})]}),(e==null?void 0:e.id)&&c.jsxs("div",{style:{marginBottom:"1.5rem",padding:"1rem",background:"#e0f2fe",borderRadius:"var(--radius-md)",border:"1px solid #bae6fd"},children:[c.jsx("label",{className:"label",style:{color:"#0369a1"},children:"URL de Indicao"}),c.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[c.jsx("input",{value:`${window.location.origin}/originador?id=${e.id}`,readOnly:!0,className:"input",style:{color:"#0284c7"}}),c.jsx("button",{type:"button",onClick:()=>{navigator.clipboard.writeText(`${window.location.origin}/originador?id=${e.id}`),alert("Link copiado!")},className:"btn",style:{background:"#0ea5e9",color:"white"},children:"Copiar"})]})]}),c.jsxs("form",{onSubmit:f,style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:[c.jsx("div",{style:{gridColumn:"1 / -1"},children:c.jsx("h3",{style:{fontSize:"1rem",color:"var(--color-text-medium)",marginBottom:"1rem",borderBottom:"1px solid var(--color-border)",paddingBottom:"0.5rem"},children:"Dados Pessoais"})}),c.jsxs("div",{className:"form-group",style:{gridColumn:"1 / -1"},children:[c.jsx("label",{className:"label",children:"Nome Completo"}),c.jsx("input",{value:s.name,onChange:g=>u({...s,name:g.target.value}),className:"input",required:!0})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"label",children:"CPF/CNPJ"}),c.jsx("input",{value:s.cpf_cnpj,onChange:g=>u({...s,cpf_cnpj:Bf(g.target.value)}),placeholder:"000.000.000-00",className:"input"})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"label",children:"Email"}),c.jsx("input",{type:"email",value:s.email,onChange:g=>u({...s,email:g.target.value}),className:"input"})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"label",children:"Telefone"}),c.jsx("input",{value:s.phone,onChange:g=>u({...s,phone:Wo(g.target.value)}),placeholder:"(00) 00000-0000",className:"input"})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"label",children:"Tipo Chave PIX"}),c.jsxs("select",{value:s.pix_key_type,onChange:g=>u({...s,pix_key_type:g.target.value}),className:"select",children:[c.jsx("option",{value:"cpf",children:"CPF"}),c.jsx("option",{value:"cnpj",children:"CNPJ"}),c.jsx("option",{value:"email",children:"Email"}),c.jsx("option",{value:"telefone",children:"Telefone"}),c.jsx("option",{value:"aleatoria",children:"Aleatria"})]})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"label",children:"Chave PIX"}),c.jsx("input",{value:s.pix_key,onChange:g=>u({...s,pix_key:g.target.value}),className:"input"})]}),c.jsx("div",{style:{gridColumn:"1 / -1",marginTop:"1rem"},children:c.jsx("h3",{style:{fontSize:"1rem",color:"var(--color-text-medium)",marginBottom:"1rem",borderBottom:"1px solid var(--color-border)",paddingBottom:"0.5rem"},children:"Endereo"})}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"label",children:"CEP"}),c.jsxs("div",{style:{position:"relative"},children:[c.jsx("input",{value:s.cep,onChange:g=>u({...s,cep:g.target.value}),onBlur:d,placeholder:"00000-000",className:"input"}),o&&c.jsx("span",{style:{position:"absolute",right:"10px",top:"10px",fontSize:"0.7rem",color:"var(--color-text-light)"},children:"..."})]})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"label",children:"Rua"}),c.jsx("input",{value:s.rua,onChange:g=>u({...s,rua:g.target.value}),className:"input"})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"label",children:"Nmero"}),c.jsx("input",{value:s.numero,onChange:g=>u({...s,numero:g.target.value}),className:"input"})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"label",children:"Complemento"}),c.jsx("input",{value:s.complemento,onChange:g=>u({...s,complemento:g.target.value}),className:"input"})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"label",children:"Bairro"}),c.jsx("input",{value:s.bairro,onChange:g=>u({...s,bairro:g.target.value}),className:"input"})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"label",children:"Cidade"}),c.jsx("input",{value:s.cidade,onChange:g=>u({...s,cidade:g.target.value}),className:"input"})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"label",children:"UF"}),c.jsx("input",{value:s.uf,onChange:g=>u({...s,uf:g.target.value}),className:"input"})]}),c.jsx("div",{style:{gridColumn:"1 / -1",marginTop:"1rem"},children:c.jsx("h3",{style:{fontSize:"1rem",color:"var(--color-text-medium)",marginBottom:"1rem",borderBottom:"1px solid var(--color-border)",paddingBottom:"0.5rem"},children:"Split de Comisso (%)"})}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"label",children:"Start (Primeira Fatura)"}),c.jsx("input",{type:"number",step:"0.01",value:s.split_start,onChange:g=>u({...s,split_start:g.target.value}),className:"input"})]}),c.jsxs("div",{className:"form-group",children:[c.jsx("label",{className:"label",children:"Recorrente (Mensal)"}),c.jsx("input",{type:"number",step:"0.01",value:s.split_recurrent,onChange:g=>u({...s,split_recurrent:g.target.value}),className:"input"})]}),e&&c.jsxs("div",{style:{gridColumn:"1 / -1",marginTop:"1rem",padding:"1rem",background:"#ecfdf5",borderRadius:"var(--radius-md)",border:"1px solid #a7f3d0"},children:[c.jsx("label",{className:"label",style:{color:"#047857"},children:"URL de Indicao"}),c.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[c.jsx("input",{readOnly:!0,value:m,className:"input",style:{border:"1px solid #10b981"}}),c.jsx("button",{type:"button",onClick:()=>{navigator.clipboard.writeText(m),alert("Link copiado: "+m)},className:"btn",style:{background:"#10b981",color:"white"},children:"Copiar"})]})]}),c.jsxs("div",{className:"modal-footer",style:{gridColumn:"1 / -1"},children:[e&&n&&c.jsx("button",{type:"button",onClick:h,className:"btn btn-danger",style:{marginRight:"auto"},children:"Excluir"}),c.jsx("button",{type:"button",onClick:t,className:"btn btn-secondary",children:"Cancelar"}),c.jsx("button",{type:"submit",disabled:a,className:"btn btn-primary",children:a?"Salvando...":"Salvar Originador"})]})]})]})})}function UB(){const[e,t]=x.useState([]),[r,n]=x.useState(!0),[a,i]=x.useState(""),[o,l]=x.useState(!1),[s,u]=x.useState(null);x.useEffect(()=>{d()},[]);const d=async()=>{n(!0);const{data:p,error:w}=await U.from("originators_v2").select("*").order("name");w?console.error("Error fetching originators:",w):t(p||[]),n(!1)},f=async()=>{if(confirm("Deseja processar as comisses deste ms? Isso ir gerar registros financeiros para todas as faturas pagas.")){n(!0);try{const p=new Date().toISOString().split("T")[0],{data:w,error:_}=await U.rpc("generate_monthly_commissions",{target_date:p});if(_)throw _;alert(`Processamento concludo!
Faturas processadas: ${w.invoices_processed}
Valor total gerado: R$ ${w.total_commission_value}`)}catch(p){console.error("Error processing commissions:",p),alert("Erro ao processar comisses: "+(p.message||"Erro desconhecido"))}finally{n(!1)}}},h=p=>{u(p),l(!0)},m=()=>{u(null),l(!0)},g=p=>{d()},b=p=>{d()},y=p=>{const w=`${window.location.origin}/clientes?id=${p}`;navigator.clipboard.writeText(w),alert("Link copiado: "+w)},v=e.filter(p=>{var w,_;return((w=p.name)==null?void 0:w.toLowerCase().includes(a.toLowerCase()))||((_=p.email)==null?void 0:_.toLowerCase().includes(a.toLowerCase()))});return c.jsxs("div",{children:[c.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[c.jsx("h2",{children:"Gesto de Originadores"}),c.jsxs("div",{style:{display:"flex",gap:"1rem"},children:[c.jsx("button",{onClick:f,className:"btn",style:{background:"var(--color-success)",color:"white"},children:" Processar Comisses"}),c.jsxs("button",{onClick:m,className:"btn btn-accent",children:[c.jsx(ky,{size:18})," Novo Originador"]})]})]}),c.jsxs("div",{style:{marginBottom:"1rem",position:"relative"},children:[c.jsx("input",{type:"text",placeholder:"Buscar originador...",value:a,onChange:p=>i(p.target.value),className:"input",style:{paddingLeft:"2.5rem"}}),c.jsx(OA,{size:18,style:{position:"absolute",left:"10px",top:"50%",transform:"translateY(-50%)",color:"var(--color-text-light)"}})]}),r?c.jsx("p",{children:"Carregando..."}):c.jsx("div",{className:"card",style:{padding:0,overflow:"hidden"},children:c.jsx("div",{className:"table-container",children:c.jsxs("table",{className:"table",children:[c.jsx("thead",{children:c.jsxs("tr",{children:[c.jsx("th",{children:"Nome"}),c.jsx("th",{children:"Contato"}),c.jsx("th",{children:"Comisso (Start/Rec.)"}),c.jsx("th",{children:"Chave PIX"}),c.jsx("th",{children:"Link"}),c.jsx("th",{style:{textAlign:"right"},children:"Aes"})]})}),c.jsx("tbody",{children:v.length===0?c.jsx("tr",{children:c.jsx("td",{colSpan:"6",style:{padding:"1rem",textAlign:"center",color:"var(--color-text-light)"},children:"Nenhum originador encontrado."})}):v.map(p=>{var w,_;return c.jsxs("tr",{children:[c.jsxs("td",{children:[c.jsx("div",{style:{fontWeight:"bold",color:"var(--color-blue)"},children:p.name}),c.jsx("div",{style:{fontSize:"0.8rem",color:"var(--color-text-medium)"},children:p.cpf_cnpj})]}),c.jsxs("td",{children:[c.jsx("div",{style:{fontSize:"0.9rem"},children:p.email}),c.jsx("div",{style:{fontSize:"0.9rem"},children:p.phone})]}),c.jsx("td",{children:c.jsxs("span",{className:"badge badge-success",children:[((w=p.split_commission)==null?void 0:w.start)||0,"% / ",((_=p.split_commission)==null?void 0:_.recurrent)||0,"%"]})}),c.jsx("td",{style:{fontSize:"0.9rem"},children:p.pix_key||"-"}),c.jsx("td",{children:c.jsx("button",{onClick:()=>y(p.id),title:"Copiar Link de Indicao",className:"btn btn-secondary",style:{padding:"0.3rem",border:"none"},children:c.jsx(K4,{size:16,color:"var(--color-blue)"})})}),c.jsx("td",{style:{textAlign:"right"},children:c.jsx("button",{onClick:()=>h(p),className:"btn btn-secondary",style:{padding:"0.3rem",border:"none",color:"var(--color-text-medium)"},children:c.jsx(pB,{size:18})})})]},p.id)})})]})})}),o&&c.jsx(LB,{originator:s,onClose:()=>l(!1),onSave:g,onDelete:b})]})}function qB({supplier:e,onClose:t,onSave:r,onDelete:n}){const{showAlert:a,showConfirm:i}=pl(),[o,l]=x.useState(!1),[s,u]=x.useState([]),[d,f]=x.useState({name:"",cnpj:"",email:"",phone:"",status:"ativacao",legal_partner_name:"",legal_partner_cpf:"",pix_key:"",pix_key_type:"cpf",cep:"",rua:"",numero:"",complemento:"",bairro:"",cidade:"",uf:""});x.useEffect(()=>{var v,p,w,_,j,S,E,O,A;e&&(f({name:e.name||"",cnpj:e.cnpj||"",email:e.email||"",phone:e.phone||"",status:e.status||"ativacao",legal_partner_name:e.legal_partner_name||"",legal_partner_cpf:e.legal_partner_cpf||"",pix_key:e.pix_key||"",pix_key_type:e.pix_key_type||"cpf",cep:((v=e.address)==null?void 0:v.cep)||"",rua:((p=e.address)==null?void 0:p.logradouro)||((w=e.address)==null?void 0:w.rua)||"",numero:((_=e.address)==null?void 0:_.numero)||"",complemento:((j=e.address)==null?void 0:j.complemento)||"",bairro:((S=e.address)==null?void 0:S.bairro)||"",cidade:((E=e.address)==null?void 0:E.municipio)||((O=e.address)==null?void 0:O.cidade)||"",uf:((A=e.address)==null?void 0:A.uf)||""}),h(e.id))},[e]);const h=async v=>{const{data:p}=await U.from("usinas").select("id, name, status").eq("supplier_id",v);u(p||[])},m=async()=>{const v=d.cnpj.replace(/\D/g,"");if(v.length===14){l(!0);try{const p=await Ty(v);p&&f(w=>{var _,j,S,E,O,A,N,I,P;return{...w,name:p.nome||w.name,email:p.email||w.email,phone:p.telefone||w.phone,legal_partner_name:((_=p.legal_partner)==null?void 0:_.nome)||w.legal_partner_name,legal_partner_cpf:((j=p.legal_partner)==null?void 0:j.cpf)||w.legal_partner_cpf,cep:((S=p.address)==null?void 0:S.cep)||w.cep,rua:((E=p.address)==null?void 0:E.logradouro)||w.rua,numero:((O=p.address)==null?void 0:O.numero)||w.numero,complemento:((A=p.address)==null?void 0:A.complemento)||w.complemento,bairro:((N=p.address)==null?void 0:N.bairro)||w.bairro,cidade:((I=p.address)==null?void 0:I.municipio)||w.cidade,uf:((P=p.address)==null?void 0:P.uf)||w.uf}})}catch(p){console.error("Erro CNPJ",p),a("Erro ao buscar CNPJ. Verifique se o nmero est correto.","error")}finally{l(!1)}}},g=v=>{const p=v.target.value;let w=d.pix_key;switch(p){case"telefone":w=d.phone;break;case"email":w=d.email;break;case"cnpj":w=d.cnpj;break;case"cpf":d.legal_partner_cpf&&(w=d.legal_partner_cpf);break}f(_=>({..._,pix_key_type:p,pix_key:w}))},b=async v=>{if(v.preventDefault(),d.cnpj&&!If(d.cnpj)){a("CNPJ invlido!","warning");return}if(d.phone&&!Ei(d.phone)){a("Telefone invlido!","warning");return}l(!0);try{console.log("Submitting payload:",d);const p={name:d.name,cnpj:d.cnpj,email:d.email,phone:d.phone,status:d.status,legal_partner_name:d.legal_partner_name,legal_partner_cpf:d.legal_partner_cpf,pix_key:d.pix_key,pix_key_type:d.pix_key_type,address:{cep:d.cep,logradouro:d.rua,rua:d.rua,numero:d.numero,complemento:d.complemento,bairro:d.bairro,municipio:d.cidade,cidade:d.cidade,uf:d.uf}};console.log("Payload ready:",p);let w;if(e!=null&&e.id?w=await U.from("suppliers").update(p).eq("id",e.id).select().single():w=await U.from("suppliers").insert(p).select().single(),console.log("Supabase result:",w),w.error)throw w.error;r(w.data),t()}catch(p){console.error("Save error details:",p);const w=p.message||JSON.stringify(p);w.includes("JWT expired")?(a("Sua sesso expirou. Por favor, faa login novamente.","error"),await U.auth.signOut(),window.location.href="/login"):a("Erro ao salvar fornecedor: "+w,"error")}finally{l(!1)}},y=async()=>{if(s.length>0){a("No  possvel excluir fornecedor com usinas vinculadas.","warning");return}if(await i("Excluir este fornecedor?")){l(!0);try{const{error:p}=await U.from("suppliers").delete().eq("id",e.id);if(p)throw p;n&&n(e.id),t()}catch(p){a("Erro ao excluir: "+p.message,"error")}finally{l(!1)}}};return c.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},children:c.jsxs("div",{style:{background:"white",padding:"2rem",borderRadius:"8px",width:"90%",maxWidth:"800px",maxHeight:"90vh",overflowY:"auto"},children:[c.jsx("h3",{style:{marginBottom:"1.5rem",borderBottom:"1px solid #eee",paddingBottom:"0.5rem"},children:e?"Editar Fornecedor":"Novo Fornecedor"}),c.jsxs("form",{onSubmit:b,style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:[c.jsxs("div",{style:{gridColumn:"1 / -1"},children:[c.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"CNPJ * (Busca Automtica)"}),c.jsx("input",{value:d.cnpj,onChange:v=>f({...d,cnpj:v.target.value}),onBlur:m,placeholder:"00.000.000/0000-00",style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px",background:"#f8fafc"}})]}),c.jsxs("div",{style:{gridColumn:"1 / -1"},children:[c.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Razo Social / Nome *"}),c.jsx("input",{required:!0,value:d.name,onChange:v=>f({...d,name:v.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),c.jsxs("div",{children:[c.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Nome Scio Adm"}),c.jsx("input",{value:d.legal_partner_name,onChange:v=>f({...d,legal_partner_name:v.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),c.jsxs("div",{children:[c.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"CPF Scio Adm"}),c.jsx("input",{value:d.legal_partner_cpf,onChange:v=>f({...d,legal_partner_cpf:v.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),c.jsx("div",{style:{gridColumn:"1 / -1",fontWeight:"bold",marginTop:"0.5rem",color:"var(--color-blue)"},children:"Contato e Financeiro"}),c.jsxs("div",{children:[c.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"CPF/CNPJ"}),c.jsx("input",{value:d.cnpj,onChange:v=>f({...d,cnpj:Bf(v.target.value)}),onBlur:m,placeholder:"00.000.000/0000-00",style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px",background:"#f8fafc"}})]}),c.jsxs("div",{children:[c.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Telefone"}),c.jsx("input",{value:d.phone,onChange:v=>f({...d,phone:Wo(v.target.value)}),placeholder:"(00) 00000-0000",style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),c.jsxs("div",{children:[c.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Email"}),c.jsx("input",{type:"email",value:d.email,onChange:v=>f({...d,email:v.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),c.jsxs("div",{children:[c.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Tipo Chave Pix"}),c.jsxs("select",{value:d.pix_key_type,onChange:g,style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"},children:[c.jsx("option",{value:"cpf",children:"CPF"}),c.jsx("option",{value:"cnpj",children:"CNPJ"}),c.jsx("option",{value:"email",children:"Email"}),c.jsx("option",{value:"telefone",children:"Telefone"}),c.jsx("option",{value:"aleatoria",children:"Aleatria"})]})]}),c.jsxs("div",{children:[c.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Chave Pix"}),c.jsx("input",{value:d.pix_key,onChange:v=>f({...d,pix_key:v.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),c.jsxs("div",{children:[c.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Status"}),c.jsxs("select",{value:d.status,onChange:v=>f({...d,status:v.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"},children:[c.jsx("option",{value:"ativacao",children:"Em Ativao"}),c.jsx("option",{value:"ativo",children:"Ativo"}),c.jsx("option",{value:"inativo",children:"Inativo"})]})]}),c.jsx("div",{style:{gridColumn:"1 / -1",fontWeight:"bold",marginTop:"0.5rem",color:"var(--color-blue)"},children:"Endereo"}),c.jsxs("div",{children:[c.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"CEP"}),c.jsx("input",{value:d.cep,onChange:v=>f({...d,cep:v.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),c.jsxs("div",{children:[c.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Rua"}),c.jsx("input",{value:d.rua,onChange:v=>f({...d,rua:v.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),c.jsxs("div",{children:[c.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Nmero"}),c.jsx("input",{value:d.numero,onChange:v=>f({...d,numero:v.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),c.jsxs("div",{children:[c.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Complemento"}),c.jsx("input",{value:d.complemento,onChange:v=>f({...d,complemento:v.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),c.jsxs("div",{children:[c.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Bairro"}),c.jsx("input",{value:d.bairro,onChange:v=>f({...d,bairro:v.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),c.jsxs("div",{children:[c.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Cidade/Estado"}),c.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[c.jsx("input",{value:d.cidade,onChange:v=>f({...d,cidade:v.target.value}),placeholder:"Cidade",style:{flex:2,padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}}),c.jsx("input",{value:d.uf,onChange:v=>f({...d,uf:v.target.value}),placeholder:"UF",style:{flex:1,padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]})]}),e&&s.length>0&&c.jsxs("div",{style:{gridColumn:"1 / -1",marginTop:"1rem",background:"#f0f9ff",padding:"1rem",borderRadius:"8px"},children:[c.jsx("h4",{style:{fontSize:"0.9rem",fontWeight:"bold",marginBottom:"0.5rem",color:"#0369a1"},children:"Usinas Vinculadas"}),c.jsx("ul",{style:{paddingLeft:"1.5rem",fontSize:"0.9rem"},children:s.map(v=>c.jsxs("li",{children:[v.name," - ",c.jsx("span",{style:{opacity:.7},children:v.status})]},v.id))})]}),c.jsxs("div",{style:{gridColumn:"1 / -1",display:"flex",justifyContent:"space-between",marginTop:"1rem",paddingTop:"1rem",borderTop:"1px solid #eee"},children:[c.jsx("div",{children:e&&n&&c.jsx("button",{type:"button",onClick:y,style:{padding:"0.5rem 1rem",background:"#fee2e2",color:"#dc2626",borderRadius:"4px",border:"1px solid #fecaca"},children:"Excluir"})}),c.jsxs("div",{style:{display:"flex",gap:"1rem"},children:[c.jsx("button",{type:"button",onClick:t,style:{padding:"0.5rem 1rem",background:"#ccc",borderRadius:"4px"},children:"Cancelar"}),c.jsx("button",{type:"submit",disabled:o,style:{padding:"0.5rem 1rem",background:"var(--color-blue)",color:"white",borderRadius:"4px"},children:o?"Salvando...":"Salvar"})]})]})]})]})})}function HB(){const[e,t]=x.useState([]),[r,n]=x.useState(!0),[a,i]=x.useState(!1),[o,l]=x.useState(null);x.useEffect(()=>{s()},[]);const s=async()=>{n(!0);try{const{data:f,error:h}=await U.from("suppliers").select("*").order("created_at",{ascending:!1});if(h)throw h;t(f||[])}catch(f){console.error("Erro suppliers",f)}finally{n(!1)}},u=()=>{s(),i(!1)},d=f=>{t(e.filter(h=>h.id!==f)),i(!1)};return c.jsxs("div",{children:[c.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"2rem"},children:[c.jsx("h2",{children:"Fornecedores (Geradores)"}),c.jsx("button",{onClick:()=>{l(null),i(!0)},className:"btn btn-primary",children:"+ Novo Fornecedor"})]}),r?c.jsx("p",{children:"Carregando..."}):c.jsx("div",{className:"card",style:{padding:0,overflow:"hidden"},children:c.jsx("div",{className:"table-container",children:e.length===0?c.jsx("p",{style:{padding:"2rem",textAlign:"center",color:"var(--color-text-light)"},children:"Nenhum fornecedor cadastrado."}):c.jsxs("table",{className:"table",children:[c.jsx("thead",{children:c.jsxs("tr",{children:[c.jsx("th",{children:"Nome/Razo Social"}),c.jsx("th",{children:"CNPJ"}),c.jsx("th",{children:"Contato"}),c.jsx("th",{children:"Status"}),c.jsx("th",{children:"Aes"})]})}),c.jsx("tbody",{children:e.map(f=>{var h;return c.jsxs("tr",{children:[c.jsx("td",{style:{fontWeight:"bold"},children:f.name}),c.jsx("td",{children:f.cnpj}),c.jsxs("td",{children:[c.jsx("div",{children:f.email}),c.jsx("div",{style:{fontSize:"0.8rem",color:"var(--color-text-medium)"},children:f.phone})]}),c.jsx("td",{children:c.jsx("span",{style:{padding:"0.2rem 0.6rem",borderRadius:"99px",fontSize:"0.8rem",fontWeight:"500",background:f.status==="ativo"?"#dcfce7":f.status==="ativacao"?"#fef9c3":"#f1f5f9",color:f.status==="ativo"?"#166534":f.status==="ativacao"?"#854d0e":"#64748b"},children:f.status==="ativacao"?"ATIVAO":(h=f.status)==null?void 0:h.toUpperCase()})}),c.jsx("td",{children:c.jsx("button",{onClick:()=>{l(f),i(!0)},className:"btn btn-secondary",style:{padding:"0.3rem 0.6rem",fontSize:"0.8rem"},children:"Editar"})})]},f.id)})})]})})}),a&&c.jsx(qB,{supplier:o,onClose:()=>i(!1),onSave:u,onDelete:d})]})}function PA(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=PA(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function De(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=PA(e))&&(n&&(n+=" "),n+=t);return n}var WB=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function Py(e){if(typeof e!="string")return!1;var t=WB;return t.includes(e)}var VB=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],KB=new Set(VB);function RA(e){return typeof e!="string"?!1:KB.has(e)}function MA(e){return typeof e=="string"&&e.startsWith("data-")}function $n(e){if(typeof e!="object"||e===null)return{};var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(RA(r)||MA(r))&&(t[r]=e[r]);return t}function Ry(e){if(e==null)return null;if(x.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return $n(t)}return typeof e=="object"&&!Array.isArray(e)?$n(e):null}function Rr(e){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(RA(r)||MA(r)||Py(r))&&(t[r]=e[r]);return t}var GB=["children","width","height","viewBox","className","style","title","desc"];function yg(){return yg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yg.apply(null,arguments)}function FB(e,t){if(e==null)return{};var r,n,a=YB(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function YB(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var DA=x.forwardRef((e,t)=>{var{children:r,width:n,height:a,viewBox:i,className:o,style:l,title:s,desc:u}=e,d=FB(e,GB),f=i||{width:n,height:a,x:0,y:0},h=De("recharts-surface",o);return x.createElement("svg",yg({},Rr(d),{className:h,width:n,height:a,style:l,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height),ref:t}),x.createElement("title",null,s),x.createElement("desc",null,u),r)}),XB=["children","className"];function bg(){return bg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},bg.apply(null,arguments)}function ZB(e,t){if(e==null)return{};var r,n,a=JB(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function JB(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Ln=x.forwardRef((e,t)=>{var{children:r,className:n}=e,a=ZB(e,XB),i=De("recharts-layer",n);return x.createElement("g",bg({className:i},Rr(a),{ref:t}),r)}),QB=x.createContext(null);function Ae(e){return function(){return e}}const zA=Math.cos,yd=Math.sin,Qr=Math.sqrt,bd=Math.PI,$f=2*bd,xg=Math.PI,wg=2*xg,ti=1e-6,eI=wg-ti;function BA(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function tI(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return BA;const r=10**t;return function(n){this._+=n[0];for(let a=1,i=n.length;a<i;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class rI{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?BA:tI(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,i,o){this._append`C${+t},${+r},${+n},${+a},${this._x1=+i},${this._y1=+o}`}arcTo(t,r,n,a,i){if(t=+t,r=+r,n=+n,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,l=this._y1,s=n-t,u=a-r,d=o-t,f=l-r,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>ti)if(!(Math.abs(f*s-u*d)>ti)||!i)this._append`L${this._x1=t},${this._y1=r}`;else{let m=n-o,g=a-l,b=s*s+u*u,y=m*m+g*g,v=Math.sqrt(b),p=Math.sqrt(h),w=i*Math.tan((xg-Math.acos((b+h-y)/(2*v*p)))/2),_=w/p,j=w/v;Math.abs(_-1)>ti&&this._append`L${t+_*d},${r+_*f}`,this._append`A${i},${i},0,0,${+(f*m>d*g)},${this._x1=t+j*s},${this._y1=r+j*u}`}}arc(t,r,n,a,i,o){if(t=+t,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(a),s=n*Math.sin(a),u=t+l,d=r+s,f=1^o,h=o?a-i:i-a;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>ti||Math.abs(this._y1-d)>ti)&&this._append`L${u},${d}`,n&&(h<0&&(h=h%wg+wg),h>eI?this._append`A${n},${n},0,1,${f},${t-l},${r-s}A${n},${n},0,1,${f},${this._x1=u},${this._y1=d}`:h>ti&&this._append`A${n},${n},0,${+(h>=xg)},${f},${this._x1=t+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function My(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new rI(t)}function Dy(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function IA(e){this._context=e}IA.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Lf(e){return new IA(e)}function $A(e){return e[0]}function LA(e){return e[1]}function UA(e,t){var r=Ae(!0),n=null,a=Lf,i=null,o=My(l);e=typeof e=="function"?e:e===void 0?$A:Ae(e),t=typeof t=="function"?t:t===void 0?LA:Ae(t);function l(s){var u,d=(s=Dy(s)).length,f,h=!1,m;for(n==null&&(i=a(m=o())),u=0;u<=d;++u)!(u<d&&r(f=s[u],u,s))===h&&((h=!h)?i.lineStart():i.lineEnd()),h&&i.point(+e(f,u,s),+t(f,u,s));if(m)return i=null,m+""||null}return l.x=function(s){return arguments.length?(e=typeof s=="function"?s:Ae(+s),l):e},l.y=function(s){return arguments.length?(t=typeof s=="function"?s:Ae(+s),l):t},l.defined=function(s){return arguments.length?(r=typeof s=="function"?s:Ae(!!s),l):r},l.curve=function(s){return arguments.length?(a=s,n!=null&&(i=a(n)),l):a},l.context=function(s){return arguments.length?(s==null?n=i=null:i=a(n=s),l):n},l}function ec(e,t,r){var n=null,a=Ae(!0),i=null,o=Lf,l=null,s=My(u);e=typeof e=="function"?e:e===void 0?$A:Ae(+e),t=typeof t=="function"?t:Ae(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?LA:Ae(+r);function u(f){var h,m,g,b=(f=Dy(f)).length,y,v=!1,p,w=new Array(b),_=new Array(b);for(i==null&&(l=o(p=s())),h=0;h<=b;++h){if(!(h<b&&a(y=f[h],h,f))===v)if(v=!v)m=h,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),g=h-1;g>=m;--g)l.point(w[g],_[g]);l.lineEnd(),l.areaEnd()}v&&(w[h]=+e(y,h,f),_[h]=+t(y,h,f),l.point(n?+n(y,h,f):w[h],r?+r(y,h,f):_[h]))}if(p)return l=null,p+""||null}function d(){return UA().defined(a).curve(o).context(i)}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:Ae(+f),n=null,u):e},u.x0=function(f){return arguments.length?(e=typeof f=="function"?f:Ae(+f),u):e},u.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Ae(+f),u):n},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:Ae(+f),r=null,u):t},u.y0=function(f){return arguments.length?(t=typeof f=="function"?f:Ae(+f),u):t},u.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Ae(+f),u):r},u.lineX0=u.lineY0=function(){return d().x(e).y(t)},u.lineY1=function(){return d().x(e).y(r)},u.lineX1=function(){return d().x(n).y(t)},u.defined=function(f){return arguments.length?(a=typeof f=="function"?f:Ae(!!f),u):a},u.curve=function(f){return arguments.length?(o=f,i!=null&&(l=o(i)),u):o},u.context=function(f){return arguments.length?(f==null?i=l=null:l=o(i=f),u):i},u}class qA{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function nI(e){return new qA(e,!0)}function aI(e){return new qA(e,!1)}const zy={draw(e,t){const r=Qr(t/bd);e.moveTo(r,0),e.arc(0,0,r,0,$f)}},iI={draw(e,t){const r=Qr(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},HA=Qr(1/3),oI=HA*2,lI={draw(e,t){const r=Qr(t/oI),n=r*HA;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},sI={draw(e,t){const r=Qr(t),n=-r/2;e.rect(n,n,r,r)}},uI=.8908130915292852,WA=yd(bd/10)/yd(7*bd/10),cI=yd($f/10)*WA,dI=-zA($f/10)*WA,fI={draw(e,t){const r=Qr(t*uI),n=cI*r,a=dI*r;e.moveTo(0,-r),e.lineTo(n,a);for(let i=1;i<5;++i){const o=$f*i/5,l=zA(o),s=yd(o);e.lineTo(s*r,-l*r),e.lineTo(l*n-s*a,s*n+l*a)}e.closePath()}},zm=Qr(3),hI={draw(e,t){const r=-Qr(t/(zm*3));e.moveTo(0,r*2),e.lineTo(-zm*r,-r),e.lineTo(zm*r,-r),e.closePath()}},br=-.5,xr=Qr(3)/2,_g=1/Qr(12),mI=(_g/2+1)*3,pI={draw(e,t){const r=Qr(t/mI),n=r/2,a=r*_g,i=n,o=r*_g+r,l=-i,s=o;e.moveTo(n,a),e.lineTo(i,o),e.lineTo(l,s),e.lineTo(br*n-xr*a,xr*n+br*a),e.lineTo(br*i-xr*o,xr*i+br*o),e.lineTo(br*l-xr*s,xr*l+br*s),e.lineTo(br*n+xr*a,br*a-xr*n),e.lineTo(br*i+xr*o,br*o-xr*i),e.lineTo(br*l+xr*s,br*s-xr*l),e.closePath()}};function gI(e,t){let r=null,n=My(a);e=typeof e=="function"?e:Ae(e||zy),t=typeof t=="function"?t:Ae(t===void 0?64:+t);function a(){let i;if(r||(r=i=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),i)return r=null,i+""||null}return a.type=function(i){return arguments.length?(e=typeof i=="function"?i:Ae(i),a):e},a.size=function(i){return arguments.length?(t=typeof i=="function"?i:Ae(+i),a):t},a.context=function(i){return arguments.length?(r=i??null,a):r},a}function xd(){}function wd(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function VA(e){this._context=e}VA.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:wd(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:wd(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function vI(e){return new VA(e)}function KA(e){this._context=e}KA.prototype={areaStart:xd,areaEnd:xd,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:wd(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function yI(e){return new KA(e)}function GA(e){this._context=e}GA.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:wd(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function bI(e){return new GA(e)}function FA(e){this._context=e}FA.prototype={areaStart:xd,areaEnd:xd,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function xI(e){return new FA(e)}function P1(e){return e<0?-1:1}function R1(e,t,r){var n=e._x1-e._x0,a=t-e._x1,i=(e._y1-e._y0)/(n||a<0&&-0),o=(r-e._y1)/(a||n<0&&-0),l=(i*a+o*n)/(n+a);return(P1(i)+P1(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(l))||0}function M1(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function Bm(e,t,r){var n=e._x0,a=e._y0,i=e._x1,o=e._y1,l=(i-n)/3;e._context.bezierCurveTo(n+l,a+l*t,i-l,o-l*r,i,o)}function _d(e){this._context=e}_d.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Bm(this,this._t0,M1(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Bm(this,M1(this,r=R1(this,e,t)),r);break;default:Bm(this,this._t0,r=R1(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function YA(e){this._context=new XA(e)}(YA.prototype=Object.create(_d.prototype)).point=function(e,t){_d.prototype.point.call(this,t,e)};function XA(e){this._context=e}XA.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,i){this._context.bezierCurveTo(t,e,n,r,i,a)}};function wI(e){return new _d(e)}function _I(e){return new YA(e)}function ZA(e){this._context=e}ZA.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=D1(e),a=D1(t),i=0,o=1;o<r;++i,++o)this._context.bezierCurveTo(n[0][i],a[0][i],n[1][i],a[1][i],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function D1(e){var t,r=e.length-1,n,a=new Array(r),i=new Array(r),o=new Array(r);for(a[0]=0,i[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,i[t]=4,o[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,i[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/i[t-1],i[t]-=n,o[t]-=n*o[t-1];for(a[r-1]=o[r-1]/i[r-1],t=r-2;t>=0;--t)a[t]=(o[t]-a[t+1])/i[t];for(i[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-a[t+1];return[a,i]}function SI(e){return new ZA(e)}function Uf(e,t){this._context=e,this._t=t}Uf.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function jI(e){return new Uf(e,.5)}function EI(e){return new Uf(e,0)}function OI(e){return new Uf(e,1)}function Oi(e,t){if((o=e.length)>1)for(var r=1,n,a,i=e[t[0]],o,l=i.length;r<o;++r)for(a=i,i=e[t[r]],n=0;n<l;++n)i[n][1]+=i[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function Sg(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function CI(e,t){return e[t]}function AI(e){const t=[];return t.key=e,t}function TI(){var e=Ae([]),t=Sg,r=Oi,n=CI;function a(i){var o=Array.from(e.apply(this,arguments),AI),l,s=o.length,u=-1,d;for(const f of i)for(l=0,++u;l<s;++l)(o[l][u]=[0,+n(f,o[l].key,u,i)]).data=f;for(l=0,d=Dy(t(o));l<s;++l)o[d[l]].index=l;return r(o,d),o}return a.keys=function(i){return arguments.length?(e=typeof i=="function"?i:Ae(Array.from(i)),a):e},a.value=function(i){return arguments.length?(n=typeof i=="function"?i:Ae(+i),a):n},a.order=function(i){return arguments.length?(t=i==null?Sg:typeof i=="function"?i:Ae(Array.from(i)),a):t},a.offset=function(i){return arguments.length?(r=i??Oi,a):r},a}function kI(e,t){if((n=e.length)>0){for(var r,n,a=0,i=e[0].length,o;a<i;++a){for(o=r=0;r<n;++r)o+=e[r][a][1]||0;if(o)for(r=0;r<n;++r)e[r][a][1]/=o}Oi(e,t)}}function NI(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,i=n.length;r<i;++r){for(var o=0,l=0;o<a;++o)l+=e[o][r][1]||0;n[r][1]+=n[r][0]=-l/2}Oi(e,t)}}function PI(e,t){if(!(!((o=e.length)>0)||!((i=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,i,o;n<i;++n){for(var l=0,s=0,u=0;l<o;++l){for(var d=e[t[l]],f=d[n][1]||0,h=d[n-1][1]||0,m=(f-h)/2,g=0;g<l;++g){var b=e[t[g]],y=b[n][1]||0,v=b[n-1][1]||0;m+=y-v}s+=f,u+=m*f}a[n-1][1]+=a[n-1][0]=r,s&&(r-=u/s)}a[n-1][1]+=a[n-1][0]=r,Oi(e,t)}}var qf={},JA={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==="__proto__"}e.isUnsafeProperty=t})(JA);var By={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}e.isDeepKey=t})(By);var Hf={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var n;return typeof r=="string"||typeof r=="symbol"?r:Object.is((n=r==null?void 0:r.valueOf)==null?void 0:n.call(r),-0)?"-0":String(r)}e.toKey=t})(Hf);var Wf={},QA={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(r==null)return"";if(typeof r=="string")return r;if(Array.isArray(r))return r.map(t).join(",");const n=String(r);return n==="0"&&Object.is(Number(r),-0)?"-0":n}e.toString=t})(QA);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=QA,r=Hf;function n(a){if(Array.isArray(a))return a.map(r.toKey);if(typeof a=="symbol")return[a];a=t.toString(a);const i=[],o=a.length;if(o===0)return i;let l=0,s="",u="",d=!1;for(a.charCodeAt(0)===46&&(i.push(""),l++);l<o;){const f=a[l];u?f==="\\"&&l+1<o?(l++,s+=a[l]):f===u?u="":s+=f:d?f==='"'||f==="'"?u=f:f==="]"?(d=!1,i.push(s),s=""):s+=f:f==="["?(d=!0,s&&(i.push(s),s="")):f==="."?s&&(i.push(s),s=""):s+=f,l++}return s&&i.push(s),i}e.toPath=n})(Wf);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=JA,r=By,n=Hf,a=Wf;function i(l,s,u){if(l==null)return u;switch(typeof s){case"string":{if(t.isUnsafeProperty(s))return u;const d=l[s];return d===void 0?r.isDeepKey(s)?i(l,a.toPath(s),u):u:d}case"number":case"symbol":{typeof s=="number"&&(s=n.toKey(s));const d=l[s];return d===void 0?u:d}default:{if(Array.isArray(s))return o(l,s,u);if(Object.is(s==null?void 0:s.valueOf(),-0)?s="-0":s=String(s),t.isUnsafeProperty(s))return u;const d=l[s];return d===void 0?u:d}}}function o(l,s,u){if(s.length===0)return u;let d=l;for(let f=0;f<s.length;f++){if(d==null||t.isUnsafeProperty(s[f]))return u;d=d[s[f]]}return d===void 0?u:d}e.get=i})(qf);var RI=qf.get;const Vo=Fn(RI);var MI=4;function Sa(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:MI,r=10**t,n=Math.round(e*r)/r;return Object.is(n,-0)?0:n}function qe(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return e.reduce((a,i,o)=>{var l=r[o-1];return typeof l=="string"?a+l+i:l!==void 0?a+Sa(l)+i:a+i},"")}var Kt=e=>e===0?0:e>0?1:-1,Fr=e=>typeof e=="number"&&e!=+e,Un=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,F=e=>(typeof e=="number"||e instanceof Number)&&!Fr(e),sn=e=>F(e)||typeof e=="string",DI=0,Ns=e=>{var t=++DI;return"".concat(e||"").concat(t)},Yr=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!F(t)&&typeof t!="string")return n;var i;if(Un(t)){if(r==null)return n;var o=t.indexOf("%");i=r*parseFloat(t.slice(0,o))/100}else i=+t;return Fr(i)&&(i=n),a&&r!=null&&i>r&&(i=r),i},eT=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++)if(!r[String(e[n])])r[String(e[n])]=!0;else return!0;return!1};function _t(e,t,r){return F(e)&&F(t)?Sa(e+r*(t-e)):t}function zI(e,t,r){if(!(!e||!e.length))return e.find(n=>n&&(typeof t=="function"?t(n):Vo(n,t))===r)}var gt=e=>e===null||typeof e>"u",su=e=>gt(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function BI(e){return e!=null}function uu(){}var II=["type","size","sizeType"];function jg(){return jg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},jg.apply(null,arguments)}function z1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function B1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?z1(Object(r),!0).forEach(function(n){$I(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):z1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $I(e,t,r){return(t=LI(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function LI(e){var t=UI(e,"string");return typeof t=="symbol"?t:t+""}function UI(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function qI(e,t){if(e==null)return{};var r,n,a=HI(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function HI(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var tT={symbolCircle:zy,symbolCross:iI,symbolDiamond:lI,symbolSquare:sI,symbolStar:fI,symbolTriangle:hI,symbolWye:pI},WI=Math.PI/180,VI=e=>{var t="symbol".concat(su(e));return tT[t]||zy},KI=(e,t,r)=>{if(t==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var n=18*WI;return 1.25*e*e*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},GI=(e,t)=>{tT["symbol".concat(su(e))]=t},rT=e=>{var{type:t="circle",size:r=64,sizeType:n="area"}=e,a=qI(e,II),i=B1(B1({},a),{},{type:t,size:r,sizeType:n}),o="circle";typeof t=="string"&&(o=t);var l=()=>{var h=VI(o),m=gI().type(h).size(KI(r,n,o)),g=m();if(g!==null)return g},{className:s,cx:u,cy:d}=i,f=Rr(i);return F(u)&&F(d)&&F(r)?x.createElement("path",jg({},f,{className:De("recharts-symbols",s),transform:"translate(".concat(u,", ").concat(d,")"),d:l()})):null};rT.registerSymbol=GI;var nT=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,FI=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(x.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(a=>{Py(a)&&(n[a]=i=>r[a](r,i))}),n},YI=(e,t,r)=>n=>(e(t,r,n),null),Iy=(e,t,r)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var n=null;return Object.keys(e).forEach(a=>{var i=e[a];Py(a)&&typeof i=="function"&&(n||(n={}),n[a]=YI(i,t,r))}),n};function I1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function XI(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?I1(Object(r),!0).forEach(function(n){ZI(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):I1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ZI(e,t,r){return(t=JI(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function JI(e){var t=QI(e,"string");return typeof t=="symbol"?t:t+""}function QI(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function yr(e,t){var r=XI({},e),n=t,a=Object.keys(t),i=a.reduce((o,l)=>(o[l]===void 0&&n[l]!==void 0&&(o[l]=n[l]),o),r);return i}var aT={},iT={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){const a=new Map;for(let i=0;i<r.length;i++){const o=r[i],l=n(o,i,r);a.has(l)||a.set(l,o)}return Array.from(a.values())}e.uniqBy=t})(iT);var oT={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return function(...a){return r.apply(this,a.slice(0,n))}}e.ary=t})(oT);var $y={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r}e.identity=t})($y);var lT={},Vf={},sT={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Number.isSafeInteger(r)&&r>=0}e.isLength=t})(sT);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=sT;function r(n){return n!=null&&typeof n!="function"&&t.isLength(n.length)}e.isArrayLike=r})(Vf);var uT={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="object"&&r!==null}e.isObjectLike=t})(uT);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Vf,r=uT;function n(a){return r.isObjectLike(a)&&t.isArrayLike(a)}e.isArrayLikeObject=n})(lT);var cT={},dT={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=qf;function r(n){return function(a){return t.get(a,n)}}e.property=r})(dT);var fT={},Ly={},hT={},Uy={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r!==null&&(typeof r=="object"||typeof r=="function")}e.isObject=t})(Uy);var qy={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null||typeof r!="object"&&typeof r!="function"}e.isPrimitive=t})(qy);var Hy={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}e.isEqualsSameValueZero=t})(Hy);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Uy,r=qy,n=Hy;function a(d,f,h){return typeof h!="function"?a(d,f,()=>{}):i(d,f,function m(g,b,y,v,p,w){const _=h(g,b,y,v,p,w);return _!==void 0?!!_:i(g,b,m,w)},new Map)}function i(d,f,h,m){if(f===d)return!0;switch(typeof f){case"object":return o(d,f,h,m);case"function":return Object.keys(f).length>0?i(d,{...f},h,m):n.isEqualsSameValueZero(d,f);default:return t.isObject(d)?typeof f=="string"?f==="":!0:n.isEqualsSameValueZero(d,f)}}function o(d,f,h,m){if(f==null)return!0;if(Array.isArray(f))return s(d,f,h,m);if(f instanceof Map)return l(d,f,h,m);if(f instanceof Set)return u(d,f,h,m);const g=Object.keys(f);if(d==null||r.isPrimitive(d))return g.length===0;if(g.length===0)return!0;if(m!=null&&m.has(f))return m.get(f)===d;m==null||m.set(f,d);try{for(let b=0;b<g.length;b++){const y=g[b];if(!r.isPrimitive(d)&&!(y in d)||f[y]===void 0&&d[y]!==void 0||f[y]===null&&d[y]!==null||!h(d[y],f[y],y,d,f,m))return!1}return!0}finally{m==null||m.delete(f)}}function l(d,f,h,m){if(f.size===0)return!0;if(!(d instanceof Map))return!1;for(const[g,b]of f.entries()){const y=d.get(g);if(h(y,b,g,d,f,m)===!1)return!1}return!0}function s(d,f,h,m){if(f.length===0)return!0;if(!Array.isArray(d))return!1;const g=new Set;for(let b=0;b<f.length;b++){const y=f[b];let v=!1;for(let p=0;p<d.length;p++){if(g.has(p))continue;const w=d[p];let _=!1;if(h(w,y,b,d,f,m)&&(_=!0),_){g.add(p),v=!0;break}}if(!v)return!1}return!0}function u(d,f,h,m){return f.size===0?!0:d instanceof Set?s([...d],[...f],h,m):!1}e.isMatchWith=a,e.isSetMatch=u})(hT);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=hT;function r(n,a){return t.isMatchWith(n,a,()=>{})}e.isMatch=r})(Ly);var mT={},Wy={},pT={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}e.getSymbols=t})(pT);var Kf={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}e.getTag=t})(Kf);var Vy={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",r="[object String]",n="[object Number]",a="[object Boolean]",i="[object Arguments]",o="[object Symbol]",l="[object Date]",s="[object Map]",u="[object Set]",d="[object Array]",f="[object Function]",h="[object ArrayBuffer]",m="[object Object]",g="[object Error]",b="[object DataView]",y="[object Uint8Array]",v="[object Uint8ClampedArray]",p="[object Uint16Array]",w="[object Uint32Array]",_="[object BigUint64Array]",j="[object Int8Array]",S="[object Int16Array]",E="[object Int32Array]",O="[object BigInt64Array]",A="[object Float32Array]",N="[object Float64Array]";e.argumentsTag=i,e.arrayBufferTag=h,e.arrayTag=d,e.bigInt64ArrayTag=O,e.bigUint64ArrayTag=_,e.booleanTag=a,e.dataViewTag=b,e.dateTag=l,e.errorTag=g,e.float32ArrayTag=A,e.float64ArrayTag=N,e.functionTag=f,e.int16ArrayTag=S,e.int32ArrayTag=E,e.int8ArrayTag=j,e.mapTag=s,e.numberTag=n,e.objectTag=m,e.regexpTag=t,e.setTag=u,e.stringTag=r,e.symbolTag=o,e.uint16ArrayTag=p,e.uint32ArrayTag=w,e.uint8ArrayTag=y,e.uint8ClampedArrayTag=v})(Vy);var gT={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}e.isTypedArray=t})(gT);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=pT,r=Kf,n=Vy,a=qy,i=gT;function o(d,f){return l(d,void 0,d,new Map,f)}function l(d,f,h,m=new Map,g=void 0){const b=g==null?void 0:g(d,f,h,m);if(b!==void 0)return b;if(a.isPrimitive(d))return d;if(m.has(d))return m.get(d);if(Array.isArray(d)){const y=new Array(d.length);m.set(d,y);for(let v=0;v<d.length;v++)y[v]=l(d[v],v,h,m,g);return Object.hasOwn(d,"index")&&(y.index=d.index),Object.hasOwn(d,"input")&&(y.input=d.input),y}if(d instanceof Date)return new Date(d.getTime());if(d instanceof RegExp){const y=new RegExp(d.source,d.flags);return y.lastIndex=d.lastIndex,y}if(d instanceof Map){const y=new Map;m.set(d,y);for(const[v,p]of d)y.set(v,l(p,v,h,m,g));return y}if(d instanceof Set){const y=new Set;m.set(d,y);for(const v of d)y.add(l(v,void 0,h,m,g));return y}if(typeof Buffer<"u"&&Buffer.isBuffer(d))return d.subarray();if(i.isTypedArray(d)){const y=new(Object.getPrototypeOf(d)).constructor(d.length);m.set(d,y);for(let v=0;v<d.length;v++)y[v]=l(d[v],v,h,m,g);return y}if(d instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&d instanceof SharedArrayBuffer)return d.slice(0);if(d instanceof DataView){const y=new DataView(d.buffer.slice(0),d.byteOffset,d.byteLength);return m.set(d,y),s(y,d,h,m,g),y}if(typeof File<"u"&&d instanceof File){const y=new File([d],d.name,{type:d.type});return m.set(d,y),s(y,d,h,m,g),y}if(typeof Blob<"u"&&d instanceof Blob){const y=new Blob([d],{type:d.type});return m.set(d,y),s(y,d,h,m,g),y}if(d instanceof Error){const y=new d.constructor;return m.set(d,y),y.message=d.message,y.name=d.name,y.stack=d.stack,y.cause=d.cause,s(y,d,h,m,g),y}if(d instanceof Boolean){const y=new Boolean(d.valueOf());return m.set(d,y),s(y,d,h,m,g),y}if(d instanceof Number){const y=new Number(d.valueOf());return m.set(d,y),s(y,d,h,m,g),y}if(d instanceof String){const y=new String(d.valueOf());return m.set(d,y),s(y,d,h,m,g),y}if(typeof d=="object"&&u(d)){const y=Object.create(Object.getPrototypeOf(d));return m.set(d,y),s(y,d,h,m,g),y}return d}function s(d,f,h=d,m,g){const b=[...Object.keys(f),...t.getSymbols(f)];for(let y=0;y<b.length;y++){const v=b[y],p=Object.getOwnPropertyDescriptor(d,v);(p==null||p.writable)&&(d[v]=l(f[v],v,h,m,g))}}function u(d){switch(r.getTag(d)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=o,e.cloneDeepWithImpl=l,e.copyProperties=s})(Wy);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Wy;function r(n){return t.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}e.cloneDeep=r})(mT);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ly,r=mT;function n(a){return a=r.cloneDeep(a),i=>t.isMatch(i,a)}e.matches=n})(fT);var vT={},yT={},bT={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Wy,r=Kf,n=Vy;function a(i,o){return t.cloneDeepWith(i,(l,s,u,d)=>{const f=o==null?void 0:o(l,s,u,d);if(f!==void 0)return f;if(typeof i=="object"){if(r.getTag(i)===n.objectTag&&typeof i.constructor!="function"){const h={};return d.set(i,h),t.copyProperties(h,i,u,d),h}switch(Object.prototype.toString.call(i)){case n.numberTag:case n.stringTag:case n.booleanTag:{const h=new i.constructor(i==null?void 0:i.valueOf());return t.copyProperties(h,i),h}case n.argumentsTag:{const h={};return t.copyProperties(h,i),h.length=i.length,h[Symbol.iterator]=i[Symbol.iterator],h}default:return}}})}e.cloneDeepWith=a})(bT);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=bT;function r(n){return t.cloneDeepWith(n)}e.cloneDeep=r})(yT);var xT={},Ky={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function r(n,a=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<a;case"symbol":return!1;case"string":return t.test(n)}}e.isIndex=r})(Ky);var wT={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Kf;function r(n){return n!==null&&typeof n=="object"&&t.getTag(n)==="[object Arguments]"}e.isArguments=r})(wT);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=By,r=Ky,n=wT,a=Wf;function i(o,l){let s;if(Array.isArray(l)?s=l:typeof l=="string"&&t.isDeepKey(l)&&(o==null?void 0:o[l])==null?s=a.toPath(l):s=[l],s.length===0)return!1;let u=o;for(let d=0;d<s.length;d++){const f=s[d];if((u==null||!Object.hasOwn(u,f))&&!((Array.isArray(u)||n.isArguments(u))&&r.isIndex(f)&&f<u.length))return!1;u=u[f]}return!0}e.has=i})(xT);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ly,r=Hf,n=yT,a=qf,i=xT;function o(l,s){switch(typeof l){case"object":{Object.is(l==null?void 0:l.valueOf(),-0)&&(l="-0");break}case"number":{l=r.toKey(l);break}}return s=n.cloneDeep(s),function(u){const d=a.get(u,l);return d===void 0?i.has(u,l):s===void 0?d===void 0:t.isMatch(d,s)}}e.matchesProperty=o})(vT);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=$y,r=dT,n=fT,a=vT;function i(o){if(o==null)return t.identity;switch(typeof o){case"function":return o;case"object":return Array.isArray(o)&&o.length===2?a.matchesProperty(o[0],o[1]):n.matches(o);case"string":case"symbol":case"number":return r.property(o)}}e.iteratee=i})(cT);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=iT,r=oT,n=$y,a=lT,i=cT;function o(l,s=n.identity){return a.isArrayLikeObject(l)?t.uniqBy(Array.from(l),r.ary(i.iteratee(s),1)):[]}e.uniqBy=o})(aT);var e$=aT.uniqBy;const $1=Fn(e$);function t$(e,t,r){return t===!0?$1(e,r):typeof t=="function"?$1(e,t):e}var _T={exports:{}},ST={},jT={exports:{}},ET={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ko=x;function r$(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var n$=typeof Object.is=="function"?Object.is:r$,a$=Ko.useState,i$=Ko.useEffect,o$=Ko.useLayoutEffect,l$=Ko.useDebugValue;function s$(e,t){var r=t(),n=a$({inst:{value:r,getSnapshot:t}}),a=n[0].inst,i=n[1];return o$(function(){a.value=r,a.getSnapshot=t,Im(a)&&i({inst:a})},[e,r,t]),i$(function(){return Im(a)&&i({inst:a}),e(function(){Im(a)&&i({inst:a})})},[e]),l$(r),r}function Im(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!n$(e,r)}catch{return!0}}function u$(e,t){return t()}var c$=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?u$:s$;ET.useSyncExternalStore=Ko.useSyncExternalStore!==void 0?Ko.useSyncExternalStore:c$;jT.exports=ET;var d$=jT.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gf=x,f$=d$;function h$(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var m$=typeof Object.is=="function"?Object.is:h$,p$=f$.useSyncExternalStore,g$=Gf.useRef,v$=Gf.useEffect,y$=Gf.useMemo,b$=Gf.useDebugValue;ST.useSyncExternalStoreWithSelector=function(e,t,r,n,a){var i=g$(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=y$(function(){function s(m){if(!u){if(u=!0,d=m,m=n(m),a!==void 0&&o.hasValue){var g=o.value;if(a(g,m))return f=g}return f=m}if(g=f,m$(d,m))return g;var b=n(m);return a!==void 0&&a(g,b)?(d=m,g):(d=m,f=b)}var u=!1,d,f,h=r===void 0?null:r;return[function(){return s(t())},h===null?void 0:function(){return s(h())}]},[t,r,n,a]);var l=p$(e,i[0],i[1]);return v$(function(){o.hasValue=!0,o.value=l},[l]),b$(l),l};_T.exports=ST;var x$=_T.exports,Gy=x.createContext(null),w$=e=>e,Ge=()=>{var e=x.useContext(Gy);return e?e.store.dispatch:w$},Pc=()=>{},_$=()=>Pc,S$=(e,t)=>e===t;function Z(e){var t=x.useContext(Gy);return x$.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:_$,t?t.store.getState:Pc,t?t.store.getState:Pc,t?e:Pc,S$)}function j$(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function E$(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function O$(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(r=>typeof r=="function")){const r=e.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${t}[${r}]`)}}var L1=e=>Array.isArray(e)?e:[e];function C$(e){const t=Array.isArray(e[0])?e[0]:e;return O$(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function A$(e,t){const r=[],{length:n}=e;for(let a=0;a<n;a++)r.push(e[a].apply(null,t));return r}var T$=class{constructor(e){this.value=e}deref(){return this.value}},k$=typeof WeakRef<"u"?WeakRef:T$,N$=0,U1=1;function tc(){return{s:N$,v:void 0,o:null,p:null}}function OT(e,t={}){let r=tc();const{resultEqualityCheck:n}=t;let a,i=0;function o(){var f;let l=r;const{length:s}=arguments;for(let h=0,m=s;h<m;h++){const g=arguments[h];if(typeof g=="function"||typeof g=="object"&&g!==null){let b=l.o;b===null&&(l.o=b=new WeakMap);const y=b.get(g);y===void 0?(l=tc(),b.set(g,l)):l=y}else{let b=l.p;b===null&&(l.p=b=new Map);const y=b.get(g);y===void 0?(l=tc(),b.set(g,l)):l=y}}const u=l;let d;if(l.s===U1)d=l.v;else if(d=e.apply(null,arguments),i++,n){const h=((f=a==null?void 0:a.deref)==null?void 0:f.call(a))??a;h!=null&&n(h,d)&&(d=h,i!==0&&i--),a=typeof d=="object"&&d!==null||typeof d=="function"?new k$(d):d}return u.s=U1,u.v=d,d}return o.clearCache=()=>{r=tc(),o.resetResultsCount()},o.resultsCount=()=>i,o.resetResultsCount=()=>{i=0},o}function P$(e,...t){const r=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,n=(...a)=>{let i=0,o=0,l,s={},u=a.pop();typeof u=="object"&&(s=u,u=a.pop()),j$(u,`createSelector expects an output function after the inputs, but received: [${typeof u}]`);const d={...r,...s},{memoize:f,memoizeOptions:h=[],argsMemoize:m=OT,argsMemoizeOptions:g=[]}=d,b=L1(h),y=L1(g),v=C$(a),p=f(function(){return i++,u.apply(null,arguments)},...b),w=m(function(){o++;const j=A$(v,arguments);return l=p.apply(null,j),l},...y);return Object.assign(w,{resultFunc:u,memoizedResultFunc:p,dependencies:v,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>l,recomputations:()=>i,resetRecomputations:()=>{i=0},memoize:f,argsMemoize:m})};return Object.assign(n,{withTypes:()=>n}),n}var R=P$(OT),R$=Object.assign((e,t=R)=>{E$(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const r=Object.keys(e),n=r.map(i=>e[i]);return t(n,(...i)=>i.reduce((o,l,s)=>(o[r[s]]=l,o),{}))},{withTypes:()=>R$}),CT={},AT={},TT={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,a,i)=>{if(n!==a){const o=t(n),l=t(a);if(o===l&&o===0){if(n<a)return i==="desc"?1:-1;if(n>a)return i==="desc"?-1:1}return i==="desc"?l-o:o-l}return 0};e.compareValues=r})(TT);var kT={},Fy={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"||r instanceof Symbol}e.isSymbol=t})(Fy);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Fy,r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function a(i,o){return Array.isArray(i)?!1:typeof i=="number"||typeof i=="boolean"||i==null||t.isSymbol(i)?!0:typeof i=="string"&&(n.test(i)||!r.test(i))||o!=null&&Object.hasOwn(o,i)}e.isKey=a})(kT);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=TT,r=kT,n=Wf;function a(i,o,l,s){if(i==null)return[];l=s?void 0:l,Array.isArray(i)||(i=Object.values(i)),Array.isArray(o)||(o=o==null?[null]:[o]),o.length===0&&(o=[null]),Array.isArray(l)||(l=l==null?[]:[l]),l=l.map(m=>String(m));const u=(m,g)=>{let b=m;for(let y=0;y<g.length&&b!=null;++y)b=b[g[y]];return b},d=(m,g)=>g==null||m==null?g:typeof m=="object"&&"key"in m?Object.hasOwn(g,m.key)?g[m.key]:u(g,m.path):typeof m=="function"?m(g):Array.isArray(m)?u(g,m):typeof g=="object"?g[m]:g,f=o.map(m=>(Array.isArray(m)&&m.length===1&&(m=m[0]),m==null||typeof m=="function"||Array.isArray(m)||r.isKey(m)?m:{key:m,path:n.toPath(m)}));return i.map(m=>({original:m,criteria:f.map(g=>d(g,m))})).slice().sort((m,g)=>{for(let b=0;b<f.length;b++){const y=t.compareValues(m.criteria[b],g.criteria[b],l[b]);if(y!==0)return y}return 0}).map(m=>m.original)}e.orderBy=a})(AT);var NT={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n=1){const a=[],i=Math.floor(n),o=(l,s)=>{for(let u=0;u<l.length;u++){const d=l[u];Array.isArray(d)&&s<i?o(d,s+1):a.push(d)}};return o(r,0),a}e.flatten=t})(NT);var Yy={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ky,r=Vf,n=Uy,a=Hy;function i(o,l,s){return n.isObject(s)&&(typeof l=="number"&&r.isArrayLike(s)&&t.isIndex(l)&&l<s.length||typeof l=="string"&&l in s)?a.isEqualsSameValueZero(s[l],o):!1}e.isIterateeCall=i})(Yy);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=AT,r=NT,n=Yy;function a(i,...o){const l=o.length;return l>1&&n.isIterateeCall(i,o[0],o[1])?o=[]:l>2&&n.isIterateeCall(o[0],o[1],o[2])&&(o=[o[0]]),t.orderBy(i,r.flatten(o),["asc"])}e.sortBy=a})(CT);var M$=CT.sortBy;const Ff=Fn(M$);var PT=e=>e.legend.settings,D$=e=>e.legend.size,z$=e=>e.legend.payload;R([z$,PT],(e,t)=>{var{itemSorter:r}=t,n=e.flat(1);return r?Ff(n,r):n});var rc=1;function B$(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,r]=x.useState({height:0,left:0,top:0,width:0}),n=x.useCallback(a=>{if(a!=null){var i=a.getBoundingClientRect(),o={height:i.height,left:i.left,top:i.top,width:i.width};(Math.abs(o.height-t.height)>rc||Math.abs(o.left-t.left)>rc||Math.abs(o.top-t.top)>rc||Math.abs(o.width-t.width)>rc)&&r({height:o.height,left:o.left,top:o.top,width:o.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,n]}function bt(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var I$=typeof Symbol=="function"&&Symbol.observable||"@@observable",q1=I$,$m=()=>Math.random().toString(36).substring(7).split("").join("."),$$={INIT:`@@redux/INIT${$m()}`,REPLACE:`@@redux/REPLACE${$m()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${$m()}`},Sd=$$;function Xy(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function RT(e,t,r){if(typeof e!="function")throw new Error(bt(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(bt(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(bt(1));return r(RT)(e,t)}let n=e,a=t,i=new Map,o=i,l=0,s=!1;function u(){o===i&&(o=new Map,i.forEach((y,v)=>{o.set(v,y)}))}function d(){if(s)throw new Error(bt(3));return a}function f(y){if(typeof y!="function")throw new Error(bt(4));if(s)throw new Error(bt(5));let v=!0;u();const p=l++;return o.set(p,y),function(){if(v){if(s)throw new Error(bt(6));v=!1,u(),o.delete(p),i=null}}}function h(y){if(!Xy(y))throw new Error(bt(7));if(typeof y.type>"u")throw new Error(bt(8));if(typeof y.type!="string")throw new Error(bt(17));if(s)throw new Error(bt(9));try{s=!0,a=n(a,y)}finally{s=!1}return(i=o).forEach(p=>{p()}),y}function m(y){if(typeof y!="function")throw new Error(bt(10));n=y,h({type:Sd.REPLACE})}function g(){const y=f;return{subscribe(v){if(typeof v!="object"||v===null)throw new Error(bt(11));function p(){const _=v;_.next&&_.next(d())}return p(),{unsubscribe:y(p)}},[q1](){return this}}}return h({type:Sd.INIT}),{dispatch:h,subscribe:f,getState:d,replaceReducer:m,[q1]:g}}function L$(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:Sd.INIT})>"u")throw new Error(bt(12));if(typeof r(void 0,{type:Sd.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(bt(13))})}function MT(e){const t=Object.keys(e),r={};for(let i=0;i<t.length;i++){const o=t[i];typeof e[o]=="function"&&(r[o]=e[o])}const n=Object.keys(r);let a;try{L$(r)}catch(i){a=i}return function(o={},l){if(a)throw a;let s=!1;const u={};for(let d=0;d<n.length;d++){const f=n[d],h=r[f],m=o[f],g=h(m,l);if(typeof g>"u")throw l&&l.type,new Error(bt(14));u[f]=g,s=s||g!==m}return s=s||n.length!==Object.keys(o).length,s?u:o}}function jd(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...n)=>t(r(...n)))}function U$(...e){return t=>(r,n)=>{const a=t(r,n);let i=()=>{throw new Error(bt(15))};const o={getState:a.getState,dispatch:(s,...u)=>i(s,...u)},l=e.map(s=>s(o));return i=jd(...l)(a.dispatch),{...a,dispatch:i}}}function DT(e){return Xy(e)&&"type"in e&&typeof e.type=="string"}var zT=Symbol.for("immer-nothing"),H1=Symbol.for("immer-draftable"),It=Symbol.for("immer-state");function Wr(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var ur=Object,Go=ur.getPrototypeOf,Ed="constructor",Yf="prototype",Eg="configurable",Od="enumerable",Rc="writable",Ps="value",qn=e=>!!e&&!!e[It];function Xr(e){var t;return e?BT(e)||Zf(e)||!!e[H1]||!!((t=e[Ed])!=null&&t[H1])||Jf(e)||Qf(e):!1}var q$=ur[Yf][Ed].toString(),W1=new WeakMap;function BT(e){if(!e||!Zy(e))return!1;const t=Go(e);if(t===null||t===ur[Yf])return!0;const r=ur.hasOwnProperty.call(t,Ed)&&t[Ed];if(r===Object)return!0;if(!io(r))return!1;let n=W1.get(r);return n===void 0&&(n=Function.toString.call(r),W1.set(r,n)),n===q$}function Xf(e,t,r=!0){cu(e)===0?(r?Reflect.ownKeys(e):ur.keys(e)).forEach(a=>{t(a,e[a],e)}):e.forEach((n,a)=>t(a,n,e))}function cu(e){const t=e[It];return t?t.type_:Zf(e)?1:Jf(e)?2:Qf(e)?3:0}var V1=(e,t,r=cu(e))=>r===2?e.has(t):ur[Yf].hasOwnProperty.call(e,t),Og=(e,t,r=cu(e))=>r===2?e.get(t):e[t],Cd=(e,t,r,n=cu(e))=>{n===2?e.set(t,r):n===3?e.add(r):e[t]=r};function H$(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var Zf=Array.isArray,Jf=e=>e instanceof Map,Qf=e=>e instanceof Set,Zy=e=>typeof e=="object",io=e=>typeof e=="function",Lm=e=>typeof e=="boolean";function W$(e){const t=+e;return Number.isInteger(t)&&String(t)===e}var xn=e=>e.copy_||e.base_,Jy=e=>e.modified_?e.copy_:e.base_;function Cg(e,t){if(Jf(e))return new Map(e);if(Qf(e))return new Set(e);if(Zf(e))return Array[Yf].slice.call(e);const r=BT(e);if(t===!0||t==="class_only"&&!r){const n=ur.getOwnPropertyDescriptors(e);delete n[It];let a=Reflect.ownKeys(n);for(let i=0;i<a.length;i++){const o=a[i],l=n[o];l[Rc]===!1&&(l[Rc]=!0,l[Eg]=!0),(l.get||l.set)&&(n[o]={[Eg]:!0,[Rc]:!0,[Od]:l[Od],[Ps]:e[o]})}return ur.create(Go(e),n)}else{const n=Go(e);if(n!==null&&r)return{...e};const a=ur.create(n);return ur.assign(a,e)}}function Qy(e,t=!1){return eh(e)||qn(e)||!Xr(e)||(cu(e)>1&&ur.defineProperties(e,{set:nc,add:nc,clear:nc,delete:nc}),ur.freeze(e),t&&Xf(e,(r,n)=>{Qy(n,!0)},!1)),e}function V$(){Wr(2)}var nc={[Ps]:V$};function eh(e){return e===null||!Zy(e)?!0:ur.isFrozen(e)}var Ad="MapSet",Ag="Patches",K1="ArrayMethods",IT={};function Ci(e){const t=IT[e];return t||Wr(0,e),t}var G1=e=>!!IT[e],Rs,$T=()=>Rs,K$=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:G1(Ad)?Ci(Ad):void 0,arrayMethodsPlugin_:G1(K1)?Ci(K1):void 0});function F1(e,t){t&&(e.patchPlugin_=Ci(Ag),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Tg(e){kg(e),e.drafts_.forEach(G$),e.drafts_=null}function kg(e){e===Rs&&(Rs=e.parent_)}var Y1=e=>Rs=K$(Rs,e);function G$(e){const t=e[It];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function X1(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];if(e!==void 0&&e!==r){r[It].modified_&&(Tg(t),Wr(4)),Xr(e)&&(e=Z1(t,e));const{patchPlugin_:a}=t;a&&a.generateReplacementPatches_(r[It].base_,e,t)}else e=Z1(t,r);return F$(t,e,!0),Tg(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==zT?e:void 0}function Z1(e,t){if(eh(t))return t;const r=t[It];if(!r)return Td(t,e.handledSet_,e);if(!th(r,e))return t;if(!r.modified_)return r.base_;if(!r.finalized_){const{callbacks_:n}=r;if(n)for(;n.length>0;)n.pop()(e);qT(r,e)}return r.copy_}function F$(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Qy(t,r)}function LT(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var th=(e,t)=>e.scope_===t,Y$=[];function UT(e,t,r,n){const a=xn(e),i=e.type_;if(n!==void 0&&Og(a,n,i)===t){Cd(a,n,r,i);return}if(!e.draftLocations_){const l=e.draftLocations_=new Map;Xf(a,(s,u)=>{if(qn(u)){const d=l.get(u)||[];d.push(s),l.set(u,d)}})}const o=e.draftLocations_.get(t)??Y$;for(const l of o)Cd(a,l,r,i)}function X$(e,t,r){e.callbacks_.push(function(a){var l;const i=t;if(!i||!th(i,a))return;(l=a.mapSetPlugin_)==null||l.fixSetContents(i);const o=Jy(i);UT(e,i.draft_??i,o,r),qT(i,a)})}function qT(e,t){var n;if(e.modified_&&!e.finalized_&&(e.type_===3||e.type_===1&&e.allIndicesReassigned_||(((n=e.assigned_)==null?void 0:n.size)??0)>0)){const{patchPlugin_:a}=t;if(a){const i=a.getPath(e);i&&a.generatePatches_(e,i,t)}LT(e)}}function Z$(e,t,r){const{scope_:n}=e;if(qn(r)){const a=r[It];th(a,n)&&a.callbacks_.push(function(){Mc(e);const o=Jy(a);UT(e,r,o,t)})}else Xr(r)&&e.callbacks_.push(function(){const i=xn(e);e.type_===3?i.has(r)&&Td(r,n.handledSet_,n):Og(i,t,e.type_)===r&&n.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&Td(Og(e.copy_,t,e.type_),n.handledSet_,n)})}function Td(e,t,r){return!r.immer_.autoFreeze_&&r.unfinalizedDrafts_<1||qn(e)||t.has(e)||!Xr(e)||eh(e)||(t.add(e),Xf(e,(n,a)=>{if(qn(a)){const i=a[It];if(th(i,r)){const o=Jy(i);Cd(e,n,o,e.type_),LT(i)}}else Xr(a)&&Td(a,t,r)})),e}function J$(e,t){const r=Zf(e),n={type_:r?1:0,scope_:t?t.scope_:$T(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let a=n,i=kd;r&&(a=[n],i=Ms);const{revoke:o,proxy:l}=Proxy.revocable(a,i);return n.draft_=l,n.revoke_=o,[l,n]}var kd={get(e,t){if(t===It)return e;let r=e.scope_.arrayMethodsPlugin_;const n=e.type_===1&&typeof t=="string";if(n&&r!=null&&r.isArrayOperationMethod(t))return r.createMethodInterceptor(e,t);const a=xn(e);if(!V1(a,t,e.type_))return Q$(e,a,t);const i=a[t];if(e.finalized_||!Xr(i)||n&&e.operationMethod&&(r!=null&&r.isMutatingArrayMethod(e.operationMethod))&&W$(t))return i;if(i===Um(e.base_,t)){Mc(e);const o=e.type_===1?+t:t,l=Pg(e.scope_,i,e,o);return e.copy_[o]=l}return i},has(e,t){return t in xn(e)},ownKeys(e){return Reflect.ownKeys(xn(e))},set(e,t,r){const n=HT(xn(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const a=Um(xn(e),t),i=a==null?void 0:a[It];if(i&&i.base_===r)return e.copy_[t]=r,e.assigned_.set(t,!1),!0;if(H$(r,a)&&(r!==void 0||V1(e.base_,t,e.type_)))return!0;Mc(e),Ng(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_.set(t,!0),Z$(e,t,r)),!0},deleteProperty(e,t){return Mc(e),Um(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),Ng(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=xn(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{[Rc]:!0,[Eg]:e.type_!==1||t!=="length",[Od]:n[Od],[Ps]:r[t]}},defineProperty(){Wr(11)},getPrototypeOf(e){return Go(e.base_)},setPrototypeOf(){Wr(12)}},Ms={};for(let e in kd){let t=kd[e];Ms[e]=function(){const r=arguments;return r[0]=r[0][0],t.apply(this,r)}}Ms.deleteProperty=function(e,t){return Ms.set.call(this,e,t,void 0)};Ms.set=function(e,t,r){return kd.set.call(this,e[0],t,r,e[0])};function Um(e,t){const r=e[It];return(r?xn(r):e)[t]}function Q$(e,t,r){var a;const n=HT(t,r);return n?Ps in n?n[Ps]:(a=n.get)==null?void 0:a.call(e.draft_):void 0}function HT(e,t){if(!(t in e))return;let r=Go(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=Go(r)}}function Ng(e){e.modified_||(e.modified_=!0,e.parent_&&Ng(e.parent_))}function Mc(e){e.copy_||(e.assigned_=new Map,e.copy_=Cg(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var eL=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(r,n,a)=>{if(io(r)&&!io(n)){const o=n;n=r;const l=this;return function(u=o,...d){return l.produce(u,f=>n.call(this,f,...d))}}io(n)||Wr(6),a!==void 0&&!io(a)&&Wr(7);let i;if(Xr(r)){const o=Y1(this),l=Pg(o,r,void 0);let s=!0;try{i=n(l),s=!1}finally{s?Tg(o):kg(o)}return F1(o,a),X1(i,o)}else if(!r||!Zy(r)){if(i=n(r),i===void 0&&(i=r),i===zT&&(i=void 0),this.autoFreeze_&&Qy(i,!0),a){const o=[],l=[];Ci(Ag).generateReplacementPatches_(r,i,{patches_:o,inversePatches_:l}),a(o,l)}return i}else Wr(1,r)},this.produceWithPatches=(r,n)=>{if(io(r))return(l,...s)=>this.produceWithPatches(l,u=>r(u,...s));let a,i;return[this.produce(r,n,(l,s)=>{a=l,i=s}),a,i]},Lm(t==null?void 0:t.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),Lm(t==null?void 0:t.useStrictShallowCopy)&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),Lm(t==null?void 0:t.useStrictIteration)&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){Xr(t)||Wr(8),qn(t)&&(t=Gr(t));const r=Y1(this),n=Pg(r,t,void 0);return n[It].isManual_=!0,kg(r),n}finishDraft(t,r){const n=t&&t[It];(!n||!n.isManual_)&&Wr(9);const{scope_:a}=n;return F1(a,r),X1(void 0,a)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,r){let n;for(n=r.length-1;n>=0;n--){const i=r[n];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}n>-1&&(r=r.slice(n+1));const a=Ci(Ag).applyPatches_;return qn(t)?a(t,r):this.produce(t,i=>a(i,r))}};function Pg(e,t,r,n){const[a,i]=Jf(t)?Ci(Ad).proxyMap_(t,r):Qf(t)?Ci(Ad).proxySet_(t,r):J$(t,r);return((r==null?void 0:r.scope_)??$T()).drafts_.push(a),i.callbacks_=(r==null?void 0:r.callbacks_)??[],i.key_=n,r&&n!==void 0?X$(r,i,n):i.callbacks_.push(function(s){var d;(d=s.mapSetPlugin_)==null||d.fixSetContents(i);const{patchPlugin_:u}=s;i.modified_&&u&&u.generatePatches_(i,[],s)}),a}function Gr(e){return qn(e)||Wr(10,e),WT(e)}function WT(e){if(!Xr(e)||eh(e))return e;const t=e[It];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=Cg(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=Cg(e,!0);return Xf(r,(a,i)=>{Cd(r,a,WT(i))},n),t&&(t.finalized_=!1),r}var tL=new eL,VT=tL.produce;function KT(e){return({dispatch:r,getState:n})=>a=>i=>typeof i=="function"?i(r,n,e):a(i)}var rL=KT(),nL=KT,aL=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?jd:jd.apply(null,arguments)};function Mr(e,t){function r(...n){if(t){let a=t(...n);if(!a)throw new Error(mr(0));return{type:e,payload:a.payload,..."meta"in a&&{meta:a.meta},..."error"in a&&{error:a.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=n=>DT(n)&&n.type===e,r}var GT=class Kl extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,Kl.prototype)}static get[Symbol.species](){return Kl}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new Kl(...t[0].concat(this)):new Kl(...t.concat(this))}};function J1(e){return Xr(e)?VT(e,()=>{}):e}function ac(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function iL(e){return typeof e=="boolean"}var oL=()=>function(t){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:a=!0,actionCreatorCheck:i=!0}=t??{};let o=new GT;return r&&(iL(r)?o.push(rL):o.push(nL(r.extraArgument))),o},FT="RTK_autoBatch",Be=()=>e=>({payload:e,meta:{[FT]:!0}}),Q1=e=>t=>{setTimeout(t,e)},YT=(e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let a=!0,i=!1,o=!1;const l=new Set,s=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:Q1(10):e.type==="callback"?e.queueNotification:Q1(e.timeout),u=()=>{o=!1,i&&(i=!1,l.forEach(d=>d()))};return Object.assign({},n,{subscribe(d){const f=()=>a&&d(),h=n.subscribe(f);return l.add(d),()=>{h(),l.delete(d)}},dispatch(d){var f;try{return a=!((f=d==null?void 0:d.meta)!=null&&f[FT]),i=!a,i&&(o||(o=!0,s(u))),n.dispatch(d)}finally{a=!0}}})},lL=e=>function(r){const{autoBatch:n=!0}=r??{};let a=new GT(e);return n&&a.push(YT(typeof n=="object"?n:void 0)),a};function sL(e){const t=oL(),{reducer:r=void 0,middleware:n,devTools:a=!0,preloadedState:i=void 0,enhancers:o=void 0}=e||{};let l;if(typeof r=="function")l=r;else if(Xy(r))l=MT(r);else throw new Error(mr(1));let s;typeof n=="function"?s=n(t):s=t();let u=jd;a&&(u=aL({trace:!1,...typeof a=="object"&&a}));const d=U$(...s),f=lL(d);let h=typeof o=="function"?o(f):f();const m=u(...h);return RT(l,i,m)}function XT(e){const t={},r=[];let n;const a={addCase(i,o){const l=typeof i=="string"?i:i.type;if(!l)throw new Error(mr(28));if(l in t)throw new Error(mr(29));return t[l]=o,a},addAsyncThunk(i,o){return o.pending&&(t[i.pending.type]=o.pending),o.rejected&&(t[i.rejected.type]=o.rejected),o.fulfilled&&(t[i.fulfilled.type]=o.fulfilled),o.settled&&r.push({matcher:i.settled,reducer:o.settled}),a},addMatcher(i,o){return r.push({matcher:i,reducer:o}),a},addDefaultCase(i){return n=i,a}};return e(a),[t,r,n]}function uL(e){return typeof e=="function"}function cL(e,t){let[r,n,a]=XT(t),i;if(uL(e))i=()=>J1(e());else{const l=J1(e);i=()=>l}function o(l=i(),s){let u=[r[s.type],...n.filter(({matcher:d})=>d(s)).map(({reducer:d})=>d)];return u.filter(d=>!!d).length===0&&(u=[a]),u.reduce((d,f)=>{if(f)if(qn(d)){const m=f(d,s);return m===void 0?d:m}else{if(Xr(d))return VT(d,h=>f(h,s));{const h=f(d,s);if(h===void 0){if(d===null)return d;throw Error("A case reducer on a non-draftable value must not return undefined")}return h}}return d},l)}return o.getInitialState=i,o}var dL="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",fL=(e=21)=>{let t="",r=e;for(;r--;)t+=dL[Math.random()*64|0];return t},hL=Symbol.for("rtk-slice-createasyncthunk");function mL(e,t){return`${e}/${t}`}function pL({creators:e}={}){var r;const t=(r=e==null?void 0:e.asyncThunk)==null?void 0:r[hL];return function(a){const{name:i,reducerPath:o=i}=a;if(!i)throw new Error(mr(11));const l=(typeof a.reducers=="function"?a.reducers(vL()):a.reducers)||{},s=Object.keys(l),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},d={addCase(_,j){const S=typeof _=="string"?_:_.type;if(!S)throw new Error(mr(12));if(S in u.sliceCaseReducersByType)throw new Error(mr(13));return u.sliceCaseReducersByType[S]=j,d},addMatcher(_,j){return u.sliceMatchers.push({matcher:_,reducer:j}),d},exposeAction(_,j){return u.actionCreators[_]=j,d},exposeCaseReducer(_,j){return u.sliceCaseReducersByName[_]=j,d}};s.forEach(_=>{const j=l[_],S={reducerName:_,type:mL(i,_),createNotation:typeof a.reducers=="function"};bL(j)?wL(S,j,d,t):yL(S,j,d)});function f(){const[_={},j=[],S=void 0]=typeof a.extraReducers=="function"?XT(a.extraReducers):[a.extraReducers],E={..._,...u.sliceCaseReducersByType};return cL(a.initialState,O=>{for(let A in E)O.addCase(A,E[A]);for(let A of u.sliceMatchers)O.addMatcher(A.matcher,A.reducer);for(let A of j)O.addMatcher(A.matcher,A.reducer);S&&O.addDefaultCase(S)})}const h=_=>_,m=new Map,g=new WeakMap;let b;function y(_,j){return b||(b=f()),b(_,j)}function v(){return b||(b=f()),b.getInitialState()}function p(_,j=!1){function S(O){let A=O[_];return typeof A>"u"&&j&&(A=ac(g,S,v)),A}function E(O=h){const A=ac(m,j,()=>new WeakMap);return ac(A,O,()=>{const N={};for(const[I,P]of Object.entries(a.selectors??{}))N[I]=gL(P,O,()=>ac(g,O,v),j);return N})}return{reducerPath:_,getSelectors:E,get selectors(){return E(S)},selectSlice:S}}const w={name:i,reducer:y,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:v,...p(o),injectInto(_,{reducerPath:j,...S}={}){const E=j??o;return _.inject({reducerPath:E,reducer:y},S),{...w,...p(E,!0)}}};return w}}function gL(e,t,r,n){function a(i,...o){let l=t(i);return typeof l>"u"&&n&&(l=r()),e(l,...o)}return a.unwrapped=e,a}var Zt=pL();function vL(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function yL({type:e,reducerName:t,createNotation:r},n,a){let i,o;if("reducer"in n){if(r&&!xL(n))throw new Error(mr(17));i=n.reducer,o=n.prepare}else i=n;a.addCase(e,i).exposeCaseReducer(t,i).exposeAction(t,o?Mr(e,o):Mr(e))}function bL(e){return e._reducerDefinitionType==="asyncThunk"}function xL(e){return e._reducerDefinitionType==="reducerWithPrepare"}function wL({type:e,reducerName:t},r,n,a){if(!a)throw new Error(mr(18));const{payloadCreator:i,fulfilled:o,pending:l,rejected:s,settled:u,options:d}=r,f=a(e,i,d);n.exposeAction(t,f),o&&n.addCase(f.fulfilled,o),l&&n.addCase(f.pending,l),s&&n.addCase(f.rejected,s),u&&n.addMatcher(f.settled,u),n.exposeCaseReducer(t,{fulfilled:o||ic,pending:l||ic,rejected:s||ic,settled:u||ic})}function ic(){}var _L="task",ZT="listener",JT="completed",e0="cancelled",SL=`task-${e0}`,jL=`task-${JT}`,Rg=`${ZT}-${e0}`,EL=`${ZT}-${JT}`,rh=class{constructor(e){Uh(this,"name","TaskAbortError");Uh(this,"message");this.code=e,this.message=`${_L} ${e0} (reason: ${e})`}},t0=(e,t)=>{if(typeof e!="function")throw new TypeError(mr(32))},Nd=()=>{},QT=(e,t=Nd)=>(e.catch(t),e),ek=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),vi=e=>{if(e.aborted)throw new rh(e.reason)};function tk(e,t){let r=Nd;return new Promise((n,a)=>{const i=()=>a(new rh(e.reason));if(e.aborted){i();return}r=ek(e,i),t.finally(()=>r()).then(n,a)}).finally(()=>{r=Nd})}var OL=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof rh?"cancelled":"rejected",error:r}}finally{t==null||t()}},Pd=e=>t=>QT(tk(e,t).then(r=>(vi(e),r))),rk=e=>{const t=Pd(e);return r=>t(new Promise(n=>setTimeout(n,r)))},{assign:To}=Object,ew={},nh="listenerMiddleware",CL=(e,t)=>{const r=n=>ek(e,()=>n.abort(e.reason));return(n,a)=>{t0(n);const i=new AbortController;r(i);const o=OL(async()=>{vi(e),vi(i.signal);const l=await n({pause:Pd(i.signal),delay:rk(i.signal),signal:i.signal});return vi(i.signal),l},()=>i.abort(jL));return a!=null&&a.autoJoin&&t.push(o.catch(Nd)),{result:Pd(e)(o),cancel(){i.abort(SL)}}}},AL=(e,t)=>{const r=async(n,a)=>{vi(t);let i=()=>{};const l=[new Promise((s,u)=>{let d=e({predicate:n,effect:(f,h)=>{h.unsubscribe(),s([f,h.getState(),h.getOriginalState()])}});i=()=>{d(),u()}})];a!=null&&l.push(new Promise(s=>setTimeout(s,a,null)));try{const s=await tk(t,Promise.race(l));return vi(t),s}finally{i()}};return(n,a)=>QT(r(n,a))},nk=e=>{let{type:t,actionCreator:r,matcher:n,predicate:a,effect:i}=e;if(t)a=Mr(t).match;else if(r)t=r.type,a=r.match;else if(n)a=n;else if(!a)throw new Error(mr(21));return t0(i),{predicate:a,type:t,effect:i}},ak=To(e=>{const{type:t,predicate:r,effect:n}=nk(e);return{id:fL(),effect:n,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(mr(22))}}},{withTypes:()=>ak}),tw=(e,t)=>{const{type:r,effect:n,predicate:a}=nk(t);return Array.from(e.values()).find(i=>(typeof r=="string"?i.type===r:i.predicate===a)&&i.effect===n)},Mg=e=>{e.pending.forEach(t=>{t.abort(Rg)})},TL=(e,t)=>()=>{for(const r of t.keys())Mg(r);e.clear()},rw=(e,t,r)=>{try{e(t,r)}catch(n){setTimeout(()=>{throw n},0)}},ik=To(Mr(`${nh}/add`),{withTypes:()=>ik}),kL=Mr(`${nh}/removeAll`),ok=To(Mr(`${nh}/remove`),{withTypes:()=>ok}),NL=(...e)=>{console.error(`${nh}/error`,...e)},du=(e={})=>{const t=new Map,r=new Map,n=m=>{const g=r.get(m)??0;r.set(m,g+1)},a=m=>{const g=r.get(m)??1;g===1?r.delete(m):r.set(m,g-1)},{extra:i,onError:o=NL}=e;t0(o);const l=m=>(m.unsubscribe=()=>t.delete(m.id),t.set(m.id,m),g=>{m.unsubscribe(),g!=null&&g.cancelActive&&Mg(m)}),s=m=>{const g=tw(t,m)??ak(m);return l(g)};To(s,{withTypes:()=>s});const u=m=>{const g=tw(t,m);return g&&(g.unsubscribe(),m.cancelActive&&Mg(g)),!!g};To(u,{withTypes:()=>u});const d=async(m,g,b,y)=>{const v=new AbortController,p=AL(s,v.signal),w=[];try{m.pending.add(v),n(m),await Promise.resolve(m.effect(g,To({},b,{getOriginalState:y,condition:(_,j)=>p(_,j).then(Boolean),take:p,delay:rk(v.signal),pause:Pd(v.signal),extra:i,signal:v.signal,fork:CL(v.signal,w),unsubscribe:m.unsubscribe,subscribe:()=>{t.set(m.id,m)},cancelActiveListeners:()=>{m.pending.forEach((_,j,S)=>{_!==v&&(_.abort(Rg),S.delete(_))})},cancel:()=>{v.abort(Rg),m.pending.delete(v)},throwIfCancelled:()=>{vi(v.signal)}})))}catch(_){_ instanceof rh||rw(o,_,{raisedBy:"effect"})}finally{await Promise.all(w),v.abort(EL),a(m),m.pending.delete(v)}},f=TL(t,r);return{middleware:m=>g=>b=>{if(!DT(b))return g(b);if(ik.match(b))return s(b.payload);if(kL.match(b)){f();return}if(ok.match(b))return u(b.payload);let y=m.getState();const v=()=>{if(y===ew)throw new Error(mr(23));return y};let p;try{if(p=g(b),t.size>0){const w=m.getState(),_=Array.from(t.values());for(const j of _){let S=!1;try{S=j.predicate(b,w,y)}catch(E){S=!1,rw(o,E,{raisedBy:"predicate"})}S&&d(j,b,m,v)}}}finally{y=ew}return p},startListening:s,stopListening:u,clearListeners:f}};function mr(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var PL={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},lk=Zt({name:"chartLayout",initialState:PL,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var r,n,a,i;e.margin.top=(r=t.payload.top)!==null&&r!==void 0?r:0,e.margin.right=(n=t.payload.right)!==null&&n!==void 0?n:0,e.margin.bottom=(a=t.payload.bottom)!==null&&a!==void 0?a:0,e.margin.left=(i=t.payload.left)!==null&&i!==void 0?i:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:RL,setLayout:ML,setChartSize:DL,setScale:zL}=lk.actions,BL=lk.reducer;function sk(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}function Le(e){return Number.isFinite(e)}function un(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function nw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function bo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?nw(Object(r),!0).forEach(function(n){IL(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):nw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function IL(e,t,r){return(t=$L(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $L(e){var t=LL(e,"string");return typeof t=="symbol"?t:t+""}function LL(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function At(e,t,r){return gt(e)||gt(t)?r:sn(t)?Vo(e,t,r):typeof t=="function"?t(e):r}var UL=(e,t,r)=>{if(t&&r){var{width:n,height:a}=r,{align:i,verticalAlign:o,layout:l}=t;if((l==="vertical"||l==="horizontal"&&o==="middle")&&i!=="center"&&F(e[i]))return bo(bo({},e),{},{[i]:e[i]+(n||0)});if((l==="horizontal"||l==="vertical"&&i==="center")&&o!=="middle"&&F(e[o]))return bo(bo({},e),{},{[o]:e[o]+(a||0)})}return e},$i=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",uk=(e,t,r,n)=>{if(n)return e.map(l=>l.coordinate);var a,i,o=e.map(l=>(l.coordinate===t&&(a=!0),l.coordinate===r&&(i=!0),l.coordinate));return a||o.push(t),i||o.push(r),o},ck=(e,t,r)=>{if(!e)return null;var{duplicateDomain:n,type:a,range:i,scale:o,realScaleType:l,isCategorical:s,categoricalDomain:u,tickCount:d,ticks:f,niceTicks:h,axisType:m}=e;if(!o)return null;var g=l==="scaleBand"&&o.bandwidth?o.bandwidth()/2:2,b=a==="category"&&o.bandwidth?o.bandwidth()/g:0;if(b=m==="angleAxis"&&i&&i.length>=2?Kt(i[0]-i[1])*2*b:b,f||h){var y=(f||h||[]).map((v,p)=>{var w=n?n.indexOf(v):v;return{coordinate:o(w)+b,value:v,offset:b,index:p}});return y.filter(v=>!Fr(v.coordinate))}return s&&u?u.map((v,p)=>({coordinate:o(v)+b,value:v,index:p,offset:b})):o.ticks&&d!=null?o.ticks(d).map((v,p)=>({coordinate:o(v)+b,value:v,offset:b,index:p})):o.domain().map((v,p)=>({coordinate:o(v)+b,value:n?n[v]:v,index:p,offset:b}))},aw=1e-4,qL=e=>{var t=e.domain();if(!(!t||t.length<=2)){var r=t.length,n=e.range(),a=Math.min(n[0],n[1])-aw,i=Math.max(n[0],n[1])+aw,o=e(t[0]),l=e(t[r-1]);(o<a||o>i||l<a||l>i)&&e.domain([t[0],t[r-1]])}},HL=(e,t)=>{if(!t||t.length!==2||!F(t[0])||!F(t[1]))return e;var r=Math.min(t[0],t[1]),n=Math.max(t[0],t[1]),a=[e[0],e[1]];return(!F(e[0])||e[0]<r)&&(a[0]=r),(!F(e[1])||e[1]>n)&&(a[1]=n),a[0]>n&&(a[0]=n),a[1]<r&&(a[1]=r),a},WL=e=>{var t,r=e.length;if(!(r<=0)){var n=(t=e[0])===null||t===void 0?void 0:t.length;if(!(n==null||n<=0))for(var a=0;a<n;++a)for(var i=0,o=0,l=0;l<r;++l){var s=e[l],u=s==null?void 0:s[a];if(u!=null){var d=u[1],f=u[0],h=Fr(d)?f:d;h>=0?(u[0]=i,u[1]=i+h,i=d):(u[0]=o,u[1]=o+h,o=d)}}}},VL=e=>{var t,r=e.length;if(!(r<=0)){var n=(t=e[0])===null||t===void 0?void 0:t.length;if(!(n==null||n<=0))for(var a=0;a<n;++a)for(var i=0,o=0;o<r;++o){var l=e[o],s=l==null?void 0:l[a];if(s!=null){var u=Fr(s[1])?s[0]:s[1];u>=0?(s[0]=i,s[1]=i+u,i=s[1]):(s[0]=0,s[1]=0)}}}},KL={sign:WL,expand:kI,none:Oi,silhouette:NI,wiggle:PI,positive:VL},GL=(e,t,r)=>{var n,a=(n=KL[r])!==null&&n!==void 0?n:Oi,i=TI().keys(t).value((l,s)=>Number(At(l,s,0))).order(Sg).offset(a),o=i(e);return o.forEach((l,s)=>{l.forEach((u,d)=>{var f=At(e[d],t[s],0);Array.isArray(f)&&f.length===2&&F(f[0])&&F(f[1])&&(u[0]=f[0],u[1]=f[1])})}),o};function FL(e){return e==null?void 0:String(e)}var iw=e=>{var{axis:t,ticks:r,offset:n,bandSize:a,entry:i,index:o}=e;if(t.type==="category")return r[o]?r[o].coordinate+n:null;var l=At(i,t.dataKey,t.scale.domain()[o]);return gt(l)?null:t.scale(l)-a/2+n},YL=e=>{var{numericAxis:t}=e,r=t.scale.domain();if(t.type==="number"){var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]);return n<=0&&a>=0?0:a<0?a:n}return r[0]},XL=e=>{var t=e.flat(2).filter(F);return[Math.min(...t),Math.max(...t)]},ZL=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],JL=(e,t,r)=>{if(e!=null)return ZL(Object.keys(e).reduce((n,a)=>{var i=e[a];if(!i)return n;var{stackedData:o}=i,l=o.reduce((s,u)=>{var d=sk(u,t,r),f=XL(d);return!Le(f[0])||!Le(f[1])?s:[Math.min(s[0],f[0]),Math.max(s[1],f[1])]},[1/0,-1/0]);return[Math.min(l[0],n[0]),Math.max(l[1],n[1])]},[1/0,-1/0]))},ow=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,lw=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Rd=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&t&&t.length>=2){for(var a=Ff(t,d=>d.coordinate),i=1/0,o=1,l=a.length;o<l;o++){var s=a[o],u=a[o-1];i=Math.min(((s==null?void 0:s.coordinate)||0)-((u==null?void 0:u.coordinate)||0),i)}return i===1/0?0:i}return r?void 0:0};function sw(e){var{tooltipEntrySettings:t,dataKey:r,payload:n,value:a,name:i}=e;return bo(bo({},t),{},{dataKey:r,payload:n,value:a,name:i})}function dk(e,t){if(e)return String(e);if(typeof t=="string")return t}var QL=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},eU=(e,t)=>t==="centric"?e.angle:e.radius,Xn=e=>e.layout.width,Zn=e=>e.layout.height,tU=e=>e.layout.scale,fk=e=>e.layout.margin,ah=R(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),ih=R(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),rU="data-recharts-item-index",nU="data-recharts-item-id",fu=60;function uw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function oc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uw(Object(r),!0).forEach(function(n){aU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function aU(e,t,r){return(t=iU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iU(e){var t=oU(e,"string");return typeof t=="symbol"?t:t+""}function oU(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var lU=e=>e.brush.height;function sU(e){var t=ih(e);return t.reduce((r,n)=>{if(n.orientation==="left"&&!n.mirror&&!n.hide){var a=typeof n.width=="number"?n.width:fu;return r+a}return r},0)}function uU(e){var t=ih(e);return t.reduce((r,n)=>{if(n.orientation==="right"&&!n.mirror&&!n.hide){var a=typeof n.width=="number"?n.width:fu;return r+a}return r},0)}function cU(e){var t=ah(e);return t.reduce((r,n)=>n.orientation==="top"&&!n.mirror&&!n.hide?r+n.height:r,0)}function dU(e){var t=ah(e);return t.reduce((r,n)=>n.orientation==="bottom"&&!n.mirror&&!n.hide?r+n.height:r,0)}var vt=R([Xn,Zn,fk,lU,sU,uU,cU,dU,PT,D$],(e,t,r,n,a,i,o,l,s,u)=>{var d={left:(r.left||0)+a,right:(r.right||0)+i},f={top:(r.top||0)+o,bottom:(r.bottom||0)+l},h=oc(oc({},f),d),m=h.bottom;h.bottom+=n,h=UL(h,s,u);var g=e-h.left-h.right,b=t-h.top-h.bottom;return oc(oc({brushBottom:m},h),{},{width:Math.max(g,0),height:Math.max(b,0)})}),fU=R(vt,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),r0=R(Xn,Zn,(e,t)=>({x:0,y:0,width:e,height:t})),hU=x.createContext(null),Jt=()=>x.useContext(hU)!=null,oh=e=>e.brush,lh=R([oh,vt,fk],(e,t,r)=>({height:e.height,x:F(e.x)?e.x:t.left,y:F(e.y)?e.y:t.top+t.height+t.brushBottom-((r==null?void 0:r.bottom)||0),width:F(e.width)?e.width:t.width})),hk={},mk={},pk={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n,{signal:a,edges:i}={}){let o,l=null;const s=i!=null&&i.includes("leading"),u=i==null||i.includes("trailing"),d=()=>{l!==null&&(r.apply(o,l),o=void 0,l=null)},f=()=>{u&&d(),b()};let h=null;const m=()=>{h!=null&&clearTimeout(h),h=setTimeout(()=>{h=null,f()},n)},g=()=>{h!==null&&(clearTimeout(h),h=null)},b=()=>{g(),o=void 0,l=null},y=()=>{d()},v=function(...p){if(a!=null&&a.aborted)return;o=this,l=p;const w=h==null;m(),s&&w&&d()};return v.schedule=m,v.cancel=b,v.flush=y,a==null||a.addEventListener("abort",b,{once:!0}),v}e.debounce=t})(pk);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=pk;function r(n,a=0,i={}){typeof i!="object"&&(i={});const{leading:o=!1,trailing:l=!0,maxWait:s}=i,u=Array(2);o&&(u[0]="leading"),l&&(u[1]="trailing");let d,f=null;const h=t.debounce(function(...b){d=n.apply(this,b),f=null},a,{edges:u}),m=function(...b){return s!=null&&(f===null&&(f=Date.now()),Date.now()-f>=s)?(d=n.apply(this,b),f=Date.now(),h.cancel(),h.schedule(),d):(h.apply(this,b),d)},g=()=>(h.flush(),d);return m.cancel=h.cancel,m.flush=g,m}e.debounce=r})(mk);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=mk;function r(n,a=0,i={}){const{leading:o=!0,trailing:l=!0}=i;return t.debounce(n,a,{leading:o,maxWait:a,trailing:l})}e.throttle=r})(hk);var mU=hk.throttle;const pU=Fn(mU);var Md=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),i=2;i<n;i++)a[i-2]=arguments[i];if(typeof console<"u"&&console.warn&&(r===void 0&&console.warn("LogUtils requires an error message argument"),!t))if(r===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var o=0;console.warn(r.replace(/%s/g,()=>a[o++]))}},gk=(e,t,r)=>{var{width:n="100%",height:a="100%",aspect:i,maxHeight:o}=r,l=Un(n)?e:Number(n),s=Un(a)?t:Number(a);return i&&i>0&&(l?s=l/i:s&&(l=s*i),o&&s!=null&&s>o&&(s=o)),{calculatedWidth:l,calculatedHeight:s}},gU={width:0,height:0,overflow:"visible"},vU={width:0,overflowX:"visible"},yU={height:0,overflowY:"visible"},bU={},xU=e=>{var{width:t,height:r}=e,n=Un(t),a=Un(r);return n&&a?gU:n?vU:a?yU:bU};function wU(e){var{width:t,height:r,aspect:n}=e,a=t,i=r;return a===void 0&&i===void 0?(a="100%",i="100%"):a===void 0?a=n&&n>0?void 0:"100%":i===void 0&&(i=n&&n>0?void 0:"100%"),{width:a,height:i}}function Dg(){return Dg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Dg.apply(null,arguments)}function cw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function dw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cw(Object(r),!0).forEach(function(n){_U(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _U(e,t,r){return(t=SU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function SU(e){var t=jU(e,"string");return typeof t=="symbol"?t:t+""}function jU(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var vk=x.createContext({width:-1,height:-1});function EU(e){return un(e.width)&&un(e.height)}function yk(e){var{children:t,width:r,height:n}=e,a=x.useMemo(()=>({width:r,height:n}),[r,n]);return EU(a)?x.createElement(vk.Provider,{value:a},t):null}var n0=()=>x.useContext(vk),OU=x.forwardRef((e,t)=>{var{aspect:r,initialDimension:n={width:-1,height:-1},width:a,height:i,minWidth:o=0,minHeight:l,maxHeight:s,children:u,debounce:d=0,id:f,className:h,onResize:m,style:g={}}=e,b=x.useRef(null),y=x.useRef();y.current=m,x.useImperativeHandle(t,()=>b.current);var[v,p]=x.useState({containerWidth:n.width,containerHeight:n.height}),w=x.useCallback((O,A)=>{p(N=>{var I=Math.round(O),P=Math.round(A);return N.containerWidth===I&&N.containerHeight===P?N:{containerWidth:I,containerHeight:P}})},[]);x.useEffect(()=>{if(b.current==null||typeof ResizeObserver>"u")return uu;var O=P=>{var K,{width:T,height:q}=P[0].contentRect;w(T,q),(K=y.current)===null||K===void 0||K.call(y,T,q)};d>0&&(O=pU(O,d,{trailing:!0,leading:!1}));var A=new ResizeObserver(O),{width:N,height:I}=b.current.getBoundingClientRect();return w(N,I),A.observe(b.current),()=>{A.disconnect()}},[w,d]);var{containerWidth:_,containerHeight:j}=v;Md(!r||r>0,"The aspect(%s) must be greater than zero.",r);var{calculatedWidth:S,calculatedHeight:E}=gk(_,j,{width:a,height:i,aspect:r,maxHeight:s});return Md(S!=null&&S>0||E!=null&&E>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,S,E,a,i,o,l,r),x.createElement("div",{id:f?"".concat(f):void 0,className:De("recharts-responsive-container",h),style:dw(dw({},g),{},{width:a,height:i,minWidth:o,minHeight:l,maxHeight:s}),ref:b},x.createElement("div",{style:xU({width:a,height:i})},x.createElement(yk,{width:S,height:E},u)))}),CU=x.forwardRef((e,t)=>{var r=n0();if(un(r.width)&&un(r.height))return e.children;var{width:n,height:a}=wU({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:i,calculatedHeight:o}=gk(void 0,void 0,{width:n,height:a,aspect:e.aspect,maxHeight:e.maxHeight});return F(i)&&F(o)?x.createElement(yk,{width:i,height:o},e.children):x.createElement(OU,Dg({},e,{width:n,height:a,ref:t}))});function bk(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var sh=()=>{var e,t=Jt(),r=Z(fU),n=Z(lh),a=(e=Z(oh))===null||e===void 0?void 0:e.padding;return!t||!n||!a?r:{width:n.width-a.left-a.right,height:n.height-a.top-a.bottom,x:a.left,y:a.top}},AU={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},xk=()=>{var e;return(e=Z(vt))!==null&&e!==void 0?e:AU},wk=()=>Z(Xn),_k=()=>Z(Zn),ye=e=>e.layout.layoutType,hu=()=>Z(ye),TU=()=>{var e=hu();return e!==void 0},uh=e=>{var t=Ge(),r=Jt(),{width:n,height:a}=e,i=n0(),o=n,l=a;return i&&(o=i.width>0?i.width:n,l=i.height>0?i.height:a),x.useEffect(()=>{!r&&un(o)&&un(l)&&t(DL({width:o,height:l}))},[t,r,o,l]),null},Sk=Symbol.for("immer-nothing"),fw=Symbol.for("immer-draftable"),vr=Symbol.for("immer-state");function Vr(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Ds=Object.getPrototypeOf;function Fo(e){return!!e&&!!e[vr]}function Ai(e){var t;return e?jk(e)||Array.isArray(e)||!!e[fw]||!!((t=e.constructor)!=null&&t[fw])||mu(e)||dh(e):!1}var kU=Object.prototype.constructor.toString(),hw=new WeakMap;function jk(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(r===Object)return!0;if(typeof r!="function")return!1;let n=hw.get(r);return n===void 0&&(n=Function.toString.call(r),hw.set(r,n)),n===kU}function Dd(e,t,r=!0){ch(e)===0?(r?Reflect.ownKeys(e):Object.keys(e)).forEach(a=>{t(a,e[a],e)}):e.forEach((n,a)=>t(a,n,e))}function ch(e){const t=e[vr];return t?t.type_:Array.isArray(e)?1:mu(e)?2:dh(e)?3:0}function zg(e,t){return ch(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function Ek(e,t,r){const n=ch(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function NU(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function mu(e){return e instanceof Map}function dh(e){return e instanceof Set}function ri(e){return e.copy_||e.base_}function Bg(e,t){if(mu(e))return new Map(e);if(dh(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=jk(e);if(t===!0||t==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(e);delete n[vr];let a=Reflect.ownKeys(n);for(let i=0;i<a.length;i++){const o=a[i],l=n[o];l.writable===!1&&(l.writable=!0,l.configurable=!0),(l.get||l.set)&&(n[o]={configurable:!0,writable:!0,enumerable:l.enumerable,value:e[o]})}return Object.create(Ds(e),n)}else{const n=Ds(e);if(n!==null&&r)return{...e};const a=Object.create(n);return Object.assign(a,e)}}function a0(e,t=!1){return fh(e)||Fo(e)||!Ai(e)||(ch(e)>1&&Object.defineProperties(e,{set:lc,add:lc,clear:lc,delete:lc}),Object.freeze(e),t&&Object.values(e).forEach(r=>a0(r,!0))),e}function PU(){Vr(2)}var lc={value:PU};function fh(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var RU={};function Ti(e){const t=RU[e];return t||Vr(0,e),t}var zs;function Ok(){return zs}function MU(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function mw(e,t){t&&(Ti("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Ig(e){$g(e),e.drafts_.forEach(DU),e.drafts_=null}function $g(e){e===zs&&(zs=e.parent_)}function pw(e){return zs=MU(zs,e)}function DU(e){const t=e[vr];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function gw(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[vr].modified_&&(Ig(t),Vr(4)),Ai(e)&&(e=zd(t,e),t.parent_||Bd(t,e)),t.patches_&&Ti("Patches").generateReplacementPatches_(r[vr].base_,e,t.patches_,t.inversePatches_)):e=zd(t,r,[]),Ig(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==Sk?e:void 0}function zd(e,t,r){if(fh(t))return t;const n=e.immer_.shouldUseStrictIteration(),a=t[vr];if(!a)return Dd(t,(i,o)=>vw(e,a,t,i,o,r),n),t;if(a.scope_!==e)return t;if(!a.modified_)return Bd(e,a.base_,!0),a.base_;if(!a.finalized_){a.finalized_=!0,a.scope_.unfinalizedDrafts_--;const i=a.copy_;let o=i,l=!1;a.type_===3&&(o=new Set(i),i.clear(),l=!0),Dd(o,(s,u)=>vw(e,a,i,s,u,r,l),n),Bd(e,i,!1),r&&e.patches_&&Ti("Patches").generatePatches_(a,r,e.patches_,e.inversePatches_)}return a.copy_}function vw(e,t,r,n,a,i,o){if(a==null||typeof a!="object"&&!o)return;const l=fh(a);if(!(l&&!o)){if(Fo(a)){const s=i&&t&&t.type_!==3&&!zg(t.assigned_,n)?i.concat(n):void 0,u=zd(e,a,s);if(Ek(r,n,u),Fo(u))e.canAutoFreeze_=!1;else return}else o&&r.add(a);if(Ai(a)&&!l){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[n]===a&&l)return;zd(e,a),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&(mu(r)?r.has(n):Object.prototype.propertyIsEnumerable.call(r,n))&&Bd(e,a)}}}function Bd(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&a0(t,r)}function zU(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:Ok(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=n,i=i0;r&&(a=[n],i=Bs);const{revoke:o,proxy:l}=Proxy.revocable(a,i);return n.draft_=l,n.revoke_=o,l}var i0={get(e,t){if(t===vr)return e;const r=ri(e);if(!zg(r,t))return BU(e,r,t);const n=r[t];return e.finalized_||!Ai(n)?n:n===qm(e.base_,t)?(Hm(e),e.copy_[t]=Ug(n,e)):n},has(e,t){return t in ri(e)},ownKeys(e){return Reflect.ownKeys(ri(e))},set(e,t,r){const n=Ck(ri(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const a=qm(ri(e),t),i=a==null?void 0:a[vr];if(i&&i.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(NU(r,a)&&(r!==void 0||zg(e.base_,t)))return!0;Hm(e),Lg(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return qm(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,Hm(e),Lg(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=ri(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){Vr(11)},getPrototypeOf(e){return Ds(e.base_)},setPrototypeOf(){Vr(12)}},Bs={};Dd(i0,(e,t)=>{Bs[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});Bs.deleteProperty=function(e,t){return Bs.set.call(this,e,t,void 0)};Bs.set=function(e,t,r){return i0.set.call(this,e[0],t,r,e[0])};function qm(e,t){const r=e[vr];return(r?ri(r):e)[t]}function BU(e,t,r){var a;const n=Ck(t,r);return n?"value"in n?n.value:(a=n.get)==null?void 0:a.call(e.draft_):void 0}function Ck(e,t){if(!(t in e))return;let r=Ds(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=Ds(r)}}function Lg(e){e.modified_||(e.modified_=!0,e.parent_&&Lg(e.parent_))}function Hm(e){e.copy_||(e.copy_=Bg(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var IU=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){const i=r;r=t;const o=this;return function(s=i,...u){return o.produce(s,d=>r.call(this,d,...u))}}typeof r!="function"&&Vr(6),n!==void 0&&typeof n!="function"&&Vr(7);let a;if(Ai(t)){const i=pw(this),o=Ug(t,void 0);let l=!0;try{a=r(o),l=!1}finally{l?Ig(i):$g(i)}return mw(i,n),gw(a,i)}else if(!t||typeof t!="object"){if(a=r(t),a===void 0&&(a=t),a===Sk&&(a=void 0),this.autoFreeze_&&a0(a,!0),n){const i=[],o=[];Ti("Patches").generateReplacementPatches_(t,a,i,o),n(i,o)}return a}else Vr(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(o,...l)=>this.produceWithPatches(o,s=>t(s,...l));let n,a;return[this.produce(t,r,(o,l)=>{n=o,a=l}),n,a]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof(e==null?void 0:e.useStrictIteration)=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){Ai(e)||Vr(8),Fo(e)&&(e=$U(e));const t=pw(this),r=Ug(e,void 0);return r[vr].isManual_=!0,$g(t),r}finishDraft(e,t){const r=e&&e[vr];(!r||!r.isManual_)&&Vr(9);const{scope_:n}=r;return mw(n,t),gw(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const a=t[r];if(a.path.length===0&&a.op==="replace"){e=a.value;break}}r>-1&&(t=t.slice(r+1));const n=Ti("Patches").applyPatches_;return Fo(e)?n(e,t):this.produce(e,a=>n(a,t))}};function Ug(e,t){const r=mu(e)?Ti("MapSet").proxyMap_(e,t):dh(e)?Ti("MapSet").proxySet_(e,t):zU(e,t);return(t?t.scope_:Ok()).drafts_.push(r),r}function $U(e){return Fo(e)||Vr(10,e),Ak(e)}function Ak(e){if(!Ai(e)||fh(e))return e;const t=e[vr];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=Bg(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=Bg(e,!0);return Dd(r,(a,i)=>{Ek(r,a,Ak(i))},n),t&&(t.finalized_=!1),r}var LU=new IU;LU.produce;var UU={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},Tk=Zt({name:"legend",initialState:UU,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:Be()},replaceLegendPayload:{reducer(e,t){var{prev:r,next:n}=t.payload,a=Gr(e).payload.indexOf(r);a>-1&&(e.payload[a]=n)},prepare:Be()},removeLegendPayload:{reducer(e,t){var r=Gr(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)},prepare:Be()}}}),{setLegendSize:mZ,setLegendSettings:pZ,addLegendPayload:qU,replaceLegendPayload:HU,removeLegendPayload:WU}=Tk.actions,VU=Tk.reducer;function qg(){return qg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qg.apply(null,arguments)}function yw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Wm(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yw(Object(r),!0).forEach(function(n){KU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function KU(e,t,r){return(t=GU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function GU(e){var t=FU(e,"string");return typeof t=="symbol"?t:t+""}function FU(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function YU(e){return Array.isArray(e)&&sn(e[0])&&sn(e[1])?e.join(" ~ "):e}var XU=e=>{var{separator:t=" : ",contentStyle:r={},itemStyle:n={},labelStyle:a={},payload:i,formatter:o,itemSorter:l,wrapperClassName:s,labelClassName:u,label:d,labelFormatter:f,accessibilityLayer:h=!1}=e,m=()=>{if(i&&i.length){var j={padding:0,margin:0},S=(l?Ff(i,l):i).map((E,O)=>{if(E.type==="none")return null;var A=E.formatter||o||YU,{value:N,name:I}=E,P=N,K=I;if(A){var T=A(N,I,E,O,i);if(Array.isArray(T))[P,K]=T;else if(T!=null)P=T;else return null}var q=Wm({display:"block",paddingTop:4,paddingBottom:4,color:E.color||"#000"},n);return x.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(O),style:q},sn(K)?x.createElement("span",{className:"recharts-tooltip-item-name"},K):null,sn(K)?x.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,x.createElement("span",{className:"recharts-tooltip-item-value"},P),x.createElement("span",{className:"recharts-tooltip-item-unit"},E.unit||""))});return x.createElement("ul",{className:"recharts-tooltip-item-list",style:j},S)}return null},g=Wm({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),b=Wm({margin:0},a),y=!gt(d),v=y?d:"",p=De("recharts-default-tooltip",s),w=De("recharts-tooltip-label",u);y&&f&&i!==void 0&&i!==null&&(v=f(d,i));var _=h?{role:"status","aria-live":"assertive"}:{};return x.createElement("div",qg({className:p,style:g},_),x.createElement("p",{className:w,style:b},x.isValidElement(v)?v:"".concat(v)),m())},Pl="recharts-tooltip-wrapper",ZU={visibility:"hidden"};function JU(e){var{coordinate:t,translateX:r,translateY:n}=e;return De(Pl,{["".concat(Pl,"-right")]:F(r)&&t&&F(t.x)&&r>=t.x,["".concat(Pl,"-left")]:F(r)&&t&&F(t.x)&&r<t.x,["".concat(Pl,"-bottom")]:F(n)&&t&&F(t.y)&&n>=t.y,["".concat(Pl,"-top")]:F(n)&&t&&F(t.y)&&n<t.y})}function bw(e){var{allowEscapeViewBox:t,coordinate:r,key:n,offsetTopLeft:a,position:i,reverseDirection:o,tooltipDimension:l,viewBox:s,viewBoxDimension:u}=e;if(i&&F(i[n]))return i[n];var d=r[n]-l-(a>0?a:0),f=r[n]+a;if(t[n])return o[n]?d:f;var h=s[n];if(h==null)return 0;if(o[n]){var m=d,g=h;return m<g?Math.max(f,h):Math.max(d,h)}if(u==null)return 0;var b=f+l,y=h+u;return b>y?Math.max(d,h):Math.max(f,h)}function QU(e){var{translateX:t,translateY:r,useTranslate3d:n}=e;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function e8(e){var{allowEscapeViewBox:t,coordinate:r,offsetTopLeft:n,position:a,reverseDirection:i,tooltipBox:o,useTranslate3d:l,viewBox:s}=e,u,d,f;return o.height>0&&o.width>0&&r?(d=bw({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:o.width,viewBox:s,viewBoxDimension:s.width}),f=bw({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:o.height,viewBox:s,viewBoxDimension:s.height}),u=QU({translateX:d,translateY:f,useTranslate3d:l})):u=ZU,{cssProperties:u,cssClasses:JU({translateX:d,translateY:f,coordinate:r})}}function xw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function sc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xw(Object(r),!0).forEach(function(n){Hg(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Hg(e,t,r){return(t=t8(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function t8(e){var t=r8(e,"string");return typeof t=="symbol"?t:t+""}function r8(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class n8 extends x.PureComponent{constructor(){super(...arguments),Hg(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),Hg(this,"handleKeyDown",t=>{if(t.key==="Escape"){var r,n,a,i;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(a=(i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==null&&a!==void 0?a:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,r;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:r,animationDuration:n,animationEasing:a,children:i,coordinate:o,hasPayload:l,isAnimationActive:s,offset:u,position:d,reverseDirection:f,useTranslate3d:h,viewBox:m,wrapperStyle:g,lastBoundingBox:b,innerRef:y,hasPortalFromProps:v}=this.props,{cssClasses:p,cssProperties:w}=e8({allowEscapeViewBox:r,coordinate:o,offsetTopLeft:u,position:d,reverseDirection:f,tooltipBox:{height:b.height,width:b.width},useTranslate3d:h,viewBox:m}),_=v?{}:sc(sc({transition:s&&t?"transform ".concat(n,"ms ").concat(a):void 0},w),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&l?"visible":"hidden",position:"absolute",top:0,left:0}),j=sc(sc({},_),{},{visibility:!this.state.dismissed&&t&&l?"visible":"hidden"},g);return x.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:p,style:j,ref:y},i)}}var kk=()=>{var e;return(e=Z(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function Wg(){return Wg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Wg.apply(null,arguments)}function ww(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function _w(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ww(Object(r),!0).forEach(function(n){a8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ww(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function a8(e,t,r){return(t=i8(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i8(e){var t=o8(e,"string");return typeof t=="symbol"?t:t+""}function o8(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Sw={curveBasisClosed:yI,curveBasisOpen:bI,curveBasis:vI,curveBumpX:nI,curveBumpY:aI,curveLinearClosed:xI,curveLinear:Lf,curveMonotoneX:wI,curveMonotoneY:_I,curveNatural:SI,curveStep:jI,curveStepAfter:OI,curveStepBefore:EI},Id=e=>Le(e.x)&&Le(e.y),jw=e=>e.base!=null&&Id(e.base)&&Id(e),Rl=e=>e.x,Ml=e=>e.y,l8=(e,t)=>{if(typeof e=="function")return e;var r="curve".concat(su(e));return(r==="curveMonotone"||r==="curveBump")&&t?Sw["".concat(r).concat(t==="vertical"?"Y":"X")]:Sw[r]||Lf},s8=e=>{var{type:t="linear",points:r=[],baseLine:n,layout:a,connectNulls:i=!1}=e,o=l8(t,a),l=i?r.filter(Id):r,s;if(Array.isArray(n)){var u=r.map((m,g)=>_w(_w({},m),{},{base:n[g]}));a==="vertical"?s=ec().y(Ml).x1(Rl).x0(m=>m.base.x):s=ec().x(Rl).y1(Ml).y0(m=>m.base.y);var d=s.defined(jw).curve(o),f=i?u.filter(jw):u;return d(f)}a==="vertical"&&F(n)?s=ec().y(Ml).x1(Rl).x0(n):F(n)?s=ec().x(Rl).y1(Ml).y0(n):s=UA().x(Rl).y(Ml);var h=s.defined(Id).curve(o);return h(l)},Nk=e=>{var{className:t,points:r,path:n,pathRef:a}=e,i=hu();if((!r||!r.length)&&!n)return null;var o={type:e.type,points:e.points,baseLine:e.baseLine,layout:e.layout||i,connectNulls:e.connectNulls},l=r&&r.length?s8(o):n;return x.createElement("path",Wg({},$n(e),FI(e),{className:De("recharts-curve",t),d:l===null?void 0:l,ref:a}))},u8=["x","y","top","left","width","height","className"];function Vg(){return Vg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Vg.apply(null,arguments)}function Ew(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function c8(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ew(Object(r),!0).forEach(function(n){d8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ew(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function d8(e,t,r){return(t=f8(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function f8(e){var t=h8(e,"string");return typeof t=="symbol"?t:t+""}function h8(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function m8(e,t){if(e==null)return{};var r,n,a=p8(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function p8(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var g8=(e,t,r,n,a,i)=>"M".concat(e,",").concat(a,"v").concat(n,"M").concat(i,",").concat(t,"h").concat(r),v8=e=>{var{x:t=0,y:r=0,top:n=0,left:a=0,width:i=0,height:o=0,className:l}=e,s=m8(e,u8),u=c8({x:t,y:r,top:n,left:a,width:i,height:o},s);return!F(t)||!F(r)||!F(i)||!F(o)||!F(n)||!F(a)?null:x.createElement("path",Vg({},Rr(u),{className:De("recharts-cross",l),d:g8(t,r,i,o,n,a)}))};function y8(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function Ow(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Cw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ow(Object(r),!0).forEach(function(n){b8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ow(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function b8(e,t,r){return(t=x8(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function x8(e){var t=w8(e,"string");return typeof t=="symbol"?t:t+""}function w8(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _8=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),Pk=(e,t,r)=>e.map(n=>"".concat(_8(n)," ").concat(t,"ms ").concat(r)).join(","),S8=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((r,n)=>r.filter(a=>n.includes(a))),Is=(e,t)=>Object.keys(t).reduce((r,n)=>Cw(Cw({},r),{},{[n]:e(n,t[n])}),{});function Aw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function nt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Aw(Object(r),!0).forEach(function(n){j8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Aw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function j8(e,t,r){return(t=E8(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function E8(e){var t=O8(e,"string");return typeof t=="symbol"?t:t+""}function O8(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $d=(e,t,r)=>e+(t-e)*r,Kg=e=>{var{from:t,to:r}=e;return t!==r},Rk=(e,t,r)=>{var n=Is((a,i)=>{if(Kg(i)){var[o,l]=e(i.from,i.to,i.velocity);return nt(nt({},i),{},{from:o,velocity:l})}return i},t);return r<1?Is((a,i)=>Kg(i)&&n[a]!=null?nt(nt({},i),{},{velocity:$d(i.velocity,n[a].velocity,r),from:$d(i.from,n[a].from,r)}):i,t):Rk(e,n,r-1)};function C8(e,t,r,n,a,i){var o,l=n.reduce((h,m)=>nt(nt({},h),{},{[m]:{from:e[m],velocity:0,to:t[m]}}),{}),s=()=>Is((h,m)=>m.from,l),u=()=>!Object.values(l).filter(Kg).length,d=null,f=h=>{o||(o=h);var m=h-o,g=m/r.dt;l=Rk(r,l,g),a(nt(nt(nt({},e),t),s())),o=h,u()||(d=i.setTimeout(f))};return()=>(d=i.setTimeout(f),()=>{var h;(h=d)===null||h===void 0||h()})}function A8(e,t,r,n,a,i,o){var l=null,s=a.reduce((f,h)=>{var m=e[h],g=t[h];return m==null||g==null?f:nt(nt({},f),{},{[h]:[m,g]})},{}),u,d=f=>{u||(u=f);var h=(f-u)/n,m=Is((b,y)=>$d(...y,r(h)),s);if(i(nt(nt(nt({},e),t),m)),h<1)l=o.setTimeout(d);else{var g=Is((b,y)=>$d(...y,r(1)),s);i(nt(nt(nt({},e),t),g))}};return()=>(l=o.setTimeout(d),()=>{var f;(f=l)===null||f===void 0||f()})}const T8=(e,t,r,n,a,i)=>{var o=S8(e,t);return r==null?()=>(a(nt(nt({},e),t)),()=>{}):r.isStepper===!0?C8(e,t,r,o,a,i):A8(e,t,r,n,o,a,i)};var Ld=1e-4,Mk=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],Dk=(e,t)=>e.map((r,n)=>r*t**n).reduce((r,n)=>r+n),Tw=(e,t)=>r=>{var n=Mk(e,t);return Dk(n,r)},k8=(e,t)=>r=>{var n=Mk(e,t),a=[...n.map((i,o)=>i*o).slice(1),0];return Dk(a,r)},N8=e=>{var t,r=e.split("(");if(r.length!==2||r[0]!=="cubic-bezier")return null;var n=(t=r[1])===null||t===void 0||(t=t.split(")")[0])===null||t===void 0?void 0:t.split(",");if(n==null||n.length!==4)return null;var a=n.map(i=>parseFloat(i));return[a[0],a[1],a[2],a[3]]},P8=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(r.length===1)switch(r[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var a=N8(r[0]);if(a)return a}}return r.length===4?r:[0,0,1,1]},R8=(e,t,r,n)=>{var a=Tw(e,r),i=Tw(t,n),o=k8(e,r),l=u=>u>1?1:u<0?0:u,s=u=>{for(var d=u>1?1:u,f=d,h=0;h<8;++h){var m=a(f)-d,g=o(f);if(Math.abs(m-d)<Ld||g<Ld)return i(f);f=l(f-m/g)}return i(f)};return s.isStepper=!1,s},kw=function(){return R8(...P8(...arguments))},M8=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:a=17}=t,i=(o,l,s)=>{var u=-(o-l)*r,d=s*n,f=s+(u-d)*a/1e3,h=s*a/1e3+o;return Math.abs(h-l)<Ld&&Math.abs(f)<Ld?[l,0]:[h,f]};return i.isStepper=!0,i.dt=a,i},D8=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return kw(e);case"spring":return M8();default:if(e.split("(")[0]==="cubic-bezier")return kw(e)}return typeof e=="function"?e:null};function z8(e){var t,r=()=>null,n=!1,a=null,i=o=>{if(!n){if(Array.isArray(o)){if(!o.length)return;var l=o,[s,...u]=l;if(typeof s=="number"){a=e.setTimeout(i.bind(null,u),s);return}i(s),a=e.setTimeout(i.bind(null,u));return}typeof o=="string"&&(t=o,r(t)),typeof o=="object"&&(t=o,r(t)),typeof o=="function"&&o()}};return{stop:()=>{n=!0},start:o=>{n=!1,a&&(a(),a=null),i(o)},subscribe:o=>(r=o,()=>{r=()=>null}),getTimeoutController:()=>e}}class B8{setTimeout(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),a=null,i=o=>{o-n>=r?t(o):typeof requestAnimationFrame=="function"&&(a=requestAnimationFrame(i))};return a=requestAnimationFrame(i),()=>{a!=null&&cancelAnimationFrame(a)}}}function I8(){return z8(new B8)}var $8=x.createContext(I8);function L8(e,t){var r=x.useContext($8);return x.useMemo(()=>t??r(e),[e,t,r])}var U8=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),hh={isSsr:U8()},q8={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},Nw={t:0},Vm={t:1};function o0(e){var t=yr(e,q8),{isActive:r,canBegin:n,duration:a,easing:i,begin:o,onAnimationEnd:l,onAnimationStart:s,children:u}=t,d=r==="auto"?!hh.isSsr:r,f=L8(t.animationId,t.animationManager),[h,m]=x.useState(d?Nw:Vm),g=x.useRef(null);return x.useEffect(()=>{d||m(Vm)},[d]),x.useEffect(()=>{if(!d||!n)return uu;var b=T8(Nw,Vm,D8(i),a,m,f.getTimeoutController()),y=()=>{g.current=b()};return f.start([s,o,y,a,l]),()=>{f.stop(),g.current&&g.current(),l()}},[d,n,a,i,o,s,l,f]),u(h.t)}function l0(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=x.useRef(Ns(t)),n=x.useRef(e);return n.current!==e&&(r.current=Ns(t),n.current=e),r.current}var H8=["radius"],W8=["radius"],Pw,Rw,Mw,Dw,zw,Bw,Iw,$w,Lw,Uw;function qw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Hw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qw(Object(r),!0).forEach(function(n){V8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function V8(e,t,r){return(t=K8(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function K8(e){var t=G8(e,"string");return typeof t=="symbol"?t:t+""}function G8(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ud(){return Ud=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ud.apply(null,arguments)}function Ww(e,t){if(e==null)return{};var r,n,a=F8(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function F8(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function en(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var Vw=(e,t,r,n,a)=>{var i=Sa(r),o=Sa(n),l=Math.min(Math.abs(i)/2,Math.abs(o)/2),s=o>=0?1:-1,u=i>=0?1:-1,d=o>=0&&i>=0||o<0&&i<0?1:0,f;if(l>0&&a instanceof Array){for(var h=[0,0,0,0],m=0,g=4;m<g;m++)h[m]=a[m]>l?l:a[m];f=qe(Pw||(Pw=en(["M",",",""])),e,t+s*h[0]),h[0]>0&&(f+=qe(Rw||(Rw=en(["A ",",",",0,0,",",",",",""])),h[0],h[0],d,e+u*h[0],t)),f+=qe(Mw||(Mw=en(["L ",",",""])),e+r-u*h[1],t),h[1]>0&&(f+=qe(Dw||(Dw=en(["A ",",",",0,0,",`,
        `,",",""])),h[1],h[1],d,e+r,t+s*h[1])),f+=qe(zw||(zw=en(["L ",",",""])),e+r,t+n-s*h[2]),h[2]>0&&(f+=qe(Bw||(Bw=en(["A ",",",",0,0,",`,
        `,",",""])),h[2],h[2],d,e+r-u*h[2],t+n)),f+=qe(Iw||(Iw=en(["L ",",",""])),e+u*h[3],t+n),h[3]>0&&(f+=qe($w||($w=en(["A ",",",",0,0,",`,
        `,",",""])),h[3],h[3],d,e,t+n-s*h[3])),f+="Z"}else if(l>0&&a===+a&&a>0){var b=Math.min(l,a);f=qe(Lw||(Lw=en(["M ",",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",","," Z"])),e,t+s*b,b,b,d,e+u*b,t,e+r-u*b,t,b,b,d,e+r,t+s*b,e+r,t+n-s*b,b,b,d,e+r-u*b,t+n,e+u*b,t+n,b,b,d,e,t+n-s*b)}else f=qe(Uw||(Uw=en(["M ",","," h "," v "," h "," Z"])),e,t,r,n,-r);return f},Kw={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},zk=e=>{var t=yr(e,Kw),r=x.useRef(null),[n,a]=x.useState(-1);x.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var k=r.current.getTotalLength();k&&a(k)}catch{}},[]);var{x:i,y:o,width:l,height:s,radius:u,className:d}=t,{animationEasing:f,animationDuration:h,animationBegin:m,isAnimationActive:g,isUpdateAnimationActive:b}=t,y=x.useRef(l),v=x.useRef(s),p=x.useRef(i),w=x.useRef(o),_=x.useMemo(()=>({x:i,y:o,width:l,height:s,radius:u}),[i,o,l,s,u]),j=l0(_,"rectangle-");if(i!==+i||o!==+o||l!==+l||s!==+s||l===0||s===0)return null;var S=De("recharts-rectangle",d);if(!b){var E=Rr(t),{radius:O}=E,A=Ww(E,H8);return x.createElement("path",Ud({},A,{x:Sa(i),y:Sa(o),width:Sa(l),height:Sa(s),radius:typeof u=="number"?u:void 0,className:S,d:Vw(i,o,l,s,u)}))}var N=y.current,I=v.current,P=p.current,K=w.current,T="0px ".concat(n===-1?1:n,"px"),q="".concat(n,"px 0px"),C=Pk(["strokeDasharray"],h,typeof f=="string"?f:Kw.animationEasing);return x.createElement(o0,{animationId:j,key:j,canBegin:n>0,duration:h,easing:f,isActive:b,begin:m},k=>{var D=_t(N,l,k),L=_t(I,s,k),H=_t(P,i,k),le=_t(K,o,k);r.current&&(y.current=D,v.current=L,p.current=H,w.current=le);var ue;g?k>0?ue={transition:C,strokeDasharray:q}:ue={strokeDasharray:T}:ue={strokeDasharray:q};var ce=Rr(t),{radius:de}=ce,Ee=Ww(ce,W8);return x.createElement("path",Ud({},Ee,{radius:typeof u=="number"?u:void 0,className:S,d:Vw(H,le,D,L,u),ref:r,style:Hw(Hw({},ue),t.style)}))})};function Gw(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Fw(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Gw(Object(r),!0).forEach(function(n){Y8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Gw(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Y8(e,t,r){return(t=X8(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function X8(e){var t=Z8(e,"string");return typeof t=="symbol"?t:t+""}function Z8(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var qd=Math.PI/180,J8=e=>e*180/Math.PI,Ot=(e,t,r,n)=>({x:e+Math.cos(-qd*n)*r,y:t+Math.sin(-qd*n)*r}),Q8=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},e6=(e,t)=>{var{x:r,y:n}=e,{x:a,y:i}=t;return Math.sqrt((r-a)**2+(n-i)**2)},t6=(e,t)=>{var{x:r,y:n}=e,{cx:a,cy:i}=t,o=e6({x:r,y:n},{x:a,y:i});if(o<=0)return{radius:o,angle:0};var l=(r-a)/o,s=Math.acos(l);return n>i&&(s=2*Math.PI-s),{radius:o,angle:J8(s),angleInRadian:s}},r6=e=>{var{startAngle:t,endAngle:r}=e,n=Math.floor(t/360),a=Math.floor(r/360),i=Math.min(n,a);return{startAngle:t-i*360,endAngle:r-i*360}},n6=(e,t)=>{var{startAngle:r,endAngle:n}=t,a=Math.floor(r/360),i=Math.floor(n/360),o=Math.min(a,i);return e+o*360},a6=(e,t)=>{var{chartX:r,chartY:n}=e,{radius:a,angle:i}=t6({x:r,y:n},t),{innerRadius:o,outerRadius:l}=t;if(a<o||a>l||a===0)return null;var{startAngle:s,endAngle:u}=r6(t),d=i,f;if(s<=u){for(;d>u;)d-=360;for(;d<s;)d+=360;f=d>=s&&d<=u}else{for(;d>s;)d-=360;for(;d<u;)d+=360;f=d>=u&&d<=s}return f?Fw(Fw({},t),{},{radius:a,angle:n6(d,t)}):null};function Bk(e){var{cx:t,cy:r,radius:n,startAngle:a,endAngle:i}=e,o=Ot(t,r,n,a),l=Ot(t,r,n,i);return{points:[o,l],cx:t,cy:r,radius:n,startAngle:a,endAngle:i}}var Yw,Xw,Zw,Jw,Qw,e_,t_;function Gg(){return Gg=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Gg.apply(null,arguments)}function li(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var i6=(e,t)=>{var r=Kt(t-e),n=Math.min(Math.abs(t-e),359.999);return r*n},uc=e=>{var{cx:t,cy:r,radius:n,angle:a,sign:i,isExternal:o,cornerRadius:l,cornerIsExternal:s}=e,u=l*(o?1:-1)+n,d=Math.asin(l/u)/qd,f=s?a:a+i*d,h=Ot(t,r,u,f),m=Ot(t,r,n,f),g=s?a-i*d:a,b=Ot(t,r,u*Math.cos(d*qd),g);return{center:h,circleTangency:m,lineTangency:b,theta:d}},Ik=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:a,startAngle:i,endAngle:o}=e,l=i6(i,o),s=i+l,u=Ot(t,r,a,i),d=Ot(t,r,a,s),f=qe(Yw||(Yw=li(["M ",",",`
    A `,",",`,0,
    `,",",`,
    `,",",`
  `])),u.x,u.y,a,a,+(Math.abs(l)>180),+(i>s),d.x,d.y);if(n>0){var h=Ot(t,r,n,i),m=Ot(t,r,n,s);f+=qe(Xw||(Xw=li(["L ",",",`
            A `,",",`,0,
            `,",",`,
            `,","," Z"])),m.x,m.y,n,n,+(Math.abs(l)>180),+(i<=s),h.x,h.y)}else f+=qe(Zw||(Zw=li(["L ",","," Z"])),t,r);return f},o6=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:a,cornerRadius:i,forceCornerRadius:o,cornerIsExternal:l,startAngle:s,endAngle:u}=e,d=Kt(u-s),{circleTangency:f,lineTangency:h,theta:m}=uc({cx:t,cy:r,radius:a,angle:s,sign:d,cornerRadius:i,cornerIsExternal:l}),{circleTangency:g,lineTangency:b,theta:y}=uc({cx:t,cy:r,radius:a,angle:u,sign:-d,cornerRadius:i,cornerIsExternal:l}),v=l?Math.abs(s-u):Math.abs(s-u)-m-y;if(v<0)return o?qe(Jw||(Jw=li(["M ",",",`
        a`,",",",0,0,1,",`,0
        a`,",",",0,0,1,",`,0
      `])),h.x,h.y,i,i,i*2,i,i,-i*2):Ik({cx:t,cy:r,innerRadius:n,outerRadius:a,startAngle:s,endAngle:u});var p=qe(Qw||(Qw=li(["M ",",",`
    A`,",",",0,0,",",",",",`
    A`,",",",0,",",",",",",",`
    A`,",",",0,0,",",",",",`
  `])),h.x,h.y,i,i,+(d<0),f.x,f.y,a,a,+(v>180),+(d<0),g.x,g.y,i,i,+(d<0),b.x,b.y);if(n>0){var{circleTangency:w,lineTangency:_,theta:j}=uc({cx:t,cy:r,radius:n,angle:s,sign:d,isExternal:!0,cornerRadius:i,cornerIsExternal:l}),{circleTangency:S,lineTangency:E,theta:O}=uc({cx:t,cy:r,radius:n,angle:u,sign:-d,isExternal:!0,cornerRadius:i,cornerIsExternal:l}),A=l?Math.abs(s-u):Math.abs(s-u)-j-O;if(A<0&&i===0)return"".concat(p,"L").concat(t,",").concat(r,"Z");p+=qe(e_||(e_=li(["L",",",`
      A`,",",",0,0,",",",",",`
      A`,",",",0,",",",",",",",`
      A`,",",",0,0,",",",",","Z"])),E.x,E.y,i,i,+(d<0),S.x,S.y,n,n,+(A>180),+(d>0),w.x,w.y,i,i,+(d<0),_.x,_.y)}else p+=qe(t_||(t_=li(["L",",","Z"])),t,r);return p},l6={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},$k=e=>{var t=yr(e,l6),{cx:r,cy:n,innerRadius:a,outerRadius:i,cornerRadius:o,forceCornerRadius:l,cornerIsExternal:s,startAngle:u,endAngle:d,className:f}=t;if(i<a||u===d)return null;var h=De("recharts-sector",f),m=i-a,g=Yr(o,m,0,!0),b;return g>0&&Math.abs(u-d)<360?b=o6({cx:r,cy:n,innerRadius:a,outerRadius:i,cornerRadius:Math.min(g,m/2),forceCornerRadius:l,cornerIsExternal:s,startAngle:u,endAngle:d}):b=Ik({cx:r,cy:n,innerRadius:a,outerRadius:i,startAngle:u,endAngle:d}),x.createElement("path",Gg({},Rr(t),{className:h,d:b}))};function s6(e,t,r){if(e==="horizontal")return[{x:t.x,y:r.top},{x:t.x,y:r.top+r.height}];if(e==="vertical")return[{x:r.left,y:t.y},{x:r.left+r.width,y:t.y}];if(nT(t)){if(e==="centric"){var{cx:n,cy:a,innerRadius:i,outerRadius:o,angle:l}=t,s=Ot(n,a,i,l),u=Ot(n,a,o,l);return[{x:s.x,y:s.y},{x:u.x,y:u.y}]}return Bk(t)}}var Lk={},Uk={},qk={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Fy;function r(n){return t.isSymbol(n)?NaN:Number(n)}e.toNumber=r})(qk);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=qk;function r(n){return n?(n=t.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}e.toFinite=r})(Uk);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Yy,r=Uk;function n(a,i,o){o&&typeof o!="number"&&t.isIterateeCall(a,i,o)&&(i=o=void 0),a=r.toFinite(a),i===void 0?(i=a,a=0):i=r.toFinite(i),o=o===void 0?a<i?1:-1:r.toFinite(o);const l=Math.max(Math.ceil((i-a)/(o||1)),0),s=new Array(l);for(let u=0;u<l;u++)s[u]=a,a+=o;return s}e.range=n})(Lk);var u6=Lk.range;const Hk=Fn(u6);function Ra(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function c6(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function s0(e){let t,r,n;e.length!==2?(t=Ra,r=(l,s)=>Ra(e(l),s),n=(l,s)=>e(l)-s):(t=e===Ra||e===c6?e:d6,r=e,n=e);function a(l,s,u=0,d=l.length){if(u<d){if(t(s,s)!==0)return d;do{const f=u+d>>>1;r(l[f],s)<0?u=f+1:d=f}while(u<d)}return u}function i(l,s,u=0,d=l.length){if(u<d){if(t(s,s)!==0)return d;do{const f=u+d>>>1;r(l[f],s)<=0?u=f+1:d=f}while(u<d)}return u}function o(l,s,u=0,d=l.length){const f=a(l,s,u,d-1);return f>u&&n(l[f-1],s)>-n(l[f],s)?f-1:f}return{left:a,center:o,right:i}}function d6(){return 0}function Wk(e){return e===null?NaN:+e}function*f6(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const h6=s0(Ra),pu=h6.right;s0(Wk).center;class r_ extends Map{constructor(t,r=g6){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(n_(this,t))}has(t){return super.has(n_(this,t))}set(t,r){return super.set(m6(this,t),r)}delete(t){return super.delete(p6(this,t))}}function n_({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function m6({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function p6({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function g6(e){return e!==null&&typeof e=="object"?e.valueOf():e}function v6(e=Ra){if(e===Ra)return Vk;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function Vk(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const y6=Math.sqrt(50),b6=Math.sqrt(10),x6=Math.sqrt(2);function Hd(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),i=n/Math.pow(10,a),o=i>=y6?10:i>=b6?5:i>=x6?2:1;let l,s,u;return a<0?(u=Math.pow(10,-a)/o,l=Math.round(e*u),s=Math.round(t*u),l/u<e&&++l,s/u>t&&--s,u=-u):(u=Math.pow(10,a)*o,l=Math.round(e/u),s=Math.round(t/u),l*u<e&&++l,s*u>t&&--s),s<l&&.5<=r&&r<2?Hd(e,t,r*2):[l,s,u]}function Fg(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,i,o]=n?Hd(t,e,r):Hd(e,t,r);if(!(i>=a))return[];const l=i-a+1,s=new Array(l);if(n)if(o<0)for(let u=0;u<l;++u)s[u]=(i-u)/-o;else for(let u=0;u<l;++u)s[u]=(i-u)*o;else if(o<0)for(let u=0;u<l;++u)s[u]=(a+u)/-o;else for(let u=0;u<l;++u)s[u]=(a+u)*o;return s}function Yg(e,t,r){return t=+t,e=+e,r=+r,Hd(e,t,r)[2]}function Xg(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?Yg(t,e,r):Yg(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function a_(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function i_(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function Kk(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?Vk:v6(a);n>r;){if(n-r>600){const s=n-r+1,u=t-r+1,d=Math.log(s),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(s-f)/s)*(u-s/2<0?-1:1),m=Math.max(r,Math.floor(t-u*f/s+h)),g=Math.min(n,Math.floor(t+(s-u)*f/s+h));Kk(e,t,m,g,a)}const i=e[t];let o=r,l=n;for(Dl(e,r,t),a(e[n],i)>0&&Dl(e,r,n);o<l;){for(Dl(e,o,l),++o,--l;a(e[o],i)<0;)++o;for(;a(e[l],i)>0;)--l}a(e[r],i)===0?Dl(e,r,l):(++l,Dl(e,l,n)),l<=t&&(r=l+1),t<=l&&(n=l-1)}return e}function Dl(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function w6(e,t,r){if(e=Float64Array.from(f6(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return i_(e);if(t>=1)return a_(e);var n,a=(n-1)*t,i=Math.floor(a),o=a_(Kk(e,i).subarray(0,i+1)),l=i_(e.subarray(i+1));return o+(l-o)*(a-i)}}function _6(e,t,r=Wk){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,i=Math.floor(a),o=+r(e[i],i,e),l=+r(e[i+1],i+1,e);return o+(l-o)*(a-i)}}function S6(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(a);++n<a;)i[n]=e+n*r;return i}function zr(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Jn(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Zg=Symbol("implicit");function u0(){var e=new r_,t=[],r=[],n=Zg;function a(i){let o=e.get(i);if(o===void 0){if(n!==Zg)return n;e.set(i,o=t.push(i)-1)}return r[o%r.length]}return a.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new r_;for(const o of i)e.has(o)||e.set(o,t.push(o)-1);return a},a.range=function(i){return arguments.length?(r=Array.from(i),a):r.slice()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return u0(t,r).unknown(n)},zr.apply(a,arguments),a}function c0(){var e=u0().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,i,o,l=!1,s=0,u=0,d=.5;delete e.unknown;function f(){var h=t().length,m=a<n,g=m?a:n,b=m?n:a;i=(b-g)/Math.max(1,h-s+u*2),l&&(i=Math.floor(i)),g+=(b-g-i*(h-s))*d,o=i*(1-s),l&&(g=Math.round(g),o=Math.round(o));var y=S6(h).map(function(v){return g+i*v});return r(m?y.reverse():y)}return e.domain=function(h){return arguments.length?(t(h),f()):t()},e.range=function(h){return arguments.length?([n,a]=h,n=+n,a=+a,f()):[n,a]},e.rangeRound=function(h){return[n,a]=h,n=+n,a=+a,l=!0,f()},e.bandwidth=function(){return o},e.step=function(){return i},e.round=function(h){return arguments.length?(l=!!h,f()):l},e.padding=function(h){return arguments.length?(s=Math.min(1,u=+h),f()):s},e.paddingInner=function(h){return arguments.length?(s=Math.min(1,h),f()):s},e.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},e.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},e.copy=function(){return c0(t(),[n,a]).round(l).paddingInner(s).paddingOuter(u).align(d)},zr.apply(f(),arguments)}function Gk(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return Gk(t())},e}function j6(){return Gk(c0.apply(null,arguments).paddingInner(1))}function d0(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function Fk(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function gu(){}var $s=.7,Wd=1/$s,ko="\\s*([+-]?\\d+)\\s*",Ls="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ln="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",E6=/^#([0-9a-f]{3,8})$/,O6=new RegExp(`^rgb\\(${ko},${ko},${ko}\\)$`),C6=new RegExp(`^rgb\\(${ln},${ln},${ln}\\)$`),A6=new RegExp(`^rgba\\(${ko},${ko},${ko},${Ls}\\)$`),T6=new RegExp(`^rgba\\(${ln},${ln},${ln},${Ls}\\)$`),k6=new RegExp(`^hsl\\(${Ls},${ln},${ln}\\)$`),N6=new RegExp(`^hsla\\(${Ls},${ln},${ln},${Ls}\\)$`),o_={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};d0(gu,Us,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:l_,formatHex:l_,formatHex8:P6,formatHsl:R6,formatRgb:s_,toString:s_});function l_(){return this.rgb().formatHex()}function P6(){return this.rgb().formatHex8()}function R6(){return Yk(this).formatHsl()}function s_(){return this.rgb().formatRgb()}function Us(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=E6.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?u_(t):r===3?new Gt(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?cc(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?cc(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=O6.exec(e))?new Gt(t[1],t[2],t[3],1):(t=C6.exec(e))?new Gt(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=A6.exec(e))?cc(t[1],t[2],t[3],t[4]):(t=T6.exec(e))?cc(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=k6.exec(e))?f_(t[1],t[2]/100,t[3]/100,1):(t=N6.exec(e))?f_(t[1],t[2]/100,t[3]/100,t[4]):o_.hasOwnProperty(e)?u_(o_[e]):e==="transparent"?new Gt(NaN,NaN,NaN,0):null}function u_(e){return new Gt(e>>16&255,e>>8&255,e&255,1)}function cc(e,t,r,n){return n<=0&&(e=t=r=NaN),new Gt(e,t,r,n)}function M6(e){return e instanceof gu||(e=Us(e)),e?(e=e.rgb(),new Gt(e.r,e.g,e.b,e.opacity)):new Gt}function Jg(e,t,r,n){return arguments.length===1?M6(e):new Gt(e,t,r,n??1)}function Gt(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}d0(Gt,Jg,Fk(gu,{brighter(e){return e=e==null?Wd:Math.pow(Wd,e),new Gt(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?$s:Math.pow($s,e),new Gt(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Gt(yi(this.r),yi(this.g),yi(this.b),Vd(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:c_,formatHex:c_,formatHex8:D6,formatRgb:d_,toString:d_}));function c_(){return`#${si(this.r)}${si(this.g)}${si(this.b)}`}function D6(){return`#${si(this.r)}${si(this.g)}${si(this.b)}${si((isNaN(this.opacity)?1:this.opacity)*255)}`}function d_(){const e=Vd(this.opacity);return`${e===1?"rgb(":"rgba("}${yi(this.r)}, ${yi(this.g)}, ${yi(this.b)}${e===1?")":`, ${e})`}`}function Vd(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function yi(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function si(e){return e=yi(e),(e<16?"0":"")+e.toString(16)}function f_(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Kr(e,t,r,n)}function Yk(e){if(e instanceof Kr)return new Kr(e.h,e.s,e.l,e.opacity);if(e instanceof gu||(e=Us(e)),!e)return new Kr;if(e instanceof Kr)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),i=Math.max(t,r,n),o=NaN,l=i-a,s=(i+a)/2;return l?(t===i?o=(r-n)/l+(r<n)*6:r===i?o=(n-t)/l+2:o=(t-r)/l+4,l/=s<.5?i+a:2-i-a,o*=60):l=s>0&&s<1?0:o,new Kr(o,l,s,e.opacity)}function z6(e,t,r,n){return arguments.length===1?Yk(e):new Kr(e,t,r,n??1)}function Kr(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}d0(Kr,z6,Fk(gu,{brighter(e){return e=e==null?Wd:Math.pow(Wd,e),new Kr(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?$s:Math.pow($s,e),new Kr(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new Gt(Km(e>=240?e-240:e+120,a,n),Km(e,a,n),Km(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new Kr(h_(this.h),dc(this.s),dc(this.l),Vd(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Vd(this.opacity);return`${e===1?"hsl(":"hsla("}${h_(this.h)}, ${dc(this.s)*100}%, ${dc(this.l)*100}%${e===1?")":`, ${e})`}`}}));function h_(e){return e=(e||0)%360,e<0?e+360:e}function dc(e){return Math.max(0,Math.min(1,e||0))}function Km(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const f0=e=>()=>e;function B6(e,t){return function(r){return e+r*t}}function I6(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function $6(e){return(e=+e)==1?Xk:function(t,r){return r-t?I6(t,r,e):f0(isNaN(t)?r:t)}}function Xk(e,t){var r=t-e;return r?B6(e,r):f0(isNaN(e)?t:e)}const m_=function e(t){var r=$6(t);function n(a,i){var o=r((a=Jg(a)).r,(i=Jg(i)).r),l=r(a.g,i.g),s=r(a.b,i.b),u=Xk(a.opacity,i.opacity);return function(d){return a.r=o(d),a.g=l(d),a.b=s(d),a.opacity=u(d),a+""}}return n.gamma=e,n}(1);function L6(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(i){for(a=0;a<r;++a)n[a]=e[a]*(1-i)+t[a]*i;return n}}function U6(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function q6(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),i=new Array(r),o;for(o=0;o<n;++o)a[o]=vl(e[o],t[o]);for(;o<r;++o)i[o]=t[o];return function(l){for(o=0;o<n;++o)i[o]=a[o](l);return i}}function H6(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function Kd(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function W6(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=vl(e[a],t[a]):n[a]=t[a];return function(i){for(a in r)n[a]=r[a](i);return n}}var Qg=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Gm=new RegExp(Qg.source,"g");function V6(e){return function(){return e}}function K6(e){return function(t){return e(t)+""}}function G6(e,t){var r=Qg.lastIndex=Gm.lastIndex=0,n,a,i,o=-1,l=[],s=[];for(e=e+"",t=t+"";(n=Qg.exec(e))&&(a=Gm.exec(t));)(i=a.index)>r&&(i=t.slice(r,i),l[o]?l[o]+=i:l[++o]=i),(n=n[0])===(a=a[0])?l[o]?l[o]+=a:l[++o]=a:(l[++o]=null,s.push({i:o,x:Kd(n,a)})),r=Gm.lastIndex;return r<t.length&&(i=t.slice(r),l[o]?l[o]+=i:l[++o]=i),l.length<2?s[0]?K6(s[0].x):V6(t):(t=s.length,function(u){for(var d=0,f;d<t;++d)l[(f=s[d]).i]=f.x(u);return l.join("")})}function vl(e,t){var r=typeof t,n;return t==null||r==="boolean"?f0(t):(r==="number"?Kd:r==="string"?(n=Us(t))?(t=n,m_):G6:t instanceof Us?m_:t instanceof Date?H6:U6(t)?L6:Array.isArray(t)?q6:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?W6:Kd)(e,t)}function h0(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function F6(e,t){t===void 0&&(t=e,e=vl);for(var r=0,n=t.length-1,a=t[0],i=new Array(n<0?0:n);r<n;)i[r]=e(a,a=t[++r]);return function(o){var l=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return i[l](o-l)}}function Y6(e){return function(){return e}}function Gd(e){return+e}var p_=[0,1];function zt(e){return e}function ev(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:Y6(isNaN(t)?NaN:.5)}function X6(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function Z6(e,t,r){var n=e[0],a=e[1],i=t[0],o=t[1];return a<n?(n=ev(a,n),i=r(o,i)):(n=ev(n,a),i=r(i,o)),function(l){return i(n(l))}}function J6(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),i=new Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)a[o]=ev(e[o],e[o+1]),i[o]=r(t[o],t[o+1]);return function(l){var s=pu(e,l,1,n)-1;return i[s](a[s](l))}}function vu(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function mh(){var e=p_,t=p_,r=vl,n,a,i,o=zt,l,s,u;function d(){var h=Math.min(e.length,t.length);return o!==zt&&(o=X6(e[0],e[h-1])),l=h>2?J6:Z6,s=u=null,f}function f(h){return h==null||isNaN(h=+h)?i:(s||(s=l(e.map(n),t,r)))(n(o(h)))}return f.invert=function(h){return o(a((u||(u=l(t,e.map(n),Kd)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,Gd),d()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),d()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),r=h0,d()},f.clamp=function(h){return arguments.length?(o=h?!0:zt,d()):o!==zt},f.interpolate=function(h){return arguments.length?(r=h,d()):r},f.unknown=function(h){return arguments.length?(i=h,f):i},function(h,m){return n=h,a=m,d()}}function m0(){return mh()(zt,zt)}function Q6(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Fd(e,t){if(!isFinite(e)||e===0)return null;var r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"),n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function Yo(e){return e=Fd(Math.abs(e)),e?e[1]:NaN}function e9(e,t){return function(r,n){for(var a=r.length,i=[],o=0,l=e[0],s=0;a>0&&l>0&&(s+l+1>n&&(l=Math.max(1,n-s)),i.push(r.substring(a-=l,a+l)),!((s+=l+1)>n));)l=e[o=(o+1)%e.length];return i.reverse().join(t)}}function t9(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var r9=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function qs(e){if(!(t=r9.exec(e)))throw new Error("invalid format: "+e);var t;return new p0({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}qs.prototype=p0.prototype;function p0(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}p0.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function n9(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var Yd;function a9(e,t){var r=Fd(e,t);if(!r)return Yd=void 0,e.toPrecision(t);var n=r[0],a=r[1],i=a-(Yd=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,o=n.length;return i===o?n:i>o?n+new Array(i-o+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+Fd(e,Math.max(0,t+i-1))[0]}function g_(e,t){var r=Fd(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const v_={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:Q6,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>g_(e*100,t),r:g_,s:a9,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function y_(e){return e}var b_=Array.prototype.map,x_=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function i9(e){var t=e.grouping===void 0||e.thousands===void 0?y_:e9(b_.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?y_:t9(b_.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"":e.minus+"",s=e.nan===void 0?"NaN":e.nan+"";function u(f,h){f=qs(f);var m=f.fill,g=f.align,b=f.sign,y=f.symbol,v=f.zero,p=f.width,w=f.comma,_=f.precision,j=f.trim,S=f.type;S==="n"?(w=!0,S="g"):v_[S]||(_===void 0&&(_=12),j=!0,S="g"),(v||m==="0"&&g==="=")&&(v=!0,m="0",g="=");var E=(h&&h.prefix!==void 0?h.prefix:"")+(y==="$"?r:y==="#"&&/[boxX]/.test(S)?"0"+S.toLowerCase():""),O=(y==="$"?n:/[%p]/.test(S)?o:"")+(h&&h.suffix!==void 0?h.suffix:""),A=v_[S],N=/[defgprs%]/.test(S);_=_===void 0?6:/[gprs]/.test(S)?Math.max(1,Math.min(21,_)):Math.max(0,Math.min(20,_));function I(P){var K=E,T=O,q,C,k;if(S==="c")T=A(P)+T,P="";else{P=+P;var D=P<0||1/P<0;if(P=isNaN(P)?s:A(Math.abs(P),_),j&&(P=n9(P)),D&&+P==0&&b!=="+"&&(D=!1),K=(D?b==="("?b:l:b==="-"||b==="("?"":b)+K,T=(S==="s"&&!isNaN(P)&&Yd!==void 0?x_[8+Yd/3]:"")+T+(D&&b==="("?")":""),N){for(q=-1,C=P.length;++q<C;)if(k=P.charCodeAt(q),48>k||k>57){T=(k===46?a+P.slice(q+1):P.slice(q))+T,P=P.slice(0,q);break}}}w&&!v&&(P=t(P,1/0));var L=K.length+P.length+T.length,H=L<p?new Array(p-L+1).join(m):"";switch(w&&v&&(P=t(H+P,H.length?p-T.length:1/0),H=""),g){case"<":P=K+P+T+H;break;case"=":P=K+H+P+T;break;case"^":P=H.slice(0,L=H.length>>1)+K+P+T+H.slice(L);break;default:P=H+K+P+T;break}return i(P)}return I.toString=function(){return f+""},I}function d(f,h){var m=Math.max(-8,Math.min(8,Math.floor(Yo(h)/3)))*3,g=Math.pow(10,-m),b=u((f=qs(f),f.type="f",f),{suffix:x_[8+m/3]});return function(y){return b(g*y)}}return{format:u,formatPrefix:d}}var fc,g0,Zk;o9({thousands:",",grouping:[3],currency:["$",""]});function o9(e){return fc=i9(e),g0=fc.format,Zk=fc.formatPrefix,fc}function l9(e){return Math.max(0,-Yo(Math.abs(e)))}function s9(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Yo(t)/3)))*3-Yo(Math.abs(e)))}function u9(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Yo(t)-Yo(e))+1}function Jk(e,t,r,n){var a=Xg(e,t,r),i;switch(n=qs(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(i=s9(a,o))&&(n.precision=i),Zk(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=u9(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=l9(a))&&(n.precision=i-(n.type==="%")*2);break}}return g0(n)}function Wa(e){var t=e.domain;return e.ticks=function(r){var n=t();return Fg(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return Jk(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,i=n.length-1,o=n[a],l=n[i],s,u,d=10;for(l<o&&(u=o,o=l,l=u,u=a,a=i,i=u);d-- >0;){if(u=Yg(o,l,r),u===s)return n[a]=o,n[i]=l,t(n);if(u>0)o=Math.floor(o/u)*u,l=Math.ceil(l/u)*u;else if(u<0)o=Math.ceil(o*u)/u,l=Math.floor(l*u)/u;else break;s=u}return e},e}function Qk(){var e=m0();return e.copy=function(){return vu(e,Qk())},zr.apply(e,arguments),Wa(e)}function e2(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,Gd),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return e2(e).unknown(t)},e=arguments.length?Array.from(e,Gd):[0,1],Wa(r)}function t2(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],i=e[n],o;return i<a&&(o=r,r=n,n=o,o=a,a=i,i=o),e[r]=t.floor(a),e[n]=t.ceil(i),e}function w_(e){return Math.log(e)}function __(e){return Math.exp(e)}function c9(e){return-Math.log(-e)}function d9(e){return-Math.exp(-e)}function f9(e){return isFinite(e)?+("1e"+e):e<0?0:e}function h9(e){return e===10?f9:e===Math.E?Math.exp:t=>Math.pow(e,t)}function m9(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function S_(e){return(t,r)=>-e(-t,r)}function v0(e){const t=e(w_,__),r=t.domain;let n=10,a,i;function o(){return a=m9(n),i=h9(n),r()[0]<0?(a=S_(a),i=S_(i),e(c9,d9)):e(w_,__),t}return t.base=function(l){return arguments.length?(n=+l,o()):n},t.domain=function(l){return arguments.length?(r(l),o()):r()},t.ticks=l=>{const s=r();let u=s[0],d=s[s.length-1];const f=d<u;f&&([u,d]=[d,u]);let h=a(u),m=a(d),g,b;const y=l==null?10:+l;let v=[];if(!(n%1)&&m-h<y){if(h=Math.floor(h),m=Math.ceil(m),u>0){for(;h<=m;++h)for(g=1;g<n;++g)if(b=h<0?g/i(-h):g*i(h),!(b<u)){if(b>d)break;v.push(b)}}else for(;h<=m;++h)for(g=n-1;g>=1;--g)if(b=h>0?g/i(-h):g*i(h),!(b<u)){if(b>d)break;v.push(b)}v.length*2<y&&(v=Fg(u,d,y))}else v=Fg(h,m,Math.min(m-h,y)).map(i);return f?v.reverse():v},t.tickFormat=(l,s)=>{if(l==null&&(l=10),s==null&&(s=n===10?"s":","),typeof s!="function"&&(!(n%1)&&(s=qs(s)).precision==null&&(s.trim=!0),s=g0(s)),l===1/0)return s;const u=Math.max(1,n*l/t.ticks().length);return d=>{let f=d/i(Math.round(a(d)));return f*n<n-.5&&(f*=n),f<=u?s(d):""}},t.nice=()=>r(t2(r(),{floor:l=>i(Math.floor(a(l))),ceil:l=>i(Math.ceil(a(l)))})),t}function r2(){const e=v0(mh()).domain([1,10]);return e.copy=()=>vu(e,r2()).base(e.base()),zr.apply(e,arguments),e}function j_(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function E_(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function y0(e){var t=1,r=e(j_(t),E_(t));return r.constant=function(n){return arguments.length?e(j_(t=+n),E_(t)):t},Wa(r)}function n2(){var e=y0(mh());return e.copy=function(){return vu(e,n2()).constant(e.constant())},zr.apply(e,arguments)}function O_(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function p9(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function g9(e){return e<0?-e*e:e*e}function b0(e){var t=e(zt,zt),r=1;function n(){return r===1?e(zt,zt):r===.5?e(p9,g9):e(O_(r),O_(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},Wa(t)}function x0(){var e=b0(mh());return e.copy=function(){return vu(e,x0()).exponent(e.exponent())},zr.apply(e,arguments),e}function v9(){return x0.apply(null,arguments).exponent(.5)}function C_(e){return Math.sign(e)*e*e}function y9(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function a2(){var e=m0(),t=[0,1],r=!1,n;function a(i){var o=y9(e(i));return isNaN(o)?n:r?Math.round(o):o}return a.invert=function(i){return e.invert(C_(i))},a.domain=function(i){return arguments.length?(e.domain(i),a):e.domain()},a.range=function(i){return arguments.length?(e.range((t=Array.from(i,Gd)).map(C_)),a):t.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(r=!!i,a):r},a.clamp=function(i){return arguments.length?(e.clamp(i),a):e.clamp()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return a2(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},zr.apply(a,arguments),Wa(a)}function i2(){var e=[],t=[],r=[],n;function a(){var o=0,l=Math.max(1,t.length);for(r=new Array(l-1);++o<l;)r[o-1]=_6(e,o/l);return i}function i(o){return o==null||isNaN(o=+o)?n:t[pu(r,o)]}return i.invertExtent=function(o){var l=t.indexOf(o);return l<0?[NaN,NaN]:[l>0?r[l-1]:e[0],l<r.length?r[l]:e[e.length-1]]},i.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let l of o)l!=null&&!isNaN(l=+l)&&e.push(l);return e.sort(Ra),a()},i.range=function(o){return arguments.length?(t=Array.from(o),a()):t.slice()},i.unknown=function(o){return arguments.length?(n=o,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return i2().domain(e).range(t).unknown(n)},zr.apply(i,arguments)}function o2(){var e=0,t=1,r=1,n=[.5],a=[0,1],i;function o(s){return s!=null&&s<=s?a[pu(n,s,0,r)]:i}function l(){var s=-1;for(n=new Array(r);++s<r;)n[s]=((s+1)*t-(s-r)*e)/(r+1);return o}return o.domain=function(s){return arguments.length?([e,t]=s,e=+e,t=+t,l()):[e,t]},o.range=function(s){return arguments.length?(r=(a=Array.from(s)).length-1,l()):a.slice()},o.invertExtent=function(s){var u=a.indexOf(s);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},o.unknown=function(s){return arguments.length&&(i=s),o},o.thresholds=function(){return n.slice()},o.copy=function(){return o2().domain([e,t]).range(a).unknown(i)},zr.apply(Wa(o),arguments)}function l2(){var e=[.5],t=[0,1],r,n=1;function a(i){return i!=null&&i<=i?t[pu(e,i,0,n)]:r}return a.domain=function(i){return arguments.length?(e=Array.from(i),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(i){return arguments.length?(t=Array.from(i),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(i){var o=t.indexOf(i);return[e[o-1],e[o]]},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return l2().domain(e).range(t).unknown(r)},zr.apply(a,arguments)}const Fm=new Date,Ym=new Date;function ot(e,t,r,n){function a(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(e(i=new Date(+i)),i),a.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),a.round=i=>{const o=a(i),l=a.ceil(i);return i-o<l-i?o:l},a.offset=(i,o)=>(t(i=new Date(+i),o==null?1:Math.floor(o)),i),a.range=(i,o,l)=>{const s=[];if(i=a.ceil(i),l=l==null?1:Math.floor(l),!(i<o)||!(l>0))return s;let u;do s.push(u=new Date(+i)),t(i,l),e(i);while(u<i&&i<o);return s},a.filter=i=>ot(o=>{if(o>=o)for(;e(o),!i(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;t(o,-1),!i(o););else for(;--l>=0;)for(;t(o,1),!i(o););}),r&&(a.count=(i,o)=>(Fm.setTime(+i),Ym.setTime(+o),e(Fm),e(Ym),Math.floor(r(Fm,Ym))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(n?o=>n(o)%i===0:o=>a.count(0,o)%i===0):a)),a}const Xd=ot(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Xd.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?ot(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):Xd);Xd.range;const Cn=1e3,Tr=Cn*60,An=Tr*60,Hn=An*24,w0=Hn*7,A_=Hn*30,Xm=Hn*365,ui=ot(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Cn)},(e,t)=>(t-e)/Cn,e=>e.getUTCSeconds());ui.range;const _0=ot(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Cn)},(e,t)=>{e.setTime(+e+t*Tr)},(e,t)=>(t-e)/Tr,e=>e.getMinutes());_0.range;const S0=ot(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Tr)},(e,t)=>(t-e)/Tr,e=>e.getUTCMinutes());S0.range;const j0=ot(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Cn-e.getMinutes()*Tr)},(e,t)=>{e.setTime(+e+t*An)},(e,t)=>(t-e)/An,e=>e.getHours());j0.range;const E0=ot(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*An)},(e,t)=>(t-e)/An,e=>e.getUTCHours());E0.range;const yu=ot(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Tr)/Hn,e=>e.getDate()-1);yu.range;const ph=ot(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Hn,e=>e.getUTCDate()-1);ph.range;const s2=ot(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Hn,e=>Math.floor(e/Hn));s2.range;function Li(e){return ot(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Tr)/w0)}const gh=Li(0),Zd=Li(1),b9=Li(2),x9=Li(3),Xo=Li(4),w9=Li(5),_9=Li(6);gh.range;Zd.range;b9.range;x9.range;Xo.range;w9.range;_9.range;function Ui(e){return ot(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/w0)}const vh=Ui(0),Jd=Ui(1),S9=Ui(2),j9=Ui(3),Zo=Ui(4),E9=Ui(5),O9=Ui(6);vh.range;Jd.range;S9.range;j9.range;Zo.range;E9.range;O9.range;const O0=ot(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());O0.range;const C0=ot(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());C0.range;const Wn=ot(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Wn.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ot(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Wn.range;const Vn=ot(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Vn.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ot(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});Vn.range;function u2(e,t,r,n,a,i){const o=[[ui,1,Cn],[ui,5,5*Cn],[ui,15,15*Cn],[ui,30,30*Cn],[i,1,Tr],[i,5,5*Tr],[i,15,15*Tr],[i,30,30*Tr],[a,1,An],[a,3,3*An],[a,6,6*An],[a,12,12*An],[n,1,Hn],[n,2,2*Hn],[r,1,w0],[t,1,A_],[t,3,3*A_],[e,1,Xm]];function l(u,d,f){const h=d<u;h&&([u,d]=[d,u]);const m=f&&typeof f.range=="function"?f:s(u,d,f),g=m?m.range(u,+d+1):[];return h?g.reverse():g}function s(u,d,f){const h=Math.abs(d-u)/f,m=s0(([,,y])=>y).right(o,h);if(m===o.length)return e.every(Xg(u/Xm,d/Xm,f));if(m===0)return Xd.every(Math.max(Xg(u,d,f),1));const[g,b]=o[h/o[m-1][2]<o[m][2]/h?m-1:m];return g.every(b)}return[l,s]}const[C9,A9]=u2(Vn,C0,vh,s2,E0,S0),[T9,k9]=u2(Wn,O0,gh,yu,j0,_0);function Zm(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Jm(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function zl(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function N9(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,i=e.days,o=e.shortDays,l=e.months,s=e.shortMonths,u=Bl(a),d=Il(a),f=Bl(i),h=Il(i),m=Bl(o),g=Il(o),b=Bl(l),y=Il(l),v=Bl(s),p=Il(s),w={a:k,A:D,b:L,B:H,c:null,d:M_,e:M_,f:eq,g:cq,G:fq,H:Z9,I:J9,j:Q9,L:c2,m:tq,M:rq,p:le,q:ue,Q:B_,s:I_,S:nq,u:aq,U:iq,V:oq,w:lq,W:sq,x:null,X:null,y:uq,Y:dq,Z:hq,"%":z_},_={a:ce,A:de,b:Ee,B:z,c:null,d:D_,e:D_,f:vq,g:Cq,G:Tq,H:mq,I:pq,j:gq,L:f2,m:yq,M:bq,p:W,q:se,Q:B_,s:I_,S:xq,u:wq,U:_q,V:Sq,w:jq,W:Eq,x:null,X:null,y:Oq,Y:Aq,Z:kq,"%":z_},j={a:N,A:I,b:P,B:K,c:T,d:P_,e:P_,f:G9,g:N_,G:k_,H:R_,I:R_,j:H9,L:K9,m:q9,M:W9,p:A,q:U9,Q:Y9,s:X9,S:V9,u:z9,U:B9,V:I9,w:D9,W:$9,x:q,X:C,y:N_,Y:k_,Z:L9,"%":F9};w.x=S(r,w),w.X=S(n,w),w.c=S(t,w),_.x=S(r,_),_.X=S(n,_),_.c=S(t,_);function S(M,Y){return function(ee){var $=[],Ut=-1,Oe=0,Qt=M.length,er,Ka,yb;for(ee instanceof Date||(ee=new Date(+ee));++Ut<Qt;)M.charCodeAt(Ut)===37&&($.push(M.slice(Oe,Ut)),(Ka=T_[er=M.charAt(++Ut)])!=null?er=M.charAt(++Ut):Ka=er==="e"?" ":"0",(yb=Y[er])&&(er=yb(ee,Ka)),$.push(er),Oe=Ut+1);return $.push(M.slice(Oe,Ut)),$.join("")}}function E(M,Y){return function(ee){var $=zl(1900,void 0,1),Ut=O($,M,ee+="",0),Oe,Qt;if(Ut!=ee.length)return null;if("Q"in $)return new Date($.Q);if("s"in $)return new Date($.s*1e3+("L"in $?$.L:0));if(Y&&!("Z"in $)&&($.Z=0),"p"in $&&($.H=$.H%12+$.p*12),$.m===void 0&&($.m="q"in $?$.q:0),"V"in $){if($.V<1||$.V>53)return null;"w"in $||($.w=1),"Z"in $?(Oe=Jm(zl($.y,0,1)),Qt=Oe.getUTCDay(),Oe=Qt>4||Qt===0?Jd.ceil(Oe):Jd(Oe),Oe=ph.offset(Oe,($.V-1)*7),$.y=Oe.getUTCFullYear(),$.m=Oe.getUTCMonth(),$.d=Oe.getUTCDate()+($.w+6)%7):(Oe=Zm(zl($.y,0,1)),Qt=Oe.getDay(),Oe=Qt>4||Qt===0?Zd.ceil(Oe):Zd(Oe),Oe=yu.offset(Oe,($.V-1)*7),$.y=Oe.getFullYear(),$.m=Oe.getMonth(),$.d=Oe.getDate()+($.w+6)%7)}else("W"in $||"U"in $)&&("w"in $||($.w="u"in $?$.u%7:"W"in $?1:0),Qt="Z"in $?Jm(zl($.y,0,1)).getUTCDay():Zm(zl($.y,0,1)).getDay(),$.m=0,$.d="W"in $?($.w+6)%7+$.W*7-(Qt+5)%7:$.w+$.U*7-(Qt+6)%7);return"Z"in $?($.H+=$.Z/100|0,$.M+=$.Z%100,Jm($)):Zm($)}}function O(M,Y,ee,$){for(var Ut=0,Oe=Y.length,Qt=ee.length,er,Ka;Ut<Oe;){if($>=Qt)return-1;if(er=Y.charCodeAt(Ut++),er===37){if(er=Y.charAt(Ut++),Ka=j[er in T_?Y.charAt(Ut++):er],!Ka||($=Ka(M,ee,$))<0)return-1}else if(er!=ee.charCodeAt($++))return-1}return $}function A(M,Y,ee){var $=u.exec(Y.slice(ee));return $?(M.p=d.get($[0].toLowerCase()),ee+$[0].length):-1}function N(M,Y,ee){var $=m.exec(Y.slice(ee));return $?(M.w=g.get($[0].toLowerCase()),ee+$[0].length):-1}function I(M,Y,ee){var $=f.exec(Y.slice(ee));return $?(M.w=h.get($[0].toLowerCase()),ee+$[0].length):-1}function P(M,Y,ee){var $=v.exec(Y.slice(ee));return $?(M.m=p.get($[0].toLowerCase()),ee+$[0].length):-1}function K(M,Y,ee){var $=b.exec(Y.slice(ee));return $?(M.m=y.get($[0].toLowerCase()),ee+$[0].length):-1}function T(M,Y,ee){return O(M,t,Y,ee)}function q(M,Y,ee){return O(M,r,Y,ee)}function C(M,Y,ee){return O(M,n,Y,ee)}function k(M){return o[M.getDay()]}function D(M){return i[M.getDay()]}function L(M){return s[M.getMonth()]}function H(M){return l[M.getMonth()]}function le(M){return a[+(M.getHours()>=12)]}function ue(M){return 1+~~(M.getMonth()/3)}function ce(M){return o[M.getUTCDay()]}function de(M){return i[M.getUTCDay()]}function Ee(M){return s[M.getUTCMonth()]}function z(M){return l[M.getUTCMonth()]}function W(M){return a[+(M.getUTCHours()>=12)]}function se(M){return 1+~~(M.getUTCMonth()/3)}return{format:function(M){var Y=S(M+="",w);return Y.toString=function(){return M},Y},parse:function(M){var Y=E(M+="",!1);return Y.toString=function(){return M},Y},utcFormat:function(M){var Y=S(M+="",_);return Y.toString=function(){return M},Y},utcParse:function(M){var Y=E(M+="",!0);return Y.toString=function(){return M},Y}}}var T_={"-":"",_:" ",0:"0"},yt=/^\s*\d+/,P9=/^%/,R9=/[\\^$*+?|[\]().{}]/g;function fe(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",i=a.length;return n+(i<r?new Array(r-i+1).join(t)+a:a)}function M9(e){return e.replace(R9,"\\$&")}function Bl(e){return new RegExp("^(?:"+e.map(M9).join("|")+")","i")}function Il(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function D9(e,t,r){var n=yt.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function z9(e,t,r){var n=yt.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function B9(e,t,r){var n=yt.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function I9(e,t,r){var n=yt.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function $9(e,t,r){var n=yt.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function k_(e,t,r){var n=yt.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function N_(e,t,r){var n=yt.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function L9(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function U9(e,t,r){var n=yt.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function q9(e,t,r){var n=yt.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function P_(e,t,r){var n=yt.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function H9(e,t,r){var n=yt.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function R_(e,t,r){var n=yt.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function W9(e,t,r){var n=yt.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function V9(e,t,r){var n=yt.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function K9(e,t,r){var n=yt.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function G9(e,t,r){var n=yt.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function F9(e,t,r){var n=P9.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function Y9(e,t,r){var n=yt.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function X9(e,t,r){var n=yt.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function M_(e,t){return fe(e.getDate(),t,2)}function Z9(e,t){return fe(e.getHours(),t,2)}function J9(e,t){return fe(e.getHours()%12||12,t,2)}function Q9(e,t){return fe(1+yu.count(Wn(e),e),t,3)}function c2(e,t){return fe(e.getMilliseconds(),t,3)}function eq(e,t){return c2(e,t)+"000"}function tq(e,t){return fe(e.getMonth()+1,t,2)}function rq(e,t){return fe(e.getMinutes(),t,2)}function nq(e,t){return fe(e.getSeconds(),t,2)}function aq(e){var t=e.getDay();return t===0?7:t}function iq(e,t){return fe(gh.count(Wn(e)-1,e),t,2)}function d2(e){var t=e.getDay();return t>=4||t===0?Xo(e):Xo.ceil(e)}function oq(e,t){return e=d2(e),fe(Xo.count(Wn(e),e)+(Wn(e).getDay()===4),t,2)}function lq(e){return e.getDay()}function sq(e,t){return fe(Zd.count(Wn(e)-1,e),t,2)}function uq(e,t){return fe(e.getFullYear()%100,t,2)}function cq(e,t){return e=d2(e),fe(e.getFullYear()%100,t,2)}function dq(e,t){return fe(e.getFullYear()%1e4,t,4)}function fq(e,t){var r=e.getDay();return e=r>=4||r===0?Xo(e):Xo.ceil(e),fe(e.getFullYear()%1e4,t,4)}function hq(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+fe(t/60|0,"0",2)+fe(t%60,"0",2)}function D_(e,t){return fe(e.getUTCDate(),t,2)}function mq(e,t){return fe(e.getUTCHours(),t,2)}function pq(e,t){return fe(e.getUTCHours()%12||12,t,2)}function gq(e,t){return fe(1+ph.count(Vn(e),e),t,3)}function f2(e,t){return fe(e.getUTCMilliseconds(),t,3)}function vq(e,t){return f2(e,t)+"000"}function yq(e,t){return fe(e.getUTCMonth()+1,t,2)}function bq(e,t){return fe(e.getUTCMinutes(),t,2)}function xq(e,t){return fe(e.getUTCSeconds(),t,2)}function wq(e){var t=e.getUTCDay();return t===0?7:t}function _q(e,t){return fe(vh.count(Vn(e)-1,e),t,2)}function h2(e){var t=e.getUTCDay();return t>=4||t===0?Zo(e):Zo.ceil(e)}function Sq(e,t){return e=h2(e),fe(Zo.count(Vn(e),e)+(Vn(e).getUTCDay()===4),t,2)}function jq(e){return e.getUTCDay()}function Eq(e,t){return fe(Jd.count(Vn(e)-1,e),t,2)}function Oq(e,t){return fe(e.getUTCFullYear()%100,t,2)}function Cq(e,t){return e=h2(e),fe(e.getUTCFullYear()%100,t,2)}function Aq(e,t){return fe(e.getUTCFullYear()%1e4,t,4)}function Tq(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Zo(e):Zo.ceil(e),fe(e.getUTCFullYear()%1e4,t,4)}function kq(){return"+0000"}function z_(){return"%"}function B_(e){return+e}function I_(e){return Math.floor(+e/1e3)}var Zi,m2,p2;Nq({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Nq(e){return Zi=N9(e),m2=Zi.format,Zi.parse,p2=Zi.utcFormat,Zi.utcParse,Zi}function Pq(e){return new Date(e)}function Rq(e){return e instanceof Date?+e:+new Date(+e)}function A0(e,t,r,n,a,i,o,l,s,u){var d=m0(),f=d.invert,h=d.domain,m=u(".%L"),g=u(":%S"),b=u("%I:%M"),y=u("%I %p"),v=u("%a %d"),p=u("%b %d"),w=u("%B"),_=u("%Y");function j(S){return(s(S)<S?m:l(S)<S?g:o(S)<S?b:i(S)<S?y:n(S)<S?a(S)<S?v:p:r(S)<S?w:_)(S)}return d.invert=function(S){return new Date(f(S))},d.domain=function(S){return arguments.length?h(Array.from(S,Rq)):h().map(Pq)},d.ticks=function(S){var E=h();return e(E[0],E[E.length-1],S??10)},d.tickFormat=function(S,E){return E==null?j:u(E)},d.nice=function(S){var E=h();return(!S||typeof S.range!="function")&&(S=t(E[0],E[E.length-1],S??10)),S?h(t2(E,S)):d},d.copy=function(){return vu(d,A0(e,t,r,n,a,i,o,l,s,u))},d}function Mq(){return zr.apply(A0(T9,k9,Wn,O0,gh,yu,j0,_0,ui,m2).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Dq(){return zr.apply(A0(C9,A9,Vn,C0,vh,ph,E0,S0,ui,p2).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function yh(){var e=0,t=1,r,n,a,i,o=zt,l=!1,s;function u(f){return f==null||isNaN(f=+f)?s:o(a===0?.5:(f=(i(f)-r)*a,l?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,r=i(e=+e),n=i(t=+t),a=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(f){return arguments.length?(l=!!f,u):l},u.interpolator=function(f){return arguments.length?(o=f,u):o};function d(f){return function(h){var m,g;return arguments.length?([m,g]=h,o=f(m,g),u):[o(0),o(1)]}}return u.range=d(vl),u.rangeRound=d(h0),u.unknown=function(f){return arguments.length?(s=f,u):s},function(f){return i=f,r=f(e),n=f(t),a=r===n?0:1/(n-r),u}}function Va(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function g2(){var e=Wa(yh()(zt));return e.copy=function(){return Va(e,g2())},Jn.apply(e,arguments)}function v2(){var e=v0(yh()).domain([1,10]);return e.copy=function(){return Va(e,v2()).base(e.base())},Jn.apply(e,arguments)}function y2(){var e=y0(yh());return e.copy=function(){return Va(e,y2()).constant(e.constant())},Jn.apply(e,arguments)}function T0(){var e=b0(yh());return e.copy=function(){return Va(e,T0()).exponent(e.exponent())},Jn.apply(e,arguments)}function zq(){return T0.apply(null,arguments).exponent(.5)}function b2(){var e=[],t=zt;function r(n){if(n!=null&&!isNaN(n=+n))return t((pu(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(Ra),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,i)=>w6(e,i/n))},r.copy=function(){return b2(t).domain(e)},Jn.apply(r,arguments)}function bh(){var e=0,t=.5,r=1,n=1,a,i,o,l,s,u=zt,d,f=!1,h;function m(b){return isNaN(b=+b)?h:(b=.5+((b=+d(b))-i)*(n*b<n*i?l:s),u(f?Math.max(0,Math.min(1,b)):b))}m.domain=function(b){return arguments.length?([e,t,r]=b,a=d(e=+e),i=d(t=+t),o=d(r=+r),l=a===i?0:.5/(i-a),s=i===o?0:.5/(o-i),n=i<a?-1:1,m):[e,t,r]},m.clamp=function(b){return arguments.length?(f=!!b,m):f},m.interpolator=function(b){return arguments.length?(u=b,m):u};function g(b){return function(y){var v,p,w;return arguments.length?([v,p,w]=y,u=F6(b,[v,p,w]),m):[u(0),u(.5),u(1)]}}return m.range=g(vl),m.rangeRound=g(h0),m.unknown=function(b){return arguments.length?(h=b,m):h},function(b){return d=b,a=b(e),i=b(t),o=b(r),l=a===i?0:.5/(i-a),s=i===o?0:.5/(o-i),n=i<a?-1:1,m}}function x2(){var e=Wa(bh()(zt));return e.copy=function(){return Va(e,x2())},Jn.apply(e,arguments)}function w2(){var e=v0(bh()).domain([.1,1,10]);return e.copy=function(){return Va(e,w2()).base(e.base())},Jn.apply(e,arguments)}function _2(){var e=y0(bh());return e.copy=function(){return Va(e,_2()).constant(e.constant())},Jn.apply(e,arguments)}function k0(){var e=b0(bh());return e.copy=function(){return Va(e,k0()).exponent(e.exponent())},Jn.apply(e,arguments)}function Bq(){return k0.apply(null,arguments).exponent(.5)}const Gl=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:c0,scaleDiverging:x2,scaleDivergingLog:w2,scaleDivergingPow:k0,scaleDivergingSqrt:Bq,scaleDivergingSymlog:_2,scaleIdentity:e2,scaleImplicit:Zg,scaleLinear:Qk,scaleLog:r2,scaleOrdinal:u0,scalePoint:j6,scalePow:x0,scaleQuantile:i2,scaleQuantize:o2,scaleRadial:a2,scaleSequential:g2,scaleSequentialLog:v2,scaleSequentialPow:T0,scaleSequentialQuantile:b2,scaleSequentialSqrt:zq,scaleSequentialSymlog:y2,scaleSqrt:v9,scaleSymlog:n2,scaleThreshold:l2,scaleTime:Mq,scaleUtc:Dq,tickFormat:Jk},Symbol.toStringTag,{value:"Module"}));var Qn=e=>e.chartData,S2=R([Qn],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),j2=(e,t,r,n)=>n?S2(e):Qn(e),Iq=(e,t,r)=>r?S2(e):Qn(e);function Ia(e){if(Array.isArray(e)&&e.length===2){var[t,r]=e;if(Le(t)&&Le(r))return!0}return!1}function $_(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function E2(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[r,n]=e,a,i;if(Le(r))a=r;else if(typeof r=="function")return;if(Le(n))i=n;else if(typeof n=="function")return;var o=[a,i];if(Ia(o))return o}}function $q(e,t,r){if(!(!r&&t==null)){if(typeof e=="function"&&t!=null)try{var n=e(t,r);if(Ia(n))return $_(n,t,r)}catch{}if(Array.isArray(e)&&e.length===2){var[a,i]=e,o,l;if(a==="auto")t!=null&&(o=Math.min(...t));else if(F(a))o=a;else if(typeof a=="function")try{t!=null&&(o=a(t==null?void 0:t[0]))}catch{}else if(typeof a=="string"&&ow.test(a)){var s=ow.exec(a);if(s==null||s[1]==null||t==null)o=void 0;else{var u=+s[1];o=t[0]-u}}else o=t==null?void 0:t[0];if(i==="auto")t!=null&&(l=Math.max(...t));else if(F(i))l=i;else if(typeof i=="function")try{t!=null&&(l=i(t==null?void 0:t[1]))}catch{}else if(typeof i=="string"&&lw.test(i)){var d=lw.exec(i);if(d==null||d[1]==null||t==null)l=void 0;else{var f=+d[1];l=t[1]+f}}else l=t==null?void 0:t[1];var h=[o,l];if(Ia(h))return t==null?h:$_(h,t,r)}}}var yl=1e9,Lq={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},P0,Ie=!0,Dr="[DecimalError] ",bi=Dr+"Invalid argument: ",N0=Dr+"Exponent out of range: ",bl=Math.floor,ni=Math.pow,Uq=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,lr,ft=1e7,Ne=7,O2=9007199254740991,Qd=bl(O2/Ne),V={};V.absoluteValue=V.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};V.comparedTo=V.cmp=function(e){var t,r,n,a,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(n=i.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return n===a?0:n>a^i.s<0?1:-1};V.decimalPlaces=V.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Ne;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};V.dividedBy=V.div=function(e){return Pn(this,new this.constructor(e))};V.dividedToIntegerBy=V.idiv=function(e){var t=this,r=t.constructor;return we(Pn(t,new r(e),0,1),r.precision)};V.equals=V.eq=function(e){return!this.cmp(e)};V.exponent=function(){return tt(this)};V.greaterThan=V.gt=function(e){return this.cmp(e)>0};V.greaterThanOrEqualTo=V.gte=function(e){return this.cmp(e)>=0};V.isInteger=V.isint=function(){return this.e>this.d.length-2};V.isNegative=V.isneg=function(){return this.s<0};V.isPositive=V.ispos=function(){return this.s>0};V.isZero=function(){return this.s===0};V.lessThan=V.lt=function(e){return this.cmp(e)<0};V.lessThanOrEqualTo=V.lte=function(e){return this.cmp(e)<1};V.logarithm=V.log=function(e){var t,r=this,n=r.constructor,a=n.precision,i=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(lr))throw Error(Dr+"NaN");if(r.s<1)throw Error(Dr+(r.s?"NaN":"-Infinity"));return r.eq(lr)?new n(0):(Ie=!1,t=Pn(Hs(r,i),Hs(e,i),i),Ie=!0,we(t,a))};V.minus=V.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?T2(t,e):C2(t,(e.s=-e.s,e))};V.modulo=V.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(Dr+"NaN");return r.s?(Ie=!1,t=Pn(r,e,0,1).times(e),Ie=!0,r.minus(t)):we(new n(r),a)};V.naturalExponential=V.exp=function(){return A2(this)};V.naturalLogarithm=V.ln=function(){return Hs(this)};V.negated=V.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};V.plus=V.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?C2(t,e):T2(t,(e.s=-e.s,e))};V.precision=V.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(bi+e);if(t=tt(a)+1,n=a.d.length-1,r=n*Ne+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};V.squareRoot=V.sqrt=function(){var e,t,r,n,a,i,o,l=this,s=l.constructor;if(l.s<1){if(!l.s)return new s(0);throw Error(Dr+"NaN")}for(e=tt(l),Ie=!1,a=Math.sqrt(+l),a==0||a==1/0?(t=an(l.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=bl((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new s(t)):n=new s(a.toString()),r=s.precision,a=o=r+3;;)if(i=n,n=i.plus(Pn(l,i,o+2)).times(.5),an(i.d).slice(0,o)===(t=an(n.d)).slice(0,o)){if(t=t.slice(o-3,o+1),a==o&&t=="4999"){if(we(i,r+1,0),i.times(i).eq(l)){n=i;break}}else if(t!="9999")break;o+=4}return Ie=!0,we(n,r)};V.times=V.mul=function(e){var t,r,n,a,i,o,l,s,u,d=this,f=d.constructor,h=d.d,m=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,r=d.e+e.e,s=h.length,u=m.length,s<u&&(i=h,h=m,m=i,o=s,s=u,u=o),i=[],o=s+u,n=o;n--;)i.push(0);for(n=u;--n>=0;){for(t=0,a=s+n;a>n;)l=i[a]+m[n]*h[a-n-1]+t,i[a--]=l%ft|0,t=l/ft|0;i[a]=(i[a]+t)%ft|0}for(;!i[--o];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,Ie?we(e,f.precision):e};V.toDecimalPlaces=V.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(cn(e,0,yl),t===void 0?t=n.rounding:cn(t,0,8),we(r,e+tt(r)+1,t))};V.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=ki(n,!0):(cn(e,0,yl),t===void 0?t=a.rounding:cn(t,0,8),n=we(new a(n),e+1,t),r=ki(n,!0,e+1)),r};V.toFixed=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?ki(a):(cn(e,0,yl),t===void 0?t=i.rounding:cn(t,0,8),n=we(new i(a),e+tt(a)+1,t),r=ki(n.abs(),!1,e+tt(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};V.toInteger=V.toint=function(){var e=this,t=e.constructor;return we(new t(e),tt(e)+1,t.rounding)};V.toNumber=function(){return+this};V.toPower=V.pow=function(e){var t,r,n,a,i,o,l=this,s=l.constructor,u=12,d=+(e=new s(e));if(!e.s)return new s(lr);if(l=new s(l),!l.s){if(e.s<1)throw Error(Dr+"Infinity");return l}if(l.eq(lr))return l;if(n=s.precision,e.eq(lr))return we(l,n);if(t=e.e,r=e.d.length-1,o=t>=r,i=l.s,o){if((r=d<0?-d:d)<=O2){for(a=new s(lr),t=Math.ceil(n/Ne+4),Ie=!1;r%2&&(a=a.times(l),U_(a.d,t)),r=bl(r/2),r!==0;)l=l.times(l),U_(l.d,t);return Ie=!0,e.s<0?new s(lr).div(a):we(a,n)}}else if(i<0)throw Error(Dr+"NaN");return i=i<0&&e.d[Math.max(t,r)]&1?-1:1,l.s=1,Ie=!1,a=e.times(Hs(l,n+u)),Ie=!0,a=A2(a),a.s=i,a};V.toPrecision=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?(r=tt(a),n=ki(a,r<=i.toExpNeg||r>=i.toExpPos)):(cn(e,1,yl),t===void 0?t=i.rounding:cn(t,0,8),a=we(new i(a),e,t),r=tt(a),n=ki(a,e<=r||r<=i.toExpNeg,e)),n};V.toSignificantDigits=V.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(cn(e,1,yl),t===void 0?t=n.rounding:cn(t,0,8)),we(new n(r),e,t)};V.toString=V.valueOf=V.val=V.toJSON=V[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=tt(e),r=e.constructor;return ki(e,t<=r.toExpNeg||t>=r.toExpPos)};function C2(e,t){var r,n,a,i,o,l,s,u,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),Ie?we(t,f):t;if(s=e.d,u=t.d,o=e.e,a=t.e,s=s.slice(),i=o-a,i){for(i<0?(n=s,i=-i,l=u.length):(n=u,a=o,l=s.length),o=Math.ceil(f/Ne),l=o>l?o+1:l+1,i>l&&(i=l,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(l=s.length,i=u.length,l-i<0&&(i=l,n=u,u=s,s=n),r=0;i;)r=(s[--i]=s[i]+u[i]+r)/ft|0,s[i]%=ft;for(r&&(s.unshift(r),++a),l=s.length;s[--l]==0;)s.pop();return t.d=s,t.e=a,Ie?we(t,f):t}function cn(e,t,r){if(e!==~~e||e<t||e>r)throw Error(bi+e)}function an(e){var t,r,n,a=e.length-1,i="",o=e[0];if(a>0){for(i+=o,t=1;t<a;t++)n=e[t]+"",r=Ne-n.length,r&&(i+=ua(r)),i+=n;o=e[t],n=o+"",r=Ne-n.length,r&&(i+=ua(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var Pn=function(){function e(n,a){var i,o=0,l=n.length;for(n=n.slice();l--;)i=n[l]*a+o,n[l]=i%ft|0,o=i/ft|0;return o&&n.unshift(o),n}function t(n,a,i,o){var l,s;if(i!=o)s=i>o?1:-1;else for(l=s=0;l<i;l++)if(n[l]!=a[l]){s=n[l]>a[l]?1:-1;break}return s}function r(n,a,i){for(var o=0;i--;)n[i]-=o,o=n[i]<a[i]?1:0,n[i]=o*ft+n[i]-a[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,i,o){var l,s,u,d,f,h,m,g,b,y,v,p,w,_,j,S,E,O,A=n.constructor,N=n.s==a.s?1:-1,I=n.d,P=a.d;if(!n.s)return new A(n);if(!a.s)throw Error(Dr+"Division by zero");for(s=n.e-a.e,E=P.length,j=I.length,m=new A(N),g=m.d=[],u=0;P[u]==(I[u]||0);)++u;if(P[u]>(I[u]||0)&&--s,i==null?p=i=A.precision:o?p=i+(tt(n)-tt(a))+1:p=i,p<0)return new A(0);if(p=p/Ne+2|0,u=0,E==1)for(d=0,P=P[0],p++;(u<j||d)&&p--;u++)w=d*ft+(I[u]||0),g[u]=w/P|0,d=w%P|0;else{for(d=ft/(P[0]+1)|0,d>1&&(P=e(P,d),I=e(I,d),E=P.length,j=I.length),_=E,b=I.slice(0,E),y=b.length;y<E;)b[y++]=0;O=P.slice(),O.unshift(0),S=P[0],P[1]>=ft/2&&++S;do d=0,l=t(P,b,E,y),l<0?(v=b[0],E!=y&&(v=v*ft+(b[1]||0)),d=v/S|0,d>1?(d>=ft&&(d=ft-1),f=e(P,d),h=f.length,y=b.length,l=t(f,b,h,y),l==1&&(d--,r(f,E<h?O:P,h))):(d==0&&(l=d=1),f=P.slice()),h=f.length,h<y&&f.unshift(0),r(b,f,y),l==-1&&(y=b.length,l=t(P,b,E,y),l<1&&(d++,r(b,E<y?O:P,y))),y=b.length):l===0&&(d++,b=[0]),g[u++]=d,l&&b[0]?b[y++]=I[_]||0:(b=[I[_]],y=1);while((_++<j||b[0]!==void 0)&&p--)}return g[0]||g.shift(),m.e=s,we(m,o?i+tt(m)+1:i)}}();function A2(e,t){var r,n,a,i,o,l,s=0,u=0,d=e.constructor,f=d.precision;if(tt(e)>16)throw Error(N0+tt(e));if(!e.s)return new d(lr);for(Ie=!1,l=f,o=new d(.03125);e.abs().gte(.1);)e=e.times(o),u+=5;for(n=Math.log(ni(2,u))/Math.LN10*2+5|0,l+=n,r=a=i=new d(lr),d.precision=l;;){if(a=we(a.times(e),l),r=r.times(++s),o=i.plus(Pn(a,r,l)),an(o.d).slice(0,l)===an(i.d).slice(0,l)){for(;u--;)i=we(i.times(i),l);return d.precision=f,t==null?(Ie=!0,we(i,f)):i}i=o}}function tt(e){for(var t=e.e*Ne,r=e.d[0];r>=10;r/=10)t++;return t}function Qm(e,t,r){if(t>e.LN10.sd())throw Ie=!0,r&&(e.precision=r),Error(Dr+"LN10 precision limit exceeded");return we(new e(e.LN10),t)}function ua(e){for(var t="";e--;)t+="0";return t}function Hs(e,t){var r,n,a,i,o,l,s,u,d,f=1,h=10,m=e,g=m.d,b=m.constructor,y=b.precision;if(m.s<1)throw Error(Dr+(m.s?"NaN":"-Infinity"));if(m.eq(lr))return new b(0);if(t==null?(Ie=!1,u=y):u=t,m.eq(10))return t==null&&(Ie=!0),Qm(b,u);if(u+=h,b.precision=u,r=an(g),n=r.charAt(0),i=tt(m),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)m=m.times(e),r=an(m.d),n=r.charAt(0),f++;i=tt(m),n>1?(m=new b("0."+r),i++):m=new b(n+"."+r.slice(1))}else return s=Qm(b,u+2,y).times(i+""),m=Hs(new b(n+"."+r.slice(1)),u-h).plus(s),b.precision=y,t==null?(Ie=!0,we(m,y)):m;for(l=o=m=Pn(m.minus(lr),m.plus(lr),u),d=we(m.times(m),u),a=3;;){if(o=we(o.times(d),u),s=l.plus(Pn(o,new b(a),u)),an(s.d).slice(0,u)===an(l.d).slice(0,u))return l=l.times(2),i!==0&&(l=l.plus(Qm(b,u+2,y).times(i+""))),l=Pn(l,new b(f),u),b.precision=y,t==null?(Ie=!0,we(l,y)):l;l=s,a+=2}}function L_(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=bl(r/Ne),e.d=[],n=(r+1)%Ne,r<0&&(n+=Ne),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=Ne;n<a;)e.d.push(+t.slice(n,n+=Ne));t=t.slice(n),n=Ne-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),Ie&&(e.e>Qd||e.e<-Qd))throw Error(N0+r)}else e.s=0,e.e=0,e.d=[0];return e}function we(e,t,r){var n,a,i,o,l,s,u,d,f=e.d;for(o=1,i=f[0];i>=10;i/=10)o++;if(n=t-o,n<0)n+=Ne,a=t,u=f[d=0];else{if(d=Math.ceil((n+1)/Ne),i=f.length,d>=i)return e;for(u=i=f[d],o=1;i>=10;i/=10)o++;n%=Ne,a=n-Ne+o}if(r!==void 0&&(i=ni(10,o-a-1),l=u/i%10|0,s=t<0||f[d+1]!==void 0||u%i,s=r<4?(l||s)&&(r==0||r==(e.s<0?3:2)):l>5||l==5&&(r==4||s||r==6&&(n>0?a>0?u/ni(10,o-a):0:f[d-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return s?(i=tt(e),f.length=1,t=t-i-1,f[0]=ni(10,(Ne-t%Ne)%Ne),e.e=bl(-t/Ne)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(n==0?(f.length=d,i=1,d--):(f.length=d+1,i=ni(10,Ne-n),f[d]=a>0?(u/ni(10,o-a)%ni(10,a)|0)*i:0),s)for(;;)if(d==0){(f[0]+=i)==ft&&(f[0]=1,++e.e);break}else{if(f[d]+=i,f[d]!=ft)break;f[d--]=0,i=1}for(n=f.length;f[--n]===0;)f.pop();if(Ie&&(e.e>Qd||e.e<-Qd))throw Error(N0+tt(e));return e}function T2(e,t){var r,n,a,i,o,l,s,u,d,f,h=e.constructor,m=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),Ie?we(t,m):t;if(s=e.d,f=t.d,n=t.e,u=e.e,s=s.slice(),o=u-n,o){for(d=o<0,d?(r=s,o=-o,l=f.length):(r=f,n=u,l=s.length),a=Math.max(Math.ceil(m/Ne),l)+2,o>a&&(o=a,r.length=1),r.reverse(),a=o;a--;)r.push(0);r.reverse()}else{for(a=s.length,l=f.length,d=a<l,d&&(l=a),a=0;a<l;a++)if(s[a]!=f[a]){d=s[a]<f[a];break}o=0}for(d&&(r=s,s=f,f=r,t.s=-t.s),l=s.length,a=f.length-l;a>0;--a)s[l++]=0;for(a=f.length;a>o;){if(s[--a]<f[a]){for(i=a;i&&s[--i]===0;)s[i]=ft-1;--s[i],s[a]+=ft}s[a]-=f[a]}for(;s[--l]===0;)s.pop();for(;s[0]===0;s.shift())--n;return s[0]?(t.d=s,t.e=n,Ie?we(t,m):t):new h(0)}function ki(e,t,r){var n,a=tt(e),i=an(e.d),o=i.length;return t?(r&&(n=r-o)>0?i=i.charAt(0)+"."+i.slice(1)+ua(n):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+ua(-a-1)+i,r&&(n=r-o)>0&&(i+=ua(n))):a>=o?(i+=ua(a+1-o),r&&(n=r-a-1)>0&&(i=i+"."+ua(n))):((n=a+1)<o&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-o)>0&&(a+1===o&&(i+="."),i+=ua(n))),e.s<0?"-"+i:i}function U_(e,t){if(e.length>t)return e.length=t,!0}function k2(e){var t,r,n;function a(i){var o=this;if(!(o instanceof a))return new a(i);if(o.constructor=a,i instanceof a){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(bi+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return L_(o,i.toString())}else if(typeof i!="string")throw Error(bi+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,Uq.test(i))L_(o,i);else throw Error(bi+i)}if(a.prototype=V,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=k2,a.config=a.set=qq,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function qq(e){if(!e||typeof e!="object")throw Error(Dr+"Object expected");var t,r,n,a=["precision",1,yl,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if(bl(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(bi+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(bi+r+": "+n);return this}var P0=k2(Lq);lr=new P0(1);const ge=P0;var Hq=e=>e,N2={},P2=e=>e===N2,q_=e=>function t(){return arguments.length===0||arguments.length===1&&P2(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},R2=(e,t)=>e===1?t:q_(function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];var i=n.filter(o=>o!==N2).length;return i>=e?t(...n):R2(e-i,q_(function(){for(var o=arguments.length,l=new Array(o),s=0;s<o;s++)l[s]=arguments[s];var u=n.map(d=>P2(d)?l.shift():d);return t(...u,...l)}))}),Wq=e=>R2(e.length,e),tv=(e,t)=>{for(var r=[],n=e;n<t;++n)r[n-e]=n;return r},Vq=Wq((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(r=>t[r]).map(e)),Kq=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return Hq;var a=r.reverse(),i=a[0],o=a.slice(1);return function(){return o.reduce((l,s)=>s(l),i(...arguments))}};function M2(e){var t;return e===0?t=1:t=Math.floor(new ge(e).abs().log(10).toNumber())+1,t}function D2(e,t,r){for(var n=new ge(e),a=0,i=[];n.lt(t)&&a<1e5;)i.push(n.toNumber()),n=n.add(r),a++;return i}var z2=e=>{var[t,r]=e,[n,a]=[t,r];return t>r&&([n,a]=[r,t]),[n,a]},B2=(e,t,r)=>{if(e.lte(0))return new ge(0);var n=M2(e.toNumber()),a=new ge(10).pow(n),i=e.div(a),o=n!==1?.05:.1,l=new ge(Math.ceil(i.div(o).toNumber())).add(r).mul(o),s=l.mul(a);return t?new ge(s.toNumber()):new ge(Math.ceil(s.toNumber()))},Gq=(e,t,r)=>{var n=new ge(1),a=new ge(e);if(!a.isint()&&r){var i=Math.abs(e);i<1?(n=new ge(10).pow(M2(e)-1),a=new ge(Math.floor(a.div(n).toNumber())).mul(n)):i>1&&(a=new ge(Math.floor(e)))}else e===0?a=new ge(Math.floor((t-1)/2)):r||(a=new ge(Math.floor(e)));var o=Math.floor((t-1)/2),l=Kq(Vq(s=>a.add(new ge(s-o).mul(n)).toNumber()),tv);return l(0,t)},I2=function(t,r,n,a){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-t)/(n-1)))return{step:new ge(0),tickMin:new ge(0),tickMax:new ge(0)};var o=B2(new ge(r).sub(t).div(n-1),a,i),l;t<=0&&r>=0?l=new ge(0):(l=new ge(t).add(r).div(2),l=l.sub(new ge(l).mod(o)));var s=Math.ceil(l.sub(t).div(o).toNumber()),u=Math.ceil(new ge(r).sub(l).div(o).toNumber()),d=s+u+1;return d>n?I2(t,r,n,a,i+1):(d<n&&(u=r>0?u+(n-d):u,s=r>0?s:s+(n-d)),{step:o,tickMin:l.sub(new ge(s).mul(o)),tickMax:l.add(new ge(u).mul(o))})},Fq=function(t){var[r,n]=t,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(a,2),[l,s]=z2([r,n]);if(l===-1/0||s===1/0){var u=s===1/0?[l,...tv(0,a-1).map(()=>1/0)]:[...tv(0,a-1).map(()=>-1/0),s];return r>n?u.reverse():u}if(l===s)return Gq(l,a,i);var{step:d,tickMin:f,tickMax:h}=I2(l,s,o,i,0),m=D2(f,h.add(new ge(.1).mul(d)),d);return r>n?m.reverse():m},Yq=function(t,r){var[n,a]=t,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[o,l]=z2([n,a]);if(o===-1/0||l===1/0)return[n,a];if(o===l)return[o];var s=Math.max(r,2),u=B2(new ge(l).sub(o).div(s-1),i,0),d=[...D2(new ge(o),new ge(l),u),l];return i===!1&&(d=d.map(f=>Math.round(f))),n>a?d.reverse():d},$2=e=>e.rootProps.maxBarSize,Xq=e=>e.rootProps.barGap,L2=e=>e.rootProps.barCategoryGap,Zq=e=>e.rootProps.barSize,xh=e=>e.rootProps.stackOffset,U2=e=>e.rootProps.reverseStackOrder,R0=e=>e.options.chartName,M0=e=>e.rootProps.syncId,q2=e=>e.rootProps.syncMethod,D0=e=>e.options.eventEmitter,Bt={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},_n={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},rr={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},wh=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},Jq={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:_n.angleAxisId,includeHidden:!1,name:void 0,reversed:_n.reversed,scale:_n.scale,tick:_n.tick,tickCount:void 0,ticks:void 0,type:_n.type,unit:void 0},Qq={allowDataOverflow:rr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:rr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:rr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:rr.scale,tick:rr.tick,tickCount:rr.tickCount,ticks:void 0,type:rr.type,unit:void 0},e7={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:_n.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:_n.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:_n.scale,tick:_n.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},t7={allowDataOverflow:rr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:rr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:rr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:rr.scale,tick:rr.tick,tickCount:rr.tickCount,ticks:void 0,type:"category",unit:void 0},z0=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?e7:Jq,B0=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?t7:Qq,_h=e=>e.polarOptions,I0=R([Xn,Zn,vt],Q8),H2=R([_h,I0],(e,t)=>{if(e!=null)return Yr(e.innerRadius,t,0)}),W2=R([_h,I0],(e,t)=>{if(e!=null)return Yr(e.outerRadius,t,t*.8)}),r7=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]},V2=R([_h],r7);R([z0,V2],wh);var K2=R([I0,H2,W2],(e,t,r)=>{if(!(e==null||t==null||r==null))return[t,r]});R([B0,K2],wh);var G2=R([ye,_h,H2,W2,Xn,Zn],(e,t,r,n,a,i)=>{if(!(e!=="centric"&&e!=="radial"||t==null||r==null||n==null)){var{cx:o,cy:l,startAngle:s,endAngle:u}=t;return{cx:Yr(o,a,a/2),cy:Yr(l,i,i/2),innerRadius:r,outerRadius:n,startAngle:s,endAngle:u,clockWise:!1}}}),lt=(e,t)=>t,Sh=(e,t,r)=>r;function $0(e){return e==null?void 0:e.id}function F2(e,t,r){var{chartData:n=[]}=t,{allowDuplicatedCategory:a,dataKey:i}=r,o=new Map;return e.forEach(l=>{var s,u=(s=l.data)!==null&&s!==void 0?s:n;if(!(u==null||u.length===0)){var d=$0(l);u.forEach((f,h)=>{var m=i==null||a?h:String(At(f,i,null)),g=At(f,l.dataKey,0),b;o.has(m)?b=o.get(m):b={},Object.assign(b,{[d]:g}),o.set(m,b)})}}),Array.from(o.values())}function jh(e){return"stackId"in e&&e.stackId!=null&&e.dataKey!=null}var Eh=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function Oh(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function n7(e,t){if(e.length===t.length){for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}return!1}var st=e=>{var t=ye(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},xl=e=>e.tooltip.settings.axisId;function H_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ef(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?H_(Object(r),!0).forEach(function(n){a7(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):H_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function a7(e,t,r){return(t=i7(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i7(e){var t=o7(e,"string");return typeof t=="symbol"?t:t+""}function o7(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var rv=[0,"auto"],ct={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},Y2=(e,t)=>e.cartesianAxis.xAxis[t],ea=(e,t)=>{var r=Y2(e,t);return r??ct},dt={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:rv,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:fu},X2=(e,t)=>e.cartesianAxis.yAxis[t],ta=(e,t)=>{var r=X2(e,t);return r??dt},l7={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},L0=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return r??l7},Lt=(e,t,r)=>{switch(t){case"xAxis":return ea(e,r);case"yAxis":return ta(e,r);case"zAxis":return L0(e,r);case"angleAxis":return z0(e,r);case"radiusAxis":return B0(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},s7=(e,t,r)=>{switch(t){case"xAxis":return ea(e,r);case"yAxis":return ta(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},bu=(e,t,r)=>{switch(t){case"xAxis":return ea(e,r);case"yAxis":return ta(e,r);case"angleAxis":return z0(e,r);case"radiusAxis":return B0(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},Z2=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function J2(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var U0=e=>e.graphicalItems.cartesianItems,u7=R([lt,Sh],J2),Q2=(e,t,r)=>e.filter(r).filter(n=>(t==null?void 0:t.includeHidden)===!0?!0:!n.hide),xu=R([U0,Lt,u7],Q2,{memoizeOptions:{resultEqualityCheck:Oh}}),eN=R([xu],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(jh)),tN=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),c7=R([xu],tN),rN=e=>e.map(t=>t.data).filter(Boolean).flat(1),d7=R([xu],rN,{memoizeOptions:{resultEqualityCheck:Oh}}),nN=(e,t)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:a}=t;return e.length>0?e:r.slice(n,a+1)},q0=R([d7,j2],nN),aN=(e,t,r)=>(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:At(n,t.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>e.map(a=>({value:At(a,n)}))):e.map(n=>({value:n})),Ch=R([q0,Lt,xu],aN);function iN(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function Dc(e){if(sn(e)||e instanceof Date){var t=Number(e);if(Le(t))return t}}function W_(e){if(Array.isArray(e)){var t=[Dc(e[0]),Dc(e[1])];return Ia(t)?t:void 0}var r=Dc(e);if(r!=null)return[r,r]}function Kn(e){return e.map(Dc).filter(BI)}function f7(e,t,r){return!r||typeof t!="number"||Fr(t)?[]:r.length?Kn(r.flatMap(n=>{var a=At(e,n.dataKey),i,o;if(Array.isArray(a)?[i,o]=a:i=o=a,!(!Le(i)||!Le(o)))return[t-i,t+o]})):[]}var ut=e=>{var t=st(e),r=xl(e);return bu(e,t,r)},wu=R([ut],e=>e==null?void 0:e.dataKey),h7=R([eN,j2,ut],F2),oN=(e,t,r,n)=>{var a={},i=t.reduce((o,l)=>{if(l.stackId==null)return o;var s=o[l.stackId];return s==null&&(s=[]),s.push(l),o[l.stackId]=s,o},a);return Object.fromEntries(Object.entries(i).map(o=>{var[l,s]=o,u=n?[...s].reverse():s,d=u.map($0);return[l,{stackedData:GL(e,d,r),graphicalItems:u}]}))},nv=R([h7,eN,xh,U2],oN),lN=(e,t,r,n)=>{var{dataStartIndex:a,dataEndIndex:i}=t;if(n==null&&r!=="zAxis"){var o=JL(e,a,i);if(!(o!=null&&o[0]===0&&o[1]===0))return o}},m7=R([Lt],e=>e.allowDataOverflow),H0=e=>{var t;if(e==null||!("domain"in e))return rv;if(e.domain!=null)return e.domain;if("ticks"in e&&e.ticks!=null){if(e.type==="number"){var r=Kn(e.ticks);return[Math.min(...r),Math.max(...r)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:rv},sN=R([Lt],H0),uN=R([sN,m7],E2),p7=R([nv,Qn,lt,uN],lN,{memoizeOptions:{resultEqualityCheck:Eh}}),W0=e=>e.errorBars,g7=(e,t,r)=>e.flatMap(n=>t[n.id]).filter(Boolean).filter(n=>iN(r,n)),tf=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r.filter(Boolean);if(a.length!==0){var i=a.flat(),o=Math.min(...i),l=Math.max(...i);return[o,l]}},cN=(e,t,r,n,a)=>{var i,o;if(r.length>0&&e.forEach(l=>{r.forEach(s=>{var u,d,f=(u=n[s.id])===null||u===void 0?void 0:u.filter(v=>iN(a,v)),h=At(l,(d=t.dataKey)!==null&&d!==void 0?d:s.dataKey),m=f7(l,h,f);if(m.length>=2){var g=Math.min(...m),b=Math.max(...m);(i==null||g<i)&&(i=g),(o==null||b>o)&&(o=b)}var y=W_(h);y!=null&&(i=i==null?y[0]:Math.min(i,y[0]),o=o==null?y[1]:Math.max(o,y[1]))})}),(t==null?void 0:t.dataKey)!=null&&e.forEach(l=>{var s=W_(At(l,t.dataKey));s!=null&&(i=i==null?s[0]:Math.min(i,s[0]),o=o==null?s[1]:Math.max(o,s[1]))}),Le(i)&&Le(o))return[i,o]},v7=R([q0,Lt,c7,W0,lt],cN,{memoizeOptions:{resultEqualityCheck:Eh}});function y7(e){var{value:t}=e;if(sn(t)||t instanceof Date)return t}var b7=(e,t,r)=>{var n=e.map(y7).filter(a=>a!=null);return r&&(t.dataKey==null||t.allowDuplicatedCategory&&eT(n))?Hk(0,e.length):t.allowDuplicatedCategory?n:Array.from(new Set(n))},dN=e=>e.referenceElements.dots,wl=(e,t,r)=>e.filter(n=>n.ifOverflow==="extendDomain").filter(n=>t==="xAxis"?n.xAxisId===r:n.yAxisId===r),x7=R([dN,lt,Sh],wl),fN=e=>e.referenceElements.areas,w7=R([fN,lt,Sh],wl),hN=e=>e.referenceElements.lines,_7=R([hN,lt,Sh],wl),mN=(e,t)=>{if(e!=null){var r=Kn(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},S7=R(x7,lt,mN),pN=(e,t)=>{if(e!=null){var r=Kn(e.flatMap(n=>[t==="xAxis"?n.x1:n.y1,t==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},j7=R([w7,lt],pN);function E7(e){var t;if(e.x!=null)return Kn([e.x]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.x);return r==null||r.length===0?[]:Kn(r)}function O7(e){var t;if(e.y!=null)return Kn([e.y]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.y);return r==null||r.length===0?[]:Kn(r)}var gN=(e,t)=>{if(e!=null){var r=e.flatMap(n=>t==="xAxis"?E7(n):O7(n));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},C7=R([_7,lt],gN),A7=R(S7,C7,j7,(e,t,r)=>tf(e,r,t)),vN=(e,t,r,n,a,i,o,l)=>{if(r!=null)return r;var s=o==="vertical"&&l==="xAxis"||o==="horizontal"&&l==="yAxis",u=s?tf(n,i,a):tf(i,a);return $q(t,u,e.allowDataOverflow)},T7=R([Lt,sN,uN,p7,v7,A7,ye,lt],vN,{memoizeOptions:{resultEqualityCheck:Eh}}),k7=[0,1],yN=(e,t,r,n,a,i,o)=>{if(!((e==null||r==null||r.length===0)&&o===void 0)){var{dataKey:l,type:s}=e,u=$i(t,i);if(u&&l==null){var d;return Hk(0,(d=r==null?void 0:r.length)!==null&&d!==void 0?d:0)}return s==="category"?b7(n,e,u):a==="expand"?k7:o}},V0=R([Lt,ye,q0,Ch,xh,lt,T7],yN),bN=(e,t,r,n,a)=>{if(e!=null){var{scale:i,type:o}=e;if(i==="auto")return t==="radial"&&a==="radiusAxis"?"band":t==="radial"&&a==="angleAxis"?"linear":o==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?"point":o==="category"?"band":"linear";if(typeof i=="string"){var l="scale".concat(su(i));return l in Gl?l:"point"}}},_u=R([Lt,ye,Z2,R0,lt],bN);function N7(e){if(e!=null){if(e in Gl)return Gl[e]();var t="scale".concat(su(e));if(t in Gl)return Gl[t]()}}function K0(e,t,r,n){if(!(r==null||n==null)){if(typeof e.scale=="function")return e.scale.copy().domain(r).range(n);var a=N7(t);if(a!=null){var i=a.domain(r).range(n);return qL(i),i}}}var xN=(e,t,r)=>{var n=H0(t);if(!(r!=="auto"&&r!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&Ia(e))return Fq(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&Ia(e))return Yq(e,t.tickCount,t.allowDecimals)}},G0=R([V0,bu,_u],xN),wN=(e,t,r,n)=>{if(n!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&Ia(t)&&Array.isArray(r)&&r.length>0){var a=t[0],i=r[0],o=t[1],l=r[r.length-1];return[Math.min(a,i),Math.max(o,l)]}return t},P7=R([Lt,V0,G0,lt],wN),R7=R(Ch,Lt,(e,t)=>{if(!(!t||t.type!=="number")){var r=1/0,n=Array.from(Kn(e.map(f=>f.value))).sort((f,h)=>f-h),a=n[0],i=n[n.length-1];if(a==null||i==null)return 1/0;var o=i-a;if(o===0)return 1/0;for(var l=0;l<n.length-1;l++){var s=n[l],u=n[l+1];if(!(s==null||u==null)){var d=u-s;r=Math.min(r,d)}}return r/o}}),_N=R(R7,ye,L2,vt,(e,t,r,n,a)=>a,(e,t,r,n,a)=>{if(!Le(e))return 0;var i=t==="vertical"?n.height:n.width;if(a==="gap")return e*i/2;if(a==="no-gap"){var o=Yr(r,e*i),l=e*i/2;return l-o-(l-o)/i*o}return 0}),M7=(e,t,r)=>{var n=ea(e,t);return n==null||typeof n.padding!="string"?0:_N(e,"xAxis",t,r,n.padding)},D7=(e,t,r)=>{var n=ta(e,t);return n==null||typeof n.padding!="string"?0:_N(e,"yAxis",t,r,n.padding)},z7=R(ea,M7,(e,t)=>{var r,n;if(e==null)return{left:0,right:0};var{padding:a}=e;return typeof a=="string"?{left:t,right:t}:{left:((r=a.left)!==null&&r!==void 0?r:0)+t,right:((n=a.right)!==null&&n!==void 0?n:0)+t}}),B7=R(ta,D7,(e,t)=>{var r,n;if(e==null)return{top:0,bottom:0};var{padding:a}=e;return typeof a=="string"?{top:t,bottom:t}:{top:((r=a.top)!==null&&r!==void 0?r:0)+t,bottom:((n=a.bottom)!==null&&n!==void 0?n:0)+t}}),I7=R([vt,z7,lh,oh,(e,t,r)=>r],(e,t,r,n,a)=>{var{padding:i}=n;return a?[i.left,r.width-i.right]:[e.left+t.left,e.left+e.width-t.right]}),$7=R([vt,ye,B7,lh,oh,(e,t,r)=>r],(e,t,r,n,a,i)=>{var{padding:o}=a;return i?[n.height-o.bottom,o.top]:t==="horizontal"?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),Su=(e,t,r,n)=>{var a;switch(t){case"xAxis":return I7(e,r,n);case"yAxis":return $7(e,r,n);case"zAxis":return(a=L0(e,r))===null||a===void 0?void 0:a.range;case"angleAxis":return V2(e);case"radiusAxis":return K2(e,r);default:return}},SN=R([Lt,Su],wh),Ah=R([Lt,_u,P7,SN],K0);R([xu,W0,lt],g7);function jN(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var Th=(e,t)=>t,kh=(e,t,r)=>r,L7=R(ah,Th,kh,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(jN)),U7=R(ih,Th,kh,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(jN)),EN=(e,t)=>({width:e.width,height:t.height}),q7=(e,t)=>{var r=typeof t.width=="number"?t.width:fu;return{width:r,height:e.height}},ON=R(vt,ea,EN),H7=(e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}},W7=(e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}},V7=R(Zn,vt,L7,Th,kh,(e,t,r,n,a)=>{var i={},o;return r.forEach(l=>{var s=EN(t,l);o==null&&(o=H7(t,n,e));var u=n==="top"&&!a||n==="bottom"&&a;i[l.id]=o-Number(u)*s.height,o+=(u?-1:1)*s.height}),i}),K7=R(Xn,vt,U7,Th,kh,(e,t,r,n,a)=>{var i={},o;return r.forEach(l=>{var s=q7(t,l);o==null&&(o=W7(t,n,e));var u=n==="left"&&!a||n==="right"&&a;i[l.id]=o-Number(u)*s.width,o+=(u?-1:1)*s.width}),i}),G7=(e,t)=>{var r=ea(e,t);if(r!=null)return V7(e,r.orientation,r.mirror)},F7=R([vt,ea,G7,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var a=r==null?void 0:r[n];return a==null?{x:e.left,y:0}:{x:e.left,y:a}}}),Y7=(e,t)=>{var r=ta(e,t);if(r!=null)return K7(e,r.orientation,r.mirror)},X7=R([vt,ta,Y7,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var a=r==null?void 0:r[n];return a==null?{x:0,y:e.top}:{x:a,y:e.top}}}),CN=R(vt,ta,(e,t)=>{var r=typeof t.width=="number"?t.width:fu;return{width:r,height:e.height}}),V_=(e,t,r)=>{switch(t){case"xAxis":return ON(e,r).width;case"yAxis":return CN(e,r).height;default:return}},AN=(e,t,r,n)=>{if(r!=null){var{allowDuplicatedCategory:a,type:i,dataKey:o}=r,l=$i(e,n),s=t.map(u=>u.value);if(o&&l&&i==="category"&&a&&eT(s))return s}},F0=R([ye,Ch,Lt,lt],AN),TN=(e,t,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:a,scale:i}=r,o=$i(e,n);if(o&&(a==="number"||i!=="auto"))return t.map(l=>l.value)}},Y0=R([ye,Ch,bu,lt],TN),K_=R([ye,s7,_u,Ah,F0,Y0,Su,G0,lt],(e,t,r,n,a,i,o,l,s)=>{if(t!=null){var u=$i(e,s);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:s,categoricalDomain:i,duplicateDomain:a,isCategorical:u,niceTicks:l,range:o,realScaleType:r,scale:n}}}),Z7=(e,t,r,n,a,i,o,l,s)=>{if(!(t==null||n==null)){var u=$i(e,s),{type:d,ticks:f,tickCount:h}=t,m=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,g=d==="category"&&n.bandwidth?n.bandwidth()/m:0;g=s==="angleAxis"&&i!=null&&i.length>=2?Kt(i[0]-i[1])*2*g:g;var b=f||a;if(b){var y=b.map((v,p)=>{var w=o?o.indexOf(v):v;return{index:p,coordinate:n(w)+g,value:v,offset:g}});return y.filter(v=>Le(v.coordinate))}return u&&l?l.map((v,p)=>({coordinate:n(v)+g,value:v,index:p,offset:g})).filter(v=>Le(v.coordinate)):n.ticks?n.ticks(h).map(v=>({coordinate:n(v)+g,value:v,offset:g})):n.domain().map((v,p)=>({coordinate:n(v)+g,value:o?o[v]:v,index:p,offset:g}))}},kN=R([ye,bu,_u,Ah,G0,Su,F0,Y0,lt],Z7),J7=(e,t,r,n,a,i,o)=>{if(!(t==null||r==null||n==null||n[0]===n[1])){var l=$i(e,o),{tickCount:s}=t,u=0;return u=o==="angleAxis"&&(n==null?void 0:n.length)>=2?Kt(n[0]-n[1])*2*u:u,l&&i?i.map((d,f)=>({coordinate:r(d)+u,value:d,index:f,offset:u})):r.ticks?r.ticks(s).map(d=>({coordinate:r(d)+u,value:d,offset:u})):r.domain().map((d,f)=>({coordinate:r(d)+u,value:a?a[d]:d,index:f,offset:u}))}},Jo=R([ye,bu,Ah,Su,F0,Y0,lt],J7),Qo=R(Lt,Ah,(e,t)=>{if(!(e==null||t==null))return ef(ef({},e),{},{scale:t})}),Q7=R([Lt,_u,V0,SN],K0);R((e,t,r)=>L0(e,r),Q7,(e,t)=>{if(!(e==null||t==null))return ef(ef({},e),{},{scale:t})});var eH=R([ye,ah,ih],(e,t,r)=>{switch(e){case"horizontal":return t.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),NN=e=>e.options.defaultTooltipEventType,PN=e=>e.options.validateTooltipEventTypes;function RN(e,t,r){if(e==null)return t;var n=e?"axis":"item";return r==null?t:r.includes(n)?n:t}function X0(e,t){var r=NN(e),n=PN(e);return RN(t,r,n)}function tH(e){return Z(t=>X0(t,e))}var MN=(e,t)=>{var r,n=Number(t);if(!(Fr(n)||t==null))return n>=0?e==null||(r=e[n])===null||r===void 0?void 0:r.value:void 0},rH=e=>e.tooltip.settings,ga={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},nH={itemInteraction:{click:ga,hover:ga},axisInteraction:{click:ga,hover:ga},keyboardInteraction:ga,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},DN=Zt({name:"tooltip",initialState:nH,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:Be()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:r,next:n}=t.payload,a=Gr(e).tooltipItemPayloads.indexOf(r);a>-1&&(e.tooltipItemPayloads[a]=n)},prepare:Be()},removeTooltipEntrySettings:{reducer(e,t){var r=Gr(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},prepare:Be()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate}}}),{addTooltipEntrySettings:aH,replaceTooltipEntrySettings:iH,removeTooltipEntrySettings:oH,setTooltipSettingsState:lH,setActiveMouseOverItemIndex:zN,mouseLeaveItem:sH,mouseLeaveChart:BN,setActiveClickItemIndex:uH,setMouseOverAxisIndex:IN,setMouseClickAxisIndex:cH,setSyncInteraction:av,setKeyboardInteraction:iv}=DN.actions,dH=DN.reducer;function G_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function hc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?G_(Object(r),!0).forEach(function(n){fH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):G_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fH(e,t,r){return(t=hH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hH(e){var t=mH(e,"string");return typeof t=="symbol"?t:t+""}function mH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function pH(e,t,r){return t==="axis"?r==="click"?e.axisInteraction.click:e.axisInteraction.hover:r==="click"?e.itemInteraction.click:e.itemInteraction.hover}function gH(e){return e.index!=null}var $N=(e,t,r,n)=>{if(t==null)return ga;var a=pH(e,t,r);if(a==null)return ga;if(a.active)return a;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var i=e.settings.active===!0;if(gH(a)){if(i)return hc(hc({},a),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n,graphicalItemId:void 0};return hc(hc({},ga),{},{coordinate:a.coordinate})};function vH(e){if(typeof e=="number")return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var r=Number(e);return Number.isFinite(r)?r:void 0}function yH(e,t){var r=vH(e),n=t[0],a=t[1];if(r===void 0)return!1;var i=Math.min(n,a),o=Math.max(n,a);return r>=i&&r<=o}function bH(e,t,r){if(r==null||t==null)return!0;var n=At(e,t);return n==null||!Ia(r)?!0:yH(n,r)}var Z0=(e,t,r,n)=>{var a=e==null?void 0:e.index;if(a==null)return null;var i=Number(a);if(!Le(i))return a;var o=0,l=1/0;t.length>0&&(l=t.length-1);var s=Math.max(o,Math.min(i,l)),u=t[s];return u==null||bH(u,r,n)?String(s):null},LN=(e,t,r,n,a,i,o,l)=>{if(!(i==null||l==null)){var s=o[0],u=s==null?void 0:l(s.positions,i);if(u!=null)return u;var d=a==null?void 0:a[Number(i)];if(d)switch(r){case"horizontal":return{x:d.coordinate,y:(n.top+t)/2};default:return{x:(n.left+e)/2,y:d.coordinate}}}},UN=(e,t,r,n)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var a;if(r==="hover"?a=e.itemInteraction.hover.graphicalItemId:a=e.itemInteraction.click.graphicalItemId,a==null&&n!=null){var i=e.tooltipItemPayloads[0];return i!=null?[i]:[]}return e.tooltipItemPayloads.filter(o=>{var l;return((l=o.settings)===null||l===void 0?void 0:l.graphicalItemId)===a})},ju=e=>e.options.tooltipPayloadSearcher,_l=e=>e.tooltip;function F_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Y_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?F_(Object(r),!0).forEach(function(n){xH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):F_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xH(e,t,r){return(t=wH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wH(e){var t=_H(e,"string");return typeof t=="symbol"?t:t+""}function _H(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function SH(e,t){return e??t}var qN=(e,t,r,n,a,i,o)=>{if(!(t==null||i==null)){var{chartData:l,computedData:s,dataStartIndex:u,dataEndIndex:d}=r,f=[];return e.reduce((h,m)=>{var g,{dataDefinedOnItem:b,settings:y}=m,v=SH(b,l),p=Array.isArray(v)?sk(v,u,d):v,w=(g=y==null?void 0:y.dataKey)!==null&&g!==void 0?g:n,_=y==null?void 0:y.nameKey,j;if(n&&Array.isArray(p)&&!Array.isArray(p[0])&&o==="axis"?j=zI(p,n,a):j=i(p,t,s,_),Array.isArray(j))j.forEach(E=>{var O=Y_(Y_({},y),{},{name:E.name,unit:E.unit,color:void 0,fill:void 0});h.push(sw({tooltipEntrySettings:O,dataKey:E.dataKey,payload:E.payload,value:At(E.payload,E.dataKey),name:E.name}))});else{var S;h.push(sw({tooltipEntrySettings:y,dataKey:w,payload:j,value:At(j,w),name:(S=At(j,_))!==null&&S!==void 0?S:y==null?void 0:y.name}))}return h},f)}},J0=R([ut,ye,Z2,R0,st],bN),jH=R([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),EH=R([st,xl],J2),Sl=R([jH,ut,EH],Q2,{memoizeOptions:{resultEqualityCheck:Oh}}),OH=R([Sl],e=>e.filter(jh)),CH=R([Sl],rN,{memoizeOptions:{resultEqualityCheck:Oh}}),jl=R([CH,Qn],nN),AH=R([OH,Qn,ut],F2),Q0=R([jl,ut,Sl],aN),HN=R([ut],H0),TH=R([ut],e=>e.allowDataOverflow),WN=R([HN,TH],E2),kH=R([Sl],e=>e.filter(jh)),NH=R([AH,kH,xh,U2],oN),PH=R([NH,Qn,st,WN],lN),RH=R([Sl],tN),MH=R([jl,ut,RH,W0,st],cN,{memoizeOptions:{resultEqualityCheck:Eh}}),DH=R([dN,st,xl],wl),zH=R([DH,st],mN),BH=R([fN,st,xl],wl),IH=R([BH,st],pN),$H=R([hN,st,xl],wl),LH=R([$H,st],gN),UH=R([zH,LH,IH],tf),qH=R([ut,HN,WN,PH,MH,UH,ye,st],vN),Eu=R([ut,ye,jl,Q0,xh,st,qH],yN),HH=R([Eu,ut,J0],xN),WH=R([ut,Eu,HH,st],wN),VN=e=>{var t=st(e),r=xl(e),n=!1;return Su(e,t,r,n)},KN=R([ut,VN],wh),GN=R([ut,J0,WH,KN],K0),VH=R([ye,Q0,ut,st],AN),KH=R([ye,Q0,ut,st],TN),GH=(e,t,r,n,a,i,o,l)=>{if(t){var{type:s}=t,u=$i(e,l);if(n){var d=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,f=s==="category"&&n.bandwidth?n.bandwidth()/d:0;return f=l==="angleAxis"&&a!=null&&(a==null?void 0:a.length)>=2?Kt(a[0]-a[1])*2*f:f,u&&o?o.map((h,m)=>({coordinate:n(h)+f,value:h,index:m,offset:f})):n.domain().map((h,m)=>({coordinate:n(h)+f,value:i?i[h]:h,index:m,offset:f}))}}},ra=R([ye,ut,J0,GN,VN,VH,KH,st],GH),eb=R([NN,PN,rH],(e,t,r)=>RN(r.shared,e,t)),FN=e=>e.tooltip.settings.trigger,tb=e=>e.tooltip.settings.defaultIndex,Ou=R([_l,eb,FN,tb],$N),el=R([Ou,jl,wu,Eu],Z0),YN=R([ra,el],MN),XN=R([Ou],e=>{if(e)return e.dataKey});R([Ou],e=>{if(e)return e.graphicalItemId});var ZN=R([_l,eb,FN,tb],UN),FH=R([Xn,Zn,ye,vt,ra,tb,ZN,ju],LN),YH=R([Ou,FH],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),XH=R([Ou],e=>{var t;return(t=e==null?void 0:e.active)!==null&&t!==void 0?t:!1}),ZH=R([ZN,el,Qn,wu,YN,ju,eb],qN);R([ZH],e=>{if(e!=null){var t=e.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(t))}});function X_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Z_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?X_(Object(r),!0).forEach(function(n){JH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):X_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function JH(e,t,r){return(t=QH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function QH(e){var t=eW(e,"string");return typeof t=="symbol"?t:t+""}function eW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var tW=()=>Z(ut),rW=()=>{var e=tW(),t=Z(ra),r=Z(GN);return Rd(!e||!r?void 0:Z_(Z_({},e),{},{scale:r}),t)};function J_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ji(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?J_(Object(r),!0).forEach(function(n){nW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):J_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nW(e,t,r){return(t=aW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aW(e){var t=iW(e,"string");return typeof t=="symbol"?t:t+""}function iW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var oW=(e,t,r,n)=>{var a=t.find(i=>i&&i.index===r);if(a){if(e==="horizontal")return{x:a.coordinate,y:n.chartY};if(e==="vertical")return{x:n.chartX,y:a.coordinate}}return{x:0,y:0}},lW=(e,t,r,n)=>{var a=t.find(u=>u&&u.index===r);if(a){if(e==="centric"){var i=a.coordinate,{radius:o}=n;return Ji(Ji(Ji({},n),Ot(n.cx,n.cy,o,i)),{},{angle:i,radius:o})}var l=a.coordinate,{angle:s}=n;return Ji(Ji(Ji({},n),Ot(n.cx,n.cy,l,s)),{},{angle:s,radius:l})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function sW(e,t){var{chartX:r,chartY:n}=e;return r>=t.left&&r<=t.left+t.width&&n>=t.top&&n<=t.top+t.height}var JN=(e,t,r,n,a)=>{var i,o=(i=t==null?void 0:t.length)!==null&&i!==void 0?i:0;if(o<=1||e==null)return 0;if(n==="angleAxis"&&a!=null&&Math.abs(Math.abs(a[1]-a[0])-360)<=1e-6)for(var l=0;l<o;l++){var s,u,d,f,h,m=l>0?(s=r[l-1])===null||s===void 0?void 0:s.coordinate:(u=r[o-1])===null||u===void 0?void 0:u.coordinate,g=(d=r[l])===null||d===void 0?void 0:d.coordinate,b=l>=o-1?(f=r[0])===null||f===void 0?void 0:f.coordinate:(h=r[l+1])===null||h===void 0?void 0:h.coordinate,y=void 0;if(!(m==null||g==null||b==null))if(Kt(g-m)!==Kt(b-g)){var v=[];if(Kt(b-g)===Kt(a[1]-a[0])){y=b;var p=g+a[1]-a[0];v[0]=Math.min(p,(p+m)/2),v[1]=Math.max(p,(p+m)/2)}else{y=m;var w=b+a[1]-a[0];v[0]=Math.min(g,(w+g)/2),v[1]=Math.max(g,(w+g)/2)}var _=[Math.min(g,(y+g)/2),Math.max(g,(y+g)/2)];if(e>_[0]&&e<=_[1]||e>=v[0]&&e<=v[1]){var j;return(j=r[l])===null||j===void 0?void 0:j.index}}else{var S=Math.min(m,b),E=Math.max(m,b);if(e>(S+g)/2&&e<=(E+g)/2){var O;return(O=r[l])===null||O===void 0?void 0:O.index}}}else if(t)for(var A=0;A<o;A++){var N=t[A];if(N!=null){var I=t[A+1],P=t[A-1];if(A===0&&I!=null&&e<=(N.coordinate+I.coordinate)/2||A===o-1&&P!=null&&e>(N.coordinate+P.coordinate)/2||A>0&&A<o-1&&P!=null&&I!=null&&e>(N.coordinate+P.coordinate)/2&&e<=(N.coordinate+I.coordinate)/2)return N.index}}return-1},uW=()=>Z(R0),rb=(e,t)=>t,QN=(e,t,r)=>r,nb=(e,t,r,n)=>n,cW=R(ra,e=>Ff(e,t=>t.coordinate)),ab=R([_l,rb,QN,nb],$N),ib=R([ab,jl,wu,Eu],Z0),dW=(e,t,r)=>{if(t!=null){var n=_l(e);return t==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},eP=R([_l,rb,QN,nb],UN),rf=R([Xn,Zn,ye,vt,ra,nb,eP,ju],LN),fW=R([ab,rf],(e,t)=>{var r;return(r=e.coordinate)!==null&&r!==void 0?r:t}),tP=R([ra,ib],MN),hW=R([eP,ib,Qn,wu,tP,ju,rb],qN),mW=R([ab,ib],(e,t)=>({isActive:e.active&&t!=null,activeIndex:t})),pW=(e,t,r,n,a,i,o)=>{if(!(!e||!r||!n||!a)&&sW(e,o)){var l=QL(e,t),s=JN(l,i,a,r,n),u=oW(t,a,s,e);return{activeIndex:String(s),activeCoordinate:u}}},gW=(e,t,r,n,a,i,o)=>{if(!(!e||!n||!a||!i||!r)){var l=a6(e,r);if(l){var s=eU(l,t),u=JN(s,o,i,n,a),d=lW(t,i,u,l);return{activeIndex:String(u),activeCoordinate:d}}}},vW=(e,t,r,n,a,i,o,l)=>{if(!(!e||!t||!n||!a||!i))return t==="horizontal"||t==="vertical"?pW(e,t,n,a,i,o,l):gW(e,t,r,n,a,i,o)},yW=R(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,r)=>r,(e,t,r)=>{if(t!=null){var n=e[t];if(n!=null)return r?n.panoramaElement:n.element}}),bW=R(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(n=>parseInt(n,10)).concat(Object.values(Bt)),r=Array.from(new Set(t));return r.sort((n,a)=>n-a)},{memoizeOptions:{resultEqualityCheck:n7}});function Q_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function eS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Q_(Object(r),!0).forEach(function(n){xW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Q_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xW(e,t,r){return(t=wW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wW(e){var t=_W(e,"string");return typeof t=="symbol"?t:t+""}function _W(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var SW={},jW={zIndexMap:Object.values(Bt).reduce((e,t)=>eS(eS({},e),{},{[t]:{element:void 0,panoramaElement:void 0,consumers:0}}),SW)},EW=new Set(Object.values(Bt));function OW(e){return EW.has(e)}var rP=Zt({name:"zIndex",initialState:jW,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]?e.zIndexMap[r].consumers+=1:e.zIndexMap[r]={consumers:1,element:void 0,panoramaElement:void 0}},prepare:Be()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(e.zIndexMap[r].consumers-=1,e.zIndexMap[r].consumers<=0&&!OW(r)&&delete e.zIndexMap[r])},prepare:Be()},registerZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:r,element:n,isPanorama:a}=t.payload;e.zIndexMap[r]?a?e.zIndexMap[r].panoramaElement=n:e.zIndexMap[r].element=n:e.zIndexMap[r]={consumers:0,element:a?void 0:n,panoramaElement:a?n:void 0}},prepare:Be()},unregisterZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(t.payload.isPanorama?e.zIndexMap[r].panoramaElement=void 0:e.zIndexMap[r].element=void 0)},prepare:Be()}}}),{registerZIndexPortal:CW,unregisterZIndexPortal:AW,registerZIndexPortalElement:TW,unregisterZIndexPortalElement:kW}=rP.actions,NW=rP.reducer;function na(e){var{zIndex:t,children:r}=e,n=TU(),a=n&&t!==void 0&&t!==0,i=Jt(),o=Ge();x.useLayoutEffect(()=>a?(o(CW({zIndex:t})),()=>{o(AW({zIndex:t}))}):uu,[o,t,a]);var l=Z(s=>yW(s,t,i));return a?l?wv.createPortal(r,l):null:r}function ov(){return ov=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ov.apply(null,arguments)}function tS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function mc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tS(Object(r),!0).forEach(function(n){PW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function PW(e,t,r){return(t=RW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function RW(e){var t=MW(e,"string");return typeof t=="symbol"?t:t+""}function MW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function DW(e){var{cursor:t,cursorComp:r,cursorProps:n}=e;return x.isValidElement(t)?x.cloneElement(t,n):x.createElement(r,n)}function zW(e){var t,{coordinate:r,payload:n,index:a,offset:i,tooltipAxisBandSize:o,layout:l,cursor:s,tooltipEventType:u,chartName:d}=e,f=r,h=n,m=a;if(!s||!f||d!=="ScatterChart"&&u!=="axis")return null;var g,b,y;if(d==="ScatterChart")g=f,b=v8,y=Bt.cursorLine;else if(d==="BarChart")g=y8(l,f,i,o),b=zk,y=Bt.cursorRectangle;else if(l==="radial"&&nT(f)){var{cx:v,cy:p,radius:w,startAngle:_,endAngle:j}=Bk(f);g={cx:v,cy:p,startAngle:_,endAngle:j,innerRadius:w,outerRadius:w},b=$k,y=Bt.cursorLine}else g={points:s6(l,f,i)},b=Nk,y=Bt.cursorLine;var S=typeof s=="object"&&"className"in s?s.className:void 0,E=mc(mc(mc(mc({stroke:"#ccc",pointerEvents:"none"},i),g),Ry(s)),{},{payload:h,payloadIndex:m,className:De("recharts-tooltip-cursor",S)});return x.createElement(na,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:y},x.createElement(DW,{cursor:s,cursorComp:b,cursorProps:E}))}function BW(e){var t=rW(),r=xk(),n=hu(),a=uW();return t==null||r==null||n==null||a==null?null:x.createElement(zW,ov({},e,{offset:r,layout:n,tooltipAxisBandSize:t,chartName:a}))}var nP=x.createContext(null),IW=()=>x.useContext(nP),aP={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(s,u,d){this.fn=s,this.context=u,this.once=d||!1}function i(s,u,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var m=new a(d,f||s,h),g=r?r+u:u;return s._events[g]?s._events[g].fn?s._events[g]=[s._events[g],m]:s._events[g].push(m):(s._events[g]=m,s._eventsCount++),s}function o(s,u){--s._eventsCount===0?s._events=new n:delete s._events[u]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)t.call(d,f)&&u.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},l.prototype.listeners=function(u){var d=r?r+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,m=f.length,g=new Array(m);h<m;h++)g[h]=f[h].fn;return g},l.prototype.listenerCount=function(u){var d=r?r+u:u,f=this._events[d];return f?f.fn?1:f.length:0},l.prototype.emit=function(u,d,f,h,m,g){var b=r?r+u:u;if(!this._events[b])return!1;var y=this._events[b],v=arguments.length,p,w;if(y.fn){switch(y.once&&this.removeListener(u,y.fn,void 0,!0),v){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,d),!0;case 3:return y.fn.call(y.context,d,f),!0;case 4:return y.fn.call(y.context,d,f,h),!0;case 5:return y.fn.call(y.context,d,f,h,m),!0;case 6:return y.fn.call(y.context,d,f,h,m,g),!0}for(w=1,p=new Array(v-1);w<v;w++)p[w-1]=arguments[w];y.fn.apply(y.context,p)}else{var _=y.length,j;for(w=0;w<_;w++)switch(y[w].once&&this.removeListener(u,y[w].fn,void 0,!0),v){case 1:y[w].fn.call(y[w].context);break;case 2:y[w].fn.call(y[w].context,d);break;case 3:y[w].fn.call(y[w].context,d,f);break;case 4:y[w].fn.call(y[w].context,d,f,h);break;default:if(!p)for(j=1,p=new Array(v-1);j<v;j++)p[j-1]=arguments[j];y[w].fn.apply(y[w].context,p)}}return!0},l.prototype.on=function(u,d,f){return i(this,u,d,f,!1)},l.prototype.once=function(u,d,f){return i(this,u,d,f,!0)},l.prototype.removeListener=function(u,d,f,h){var m=r?r+u:u;if(!this._events[m])return this;if(!d)return o(this,m),this;var g=this._events[m];if(g.fn)g.fn===d&&(!h||g.once)&&(!f||g.context===f)&&o(this,m);else{for(var b=0,y=[],v=g.length;b<v;b++)(g[b].fn!==d||h&&!g[b].once||f&&g[b].context!==f)&&y.push(g[b]);y.length?this._events[m]=y.length===1?y[0]:y:o(this,m)}return this},l.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&o(this,d)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,e.exports=l})(aP);var $W=aP.exports;const LW=Fn($W);var Ws=new LW,lv="recharts.syncEvent.tooltip",rS="recharts.syncEvent.brush";function UW(e,t){if(t){var r=Number.parseInt(t,10);if(!Fr(r))return e==null?void 0:e[r]}}var qW={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},iP=Zt({name:"options",initialState:qW,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),HW=iP.reducer,{createEventEmitter:WW}=iP.actions;function VW(e){return e.tooltip.syncInteraction}var KW={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},oP=Zt({name:"chartData",initialState:KW,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:n}=t.payload;r!=null&&(e.dataStartIndex=r),n!=null&&(e.dataEndIndex=n)}}}),{setChartData:nS,setDataStartEndIndexes:GW,setComputedData:gZ}=oP.actions,FW=oP.reducer,YW=["x","y"];function aS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Qi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?aS(Object(r),!0).forEach(function(n){XW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):aS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function XW(e,t,r){return(t=ZW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ZW(e){var t=JW(e,"string");return typeof t=="symbol"?t:t+""}function JW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function QW(e,t){if(e==null)return{};var r,n,a=eV(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function eV(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function tV(){var e=Z(M0),t=Z(D0),r=Ge(),n=Z(q2),a=Z(ra),i=hu(),o=sh(),l=Z(s=>s.rootProps.className);x.useEffect(()=>{if(e==null)return uu;var s=(u,d,f)=>{if(t!==f&&e===u){if(n==="index"){var h;if(o&&d!==null&&d!==void 0&&(h=d.payload)!==null&&h!==void 0&&h.coordinate&&d.payload.sourceViewBox){var m=d.payload.coordinate,{x:g,y:b}=m,y=QW(m,YW),{x:v,y:p,width:w,height:_}=d.payload.sourceViewBox,j=Qi(Qi({},y),{},{x:o.x+(w?(g-v)/w:0)*o.width,y:o.y+(_?(b-p)/_:0)*o.height});r(Qi(Qi({},d),{},{payload:Qi(Qi({},d.payload),{},{coordinate:j})}))}else r(d);return}if(a!=null){var S;if(typeof n=="function"){var E={activeTooltipIndex:d.payload.index==null?void 0:Number(d.payload.index),isTooltipActive:d.payload.active,activeIndex:d.payload.index==null?void 0:Number(d.payload.index),activeLabel:d.payload.label,activeDataKey:d.payload.dataKey,activeCoordinate:d.payload.coordinate},O=n(a,E);S=a[O]}else n==="value"&&(S=a.find(C=>String(C.value)===d.payload.label));var{coordinate:A}=d.payload;if(S==null||d.payload.active===!1||A==null||o==null){r(av({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:N,y:I}=A,P=Math.min(N,o.x+o.width),K=Math.min(I,o.y+o.height),T={x:i==="horizontal"?S.coordinate:P,y:i==="horizontal"?K:S.coordinate},q=av({active:d.payload.active,coordinate:T,dataKey:d.payload.dataKey,index:String(S.index),label:d.payload.label,sourceViewBox:d.payload.sourceViewBox,graphicalItemId:d.payload.graphicalItemId});r(q)}}};return Ws.on(lv,s),()=>{Ws.off(lv,s)}},[l,r,t,e,n,a,i,o])}function rV(){var e=Z(M0),t=Z(D0),r=Ge();x.useEffect(()=>{if(e==null)return uu;var n=(a,i,o)=>{t!==o&&e===a&&r(GW(i))};return Ws.on(rS,n),()=>{Ws.off(rS,n)}},[r,t,e])}function nV(){var e=Ge();x.useEffect(()=>{e(WW())},[e]),tV(),rV()}function aV(e,t,r,n,a,i){var o=Z(m=>dW(m,e,t)),l=Z(D0),s=Z(M0),u=Z(q2),d=Z(VW),f=d==null?void 0:d.active,h=sh();x.useEffect(()=>{if(!f&&s!=null&&l!=null){var m=av({active:i,coordinate:r,dataKey:o,index:a,label:typeof n=="number"?String(n):n,sourceViewBox:h,graphicalItemId:void 0});Ws.emit(lv,s,m,l)}},[f,r,o,a,n,l,s,u,i,h])}function iS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function oS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?iS(Object(r),!0).forEach(function(n){iV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):iS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function iV(e,t,r){return(t=oV(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oV(e){var t=lV(e,"string");return typeof t=="symbol"?t:t+""}function lV(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function sV(e){return e.dataKey}function uV(e,t){return x.isValidElement(e)?x.cloneElement(e,t):typeof e=="function"?x.createElement(e,t):x.createElement(XU,t)}var lS=[],cV={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,includeHidden:!1,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function dV(e){var t,r,n=yr(e,cV),{active:a,allowEscapeViewBox:i,animationDuration:o,animationEasing:l,content:s,filterNull:u,isAnimationActive:d,offset:f,payloadUniqBy:h,position:m,reverseDirection:g,useTranslate3d:b,wrapperStyle:y,cursor:v,shared:p,trigger:w,defaultIndex:_,portal:j,axisId:S}=n,E=Ge(),O=typeof _=="number"?String(_):_;x.useEffect(()=>{E(lH({shared:p,trigger:w,axisId:S,active:a,defaultIndex:O}))},[E,p,w,S,a,O]);var A=sh(),N=kk(),I=tH(p),{activeIndex:P,isActive:K}=(t=Z(W=>mW(W,I,w,O)))!==null&&t!==void 0?t:{},T=Z(W=>hW(W,I,w,O)),q=Z(W=>tP(W,I,w,O)),C=Z(W=>fW(W,I,w,O)),k=T,D=IW(),L=(r=a??K)!==null&&r!==void 0?r:!1,[H,le]=B$([k,L]),ue=I==="axis"?q:void 0;aV(I,w,C,ue,P,L);var ce=j??D;if(ce==null||A==null||I==null)return null;var de=k??lS;L||(de=lS),u&&de.length&&(de=t$(de.filter(W=>W.value!=null&&(W.hide!==!0||n.includeHidden)),h,sV));var Ee=de.length>0,z=x.createElement(n8,{allowEscapeViewBox:i,animationDuration:o,animationEasing:l,isAnimationActive:d,active:L,coordinate:C,hasPayload:Ee,offset:f,position:m,reverseDirection:g,useTranslate3d:b,viewBox:A,wrapperStyle:y,lastBoundingBox:H,innerRef:le,hasPortalFromProps:!!j},uV(s,oS(oS({},n),{},{payload:de,label:ue,active:L,activeIndex:P,coordinate:C,accessibilityLayer:N})));return x.createElement(x.Fragment,null,wv.createPortal(z,ce),L&&x.createElement(BW,{cursor:v,tooltipEventType:I,coordinate:C,payload:de,index:P}))}var ob=e=>null;ob.displayName="Cell";function fV(e,t,r){return(t=hV(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hV(e){var t=mV(e,"string");return typeof t=="symbol"?t:t+""}function mV(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class pV{constructor(t){fV(this,"cache",new Map),this.maxSize=t}get(t){var r=this.cache.get(t);return r!==void 0&&(this.cache.delete(t),this.cache.set(t,r)),r}set(t,r){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;n!=null&&this.cache.delete(n)}this.cache.set(t,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function sS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function gV(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?sS(Object(r),!0).forEach(function(n){vV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vV(e,t,r){return(t=yV(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yV(e){var t=bV(e,"string");return typeof t=="symbol"?t:t+""}function bV(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var xV={cacheSize:2e3,enableCache:!0},lP=gV({},xV),uS=new pV(lP.cacheSize),wV={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},cS="recharts_measurement_span";function _V(e,t){var r=t.fontSize||"",n=t.fontFamily||"",a=t.fontWeight||"",i=t.fontStyle||"",o=t.letterSpacing||"",l=t.textTransform||"";return"".concat(e,"|").concat(r,"|").concat(n,"|").concat(a,"|").concat(i,"|").concat(o,"|").concat(l)}var dS=(e,t)=>{try{var r=document.getElementById(cS);r||(r=document.createElement("span"),r.setAttribute("id",cS),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,wV,t),r.textContent="".concat(e);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch{return{width:0,height:0}}},ds=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||hh.isSsr)return{width:0,height:0};if(!lP.enableCache)return dS(t,r);var n=_V(t,r),a=uS.get(n);if(a)return a;var i=dS(t,r);return uS.set(n,i),i},sP;function SV(e,t,r){return(t=jV(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jV(e){var t=EV(e,"string");return typeof t=="symbol"?t:t+""}function EV(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var fS=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,hS=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,OV=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,CV=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,AV={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},TV=["cm","mm","pt","pc","in","Q","px"];function kV(e){return TV.includes(e)}var xo="NaN";function NV(e,t){return e*AV[t]}class wt{static parse(t){var r,[,n,a]=(r=CV.exec(t))!==null&&r!==void 0?r:[];return n==null?wt.NaN:new wt(parseFloat(n),a??"")}constructor(t,r){this.num=t,this.unit=r,this.num=t,this.unit=r,Fr(t)&&(this.unit=""),r!==""&&!OV.test(r)&&(this.num=NaN,this.unit=""),kV(r)&&(this.num=NV(t,r),this.unit="px")}add(t){return this.unit!==t.unit?new wt(NaN,""):new wt(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new wt(NaN,""):new wt(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new wt(NaN,""):new wt(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new wt(NaN,""):new wt(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Fr(this.num)}}sP=wt;SV(wt,"NaN",new sP(NaN,""));function uP(e){if(e==null||e.includes(xo))return xo;for(var t=e;t.includes("*")||t.includes("/");){var r,[,n,a,i]=(r=fS.exec(t))!==null&&r!==void 0?r:[],o=wt.parse(n??""),l=wt.parse(i??""),s=a==="*"?o.multiply(l):o.divide(l);if(s.isNaN())return xo;t=t.replace(fS,s.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var u,[,d,f,h]=(u=hS.exec(t))!==null&&u!==void 0?u:[],m=wt.parse(d??""),g=wt.parse(h??""),b=f==="+"?m.add(g):m.subtract(g);if(b.isNaN())return xo;t=t.replace(hS,b.toString())}return t}var mS=/\(([^()]*)\)/;function PV(e){for(var t=e,r;(r=mS.exec(t))!=null;){var[,n]=r;t=t.replace(mS,uP(n))}return t}function RV(e){var t=e.replace(/\s+/g,"");return t=PV(t),t=uP(t),t}function MV(e){try{return RV(e)}catch{return xo}}function ep(e){var t=MV(e.slice(5,-1));return t===xo?"":t}var DV=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],zV=["dx","dy","angle","className","breakAll"];function sv(){return sv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},sv.apply(null,arguments)}function pS(e,t){if(e==null)return{};var r,n,a=BV(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function BV(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var cP=/[ \f\n\r\t\v\u2028\u2029]+/,dP=e=>{var{children:t,breakAll:r,style:n}=e;try{var a=[];gt(t)||(r?a=t.toString().split(""):a=t.toString().split(cP));var i=a.map(l=>({word:l,width:ds(l,n).width})),o=r?0:ds("",n).width;return{wordsWithComputedWidth:i,spaceWidth:o}}catch{return null}};function IV(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var fP=(e,t,r,n)=>e.reduce((a,i)=>{var{word:o,width:l}=i,s=a[a.length-1];if(s&&l!=null&&(t==null||n||s.width+l+r<Number(t)))s.words.push(o),s.width+=l+r;else{var u={words:[o],width:l};a.push(u)}return a},[]),hP=e=>e.reduce((t,r)=>t.width>r.width?t:r),$V="",gS=(e,t,r,n,a,i,o,l)=>{var s=e.slice(0,t),u=dP({breakAll:r,style:n,children:s+$V});if(!u)return[!1,[]];var d=fP(u.wordsWithComputedWidth,i,o,l),f=d.length>a||hP(d).width>Number(i);return[f,d]},LV=(e,t,r,n,a)=>{var{maxLines:i,children:o,style:l,breakAll:s}=e,u=F(i),d=String(o),f=fP(t,n,r,a);if(!u||a)return f;var h=f.length>i||hP(f).width>Number(n);if(!h)return f;for(var m=0,g=d.length-1,b=0,y;m<=g&&b<=d.length-1;){var v=Math.floor((m+g)/2),p=v-1,[w,_]=gS(d,p,s,l,i,n,r,a),[j]=gS(d,v,s,l,i,n,r,a);if(!w&&!j&&(m=v+1),w&&j&&(g=v-1),!w&&j){y=_;break}b++}return y||f},vS=e=>{var t=gt(e)?[]:e.toString().split(cP);return[{words:t,width:void 0}]},UV=e=>{var{width:t,scaleToFit:r,children:n,style:a,breakAll:i,maxLines:o}=e;if((t||r)&&!hh.isSsr){var l,s,u=dP({breakAll:i,children:n,style:a});if(u){var{wordsWithComputedWidth:d,spaceWidth:f}=u;l=d,s=f}else return vS(n);return LV({breakAll:i,children:n,maxLines:o,style:a},l,s,t,!!r)}return vS(n)},mP="#808080",qV={angle:0,breakAll:!1,capHeight:"0.71em",fill:mP,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},lb=x.forwardRef((e,t)=>{var r=yr(e,qV),{x:n,y:a,lineHeight:i,capHeight:o,fill:l,scaleToFit:s,textAnchor:u,verticalAnchor:d}=r,f=pS(r,DV),h=x.useMemo(()=>UV({breakAll:f.breakAll,children:f.children,maxLines:f.maxLines,scaleToFit:s,style:f.style,width:f.width}),[f.breakAll,f.children,f.maxLines,s,f.style,f.width]),{dx:m,dy:g,angle:b,className:y,breakAll:v}=f,p=pS(f,zV);if(!sn(n)||!sn(a)||h.length===0)return null;var w=Number(n)+(F(m)?m:0),_=Number(a)+(F(g)?g:0);if(!Le(w)||!Le(_))return null;var j;switch(d){case"start":j=ep("calc(".concat(o,")"));break;case"middle":j=ep("calc(".concat((h.length-1)/2," * -").concat(i," + (").concat(o," / 2))"));break;default:j=ep("calc(".concat(h.length-1," * -").concat(i,")"));break}var S=[];if(s){var E=h[0].width,{width:O}=f;S.push("scale(".concat(F(O)&&F(E)?O/E:1,")"))}return b&&S.push("rotate(".concat(b,", ").concat(w,", ").concat(_,")")),S.length&&(p.transform=S.join(" ")),x.createElement("text",sv({},Rr(p),{ref:t,x:w,y:_,className:De("recharts-text",y),textAnchor:u,fill:l.includes("url")?mP:l}),h.map((A,N)=>{var I=A.words.join(v?"":" ");return x.createElement("tspan",{x:w,dy:N===0?j:i,key:"".concat(I,"-").concat(N)},I)}))});lb.displayName="Text";var HV=["labelRef"],WV=["content"];function yS(e,t){if(e==null)return{};var r,n,a=VV(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function VV(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function bS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function We(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bS(Object(r),!0).forEach(function(n){KV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function KV(e,t,r){return(t=GV(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function GV(e){var t=FV(e,"string");return typeof t=="symbol"?t:t+""}function FV(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Sn(){return Sn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Sn.apply(null,arguments)}var pP=x.createContext(null),YV=e=>{var{x:t,y:r,upperWidth:n,lowerWidth:a,width:i,height:o,children:l}=e,s=x.useMemo(()=>({x:t,y:r,upperWidth:n,lowerWidth:a,width:i,height:o}),[t,r,n,a,i,o]);return x.createElement(pP.Provider,{value:s},l)},gP=()=>{var e=x.useContext(pP),t=sh();return e||bk(t)},XV=x.createContext(null),ZV=()=>{var e=x.useContext(XV),t=Z(G2);return e||t},JV=e=>{var{value:t,formatter:r}=e,n=gt(e.children)?t:e.children;return typeof r=="function"?r(n):n},sb=e=>e!=null&&typeof e=="function",QV=(e,t)=>{var r=Kt(t-e),n=Math.min(Math.abs(t-e),360);return r*n},eK=(e,t,r,n,a)=>{var{offset:i,className:o}=e,{cx:l,cy:s,innerRadius:u,outerRadius:d,startAngle:f,endAngle:h,clockWise:m}=a,g=(u+d)/2,b=QV(f,h),y=b>=0?1:-1,v,p;switch(t){case"insideStart":v=f+y*i,p=m;break;case"insideEnd":v=h-y*i,p=!m;break;case"end":v=h+y*i,p=m;break;default:throw new Error("Unsupported position ".concat(t))}p=b<=0?p:!p;var w=Ot(l,s,g,v),_=Ot(l,s,g,v+(p?1:-1)*359),j="M".concat(w.x,",").concat(w.y,`
    A`).concat(g,",").concat(g,",0,1,").concat(p?0:1,`,
    `).concat(_.x,",").concat(_.y),S=gt(e.id)?Ns("recharts-radial-line-"):e.id;return x.createElement("text",Sn({},n,{dominantBaseline:"central",className:De("recharts-radial-bar-label",o)}),x.createElement("defs",null,x.createElement("path",{id:S,d:j})),x.createElement("textPath",{xlinkHref:"#".concat(S)},r))},tK=(e,t,r)=>{var{cx:n,cy:a,innerRadius:i,outerRadius:o,startAngle:l,endAngle:s}=e,u=(l+s)/2;if(r==="outside"){var{x:d,y:f}=Ot(n,a,o+t,u);return{x:d,y:f,textAnchor:d>=n?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"end"};var h=(i+o)/2,{x:m,y:g}=Ot(n,a,h,u);return{x:m,y:g,textAnchor:"middle",verticalAnchor:"middle"}},uv=e=>"cx"in e&&F(e.cx),rK=(e,t)=>{var{parentViewBox:r,offset:n,position:a}=e,i;r!=null&&!uv(r)&&(i=r);var{x:o,y:l,upperWidth:s,lowerWidth:u,height:d}=t,f=o,h=o+(s-u)/2,m=(f+h)/2,g=(s+u)/2,b=f+s/2,y=d>=0?1:-1,v=y*n,p=y>0?"end":"start",w=y>0?"start":"end",_=s>=0?1:-1,j=_*n,S=_>0?"end":"start",E=_>0?"start":"end";if(a==="top"){var O={x:f+s/2,y:l-v,textAnchor:"middle",verticalAnchor:p};return We(We({},O),i?{height:Math.max(l-i.y,0),width:s}:{})}if(a==="bottom"){var A={x:h+u/2,y:l+d+v,textAnchor:"middle",verticalAnchor:w};return We(We({},A),i?{height:Math.max(i.y+i.height-(l+d),0),width:u}:{})}if(a==="left"){var N={x:m-j,y:l+d/2,textAnchor:S,verticalAnchor:"middle"};return We(We({},N),i?{width:Math.max(N.x-i.x,0),height:d}:{})}if(a==="right"){var I={x:m+g+j,y:l+d/2,textAnchor:E,verticalAnchor:"middle"};return We(We({},I),i?{width:Math.max(i.x+i.width-I.x,0),height:d}:{})}var P=i?{width:g,height:d}:{};return a==="insideLeft"?We({x:m+j,y:l+d/2,textAnchor:E,verticalAnchor:"middle"},P):a==="insideRight"?We({x:m+g-j,y:l+d/2,textAnchor:S,verticalAnchor:"middle"},P):a==="insideTop"?We({x:f+s/2,y:l+v,textAnchor:"middle",verticalAnchor:w},P):a==="insideBottom"?We({x:h+u/2,y:l+d-v,textAnchor:"middle",verticalAnchor:p},P):a==="insideTopLeft"?We({x:f+j,y:l+v,textAnchor:E,verticalAnchor:w},P):a==="insideTopRight"?We({x:f+s-j,y:l+v,textAnchor:S,verticalAnchor:w},P):a==="insideBottomLeft"?We({x:h+j,y:l+d-v,textAnchor:E,verticalAnchor:p},P):a==="insideBottomRight"?We({x:h+u-j,y:l+d-v,textAnchor:S,verticalAnchor:p},P):a&&typeof a=="object"&&(F(a.x)||Un(a.x))&&(F(a.y)||Un(a.y))?We({x:o+Yr(a.x,g),y:l+Yr(a.y,d),textAnchor:"end",verticalAnchor:"end"},P):We({x:b,y:l+d/2,textAnchor:"middle",verticalAnchor:"middle"},P)},nK={angle:0,offset:5,zIndex:Bt.label,position:"middle",textBreakAll:!1};function ca(e){var t=yr(e,nK),{viewBox:r,position:n,value:a,children:i,content:o,className:l="",textBreakAll:s,labelRef:u}=t,d=ZV(),f=gP(),h=n==="center"?f:d??f,m,g,b;if(r==null?m=h:uv(r)?m=r:m=bk(r),!m||gt(a)&&gt(i)&&!x.isValidElement(o)&&typeof o!="function")return null;var y=We(We({},t),{},{viewBox:m});if(x.isValidElement(o)){var{labelRef:v}=y,p=yS(y,HV);return x.cloneElement(o,p)}if(typeof o=="function"){var{content:w}=y,_=yS(y,WV);if(g=x.createElement(o,_),x.isValidElement(g))return g}else g=JV(t);var j=Rr(t);if(uv(m)){if(n==="insideStart"||n==="insideEnd"||n==="end")return eK(t,n,g,j,m);b=tK(m,t.offset,t.position)}else b=rK(t,m);return x.createElement(na,{zIndex:t.zIndex},x.createElement(lb,Sn({ref:u,className:De("recharts-label",l)},j,b,{textAnchor:IV(j.textAnchor)?j.textAnchor:b.textAnchor,breakAll:s}),g))}ca.displayName="Label";var aK=(e,t,r)=>{if(!e)return null;var n={viewBox:t,labelRef:r};return e===!0?x.createElement(ca,Sn({key:"label-implicit"},n)):sn(e)?x.createElement(ca,Sn({key:"label-implicit",value:e},n)):x.isValidElement(e)?e.type===ca?x.cloneElement(e,We({key:"label-implicit"},n)):x.createElement(ca,Sn({key:"label-implicit",content:e},n)):sb(e)?x.createElement(ca,Sn({key:"label-implicit",content:e},n)):e&&typeof e=="object"?x.createElement(ca,Sn({},e,{key:"label-implicit"},n)):null};function iK(e){var{label:t,labelRef:r}=e,n=gP();return aK(t,n,r)||null}var vP={},yP={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r[r.length-1]}e.last=t})(yP);var bP={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Array.isArray(r)?r:Array.from(r)}e.toArray=t})(bP);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=yP,r=bP,n=Vf;function a(i){if(n.isArrayLike(i))return t.last(r.toArray(i))}e.last=a})(vP);var oK=vP.last;const lK=Fn(oK);var sK=["valueAccessor"],uK=["dataKey","clockWise","id","textBreakAll","zIndex"];function nf(){return nf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},nf.apply(null,arguments)}function xS(e,t){if(e==null)return{};var r,n,a=cK(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function cK(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var dK=e=>Array.isArray(e.value)?lK(e.value):e.value,xP=x.createContext(void 0),fK=xP.Provider,wP=x.createContext(void 0);wP.Provider;function hK(){return x.useContext(xP)}function mK(){return x.useContext(wP)}function zc(e){var{valueAccessor:t=dK}=e,r=xS(e,sK),{dataKey:n,clockWise:a,id:i,textBreakAll:o,zIndex:l}=r,s=xS(r,uK),u=hK(),d=mK(),f=u||d;return!f||!f.length?null:x.createElement(na,{zIndex:l??Bt.label},x.createElement(Ln,{className:"recharts-label-list"},f.map((h,m)=>{var g,b=gt(n)?t(h,m):At(h&&h.payload,n),y=gt(i)?{}:{id:"".concat(i,"-").concat(m)};return x.createElement(ca,nf({key:"label-".concat(m)},Rr(h),s,y,{fill:(g=r.fill)!==null&&g!==void 0?g:h.fill,parentViewBox:h.parentViewBox,value:b,textBreakAll:o,viewBox:h.viewBox,index:m,zIndex:0}))})))}zc.displayName="LabelList";function pK(e){var{label:t}=e;return t?t===!0?x.createElement(zc,{key:"labelList-implicit"}):x.isValidElement(t)||sb(t)?x.createElement(zc,{key:"labelList-implicit",content:t}):typeof t=="object"?x.createElement(zc,nf({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}var gK={radiusAxis:{},angleAxis:{}},_P=Zt({name:"polarAxis",initialState:gK,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:vZ,removeRadiusAxis:yZ,addAngleAxis:bZ,removeAngleAxis:xZ}=_P.actions,vK=_P.reducer,SP={exports:{}},je={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ub=Symbol.for("react.transitional.element"),cb=Symbol.for("react.portal"),Nh=Symbol.for("react.fragment"),Ph=Symbol.for("react.strict_mode"),Rh=Symbol.for("react.profiler"),Mh=Symbol.for("react.consumer"),Dh=Symbol.for("react.context"),zh=Symbol.for("react.forward_ref"),Bh=Symbol.for("react.suspense"),Ih=Symbol.for("react.suspense_list"),$h=Symbol.for("react.memo"),Lh=Symbol.for("react.lazy"),yK=Symbol.for("react.view_transition"),bK=Symbol.for("react.client.reference");function Br(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case ub:switch(e=e.type,e){case Nh:case Rh:case Ph:case Bh:case Ih:case yK:return e;default:switch(e=e&&e.$$typeof,e){case Dh:case zh:case Lh:case $h:return e;case Mh:return e;default:return t}}case cb:return t}}}je.ContextConsumer=Mh;je.ContextProvider=Dh;je.Element=ub;je.ForwardRef=zh;je.Fragment=Nh;je.Lazy=Lh;je.Memo=$h;je.Portal=cb;je.Profiler=Rh;je.StrictMode=Ph;je.Suspense=Bh;je.SuspenseList=Ih;je.isContextConsumer=function(e){return Br(e)===Mh};je.isContextProvider=function(e){return Br(e)===Dh};je.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===ub};je.isForwardRef=function(e){return Br(e)===zh};je.isFragment=function(e){return Br(e)===Nh};je.isLazy=function(e){return Br(e)===Lh};je.isMemo=function(e){return Br(e)===$h};je.isPortal=function(e){return Br(e)===cb};je.isProfiler=function(e){return Br(e)===Rh};je.isStrictMode=function(e){return Br(e)===Ph};je.isSuspense=function(e){return Br(e)===Bh};je.isSuspenseList=function(e){return Br(e)===Ih};je.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Nh||e===Rh||e===Ph||e===Bh||e===Ih||typeof e=="object"&&e!==null&&(e.$$typeof===Lh||e.$$typeof===$h||e.$$typeof===Dh||e.$$typeof===Mh||e.$$typeof===zh||e.$$typeof===bK||e.getModuleId!==void 0)};je.typeOf=Br;SP.exports=je;var xK=SP.exports,wS=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",_S=null,tp=null,jP=e=>{if(e===_S&&Array.isArray(tp))return tp;var t=[];return x.Children.forEach(e,r=>{gt(r)||(xK.isFragment(r)?t=t.concat(jP(r.props.children)):t.push(r))}),tp=t,_S=e,t};function wK(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(a=>wS(a)):n=[wS(t)],jP(e).forEach(a=>{var i=Vo(a,"type.displayName")||Vo(a,"type.name");i&&n.indexOf(i)!==-1&&r.push(a)}),r}var EP={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var a;if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const i=r[Symbol.toStringTag];return i==null||!((a=Object.getOwnPropertyDescriptor(r,Symbol.toStringTag))!=null&&a.writable)?!1:r.toString()===`[object ${i}]`}let n=r;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(r)===n}e.isPlainObject=t})(EP);var _K=EP.isPlainObject;const SK=Fn(_K);var SS,jS,ES,OS,CS;function AS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function TS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?AS(Object(r),!0).forEach(function(n){jK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):AS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jK(e,t,r){return(t=EK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function EK(e){var t=OK(e,"string");return typeof t=="symbol"?t:t+""}function OK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function af(){return af=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},af.apply(null,arguments)}function $l(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var kS=(e,t,r,n,a)=>{var i=r-n,o;return o=qe(SS||(SS=$l(["M ",",",""])),e,t),o+=qe(jS||(jS=$l(["L ",",",""])),e+r,t),o+=qe(ES||(ES=$l(["L ",",",""])),e+r-i/2,t+a),o+=qe(OS||(OS=$l(["L ",",",""])),e+r-i/2-n,t+a),o+=qe(CS||(CS=$l(["L ",","," Z"])),e,t),o},CK={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},AK=e=>{var t=yr(e,CK),{x:r,y:n,upperWidth:a,lowerWidth:i,height:o,className:l}=t,{animationEasing:s,animationDuration:u,animationBegin:d,isUpdateAnimationActive:f}=t,h=x.useRef(null),[m,g]=x.useState(-1),b=x.useRef(a),y=x.useRef(i),v=x.useRef(o),p=x.useRef(r),w=x.useRef(n),_=l0(e,"trapezoid-");if(x.useEffect(()=>{if(h.current&&h.current.getTotalLength)try{var T=h.current.getTotalLength();T&&g(T)}catch{}},[]),r!==+r||n!==+n||a!==+a||i!==+i||o!==+o||a===0&&i===0||o===0)return null;var j=De("recharts-trapezoid",l);if(!f)return x.createElement("g",null,x.createElement("path",af({},Rr(t),{className:j,d:kS(r,n,a,i,o)})));var S=b.current,E=y.current,O=v.current,A=p.current,N=w.current,I="0px ".concat(m===-1?1:m,"px"),P="".concat(m,"px 0px"),K=Pk(["strokeDasharray"],u,s);return x.createElement(o0,{animationId:_,key:_,canBegin:m>0,duration:u,easing:s,isActive:f,begin:d},T=>{var q=_t(S,a,T),C=_t(E,i,T),k=_t(O,o,T),D=_t(A,r,T),L=_t(N,n,T);h.current&&(b.current=q,y.current=C,v.current=k,p.current=D,w.current=L);var H=T>0?{transition:K,strokeDasharray:P}:{strokeDasharray:I};return x.createElement("path",af({},Rr(t),{className:j,d:kS(D,L,q,C,k),ref:h,style:TS(TS({},H),t.style)}))})},TK=["option","shapeType","activeClassName"];function kK(e,t){if(e==null)return{};var r,n,a=NK(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function NK(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function NS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function of(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?NS(Object(r),!0).forEach(function(n){PK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):NS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function PK(e,t,r){return(t=RK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function RK(e){var t=MK(e,"string");return typeof t=="symbol"?t:t+""}function MK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function DK(e,t){return of(of({},t),e)}function zK(e,t){return e==="symbols"}function PS(e){var{shapeType:t,elementProps:r}=e;switch(t){case"rectangle":return x.createElement(zk,r);case"trapezoid":return x.createElement(AK,r);case"sector":return x.createElement($k,r);case"symbols":if(zK(t))return x.createElement(rT,r);break;case"curve":return x.createElement(Nk,r);default:return null}}function BK(e){return x.isValidElement(e)?e.props:e}function IK(e){var{option:t,shapeType:r,activeClassName:n="recharts-active-shape"}=e,a=kK(e,TK),i;if(x.isValidElement(t))i=x.cloneElement(t,of(of({},a),BK(t)));else if(typeof t=="function")i=t(a,a.index);else if(SK(t)&&typeof t!="boolean"){var o=DK(t,a);i=x.createElement(PS,{shapeType:r,elementProps:o})}else{var l=a;i=x.createElement(PS,{shapeType:r,elementProps:l})}return a.isActive?x.createElement(Ln,{className:n},i):i}var OP=(e,t,r)=>{var n=Ge();return(a,i)=>o=>{e==null||e(a,i,o),n(zN({activeIndex:String(i),activeDataKey:t,activeCoordinate:a.tooltipPosition,activeGraphicalItemId:r}))}},CP=e=>{var t=Ge();return(r,n)=>a=>{e==null||e(r,n,a),t(sH())}},AP=(e,t,r)=>{var n=Ge();return(a,i)=>o=>{e==null||e(a,i,o),n(uH({activeIndex:String(i),activeDataKey:t,activeCoordinate:a.tooltipPosition,activeGraphicalItemId:r}))}};function $K(e){var{tooltipEntrySettings:t}=e,r=Ge(),n=Jt(),a=x.useRef(null);return x.useLayoutEffect(()=>{n||(a.current===null?r(aH(t)):a.current!==t&&r(iH({prev:a.current,next:t})),a.current=t)},[t,r,n]),x.useLayoutEffect(()=>()=>{a.current&&(r(oH(a.current)),a.current=null)},[r]),null}function LK(e){var{legendPayload:t}=e,r=Ge(),n=Jt(),a=x.useRef(null);return x.useLayoutEffect(()=>{n||(a.current===null?r(qU(t)):a.current!==t&&r(HU({prev:a.current,next:t})),a.current=t)},[r,n,t]),x.useLayoutEffect(()=>()=>{a.current&&(r(WU(a.current)),a.current=null)},[r]),null}var rp,UK=()=>{var[e]=x.useState(()=>Ns("uid-"));return e},qK=(rp=cj.useId)!==null&&rp!==void 0?rp:UK;function HK(e,t){var r=qK();return t||(e?"".concat(e,"-").concat(r):r)}var WK=x.createContext(void 0),VK=e=>{var{id:t,type:r,children:n}=e,a=HK("recharts-".concat(r),t);return x.createElement(WK.Provider,{value:a},n(a))},KK={cartesianItems:[],polarItems:[]},TP=Zt({name:"graphicalItems",initialState:KK,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:Be()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:r,next:n}=t.payload,a=Gr(e).cartesianItems.indexOf(r);a>-1&&(e.cartesianItems[a]=n)},prepare:Be()},removeCartesianGraphicalItem:{reducer(e,t){var r=Gr(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},prepare:Be()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:Be()},removePolarGraphicalItem:{reducer(e,t){var r=Gr(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)},prepare:Be()}}}),{addCartesianGraphicalItem:GK,replaceCartesianGraphicalItem:FK,removeCartesianGraphicalItem:YK,addPolarGraphicalItem:wZ,removePolarGraphicalItem:_Z}=TP.actions,XK=TP.reducer,ZK=e=>{var t=Ge(),r=x.useRef(null);return x.useLayoutEffect(()=>{r.current===null?t(GK(e)):r.current!==e&&t(FK({prev:r.current,next:e})),r.current=e},[t,e]),x.useLayoutEffect(()=>()=>{r.current&&(t(YK(r.current)),r.current=null)},[t]),null},JK=x.memo(ZK);function RS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function MS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?RS(Object(r),!0).forEach(function(n){QK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):RS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function QK(e,t,r){return(t=eG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function eG(e){var t=tG(e,"string");return typeof t=="symbol"?t:t+""}function tG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var kP=0,rG={xAxis:{},yAxis:{},zAxis:{}},NP=Zt({name:"cartesianAxis",initialState:rG,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:Be()},replaceXAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.xAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.xAxis[r.id],e.xAxis[n.id]=n)},prepare:Be()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:Be()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:Be()},replaceYAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.yAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.yAxis[r.id],e.yAxis[n.id]=n)},prepare:Be()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:Be()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:Be()},replaceZAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.zAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.zAxis[r.id],e.zAxis[n.id]=n)},prepare:Be()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:Be()},updateYAxisWidth(e,t){var{id:r,width:n}=t.payload,a=e.yAxis[r];if(a){var i=a.widthHistory||[];if(i.length===3&&i[0]===i[2]&&n===i[1]&&n!==a.width&&Math.abs(n-i[0])<=1)return;var o=[...i,n].slice(-3);e.yAxis[r]=MS(MS({},e.yAxis[r]),{},{width:n,widthHistory:o})}}}}),{addXAxis:nG,replaceXAxis:aG,removeXAxis:iG,addYAxis:oG,replaceYAxis:lG,removeYAxis:sG,addZAxis:SZ,replaceZAxis:jZ,removeZAxis:EZ,updateYAxisWidth:uG}=NP.actions,cG=NP.reducer,dG=R([vt],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),fG=R([dG,Xn,Zn],(e,t,r)=>{if(!(!e||t==null||r==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,r-e.top-e.bottom)}}),PP=()=>Z(fG),DS=(e,t,r)=>{var n=r??e;if(!gt(n))return Yr(n,t,0)},hG=(e,t,r)=>{var n={},a=e.filter(jh),i=e.filter(u=>u.stackId==null),o=a.reduce((u,d)=>(u[d.stackId]||(u[d.stackId]=[]),u[d.stackId].push(d),u),n),l=Object.entries(o).map(u=>{var[d,f]=u,h=f.map(g=>g.dataKey),m=DS(t,r,f[0].barSize);return{stackId:d,dataKeys:h,barSize:m}}),s=i.map(u=>{var d=[u.dataKey].filter(h=>h!=null),f=DS(t,r,u.barSize);return{stackId:void 0,dataKeys:d,barSize:f}});return[...l,...s]};function zS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function pc(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?zS(Object(r),!0).forEach(function(n){mG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):zS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mG(e,t,r){return(t=pG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pG(e){var t=gG(e,"string");return typeof t=="symbol"?t:t+""}function gG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vG(e,t,r,n,a){var i=n.length;if(!(i<1)){var o=Yr(e,r,0,!0),l,s=[];if(Le(n[0].barSize)){var u=!1,d=r/i,f=n.reduce((v,p)=>v+(p.barSize||0),0);f+=(i-1)*o,f>=r&&(f-=(i-1)*o,o=0),f>=r&&d>0&&(u=!0,d*=.9,f=i*d);var h=(r-f)/2>>0,m={offset:h-o,size:0};l=n.reduce((v,p)=>{var w,_={stackId:p.stackId,dataKeys:p.dataKeys,position:{offset:m.offset+m.size+o,size:u?d:(w=p.barSize)!==null&&w!==void 0?w:0}},j=[...v,_];return m=j[j.length-1].position,j},s)}else{var g=Yr(t,r,0,!0);r-2*g-(i-1)*o<=0&&(o=0);var b=(r-2*g-(i-1)*o)/i;b>1&&(b>>=0);var y=Le(a)?Math.min(b,a):b;l=n.reduce((v,p,w)=>[...v,{stackId:p.stackId,dataKeys:p.dataKeys,position:{offset:g+(b+o)*w+(b-y)/2,size:y}}],s)}return l}}var yG=(e,t,r,n,a,i,o)=>{var l=gt(o)?t:o,s=vG(r,n,a!==i?a:i,e,l);return a!==i&&s!=null&&(s=s.map(u=>pc(pc({},u),{},{position:pc(pc({},u.position),{},{offset:u.position.offset-a/2})}))),s},bG=(e,t)=>{var r=$0(t);if(!(!e||r==null||t==null)){var{stackId:n}=t;if(n!=null){var a=e[n];if(a){var{stackedData:i}=a;if(i)return i.find(o=>o.key===r)}}}};function xG(e,t){return e&&typeof e=="object"&&"zIndex"in e&&typeof e.zIndex=="number"&&Le(e.zIndex)?e.zIndex:t}var wG=e=>{var{chartData:t}=e,r=Ge(),n=Jt();return x.useEffect(()=>n?()=>{}:(r(nS(t)),()=>{r(nS(void 0))}),[t,r,n]),null},BS={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},RP=Zt({name:"brush",initialState:BS,reducers:{setBrushSettings(e,t){return t.payload==null?BS:t.payload}}}),{setBrushSettings:OZ}=RP.actions,_G=RP.reducer;function SG(e,t,r){return(t=jG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jG(e){var t=EG(e,"string");return typeof t=="symbol"?t:t+""}function EG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class db{static create(t){return new db(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:r,position:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(n)switch(n){case"start":return this.scale(t);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+a}case"end":{var i=this.bandwidth?this.bandwidth():0;return this.scale(t)+i}default:return this.scale(t)}if(r){var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+o}return this.scale(t)}}isInRange(t){var r=this.range(),n=r[0],a=r[r.length-1];return n<=a?t>=n&&t<=a:t>=a&&t<=n}}SG(db,"EPS",1e-4);function OG(e){return(e%180+180)%180}var CG=function(t){var{width:r,height:n}=t,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=OG(a),o=i*Math.PI/180,l=Math.atan(n/r),s=o>l&&o<Math.PI-l?n/Math.sin(o):r/Math.cos(o);return Math.abs(s)},AG={dots:[],areas:[],lines:[]},MP=Zt({name:"referenceElements",initialState:AG,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=Gr(e).dots.findIndex(n=>n===t.payload);r!==-1&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=Gr(e).areas.findIndex(n=>n===t.payload);r!==-1&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=Gr(e).lines.findIndex(n=>n===t.payload);r!==-1&&e.lines.splice(r,1)}}}),{addDot:CZ,removeDot:AZ,addArea:TZ,removeArea:kZ,addLine:NZ,removeLine:PZ}=MP.actions,TG=MP.reducer,kG=x.createContext(void 0),NG=e=>{var{children:t}=e,[r]=x.useState("".concat(Ns("recharts"),"-clip")),n=PP();if(n==null)return null;var{x:a,y:i,width:o,height:l}=n;return x.createElement(kG.Provider,{value:r},x.createElement("defs",null,x.createElement("clipPath",{id:r},x.createElement("rect",{x:a,y:i,height:l,width:o}))),t)};function DP(e,t){if(t<1)return[];if(t===1)return e;for(var r=[],n=0;n<e.length;n+=t){var a=e[n];a!==void 0&&r.push(a)}return r}function PG(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return CG(n,r)}function RG(e,t,r){var n=r==="width",{x:a,y:i,width:o,height:l}=e;return t===1?{start:n?a:i,end:n?a+o:i+l}:{start:n?a+o:i+l,end:n?a:i}}function Vs(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var i=r();return e*(t-e*i/2-n)>=0&&e*(t+e*i/2-a)<=0}function MG(e,t){return DP(e,t+1)}function DG(e,t,r,n,a){for(var i=(n||[]).slice(),{start:o,end:l}=t,s=0,u=1,d=o,f=function(){var g=n==null?void 0:n[s];if(g===void 0)return{v:DP(n,u)};var b=s,y,v=()=>(y===void 0&&(y=r(g,b)),y),p=g.coordinate,w=s===0||Vs(e,p,v,d,l);w||(s=0,d=o,u+=1),w&&(d=p+e*(v()/2+a),s+=u)},h;u<=i.length;)if(h=f(),h)return h.v;return[]}function zG(e,t,r,n,a){var i=(n||[]).slice(),o=i.length;if(o===0)return[];for(var{start:l,end:s}=t,u=1;u<=o;u++){for(var d=(o-1)%u,f=l,h=!0,m=function(){var p=n[g],w=g,_,j=()=>(_===void 0&&(_=r(p,w)),_),S=p.coordinate,E=g===d||Vs(e,S,j,f,s);if(!E)return h=!1,1;E&&(f=S+e*(j()/2+a))},g=d;g<o&&!m();g+=u);if(h){for(var b=[],y=d;y<o;y+=u)b.push(n[y]);return b}}return[]}function IS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Tt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?IS(Object(r),!0).forEach(function(n){BG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):IS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function BG(e,t,r){return(t=IG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function IG(e){var t=$G(e,"string");return typeof t=="symbol"?t:t+""}function $G(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function LG(e,t,r,n,a){for(var i=(n||[]).slice(),o=i.length,{start:l}=t,{end:s}=t,u=function(h){var m=i[h],g,b=()=>(g===void 0&&(g=r(m,h)),g);if(h===o-1){var y=e*(m.coordinate+e*b()/2-s);i[h]=m=Tt(Tt({},m),{},{tickCoord:y>0?m.coordinate-y*e:m.coordinate})}else i[h]=m=Tt(Tt({},m),{},{tickCoord:m.coordinate});if(m.tickCoord!=null){var v=Vs(e,m.tickCoord,b,l,s);v&&(s=m.tickCoord-e*(b()/2+a),i[h]=Tt(Tt({},m),{},{isShow:!0}))}},d=o-1;d>=0;d--)u(d);return i}function UG(e,t,r,n,a,i){var o=(n||[]).slice(),l=o.length,{start:s,end:u}=t;if(i){var d=n[l-1],f=r(d,l-1),h=e*(d.coordinate+e*f/2-u);if(o[l-1]=d=Tt(Tt({},d),{},{tickCoord:h>0?d.coordinate-h*e:d.coordinate}),d.tickCoord!=null){var m=Vs(e,d.tickCoord,()=>f,s,u);m&&(u=d.tickCoord-e*(f/2+a),o[l-1]=Tt(Tt({},d),{},{isShow:!0}))}}for(var g=i?l-1:l,b=function(p){var w=o[p],_,j=()=>(_===void 0&&(_=r(w,p)),_);if(p===0){var S=e*(w.coordinate-e*j()/2-s);o[p]=w=Tt(Tt({},w),{},{tickCoord:S<0?w.coordinate-S*e:w.coordinate})}else o[p]=w=Tt(Tt({},w),{},{tickCoord:w.coordinate});if(w.tickCoord!=null){var E=Vs(e,w.tickCoord,j,s,u);E&&(s=w.tickCoord+e*(j()/2+a),o[p]=Tt(Tt({},w),{},{isShow:!0}))}},y=0;y<g;y++)b(y);return o}function fb(e,t,r){var{tick:n,ticks:a,viewBox:i,minTickGap:o,orientation:l,interval:s,tickFormatter:u,unit:d,angle:f}=e;if(!a||!a.length||!n)return[];if(F(s)||hh.isSsr){var h;return(h=MG(a,F(s)?s:0))!==null&&h!==void 0?h:[]}var m=[],g=l==="top"||l==="bottom"?"width":"height",b=d&&g==="width"?ds(d,{fontSize:t,letterSpacing:r}):{width:0,height:0},y=(w,_)=>{var j=typeof u=="function"?u(w.value,_):w.value;return g==="width"?PG(ds(j,{fontSize:t,letterSpacing:r}),b,f):ds(j,{fontSize:t,letterSpacing:r})[g]},v=a.length>=2?Kt(a[1].coordinate-a[0].coordinate):1,p=RG(i,v,g);return s==="equidistantPreserveStart"?DG(v,p,y,a,o):s==="equidistantPreserveEnd"?zG(v,p,y,a,o):(s==="preserveStart"||s==="preserveStartEnd"?m=UG(v,p,y,a,o,s==="preserveStartEnd"):m=LG(v,p,y,a,o),m.filter(w=>w.isShow))}var qG=e=>{var{ticks:t,label:r,labelGapWithTick:n=5,tickSize:a=0,tickMargin:i=0}=e,o=0;if(t){Array.from(t).forEach(d=>{if(d){var f=d.getBoundingClientRect();f.width>o&&(o=f.width)}});var l=r?r.getBoundingClientRect().width:0,s=a+i,u=o+s+l+(r?n:0);return Math.round(u)}return 0},HG=["axisLine","width","height","className","hide","ticks","axisType"];function WG(e,t){if(e==null)return{};var r,n,a=VG(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function VG(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function Ni(){return Ni=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ni.apply(null,arguments)}function $S(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ye(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?$S(Object(r),!0).forEach(function(n){KG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$S(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function KG(e,t,r){return(t=GG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function GG(e){var t=FG(e,"string");return typeof t=="symbol"?t:t+""}function FG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Rn={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:Bt.axis};function YG(e){var{x:t,y:r,width:n,height:a,orientation:i,mirror:o,axisLine:l,otherSvgProps:s}=e;if(!l)return null;var u=Ye(Ye(Ye({},s),$n(l)),{},{fill:"none"});if(i==="top"||i==="bottom"){var d=+(i==="top"&&!o||i==="bottom"&&o);u=Ye(Ye({},u),{},{x1:t,y1:r+d*a,x2:t+n,y2:r+d*a})}else{var f=+(i==="left"&&!o||i==="right"&&o);u=Ye(Ye({},u),{},{x1:t+f*n,y1:r,x2:t+f*n,y2:r+a})}return x.createElement("line",Ni({},u,{className:De("recharts-cartesian-axis-line",Vo(l,"className"))}))}function XG(e,t,r,n,a,i,o,l,s){var u,d,f,h,m,g,b=l?-1:1,y=e.tickSize||o,v=F(e.tickCoord)?e.tickCoord:e.coordinate;switch(i){case"top":u=d=e.coordinate,h=r+ +!l*a,f=h-b*y,g=f-b*s,m=v;break;case"left":f=h=e.coordinate,d=t+ +!l*n,u=d-b*y,m=u-b*s,g=v;break;case"right":f=h=e.coordinate,d=t+ +l*n,u=d+b*y,m=u+b*s,g=v;break;default:u=d=e.coordinate,h=r+ +l*a,f=h+b*y,g=f+b*s,m=v;break}return{line:{x1:u,y1:f,x2:d,y2:h},tick:{x:m,y:g}}}function ZG(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function JG(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function QG(e){var{option:t,tickProps:r,value:n}=e,a,i=De(r.className,"recharts-cartesian-axis-tick-value");if(x.isValidElement(t))a=x.cloneElement(t,Ye(Ye({},r),{},{className:i}));else if(typeof t=="function")a=t(Ye(Ye({},r),{},{className:i}));else{var o="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(o=De(o,t==null?void 0:t.className)),a=x.createElement(lb,Ni({},r,{className:o}),n)}return a}var eF=x.forwardRef((e,t)=>{var{ticks:r=[],tick:n,tickLine:a,stroke:i,tickFormatter:o,unit:l,padding:s,tickTextProps:u,orientation:d,mirror:f,x:h,y:m,width:g,height:b,tickSize:y,tickMargin:v,fontSize:p,letterSpacing:w,getTicksConfig:_,events:j,axisType:S}=e,E=fb(Ye(Ye({},_),{},{ticks:r}),p,w),O=ZG(d,f),A=JG(d,f),N=$n(_),I=Ry(n),P={};typeof a=="object"&&(P=a);var K=Ye(Ye({},N),{},{fill:"none"},P),T=E.map(k=>Ye({entry:k},XG(k,h,m,g,b,d,y,f,v))),q=T.map(k=>{var{entry:D,line:L}=k;return x.createElement(Ln,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(D.value,"-").concat(D.coordinate,"-").concat(D.tickCoord)},a&&x.createElement("line",Ni({},K,L,{className:De("recharts-cartesian-axis-tick-line",Vo(a,"className"))})))}),C=T.map((k,D)=>{var{entry:L,tick:H}=k,le=Ye(Ye(Ye(Ye({textAnchor:O,verticalAnchor:A},N),{},{stroke:"none",fill:i},I),H),{},{index:D,payload:L,visibleTicksCount:E.length,tickFormatter:o,padding:s},u);return x.createElement(Ln,Ni({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(L.value,"-").concat(L.coordinate,"-").concat(L.tickCoord)},Iy(j,L,D)),n&&x.createElement(QG,{option:n,tickProps:le,value:"".concat(typeof o=="function"?o(L.value,D):L.value).concat(l||"")}))});return x.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(S,"-ticks")},C.length>0&&x.createElement(na,{zIndex:Bt.label},x.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(S,"-tick-labels"),ref:t},C)),q.length>0&&x.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(S,"-tick-lines")},q))}),tF=x.forwardRef((e,t)=>{var{axisLine:r,width:n,height:a,className:i,hide:o,ticks:l,axisType:s}=e,u=WG(e,HG),[d,f]=x.useState(""),[h,m]=x.useState(""),g=x.useRef(null);x.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var y;return qG({ticks:g.current,label:(y=e.labelRef)===null||y===void 0?void 0:y.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var b=x.useCallback(y=>{if(y){var v=y.getElementsByClassName("recharts-cartesian-axis-tick-value");g.current=v;var p=v[0];if(p){var w=window.getComputedStyle(p),_=w.fontSize,j=w.letterSpacing;(_!==d||j!==h)&&(f(_),m(j))}}},[d,h]);return o||n!=null&&n<=0||a!=null&&a<=0?null:x.createElement(na,{zIndex:e.zIndex},x.createElement(Ln,{className:De("recharts-cartesian-axis",i)},x.createElement(YG,{x:e.x,y:e.y,width:n,height:a,orientation:e.orientation,mirror:e.mirror,axisLine:r,otherSvgProps:$n(e)}),x.createElement(eF,{ref:b,axisType:s,events:u,fontSize:d,getTicksConfig:e,height:e.height,letterSpacing:h,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:l,unit:e.unit,width:e.width,x:e.x,y:e.y}),x.createElement(YV,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},x.createElement(iK,{label:e.label,labelRef:e.labelRef}),e.children)))}),hb=x.forwardRef((e,t)=>{var r=yr(e,Rn);return x.createElement(tF,Ni({},r,{ref:t}))});hb.displayName="CartesianAxis";var rF=["x1","y1","x2","y2","key"],nF=["offset"],aF=["xAxisId","yAxisId"],iF=["xAxisId","yAxisId"];function LS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function kt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?LS(Object(r),!0).forEach(function(n){oF(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):LS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function oF(e,t,r){return(t=lF(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lF(e){var t=sF(e,"string");return typeof t=="symbol"?t:t+""}function sF(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ci(){return ci=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ci.apply(null,arguments)}function lf(e,t){if(e==null)return{};var r,n,a=uF(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function uF(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var cF=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:r,x:n,y:a,width:i,height:o,ry:l}=e;return x.createElement("rect",{x:n,y:a,ry:l,width:i,height:o,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function zP(e){var{option:t,lineItemProps:r}=e,n;if(x.isValidElement(t))n=x.cloneElement(t,r);else if(typeof t=="function")n=t(r);else{var a,{x1:i,y1:o,x2:l,y2:s,key:u}=r,d=lf(r,rF),f=(a=$n(d))!==null&&a!==void 0?a:{},{offset:h}=f,m=lf(f,nF);n=x.createElement("line",ci({},m,{x1:i,y1:o,x2:l,y2:s,fill:"none",key:u}))}return n}function dF(e){var{x:t,width:r,horizontal:n=!0,horizontalPoints:a}=e;if(!n||!a||!a.length)return null;var{xAxisId:i,yAxisId:o}=e,l=lf(e,aF),s=a.map((u,d)=>{var f=kt(kt({},l),{},{x1:t,y1:u,x2:t+r,y2:u,key:"line-".concat(d),index:d});return x.createElement(zP,{key:"line-".concat(d),option:n,lineItemProps:f})});return x.createElement("g",{className:"recharts-cartesian-grid-horizontal"},s)}function fF(e){var{y:t,height:r,vertical:n=!0,verticalPoints:a}=e;if(!n||!a||!a.length)return null;var{xAxisId:i,yAxisId:o}=e,l=lf(e,iF),s=a.map((u,d)=>{var f=kt(kt({},l),{},{x1:u,y1:t,x2:u,y2:t+r,key:"line-".concat(d),index:d});return x.createElement(zP,{option:n,lineItemProps:f,key:"line-".concat(d)})});return x.createElement("g",{className:"recharts-cartesian-grid-vertical"},s)}function hF(e){var{horizontalFill:t,fillOpacity:r,x:n,y:a,width:i,height:o,horizontalPoints:l,horizontal:s=!0}=e;if(!s||!t||!t.length||l==null)return null;var u=l.map(f=>Math.round(f+a-a)).sort((f,h)=>f-h);a!==u[0]&&u.unshift(0);var d=u.map((f,h)=>{var m=!u[h+1],g=m?a+o-f:u[h+1]-f;if(g<=0)return null;var b=h%t.length;return x.createElement("rect",{key:"react-".concat(h),y:f,x:n,height:g,width:i,stroke:"none",fill:t[b],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return x.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function mF(e){var{vertical:t=!0,verticalFill:r,fillOpacity:n,x:a,y:i,width:o,height:l,verticalPoints:s}=e;if(!t||!r||!r.length)return null;var u=s.map(f=>Math.round(f+a-a)).sort((f,h)=>f-h);a!==u[0]&&u.unshift(0);var d=u.map((f,h)=>{var m=!u[h+1],g=m?a+o-f:u[h+1]-f;if(g<=0)return null;var b=h%r.length;return x.createElement("rect",{key:"react-".concat(h),x:f,y:i,width:g,height:l,stroke:"none",fill:r[b],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return x.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var pF=(e,t)=>{var{xAxis:r,width:n,height:a,offset:i}=e;return uk(fb(kt(kt(kt({},Rn),r),{},{ticks:ck(r),viewBox:{x:0,y:0,width:n,height:a}})),i.left,i.left+i.width,t)},gF=(e,t)=>{var{yAxis:r,width:n,height:a,offset:i}=e;return uk(fb(kt(kt(kt({},Rn),r),{},{ticks:ck(r),viewBox:{x:0,y:0,width:n,height:a}})),i.top,i.top+i.height,t)},vF={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:Bt.grid};function BP(e){var t=wk(),r=_k(),n=xk(),a=kt(kt({},yr(e,vF)),{},{x:F(e.x)?e.x:n.left,y:F(e.y)?e.y:n.top,width:F(e.width)?e.width:n.width,height:F(e.height)?e.height:n.height}),{xAxisId:i,yAxisId:o,x:l,y:s,width:u,height:d,syncWithTicks:f,horizontalValues:h,verticalValues:m}=a,g=Jt(),b=Z(A=>K_(A,"xAxis",i,g)),y=Z(A=>K_(A,"yAxis",o,g));if(!un(u)||!un(d)||!F(l)||!F(s))return null;var v=a.verticalCoordinatesGenerator||pF,p=a.horizontalCoordinatesGenerator||gF,{horizontalPoints:w,verticalPoints:_}=a;if((!w||!w.length)&&typeof p=="function"){var j=h&&h.length,S=p({yAxis:y?kt(kt({},y),{},{ticks:j?h:y.ticks}):void 0,width:t??u,height:r??d,offset:n},j?!0:f);Md(Array.isArray(S),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof S,"]")),Array.isArray(S)&&(w=S)}if((!_||!_.length)&&typeof v=="function"){var E=m&&m.length,O=v({xAxis:b?kt(kt({},b),{},{ticks:E?m:b.ticks}):void 0,width:t??u,height:r??d,offset:n},E?!0:f);Md(Array.isArray(O),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof O,"]")),Array.isArray(O)&&(_=O)}return x.createElement(na,{zIndex:a.zIndex},x.createElement("g",{className:"recharts-cartesian-grid"},x.createElement(cF,{fill:a.fill,fillOpacity:a.fillOpacity,x:a.x,y:a.y,width:a.width,height:a.height,ry:a.ry}),x.createElement(hF,ci({},a,{horizontalPoints:w})),x.createElement(mF,ci({},a,{verticalPoints:_})),x.createElement(dF,ci({},a,{offset:n,horizontalPoints:w,xAxis:b,yAxis:y})),x.createElement(fF,ci({},a,{offset:n,verticalPoints:_,xAxis:b,yAxis:y}))))}BP.displayName="CartesianGrid";var yF={},IP=Zt({name:"errorBars",initialState:yF,reducers:{addErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]||(e[r]=[]),e[r].push(n)},replaceErrorBar:(e,t)=>{var{itemId:r,prev:n,next:a}=t.payload;e[r]&&(e[r]=e[r].map(i=>i.dataKey===n.dataKey&&i.direction===n.direction?a:i))},removeErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]&&(e[r]=e[r].filter(a=>a.dataKey!==n.dataKey||a.direction!==n.direction))}}}),{addErrorBar:RZ,replaceErrorBar:MZ,removeErrorBar:DZ}=IP.actions,bF=IP.reducer,xF=["children"];function wF(e,t){if(e==null)return{};var r,n,a=_F(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function _F(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var SF={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},jF=x.createContext(SF);function EF(e){var{children:t}=e,r=wF(e,xF);return x.createElement(jF.Provider,{value:r},t)}function $P(e,t){var r,n,a=Z(u=>ea(u,e)),i=Z(u=>ta(u,t)),o=(r=a==null?void 0:a.allowDataOverflow)!==null&&r!==void 0?r:ct.allowDataOverflow,l=(n=i==null?void 0:i.allowDataOverflow)!==null&&n!==void 0?n:dt.allowDataOverflow,s=o||l;return{needClip:s,needClipX:o,needClipY:l}}function OF(e){var{xAxisId:t,yAxisId:r,clipPathId:n}=e,a=PP(),{needClipX:i,needClipY:o,needClip:l}=$P(t,r);if(!l||!a)return null;var{x:s,y:u,width:d,height:f}=a;return x.createElement("clipPath",{id:"clipPath-".concat(n)},x.createElement("rect",{x:i?s:s-d/2,y:o?u:u-f/2,width:i?d:d*2,height:o?f:f*2}))}var CF={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cu=x;function AF(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var TF=typeof Object.is=="function"?Object.is:AF,kF=Cu.useSyncExternalStore,NF=Cu.useRef,PF=Cu.useEffect,RF=Cu.useMemo,MF=Cu.useDebugValue;CF.useSyncExternalStoreWithSelector=function(e,t,r,n,a){var i=NF(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=RF(function(){function s(m){if(!u){if(u=!0,d=m,m=n(m),a!==void 0&&o.hasValue){var g=o.value;if(a(g,m))return f=g}return f=m}if(g=f,TF(d,m))return g;var b=n(m);return a!==void 0&&a(g,b)?(d=m,g):(d=m,f=b)}var u=!1,d,f,h=r===void 0?null:r;return[function(){return s(t())},h===null?void 0:function(){return s(h())}]},[t,r,n,a]);var l=kF(e,i[0],i[1]);return PF(function(){o.hasValue=!0,o.value=l},[l]),MF(l),l};function DF(e){e()}function zF(){let e=null,t=null;return{clear(){e=null,t=null},notify(){DF(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=e;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const a=t={callback:r,next:null,prev:t};return a.prev?a.prev.next=a:e=a,function(){!n||e===null||(n=!1,a.next?a.next.prev=a.prev:t=a.prev,a.prev?a.prev.next=a.next:e=a.next)}}}}var US={notify(){},get:()=>[]};function BF(e,t){let r,n=US,a=0,i=!1;function o(b){d();const y=n.subscribe(b);let v=!1;return()=>{v||(v=!0,y(),f())}}function l(){n.notify()}function s(){g.onStateChange&&g.onStateChange()}function u(){return i}function d(){a++,r||(r=e.subscribe(s),n=zF())}function f(){a--,r&&a===0&&(r(),r=void 0,n.clear(),n=US)}function h(){i||(i=!0,d())}function m(){i&&(i=!1,f())}const g={addNestedSub:o,notifyNestedSubs:l,handleChangeWrapper:s,isSubscribed:u,trySubscribe:h,tryUnsubscribe:m,getListeners:()=>n};return g}var IF=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",$F=IF(),LF=()=>typeof navigator<"u"&&navigator.product==="ReactNative",UF=LF(),qF=()=>$F||UF?x.useLayoutEffect:x.useEffect,HF=qF();function qS(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function WF(e,t){if(qS(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(let a=0;a<r.length;a++)if(!Object.prototype.hasOwnProperty.call(t,r[a])||!qS(e[r[a]],t[r[a]]))return!1;return!0}var np=Symbol.for("react-redux-context"),ap=typeof globalThis<"u"?globalThis:{};function VF(){if(!x.createContext)return{};const e=ap[np]??(ap[np]=new Map);let t=e.get(x.createContext);return t||(t=x.createContext(null),e.set(x.createContext,t)),t}var KF=VF();function GF(e){const{children:t,context:r,serverState:n,store:a}=e,i=x.useMemo(()=>{const s=BF(a);return{store:a,subscription:s,getServerState:n?()=>n:void 0}},[a,n]),o=x.useMemo(()=>a.getState(),[a]);HF(()=>{const{subscription:s}=i;return s.onStateChange=s.notifyNestedSubs,s.trySubscribe(),o!==a.getState()&&s.notifyNestedSubs(),()=>{s.tryUnsubscribe(),s.onStateChange=void 0}},[i,o]);const l=r||KF;return x.createElement(l.Provider,{value:i},t)}var FF=GF,YF=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle","radius"]);function XF(e,t){return e==null&&t==null?!0:typeof e=="number"&&typeof t=="number"?e===t||e!==e&&t!==t:e===t}function mb(e,t){var r=new Set([...Object.keys(e),...Object.keys(t)]);for(var n of r)if(YF.has(n)){if(e[n]==null&&t[n]==null)continue;if(!WF(e[n],t[n]))return!1}else if(!XF(e[n],t[n]))return!1;return!0}function qi(e,t){var r,n;return(r=(n=e.graphicalItems.cartesianItems.find(a=>a.id===t))===null||n===void 0?void 0:n.xAxisId)!==null&&r!==void 0?r:kP}function Hi(e,t){var r,n;return(r=(n=e.graphicalItems.cartesianItems.find(a=>a.id===t))===null||n===void 0?void 0:n.yAxisId)!==null&&r!==void 0?r:kP}var ZF="Invariant failed";function JF(e,t){throw new Error(ZF)}function cv(){return cv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},cv.apply(null,arguments)}function sf(e){return x.createElement(IK,cv({shapeType:"rectangle",activeClassName:"recharts-active-bar"},e))}var QF=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(n,a)=>{if(F(t))return t;var i=F(n)||gt(n);return i?t(n,a):(i||JF(),r)}},eY=(e,t,r)=>r,tY=(e,t)=>t,Au=R([U0,tY],(e,t)=>e.filter(r=>r.type==="bar").find(r=>r.id===t)),rY=R([Au],e=>e==null?void 0:e.maxBarSize),nY=(e,t,r,n)=>n,aY=R([ye,U0,qi,Hi,eY],(e,t,r,n,a)=>t.filter(i=>e==="horizontal"?i.xAxisId===r:i.yAxisId===n).filter(i=>i.isPanorama===a).filter(i=>i.hide===!1).filter(i=>i.type==="bar")),iY=(e,t,r)=>{var n=ye(e),a=qi(e,t),i=Hi(e,t);if(!(a==null||i==null))return n==="horizontal"?nv(e,"yAxis",i,r):nv(e,"xAxis",a,r)},oY=(e,t)=>{var r=ye(e),n=qi(e,t),a=Hi(e,t);if(!(n==null||a==null))return r==="horizontal"?V_(e,"xAxis",n):V_(e,"yAxis",a)},lY=R([aY,Zq,oY],hG),sY=(e,t,r)=>{var n,a,i=Au(e,t);if(i!=null){var o=qi(e,t),l=Hi(e,t);if(!(o==null||l==null)){var s=ye(e),u=$2(e),{maxBarSize:d}=i,f=gt(d)?u:d,h,m;return s==="horizontal"?(h=Qo(e,"xAxis",o,r),m=Jo(e,"xAxis",o,r)):(h=Qo(e,"yAxis",l,r),m=Jo(e,"yAxis",l,r)),(n=(a=Rd(h,m,!0))!==null&&a!==void 0?a:f)!==null&&n!==void 0?n:0}}},LP=(e,t,r)=>{var n=ye(e),a=qi(e,t),i=Hi(e,t);if(!(a==null||i==null)){var o,l;return n==="horizontal"?(o=Qo(e,"xAxis",a,r),l=Jo(e,"xAxis",a,r)):(o=Qo(e,"yAxis",i,r),l=Jo(e,"yAxis",i,r)),Rd(o,l)}},uY=R([lY,$2,Xq,L2,sY,LP,rY],yG),cY=(e,t,r)=>{var n=qi(e,t);if(n!=null)return Qo(e,"xAxis",n,r)},dY=(e,t,r)=>{var n=Hi(e,t);if(n!=null)return Qo(e,"yAxis",n,r)},fY=(e,t,r)=>{var n=qi(e,t);if(n!=null)return Jo(e,"xAxis",n,r)},hY=(e,t,r)=>{var n=Hi(e,t);if(n!=null)return Jo(e,"yAxis",n,r)},mY=R([uY,Au],(e,t)=>{if(!(e==null||t==null)){var r=e.find(n=>n.stackId===t.stackId&&t.dataKey!=null&&n.dataKeys.includes(t.dataKey));if(r!=null)return r.position}}),pY=R([iY,Au],bG),gY=R([vt,r0,cY,dY,fY,hY,mY,ye,Iq,LP,pY,Au,nY],(e,t,r,n,a,i,o,l,s,u,d,f,h)=>{var{chartData:m,dataStartIndex:g,dataEndIndex:b}=s;if(!(f==null||o==null||t==null||l!=="horizontal"&&l!=="vertical"||r==null||n==null||a==null||i==null||u==null)){var{data:y}=f,v;if(y!=null&&y.length>0?v=y:v=m==null?void 0:m.slice(g,b+1),v!=null)return VY({layout:l,barSettings:f,pos:o,parentViewBox:t,bandSize:u,xAxis:r,yAxis:n,xAxisTicks:a,yAxisTicks:i,stackedData:d,displayedData:v,offset:e,cells:h,dataStartIndex:g})}}),vY=["index"];function dv(){return dv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},dv.apply(null,arguments)}function yY(e,t){if(e==null)return{};var r,n,a=bY(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function bY(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var UP=x.createContext(void 0),xY=e=>{var t=x.useContext(UP);if(t!=null)return t.stackId;if(e!=null)return FL(e)},wY=(e,t)=>"recharts-bar-stack-clip-path-".concat(e,"-").concat(t),_Y=e=>{var t=x.useContext(UP);if(t!=null){var{stackId:r}=t;return"url(#".concat(wY(r,e),")")}},SY=e=>{var{index:t}=e,r=yY(e,vY),n=_Y(t);return x.createElement(Ln,dv({className:"recharts-bar-stack-layer",clipPath:n},r))},jY=["onMouseEnter","onMouseLeave","onClick"],EY=["value","background","tooltipPosition"],OY=["id"],CY=["onMouseEnter","onClick","onMouseLeave"];function Gn(){return Gn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Gn.apply(null,arguments)}function HS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Mt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?HS(Object(r),!0).forEach(function(n){AY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):HS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function AY(e,t,r){return(t=TY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function TY(e){var t=kY(e,"string");return typeof t=="symbol"?t:t+""}function kY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function uf(e,t){if(e==null)return{};var r,n,a=NY(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function NY(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var PY=e=>{var{dataKey:t,name:r,fill:n,legendType:a,hide:i}=e;return[{inactive:i,dataKey:t,type:a,color:n,value:dk(r,t),payload:e}]},RY=x.memo(e=>{var{dataKey:t,stroke:r,strokeWidth:n,fill:a,name:i,hide:o,unit:l,tooltipType:s,id:u}=e,d={dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:r,strokeWidth:n,fill:a,dataKey:t,nameKey:void 0,name:dk(i,t),hide:o,type:s,color:a,unit:l,graphicalItemId:u}};return x.createElement($K,{tooltipEntrySettings:d})});function MY(e){var t=Z(el),{data:r,dataKey:n,background:a,allOtherBarProps:i}=e,{onMouseEnter:o,onMouseLeave:l,onClick:s}=i,u=uf(i,jY),d=OP(o,n,i.id),f=CP(l),h=AP(s,n,i.id);if(!a||r==null)return null;var m=Ry(a);return x.createElement(na,{zIndex:xG(a,Bt.barBackground)},r.map((g,b)=>{var{value:y,background:v,tooltipPosition:p}=g,w=uf(g,EY);if(!v)return null;var _=d(g,b),j=f(g,b),S=h(g,b),E=Mt(Mt(Mt(Mt(Mt({option:a,isActive:String(b)===t},w),{},{fill:"#eee"},v),m),Iy(u,g,b)),{},{onMouseEnter:_,onMouseLeave:j,onClick:S,dataKey:n,index:b,className:"recharts-bar-background-rectangle"});return x.createElement(sf,Gn({key:"background-bar-".concat(b)},E))}))}function DY(e){var{showLabels:t,children:r,rects:n}=e,a=n==null?void 0:n.map(i=>{var o={x:i.x,y:i.y,width:i.width,lowerWidth:i.width,upperWidth:i.width,height:i.height};return Mt(Mt({},o),{},{value:i.value,payload:i.payload,parentViewBox:i.parentViewBox,viewBox:o,fill:i.fill})});return x.createElement(fK,{value:t?a:void 0},r)}function zY(e){var{shape:t,activeBar:r,baseProps:n,entry:a,index:i,dataKey:o}=e,l=Z(el),s=Z(XN),u=r&&String(i)===l&&(s==null||o===s),d=u?r:t;return u?x.createElement(na,{zIndex:Bt.activeBar},x.createElement(sf,Gn({},n,{name:String(n.name)},a,{isActive:u,option:d,index:i,dataKey:o}))):x.createElement(sf,Gn({},n,{name:String(n.name)},a,{isActive:u,option:d,index:i,dataKey:o}))}function BY(e){var{shape:t,baseProps:r,entry:n,index:a,dataKey:i}=e;return x.createElement(sf,Gn({},r,{name:String(r.name)},n,{isActive:!1,option:t,index:a,dataKey:i}))}function IY(e){var t,{data:r,props:n}=e,a=(t=$n(n))!==null&&t!==void 0?t:{},{id:i}=a,o=uf(a,OY),{shape:l,dataKey:s,activeBar:u}=n,{onMouseEnter:d,onClick:f,onMouseLeave:h}=n,m=uf(n,CY),g=OP(d,s,i),b=CP(h),y=AP(f,s,i);return r?x.createElement(x.Fragment,null,r.map((v,p)=>x.createElement(SY,Gn({index:p,key:"rectangle-".concat(v==null?void 0:v.x,"-").concat(v==null?void 0:v.y,"-").concat(v==null?void 0:v.value,"-").concat(p),className:"recharts-bar-rectangle"},Iy(m,v,p),{onMouseEnter:g(v,p),onMouseLeave:b(v,p),onClick:y(v,p)}),u?x.createElement(zY,{shape:l,activeBar:u,baseProps:o,entry:v,index:p,dataKey:s}):x.createElement(BY,{shape:l,baseProps:o,entry:v,index:p,dataKey:s})))):null}function $Y(e){var{props:t,previousRectanglesRef:r}=e,{data:n,layout:a,isAnimationActive:i,animationBegin:o,animationDuration:l,animationEasing:s,onAnimationEnd:u,onAnimationStart:d}=t,f=r.current,h=l0(t,"recharts-bar-"),[m,g]=x.useState(!1),b=!m,y=x.useCallback(()=>{typeof u=="function"&&u(),g(!1)},[u]),v=x.useCallback(()=>{typeof d=="function"&&d(),g(!0)},[d]);return x.createElement(DY,{showLabels:b,rects:n},x.createElement(o0,{animationId:h,begin:o,duration:l,isActive:i,easing:s,onAnimationEnd:y,onAnimationStart:v,key:h},p=>{var w=p===1?n:n==null?void 0:n.map((_,j)=>{var S=f&&f[j];if(S)return Mt(Mt({},_),{},{x:_t(S.x,_.x,p),y:_t(S.y,_.y,p),width:_t(S.width,_.width,p),height:_t(S.height,_.height,p)});if(a==="horizontal"){var E=_t(0,_.height,p),O=_t(_.stackedBarStart,_.y,p);return Mt(Mt({},_),{},{y:O,height:E})}var A=_t(0,_.width,p),N=_t(_.stackedBarStart,_.x,p);return Mt(Mt({},_),{},{width:A,x:N})});return p>0&&(r.current=w??null),w==null?null:x.createElement(Ln,null,x.createElement(IY,{props:t,data:w}))}),x.createElement(pK,{label:t.label}),t.children)}function LY(e){var t=x.useRef(null);return x.createElement($Y,{previousRectanglesRef:t,props:e})}var qP=0,UY=(e,t)=>{var r=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:r,errorVal:At(e,t)}};class qY extends x.PureComponent{render(){var{hide:t,data:r,dataKey:n,className:a,xAxisId:i,yAxisId:o,needClip:l,background:s,id:u}=this.props;if(t||r==null)return null;var d=De("recharts-bar",a),f=u;return x.createElement(Ln,{className:d,id:u},l&&x.createElement("defs",null,x.createElement(OF,{clipPathId:f,xAxisId:i,yAxisId:o})),x.createElement(Ln,{className:"recharts-bar-rectangles",clipPath:l?"url(#clipPath-".concat(f,")"):void 0},x.createElement(MY,{data:r,dataKey:n,background:s,allOtherBarProps:this.props}),x.createElement(LY,this.props)))}}var HY={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:qP,xAxisId:0,yAxisId:0,zIndex:Bt.bar};function WY(e){var{xAxisId:t,yAxisId:r,hide:n,legendType:a,minPointSize:i,activeBar:o,animationBegin:l,animationDuration:s,animationEasing:u,isAnimationActive:d}=e,{needClip:f}=$P(t,r),h=hu(),m=Jt(),g=wK(e.children,ob),b=Z(p=>gY(p,e.id,m,g));if(h!=="vertical"&&h!=="horizontal")return null;var y,v=b==null?void 0:b[0];return v==null||v.height==null||v.width==null?y=0:y=h==="vertical"?v.height/2:v.width/2,x.createElement(EF,{xAxisId:t,yAxisId:r,data:b,dataPointFormatter:UY,errorBarOffset:y},x.createElement(qY,Gn({},e,{layout:h,needClip:f,data:b,xAxisId:t,yAxisId:r,hide:n,legendType:a,minPointSize:i,activeBar:o,animationBegin:l,animationDuration:s,animationEasing:u,isAnimationActive:d})))}function VY(e){var{layout:t,barSettings:{dataKey:r,minPointSize:n},pos:a,bandSize:i,xAxis:o,yAxis:l,xAxisTicks:s,yAxisTicks:u,stackedData:d,displayedData:f,offset:h,cells:m,parentViewBox:g,dataStartIndex:b}=e,y=t==="horizontal"?l:o,v=d?y.scale.domain():null,p=YL({numericAxis:y}),w=y.scale(p);return f.map((_,j)=>{var S,E,O,A,N,I;if(d){var P=d[j+b];if(P==null)return null;S=HL(P,v)}else S=At(_,r),Array.isArray(S)||(S=[p,S]);var K=QF(n,qP)(S[1],j);if(t==="horizontal"){var T,[q,C]=[l.scale(S[0]),l.scale(S[1])];E=iw({axis:o,ticks:s,bandSize:i,offset:a.offset,entry:_,index:j}),O=(T=C??q)!==null&&T!==void 0?T:void 0,A=a.size;var k=q-C;if(N=Fr(k)?0:k,I={x:E,y:h.top,width:A,height:h.height},Math.abs(K)>0&&Math.abs(N)<Math.abs(K)){var D=Kt(N||K)*(Math.abs(K)-Math.abs(N));O-=D,N+=D}}else{var[L,H]=[o.scale(S[0]),o.scale(S[1])];if(E=L,O=iw({axis:l,ticks:u,bandSize:i,offset:a.offset,entry:_,index:j}),A=H-L,N=a.size,I={x:h.left,y:O,width:h.width,height:N},Math.abs(K)>0&&Math.abs(A)<Math.abs(K)){var le=Kt(A||K)*(Math.abs(K)-Math.abs(A));A+=le}}if(E==null||O==null||A==null||N==null)return null;var ue=Mt(Mt({},_),{},{stackedBarStart:w,x:E,y:O,width:A,height:N,value:d?S:S[1],payload:_,background:I,tooltipPosition:{x:E+A/2,y:O+N/2},parentViewBox:g},m&&m[j]&&m[j].props);return ue}).filter(Boolean)}function KY(e){var t=yr(e,HY),r=xY(t.stackId),n=Jt();return x.createElement(VK,{id:t.id,type:"bar"},a=>x.createElement(x.Fragment,null,x.createElement(LK,{legendPayload:PY(t)}),x.createElement(RY,{dataKey:t.dataKey,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType,id:a}),x.createElement(JK,{type:"bar",id:a,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:r,hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:n}),x.createElement(na,{zIndex:t.zIndex},x.createElement(WY,Gn({},t,{id:a})))))}var HP=x.memo(KY,mb);HP.displayName="Bar";var GY=["domain","range"],FY=["domain","range"];function WS(e,t){if(e==null)return{};var r,n,a=YY(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function YY(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function VS(e,t){return e===t?!0:Array.isArray(e)&&e.length===2&&Array.isArray(t)&&t.length===2?e[0]===t[0]&&e[1]===t[1]:!1}function WP(e,t){if(e===t)return!0;var{domain:r,range:n}=e,a=WS(e,GY),{domain:i,range:o}=t,l=WS(t,FY);return!VS(r,i)||!VS(n,o)?!1:mb(a,l)}var XY=["dangerouslySetInnerHTML","ticks","scale"],ZY=["id","scale"];function fv(){return fv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fv.apply(null,arguments)}function KS(e,t){if(e==null)return{};var r,n,a=JY(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function JY(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function QY(e){var t=Ge(),r=x.useRef(null);return x.useLayoutEffect(()=>{r.current===null?t(nG(e)):r.current!==e&&t(aG({prev:r.current,next:e})),r.current=e},[e,t]),x.useLayoutEffect(()=>()=>{r.current&&(t(iG(r.current)),r.current=null)},[t]),null}var eX=e=>{var{xAxisId:t,className:r}=e,n=Z(r0),a=Jt(),i="xAxis",o=Z(v=>kN(v,i,t,a)),l=Z(v=>ON(v,t)),s=Z(v=>F7(v,t)),u=Z(v=>Y2(v,t));if(l==null||s==null||u==null)return null;var{dangerouslySetInnerHTML:d,ticks:f,scale:h}=e,m=KS(e,XY),{id:g,scale:b}=u,y=KS(u,ZY);return x.createElement(hb,fv({},m,y,{x:s.x,y:s.y,width:l.width,height:l.height,className:De("recharts-".concat(i," ").concat(i),r),viewBox:n,ticks:o,axisType:i}))},tX={allowDataOverflow:ct.allowDataOverflow,allowDecimals:ct.allowDecimals,allowDuplicatedCategory:ct.allowDuplicatedCategory,angle:ct.angle,axisLine:Rn.axisLine,height:ct.height,hide:!1,includeHidden:ct.includeHidden,interval:ct.interval,minTickGap:ct.minTickGap,mirror:ct.mirror,orientation:ct.orientation,padding:ct.padding,reversed:ct.reversed,scale:ct.scale,tick:ct.tick,tickCount:ct.tickCount,tickLine:Rn.tickLine,tickSize:Rn.tickSize,type:ct.type,xAxisId:0},rX=e=>{var t=yr(e,tX);return x.createElement(x.Fragment,null,x.createElement(QY,{allowDataOverflow:t.allowDataOverflow,allowDecimals:t.allowDecimals,allowDuplicatedCategory:t.allowDuplicatedCategory,angle:t.angle,dataKey:t.dataKey,domain:t.domain,height:t.height,hide:t.hide,id:t.xAxisId,includeHidden:t.includeHidden,interval:t.interval,minTickGap:t.minTickGap,mirror:t.mirror,name:t.name,orientation:t.orientation,padding:t.padding,reversed:t.reversed,scale:t.scale,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit}),x.createElement(eX,t))},VP=x.memo(rX,WP);VP.displayName="XAxis";var nX=["dangerouslySetInnerHTML","ticks","scale"],aX=["id","scale"];function hv(){return hv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hv.apply(null,arguments)}function GS(e,t){if(e==null)return{};var r,n,a=iX(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function iX(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function oX(e){var t=Ge(),r=x.useRef(null);return x.useLayoutEffect(()=>{r.current===null?t(oG(e)):r.current!==e&&t(lG({prev:r.current,next:e})),r.current=e},[e,t]),x.useLayoutEffect(()=>()=>{r.current&&(t(sG(r.current)),r.current=null)},[t]),null}var lX=e=>{var{yAxisId:t,className:r,width:n,label:a}=e,i=x.useRef(null),o=x.useRef(null),l=Z(r0),s=Jt(),u=Ge(),d="yAxis",f=Z(S=>CN(S,t)),h=Z(S=>X7(S,t)),m=Z(S=>kN(S,d,t,s)),g=Z(S=>X2(S,t));if(x.useLayoutEffect(()=>{if(!(n!=="auto"||!f||sb(a)||x.isValidElement(a)||g==null)){var S=i.current;if(S){var E=S.getCalculatedWidth();Math.round(f.width)!==Math.round(E)&&u(uG({id:t,width:E}))}}},[m,f,u,a,t,n,g]),f==null||h==null||g==null)return null;var{dangerouslySetInnerHTML:b,ticks:y,scale:v}=e,p=GS(e,nX),{id:w,scale:_}=g,j=GS(g,aX);return x.createElement(hb,hv({},p,j,{ref:i,labelRef:o,x:h.x,y:h.y,tickTextProps:n==="auto"?{width:void 0}:{width:n},width:f.width,height:f.height,className:De("recharts-".concat(d," ").concat(d),r),viewBox:l,ticks:m,axisType:d}))},sX={allowDataOverflow:dt.allowDataOverflow,allowDecimals:dt.allowDecimals,allowDuplicatedCategory:dt.allowDuplicatedCategory,angle:dt.angle,axisLine:Rn.axisLine,hide:!1,includeHidden:dt.includeHidden,interval:dt.interval,minTickGap:dt.minTickGap,mirror:dt.mirror,orientation:dt.orientation,padding:dt.padding,reversed:dt.reversed,scale:dt.scale,tick:dt.tick,tickCount:dt.tickCount,tickLine:Rn.tickLine,tickSize:Rn.tickSize,type:dt.type,width:dt.width,yAxisId:0},uX=e=>{var t=yr(e,sX);return x.createElement(x.Fragment,null,x.createElement(oX,{interval:t.interval,id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:t.includeHidden,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:t.angle,minTickGap:t.minTickGap,tick:t.tick,tickFormatter:t.tickFormatter}),x.createElement(lX,t))},KP=x.memo(uX,WP);KP.displayName="YAxis";var cX=(e,t)=>t,pb=R([cX,ye,G2,st,KN,ra,cW,vt],vW),gb=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,n=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/n)}},GP=Mr("mouseClick"),FP=du();FP.startListening({actionCreator:GP,effect:(e,t)=>{var r=e.payload,n=pb(t.getState(),gb(r));(n==null?void 0:n.activeIndex)!=null&&t.dispatch(cH({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var mv=Mr("mouseMove"),YP=du(),gc=null;YP.startListening({actionCreator:mv,effect:(e,t)=>{var r=e.payload;gc!==null&&cancelAnimationFrame(gc);var n=gb(r);gc=requestAnimationFrame(()=>{var a=t.getState(),i=X0(a,a.tooltip.settings.shared);if(i==="axis"){var o=pb(a,n);(o==null?void 0:o.activeIndex)!=null?t.dispatch(IN({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate})):t.dispatch(BN())}gc=null})}});function dX(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":e==="children"&&typeof t=="object"&&t!==null?"<<CHILDREN>>":t}var FS={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},XP=Zt({name:"rootProps",initialState:FS,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(r=t.payload.barGap)!==null&&r!==void 0?r:FS.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),fX=XP.reducer,{updateOptions:hX}=XP.actions,ZP=Zt({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:zZ}=ZP.actions,mX=ZP.reducer,JP=Mr("keyDown"),QP=Mr("focus"),vb=du();vb.startListening({actionCreator:JP,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:a}=r.tooltip,i=e.payload;if(!(i!=="ArrowRight"&&i!=="ArrowLeft"&&i!=="Enter")){var o=Z0(a,jl(r),wu(r),Eu(r)),l=o==null?-1:Number(o);if(!(!Number.isFinite(l)||l<0)){var s=ra(r);if(i==="Enter"){var u=rf(r,"axis","hover",String(a.index));t.dispatch(iv({active:!a.active,activeIndex:a.index,activeCoordinate:u}));return}var d=eH(r),f=d==="left-to-right"?1:-1,h=i==="ArrowRight"?1:-1,m=l+h*f;if(!(s==null||m>=s.length||m<0)){var g=rf(r,"axis","hover",String(m));t.dispatch(iv({active:!0,activeIndex:m.toString(),activeCoordinate:g}))}}}}}});vb.startListening({actionCreator:QP,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:a}=r.tooltip;if(!a.active&&a.index==null){var i="0",o=rf(r,"axis","hover",String(i));t.dispatch(iv({active:!0,activeIndex:i,activeCoordinate:o}))}}}});var wr=Mr("externalEvent"),eR=du(),ip=new Map;eR.startListening({actionCreator:wr,effect:(e,t)=>{var{handler:r,reactEvent:n}=e.payload;if(r!=null){n.persist();var a=n.type,i=ip.get(a);i!==void 0&&cancelAnimationFrame(i);var o=requestAnimationFrame(()=>{try{var l=t.getState(),s={activeCoordinate:YH(l),activeDataKey:XN(l),activeIndex:el(l),activeLabel:YN(l),activeTooltipIndex:el(l),isTooltipActive:XH(l)};r(s,n)}finally{ip.delete(a)}});ip.set(a,o)}}});var pX=R([_l],e=>e.tooltipItemPayloads),gX=R([pX,ju,(e,t)=>t,(e,t,r)=>r],(e,t,r,n)=>{var a=e.find(l=>l.settings.graphicalItemId===n);if(a!=null){var{positions:i}=a;if(i!=null){var o=t(i,r);return o}}}),tR=Mr("touchMove"),rR=du();rR.startListening({actionCreator:tR,effect:(e,t)=>{var r=e.payload;if(!(r.touches==null||r.touches.length===0)){var n=t.getState(),a=X0(n,n.tooltip.settings.shared);if(a==="axis"){var i=r.touches[0];if(i==null)return;var o=pb(n,gb({clientX:i.clientX,clientY:i.clientY,currentTarget:r.currentTarget}));(o==null?void 0:o.activeIndex)!=null&&t.dispatch(IN({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate}))}else if(a==="item"){var l,s=r.touches[0];if(document.elementFromPoint==null||s==null)return;var u=document.elementFromPoint(s.clientX,s.clientY);if(!u||!u.getAttribute)return;var d=u.getAttribute(rU),f=(l=u.getAttribute(nU))!==null&&l!==void 0?l:void 0,h=Sl(n).find(b=>b.id===f);if(d==null||h==null||f==null)return;var{dataKey:m}=h,g=gX(n,d,f);t.dispatch(zN({activeDataKey:m,activeIndex:d,activeCoordinate:g,activeGraphicalItemId:f}))}}}});var vX=MT({brush:_G,cartesianAxis:cG,chartData:FW,errorBars:bF,graphicalItems:XK,layout:BL,legend:VU,options:HW,polarAxis:vK,polarOptions:mX,referenceElements:TG,rootProps:fX,tooltip:dH,zIndex:NW}),yX=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return sL({reducer:vX,preloadedState:t,middleware:n=>{var a;return n({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((a="es6")!==null&&a!==void 0?a:"")}).concat([FP.middleware,YP.middleware,vb.middleware,eR.middleware,rR.middleware])},enhancers:n=>{var a=n;return typeof n=="function"&&(a=n()),a.concat(YT({type:"raf"}))},devTools:{serialize:{replacer:dX},name:"recharts-".concat(r)}})};function bX(e){var{preloadedState:t,children:r,reduxStoreName:n}=e,a=Jt(),i=x.useRef(null);if(a)return r;i.current==null&&(i.current=yX(t,n));var o=Gy;return x.createElement(FF,{context:o,store:i.current},r)}function xX(e){var{layout:t,margin:r}=e,n=Ge(),a=Jt();return x.useEffect(()=>{a||(n(ML(t)),n(RL(r)))},[n,a,t,r]),null}var wX=x.memo(xX,mb);function _X(e){var t=Ge();return x.useEffect(()=>{t(hX(e))},[t,e]),null}function YS(e){var{zIndex:t,isPanorama:r}=e,n=x.useRef(null),a=Ge();return x.useLayoutEffect(()=>(n.current&&a(TW({zIndex:t,element:n.current,isPanorama:r})),()=>{a(kW({zIndex:t,isPanorama:r}))}),[a,t,r]),x.createElement("g",{tabIndex:-1,ref:n})}function XS(e){var{children:t,isPanorama:r}=e,n=Z(bW);if(!n||n.length===0)return t;var a=n.filter(o=>o<0),i=n.filter(o=>o>0);return x.createElement(x.Fragment,null,a.map(o=>x.createElement(YS,{key:o,zIndex:o,isPanorama:r})),t,i.map(o=>x.createElement(YS,{key:o,zIndex:o,isPanorama:r})))}var SX=["children"];function jX(e,t){if(e==null)return{};var r,n,a=EX(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function EX(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function cf(){return cf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},cf.apply(null,arguments)}var OX={width:"100%",height:"100%",display:"block"},CX=x.forwardRef((e,t)=>{var r=wk(),n=_k(),a=kk();if(!un(r)||!un(n))return null;var{children:i,otherAttributes:o,title:l,desc:s}=e,u,d;return o!=null&&(typeof o.tabIndex=="number"?u=o.tabIndex:u=a?0:void 0,typeof o.role=="string"?d=o.role:d=a?"application":void 0),x.createElement(DA,cf({},o,{title:l,desc:s,role:d,tabIndex:u,width:r,height:n,style:OX,ref:t}),i)}),AX=e=>{var{children:t}=e,r=Z(lh);if(!r)return null;var{width:n,height:a,y:i,x:o}=r;return x.createElement(DA,{width:n,height:a,x:o,y:i},t)},ZS=x.forwardRef((e,t)=>{var{children:r}=e,n=jX(e,SX),a=Jt();return a?x.createElement(AX,null,x.createElement(XS,{isPanorama:!0},r)):x.createElement(CX,cf({ref:t},n),x.createElement(XS,{isPanorama:!1},r))});function TX(){var e=Ge(),[t,r]=x.useState(null),n=Z(tU);return x.useEffect(()=>{if(t!=null){var a=t.getBoundingClientRect(),i=a.width/t.offsetWidth;Le(i)&&i!==n&&e(zL(i))}},[t,e,n]),r}function JS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function kX(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?JS(Object(r),!0).forEach(function(n){NX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):JS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function NX(e,t,r){return(t=PX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function PX(e){var t=RX(e,"string");return typeof t=="symbol"?t:t+""}function RX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Pi(){return Pi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Pi.apply(null,arguments)}var MX=()=>(nV(),null);function df(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var DX=x.forwardRef((e,t)=>{var r,n,a=x.useRef(null),[i,o]=x.useState({containerWidth:df((r=e.style)===null||r===void 0?void 0:r.width),containerHeight:df((n=e.style)===null||n===void 0?void 0:n.height)}),l=x.useCallback((u,d)=>{o(f=>{var h=Math.round(u),m=Math.round(d);return f.containerWidth===h&&f.containerHeight===m?f:{containerWidth:h,containerHeight:m}})},[]),s=x.useCallback(u=>{if(typeof t=="function"&&t(u),u!=null&&typeof ResizeObserver<"u"){var{width:d,height:f}=u.getBoundingClientRect();l(d,f);var h=g=>{var{width:b,height:y}=g[0].contentRect;l(b,y)},m=new ResizeObserver(h);m.observe(u),a.current=m}},[t,l]);return x.useEffect(()=>()=>{var u=a.current;u!=null&&u.disconnect()},[l]),x.createElement(x.Fragment,null,x.createElement(uh,{width:i.containerWidth,height:i.containerHeight}),x.createElement("div",Pi({ref:s},e)))}),zX=x.forwardRef((e,t)=>{var{width:r,height:n}=e,[a,i]=x.useState({containerWidth:df(r),containerHeight:df(n)}),o=x.useCallback((s,u)=>{i(d=>{var f=Math.round(s),h=Math.round(u);return d.containerWidth===f&&d.containerHeight===h?d:{containerWidth:f,containerHeight:h}})},[]),l=x.useCallback(s=>{if(typeof t=="function"&&t(s),s!=null){var{width:u,height:d}=s.getBoundingClientRect();o(u,d)}},[t,o]);return x.createElement(x.Fragment,null,x.createElement(uh,{width:a.containerWidth,height:a.containerHeight}),x.createElement("div",Pi({ref:l},e)))}),BX=x.forwardRef((e,t)=>{var{width:r,height:n}=e;return x.createElement(x.Fragment,null,x.createElement(uh,{width:r,height:n}),x.createElement("div",Pi({ref:t},e)))}),IX=x.forwardRef((e,t)=>{var{width:r,height:n}=e;return Un(r)||Un(n)?x.createElement(zX,Pi({},e,{ref:t})):x.createElement(BX,Pi({},e,{ref:t}))});function $X(e){return e===!0?DX:IX}var LX=x.forwardRef((e,t)=>{var{children:r,className:n,height:a,onClick:i,onContextMenu:o,onDoubleClick:l,onMouseDown:s,onMouseEnter:u,onMouseLeave:d,onMouseMove:f,onMouseUp:h,onTouchEnd:m,onTouchMove:g,onTouchStart:b,style:y,width:v,responsive:p,dispatchTouchEvents:w=!0}=e,_=x.useRef(null),j=Ge(),[S,E]=x.useState(null),[O,A]=x.useState(null),N=TX(),I=n0(),P=(I==null?void 0:I.width)>0?I.width:v,K=(I==null?void 0:I.height)>0?I.height:a,T=x.useCallback(M=>{N(M),typeof t=="function"&&t(M),E(M),A(M),M!=null&&(_.current=M)},[N,t,E,A]),q=x.useCallback(M=>{j(GP(M)),j(wr({handler:i,reactEvent:M}))},[j,i]),C=x.useCallback(M=>{j(mv(M)),j(wr({handler:u,reactEvent:M}))},[j,u]),k=x.useCallback(M=>{j(BN()),j(wr({handler:d,reactEvent:M}))},[j,d]),D=x.useCallback(M=>{j(mv(M)),j(wr({handler:f,reactEvent:M}))},[j,f]),L=x.useCallback(()=>{j(QP())},[j]),H=x.useCallback(M=>{j(JP(M.key))},[j]),le=x.useCallback(M=>{j(wr({handler:o,reactEvent:M}))},[j,o]),ue=x.useCallback(M=>{j(wr({handler:l,reactEvent:M}))},[j,l]),ce=x.useCallback(M=>{j(wr({handler:s,reactEvent:M}))},[j,s]),de=x.useCallback(M=>{j(wr({handler:h,reactEvent:M}))},[j,h]),Ee=x.useCallback(M=>{j(wr({handler:b,reactEvent:M}))},[j,b]),z=x.useCallback(M=>{w&&j(tR(M)),j(wr({handler:g,reactEvent:M}))},[j,w,g]),W=x.useCallback(M=>{j(wr({handler:m,reactEvent:M}))},[j,m]),se=$X(p);return x.createElement(nP.Provider,{value:S},x.createElement(QB.Provider,{value:O},x.createElement(se,{width:P??(y==null?void 0:y.width),height:K??(y==null?void 0:y.height),className:De("recharts-wrapper",n),style:kX({position:"relative",cursor:"default",width:P,height:K},y),onClick:q,onContextMenu:le,onDoubleClick:ue,onFocus:L,onKeyDown:H,onMouseDown:ce,onMouseEnter:C,onMouseLeave:k,onMouseMove:D,onMouseUp:de,onTouchEnd:W,onTouchMove:z,onTouchStart:Ee,ref:T},x.createElement(MX,null),r)))}),UX=["width","height","responsive","children","className","style","compact","title","desc"];function qX(e,t){if(e==null)return{};var r,n,a=HX(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function HX(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var WX=x.forwardRef((e,t)=>{var{width:r,height:n,responsive:a,children:i,className:o,style:l,compact:s,title:u,desc:d}=e,f=qX(e,UX),h=$n(f);return s?x.createElement(x.Fragment,null,x.createElement(uh,{width:r,height:n}),x.createElement(ZS,{otherAttributes:h,title:u,desc:d},i)):x.createElement(LX,{className:o,style:l,width:r,height:n,responsive:a??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},x.createElement(ZS,{otherAttributes:h,title:u,desc:d,ref:t},x.createElement(NG,null,i)))});function pv(){return pv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},pv.apply(null,arguments)}var VX={top:5,right:5,bottom:5,left:5},KX={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:VX,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},GX=x.forwardRef(function(t,r){var n,a=yr(t.categoricalChartProps,KX),{chartName:i,defaultTooltipEventType:o,validateTooltipEventTypes:l,tooltipPayloadSearcher:s,categoricalChartProps:u}=t,d={chartName:i,defaultTooltipEventType:o,validateTooltipEventTypes:l,tooltipPayloadSearcher:s,eventEmitter:void 0};return x.createElement(bX,{preloadedState:{options:d},reduxStoreName:(n=u.id)!==null&&n!==void 0?n:i},x.createElement(wG,{chartData:u.data}),x.createElement(wX,{layout:a.layout,margin:a.margin}),x.createElement(_X,{baseValue:a.baseValue,accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className,reverseStackOrder:a.reverseStackOrder}),x.createElement(WX,pv({},a,{ref:r})))}),FX=["axis","item"],YX=x.forwardRef((e,t)=>x.createElement(GX,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:FX,tooltipPayloadSearcher:UW,categoricalChartProps:e,ref:t}));function XX({ibgeCode:e,potenciaKwp:t,onCalculate:r}){const[n,a]=x.useState([]),[i,o]=x.useState(!1),[l,s]=x.useState(null);x.useEffect(()=>{e&&t>0?u():a([])},[e,t]);const u=async()=>{o(!0),s(null);try{const{data:h,error:m}=await U.from("irradiancia").select("*").eq('"cod.ibge"',e).single();if(m)throw m;if(!h)throw new Error("Dados de irradincia no encontrados para este local.");const b=[{name:"Jan",key:"jan.khw"},{name:"Fev",key:"fev.khw"},{name:"Mar",key:"mar.kwh"},{name:"Abr",key:"abr.kwh"},{name:"Mai",key:"mai.kwh"},{name:"Jun",key:"jun.kwh"},{name:"Jul",key:"jul.kwh"},{name:"Ago",key:"ago.kwh"},{name:"Set",key:"set.kwh"},{name:"Out",key:"out.kwh"},{name:"Nov",key:"nov.kwh"},{name:"Dez",key:"dez.khw"}].map(y=>{const v=Number(h[y.key]),p=v?t*v:0;return{name:y.name,geracao:Math.round(p),factor:v}});a(b)}catch(h){console.error("Irradiance error:",h),s("Dados de irradincia no disponveis.")}finally{o(!1)}},d=n.reduce((h,m)=>h+m.geracao,0),f=n.length>0?d/12:0;return x.useEffect(()=>{!i&&r&&f>0&&r(Math.round(f))},[f,r,i]),!e||!t?null:i?c.jsx("div",{style:{padding:"1rem",textAlign:"center",color:"#666"},children:"Calculando estimativa de gerao..."}):c.jsxs("div",{style:{marginTop:"2rem",padding:"1.5rem",background:"#f8fafc",borderRadius:"8px",border:"1px solid #e2e8f0"},children:[c.jsxs("h4",{style:{fontSize:"1rem",fontWeight:"bold",color:"#0369a1",marginBottom:"1rem",display:"flex",justifyContent:"space-between"},children:[c.jsx("span",{children:"Estimativa de Gerao Mensal"}),c.jsxs("span",{style:{fontSize:"0.9rem",color:"#64748b"},children:["Mdia Mensal: ",c.jsxs("strong",{children:[f.toLocaleString("pt-BR",{maximumFractionDigits:0})," kWh"]})]})]}),c.jsx("div",{style:{width:"100%",height:300},children:c.jsx(CU,{children:c.jsxs(YX,{data:n,margin:{top:20,right:10,left:0,bottom:5},children:[c.jsx(BP,{strokeDasharray:"3 3",vertical:!1,stroke:"#e2e8f0"}),c.jsx(VP,{dataKey:"name",axisLine:!1,tickLine:!1,tick:{fontSize:12,fill:"#64748b"},dy:10}),c.jsx(KP,{axisLine:!1,tickLine:!1,tick:{fontSize:12,fill:"#64748b"}}),c.jsx(dV,{cursor:{fill:"#f1f5f9"},contentStyle:{borderRadius:"8px",border:"none",boxShadow:"0 4px 6px rgba(0,0,0,0.1)"},formatter:h=>[`${h.toLocaleString("pt-BR")} kWh`,"Gerao"]}),c.jsx(HP,{dataKey:"geracao",radius:[4,4,0,0],children:n.map((h,m)=>c.jsx(ob,{fill:"var(--color-orange)"},`cell-${m}`))})]})})}),c.jsxs("p",{style:{marginTop:"0.5rem",fontSize:"0.8rem",color:"#94a3b8",textAlign:"center"},children:["* Estimativa baseada na mdia histrica de irradincia solar da regio (IBGE: ",e,")."]})]})}function ZX({usina:e,onClose:t,onSave:r,onDelete:n}){const{showAlert:a,showConfirm:i}=pl(),[o,l]=x.useState([]),[s,u]=x.useState([]),[d,f]=x.useState(!1),[h,m]=x.useState(!1),g=[{value:"gerando",label:"Gerando"},{value:"em_conexao",label:"Em Conexo"},{value:"manutencao",label:"Manuteno"},{value:"inativa",label:"Inativa"},{value:"cancelada",label:"Cancelada"}],b=[{value:"gd1",label:"GD I"},{value:"gd2",label:"GD II"},{value:"gd3",label:"GD III"}],y=["Internet","Segurana","Manuteno","Arrendamento","gua","Energia","Gesto"],v=(z,W,se)=>{let M=[];for(let Y=z;Y<=W;Y+=se)M.push(Y);return M},p=v(460,800,5),w=[...v(1e3,7e3,1e3),7500,9e3,1e4,12500,...v(15e3,75e3,5e3),...v(1e5,3e5,25e3)],[_,j]=x.useState({supplier_id:"",name:"",status:"em_conexao",modalidade:"gd1",valor_investido:"",qtd_modulos:"",potencia_modulos_w:"",fabricante_inversor:"",potencia_inversor_w:"",geracao_estimada_kwh:"",servicos_contratados:[],service_values:{},gestao_percentual:"",cep:"",rua:"",numero:"",bairro:"",cidade:"",uf:"",ibge_code:"",concessionaria:""}),[S,E]=x.useState([]),[O,A]=x.useState([]),[N,I]=x.useState(0),P=O.reduce((z,W)=>z+(Number(W.consumo_medio_kwh)||Number(W.franquia)||0),0);x.useEffect(()=>{const z=Number(_.qtd_modulos)||0,W=Number(_.potencia_modulos_w)||0,se=z*W/1e3;I(Number(se.toFixed(2)))},[_.qtd_modulos,_.potencia_modulos_w]),x.useEffect(()=>{var z,W,se,M,Y,ee,$;q(),C(),e&&(j({supplier_id:e.supplier_id||"",name:e.name||"",status:e.status||"em_conexao",modalidade:e.modalidade||"gd1",valor_investido:e.valor_investido?k(e.valor_investido):"",qtd_modulos:e.qtd_modulos||"",potencia_modulos_w:e.potencia_modulos_w||"",fabricante_inversor:e.fabricante_inversor||"",potencia_inversor_w:e.potencia_inversor_w||"",geracao_estimada_kwh:e.geracao_estimada_kwh||"",servicos_contratados:e.servicos_contratados||[],service_values:e.service_values||{},gestao_percentual:e.gestao_percentual||"",cep:((z=e.address)==null?void 0:z.cep)||"",rua:((W=e.address)==null?void 0:W.rua)||"",numero:((se=e.address)==null?void 0:se.numero)||"",bairro:((M=e.address)==null?void 0:M.bairro)||"",cidade:((Y=e.address)==null?void 0:Y.cidade)||"",uf:((ee=e.address)==null?void 0:ee.uf)||"",ibge_code:e.ibge_code||(($=e.address)==null?void 0:$.ibge)||"",concessionaria:e.concessionaria||""}),K(e.id))},[e]),x.useEffect(()=>{T()},[e==null?void 0:e.id]);const K=async z=>{const{data:W}=await U.from("consumer_units").select("*").eq("usina_id",z);W&&A(W)},T=async()=>{let z=U.from("consumer_units").select("id, numero_uc, titular_conta, usina_id, concessionaria, status, consumo_medio_kwh");const{data:W,error:se}=await z;if(W){console.log("All UCs fetched:",W);const M=W.filter(Y=>{const ee=e&&Y.usina_id===e.id,$=Y.usina_id===null;return ee||$});console.log("Filtered UCs:",M),E(M)}},q=async()=>{const{data:z}=await U.from("suppliers").select("id, name").order("name");l(z||[])},C=async()=>{const{data:z}=await U.from("inverter_brands").select("name").order("name");u(z||[])},k=z=>z===""||z===void 0||z===null?"":typeof z=="number"?z.toLocaleString("pt-BR",{style:"currency",currency:"BRL"}):(Number(z.toString().replace(/\D/g,""))/100).toLocaleString("pt-BR",{style:"currency",currency:"BRL"}),D=z=>{const W=z.target.value.replace(/\D/g,"");if(!W){j({..._,valor_investido:""});return}const M=(Number(W)/100).toLocaleString("pt-BR",{style:"currency",currency:"BRL"});j({..._,valor_investido:M})},L=z=>{if(!z)return 0;const W=z.replace(/[^\d,]/g,"").replace(",",".");return Number(W)||0},H=z=>{j(W=>{const se=W.servicos_contratados||[];return se.includes(z)?{...W,servicos_contratados:se.filter(M=>M!==z)}:{...W,servicos_contratados:[...se,z]}})},le=(z,W)=>{const se=W.replace(/\D/g,""),M=Number(se)/100;j(Y=>({...Y,service_values:{...Y.service_values,[z]:M}}))},ue=async()=>{const z=_.cep.replace(/\D/g,"");if(z.length===8){m(!0);try{const W=await Ha(z);if(j(se=>({...se,rua:W.rua||"",bairro:W.bairro||"",cidade:W.cidade||"",uf:W.uf||"",ibge_code:W.ibge||""})),W.ibge){const se=await lu(W.ibge);se&&se.Concessionaria&&j(M=>({...M,concessionaria:se.Concessionaria}))}}catch(W){console.error("Erro CEP",W)}finally{m(!1)}}},ce=x.useCallback(z=>{z&&j(W=>z!==Number(W.geracao_estimada_kwh)?{...W,geracao_estimada_kwh:z}:W)},[]),de=async()=>{if(await i("Excluir esta usina?","Esta ao no pode ser desfeita.")){f(!0);try{const{error:W}=await U.from("usinas").delete().eq("id",e.id);if(W)throw W;n&&n(e.id),t()}catch(W){a("Erro ao excluir: "+W.message,"error")}finally{f(!1)}}},Ee=async z=>{z.preventDefault(),f(!0);try{const W=L(_.valor_investido),se={supplier_id:_.supplier_id||null,name:_.name,concessionaria:_.concessionaria,status:_.status,modalidade:_.modalidade,valor_investido:W,potencia_kwp:Number(N),qtd_modulos:Number(_.qtd_modulos),potencia_modulos_w:Number(_.potencia_modulos_w),fabricante_inversor:_.fabricante_inversor,potencia_inversor_w:Number(_.potencia_inversor_w),geracao_estimada_kwh:Number(_.geracao_estimada_kwh),servicos_contratados:_.servicos_contratados,service_values:_.service_values,gestao_percentual:Number(_.gestao_percentual),ibge_code:_.ibge_code,address:{cep:_.cep,rua:_.rua,numero:_.numero,bairro:_.bairro,cidade:_.cidade,uf:_.uf,ibge:_.ibge_code}};let M=e==null?void 0:e.id,Y=null;if(e!=null&&e.id){const{data:ee,error:$}=await U.from("usinas").update(se).eq("id",e.id).select().single();$?Y=$:ee&&(M=ee.id)}else{const{data:ee,error:$}=await U.from("usinas").insert(se).select().single();$?Y=$:ee&&(M=ee.id)}if(Y)throw Y;if(M&&(await U.from("consumer_units").update({usina_id:null}).eq("usina_id",M),O.length>0)){const ee=O.map($=>$.id);await U.from("consumer_units").update({usina_id:M}).in("id",ee)}r({id:M}),t(),a("Usina salva com sucesso!","success")}catch(W){console.error("Save error:",W),a("Erro ao salvar usina: "+(W.message||JSON.stringify(W)),"error")}finally{f(!1)}};return c.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},children:c.jsxs("div",{style:{background:"white",padding:"2rem",borderRadius:"8px",width:"90%",maxWidth:"800px",maxHeight:"90vh",overflowY:"auto"},children:[c.jsx("h3",{style:{marginBottom:"1.5rem",borderBottom:"1px solid #eee",paddingBottom:"0.5rem"},children:e?"Editar Usina":"Nova Usina"}),c.jsxs("form",{onSubmit:Ee,style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:[c.jsxs("div",{style:{gridColumn:"1 / -1"},children:[c.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Nome da Usina"}),c.jsx("input",{required:!0,value:_.name,onChange:z=>j({..._,name:z.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),c.jsx("div",{style:{gridColumn:"1 / -1",fontWeight:"bold",marginTop:"0.5rem",color:"var(--color-blue)"},children:"Localizao"}),c.jsxs("div",{style:{display:"flex",gap:"1rem",gridColumn:"1 / -1"},children:[c.jsxs("div",{style:{flex:1},children:[c.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"CEP"}),c.jsx("input",{value:_.cep,onChange:z=>j({..._,cep:z.target.value}),onBlur:ue,style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px",background:h?"#f0f9ff":"white"}})]}),c.jsxs("div",{style:{flex:3},children:[c.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Cidade/UF"}),c.jsx("input",{value:`${_.cidade} / ${_.uf}`,disabled:!0,style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px",background:"#f9fafb"}})]})]}),c.jsxs("div",{style:{gridColumn:"1 / -1"},children:[c.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Concessionria (Auto ou Manual)"}),c.jsx("input",{value:_.concessionaria,onChange:z=>j({..._,concessionaria:z.target.value}),placeholder:"Preenchido via CEP ou digite...",style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),c.jsx("div",{style:{gridColumn:"1 / -1",fontWeight:"bold",marginTop:"0.5rem",color:"var(--color-blue)"},children:"Detalhes Tcnicos"}),c.jsxs("div",{children:[c.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Status"}),c.jsx("select",{value:_.status,onChange:z=>j({..._,status:z.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"},children:g.map(z=>c.jsx("option",{value:z.value,children:z.label},z.value))})]}),c.jsxs("div",{children:[c.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Modalidade"}),c.jsx("select",{value:_.modalidade,onChange:z=>j({..._,modalidade:z.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"},children:b.map(z=>c.jsx("option",{value:z.value,children:z.label},z.value))})]}),c.jsxs("div",{children:[c.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Fornecedor"}),c.jsxs("select",{required:!0,value:_.supplier_id,onChange:z=>j({..._,supplier_id:z.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"},children:[c.jsx("option",{value:"",children:"Selecione..."}),o.map(z=>c.jsx("option",{value:z.id,children:z.name},z.id))]})]}),c.jsxs("div",{children:[c.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Valor Investido"}),c.jsx("input",{value:_.valor_investido,onChange:D,placeholder:"R$ 0,00",style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),c.jsx("div",{style:{gridColumn:"1 / -1",fontWeight:"bold",marginTop:"0.5rem",color:"var(--color-blue)"},children:"Mdulos e Inversores"}),c.jsxs("div",{children:[c.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Qtd. de Mdulos"}),c.jsx("input",{type:"number",value:_.qtd_modulos,onChange:z=>j({..._,qtd_modulos:z.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),c.jsxs("div",{children:[c.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Potncia Mdulo (W)"}),c.jsxs("select",{value:_.potencia_modulos_w,onChange:z=>j({..._,potencia_modulos_w:z.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"},children:[c.jsx("option",{value:"",children:"Selecione..."}),p.map(z=>c.jsxs("option",{value:z,children:[z," W"]},z))]})]}),c.jsxs("div",{children:[c.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Fabricante Inversor"}),c.jsxs("select",{value:_.fabricante_inversor,onChange:z=>j({..._,fabricante_inversor:z.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"},children:[c.jsx("option",{value:"",children:"Selecione..."}),s.map(z=>c.jsx("option",{value:z.name,children:z.name},z.name))]})]}),c.jsxs("div",{children:[c.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Potncia Inversor (W)"}),c.jsxs("select",{value:_.potencia_inversor_w,onChange:z=>j({..._,potencia_inversor_w:z.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"},children:[c.jsx("option",{value:"",children:"Selecione..."}),w.map(z=>c.jsxs("option",{value:z,children:[z," W"]},z))]})]}),c.jsxs("div",{children:[c.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem",color:"var(--color-orange)"},children:"Potncia Total (kWp) - Calc"}),c.jsx("input",{value:N,disabled:!0,style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px",background:"#fff7ed",fontWeight:"bold"}})]}),c.jsxs("div",{children:[c.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Gerao Estimada (kWh)"}),c.jsx("input",{type:"number",value:_.geracao_estimada_kwh,onChange:z=>j({..._,geracao_estimada_kwh:z.target.value}),placeholder:"Calculado automaticamente",style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px",background:"#eef2ff"}})]}),c.jsxs("div",{style:{gridColumn:"1 / -1",background:"#f9fafb",padding:"1rem",borderRadius:"8px",border:"1px solid #eee"},children:[c.jsx("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0.5rem"},children:c.jsx("label",{style:{fontSize:"0.9rem",fontWeight:"bold",color:"var(--color-blue)"},children:"Vincular Unidades Consumidoras - Todas"})}),c.jsxs("div",{style:{fontSize:"0.8rem",color:"#555",marginBottom:"0.5rem",background:"#e0f2fe",padding:"0.5rem",borderRadius:"4px"},children:["Total ",c.jsx("strong",{children:O.length})," UCs conectadas | Total ",c.jsx("strong",{children:P.toFixed(2)})," kWh/ms"]}),S.length===0?c.jsx("p",{style:{fontSize:"0.8rem",color:"#666"},children:"Nenhuma UC disponvel (Em Ativao) encontrada."}):c.jsx("div",{style:{maxHeight:"200px",overflowY:"auto",display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(200px, 1fr))",gap:"0.5rem"},children:S.map(z=>{var se;const W=O.some(M=>M.id===z.id);return c.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem",fontSize:"0.85rem",padding:"0.4rem",border:W?"1px solid var(--color-blue)":"1px solid #ddd",borderRadius:"4px",background:W?"#eff6ff":"white"},children:[c.jsx("input",{type:"checkbox",checked:W,onChange:M=>{M.target.checked?A([...O,z]):A(O.filter(Y=>Y.id!==z.id))}}),c.jsxs("div",{children:[c.jsx("div",{style:{fontWeight:"bold"},children:z.numero_uc}),c.jsxs("div",{style:{fontSize:"0.75rem",color:"#555"},children:[(se=z.titular_conta)==null?void 0:se.substring(0,15),"...",c.jsx("br",{}),c.jsxs("span",{style:{fontSize:"0.65rem",color:"#888"},children:["(",z.concessionaria,")"]})]}),z.consumo_medio_kwh&&c.jsxs("div",{style:{fontSize:"0.7rem",color:"green"},children:["Cap: ",z.consumo_medio_kwh," kWh"]})]})]},z.id)})})]}),c.jsx("div",{style:{gridColumn:"1 / -1",fontWeight:"bold",marginTop:"0.5rem",color:"var(--color-blue)"},children:"Gesto e Servios"}),c.jsxs("div",{style:{gridColumn:"1 / -1"},children:[c.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Servios Contratados"}),c.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem"},children:y.map(z=>{var se;const W=_.servicos_contratados.includes(z);return c.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[c.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"0.3rem",fontSize:"0.9rem",width:"150px",cursor:"pointer"},children:[c.jsx("input",{type:"checkbox",checked:W,onChange:()=>H(z)}),z]}),W&&c.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[c.jsx("input",{placeholder:"Valor (R$)",value:k((se=_.service_values)==null?void 0:se[z]),onChange:M=>le(z,M.target.value),style:{padding:"0.3rem",border:"1px solid #ddd",borderRadius:"4px",width:"100px"}}),z==="Gesto"&&c.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.3rem",marginLeft:"1rem"},children:[c.jsx("label",{style:{fontSize:"0.8rem"},children:"Taxa (%):"}),c.jsx("input",{type:"number",step:"0.01",value:_.gestao_percentual,onChange:M=>j({..._,gestao_percentual:M.target.value}),style:{padding:"0.3rem",border:"1px solid #ddd",borderRadius:"4px",width:"60px"}})]})]})]},z)})})]}),c.jsx("div",{style:{gridColumn:"1 / -1"},children:c.jsx(XX,{ibgeCode:_.ibge_code,potenciaKwp:N,onCalculate:ce})}),c.jsxs("div",{style:{gridColumn:"1 / -1",display:"flex",justifyContent:"space-between",marginTop:"1rem",paddingTop:"1rem",borderTop:"1px solid #eee"},children:[c.jsx("div",{children:e&&n&&c.jsx("button",{type:"button",onClick:de,style:{padding:"0.5rem 1rem",background:"#fee2e2",color:"#dc2626",borderRadius:"4px",border:"1px solid #fecaca"},children:"Excluir"})}),c.jsxs("div",{style:{display:"flex",gap:"1rem"},children:[c.jsx("button",{type:"button",onClick:t,style:{padding:"0.5rem 1rem",background:"#ccc",borderRadius:"4px"},children:"Cancelar"}),c.jsx("button",{type:"submit",disabled:d,style:{padding:"0.5rem 1rem",background:"var(--color-blue)",color:"white",borderRadius:"4px"},children:d?"Salvando...":"Salvar Usina"})]})]})]})]})})}function JX(){const[e,t]=x.useState([]),[r,n]=x.useState(!0),[a,i]=x.useState(!1),[o,l]=x.useState(null),[s,u]=x.useState(""),[d,f]=x.useState("kanban"),h=e.filter(v=>{var w,_,j,S,E,O,A;if(!s)return!0;const p=s.toLowerCase();return((w=v.name)==null?void 0:w.toLowerCase().includes(p))||((_=v.concessionaria)==null?void 0:_.toLowerCase().includes(p))||((S=(j=v.supplier)==null?void 0:j.name)==null?void 0:S.toLowerCase().includes(p))||((E=v.status)==null?void 0:E.toLowerCase().includes(p))||((A=(O=v.address)==null?void 0:O.cidade)==null?void 0:A.toLowerCase().includes(p))});x.useEffect(()=>{m()},[]);const m=async()=>{n(!0);try{const{data:v,error:p}=await U.from("usinas").select(`
                    *,
                    supplier:supplier_id (name)
                `).order("created_at",{ascending:!1});if(p)throw p;t(v||[])}catch(v){console.error("Erro usinas",v)}finally{n(!1)}},g=()=>{m(),i(!1)},b=v=>{t(e.filter(p=>p.id!==v)),i(!1)},y=v=>{switch(v){case"gerando":return{bg:"#dcfce7",color:"#166534"};case"em_conexao":return{bg:"#ffedd5",color:"#9a3412"};case"manutencao":return{bg:"#fee2e2",color:"#991b1b"};case"inativa":return{bg:"#f1f5f9",color:"#64748b"};case"cancelada":return{bg:"#f1f5f9",color:"#94a3b8"};default:return{bg:"#f1f5f9",color:"#64748b"}}};return c.jsxs("div",{children:[c.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"2rem"},children:[c.jsx("h2",{children:"Usinas Geradoras"}),c.jsx("button",{onClick:()=>{l(null),i(!0)},className:"btn btn-primary",children:"+ Nova Usina"})]}),c.jsx("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.5rem",flexWrap:"wrap",gap:"1rem"},children:c.jsxs("div",{style:{display:"flex",gap:"1rem",flex:1,alignItems:"center"},children:[c.jsx("input",{placeholder:"Buscar por Nome, Fornecedor, Concessionria ou Status...",value:s,onChange:v=>u(v.target.value),className:"input",style:{maxWidth:"400px"}}),c.jsxs("div",{className:"btn-group",style:{display:"flex",border:"1px solid var(--color-border)",borderRadius:"var(--radius-sm)",overflow:"hidden"},children:[c.jsx("button",{onClick:()=>f("list"),className:`btn ${d==="list"?"btn-primary":"btn-secondary"}`,style:{borderRadius:0,border:"none"},children:"Lista"}),c.jsx("button",{onClick:()=>f("kanban"),className:`btn ${d==="kanban"?"btn-primary":"btn-secondary"}`,style:{borderRadius:0,border:"none"},children:"Kanban"})]})]})}),r?c.jsx("p",{children:"Carregando..."}):c.jsx(c.Fragment,{children:d==="list"?c.jsx("div",{className:"card",style:{padding:0,overflow:"hidden"},children:c.jsx("div",{className:"table-container",children:h.length===0?c.jsx("p",{style:{padding:"2rem",textAlign:"center",color:"var(--color-text-light)"},children:"Nenhuma usina cadastrada."}):c.jsxs("table",{className:"table",children:[c.jsx("thead",{children:c.jsxs("tr",{children:[c.jsx("th",{children:"Nome / Concessionria"}),c.jsx("th",{children:"Fornecedor"}),c.jsx("th",{children:"Cidade"}),c.jsx("th",{children:"Gerao / Potncia"}),c.jsx("th",{children:"Status"}),c.jsx("th",{children:"Aes"})]})}),c.jsx("tbody",{children:h.map(v=>{var w,_,j,S;const p=y(v.status);return c.jsxs("tr",{children:[c.jsxs("td",{style:{fontWeight:"bold"},children:[c.jsx("div",{children:v.name}),c.jsx("div",{style:{fontSize:"0.85rem",color:"var(--color-blue)",fontWeight:"normal",marginTop:"4px"},children:v.concessionaria||"-"})]}),c.jsx("td",{children:((w=v.supplier)==null?void 0:w.name)||"-"}),c.jsxs("td",{children:[(_=v.address)==null?void 0:_.cidade,"/",(j=v.address)==null?void 0:j.uf]}),c.jsxs("td",{children:[c.jsx("div",{style:{fontWeight:"bold",color:"var(--color-success)",fontSize:"1.05rem"},children:v.geracao_estimada_kwh?`${v.geracao_estimada_kwh} kWh/ms`:"-"}),c.jsxs("div",{style:{fontSize:"0.8rem",color:"var(--color-text-medium)"},children:["Potncia: ",v.potencia_kwp," kWp"]})]}),c.jsx("td",{children:c.jsx("span",{style:{padding:"0.3rem 0.8rem",borderRadius:"99px",fontSize:"0.75rem",fontWeight:"bold",background:p.bg,color:p.color,textTransform:"uppercase"},children:(S=v.status)==null?void 0:S.replace("_"," ")})}),c.jsx("td",{children:c.jsx("button",{onClick:()=>{l(v),i(!0)},className:"btn btn-secondary",style:{padding:"0.3rem 0.6rem",fontSize:"0.8rem"},children:"Editar"})})]},v.id)})})]})})}):c.jsx("div",{style:{display:"flex",gap:"1rem",overflowX:"auto",paddingBottom:"1rem"},children:["em_conexao","gerando","manutencao","inativa","cancelada"].map(v=>{const p=h.filter(_=>_.status===v),w=y(v);return c.jsxs("div",{style:{minWidth:"300px",flex:1,background:"var(--color-bg-light)",borderRadius:"var(--radius-md)",padding:"0.5rem",borderTop:`4px solid ${w.color}`,boxShadow:"var(--shadow-sm)"},children:[c.jsxs("h4",{style:{padding:"0.8rem",borderBottom:"1px solid var(--color-border)",background:"white",borderRadius:"var(--radius-sm)",display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0.5rem",color:w.color},children:[c.jsx("span",{style:{textTransform:"uppercase",fontSize:"0.85rem",fontWeight:"bold"},children:v.replace("_"," ")}),c.jsx("span",{style:{fontSize:"0.8rem",background:w.color,color:"white",padding:"0.1rem 0.5rem",borderRadius:"99px"},children:p.length})]}),c.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem"},children:p.map(_=>{var j,S,E;return c.jsxs("div",{onClick:()=>{l(_),i(!0)},style:{background:"white",padding:"1rem",borderRadius:"var(--radius-sm)",boxShadow:"var(--shadow-sm)",cursor:"pointer",border:"1px solid transparent",transition:"0.2s",position:"relative",overflow:"hidden"},onMouseEnter:O=>O.currentTarget.style.borderColor="var(--color-blue)",onMouseLeave:O=>O.currentTarget.style.borderColor="transparent",children:[c.jsx("div",{style:{display:"inline-block",padding:"0.2rem 0.6rem",borderRadius:"4px",fontSize:"0.7rem",fontWeight:"bold",textTransform:"uppercase",background:w.bg,color:w.color,marginBottom:"0.5rem"},children:v.replace("_"," ")}),c.jsx("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"0.5rem",alignItems:"flex-start"},children:c.jsx("span",{style:{fontWeight:"bold",fontSize:"1rem",color:"var(--color-text-dark)",lineHeight:"1.2"},children:_.name})}),c.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"0.5rem",flexWrap:"wrap"},children:[c.jsx("span",{style:{fontSize:"0.75rem",color:"var(--color-blue)",background:"#eff6ff",padding:"0.1rem 0.4rem",borderRadius:"4px"},children:_.concessionaria||"Sem conc."}),c.jsx("span",{style:{fontSize:"0.75rem",color:"#666",background:"#f3f4f6",padding:"0.1rem 0.4rem",borderRadius:"4px"},children:((j=_.supplier)==null?void 0:j.name)||"Sem Fornecedor"})]}),c.jsxs("div",{style:{display:"flex",gap:"0.5rem",marginTop:"0.8rem",marginBottom:"0.5rem"},children:[c.jsxs("div",{style:{background:"var(--color-bg-light)",padding:"0.3rem 0.5rem",borderRadius:"4px",fontSize:"0.75rem",flex:1},children:[c.jsx("div",{style:{color:"var(--color-text-light)",fontSize:"0.65rem"},children:"Potncia"}),c.jsxs("div",{style:{fontWeight:"bold"},children:[_.potencia_kwp," kWp"]})]}),c.jsxs("div",{style:{background:"var(--color-bg-light)",padding:"0.3rem 0.5rem",borderRadius:"4px",fontSize:"0.75rem",flex:1},children:[c.jsx("div",{style:{color:"var(--color-text-light)",fontSize:"0.65rem"},children:"Gerao Est."}),c.jsxs("div",{style:{fontWeight:"bold",color:"var(--color-success)"},children:[_.geracao_estimada_kwh," kWh"]})]})]}),c.jsx("div",{style:{fontSize:"0.8rem",color:"var(--color-text-light)",display:"flex",justifyContent:"space-between",marginTop:"0.5rem"},children:c.jsxs("span",{children:[(S=_.address)==null?void 0:S.cidade,"/",(E=_.address)==null?void 0:E.uf]})})]},_.id)})})]},v)})})}),a&&c.jsx(ZX,{usina:o,onClose:()=>i(!1),onSave:g,onDelete:b})]})}function QX(){const{showAlert:e,showConfirm:t}=pl(),[r,n]=x.useState([]),[a,i]=x.useState([]),[o,l]=x.useState(!0),[s,u]=x.useState("kanban"),[d,f]=x.useState(null),[h,m]=x.useState(!1),[g,b]=x.useState(new Date().toISOString().substring(0,7)),[y,v]=x.useState(""),[p,w]=x.useState(""),[_,j]=x.useState(null),S=r.filter(C=>{var k,D,L,H,le,ue,ce;if(y&&C.status!==y)return!1;if(p){const de=p.toLowerCase(),Ee=((D=(k=C.consumer_units)==null?void 0:k.titular_conta)==null?void 0:D.toLowerCase())||"",z=((le=(H=(L=C.consumer_units)==null?void 0:L.subscribers)==null?void 0:H.name)==null?void 0:le.toLowerCase())||"",W=((ce=(ue=C.consumer_units)==null?void 0:ue.numero_uc)==null?void 0:ce.toLowerCase())||"";if(!Ee.includes(de)&&!z.includes(de)&&!W.includes(de))return!1}return!0});x.useEffect(()=>{E(),O()},[g]);const E=async()=>{l(!0);try{const[C,k]=g.split("-"),D=`${C}-${k}-01`,L=new Date(C,k,0).getDate(),H=`${C}-${k}-${L}`,{data:le,error:ue}=await U.from("invoices").select(`
                    *,
                    consumer_units (
                        numero_uc,
                        titular_conta,
                        concessionaria,
                        subscribers ( name )
                    )
                `).gte("mes_referencia",D).lte("mes_referencia",H).order("vencimento",{ascending:!0});if(ue)throw ue;n(le||[])}catch(C){console.error("Error fetching invoices:",C),e("Erro ao carregar faturas.","error")}finally{l(!1)}},O=async()=>{const{data:C,error:k}=await U.from("consumer_units").select("id, numero_uc, concessionaria, titular_conta").eq("status","ativo").order("titular_conta");k||i(C||[])},A=()=>{f(null),m(!0)},N=C=>{f(C),m(!0)},I=()=>{E(),m(!1)},P=async C=>{var D;if(await t(`Gerar boleto Asaas para a fatura de ${(D=C.consumer_units)==null?void 0:D.titular_conta}?`)){j(C.id);try{const L=await Df(C.id);L.url&&(e("Boleto gerado com sucesso!","success"),window.open(L.url,"_blank"),E())}catch(L){console.error(L),e("Erro ao gerar boleto: "+L.message,"error")}finally{j(null)}}},K=async C=>{if(await t("Tem certeza que deseja excluir esta fatura?"))try{const{error:D}=await U.from("invoices").delete().eq("id",C);if(D)throw D;E()}catch(D){console.error("Erro ao excluir fatura:",D),e("Erro ao excluir fatura: "+D.message,"error")}},T=C=>Number(C||0).toLocaleString("pt-BR",{style:"currency",currency:"BRL"}),q=C=>{const k={pago:{color:"#166534",bg:"#dcfce7",label:"Pago",icon:EA},a_vencer:{color:"#854d0e",bg:"#fef9c3",label:"A Vencer",icon:W4},atrasado:{color:"#991b1b",bg:"#fee2e2",label:"Atrasado",icon:jA}},D=k[C]||k.a_vencer,L=D.icon;return c.jsxs("span",{style:{display:"flex",alignItems:"center",gap:"0.3rem",padding:"0.2rem 0.6rem",background:D.bg,color:D.color,borderRadius:"99px",fontSize:"0.8rem",width:"fit-content"},children:[c.jsx(L,{size:12})," ",D.label]})};return c.jsxs("div",{style:{padding:"2rem",maxWidth:"1200px",margin:"0 auto"},children:[c.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"2rem"},children:[c.jsxs("div",{children:[c.jsx("h2",{style:{color:"var(--color-blue)",fontSize:"1.8rem",fontWeight:"bold"},children:"Faturas"}),c.jsx("p",{style:{color:"#64748b"},children:"Gerencie os lanamentos mensais das Unidades Consumidoras"})]}),c.jsxs("button",{onClick:A,style:{background:"var(--color-orange)",color:"white",padding:"0.8rem 1.5rem",borderRadius:"4px",border:"none",cursor:"pointer",fontWeight:"bold",display:"flex",alignItems:"center",gap:"0.5rem"},children:[c.jsx(ky,{size:18})," Nova Fatura"]})]}),c.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.5rem",flexWrap:"wrap",gap:"1rem"},children:[c.jsxs("div",{style:{background:"white",padding:"0.5rem 1rem",borderRadius:"8px",boxShadow:"0 1px 3px rgba(0,0,0,0.1)",display:"flex",gap:"1rem",alignItems:"center"},children:[c.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",color:"#64748b"},children:[c.jsx(J4,{size:18}),c.jsx("span",{style:{fontWeight:"bold"},children:"Ms:"})]}),c.jsx("input",{type:"month",value:g,onChange:C=>b(C.target.value),style:{padding:"0.5rem",border:"1px solid #e2e8f0",borderRadius:"4px"}}),c.jsx("div",{style:{width:"1px",height:"20px",background:"#e2e8f0"}}),c.jsx("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",color:"#64748b"},children:c.jsx("span",{style:{fontWeight:"bold"},children:"Status:"})}),c.jsxs("select",{value:y,onChange:C=>v(C.target.value),style:{padding:"0.5rem",border:"1px solid #e2e8f0",borderRadius:"4px"},children:[c.jsx("option",{value:"",children:"Todos"}),c.jsx("option",{value:"a_vencer",children:"A Vencer"}),c.jsx("option",{value:"atrasado",children:"Atrasado"}),c.jsx("option",{value:"pago",children:"Pago"})]}),c.jsx("div",{style:{width:"1px",height:"20px",background:"#e2e8f0"}}),c.jsx("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",color:"#64748b"},children:c.jsx(OA,{size:18})}),c.jsx("input",{placeholder:"Buscar por Nome...",value:p,onChange:C=>w(C.target.value),style:{padding:"0.5rem",border:"1px solid #e2e8f0",borderRadius:"4px",minWidth:"200px"}})]}),c.jsxs("div",{className:"btn-group",style:{display:"flex",border:"1px solid var(--color-border)",borderRadius:"var(--radius-sm)",overflow:"hidden"},children:[c.jsx("button",{onClick:()=>u("list"),className:`btn ${s==="list"?"btn-primary":"btn-secondary"}`,style:{borderRadius:0,border:"none"},children:"Lista"}),c.jsx("button",{onClick:()=>u("kanban"),className:`btn ${s==="kanban"?"btn-primary":"btn-secondary"}`,style:{borderRadius:0,border:"none"},children:"Kanban"})]})]}),o?c.jsx("p",{children:"Carregando..."}):c.jsx(c.Fragment,{children:s==="list"?c.jsx("div",{style:{background:"white",borderRadius:"8px",boxShadow:"0 4px 6px -1px rgba(0,0,0,0.1)",overflow:"hidden"},children:c.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[c.jsx("thead",{style:{background:"#f8fafc"},children:c.jsxs("tr",{children:[c.jsx("th",{style:{padding:"1rem",textAlign:"left",color:"#64748b",fontSize:"0.8rem",textTransform:"uppercase"},children:"Status"}),c.jsx("th",{style:{padding:"1rem",textAlign:"left",color:"#64748b",fontSize:"0.8rem",textTransform:"uppercase"},children:"Vencimento"}),c.jsx("th",{style:{padding:"1rem",textAlign:"left",color:"#64748b",fontSize:"0.8rem",textTransform:"uppercase"},children:"Unidade Consumidora"}),c.jsx("th",{style:{padding:"1rem",textAlign:"left",color:"#64748b",fontSize:"0.8rem",textTransform:"uppercase"},children:"Consumo"}),c.jsx("th",{style:{padding:"1rem",textAlign:"left",color:"#64748b",fontSize:"0.8rem",textTransform:"uppercase"},children:"Valor"}),c.jsx("th",{style:{padding:"1rem",textAlign:"right",color:"#64748b",fontSize:"0.8rem",textTransform:"uppercase"},children:"Aes"})]})}),c.jsx("tbody",{children:S.length===0?c.jsx("tr",{children:c.jsx("td",{colSpan:"6",style:{padding:"2rem",textAlign:"center",color:"#94a3b8"},children:"Nenhuma fatura encontrada para este ms."})}):S.map(C=>{var k,D,L;return c.jsxs("tr",{style:{borderBottom:"1px solid #f1f5f9"},children:[c.jsx("td",{style:{padding:"1rem"},children:q(C.status)}),c.jsx("td",{style:{padding:"1rem",color:"#334155"},children:C.vencimento?new Date(C.vencimento).toLocaleDateString("pt-BR"):"-"}),c.jsxs("td",{style:{padding:"1rem"},children:[c.jsx("div",{style:{fontWeight:"bold",color:"#1e293b"},children:((k=C.consumer_units)==null?void 0:k.numero_uc)||"N/A"}),c.jsxs("div",{style:{fontSize:"0.8rem",color:"#64748b"},children:[(D=C.consumer_units)==null?void 0:D.titular_conta," (",(L=C.consumer_units)==null?void 0:L.concessionaria,")"]})]}),c.jsxs("td",{style:{padding:"1rem",color:"#334155"},children:[Number(C.consumo_kwh).toLocaleString("pt-BR")," kWh"]}),c.jsx("td",{style:{padding:"1rem",fontWeight:"bold",color:"#0f172a"},children:T(C.valor_a_pagar)}),c.jsx("td",{style:{padding:"1rem",textAlign:"right"},children:c.jsxs("div",{style:{display:"flex",gap:"0.5rem",justifyContent:"flex-end"},children:[C.asaas_boleto_url?c.jsxs("a",{href:C.asaas_boleto_url,target:"_blank",rel:"noopener noreferrer",style:{background:"#dcfce7",color:"#166534",border:"1px solid #bbf7d0",padding:"0.4rem 0.8rem",borderRadius:"4px",textDecoration:"none",fontSize:"0.8rem",display:"flex",alignItems:"center",gap:"0.3rem"},title:"Ver Boleto",children:[c.jsx(vd,{size:14})," Boleto"]}):c.jsx("button",{onClick:()=>P(C),disabled:_===C.id,style:{background:_===C.id?"#f1f5f9":"#fff7ed",color:_===C.id?"#94a3b8":"#c2410c",border:_===C.id?"1px solid #cbd5e1":"1px solid #ffedd5",padding:"0.4rem 0.8rem",borderRadius:"4px",cursor:"pointer",fontSize:"0.8rem",display:"flex",alignItems:"center",gap:"0.3rem"},children:_===C.id?"Gerando...":c.jsxs(c.Fragment,{children:[c.jsx(zf,{size:14})," Emitir"]})}),c.jsx("button",{onClick:()=>N(C),style:{background:"none",border:"1px solid #e2e8f0",padding:"0.4rem 0.8rem",borderRadius:"4px",cursor:"pointer",color:"#475569",fontSize:"0.8rem"},title:"Editar",children:"Editar"}),c.jsx("button",{onClick:()=>K(C.id),style:{background:"#fee2e2",border:"1px solid #fecaca",padding:"0.4rem",borderRadius:"4px",cursor:"pointer",color:"#dc2626",display:"flex",alignItems:"center"},title:"Excluir",children:c.jsx(CA,{size:16})})]})})]},C.id)})})]})}):c.jsx("div",{style:{display:"flex",gap:"1rem",overflowX:"auto",paddingBottom:"1rem"},children:["a_vencer","atrasado","pago"].map(C=>{const k=S.filter(H=>H.status===C),D={pago:{color:"#166534",bg:"#dcfce7",label:"Pago"},a_vencer:{color:"#854d0e",bg:"#fef9c3",label:"A Vencer"},atrasado:{color:"#991b1b",bg:"#fee2e2",label:"Atrasado"}},L=D[C]||D.a_vencer;return c.jsxs("div",{style:{minWidth:"320px",flex:1,background:"var(--color-bg-light)",borderRadius:"var(--radius-md)",padding:"0.5rem",borderTop:`4px solid ${L.color}`,boxShadow:"var(--shadow-sm)"},children:[c.jsxs("h4",{style:{padding:"0.8rem",borderBottom:"1px solid var(--color-border)",background:"white",borderRadius:"var(--radius-sm)",display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0.5rem",color:L.color},children:[c.jsx("span",{style:{textTransform:"uppercase",fontSize:"0.85rem",fontWeight:"bold"},children:L.label}),c.jsx("span",{style:{fontSize:"0.8rem",background:L.color,color:"white",padding:"0.1rem 0.5rem",borderRadius:"99px"},children:T(k.reduce((H,le)=>H+(Number(le.valor_a_pagar)||0),0))})]}),c.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem"},children:k.map(H=>{var le,ue;return c.jsxs("div",{onClick:()=>N(H),style:{background:"white",padding:"1rem",borderRadius:"var(--radius-sm)",boxShadow:"var(--shadow-sm)",cursor:"pointer",border:"1px solid transparent",transition:"0.2s"},onMouseEnter:ce=>ce.currentTarget.style.borderColor="var(--color-blue)",onMouseLeave:ce=>ce.currentTarget.style.borderColor="transparent",children:[c.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"0.5rem"},children:[c.jsx("span",{style:{fontWeight:"bold",fontSize:"1rem",color:"var(--color-text-dark)"},children:(le=H.consumer_units)==null?void 0:le.numero_uc}),c.jsxs("span",{style:{fontSize:"0.75rem",color:"var(--color-text-medium)"},children:["Venc: ",H.vencimento?new Date(H.vencimento).toLocaleDateString("pt-BR"):"-"]})]}),c.jsx("div",{style:{fontSize:"0.85rem",color:"var(--color-text-medium)",marginBottom:"0.5rem"},children:(ue=H.consumer_units)==null?void 0:ue.titular_conta}),c.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"0.5rem",fontSize:"0.85rem",color:"var(--color-text-medium)",marginBottom:"0.8rem"},children:[c.jsxs("div",{children:[c.jsx("div",{style:{fontSize:"0.7rem",color:"var(--color-text-light)"},children:"Consumo"}),c.jsxs("div",{children:[Number(H.consumo_kwh).toLocaleString("pt-BR")," kWh"]})]}),c.jsxs("div",{children:[c.jsx("div",{style:{fontSize:"0.7rem",color:"var(--color-text-light)"},children:"Valor"}),c.jsx("div",{style:{fontWeight:"bold",color:"var(--color-blue)"},children:T(H.valor_a_pagar)})]})]}),c.jsx("div",{style:{display:"flex",justifyContent:"flex-end",gap:"0.5rem"},children:H.asaas_boleto_url?c.jsxs("a",{href:H.asaas_boleto_url,target:"_blank",rel:"noopener noreferrer",onClick:ce=>ce.stopPropagation(),style:{background:"#dcfce7",color:"#166534",border:"1px solid #bbf7d0",padding:"0.4rem 0.8rem",borderRadius:"4px",textDecoration:"none",fontSize:"0.8rem",display:"flex",alignItems:"center",gap:"0.3rem"},title:"Ver Boleto",children:[c.jsx(vd,{size:14})," Boleto"]}):c.jsx("button",{onClick:ce=>{ce.stopPropagation(),P(H)},className:"btn",disabled:_===H.id,style:{padding:"0.2rem 0.5rem",fontSize:"0.75rem",color:"#c2410c",borderColor:"#ffedd5",background:"#fff7ed",fontWeight:"bold"},children:_===H.id?"...":"Emitir"})})]},H.id)})})]},C)})})}),h&&c.jsx(kA,{invoice:d,ucs:a,onClose:()=>m(!1),onSave:I})]})}function eZ(){const[e,t]=x.useState([]),[r,n]=x.useState(!0),[a,i]=x.useState(""),[o,l]=x.useState("kanban"),[s,u]=x.useState(!1),[d,f]=x.useState(null),h=e.filter(y=>{var p,w,_,j,S,E,O;if(!a)return!0;const v=a.toLowerCase();return((p=y.numero_uc)==null?void 0:p.toLowerCase().includes(v))||((_=(w=y.subscriber)==null?void 0:w.name)==null?void 0:_.toLowerCase().includes(v))||((j=y.concessionaria)==null?void 0:j.toLowerCase().includes(v))||((E=(S=y.address)==null?void 0:S.cidade)==null?void 0:E.toLowerCase().includes(v))||((O=y.status)==null?void 0:O.toLowerCase().includes(v))});x.useEffect(()=>{m()},[]);const m=async()=>{n(!0);try{const{data:y,error:v}=await U.from("consumer_units").select(`
                    *,
                    subscriber:subscriber_id (name, cpf_cnpj)
                `).order("created_at",{ascending:!1});if(v)throw v;t(y||[])}catch(y){console.error("Error fetching UCs:",y)}finally{n(!1)}},g=y=>{m(),u(!1)},b=y=>{t(e.filter(v=>v.id!==y)),u(!1)};return c.jsxs("div",{children:[c.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"2rem"},children:[c.jsx("h2",{children:"Gesto de Unidades Consumidoras (UCs)"}),c.jsx("button",{onClick:()=>{f(null),u(!0)},style:{padding:"0.6rem 1.2rem",background:"var(--color-blue)",color:"white",borderRadius:"4px",fontWeight:"bold",cursor:"pointer"},children:"+ Nova UC"})]}),c.jsx("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.5rem",flexWrap:"wrap",gap:"1rem"},children:c.jsxs("div",{style:{display:"flex",gap:"1rem",flex:1,alignItems:"center"},children:[c.jsx("input",{placeholder:"Buscar por UC, Assinante, Concessionria ou Status...",value:a,onChange:y=>i(y.target.value),className:"input",style:{maxWidth:"400px"}}),c.jsxs("div",{className:"btn-group",style:{display:"flex",border:"1px solid var(--color-border)",borderRadius:"var(--radius-sm)",overflow:"hidden"},children:[c.jsx("button",{onClick:()=>l("list"),className:`btn ${o==="list"?"btn-primary":"btn-secondary"}`,style:{borderRadius:0,border:"none"},children:"Lista"}),c.jsx("button",{onClick:()=>l("kanban"),className:`btn ${o==="kanban"?"btn-primary":"btn-secondary"}`,style:{borderRadius:0,border:"none"},children:"Kanban"})]})]})}),r?c.jsx("p",{children:"Carregando..."}):c.jsx(c.Fragment,{children:o==="list"?c.jsx("div",{className:"card",style:{padding:0,overflow:"hidden"},children:c.jsx("div",{className:"table-container",children:h.length===0?c.jsx("p",{style:{padding:"2rem",textAlign:"center",color:"var(--color-text-light)"},children:"Nenhuma UC encontrada."}):c.jsxs("table",{className:"table",children:[c.jsx("thead",{children:c.jsxs("tr",{children:[c.jsx("th",{children:"UC"}),c.jsx("th",{children:"Concessionria"}),c.jsx("th",{children:"Assinante"}),c.jsx("th",{children:"Franquia"}),c.jsx("th",{children:"Status"}),c.jsx("th",{children:"Cidade"}),c.jsx("th",{children:"Aes"})]})}),c.jsx("tbody",{children:h.map(y=>{var v,p,w,_,j;return c.jsxs("tr",{children:[c.jsx("td",{style:{fontWeight:"bold"},children:y.numero_uc}),c.jsx("td",{style:{color:"var(--color-text-medium)"},children:y.concessionaria||"-"}),c.jsxs("td",{children:[c.jsx("div",{style:{fontWeight:"bold"},children:((v=y.subscriber)==null?void 0:v.name)||"-"}),c.jsx("div",{style:{fontSize:"0.8rem",color:"var(--color-text-medium)"},children:(p=y.subscriber)==null?void 0:p.cpf_cnpj})]}),c.jsx("td",{children:y.franquia?`${Number(y.franquia).toLocaleString("pt-BR")} kWh`:"-"}),c.jsx("td",{children:c.jsx("span",{className:"badge",style:{background:y.status==="ativo"?"var(--color-success-light)":y.status==="em_atraso"||y.status==="cancelado_inadimplente"?"#fee2e2":"var(--color-bg-light)",color:y.status==="ativo"?"var(--color-success)":y.status==="em_atraso"||y.status==="cancelado_inadimplente"?"#dc2626":"var(--color-text-light)"},children:(w=y.status)==null?void 0:w.replace("_"," ").toUpperCase()})}),c.jsxs("td",{children:[(_=y.address)==null?void 0:_.cidade," / ",(j=y.address)==null?void 0:j.uf]}),c.jsx("td",{children:c.jsx("button",{onClick:()=>{f(y),u(!0)},className:"btn btn-secondary",style:{padding:"0.3rem 0.6rem",fontSize:"0.8rem"},children:"Editar"})})]},y.id)})})]})})}):c.jsx("div",{style:{display:"flex",gap:"1rem",overflowX:"auto",paddingBottom:"1rem"},children:[{status:"em_ativacao",label:"Em Ativao",color:"#3b82f6"},{status:"aguardando_conexao",label:"Aguardando Conexo",color:"#eab308"},{status:"ativo",label:"Ativo",color:"#22c55e"},{status:"sem_geracao",label:"Sem Gerao",color:"#64748b"},{status:"em_atraso",label:"Em Atraso",color:"#f97316"},{status:"cancelado",label:"Cancelado",color:"#ef4444"},{status:"cancelado_inadimplente",label:"Cancelado (Inad.)",color:"#991b1b"}].map(({status:y,label:v,color:p})=>{const w=h.filter(_=>(_.status||"em_ativacao")===y);return c.jsxs("div",{style:{minWidth:"300px",flex:1,background:"var(--color-bg-light)",borderRadius:"var(--radius-md)",padding:"0.5rem",borderTop:`4px solid ${p}`,boxShadow:"var(--shadow-sm)"},children:[c.jsxs("h4",{style:{padding:"0.8rem",borderBottom:"1px solid var(--color-border)",background:"white",borderRadius:"var(--radius-sm)",display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0.5rem",color:p},children:[c.jsx("span",{style:{textTransform:"uppercase",fontSize:"0.85rem",fontWeight:"bold"},children:v}),c.jsx("span",{style:{fontSize:"0.8rem",background:p,color:"white",padding:"0.1rem 0.5rem",borderRadius:"99px"},children:w.length})]}),c.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem"},children:w.map(_=>{var j,S,E;return c.jsxs("div",{onClick:()=>{f(_),u(!0)},style:{background:"white",padding:"1rem",borderRadius:"var(--radius-sm)",boxShadow:"var(--shadow-sm)",cursor:"pointer",border:"1px solid transparent",transition:"0.2s"},onMouseEnter:O=>O.currentTarget.style.borderColor="var(--color-blue)",onMouseLeave:O=>O.currentTarget.style.borderColor="transparent",children:[c.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"0.5rem"},children:[c.jsx("span",{style:{fontWeight:"bold",fontSize:"1rem",color:"var(--color-text-dark)"},children:_.numero_uc}),c.jsx("span",{style:{fontSize:"0.75rem",color:"var(--color-blue)",background:"#eff6ff",padding:"0.1rem 0.4rem",borderRadius:"4px"},children:_.concessionaria})]}),c.jsx("div",{style:{fontSize:"0.9rem",color:"var(--color-text-medium)",marginBottom:"0.2rem"},children:((j=_.subscriber)==null?void 0:j.name)||"Sem Assinante"}),c.jsxs("div",{style:{fontSize:"0.8rem",color:"var(--color-text-light)",display:"flex",justifyContent:"space-between",marginTop:"0.5rem"},children:[c.jsxs("span",{children:[(S=_.address)==null?void 0:S.cidade,"/",(E=_.address)==null?void 0:E.uf]}),c.jsx("span",{children:_.franquia?`${Number(_.franquia).toLocaleString("pt-BR")} kWh`:""})]})]},_.id)})})]},y)})})}),s&&c.jsx(Ny,{consumerUnit:d,onClose:()=>u(!1),onSave:g,onDelete:b})]})}function tZ({billing:e,onClose:t,onSave:r}){const[n,a]=x.useState([]),[i,o]=x.useState(!1),[l,s]=x.useState(!1),[u,d]=x.useState({usina_id:"",status:"em_producao",mes_referencia:new Date().toISOString().substring(0,7),fechamento:new Date().toISOString().substring(0,10),geracao_mensal_kwh:"",energia_compensada:"",faturamento_mensal:"",faturas_pagas:"",custo_disponibilidade:"",manutencao:"",gestao_reais:"",arrendamento:"",servicos:"",total_despesas:"",saldo_receber:""}),[f,h]=x.useState(0),m=["em_producao","fechado","liquidado"],g=E=>{if(!E&&E!==0)return"";const O=Number(E);return isNaN(O)?"":O.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})},b=E=>{if(!E||typeof E!="string")return 0;const O=E.replace(/\D/g,"");return Number(O)/100},y=(E,O)=>{const A=O.replace(/\D/g,""),I=(Number(A)/100).toLocaleString("pt-BR",{style:"currency",currency:"BRL"});d(P=>({...P,[E]:I}))};x.useEffect(()=>{v(),e&&(d({usina_id:e.usina_id,status:e.status||"em_producao",mes_referencia:e.mes_referencia?e.mes_referencia.substring(0,7):"",fechamento:e.fechamento||"",geracao_mensal_kwh:e.geracao_mensal_kwh||"",energia_compensada:e.energia_compensada||"",faturamento_mensal:g(e.faturamento_mensal),faturas_pagas:g(e.faturas_pagas),custo_disponibilidade:g(e.custo_disponibilidade),manutencao:g(e.manutencao),gestao_reais:g(e.gestao_reais),arrendamento:g(e.arrendamento),servicos:g(e.servicos),total_despesas:g(e.total_despesas),saldo_receber:g(e.saldo_receber)}),p(e.usina_id))},[e]),x.useEffect(()=>{_()},[u.faturas_pagas,u.custo_disponibilidade,u.manutencao,u.arrendamento,u.servicos,f]);const v=async()=>{const{data:E}=await U.from("usinas").select("id, name");a(E||[])},p=async E=>{if(!E)return;const{data:O}=await U.from("usinas").select("gestao_percentual").eq("id",E).single();O&&h(Number(O.gestao_percentual)||0)},w=async E=>{const O=E.target.value;d(A=>({...A,usina_id:O})),await p(O)},_=()=>{const E=b(u.faturas_pagas),O=b(u.custo_disponibilidade),A=b(u.manutencao),N=b(u.arrendamento),I=b(u.servicos);let P=0;f>0&&(P=E*(f/100));const K=O+A+P+N+I,T=E-K,q=b(u.gestao_reais),C=b(u.total_despesas),k=b(u.saldo_receber);Math.abs(q-P)<.01&&Math.abs(C-K)<.01&&Math.abs(k-T)<.01||d(D=>({...D,gestao_reais:g(P),total_despesas:g(K),saldo_receber:g(T)}))},j=async()=>{if(!u.usina_id||!u.mes_referencia){alert("Selecione uma Usina e um Ms de Referncia.");return}s(!0);try{const{data:E,error:O}=await U.from("consumer_units").select("id").eq("usina_id",u.usina_id);if(O)throw O;if(!E||E.length===0){alert("Nenhuma UC vinculada a esta usina."),s(!1);return}const A=E.map(L=>L.id),[N,I]=u.mes_referencia.split("-"),P=`${N}-${I}-01`,K=new Date(N,I,0).getDate(),T=`${N}-${I}-${K}`,{data:q,error:C}=await U.from("invoices").select("valor_a_pagar, status").in("uc_id",A).gte("mes_referencia",P).lte("mes_referencia",T);if(C)throw C;let k=0,D=0;q.forEach(L=>{const H=Number(L.valor_a_pagar)||0;k+=H,L.status==="pago"&&(D+=H)}),d(L=>({...L,faturamento_mensal:g(k),faturas_pagas:g(D)}))}catch(E){console.error("Reconciliation error:",E),alert("Erro ao buscar faturas: "+E.message)}finally{s(!1)}},S=async E=>{E.preventDefault(),o(!0);try{const O={usina_id:u.usina_id,status:u.status,mes_referencia:`${u.mes_referencia}-01`,fechamento:u.fechamento,geracao_mensal_kwh:Number(u.geracao_mensal_kwh),energia_compensada:Number(u.energia_compensada),faturamento_mensal:b(u.faturamento_mensal),faturas_pagas:b(u.faturas_pagas),custo_disponibilidade:b(u.custo_disponibilidade),manutencao:b(u.manutencao),gestao_reais:b(u.gestao_reais),arrendamento:b(u.arrendamento),servicos:b(u.servicos),total_despesas:b(u.total_despesas),saldo_receber:b(u.saldo_receber)};let A;if(e!=null&&e.id?A=await U.from("generation_production").update(O).eq("id",e.id):A=await U.from("generation_production").insert(O),A.error)throw A.error;r(),t()}catch(O){console.error("Save error:",O),alert("Erro ao salvar: "+(O.message||JSON.stringify(O)))}finally{o(!1)}};return c.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},children:c.jsxs("div",{style:{background:"white",padding:"2rem",borderRadius:"8px",width:"90%",maxWidth:"900px",maxHeight:"90vh",overflowY:"auto"},children:[c.jsx("h3",{style:{marginBottom:"1.5rem",borderBottom:"1px solid #eee",paddingBottom:"0.5rem"},children:e?"Editar Fechamento":"Novo Fechamento"}),c.jsxs("form",{onSubmit:S,style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:[c.jsxs("div",{style:{gridColumn:"1 / -1",display:"flex",gap:"1rem",background:"#f8fafc",padding:"1rem",borderRadius:"4px"},children:[c.jsxs("div",{style:{flex:1},children:[c.jsx("label",{style:{display:"block",fontSize:"0.8rem",marginBottom:"0.2rem"},children:"Usina"}),c.jsxs("select",{required:!0,value:u.usina_id,onChange:w,style:{width:"100%",padding:"0.5rem",borderRadius:"4px",border:"1px solid #ddd"},children:[c.jsx("option",{value:"",children:"Selecione..."}),n.map(E=>c.jsx("option",{value:E.id,children:E.name},E.id))]})]}),c.jsxs("div",{style:{width:"220px",display:"flex",gap:"0.5rem"},children:[c.jsxs("div",{style:{flex:1},children:[c.jsx("label",{style:{display:"block",fontSize:"0.8rem",marginBottom:"0.2rem"},children:"Ms Ref."}),c.jsx("select",{value:u.mes_referencia.split("-")[1],onChange:E=>{const O=u.mes_referencia.split("-")[0];d({...u,mes_referencia:`${O}-${E.target.value}`})},style:{width:"100%",padding:"0.4rem",border:"1px solid #ddd",borderRadius:"4px"},children:["01","02","03","04","05","06","07","08","09","10","11","12"].map((E,O)=>c.jsx("option",{value:E,children:["Janeiro","Fevereiro","Maro","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"][O]},E))})]}),c.jsxs("div",{style:{width:"80px"},children:[c.jsx("label",{style:{display:"block",fontSize:"0.8rem",marginBottom:"0.2rem"},children:"Ano"}),c.jsx("select",{value:u.mes_referencia.split("-")[0],onChange:E=>{const O=u.mes_referencia.split("-")[1];d({...u,mes_referencia:`${E.target.value}-${O}`})},style:{width:"100%",padding:"0.4rem",border:"1px solid #ddd",borderRadius:"4px"},children:Array.from({length:10},(E,O)=>new Date().getFullYear()-2+O).map(E=>c.jsx("option",{value:E,children:E},E))})]})]}),c.jsxs("div",{style:{width:"150px"},children:[c.jsx("label",{style:{display:"block",fontSize:"0.8rem",marginBottom:"0.2rem"},children:"Data Fechamento"}),c.jsx("input",{type:"date",required:!0,value:u.fechamento,onChange:E=>d({...u,fechamento:E.target.value}),style:{width:"100%",padding:"0.4rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),c.jsxs("div",{style:{width:"120px"},children:[c.jsx("label",{style:{display:"block",fontSize:"0.8rem",marginBottom:"0.2rem"},children:"Status"}),c.jsx("select",{value:u.status,onChange:E=>d({...u,status:E.target.value}),style:{width:"100%",padding:"0.5rem",borderRadius:"4px",border:"1px solid #ddd"},children:m.map(E=>c.jsx("option",{value:E,children:E.replace("_"," ").toUpperCase()},E))})]}),c.jsx("div",{style:{display:"flex",alignItems:"flex-end"},children:c.jsx("button",{type:"button",onClick:j,disabled:l||!u.usina_id,style:{padding:"0.5rem 1rem",background:"var(--color-blue)",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",opacity:l?.7:1},children:l?"Buscando...":"Buscar Faturas"})})]}),c.jsx("div",{style:{gridColumn:"1 / -1",fontWeight:"bold",marginTop:"0.5rem",color:"var(--color-blue)"},children:"Produo e Receita"}),c.jsxs("div",{children:[c.jsx("label",{style:{display:"block",fontSize:"0.9rem"},children:"Gerao Mensal (kWh)"}),c.jsx("input",{type:"number",required:!0,value:u.geracao_mensal_kwh,onChange:E=>d({...u,geracao_mensal_kwh:E.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),c.jsxs("div",{children:[c.jsx("label",{style:{display:"block",fontSize:"0.9rem"},children:"Energia Compensada (kWh)"}),c.jsx("input",{type:"number",value:u.energia_compensada,onChange:E=>d({...u,energia_compensada:E.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),c.jsxs("div",{children:[c.jsx("label",{style:{display:"block",fontSize:"0.9rem"},children:"Faturamento Mensal (R$ Total)"}),c.jsx("input",{type:"text",value:u.faturamento_mensal,onChange:E=>y("faturamento_mensal",E.target.value),placeholder:"R$ 0,00",style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),c.jsxs("div",{style:{gridColumn:"1 / -1",background:"#ecfdf5",padding:"1rem",borderRadius:"4px",border:"1px solid #d1fae5"},children:[c.jsx("label",{style:{display:"block",fontSize:"0.9rem",color:"#047857",fontWeight:"bold"},children:"Faturas Pagas (Base de Clculo) - R$"}),c.jsx("input",{type:"text",value:u.faturas_pagas,onChange:E=>y("faturas_pagas",E.target.value),placeholder:"R$ 0,00",style:{width:"100%",padding:"0.5rem",border:"1px solid #10b981",borderRadius:"4px",fontSize:"1.2rem",fontWeight:"bold",color:"#047857"}}),c.jsx("span",{style:{fontSize:"0.8rem",color:"#059669"},children:"Valor efetivamente recebido dos assinantes."})]}),c.jsx("div",{style:{gridColumn:"1 / -1",fontWeight:"bold",marginTop:"0.5rem",color:"var(--color-blue)"},children:"Despesas Operacionais"}),c.jsxs("div",{children:[c.jsx("label",{style:{display:"block",fontSize:"0.9rem"},children:"Custo Disp. (R$)"}),c.jsx("input",{type:"text",value:u.custo_disponibilidade,onChange:E=>y("custo_disponibilidade",E.target.value),placeholder:"R$ 0,00",style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),c.jsxs("div",{children:[c.jsx("label",{style:{display:"block",fontSize:"0.9rem"},children:"Manuteno (R$)"}),c.jsx("input",{type:"text",value:u.manutencao,onChange:E=>y("manutencao",E.target.value),placeholder:"R$ 0,00",style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),c.jsxs("div",{children:[c.jsx("label",{style:{display:"block",fontSize:"0.9rem"},children:"Arrendamento (R$)"}),c.jsx("input",{type:"text",value:u.arrendamento,onChange:E=>y("arrendamento",E.target.value),placeholder:"R$ 0,00",style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),c.jsxs("div",{children:[c.jsx("label",{style:{display:"block",fontSize:"0.9rem"},children:"Servios (R$)"}),c.jsx("input",{type:"text",value:u.servicos,onChange:E=>y("servicos",E.target.value),placeholder:"R$ 0,00",style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),c.jsxs("div",{style:{gridColumn:"1 / -1",background:"#fef3c7",padding:"1rem",borderRadius:"4px",marginTop:"0.5rem",display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem",border:"1px solid #fcd34d"},children:[c.jsxs("div",{children:[c.jsxs("label",{style:{display:"block",fontSize:"0.9rem",color:"#b45309"},children:["Taxa de Gesto (",f,"%)"]}),c.jsx("input",{disabled:!0,value:u.gestao_reais,style:{width:"100%",padding:"0.5rem",border:"1px solid #fbbf24",borderRadius:"4px",background:"white"}})]}),c.jsxs("div",{children:[c.jsx("label",{style:{display:"block",fontSize:"0.9rem",color:"#b45309",fontWeight:"bold"},children:"Total Despesas"}),c.jsx("input",{disabled:!0,value:u.total_despesas,style:{width:"100%",padding:"0.5rem",border:"1px solid #fbbf24",borderRadius:"4px",background:"white",fontWeight:"bold"}})]})]}),c.jsxs("div",{style:{gridColumn:"1 / -1",background:"#eff6ff",padding:"1.5rem",borderRadius:"4px",border:"1px solid #bfdbfe",marginTop:"1rem",textAlign:"center"},children:[c.jsx("label",{style:{display:"block",fontSize:"1rem",color:"#1e40af",marginBottom:"0.5rem"},children:"Saldo Lquido a Receber"}),c.jsx("div",{style:{fontSize:"2rem",fontWeight:"bold",color:"#1e3a8a"},children:u.saldo_receber}),c.jsx("span",{style:{fontSize:"0.8rem",color:"#60a5fa"},children:"Faturas Pagas - Total Despesas"})]}),c.jsxs("div",{style:{gridColumn:"1 / -1",display:"flex",justifyContent:"flex-end",gap:"1rem",marginTop:"1rem"},children:[c.jsx("button",{type:"button",onClick:t,style:{padding:"0.8rem 1.5rem",background:"#ccc",borderRadius:"4px",border:"none",cursor:"pointer"},children:"Cancelar"}),c.jsx("button",{type:"submit",disabled:i,style:{padding:"0.8rem 1.5rem",background:"var(--color-blue)",color:"white",borderRadius:"4px",border:"none",cursor:"pointer",fontWeight:"bold"},children:i?"Salvando...":"Confirmar Fechamento"})]})]})]})})}function rZ(){const[e,t]=x.useState([]),[r,n]=x.useState(!0),[a,i]=x.useState("kanban"),[o,l]=x.useState(!1),[s,u]=x.useState(null);x.useEffect(()=>{d()},[]);const d=async()=>{n(!0);const{data:p,error:w}=await U.from("generation_production").select(`
                *,
                usinas ( name )
            `).order("mes_referencia",{ascending:!1});w?console.error("Error fetching billing:",w):t(p||[]),n(!1)},f=p=>{u(p),l(!0)},h=()=>{u(null),l(!0)},m=async p=>{if(!confirm("Tem certeza que deseja excluir este fechamento?"))return;const{error:w}=await U.from("generation_production").delete().eq("id",p);w?alert("Erro ao excluir"):d()},g=async p=>{var w;if(!p.saldo_receber||p.saldo_receber<=0){alert("Saldo a receber deve ser maior que zero.");return}if(confirm(`Deseja enviar R$ ${p.saldo_receber} via Pix para esta usina/fornecedor?`)){n(!0);try{const{data:_,error:j}=await U.from("usinas").select("supplier:suppliers ( pix_key, pix_key_type, name )").eq("id",p.usina_id).single();if(j||!_||!_.supplier)throw new Error("Fornecedor/Pix no encontrado para esta usina.");const S=_.supplier;if(!S.pix_key)throw new Error("Fornecedor sem Chave Pix cadastrada.");const{data:E,error:O}=await U.functions.invoke("transfer-asaas-pix",{body:{value:p.saldo_receber,pix_key:S.pix_key,pix_key_type:S.pix_key_type,description:`Pagamento Energia - ${p.mes_referencia} - ${_.name}`,operationType:"PIX"}});if(O)throw O;if(!E.success)throw new Error(E.error||"Erro desconhecido na transferncia");alert("Pagamento enviado com sucesso! ID: "+((w=E.data)==null?void 0:w.id)),d(),await U.from("generation_production").update({status:"liquidado"}).eq("id",p.id),d()}catch(_){console.error("Payment Error:",_),alert("Erro no pagamento: "+_.message)}finally{n(!1)}}},b=()=>{d(),l(!1)},y=p=>{if(!p)return"-";const[w,_]=p.split("-"),j=["Janeiro","Fevereiro","Maro","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],S=parseInt(_,10)-1;return`${j[S]||"-"} ${w}`},v=p=>Number(p||0).toLocaleString("pt-BR",{style:"currency",currency:"BRL"});return c.jsxs("div",{style:{padding:"2rem"},children:[c.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"2rem"},children:[c.jsx("h2",{style:{color:"var(--color-blue)",fontSize:"1.5rem",fontWeight:"bold"},children:"Fechamento Mensal"}),c.jsx("button",{onClick:h,style:{background:"var(--color-orange)",color:"white",padding:"0.8rem 1.5rem",borderRadius:"4px",border:"none",cursor:"pointer",fontWeight:"bold"},children:"Novo Fechamento"})]}),c.jsx("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.5rem"},children:c.jsxs("div",{className:"btn-group",style:{display:"flex",border:"1px solid var(--color-border)",borderRadius:"var(--radius-sm)",overflow:"hidden"},children:[c.jsx("button",{onClick:()=>i("list"),className:`btn ${a==="list"?"btn-primary":"btn-secondary"}`,style:{borderRadius:0,border:"none"},children:"Lista"}),c.jsx("button",{onClick:()=>i("kanban"),className:`btn ${a==="kanban"?"btn-primary":"btn-secondary"}`,style:{borderRadius:0,border:"none"},children:"Kanban"})]})}),r?c.jsx("p",{children:"Carregando..."}):c.jsx(c.Fragment,{children:a==="list"?c.jsx("div",{className:"card",style:{padding:0,overflow:"hidden"},children:c.jsx("div",{className:"table-container",children:c.jsxs("table",{className:"table",children:[c.jsx("thead",{children:c.jsxs("tr",{children:[c.jsx("th",{children:"Ms Ref."}),c.jsx("th",{children:"Usina"}),c.jsx("th",{children:"Status"}),c.jsx("th",{children:"Gerao (kWh)"}),c.jsx("th",{children:"Compensado (kWh)"}),c.jsx("th",{children:"Faturado (R$)"}),c.jsx("th",{children:"Saldo a Receber (R$)"}),c.jsx("th",{children:"Aes"})]})}),c.jsx("tbody",{children:e.map(p=>{var w;return c.jsxs("tr",{children:[c.jsx("td",{children:y(p.mes_referencia)}),c.jsx("td",{children:((w=p.usinas)==null?void 0:w.name)||"-"}),c.jsx("td",{children:c.jsx("span",{className:"badge",style:{background:p.status==="liquidado"?"#dcfce7":p.status==="fechado"?"#e0f2fe":"#fef9c3",color:p.status==="liquidado"?"#166534":p.status==="fechado"?"#0369a1":"#854d0e"},children:p.status})}),c.jsxs("td",{children:[Number(p.geracao_mensal_kwh).toLocaleString("pt-BR")," kWh"]}),c.jsxs("td",{children:[Number(p.energia_compensada||0).toLocaleString("pt-BR")," kWh"]}),c.jsx("td",{children:v(p.faturamento_mensal)}),c.jsx("td",{style:{fontWeight:"bold",color:"var(--color-blue)"},children:v(p.saldo_receber)}),c.jsx("td",{children:c.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[c.jsx("button",{onClick:()=>f(p),className:"btn btn-secondary",style:{padding:"0.3rem 0.6rem",fontSize:"0.8rem"},children:"Editar"}),c.jsx("button",{onClick:()=>m(p.id),className:"btn btn-secondary",style:{padding:"0.3rem 0.6rem",fontSize:"0.8rem",color:"#ef4444",borderColor:"#fee2e2",background:"#fef2f2"},children:"Excluir"}),c.jsx("button",{onClick:()=>g(p),className:"btn",style:{padding:"0.3rem 0.6rem",fontSize:"0.8rem",color:"#059669",borderColor:"#d1fae5",background:"#ecfdf5",fontWeight:"bold"},children:" Pagar"})]})})]},p.id)})})]})})}):c.jsx("div",{style:{display:"flex",gap:"1rem",overflowX:"auto",paddingBottom:"1rem"},children:["aberto","fechado","liquidado"].map(p=>{const w=e.filter(S=>S.status===p),j={aberto:"#eab308",fechado:"#0ea5e9",liquidado:"#22c55e"}[p]||"#64748b";return c.jsxs("div",{style:{minWidth:"320px",flex:1,background:"var(--color-bg-light)",borderRadius:"var(--radius-md)",padding:"0.5rem",borderTop:`4px solid ${j}`,boxShadow:"var(--shadow-sm)"},children:[c.jsxs("h4",{style:{padding:"0.8rem",borderBottom:"1px solid var(--color-border)",background:"white",borderRadius:"var(--radius-sm)",display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0.5rem",color:j},children:[c.jsx("span",{style:{textTransform:"uppercase",fontSize:"0.85rem",fontWeight:"bold"},children:p}),c.jsx("span",{style:{fontSize:"0.8rem",background:j,color:"white",padding:"0.1rem 0.5rem",borderRadius:"99px"},children:v(w.reduce((S,E)=>S+(Number(E.saldo_receber)||0),0))})]}),c.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem"},children:w.map(S=>{var E;return c.jsxs("div",{onClick:()=>f(S),style:{background:"white",padding:"1rem",borderRadius:"var(--radius-sm)",boxShadow:"var(--shadow-sm)",cursor:"pointer",border:"1px solid transparent",transition:"0.2s"},onMouseEnter:O=>O.currentTarget.style.borderColor="var(--color-blue)",onMouseLeave:O=>O.currentTarget.style.borderColor="transparent",children:[c.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"0.5rem"},children:[c.jsx("span",{style:{fontWeight:"bold",fontSize:"1rem",color:"var(--color-text-dark)"},children:(E=S.usinas)==null?void 0:E.name}),c.jsx("span",{style:{fontSize:"0.75rem",color:"var(--color-text-medium)"},children:y(S.mes_referencia)})]}),c.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"0.5rem",fontSize:"0.85rem",color:"var(--color-text-medium)",marginBottom:"0.8rem"},children:[c.jsxs("div",{children:[c.jsx("div",{style:{fontSize:"0.7rem",color:"var(--color-text-light)"},children:"Gerao"}),c.jsxs("div",{children:[Number(S.geracao_mensal_kwh).toLocaleString("pt-BR")," kWh"]})]}),c.jsxs("div",{children:[c.jsx("div",{style:{fontSize:"0.7rem",color:"var(--color-text-light)"},children:"Saldo"}),c.jsx("div",{style:{fontWeight:"bold",color:"var(--color-blue)"},children:v(S.saldo_receber)})]})]}),c.jsx("div",{style:{display:"flex",justifyContent:"flex-end",gap:"0.5rem"},children:S.status!=="liquidado"&&c.jsx("button",{onClick:O=>{O.stopPropagation(),g(S)},className:"btn",style:{padding:"0.2rem 0.5rem",fontSize:"0.75rem",color:"#059669",borderColor:"#d1fae5",background:"#ecfdf5",fontWeight:"bold"},children:" Pagar"})})]},S.id)})})]},p)})})}),o&&c.jsx(tZ,{billing:s,onClose:()=>l(!1),onSave:b})]})}function nZ(){var m;const{profile:e,signOut:t}=Jr(),r=cl(),[n,a]=x.useState("default"),[i,o]=x.useState(!1),[l,s]=x.useState(!1);x.useEffect(()=>{e&&(e.role==="subscriber"?a("subscriber_dashboard"):e.role==="supplier"?a("supplier_dashboard"):a("leads"))},[e]);const u=async()=>{await t(),r("/login")},f=(g=>{if(!g)return[];const b=[];g!=="subscriber"&&b.push({id:"leads",label:"Leads",icon:lB}),["originator","coordinator","manager","admin","super_admin"].includes(g)&&(g==="originator"?(b.push({id:"originator_dashboard",label:"Minhas Comisses",icon:Dm}),b.push({id:"originators_list",label:"Equipe",icon:N1})):b.push({id:"originators_list",label:"Originadores",icon:N1})),g!=="lead"&&(g==="subscriber"?b.push({id:"subscriber_dashboard",label:"Meu Painel",icon:Dm}):b.push({id:"subscribers_list",label:"Assinantes",icon:xB})),g!=="lead"&&g!=="subscriber"&&b.push({id:"consumer_units",label:"Unidades Consumidoras",icon:eB}),b.push({id:"invoices",label:"Faturas",icon:vd});const v=["supplier","manager","admin","super_admin"];return v.includes(g)&&(g==="supplier"?b.push({id:"supplier_dashboard",label:"Meu Painel",icon:Dm}):b.push({id:"suppliers_list",label:"Fornecedores",icon:yB})),v.includes(g)&&b.push({id:"power_plants",label:"Usinas",icon:jB}),["supplier","manager","admin","super_admin"].includes(g)&&b.push({id:"billing",label:"Billing",icon:Y4}),["admin","super_admin"].includes(g)&&b.push({id:"admin",label:"Gesto de Usurios",icon:hB}),b})(e==null?void 0:e.role),h=()=>{if(!e)return c.jsx("p",{children:"Carregando perfil..."});switch(n){case"admin":return c.jsx(RB,{});case"subscriber_dashboard":return c.jsx(MB,{});case"originator_dashboard":return c.jsx(DB,{});case"supplier_dashboard":return c.jsx(zB,{});case"leads":return c.jsx(IB,{});case"subscribers_list":return c.jsx($B,{});case"originators_list":return c.jsx(UB,{});case"suppliers_list":return c.jsx(HB,{});case"power_plants":return c.jsx(JX,{});case"consumer_units":return c.jsx(eZ,{});case"invoices":return c.jsx(QX,{});case"billing":return c.jsx(rZ,{});default:return c.jsxs("div",{style:{padding:"2rem"},children:[c.jsxs("h2",{children:["Bem-vindo, ",e==null?void 0:e.name]}),c.jsx("p",{children:"Selecione uma opo no menu."})]})}};return c.jsxs("div",{className:"dashboard-container",children:[c.jsx("button",{className:"menu-toggle",onClick:()=>o(!i),children:c.jsx(uB,{size:24})}),i&&c.jsx("div",{className:"modal-overlay",style:{zIndex:999,backdropFilter:"none"},onClick:()=>o(!1)}),c.jsxs("aside",{className:`sidebar ${i?"open":""} ${l?"collapsed":""}`,children:[c.jsxs("div",{className:"sidebar-header",style:{justifyContent:l?"center":"space-between"},children:[!l&&c.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[c.jsx("img",{src:"https://b2wenergia.com.br/wp-content/uploads/2025/12/Logo-Laranja-estreito.png",alt:"B2W Energia",style:{height:"35px",objectFit:"contain"}}),c.jsx("span",{style:{color:"white",fontWeight:"bold",fontSize:"1.2rem"},children:"B2W Energia"})]}),c.jsx("button",{onClick:()=>s(!l),style:{background:"transparent",color:"white",border:"none",cursor:"pointer",display:i?"none":"block"},className:"desktop-only-btn",children:l?c.jsx(I4,{size:20}):c.jsx(z4,{size:20})})]}),c.jsx("nav",{style:{flex:1,overflowY:"auto"},children:c.jsx("ul",{style:{listStyle:"none"},children:f.map(g=>{const b=g.icon;return c.jsx("li",{style:{marginBottom:"0.25rem"},children:c.jsxs("button",{onClick:()=>{a(g.id),o(!1)},title:l?g.label:"",className:`sidebar-link ${n===g.id?"active":""}`,style:{justifyContent:l?"center":"flex-start"},children:[c.jsx(b,{size:20,style:{marginRight:l?0:"0.75rem",flexShrink:0}}),!l&&c.jsx("span",{children:g.label})]})},g.id)})})}),c.jsxs("div",{className:"sidebar-footer",children:[!l&&c.jsxs("div",{style:{marginBottom:"1rem",padding:"0 0.5rem"},children:[c.jsx("p",{style:{fontWeight:"bold",fontSize:"0.9rem"},children:e==null?void 0:e.name}),c.jsx("p",{style:{opacity:.7,fontSize:"0.75rem"},children:(m=e==null?void 0:e.role)==null?void 0:m.replace("_"," ").toUpperCase()})]}),c.jsxs("button",{onClick:u,title:"Sair",className:"sidebar-footer-btn",style:{justifyContent:l?"center":"flex-start"},children:[c.jsx(iB,{size:20,style:{marginRight:l?0:"0.5rem"}}),!l&&c.jsx("span",{children:"Sair"})]})]})]}),c.jsx("main",{className:"main-content",children:h()})]})}function aZ(){const[e]=vC(),t=cl(),r=e.get("id"),[n,a]=x.useState("simulation"),[i,o]=x.useState(!1),[l,s]=x.useState(null),[u,d]=x.useState(null),[f,h]=x.useState(null),[m,g]=x.useState({cep:"",nome:"",email:"",telefone:"",consumo:"",rua:"",numero:"",bairro:"",cidade:"",uf:"",cpf_cnpj:"",numero_uc:""}),b=async()=>{if(m.cep.length>=8)try{o(!0);const p=await Ha(m.cep);if(g(w=>({...w,rua:p.rua||"",bairro:p.bairro||"",cidade:p.cidade||"",uf:p.uf||""})),p.ibge){const w=await lu(p.ibge);d(w)}}catch(p){console.error(p),alert("Erro ao buscar CEP")}finally{o(!1)}},y=async p=>{if(p.preventDefault(),!Ei(m.telefone)){alert("Telefone invlido! Digite o DDD + 9 dgitos.");return}o(!0);try{const w=u&&u["Tarifa Concessionaria"]||.85,_=u&&u["Desconto Assinante"]||.1,j=parseFloat(m.consumo)*w,S=j*_;s({contaAtual:j,economiaMensal:S,anual:S*12});const{data:E,error:O}=await U.from("leads").insert({name:m.nome,email:m.email,phone:m.telefone,address:{cep:m.cep,rua:m.rua,cidade:m.cidade,uf:m.uf},consumo_kwh:parseFloat(m.consumo),concessionaria:u==null?void 0:u.Concessionaria,tarifa_concessionaria:w,desconto_assinante:_,originator_id:r,status:"indicado"}).select().single();if(O)throw O;h(E.id),a("signup")}catch(w){alert("Erro na simulao: "+w.message)}finally{o(!1)}},v=async p=>{if(p.preventDefault(),!If(m.cpf_cnpj)){alert("CPF/CNPJ invlido!");return}if(!Ei(m.telefone)){alert("Telefone invlido!");return}o(!0);try{const{data:w,error:_}=await U.from("subscribers").insert({name:m.nome,cpf_cnpj:m.cpf_cnpj,email:m.email,phone:m.telefone,status:"ativacao",originator_id:r}).select().single();if(_)throw _;const{error:j}=await U.from("consumer_units").insert({subscriber_id:w.id,numero_uc:m.numero_uc,concessionaria:u==null?void 0:u.Concessionaria,status:"ativacao",address:{cep:m.cep,rua:m.rua,numero:m.numero,bairro:m.bairro,cidade:m.cidade,uf:m.uf},titular_conta:m.nome});if(j)throw j;f&&await U.from("leads").update({status:"convertido"}).eq("id",f),alert("Cadastro realizado com sucesso! Em breve entraremos em contato."),t("/login")}catch(w){alert("Erro ao finalizar cadastro: "+w.message)}finally{o(!1)}};return c.jsx("div",{style:{minHeight:"100vh",padding:"2rem",backgroundColor:"#f3f4f6",display:"flex",justifyContent:"center"},children:c.jsxs("div",{style:{maxWidth:"600px",width:"100%",background:"white",padding:"2rem",borderRadius:"8px",boxShadow:"0 4px 10px rgba(0,0,0,0.1)"},children:[c.jsxs("div",{style:{textAlign:"center",marginBottom:"2rem"},children:[c.jsx("h1",{style:{color:"var(--color-blue)",marginBottom:"0.5rem"},children:"B2W Energia"}),c.jsx("p",{style:{color:"#666"},children:"Economize na sua conta de luz sem investimento."})]}),n==="simulation"?c.jsxs("form",{onSubmit:y,children:[c.jsx("h2",{style:{marginBottom:"1.5rem",fontSize:"1.2rem",color:"#333"},children:"Simule sua Economia"}),c.jsxs("div",{style:{marginBottom:"1rem"},children:[c.jsx("label",{style:{display:"block",marginBottom:"0.3rem",fontSize:"0.9rem"},children:"CEP"}),c.jsx("input",{value:m.cep,onChange:p=>g({...m,cep:p.target.value}),onBlur:b,placeholder:"00000-000",style:{width:"100%",padding:"0.75rem",borderRadius:"4px",border:"1px solid #ddd"},required:!0})]}),m.cidade&&c.jsxs("div",{style:{marginBottom:"1rem",padding:"0.75rem",background:"#ecfdf5",borderRadius:"4px",color:"#065f46",fontSize:"0.9rem"},children:[" ",m.cidade," - ",m.uf,u&&c.jsxs("span",{style:{display:"block",fontWeight:"bold"},children:[" ",u.Concessionaria]})]}),c.jsxs("div",{style:{marginBottom:"1rem"},children:[c.jsx("label",{style:{display:"block",marginBottom:"0.3rem",fontSize:"0.9rem"},children:"Nome Completo"}),c.jsx("input",{value:m.nome,onChange:p=>g({...m,nome:p.target.value}),style:{width:"100%",padding:"0.75rem",borderRadius:"4px",border:"1px solid #ddd"},required:!0})]}),c.jsxs("div",{style:{marginBottom:"1rem"},children:[c.jsx("label",{style:{display:"block",marginBottom:"0.3rem",fontSize:"0.9rem"},children:"Email"}),c.jsx("input",{type:"email",value:m.email,onChange:p=>g({...m,email:p.target.value}),style:{width:"100%",padding:"0.75rem",borderRadius:"4px",border:"1px solid #ddd"},required:!0})]}),c.jsxs("div",{style:{marginBottom:"1rem"},children:[c.jsx("label",{style:{display:"block",marginBottom:"0.3rem",fontSize:"0.9rem"},children:"Telefone"}),c.jsx("input",{value:m.telefone,onChange:p=>g({...m,telefone:Wo(p.target.value)}),placeholder:"(00) 00000-0000",style:{width:"100%",padding:"0.75rem",borderRadius:"4px",border:"1px solid #ddd"},required:!0})]}),c.jsxs("div",{style:{marginBottom:"1.5rem"},children:[c.jsx("label",{style:{display:"block",marginBottom:"0.3rem",fontSize:"0.9rem"},children:"Mdia de Consumo (kWh)"}),c.jsx("input",{type:"number",value:m.consumo,onChange:p=>g({...m,consumo:p.target.value}),placeholder:"Ex: 500",style:{width:"100%",padding:"0.75rem",borderRadius:"4px",border:"1px solid #ddd"},required:!0})]}),c.jsx("button",{type:"submit",disabled:i,style:{width:"100%",padding:"1rem",background:"var(--color-orange)",color:"white",border:"none",borderRadius:"4px",fontSize:"1rem",fontWeight:"bold",cursor:"pointer"},children:i?"Calculando...":"VER MINHA ECONOMIA"})]}):c.jsxs("form",{onSubmit:v,children:[l&&c.jsxs("div",{style:{textAlign:"center",marginBottom:"2rem",padding:"1.5rem",background:"#ecfdf5",borderRadius:"8px",border:"1px solid #a7f3d0"},children:[c.jsx("div",{style:{fontSize:"0.9rem",color:"#065f46"},children:"Economia Anual Estimada"}),c.jsxs("div",{style:{fontSize:"2rem",fontWeight:"bold",color:"#059669"},children:["R$ ",l.anual.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),c.jsx("h2",{style:{marginBottom:"1.5rem",fontSize:"1.2rem",color:"#333"},children:"Finalizar Cadastro"}),c.jsxs("div",{style:{marginBottom:"1rem"},children:[c.jsx("label",{style:{display:"block",marginBottom:"0.3rem",fontSize:"0.9rem"},children:"CPF / CNPJ"}),c.jsx("input",{value:m.cpf_cnpj,onChange:p=>g({...m,cpf_cnpj:Bf(p.target.value)}),placeholder:"000.000.000-00",style:{width:"100%",padding:"0.75rem",borderRadius:"4px",border:"1px solid #ddd"},required:!0})]}),c.jsxs("div",{style:{marginBottom:"1rem"},children:[c.jsx("label",{style:{display:"block",marginBottom:"0.3rem",fontSize:"0.9rem"},children:"Confirme seu Nome"}),c.jsx("input",{value:m.nome,onChange:p=>g({...m,nome:p.target.value}),style:{width:"100%",padding:"0.75rem",borderRadius:"4px",border:"1px solid #ddd"},required:!0})]}),c.jsxs("div",{style:{marginBottom:"1rem"},children:[c.jsx("label",{style:{display:"block",marginBottom:"0.3rem",fontSize:"0.9rem"},children:"Confirme seu Email"}),c.jsx("input",{type:"email",value:m.email,onChange:p=>g({...m,email:p.target.value}),style:{width:"100%",padding:"0.75rem",borderRadius:"4px",border:"1px solid #ddd"},required:!0})]}),c.jsxs("div",{style:{marginBottom:"1rem"},children:[c.jsx("label",{style:{display:"block",marginBottom:"0.3rem",fontSize:"0.9rem"},children:"Confirme seu Telefone"}),c.jsx("input",{value:m.telefone,onChange:p=>g({...m,telefone:Wo(p.target.value)}),style:{width:"100%",padding:"0.75rem",borderRadius:"4px",border:"1px solid #ddd"},required:!0})]}),c.jsxs("div",{style:{marginBottom:"1rem",display:"flex",gap:"1rem"},children:[c.jsxs("div",{style:{flex:1},children:[c.jsx("label",{style:{display:"block",marginBottom:"0.3rem",fontSize:"0.9rem"},children:"Rua"}),c.jsx("input",{value:m.rua,disabled:!0,style:{width:"100%",padding:"0.75rem",background:"#f9f9f9",border:"1px solid #eee"}})]}),c.jsxs("div",{style:{width:"100px"},children:[c.jsx("label",{style:{display:"block",marginBottom:"0.3rem",fontSize:"0.9rem"},children:"Nmero"}),c.jsx("input",{value:m.numero,onChange:p=>g({...m,numero:p.target.value}),style:{width:"100%",padding:"0.75rem",borderRadius:"4px",border:"1px solid #ddd"},required:!0})]})]}),c.jsxs("div",{style:{marginBottom:"1.5rem"},children:[c.jsx("label",{style:{display:"block",marginBottom:"0.3rem",fontSize:"0.9rem"},children:"Nmero da UC (Instalao)"}),c.jsx("input",{value:m.numero_uc,onChange:p=>g({...m,numero_uc:p.target.value}),placeholder:"Encontrado na sua conta de luz",style:{width:"100%",padding:"0.75rem",borderRadius:"4px",border:"1px solid #ddd"},required:!0})]}),c.jsx("button",{type:"submit",disabled:i,style:{width:"100%",padding:"1rem",background:"var(--color-blue)",color:"white",border:"none",borderRadius:"4px",fontSize:"1rem",fontWeight:"bold",cursor:"pointer"},children:i?"Finalizando...":"FINALIZAR ASSINATURA"})]})]})})}const iZ=()=>{const{user:e}=Jr();return e?c.jsx(Gz,{}):c.jsx(gC,{to:"/login",replace:!0})};function oZ(){return c.jsx(Qz,{children:c.jsx(EB,{children:c.jsx(TB,{children:c.jsxs(Yz,{children:[c.jsx(oa,{path:"/login",element:c.jsx(C4,{})}),c.jsx(oa,{path:"/simulacao",element:c.jsx(CB,{})}),c.jsx(oa,{path:"/assine",element:c.jsx(AB,{})}),c.jsx(oa,{path:"/originador",element:c.jsx(aZ,{})}),c.jsx(oa,{element:c.jsx(iZ,{}),children:c.jsx(oa,{path:"/dashboard",element:c.jsx(nZ,{})})}),c.jsx(oa,{path:"/",element:c.jsx(gC,{to:"/login",replace:!0})})]})})})})}tz.createRoot(document.getElementById("root")).render(c.jsx(x.StrictMode,{children:c.jsx(oZ,{})}));
