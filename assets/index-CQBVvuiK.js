var JM=Object.defineProperty;var QM=(e,t,r)=>t in e?JM(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var lp=(e,t,r)=>QM(e,typeof t!="symbol"?t+"":t,r);function aE(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(n,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();function ga(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function iE(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var a=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,a.get?a:{enumerable:!0,get:function(){return e[n]}})}),r}var oE={exports:{}},jh={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e5=Symbol.for("react.transitional.element"),t5=Symbol.for("react.fragment");function sE(e,t,r){var n=null;if(r!==void 0&&(n=""+r),t.key!==void 0&&(n=""+t.key),"key"in t){r={};for(var a in t)a!=="key"&&(r[a]=t[a])}else r=t;return t=r.ref,{$$typeof:e5,type:e,key:n,ref:t!==void 0?t:null,props:r}}jh.Fragment=t5;jh.jsx=sE;jh.jsxs=sE;oE.exports=jh;var l=oE.exports,lE={exports:{}},se={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fy=Symbol.for("react.transitional.element"),r5=Symbol.for("react.portal"),n5=Symbol.for("react.fragment"),a5=Symbol.for("react.strict_mode"),i5=Symbol.for("react.profiler"),o5=Symbol.for("react.consumer"),s5=Symbol.for("react.context"),l5=Symbol.for("react.forward_ref"),c5=Symbol.for("react.suspense"),u5=Symbol.for("react.memo"),cE=Symbol.for("react.lazy"),d5=Symbol.for("react.activity"),c1=Symbol.iterator;function f5(e){return e===null||typeof e!="object"?null:(e=c1&&e[c1]||e["@@iterator"],typeof e=="function"?e:null)}var uE={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},dE=Object.assign,fE={};function Ds(e,t,r){this.props=e,this.context=t,this.refs=fE,this.updater=r||uE}Ds.prototype.isReactComponent={};Ds.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Ds.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function hE(){}hE.prototype=Ds.prototype;function Vy(e,t,r){this.props=e,this.context=t,this.refs=fE,this.updater=r||uE}var Ky=Vy.prototype=new hE;Ky.constructor=Vy;dE(Ky,Ds.prototype);Ky.isPureReactComponent=!0;var u1=Array.isArray;function Ng(){}var Me={H:null,A:null,T:null,S:null},mE=Object.prototype.hasOwnProperty;function Gy(e,t,r){var n=r.ref;return{$$typeof:Fy,type:e,key:t,ref:n!==void 0?n:null,props:r}}function h5(e,t){return Gy(e.type,t,e.props)}function Yy(e){return typeof e=="object"&&e!==null&&e.$$typeof===Fy}function m5(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var d1=/\/+/g;function cp(e,t){return typeof e=="object"&&e!==null&&e.key!=null?m5(""+e.key):t.toString(36)}function p5(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch(typeof e.status=="string"?e.then(Ng,Ng):(e.status="pending",e.then(function(t){e.status==="pending"&&(e.status="fulfilled",e.value=t)},function(t){e.status==="pending"&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}function Do(e,t,r,n,a){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"bigint":case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Fy:case r5:o=!0;break;case cE:return o=e._init,Do(o(e._payload),t,r,n,a)}}if(o)return a=a(e),o=n===""?"."+cp(e,0):n,u1(a)?(r="",o!=null&&(r=o.replace(d1,"$&/")+"/"),Do(a,t,r,"",function(u){return u})):a!=null&&(Yy(a)&&(a=h5(a,r+(a.key==null||e&&e.key===a.key?"":(""+a.key).replace(d1,"$&/")+"/")+o)),t.push(a)),1;o=0;var s=n===""?".":n+":";if(u1(e))for(var c=0;c<e.length;c++)n=e[c],i=s+cp(n,c),o+=Do(n,t,r,i,a);else if(c=f5(e),typeof c=="function")for(e=c.call(e),c=0;!(n=e.next()).done;)n=n.value,i=s+cp(n,c++),o+=Do(n,t,r,i,a);else if(i==="object"){if(typeof e.then=="function")return Do(p5(e),t,r,n,a);throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return o}function Nu(e,t,r){if(e==null)return e;var n=[],a=0;return Do(e,n,"","",function(i){return t.call(r,i,a++)}),n}function g5(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var f1=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},v5={map:Nu,forEach:function(e,t,r){Nu(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Nu(e,function(){t++}),t},toArray:function(e){return Nu(e,function(t){return t})||[]},only:function(e){if(!Yy(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};se.Activity=d5;se.Children=v5;se.Component=Ds;se.Fragment=n5;se.Profiler=i5;se.PureComponent=Vy;se.StrictMode=a5;se.Suspense=c5;se.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Me;se.__COMPILER_RUNTIME={__proto__:null,c:function(e){return Me.H.useMemoCache(e)}};se.cache=function(e){return function(){return e.apply(null,arguments)}};se.cacheSignal=function(){return null};se.cloneElement=function(e,t,r){if(e==null)throw Error("The argument must be a React element, but you passed "+e+".");var n=dE({},e.props),a=e.key;if(t!=null)for(i in t.key!==void 0&&(a=""+t.key),t)!mE.call(t,i)||i==="key"||i==="__self"||i==="__source"||i==="ref"&&t.ref===void 0||(n[i]=t[i]);var i=arguments.length-2;if(i===1)n.children=r;else if(1<i){for(var o=Array(i),s=0;s<i;s++)o[s]=arguments[s+2];n.children=o}return Gy(e.type,a,n)};se.createContext=function(e){return e={$$typeof:s5,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider=e,e.Consumer={$$typeof:o5,_context:e},e};se.createElement=function(e,t,r){var n,a={},i=null;if(t!=null)for(n in t.key!==void 0&&(i=""+t.key),t)mE.call(t,n)&&n!=="key"&&n!=="__self"&&n!=="__source"&&(a[n]=t[n]);var o=arguments.length-2;if(o===1)a.children=r;else if(1<o){for(var s=Array(o),c=0;c<o;c++)s[c]=arguments[c+2];a.children=s}if(e&&e.defaultProps)for(n in o=e.defaultProps,o)a[n]===void 0&&(a[n]=o[n]);return Gy(e,i,a)};se.createRef=function(){return{current:null}};se.forwardRef=function(e){return{$$typeof:l5,render:e}};se.isValidElement=Yy;se.lazy=function(e){return{$$typeof:cE,_payload:{_status:-1,_result:e},_init:g5}};se.memo=function(e,t){return{$$typeof:u5,type:e,compare:t===void 0?null:t}};se.startTransition=function(e){var t=Me.T,r={};Me.T=r;try{var n=e(),a=Me.S;a!==null&&a(r,n),typeof n=="object"&&n!==null&&typeof n.then=="function"&&n.then(Ng,f1)}catch(i){f1(i)}finally{t!==null&&r.types!==null&&(t.types=r.types),Me.T=t}};se.unstable_useCacheRefresh=function(){return Me.H.useCacheRefresh()};se.use=function(e){return Me.H.use(e)};se.useActionState=function(e,t,r){return Me.H.useActionState(e,t,r)};se.useCallback=function(e,t){return Me.H.useCallback(e,t)};se.useContext=function(e){return Me.H.useContext(e)};se.useDebugValue=function(){};se.useDeferredValue=function(e,t){return Me.H.useDeferredValue(e,t)};se.useEffect=function(e,t){return Me.H.useEffect(e,t)};se.useEffectEvent=function(e){return Me.H.useEffectEvent(e)};se.useId=function(){return Me.H.useId()};se.useImperativeHandle=function(e,t,r){return Me.H.useImperativeHandle(e,t,r)};se.useInsertionEffect=function(e,t){return Me.H.useInsertionEffect(e,t)};se.useLayoutEffect=function(e,t){return Me.H.useLayoutEffect(e,t)};se.useMemo=function(e,t){return Me.H.useMemo(e,t)};se.useOptimistic=function(e,t){return Me.H.useOptimistic(e,t)};se.useReducer=function(e,t,r){return Me.H.useReducer(e,t,r)};se.useRef=function(e){return Me.H.useRef(e)};se.useState=function(e){return Me.H.useState(e)};se.useSyncExternalStore=function(e,t,r){return Me.H.useSyncExternalStore(e,t,r)};se.useTransition=function(){return Me.H.useTransition()};se.version="19.2.3";lE.exports=se;var p=lE.exports;const Ce=ga(p),pE=aE({__proto__:null,default:Ce},[p]);var gE={exports:{}},Ch={},vE={exports:{}},yE={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(O,R){var D=O.length;O.push(R);e:for(;0<D;){var P=D-1>>>1,U=O[P];if(0<a(U,R))O[P]=R,O[D]=U,D=P;else break e}}function r(O){return O.length===0?null:O[0]}function n(O){if(O.length===0)return null;var R=O[0],D=O.pop();if(D!==R){O[0]=D;e:for(var P=0,U=O.length,G=U>>>1;P<G;){var K=2*(P+1)-1,Q=O[K],ee=K+1,ne=O[ee];if(0>a(Q,D))ee<U&&0>a(ne,Q)?(O[P]=ne,O[ee]=D,P=ee):(O[P]=Q,O[K]=D,P=K);else if(ee<U&&0>a(ne,D))O[P]=ne,O[ee]=D,P=ee;else break e}}return R}function a(O,R){var D=O.sortIndex-R.sortIndex;return D!==0?D:O.id-R.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,s=o.now();e.unstable_now=function(){return o.now()-s}}var c=[],u=[],d=1,f=null,h=3,m=!1,v=!1,x=!1,b=!1,y=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;function _(O){for(var R=r(u);R!==null;){if(R.callback===null)n(u);else if(R.startTime<=O)n(u),R.sortIndex=R.expirationTime,t(c,R);else break;R=r(u)}}function S(O){if(x=!1,_(O),!v)if(r(c)!==null)v=!0,j||(j=!0,T());else{var R=r(u);R!==null&&H(S,R.startTime-O)}}var j=!1,C=-1,E=5,k=-1;function A(){return b?!0:!(e.unstable_now()-k<E)}function N(){if(b=!1,j){var O=e.unstable_now();k=O;var R=!0;try{e:{v=!1,x&&(x=!1,g(C),C=-1),m=!0;var D=h;try{t:{for(_(O),f=r(c);f!==null&&!(f.expirationTime>O&&A());){var P=f.callback;if(typeof P=="function"){f.callback=null,h=f.priorityLevel;var U=P(f.expirationTime<=O);if(O=e.unstable_now(),typeof U=="function"){f.callback=U,_(O),R=!0;break t}f===r(c)&&n(c),_(O)}else n(c);f=r(c)}if(f!==null)R=!0;else{var G=r(u);G!==null&&H(S,G.startTime-O),R=!1}}break e}finally{f=null,h=D,m=!1}R=void 0}}finally{R?T():j=!1}}}var T;if(typeof w=="function")T=function(){w(N)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,L=I.port2;I.port1.onmessage=N,T=function(){L.postMessage(null)}}else T=function(){y(N,0)};function H(O,R){C=y(function(){O(e.unstable_now())},R)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(O){O.callback=null},e.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<O?Math.floor(1e3/O):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_next=function(O){switch(h){case 1:case 2:case 3:var R=3;break;default:R=h}var D=h;h=R;try{return O()}finally{h=D}},e.unstable_requestPaint=function(){b=!0},e.unstable_runWithPriority=function(O,R){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var D=h;h=O;try{return R()}finally{h=D}},e.unstable_scheduleCallback=function(O,R,D){var P=e.unstable_now();switch(typeof D=="object"&&D!==null?(D=D.delay,D=typeof D=="number"&&0<D?P+D:P):D=P,O){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=D+U,O={id:d++,callback:R,priorityLevel:O,startTime:D,expirationTime:U,sortIndex:-1},D>P?(O.sortIndex=D,t(u,O),r(c)===null&&O===r(u)&&(x?(g(C),C=-1):x=!0,H(S,D-P))):(O.sortIndex=U,t(c,O),v||m||(v=!0,j||(j=!0,T()))),O},e.unstable_shouldYield=A,e.unstable_wrapCallback=function(O){var R=h;return function(){var D=h;h=R;try{return O.apply(this,arguments)}finally{h=D}}}})(yE);vE.exports=yE;var y5=vE.exports,bE={exports:{}},Gt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b5=p;function xE(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Na(){}var Ht={d:{f:Na,r:function(){throw Error(xE(522))},D:Na,C:Na,L:Na,m:Na,X:Na,S:Na,M:Na},p:0,findDOMNode:null},x5=Symbol.for("react.portal");function w5(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:x5,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}var Dl=b5.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function Eh(e,t){if(e==="font")return"";if(typeof t=="string")return t==="use-credentials"?t:""}Gt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Ht;Gt.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)throw Error(xE(299));return w5(e,t,null,r)};Gt.flushSync=function(e){var t=Dl.T,r=Ht.p;try{if(Dl.T=null,Ht.p=2,e)return e()}finally{Dl.T=t,Ht.p=r,Ht.d.f()}};Gt.preconnect=function(e,t){typeof e=="string"&&(t?(t=t.crossOrigin,t=typeof t=="string"?t==="use-credentials"?t:"":void 0):t=null,Ht.d.C(e,t))};Gt.prefetchDNS=function(e){typeof e=="string"&&Ht.d.D(e)};Gt.preinit=function(e,t){if(typeof e=="string"&&t&&typeof t.as=="string"){var r=t.as,n=Eh(r,t.crossOrigin),a=typeof t.integrity=="string"?t.integrity:void 0,i=typeof t.fetchPriority=="string"?t.fetchPriority:void 0;r==="style"?Ht.d.S(e,typeof t.precedence=="string"?t.precedence:void 0,{crossOrigin:n,integrity:a,fetchPriority:i}):r==="script"&&Ht.d.X(e,{crossOrigin:n,integrity:a,fetchPriority:i,nonce:typeof t.nonce=="string"?t.nonce:void 0})}};Gt.preinitModule=function(e,t){if(typeof e=="string")if(typeof t=="object"&&t!==null){if(t.as==null||t.as==="script"){var r=Eh(t.as,t.crossOrigin);Ht.d.M(e,{crossOrigin:r,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0})}}else t==null&&Ht.d.M(e)};Gt.preload=function(e,t){if(typeof e=="string"&&typeof t=="object"&&t!==null&&typeof t.as=="string"){var r=t.as,n=Eh(r,t.crossOrigin);Ht.d.L(e,r,{crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0,type:typeof t.type=="string"?t.type:void 0,fetchPriority:typeof t.fetchPriority=="string"?t.fetchPriority:void 0,referrerPolicy:typeof t.referrerPolicy=="string"?t.referrerPolicy:void 0,imageSrcSet:typeof t.imageSrcSet=="string"?t.imageSrcSet:void 0,imageSizes:typeof t.imageSizes=="string"?t.imageSizes:void 0,media:typeof t.media=="string"?t.media:void 0})}};Gt.preloadModule=function(e,t){if(typeof e=="string")if(t){var r=Eh(t.as,t.crossOrigin);Ht.d.m(e,{as:typeof t.as=="string"&&t.as!=="script"?t.as:void 0,crossOrigin:r,integrity:typeof t.integrity=="string"?t.integrity:void 0})}else Ht.d.m(e)};Gt.requestFormReset=function(e){Ht.d.r(e)};Gt.unstable_batchedUpdates=function(e,t){return e(t)};Gt.useFormState=function(e,t,r){return Dl.H.useFormState(e,t,r)};Gt.useFormStatus=function(){return Dl.H.useHostTransitionStatus()};Gt.version="19.2.3";function wE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(wE)}catch(e){console.error(e)}}wE(),bE.exports=Gt;var Ha=bE.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dt=y5,_E=p,_5=Ha;function q(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function SE(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ic(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function jE(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function CE(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function h1(e){if(Ic(e)!==e)throw Error(q(188))}function S5(e){var t=e.alternate;if(!t){if(t=Ic(e),t===null)throw Error(q(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(a===null)break;var i=a.alternate;if(i===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===r)return h1(a),e;if(i===n)return h1(a),t;i=i.sibling}throw Error(q(188))}if(r.return!==n.return)r=a,n=i;else{for(var o=!1,s=a.child;s;){if(s===r){o=!0,r=a,n=i;break}if(s===n){o=!0,n=a,r=i;break}s=s.sibling}if(!o){for(s=i.child;s;){if(s===r){o=!0,r=i,n=a;break}if(s===n){o=!0,n=i,r=a;break}s=s.sibling}if(!o)throw Error(q(189))}}if(r.alternate!==n)throw Error(q(190))}if(r.tag!==3)throw Error(q(188));return r.stateNode.current===r?e:t}function EE(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=EE(e),t!==null)return t;e=e.sibling}return null}var ze=Object.assign,j5=Symbol.for("react.element"),Ru=Symbol.for("react.transitional.element"),Cl=Symbol.for("react.portal"),$o=Symbol.for("react.fragment"),OE=Symbol.for("react.strict_mode"),Rg=Symbol.for("react.profiler"),AE=Symbol.for("react.consumer"),Fn=Symbol.for("react.context"),Xy=Symbol.for("react.forward_ref"),Dg=Symbol.for("react.suspense"),Pg=Symbol.for("react.suspense_list"),Zy=Symbol.for("react.memo"),Da=Symbol.for("react.lazy"),Mg=Symbol.for("react.activity"),C5=Symbol.for("react.memo_cache_sentinel"),m1=Symbol.iterator;function ul(e){return e===null||typeof e!="object"?null:(e=m1&&e[m1]||e["@@iterator"],typeof e=="function"?e:null)}var E5=Symbol.for("react.client.reference");function zg(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===E5?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case $o:return"Fragment";case Rg:return"Profiler";case OE:return"StrictMode";case Dg:return"Suspense";case Pg:return"SuspenseList";case Mg:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case Cl:return"Portal";case Fn:return e.displayName||"Context";case AE:return(e._context.displayName||"Context")+".Consumer";case Xy:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Zy:return t=e.displayName||null,t!==null?t:zg(e.type)||"Memo";case Da:t=e._payload,e=e._init;try{return zg(e(t))}catch{}}return null}var El=Array.isArray,ie=_E.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ye=_5.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Li={pending:!1,data:null,method:null,action:null},Bg=[],Lo=-1;function Nn(e){return{current:e}}function _t(e){0>Lo||(e.current=Bg[Lo],Bg[Lo]=null,Lo--)}function Ne(e,t){Lo++,Bg[Lo]=e.current,e.current=t}var En=Nn(null),tc=Nn(null),Ja=Nn(null),Hd=Nn(null);function Fd(e,t){switch(Ne(Ja,t),Ne(tc,e),Ne(En,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?xw(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=xw(t),e=GA(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}_t(En),Ne(En,e)}function us(){_t(En),_t(tc),_t(Ja)}function Ig(e){e.memoizedState!==null&&Ne(Hd,e);var t=En.current,r=GA(t,e.type);t!==r&&(Ne(tc,e),Ne(En,r))}function Vd(e){tc.current===e&&(_t(En),_t(tc)),Hd.current===e&&(_t(Hd),fc._currentValue=Li)}var up,p1;function Ci(e){if(up===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);up=t&&t[1]||"",p1=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+up+e+p1}var dp=!1;function fp(e,t){if(!e||dp)return"";dp=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var n={DetermineComponentFrameRoot:function(){try{if(t){var f=function(){throw Error()};if(Object.defineProperty(f.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(f,[])}catch(m){var h=m}Reflect.construct(e,[],f)}else{try{f.call()}catch(m){h=m}e.call(f.prototype)}}else{try{throw Error()}catch(m){h=m}(f=e())&&typeof f.catch=="function"&&f.catch(function(){})}}catch(m){if(m&&h&&typeof m.stack=="string")return[m.stack,h.stack]}return[null,null]}};n.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var a=Object.getOwnPropertyDescriptor(n.DetermineComponentFrameRoot,"name");a&&a.configurable&&Object.defineProperty(n.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var i=n.DetermineComponentFrameRoot(),o=i[0],s=i[1];if(o&&s){var c=o.split(`
`),u=s.split(`
`);for(a=n=0;n<c.length&&!c[n].includes("DetermineComponentFrameRoot");)n++;for(;a<u.length&&!u[a].includes("DetermineComponentFrameRoot");)a++;if(n===c.length||a===u.length)for(n=c.length-1,a=u.length-1;1<=n&&0<=a&&c[n]!==u[a];)a--;for(;1<=n&&0<=a;n--,a--)if(c[n]!==u[a]){if(n!==1||a!==1)do if(n--,a--,0>a||c[n]!==u[a]){var d=`
`+c[n].replace(" at new "," at ");return e.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",e.displayName)),d}while(1<=n&&0<=a);break}}}finally{dp=!1,Error.prepareStackTrace=r}return(r=e?e.displayName||e.name:"")?Ci(r):""}function O5(e,t){switch(e.tag){case 26:case 27:case 5:return Ci(e.type);case 16:return Ci("Lazy");case 13:return e.child!==t&&t!==null?Ci("Suspense Fallback"):Ci("Suspense");case 19:return Ci("SuspenseList");case 0:case 15:return fp(e.type,!1);case 11:return fp(e.type.render,!1);case 1:return fp(e.type,!0);case 31:return Ci("Activity");default:return""}}function g1(e){try{var t="",r=null;do t+=O5(e,r),r=e,e=e.return;while(e);return t}catch(n){return`
Error generating stack: `+n.message+`
`+n.stack}}var $g=Object.prototype.hasOwnProperty,Jy=dt.unstable_scheduleCallback,hp=dt.unstable_cancelCallback,A5=dt.unstable_shouldYield,k5=dt.unstable_requestPaint,xr=dt.unstable_now,T5=dt.unstable_getCurrentPriorityLevel,kE=dt.unstable_ImmediatePriority,TE=dt.unstable_UserBlockingPriority,Kd=dt.unstable_NormalPriority,N5=dt.unstable_LowPriority,NE=dt.unstable_IdlePriority,R5=dt.log,D5=dt.unstable_setDisableYieldValue,$c=null,wr=null;function Fa(e){if(typeof R5=="function"&&D5(e),wr&&typeof wr.setStrictMode=="function")try{wr.setStrictMode($c,e)}catch{}}var _r=Math.clz32?Math.clz32:z5,P5=Math.log,M5=Math.LN2;function z5(e){return e>>>=0,e===0?32:31-(P5(e)/M5|0)|0}var Du=256,Pu=262144,Mu=4194304;function Ei(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Oh(e,t,r){var n=e.pendingLanes;if(n===0)return 0;var a=0,i=e.suspendedLanes,o=e.pingedLanes;e=e.warmLanes;var s=n&134217727;return s!==0?(n=s&~i,n!==0?a=Ei(n):(o&=s,o!==0?a=Ei(o):r||(r=s&~e,r!==0&&(a=Ei(r))))):(s=n&~i,s!==0?a=Ei(s):o!==0?a=Ei(o):r||(r=n&~e,r!==0&&(a=Ei(r)))),a===0?0:t!==0&&t!==a&&!(t&i)&&(i=a&-a,r=t&-t,i>=r||i===32&&(r&4194048)!==0)?t:a}function Lc(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function B5(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function RE(){var e=Mu;return Mu<<=1,!(Mu&62914560)&&(Mu=4194304),e}function mp(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Uc(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function I5(e,t,r,n,a,i){var o=e.pendingLanes;e.pendingLanes=r,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=r,e.entangledLanes&=r,e.errorRecoveryDisabledLanes&=r,e.shellSuspendCounter=0;var s=e.entanglements,c=e.expirationTimes,u=e.hiddenUpdates;for(r=o&~r;0<r;){var d=31-_r(r),f=1<<d;s[d]=0,c[d]=-1;var h=u[d];if(h!==null)for(u[d]=null,d=0;d<h.length;d++){var m=h[d];m!==null&&(m.lane&=-536870913)}r&=~f}n!==0&&DE(e,n,0),i!==0&&a===0&&e.tag!==0&&(e.suspendedLanes|=i&~(o&~t))}function DE(e,t,r){e.pendingLanes|=t,e.suspendedLanes&=~t;var n=31-_r(t);e.entangledLanes|=t,e.entanglements[n]=e.entanglements[n]|1073741824|r&261930}function PE(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-_r(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}function ME(e,t){var r=t&-t;return r=r&42?1:Qy(r),r&(e.suspendedLanes|t)?0:r}function Qy(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function e0(e){return e&=-e,2<e?8<e?e&134217727?32:268435456:8:2}function zE(){var e=ye.p;return e!==0?e:(e=window.event,e===void 0?32:i2(e.type))}function v1(e,t){var r=ye.p;try{return ye.p=e,t()}finally{ye.p=r}}var pi=Math.random().toString(36).slice(2),Nt="__reactFiber$"+pi,ar="__reactProps$"+pi,Ps="__reactContainer$"+pi,Lg="__reactEvents$"+pi,$5="__reactListeners$"+pi,L5="__reactHandles$"+pi,y1="__reactResources$"+pi,qc="__reactMarker$"+pi;function t0(e){delete e[Nt],delete e[ar],delete e[Lg],delete e[$5],delete e[L5]}function Uo(e){var t=e[Nt];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Ps]||r[Nt]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Cw(e);e!==null;){if(r=e[Nt])return r;e=Cw(e)}return t}e=r,r=e.parentNode}return null}function Ms(e){if(e=e[Nt]||e[Ps]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function Ol(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(q(33))}function Qo(e){var t=e[y1];return t||(t=e[y1]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function wt(e){e[qc]=!0}var BE=new Set,IE={};function lo(e,t){ds(e,t),ds(e+"Capture",t)}function ds(e,t){for(IE[e]=t,e=0;e<t.length;e++)BE.add(t[e])}var U5=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),b1={},x1={};function q5(e){return $g.call(x1,e)?!0:$g.call(b1,e)?!1:U5.test(e)?x1[e]=!0:(b1[e]=!0,!1)}function Sd(e,t,r){if(q5(t))if(r===null)e.removeAttribute(t);else{switch(typeof r){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var n=t.toLowerCase().slice(0,5);if(n!=="data-"&&n!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+r)}}function zu(e,t,r){if(r===null)e.removeAttribute(t);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+r)}}function Pn(e,t,r,n){if(n===null)e.removeAttribute(r);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(r);return}e.setAttributeNS(t,r,""+n)}}function Mr(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function $E(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function W5(e,t,r){var n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var a=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ug(e){if(!e._valueTracker){var t=$E(e)?"checked":"value";e._valueTracker=W5(e,t,""+e[t])}}function LE(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=$E(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Gd(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var H5=/[\n"\\]/g;function Ir(e){return e.replace(H5,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function qg(e,t,r,n,a,i,o,s){e.name="",o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"?e.type=o:e.removeAttribute("type"),t!=null?o==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Mr(t)):e.value!==""+Mr(t)&&(e.value=""+Mr(t)):o!=="submit"&&o!=="reset"||e.removeAttribute("value"),t!=null?Wg(e,o,Mr(t)):r!=null?Wg(e,o,Mr(r)):n!=null&&e.removeAttribute("value"),a==null&&i!=null&&(e.defaultChecked=!!i),a!=null&&(e.checked=a&&typeof a!="function"&&typeof a!="symbol"),s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"?e.name=""+Mr(s):e.removeAttribute("name")}function UE(e,t,r,n,a,i,o,s){if(i!=null&&typeof i!="function"&&typeof i!="symbol"&&typeof i!="boolean"&&(e.type=i),t!=null||r!=null){if(!(i!=="submit"&&i!=="reset"||t!=null)){Ug(e);return}r=r!=null?""+Mr(r):"",t=t!=null?""+Mr(t):r,s||t===e.value||(e.value=t),e.defaultValue=t}n=n??a,n=typeof n!="function"&&typeof n!="symbol"&&!!n,e.checked=s?e.checked:!!n,e.defaultChecked=!!n,o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"&&(e.name=o),Ug(e)}function Wg(e,t,r){t==="number"&&Gd(e.ownerDocument)===e||e.defaultValue===""+r||(e.defaultValue=""+r)}function es(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Mr(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,n&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function qE(e,t,r){if(t!=null&&(t=""+Mr(t),t!==e.value&&(e.value=t),r==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=r!=null?""+Mr(r):""}function WE(e,t,r,n){if(t==null){if(n!=null){if(r!=null)throw Error(q(92));if(El(n)){if(1<n.length)throw Error(q(93));n=n[0]}r=n}r==null&&(r=""),t=r}r=Mr(t),e.defaultValue=r,n=e.textContent,n===r&&n!==""&&n!==null&&(e.value=n),Ug(e)}function fs(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var F5=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function w1(e,t,r){var n=t.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?n?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":n?e.setProperty(t,r):typeof r!="number"||r===0||F5.has(t)?t==="float"?e.cssFloat=r:e[t]=(""+r).trim():e[t]=r+"px"}function HE(e,t,r){if(t!=null&&typeof t!="object")throw Error(q(62));if(e=e.style,r!=null){for(var n in r)!r.hasOwnProperty(n)||t!=null&&t.hasOwnProperty(n)||(n.indexOf("--")===0?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="");for(var a in t)n=t[a],t.hasOwnProperty(a)&&r[a]!==n&&w1(e,a,n)}else for(var i in t)t.hasOwnProperty(i)&&w1(e,i,t[i])}function r0(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var V5=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),K5=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function jd(e){return K5.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Vn(){}var Hg=null;function n0(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var qo=null,ts=null;function _1(e){var t=Ms(e);if(t&&(e=t.stateNode)){var r=e[ar]||null;e:switch(e=t.stateNode,t.type){case"input":if(qg(e,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+Ir(""+t)+'"][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=n[ar]||null;if(!a)throw Error(q(90));qg(n,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name)}}for(t=0;t<r.length;t++)n=r[t],n.form===e.form&&LE(n)}break e;case"textarea":qE(e,r.value,r.defaultValue);break e;case"select":t=r.value,t!=null&&es(e,!!r.multiple,t,!1)}}}var pp=!1;function FE(e,t,r){if(pp)return e(t,r);pp=!0;try{var n=e(t);return n}finally{if(pp=!1,(qo!==null||ts!==null)&&($h(),qo&&(t=qo,e=ts,ts=qo=null,_1(t),e)))for(t=0;t<e.length;t++)_1(e[t])}}function rc(e,t){var r=e.stateNode;if(r===null)return null;var n=r[ar]||null;if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(q(231,t,typeof r));return r}var ta=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Fg=!1;if(ta)try{var dl={};Object.defineProperty(dl,"passive",{get:function(){Fg=!0}}),window.addEventListener("test",dl,dl),window.removeEventListener("test",dl,dl)}catch{Fg=!1}var Va=null,a0=null,Cd=null;function VE(){if(Cd)return Cd;var e,t=a0,r=t.length,n,a="value"in Va?Va.value:Va.textContent,i=a.length;for(e=0;e<r&&t[e]===a[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===a[i-n];n++);return Cd=a.slice(e,1<n?1-n:void 0)}function Ed(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Bu(){return!0}function S1(){return!1}function ir(e){function t(r,n,a,i,o){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var s in e)e.hasOwnProperty(s)&&(r=e[s],this[s]=r?r(i):i[s]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Bu:S1,this.isPropagationStopped=S1,this}return ze(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Bu)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Bu)},persist:function(){},isPersistent:Bu}),t}var co={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ah=ir(co),Wc=ze({},co,{view:0,detail:0}),G5=ir(Wc),gp,vp,fl,kh=ze({},Wc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:i0,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==fl&&(fl&&e.type==="mousemove"?(gp=e.screenX-fl.screenX,vp=e.screenY-fl.screenY):vp=gp=0,fl=e),gp)},movementY:function(e){return"movementY"in e?e.movementY:vp}}),j1=ir(kh),Y5=ze({},kh,{dataTransfer:0}),X5=ir(Y5),Z5=ze({},Wc,{relatedTarget:0}),yp=ir(Z5),J5=ze({},co,{animationName:0,elapsedTime:0,pseudoElement:0}),Q5=ir(J5),e4=ze({},co,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),t4=ir(e4),r4=ze({},co,{data:0}),C1=ir(r4),n4={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},a4={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},i4={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function o4(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=i4[e])?!!t[e]:!1}function i0(){return o4}var s4=ze({},Wc,{key:function(e){if(e.key){var t=n4[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ed(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?a4[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:i0,charCode:function(e){return e.type==="keypress"?Ed(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ed(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),l4=ir(s4),c4=ze({},kh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),E1=ir(c4),u4=ze({},Wc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:i0}),d4=ir(u4),f4=ze({},co,{propertyName:0,elapsedTime:0,pseudoElement:0}),h4=ir(f4),m4=ze({},kh,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),p4=ir(m4),g4=ze({},co,{newState:0,oldState:0}),v4=ir(g4),y4=[9,13,27,32],o0=ta&&"CompositionEvent"in window,Pl=null;ta&&"documentMode"in document&&(Pl=document.documentMode);var b4=ta&&"TextEvent"in window&&!Pl,KE=ta&&(!o0||Pl&&8<Pl&&11>=Pl),O1=" ",A1=!1;function GE(e,t){switch(e){case"keyup":return y4.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function YE(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Wo=!1;function x4(e,t){switch(e){case"compositionend":return YE(t);case"keypress":return t.which!==32?null:(A1=!0,O1);case"textInput":return e=t.data,e===O1&&A1?null:e;default:return null}}function w4(e,t){if(Wo)return e==="compositionend"||!o0&&GE(e,t)?(e=VE(),Cd=a0=Va=null,Wo=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return KE&&t.locale!=="ko"?null:t.data;default:return null}}var _4={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function k1(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!_4[e.type]:t==="textarea"}function XE(e,t,r,n){qo?ts?ts.push(n):ts=[n]:qo=n,t=hf(t,"onChange"),0<t.length&&(r=new Ah("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Ml=null,nc=null;function S4(e){FA(e,0)}function Th(e){var t=Ol(e);if(LE(t))return e}function T1(e,t){if(e==="change")return t}var ZE=!1;if(ta){var bp;if(ta){var xp="oninput"in document;if(!xp){var N1=document.createElement("div");N1.setAttribute("oninput","return;"),xp=typeof N1.oninput=="function"}bp=xp}else bp=!1;ZE=bp&&(!document.documentMode||9<document.documentMode)}function R1(){Ml&&(Ml.detachEvent("onpropertychange",JE),nc=Ml=null)}function JE(e){if(e.propertyName==="value"&&Th(nc)){var t=[];XE(t,nc,e,n0(e)),FE(S4,t)}}function j4(e,t,r){e==="focusin"?(R1(),Ml=t,nc=r,Ml.attachEvent("onpropertychange",JE)):e==="focusout"&&R1()}function C4(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Th(nc)}function E4(e,t){if(e==="click")return Th(t)}function O4(e,t){if(e==="input"||e==="change")return Th(t)}function A4(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Cr=typeof Object.is=="function"?Object.is:A4;function ac(e,t){if(Cr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!$g.call(t,a)||!Cr(e[a],t[a]))return!1}return!0}function D1(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function P1(e,t){var r=D1(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=D1(r)}}function QE(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?QE(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function eO(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Gd(e.document);t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Gd(e.document)}return t}function s0(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var k4=ta&&"documentMode"in document&&11>=document.documentMode,Ho=null,Vg=null,zl=null,Kg=!1;function M1(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Kg||Ho==null||Ho!==Gd(n)||(n=Ho,"selectionStart"in n&&s0(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),zl&&ac(zl,n)||(zl=n,n=hf(Vg,"onSelect"),0<n.length&&(t=new Ah("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Ho)))}function _i(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Fo={animationend:_i("Animation","AnimationEnd"),animationiteration:_i("Animation","AnimationIteration"),animationstart:_i("Animation","AnimationStart"),transitionrun:_i("Transition","TransitionRun"),transitionstart:_i("Transition","TransitionStart"),transitioncancel:_i("Transition","TransitionCancel"),transitionend:_i("Transition","TransitionEnd")},wp={},tO={};ta&&(tO=document.createElement("div").style,"AnimationEvent"in window||(delete Fo.animationend.animation,delete Fo.animationiteration.animation,delete Fo.animationstart.animation),"TransitionEvent"in window||delete Fo.transitionend.transition);function uo(e){if(wp[e])return wp[e];if(!Fo[e])return e;var t=Fo[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in tO)return wp[e]=t[r];return e}var rO=uo("animationend"),nO=uo("animationiteration"),aO=uo("animationstart"),T4=uo("transitionrun"),N4=uo("transitionstart"),R4=uo("transitioncancel"),iO=uo("transitionend"),oO=new Map,Gg="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Gg.push("scrollEnd");function hn(e,t){oO.set(e,t),lo(t,[e])}var Yd=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Dr=[],Vo=0,l0=0;function Nh(){for(var e=Vo,t=l0=Vo=0;t<e;){var r=Dr[t];Dr[t++]=null;var n=Dr[t];Dr[t++]=null;var a=Dr[t];Dr[t++]=null;var i=Dr[t];if(Dr[t++]=null,n!==null&&a!==null){var o=n.pending;o===null?a.next=a:(a.next=o.next,o.next=a),n.pending=a}i!==0&&sO(r,a,i)}}function Rh(e,t,r,n){Dr[Vo++]=e,Dr[Vo++]=t,Dr[Vo++]=r,Dr[Vo++]=n,l0|=n,e.lanes|=n,e=e.alternate,e!==null&&(e.lanes|=n)}function c0(e,t,r,n){return Rh(e,t,r,n),Xd(e)}function fo(e,t){return Rh(e,null,null,t),Xd(e)}function sO(e,t,r){e.lanes|=r;var n=e.alternate;n!==null&&(n.lanes|=r);for(var a=!1,i=e.return;i!==null;)i.childLanes|=r,n=i.alternate,n!==null&&(n.childLanes|=r),i.tag===22&&(e=i.stateNode,e===null||e._visibility&1||(a=!0)),e=i,i=i.return;return e.tag===3?(i=e.stateNode,a&&t!==null&&(a=31-_r(r),e=i.hiddenUpdates,n=e[a],n===null?e[a]=[t]:n.push(t),t.lane=r|536870912),i):null}function Xd(e){if(50<Fl)throw Fl=0,pv=null,Error(q(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Ko={};function D4(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function mr(e,t,r,n){return new D4(e,t,r,n)}function u0(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Xn(e,t){var r=e.alternate;return r===null?(r=mr(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&65011712,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r.refCleanup=e.refCleanup,r}function lO(e,t){e.flags&=65011714;var r=e.alternate;return r===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=r.childLanes,e.lanes=r.lanes,e.child=r.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=r.memoizedProps,e.memoizedState=r.memoizedState,e.updateQueue=r.updateQueue,e.type=r.type,t=r.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Od(e,t,r,n,a,i){var o=0;if(n=e,typeof e=="function")u0(e)&&(o=1);else if(typeof e=="string")o=Iz(e,r,En.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case Mg:return e=mr(31,r,t,a),e.elementType=Mg,e.lanes=i,e;case $o:return Ui(r.children,a,i,t);case OE:o=8,a|=24;break;case Rg:return e=mr(12,r,t,a|2),e.elementType=Rg,e.lanes=i,e;case Dg:return e=mr(13,r,t,a),e.elementType=Dg,e.lanes=i,e;case Pg:return e=mr(19,r,t,a),e.elementType=Pg,e.lanes=i,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Fn:o=10;break e;case AE:o=9;break e;case Xy:o=11;break e;case Zy:o=14;break e;case Da:o=16,n=null;break e}o=29,r=Error(q(130,e===null?"null":typeof e,"")),n=null}return t=mr(o,r,t,a),t.elementType=e,t.type=n,t.lanes=i,t}function Ui(e,t,r,n){return e=mr(7,e,n,t),e.lanes=r,e}function _p(e,t,r){return e=mr(6,e,null,t),e.lanes=r,e}function cO(e){var t=mr(18,null,null,0);return t.stateNode=e,t}function Sp(e,t,r){return t=mr(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var z1=new WeakMap;function $r(e,t){if(typeof e=="object"&&e!==null){var r=z1.get(e);return r!==void 0?r:(t={value:e,source:t,stack:g1(t)},z1.set(e,t),t)}return{value:e,source:t,stack:g1(t)}}var Go=[],Yo=0,Zd=null,ic=0,zr=[],Br=0,li=null,_n=1,Sn="";function Ln(e,t){Go[Yo++]=ic,Go[Yo++]=Zd,Zd=e,ic=t}function uO(e,t,r){zr[Br++]=_n,zr[Br++]=Sn,zr[Br++]=li,li=e;var n=_n;e=Sn;var a=32-_r(n)-1;n&=~(1<<a),r+=1;var i=32-_r(t)+a;if(30<i){var o=a-a%5;i=(n&(1<<o)-1).toString(32),n>>=o,a-=o,_n=1<<32-_r(t)+a|r<<a|n,Sn=i+e}else _n=1<<i|r<<a|n,Sn=e}function d0(e){e.return!==null&&(Ln(e,1),uO(e,1,0))}function f0(e){for(;e===Zd;)Zd=Go[--Yo],Go[Yo]=null,ic=Go[--Yo],Go[Yo]=null;for(;e===li;)li=zr[--Br],zr[Br]=null,Sn=zr[--Br],zr[Br]=null,_n=zr[--Br],zr[Br]=null}function dO(e,t){zr[Br++]=_n,zr[Br++]=Sn,zr[Br++]=li,_n=t.id,Sn=t.overflow,li=e}var Rt=null,Pe=null,me=!1,Qa=null,Lr=!1,Yg=Error(q(519));function ci(e){var t=Error(q(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw oc($r(t,e)),Yg}function B1(e){var t=e.stateNode,r=e.type,n=e.memoizedProps;switch(t[Nt]=e,t[ar]=n,r){case"dialog":ue("cancel",t),ue("close",t);break;case"iframe":case"object":case"embed":ue("load",t);break;case"video":case"audio":for(r=0;r<uc.length;r++)ue(uc[r],t);break;case"source":ue("error",t);break;case"img":case"image":case"link":ue("error",t),ue("load",t);break;case"details":ue("toggle",t);break;case"input":ue("invalid",t),UE(t,n.value,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name,!0);break;case"select":ue("invalid",t);break;case"textarea":ue("invalid",t),WE(t,n.value,n.defaultValue,n.children)}r=n.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||t.textContent===""+r||n.suppressHydrationWarning===!0||KA(t.textContent,r)?(n.popover!=null&&(ue("beforetoggle",t),ue("toggle",t)),n.onScroll!=null&&ue("scroll",t),n.onScrollEnd!=null&&ue("scrollend",t),n.onClick!=null&&(t.onclick=Vn),t=!0):t=!1,t||ci(e,!0)}function I1(e){for(Rt=e.return;Rt;)switch(Rt.tag){case 5:case 31:case 13:Lr=!1;return;case 27:case 3:Lr=!0;return;default:Rt=Rt.return}}function So(e){if(e!==Rt)return!1;if(!me)return I1(e),me=!0,!1;var t=e.tag,r;if((r=t!==3&&t!==27)&&((r=t===5)&&(r=e.type,r=!(r!=="form"&&r!=="button")||xv(e.type,e.memoizedProps)),r=!r),r&&Pe&&ci(e),I1(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(q(317));Pe=jw(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(q(317));Pe=jw(e)}else t===27?(t=Pe,gi(e.type)?(e=jv,jv=null,Pe=e):Pe=t):Pe=Rt?Wr(e.stateNode.nextSibling):null;return!0}function Yi(){Pe=Rt=null,me=!1}function jp(){var e=Qa;return e!==null&&(er===null?er=e:er.push.apply(er,e),Qa=null),e}function oc(e){Qa===null?Qa=[e]:Qa.push(e)}var Xg=Nn(null),ho=null,Kn=null;function Ia(e,t,r){Ne(Xg,t._currentValue),t._currentValue=r}function Zn(e){e._currentValue=Xg.current,_t(Xg)}function Zg(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Jg(e,t,r,n){var a=e.child;for(a!==null&&(a.return=e);a!==null;){var i=a.dependencies;if(i!==null){var o=a.child;i=i.firstContext;e:for(;i!==null;){var s=i;i=a;for(var c=0;c<t.length;c++)if(s.context===t[c]){i.lanes|=r,s=i.alternate,s!==null&&(s.lanes|=r),Zg(i.return,r,e),n||(o=null);break e}i=s.next}}else if(a.tag===18){if(o=a.return,o===null)throw Error(q(341));o.lanes|=r,i=o.alternate,i!==null&&(i.lanes|=r),Zg(o,r,e),o=null}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===e){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}}function zs(e,t,r,n){e=null;for(var a=t,i=!1;a!==null;){if(!i){if(a.flags&524288)i=!0;else if(a.flags&262144)break}if(a.tag===10){var o=a.alternate;if(o===null)throw Error(q(387));if(o=o.memoizedProps,o!==null){var s=a.type;Cr(a.pendingProps.value,o.value)||(e!==null?e.push(s):e=[s])}}else if(a===Hd.current){if(o=a.alternate,o===null)throw Error(q(387));o.memoizedState.memoizedState!==a.memoizedState.memoizedState&&(e!==null?e.push(fc):e=[fc])}a=a.return}e!==null&&Jg(t,e,r,n),t.flags|=262144}function Jd(e){for(e=e.firstContext;e!==null;){if(!Cr(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Xi(e){ho=e,Kn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Dt(e){return fO(ho,e)}function Iu(e,t){return ho===null&&Xi(e),fO(e,t)}function fO(e,t){var r=t._currentValue;if(t={context:t,memoizedValue:r,next:null},Kn===null){if(e===null)throw Error(q(308));Kn=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Kn=Kn.next=t;return r}var P4=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(r,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(r){return r()})}},M4=dt.unstable_scheduleCallback,z4=dt.unstable_NormalPriority,nt={$$typeof:Fn,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function h0(){return{controller:new P4,data:new Map,refCount:0}}function Hc(e){e.refCount--,e.refCount===0&&M4(z4,function(){e.controller.abort()})}var Bl=null,Qg=0,hs=0,rs=null;function B4(e,t){if(Bl===null){var r=Bl=[];Qg=0,hs=I0(),rs={status:"pending",value:void 0,then:function(n){r.push(n)}}}return Qg++,t.then($1,$1),t}function $1(){if(--Qg===0&&Bl!==null){rs!==null&&(rs.status="fulfilled");var e=Bl;Bl=null,hs=0,rs=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function I4(e,t){var r=[],n={status:"pending",value:null,reason:null,then:function(a){r.push(a)}};return e.then(function(){n.status="fulfilled",n.value=t;for(var a=0;a<r.length;a++)(0,r[a])(t)},function(a){for(n.status="rejected",n.reason=a,a=0;a<r.length;a++)(0,r[a])(void 0)}),n}var L1=ie.S;ie.S=function(e,t){EA=xr(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&B4(e,t),L1!==null&&L1(e,t)};var qi=Nn(null);function m0(){var e=qi.current;return e!==null?e:Oe.pooledCache}function Ad(e,t){t===null?Ne(qi,qi.current):Ne(qi,t.pool)}function hO(){var e=m0();return e===null?null:{parent:nt._currentValue,pool:e}}var Bs=Error(q(460)),p0=Error(q(474)),Dh=Error(q(542)),Qd={then:function(){}};function U1(e){return e=e.status,e==="fulfilled"||e==="rejected"}function mO(e,t,r){switch(r=e[r],r===void 0?e.push(t):r!==t&&(t.then(Vn,Vn),t=r),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,W1(e),e;default:if(typeof t.status=="string")t.then(Vn,Vn);else{if(e=Oe,e!==null&&100<e.shellSuspendCounter)throw Error(q(482));e=t,e.status="pending",e.then(function(n){if(t.status==="pending"){var a=t;a.status="fulfilled",a.value=n}},function(n){if(t.status==="pending"){var a=t;a.status="rejected",a.reason=n}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,W1(e),e}throw Wi=t,Bs}}function Oi(e){try{var t=e._init;return t(e._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(Wi=r,Bs):r}}var Wi=null;function q1(){if(Wi===null)throw Error(q(459));var e=Wi;return Wi=null,e}function W1(e){if(e===Bs||e===Dh)throw Error(q(483))}var ns=null,sc=0;function $u(e){var t=sc;return sc+=1,ns===null&&(ns=[]),mO(ns,e,t)}function hl(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Lu(e,t){throw t.$$typeof===j5?Error(q(525)):(e=Object.prototype.toString.call(t),Error(q(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function pO(e){function t(y,g){if(e){var w=y.deletions;w===null?(y.deletions=[g],y.flags|=16):w.push(g)}}function r(y,g){if(!e)return null;for(;g!==null;)t(y,g),g=g.sibling;return null}function n(y){for(var g=new Map;y!==null;)y.key!==null?g.set(y.key,y):g.set(y.index,y),y=y.sibling;return g}function a(y,g){return y=Xn(y,g),y.index=0,y.sibling=null,y}function i(y,g,w){return y.index=w,e?(w=y.alternate,w!==null?(w=w.index,w<g?(y.flags|=67108866,g):w):(y.flags|=67108866,g)):(y.flags|=1048576,g)}function o(y){return e&&y.alternate===null&&(y.flags|=67108866),y}function s(y,g,w,_){return g===null||g.tag!==6?(g=_p(w,y.mode,_),g.return=y,g):(g=a(g,w),g.return=y,g)}function c(y,g,w,_){var S=w.type;return S===$o?d(y,g,w.props.children,_,w.key):g!==null&&(g.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Da&&Oi(S)===g.type)?(g=a(g,w.props),hl(g,w),g.return=y,g):(g=Od(w.type,w.key,w.props,null,y.mode,_),hl(g,w),g.return=y,g)}function u(y,g,w,_){return g===null||g.tag!==4||g.stateNode.containerInfo!==w.containerInfo||g.stateNode.implementation!==w.implementation?(g=Sp(w,y.mode,_),g.return=y,g):(g=a(g,w.children||[]),g.return=y,g)}function d(y,g,w,_,S){return g===null||g.tag!==7?(g=Ui(w,y.mode,_,S),g.return=y,g):(g=a(g,w),g.return=y,g)}function f(y,g,w){if(typeof g=="string"&&g!==""||typeof g=="number"||typeof g=="bigint")return g=_p(""+g,y.mode,w),g.return=y,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Ru:return w=Od(g.type,g.key,g.props,null,y.mode,w),hl(w,g),w.return=y,w;case Cl:return g=Sp(g,y.mode,w),g.return=y,g;case Da:return g=Oi(g),f(y,g,w)}if(El(g)||ul(g))return g=Ui(g,y.mode,w,null),g.return=y,g;if(typeof g.then=="function")return f(y,$u(g),w);if(g.$$typeof===Fn)return f(y,Iu(y,g),w);Lu(y,g)}return null}function h(y,g,w,_){var S=g!==null?g.key:null;if(typeof w=="string"&&w!==""||typeof w=="number"||typeof w=="bigint")return S!==null?null:s(y,g,""+w,_);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Ru:return w.key===S?c(y,g,w,_):null;case Cl:return w.key===S?u(y,g,w,_):null;case Da:return w=Oi(w),h(y,g,w,_)}if(El(w)||ul(w))return S!==null?null:d(y,g,w,_,null);if(typeof w.then=="function")return h(y,g,$u(w),_);if(w.$$typeof===Fn)return h(y,g,Iu(y,w),_);Lu(y,w)}return null}function m(y,g,w,_,S){if(typeof _=="string"&&_!==""||typeof _=="number"||typeof _=="bigint")return y=y.get(w)||null,s(g,y,""+_,S);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Ru:return y=y.get(_.key===null?w:_.key)||null,c(g,y,_,S);case Cl:return y=y.get(_.key===null?w:_.key)||null,u(g,y,_,S);case Da:return _=Oi(_),m(y,g,w,_,S)}if(El(_)||ul(_))return y=y.get(w)||null,d(g,y,_,S,null);if(typeof _.then=="function")return m(y,g,w,$u(_),S);if(_.$$typeof===Fn)return m(y,g,w,Iu(g,_),S);Lu(g,_)}return null}function v(y,g,w,_){for(var S=null,j=null,C=g,E=g=0,k=null;C!==null&&E<w.length;E++){C.index>E?(k=C,C=null):k=C.sibling;var A=h(y,C,w[E],_);if(A===null){C===null&&(C=k);break}e&&C&&A.alternate===null&&t(y,C),g=i(A,g,E),j===null?S=A:j.sibling=A,j=A,C=k}if(E===w.length)return r(y,C),me&&Ln(y,E),S;if(C===null){for(;E<w.length;E++)C=f(y,w[E],_),C!==null&&(g=i(C,g,E),j===null?S=C:j.sibling=C,j=C);return me&&Ln(y,E),S}for(C=n(C);E<w.length;E++)k=m(C,y,E,w[E],_),k!==null&&(e&&k.alternate!==null&&C.delete(k.key===null?E:k.key),g=i(k,g,E),j===null?S=k:j.sibling=k,j=k);return e&&C.forEach(function(N){return t(y,N)}),me&&Ln(y,E),S}function x(y,g,w,_){if(w==null)throw Error(q(151));for(var S=null,j=null,C=g,E=g=0,k=null,A=w.next();C!==null&&!A.done;E++,A=w.next()){C.index>E?(k=C,C=null):k=C.sibling;var N=h(y,C,A.value,_);if(N===null){C===null&&(C=k);break}e&&C&&N.alternate===null&&t(y,C),g=i(N,g,E),j===null?S=N:j.sibling=N,j=N,C=k}if(A.done)return r(y,C),me&&Ln(y,E),S;if(C===null){for(;!A.done;E++,A=w.next())A=f(y,A.value,_),A!==null&&(g=i(A,g,E),j===null?S=A:j.sibling=A,j=A);return me&&Ln(y,E),S}for(C=n(C);!A.done;E++,A=w.next())A=m(C,y,E,A.value,_),A!==null&&(e&&A.alternate!==null&&C.delete(A.key===null?E:A.key),g=i(A,g,E),j===null?S=A:j.sibling=A,j=A);return e&&C.forEach(function(T){return t(y,T)}),me&&Ln(y,E),S}function b(y,g,w,_){if(typeof w=="object"&&w!==null&&w.type===$o&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Ru:e:{for(var S=w.key;g!==null;){if(g.key===S){if(S=w.type,S===$o){if(g.tag===7){r(y,g.sibling),_=a(g,w.props.children),_.return=y,y=_;break e}}else if(g.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Da&&Oi(S)===g.type){r(y,g.sibling),_=a(g,w.props),hl(_,w),_.return=y,y=_;break e}r(y,g);break}else t(y,g);g=g.sibling}w.type===$o?(_=Ui(w.props.children,y.mode,_,w.key),_.return=y,y=_):(_=Od(w.type,w.key,w.props,null,y.mode,_),hl(_,w),_.return=y,y=_)}return o(y);case Cl:e:{for(S=w.key;g!==null;){if(g.key===S)if(g.tag===4&&g.stateNode.containerInfo===w.containerInfo&&g.stateNode.implementation===w.implementation){r(y,g.sibling),_=a(g,w.children||[]),_.return=y,y=_;break e}else{r(y,g);break}else t(y,g);g=g.sibling}_=Sp(w,y.mode,_),_.return=y,y=_}return o(y);case Da:return w=Oi(w),b(y,g,w,_)}if(El(w))return v(y,g,w,_);if(ul(w)){if(S=ul(w),typeof S!="function")throw Error(q(150));return w=S.call(w),x(y,g,w,_)}if(typeof w.then=="function")return b(y,g,$u(w),_);if(w.$$typeof===Fn)return b(y,g,Iu(y,w),_);Lu(y,w)}return typeof w=="string"&&w!==""||typeof w=="number"||typeof w=="bigint"?(w=""+w,g!==null&&g.tag===6?(r(y,g.sibling),_=a(g,w),_.return=y,y=_):(r(y,g),_=_p(w,y.mode,_),_.return=y,y=_),o(y)):r(y,g)}return function(y,g,w,_){try{sc=0;var S=b(y,g,w,_);return ns=null,S}catch(C){if(C===Bs||C===Dh)throw C;var j=mr(29,C,null,y.mode);return j.lanes=_,j.return=y,j}finally{}}}var Zi=pO(!0),gO=pO(!1),Pa=!1;function g0(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ev(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ei(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ti(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,ve&2){var a=n.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),n.pending=t,t=Xd(e),sO(e,null,r),t}return Rh(e,n,t,r),Xd(e)}function Il(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194048)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,PE(e,r)}}function Cp(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};i===null?a=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?a=i=t:i=i.next=t}else a=i=t;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:n.shared,callbacks:n.callbacks},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}var tv=!1;function $l(){if(tv){var e=rs;if(e!==null)throw e}}function Ll(e,t,r,n){tv=!1;var a=e.updateQueue;Pa=!1;var i=a.firstBaseUpdate,o=a.lastBaseUpdate,s=a.shared.pending;if(s!==null){a.shared.pending=null;var c=s,u=c.next;c.next=null,o===null?i=u:o.next=u,o=c;var d=e.alternate;d!==null&&(d=d.updateQueue,s=d.lastBaseUpdate,s!==o&&(s===null?d.firstBaseUpdate=u:s.next=u,d.lastBaseUpdate=c))}if(i!==null){var f=a.baseState;o=0,d=u=c=null,s=i;do{var h=s.lane&-536870913,m=h!==s.lane;if(m?(he&h)===h:(n&h)===h){h!==0&&h===hs&&(tv=!0),d!==null&&(d=d.next={lane:0,tag:s.tag,payload:s.payload,callback:null,next:null});e:{var v=e,x=s;h=t;var b=r;switch(x.tag){case 1:if(v=x.payload,typeof v=="function"){f=v.call(b,f,h);break e}f=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=x.payload,h=typeof v=="function"?v.call(b,f,h):v,h==null)break e;f=ze({},f,h);break e;case 2:Pa=!0}}h=s.callback,h!==null&&(e.flags|=64,m&&(e.flags|=8192),m=a.callbacks,m===null?a.callbacks=[h]:m.push(h))}else m={lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},d===null?(u=d=m,c=f):d=d.next=m,o|=h;if(s=s.next,s===null){if(s=a.shared.pending,s===null)break;m=s,s=m.next,m.next=null,a.lastBaseUpdate=m,a.shared.pending=null}}while(!0);d===null&&(c=f),a.baseState=c,a.firstBaseUpdate=u,a.lastBaseUpdate=d,i===null&&(a.shared.lanes=0),di|=o,e.lanes=o,e.memoizedState=f}}function vO(e,t){if(typeof e!="function")throw Error(q(191,e));e.call(t)}function yO(e,t){var r=e.callbacks;if(r!==null)for(e.callbacks=null,e=0;e<r.length;e++)vO(r[e],t)}var ms=Nn(null),ef=Nn(0);function H1(e,t){e=ia,Ne(ef,e),Ne(ms,t),ia=e|t.baseLanes}function rv(){Ne(ef,ia),Ne(ms,ms.current)}function v0(){ia=ef.current,_t(ms),_t(ef)}var Er=Nn(null),qr=null;function $a(e){var t=e.alternate;Ne(Ge,Ge.current&1),Ne(Er,e),qr===null&&(t===null||ms.current!==null||t.memoizedState!==null)&&(qr=e)}function nv(e){Ne(Ge,Ge.current),Ne(Er,e),qr===null&&(qr=e)}function bO(e){e.tag===22?(Ne(Ge,Ge.current),Ne(Er,e),qr===null&&(qr=e)):La()}function La(){Ne(Ge,Ge.current),Ne(Er,Er.current)}function hr(e){_t(Er),qr===e&&(qr=null),_t(Ge)}var Ge=Nn(0);function tf(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||_v(r)||Sv(r)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ra=0,le=null,je=null,tt=null,rf=!1,as=!1,Ji=!1,nf=0,lc=0,is=null,$4=0;function We(){throw Error(q(321))}function y0(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Cr(e[r],t[r]))return!1;return!0}function b0(e,t,r,n,a,i){return ra=i,le=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ie.H=e===null||e.memoizedState===null?XO:T0,Ji=!1,i=r(n,a),Ji=!1,as&&(i=wO(t,r,n,a)),xO(e),i}function xO(e){ie.H=cc;var t=je!==null&&je.next!==null;if(ra=0,tt=je=le=null,rf=!1,lc=0,is=null,t)throw Error(q(300));e===null||at||(e=e.dependencies,e!==null&&Jd(e)&&(at=!0))}function wO(e,t,r,n){le=e;var a=0;do{if(as&&(is=null),lc=0,as=!1,25<=a)throw Error(q(301));if(a+=1,tt=je=null,e.updateQueue!=null){var i=e.updateQueue;i.lastEffect=null,i.events=null,i.stores=null,i.memoCache!=null&&(i.memoCache.index=0)}ie.H=ZO,i=t(r,n)}while(as);return i}function L4(){var e=ie.H,t=e.useState()[0];return t=typeof t.then=="function"?Fc(t):t,e=e.useState()[0],(je!==null?je.memoizedState:null)!==e&&(le.flags|=1024),t}function x0(){var e=nf!==0;return nf=0,e}function w0(e,t,r){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r}function _0(e){if(rf){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}rf=!1}ra=0,tt=je=le=null,as=!1,lc=nf=0,is=null}function Ut(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return tt===null?le.memoizedState=tt=e:tt=tt.next=e,tt}function Ye(){if(je===null){var e=le.alternate;e=e!==null?e.memoizedState:null}else e=je.next;var t=tt===null?le.memoizedState:tt.next;if(t!==null)tt=t,je=e;else{if(e===null)throw le.alternate===null?Error(q(467)):Error(q(310));je=e,e={memoizedState:je.memoizedState,baseState:je.baseState,baseQueue:je.baseQueue,queue:je.queue,next:null},tt===null?le.memoizedState=tt=e:tt=tt.next=e}return tt}function Ph(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Fc(e){var t=lc;return lc+=1,is===null&&(is=[]),e=mO(is,e,t),t=le,(tt===null?t.memoizedState:tt.next)===null&&(t=t.alternate,ie.H=t===null||t.memoizedState===null?XO:T0),e}function Mh(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Fc(e);if(e.$$typeof===Fn)return Dt(e)}throw Error(q(438,String(e)))}function S0(e){var t=null,r=le.updateQueue;if(r!==null&&(t=r.memoCache),t==null){var n=le.alternate;n!==null&&(n=n.updateQueue,n!==null&&(n=n.memoCache,n!=null&&(t={data:n.data.map(function(a){return a.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),r===null&&(r=Ph(),le.updateQueue=r),r.memoCache=t,r=t.data[t.index],r===void 0)for(r=t.data[t.index]=Array(e),n=0;n<e;n++)r[n]=C5;return t.index++,r}function na(e,t){return typeof t=="function"?t(e):t}function kd(e){var t=Ye();return j0(t,je,e)}function j0(e,t,r){var n=e.queue;if(n===null)throw Error(q(311));n.lastRenderedReducer=r;var a=e.baseQueue,i=n.pending;if(i!==null){if(a!==null){var o=a.next;a.next=i.next,i.next=o}t.baseQueue=a=i,n.pending=null}if(i=e.baseState,a===null)e.memoizedState=i;else{t=a.next;var s=o=null,c=null,u=t,d=!1;do{var f=u.lane&-536870913;if(f!==u.lane?(he&f)===f:(ra&f)===f){var h=u.revertLane;if(h===0)c!==null&&(c=c.next={lane:0,revertLane:0,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),f===hs&&(d=!0);else if((ra&h)===h){u=u.next,h===hs&&(d=!0);continue}else f={lane:0,revertLane:u.revertLane,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},c===null?(s=c=f,o=i):c=c.next=f,le.lanes|=h,di|=h;f=u.action,Ji&&r(i,f),i=u.hasEagerState?u.eagerState:r(i,f)}else h={lane:f,revertLane:u.revertLane,gesture:u.gesture,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},c===null?(s=c=h,o=i):c=c.next=h,le.lanes|=f,di|=f;u=u.next}while(u!==null&&u!==t);if(c===null?o=i:c.next=s,!Cr(i,e.memoizedState)&&(at=!0,d&&(r=rs,r!==null)))throw r;e.memoizedState=i,e.baseState=o,e.baseQueue=c,n.lastRenderedState=i}return a===null&&(n.lanes=0),[e.memoizedState,n.dispatch]}function Ep(e){var t=Ye(),r=t.queue;if(r===null)throw Error(q(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,i=t.memoizedState;if(a!==null){r.pending=null;var o=a=a.next;do i=e(i,o.action),o=o.next;while(o!==a);Cr(i,t.memoizedState)||(at=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function _O(e,t,r){var n=le,a=Ye(),i=me;if(i){if(r===void 0)throw Error(q(407));r=r()}else r=t();var o=!Cr((je||a).memoizedState,r);if(o&&(a.memoizedState=r,at=!0),a=a.queue,C0(CO.bind(null,n,a,e),[e]),a.getSnapshot!==t||o||tt!==null&&tt.memoizedState.tag&1){if(n.flags|=2048,ps(9,{destroy:void 0},jO.bind(null,n,a,r,t),null),Oe===null)throw Error(q(349));i||ra&127||SO(n,t,r)}return r}function SO(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=le.updateQueue,t===null?(t=Ph(),le.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function jO(e,t,r,n){t.value=r,t.getSnapshot=n,EO(t)&&OO(e)}function CO(e,t,r){return r(function(){EO(t)&&OO(e)})}function EO(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Cr(e,r)}catch{return!0}}function OO(e){var t=fo(e,2);t!==null&&nr(t,e,2)}function av(e){var t=Ut();if(typeof e=="function"){var r=e;if(e=r(),Ji){Fa(!0);try{r()}finally{Fa(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:na,lastRenderedState:e},t}function AO(e,t,r,n){return e.baseState=r,j0(e,je,typeof n=="function"?n:na)}function U4(e,t,r,n,a){if(Bh(e))throw Error(q(485));if(e=t.action,e!==null){var i={payload:a,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(o){i.listeners.push(o)}};ie.T!==null?r(!0):i.isTransition=!1,n(i),r=t.pending,r===null?(i.next=t.pending=i,kO(t,i)):(i.next=r.next,t.pending=r.next=i)}}function kO(e,t){var r=t.action,n=t.payload,a=e.state;if(t.isTransition){var i=ie.T,o={};ie.T=o;try{var s=r(a,n),c=ie.S;c!==null&&c(o,s),F1(e,t,s)}catch(u){iv(e,t,u)}finally{i!==null&&o.types!==null&&(i.types=o.types),ie.T=i}}else try{i=r(a,n),F1(e,t,i)}catch(u){iv(e,t,u)}}function F1(e,t,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(n){V1(e,t,n)},function(n){return iv(e,t,n)}):V1(e,t,r)}function V1(e,t,r){t.status="fulfilled",t.value=r,TO(t),e.state=r,t=e.pending,t!==null&&(r=t.next,r===t?e.pending=null:(r=r.next,t.next=r,kO(e,r)))}function iv(e,t,r){var n=e.pending;if(e.pending=null,n!==null){n=n.next;do t.status="rejected",t.reason=r,TO(t),t=t.next;while(t!==n)}e.action=null}function TO(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function NO(e,t){return t}function K1(e,t){if(me){var r=Oe.formState;if(r!==null){e:{var n=le;if(me){if(Pe){t:{for(var a=Pe,i=Lr;a.nodeType!==8;){if(!i){a=null;break t}if(a=Wr(a.nextSibling),a===null){a=null;break t}}i=a.data,a=i==="F!"||i==="F"?a:null}if(a){Pe=Wr(a.nextSibling),n=a.data==="F!";break e}}ci(n)}n=!1}n&&(t=r[0])}}return r=Ut(),r.memoizedState=r.baseState=t,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:NO,lastRenderedState:t},r.queue=n,r=KO.bind(null,le,n),n.dispatch=r,n=av(!1),i=k0.bind(null,le,!1,n.queue),n=Ut(),a={state:t,dispatch:null,action:e,pending:null},n.queue=a,r=U4.bind(null,le,a,i,r),a.dispatch=r,n.memoizedState=e,[t,r,!1]}function G1(e){var t=Ye();return RO(t,je,e)}function RO(e,t,r){if(t=j0(e,t,NO)[0],e=kd(na)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var n=Fc(t)}catch(o){throw o===Bs?Dh:o}else n=t;t=Ye();var a=t.queue,i=a.dispatch;return r!==t.memoizedState&&(le.flags|=2048,ps(9,{destroy:void 0},q4.bind(null,a,r),null)),[n,i,e]}function q4(e,t){e.action=t}function Y1(e){var t=Ye(),r=je;if(r!==null)return RO(t,r,e);Ye(),t=t.memoizedState,r=Ye();var n=r.queue.dispatch;return r.memoizedState=e,[t,n,!1]}function ps(e,t,r,n){return e={tag:e,create:r,deps:n,inst:t,next:null},t=le.updateQueue,t===null&&(t=Ph(),le.updateQueue=t),r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e),e}function DO(){return Ye().memoizedState}function Td(e,t,r,n){var a=Ut();le.flags|=e,a.memoizedState=ps(1|t,{destroy:void 0},r,n===void 0?null:n)}function zh(e,t,r,n){var a=Ye();n=n===void 0?null:n;var i=a.memoizedState.inst;je!==null&&n!==null&&y0(n,je.memoizedState.deps)?a.memoizedState=ps(t,i,r,n):(le.flags|=e,a.memoizedState=ps(1|t,i,r,n))}function X1(e,t){Td(8390656,8,e,t)}function C0(e,t){zh(2048,8,e,t)}function W4(e){le.flags|=4;var t=le.updateQueue;if(t===null)t=Ph(),le.updateQueue=t,t.events=[e];else{var r=t.events;r===null?t.events=[e]:r.push(e)}}function PO(e){var t=Ye().memoizedState;return W4({ref:t,nextImpl:e}),function(){if(ve&2)throw Error(q(440));return t.impl.apply(void 0,arguments)}}function MO(e,t){return zh(4,2,e,t)}function zO(e,t){return zh(4,4,e,t)}function BO(e,t){if(typeof t=="function"){e=e();var r=t(e);return function(){typeof r=="function"?r():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function IO(e,t,r){r=r!=null?r.concat([e]):null,zh(4,4,BO.bind(null,t,e),r)}function E0(){}function $O(e,t){var r=Ye();t=t===void 0?null:t;var n=r.memoizedState;return t!==null&&y0(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function LO(e,t){var r=Ye();t=t===void 0?null:t;var n=r.memoizedState;if(t!==null&&y0(t,n[1]))return n[0];if(n=e(),Ji){Fa(!0);try{e()}finally{Fa(!1)}}return r.memoizedState=[n,t],n}function O0(e,t,r){return r===void 0||ra&1073741824&&!(he&261930)?e.memoizedState=t:(e.memoizedState=r,e=AA(),le.lanes|=e,di|=e,r)}function UO(e,t,r,n){return Cr(r,t)?r:ms.current!==null?(e=O0(e,r,n),Cr(e,t)||(at=!0),e):!(ra&42)||ra&1073741824&&!(he&261930)?(at=!0,e.memoizedState=r):(e=AA(),le.lanes|=e,di|=e,t)}function qO(e,t,r,n,a){var i=ye.p;ye.p=i!==0&&8>i?i:8;var o=ie.T,s={};ie.T=s,k0(e,!1,t,r);try{var c=a(),u=ie.S;if(u!==null&&u(s,c),c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=I4(c,n);Ul(e,t,d,Sr(e))}else Ul(e,t,n,Sr(e))}catch(f){Ul(e,t,{then:function(){},status:"rejected",reason:f},Sr())}finally{ye.p=i,o!==null&&s.types!==null&&(o.types=s.types),ie.T=o}}function H4(){}function ov(e,t,r,n){if(e.tag!==5)throw Error(q(476));var a=WO(e).queue;qO(e,a,t,Li,r===null?H4:function(){return HO(e),r(n)})}function WO(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:Li,baseState:Li,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:na,lastRenderedState:Li},next:null};var r={};return t.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:na,lastRenderedState:r},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function HO(e){var t=WO(e);t.next===null&&(t=e.alternate.memoizedState),Ul(e,t.next.queue,{},Sr())}function A0(){return Dt(fc)}function FO(){return Ye().memoizedState}function VO(){return Ye().memoizedState}function F4(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var r=Sr();e=ei(r);var n=ti(t,e,r);n!==null&&(nr(n,t,r),Il(n,t,r)),t={cache:h0()},e.payload=t;return}t=t.return}}function V4(e,t,r){var n=Sr();r={lane:n,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},Bh(e)?GO(t,r):(r=c0(e,t,r,n),r!==null&&(nr(r,e,n),YO(r,t,n)))}function KO(e,t,r){var n=Sr();Ul(e,t,r,n)}function Ul(e,t,r,n){var a={lane:n,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(Bh(e))GO(t,a);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,s=i(o,r);if(a.hasEagerState=!0,a.eagerState=s,Cr(s,o))return Rh(e,t,a,0),Oe===null&&Nh(),!1}catch{}finally{}if(r=c0(e,t,a,n),r!==null)return nr(r,e,n),YO(r,t,n),!0}return!1}function k0(e,t,r,n){if(n={lane:2,revertLane:I0(),gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},Bh(e)){if(t)throw Error(q(479))}else t=c0(e,r,n,2),t!==null&&nr(t,e,2)}function Bh(e){var t=e.alternate;return e===le||t!==null&&t===le}function GO(e,t){as=rf=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function YO(e,t,r){if(r&4194048){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,PE(e,r)}}var cc={readContext:Dt,use:Mh,useCallback:We,useContext:We,useEffect:We,useImperativeHandle:We,useLayoutEffect:We,useInsertionEffect:We,useMemo:We,useReducer:We,useRef:We,useState:We,useDebugValue:We,useDeferredValue:We,useTransition:We,useSyncExternalStore:We,useId:We,useHostTransitionStatus:We,useFormState:We,useActionState:We,useOptimistic:We,useMemoCache:We,useCacheRefresh:We};cc.useEffectEvent=We;var XO={readContext:Dt,use:Mh,useCallback:function(e,t){return Ut().memoizedState=[e,t===void 0?null:t],e},useContext:Dt,useEffect:X1,useImperativeHandle:function(e,t,r){r=r!=null?r.concat([e]):null,Td(4194308,4,BO.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Td(4194308,4,e,t)},useInsertionEffect:function(e,t){Td(4,2,e,t)},useMemo:function(e,t){var r=Ut();t=t===void 0?null:t;var n=e();if(Ji){Fa(!0);try{e()}finally{Fa(!1)}}return r.memoizedState=[n,t],n},useReducer:function(e,t,r){var n=Ut();if(r!==void 0){var a=r(t);if(Ji){Fa(!0);try{r(t)}finally{Fa(!1)}}}else a=t;return n.memoizedState=n.baseState=a,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:a},n.queue=e,e=e.dispatch=V4.bind(null,le,e),[n.memoizedState,e]},useRef:function(e){var t=Ut();return e={current:e},t.memoizedState=e},useState:function(e){e=av(e);var t=e.queue,r=KO.bind(null,le,t);return t.dispatch=r,[e.memoizedState,r]},useDebugValue:E0,useDeferredValue:function(e,t){var r=Ut();return O0(r,e,t)},useTransition:function(){var e=av(!1);return e=qO.bind(null,le,e.queue,!0,!1),Ut().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,r){var n=le,a=Ut();if(me){if(r===void 0)throw Error(q(407));r=r()}else{if(r=t(),Oe===null)throw Error(q(349));he&127||SO(n,t,r)}a.memoizedState=r;var i={value:r,getSnapshot:t};return a.queue=i,X1(CO.bind(null,n,i,e),[e]),n.flags|=2048,ps(9,{destroy:void 0},jO.bind(null,n,i,r,t),null),r},useId:function(){var e=Ut(),t=Oe.identifierPrefix;if(me){var r=Sn,n=_n;r=(n&~(1<<32-_r(n)-1)).toString(32)+r,t="_"+t+"R_"+r,r=nf++,0<r&&(t+="H"+r.toString(32)),t+="_"}else r=$4++,t="_"+t+"r_"+r.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:A0,useFormState:K1,useActionState:K1,useOptimistic:function(e){var t=Ut();t.memoizedState=t.baseState=e;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=r,t=k0.bind(null,le,!0,r),r.dispatch=t,[e,t]},useMemoCache:S0,useCacheRefresh:function(){return Ut().memoizedState=F4.bind(null,le)},useEffectEvent:function(e){var t=Ut(),r={impl:e};return t.memoizedState=r,function(){if(ve&2)throw Error(q(440));return r.impl.apply(void 0,arguments)}}},T0={readContext:Dt,use:Mh,useCallback:$O,useContext:Dt,useEffect:C0,useImperativeHandle:IO,useInsertionEffect:MO,useLayoutEffect:zO,useMemo:LO,useReducer:kd,useRef:DO,useState:function(){return kd(na)},useDebugValue:E0,useDeferredValue:function(e,t){var r=Ye();return UO(r,je.memoizedState,e,t)},useTransition:function(){var e=kd(na)[0],t=Ye().memoizedState;return[typeof e=="boolean"?e:Fc(e),t]},useSyncExternalStore:_O,useId:FO,useHostTransitionStatus:A0,useFormState:G1,useActionState:G1,useOptimistic:function(e,t){var r=Ye();return AO(r,je,e,t)},useMemoCache:S0,useCacheRefresh:VO};T0.useEffectEvent=PO;var ZO={readContext:Dt,use:Mh,useCallback:$O,useContext:Dt,useEffect:C0,useImperativeHandle:IO,useInsertionEffect:MO,useLayoutEffect:zO,useMemo:LO,useReducer:Ep,useRef:DO,useState:function(){return Ep(na)},useDebugValue:E0,useDeferredValue:function(e,t){var r=Ye();return je===null?O0(r,e,t):UO(r,je.memoizedState,e,t)},useTransition:function(){var e=Ep(na)[0],t=Ye().memoizedState;return[typeof e=="boolean"?e:Fc(e),t]},useSyncExternalStore:_O,useId:FO,useHostTransitionStatus:A0,useFormState:Y1,useActionState:Y1,useOptimistic:function(e,t){var r=Ye();return je!==null?AO(r,je,e,t):(r.baseState=e,[e,r.queue.dispatch])},useMemoCache:S0,useCacheRefresh:VO};ZO.useEffectEvent=PO;function Op(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:ze({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var sv={enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Sr(),a=ei(n);a.payload=t,r!=null&&(a.callback=r),t=ti(e,a,n),t!==null&&(nr(t,e,n),Il(t,e,n))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Sr(),a=ei(n);a.tag=1,a.payload=t,r!=null&&(a.callback=r),t=ti(e,a,n),t!==null&&(nr(t,e,n),Il(t,e,n))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Sr(),n=ei(r);n.tag=2,t!=null&&(n.callback=t),t=ti(e,n,r),t!==null&&(nr(t,e,r),Il(t,e,r))}};function Z1(e,t,r,n,a,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,o):t.prototype&&t.prototype.isPureReactComponent?!ac(r,n)||!ac(a,i):!0}function J1(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&sv.enqueueReplaceState(t,t.state,null)}function Qi(e,t){var r=t;if("ref"in t){r={};for(var n in t)n!=="ref"&&(r[n]=t[n])}if(e=e.defaultProps){r===t&&(r=ze({},r));for(var a in e)r[a]===void 0&&(r[a]=e[a])}return r}function JO(e){Yd(e)}function QO(e){console.error(e)}function eA(e){Yd(e)}function af(e,t){try{var r=e.onUncaughtError;r(t.value,{componentStack:t.stack})}catch(n){setTimeout(function(){throw n})}}function Q1(e,t,r){try{var n=e.onCaughtError;n(r.value,{componentStack:r.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(a){setTimeout(function(){throw a})}}function lv(e,t,r){return r=ei(r),r.tag=3,r.payload={element:null},r.callback=function(){af(e,t)},r}function tA(e){return e=ei(e),e.tag=3,e}function rA(e,t,r,n){var a=r.type.getDerivedStateFromError;if(typeof a=="function"){var i=n.value;e.payload=function(){return a(i)},e.callback=function(){Q1(t,r,n)}}var o=r.stateNode;o!==null&&typeof o.componentDidCatch=="function"&&(e.callback=function(){Q1(t,r,n),typeof a!="function"&&(ri===null?ri=new Set([this]):ri.add(this));var s=n.stack;this.componentDidCatch(n.value,{componentStack:s!==null?s:""})})}function K4(e,t,r,n,a){if(r.flags|=32768,n!==null&&typeof n=="object"&&typeof n.then=="function"){if(t=r.alternate,t!==null&&zs(t,r,a,!0),r=Er.current,r!==null){switch(r.tag){case 31:case 13:return qr===null?uf():r.alternate===null&&Fe===0&&(Fe=3),r.flags&=-257,r.flags|=65536,r.lanes=a,n===Qd?r.flags|=16384:(t=r.updateQueue,t===null?r.updateQueue=new Set([n]):t.add(n),Ip(e,n,a)),!1;case 22:return r.flags|=65536,n===Qd?r.flags|=16384:(t=r.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([n])},r.updateQueue=t):(r=t.retryQueue,r===null?t.retryQueue=new Set([n]):r.add(n)),Ip(e,n,a)),!1}throw Error(q(435,r.tag))}return Ip(e,n,a),uf(),!1}if(me)return t=Er.current,t!==null?(!(t.flags&65536)&&(t.flags|=256),t.flags|=65536,t.lanes=a,n!==Yg&&(e=Error(q(422),{cause:n}),oc($r(e,r)))):(n!==Yg&&(t=Error(q(423),{cause:n}),oc($r(t,r))),e=e.current.alternate,e.flags|=65536,a&=-a,e.lanes|=a,n=$r(n,r),a=lv(e.stateNode,n,a),Cp(e,a),Fe!==4&&(Fe=2)),!1;var i=Error(q(520),{cause:n});if(i=$r(i,r),Hl===null?Hl=[i]:Hl.push(i),Fe!==4&&(Fe=2),t===null)return!0;n=$r(n,r),r=t;do{switch(r.tag){case 3:return r.flags|=65536,e=a&-a,r.lanes|=e,e=lv(r.stateNode,n,e),Cp(r,e),!1;case 1:if(t=r.type,i=r.stateNode,(r.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||i!==null&&typeof i.componentDidCatch=="function"&&(ri===null||!ri.has(i))))return r.flags|=65536,a&=-a,r.lanes|=a,a=tA(a),rA(a,e,r,n),Cp(r,a),!1}r=r.return}while(r!==null);return!1}var N0=Error(q(461)),at=!1;function At(e,t,r,n){t.child=e===null?gO(t,null,r,n):Zi(t,e.child,r,n)}function ew(e,t,r,n,a){r=r.render;var i=t.ref;if("ref"in n){var o={};for(var s in n)s!=="ref"&&(o[s]=n[s])}else o=n;return Xi(t),n=b0(e,t,r,o,i,a),s=x0(),e!==null&&!at?(w0(e,t,a),aa(e,t,a)):(me&&s&&d0(t),t.flags|=1,At(e,t,n,a),t.child)}function tw(e,t,r,n,a){if(e===null){var i=r.type;return typeof i=="function"&&!u0(i)&&i.defaultProps===void 0&&r.compare===null?(t.tag=15,t.type=i,nA(e,t,i,n,a)):(e=Od(r.type,null,n,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!R0(e,a)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:ac,r(o,n)&&e.ref===t.ref)return aa(e,t,a)}return t.flags|=1,e=Xn(i,n),e.ref=t.ref,e.return=t,t.child=e}function nA(e,t,r,n,a){if(e!==null){var i=e.memoizedProps;if(ac(i,n)&&e.ref===t.ref)if(at=!1,t.pendingProps=n=i,R0(e,a))e.flags&131072&&(at=!0);else return t.lanes=e.lanes,aa(e,t,a)}return cv(e,t,r,n,a)}function aA(e,t,r,n){var a=n.children,i=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.mode==="hidden"){if(t.flags&128){if(i=i!==null?i.baseLanes|r:r,e!==null){for(n=t.child=e.child,a=0;n!==null;)a=a|n.lanes|n.childLanes,n=n.sibling;n=a&~i}else n=0,t.child=null;return rw(e,t,i,r,n)}if(r&536870912)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Ad(t,i!==null?i.cachePool:null),i!==null?H1(t,i):rv(),bO(t);else return n=t.lanes=536870912,rw(e,t,i!==null?i.baseLanes|r:r,r,n)}else i!==null?(Ad(t,i.cachePool),H1(t,i),La(),t.memoizedState=null):(e!==null&&Ad(t,null),rv(),La());return At(e,t,a,r),t.child}function Al(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function rw(e,t,r,n,a){var i=m0();return i=i===null?null:{parent:nt._currentValue,pool:i},t.memoizedState={baseLanes:r,cachePool:i},e!==null&&Ad(t,null),rv(),bO(t),e!==null&&zs(e,t,n,!0),t.childLanes=a,null}function Nd(e,t){return t=of({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function nw(e,t,r){return Zi(t,e.child,null,r),e=Nd(t,t.pendingProps),e.flags|=2,hr(t),t.memoizedState=null,e}function G4(e,t,r){var n=t.pendingProps,a=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(me){if(n.mode==="hidden")return e=Nd(t,n),t.lanes=536870912,Al(null,e);if(nv(t),(e=Pe)?(e=XA(e,Lr),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:li!==null?{id:_n,overflow:Sn}:null,retryLane:536870912,hydrationErrors:null},r=cO(e),r.return=t,t.child=r,Rt=t,Pe=null)):e=null,e===null)throw ci(t);return t.lanes=536870912,null}return Nd(t,n)}var i=e.memoizedState;if(i!==null){var o=i.dehydrated;if(nv(t),a)if(t.flags&256)t.flags&=-257,t=nw(e,t,r);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(q(558));else if(at||zs(e,t,r,!1),a=(r&e.childLanes)!==0,at||a){if(n=Oe,n!==null&&(o=ME(n,r),o!==0&&o!==i.retryLane))throw i.retryLane=o,fo(e,o),nr(n,e,o),N0;uf(),t=nw(e,t,r)}else e=i.treeContext,Pe=Wr(o.nextSibling),Rt=t,me=!0,Qa=null,Lr=!1,e!==null&&dO(t,e),t=Nd(t,n),t.flags|=4096;return t}return e=Xn(e.child,{mode:n.mode,children:n.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Rd(e,t){var r=t.ref;if(r===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(q(284));(e===null||e.ref!==r)&&(t.flags|=4194816)}}function cv(e,t,r,n,a){return Xi(t),r=b0(e,t,r,n,void 0,a),n=x0(),e!==null&&!at?(w0(e,t,a),aa(e,t,a)):(me&&n&&d0(t),t.flags|=1,At(e,t,r,a),t.child)}function aw(e,t,r,n,a,i){return Xi(t),t.updateQueue=null,r=wO(t,n,r,a),xO(e),n=x0(),e!==null&&!at?(w0(e,t,i),aa(e,t,i)):(me&&n&&d0(t),t.flags|=1,At(e,t,r,i),t.child)}function iw(e,t,r,n,a){if(Xi(t),t.stateNode===null){var i=Ko,o=r.contextType;typeof o=="object"&&o!==null&&(i=Dt(o)),i=new r(n,i),t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=sv,t.stateNode=i,i._reactInternals=t,i=t.stateNode,i.props=n,i.state=t.memoizedState,i.refs={},g0(t),o=r.contextType,i.context=typeof o=="object"&&o!==null?Dt(o):Ko,i.state=t.memoizedState,o=r.getDerivedStateFromProps,typeof o=="function"&&(Op(t,r,o,n),i.state=t.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(o=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),o!==i.state&&sv.enqueueReplaceState(i,i.state,null),Ll(t,n,i,a),$l(),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308),n=!0}else if(e===null){i=t.stateNode;var s=t.memoizedProps,c=Qi(r,s);i.props=c;var u=i.context,d=r.contextType;o=Ko,typeof d=="object"&&d!==null&&(o=Dt(d));var f=r.getDerivedStateFromProps;d=typeof f=="function"||typeof i.getSnapshotBeforeUpdate=="function",s=t.pendingProps!==s,d||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(s||u!==o)&&J1(t,i,n,o),Pa=!1;var h=t.memoizedState;i.state=h,Ll(t,n,i,a),$l(),u=t.memoizedState,s||h!==u||Pa?(typeof f=="function"&&(Op(t,r,f,n),u=t.memoizedState),(c=Pa||Z1(t,r,c,n,h,u,o))?(d||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=u),i.props=n,i.state=u,i.context=o,n=c):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{i=t.stateNode,ev(e,t),o=t.memoizedProps,d=Qi(r,o),i.props=d,f=t.pendingProps,h=i.context,u=r.contextType,c=Ko,typeof u=="object"&&u!==null&&(c=Dt(u)),s=r.getDerivedStateFromProps,(u=typeof s=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(o!==f||h!==c)&&J1(t,i,n,c),Pa=!1,h=t.memoizedState,i.state=h,Ll(t,n,i,a),$l();var m=t.memoizedState;o!==f||h!==m||Pa||e!==null&&e.dependencies!==null&&Jd(e.dependencies)?(typeof s=="function"&&(Op(t,r,s,n),m=t.memoizedState),(d=Pa||Z1(t,r,d,n,h,m,c)||e!==null&&e.dependencies!==null&&Jd(e.dependencies))?(u||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(n,m,c),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(n,m,c)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=m),i.props=n,i.state=m,i.context=c,n=d):(typeof i.componentDidUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return i=n,Rd(e,t),n=(t.flags&128)!==0,i||n?(i=t.stateNode,r=n&&typeof r.getDerivedStateFromError!="function"?null:i.render(),t.flags|=1,e!==null&&n?(t.child=Zi(t,e.child,null,a),t.child=Zi(t,null,r,a)):At(e,t,r,a),t.memoizedState=i.state,e=t.child):e=aa(e,t,a),e}function ow(e,t,r,n){return Yi(),t.flags|=256,At(e,t,r,n),t.child}var Ap={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function kp(e){return{baseLanes:e,cachePool:hO()}}function Tp(e,t,r){return e=e!==null?e.childLanes&~r:0,t&&(e|=yr),e}function iA(e,t,r){var n=t.pendingProps,a=!1,i=(t.flags&128)!==0,o;if((o=i)||(o=e!==null&&e.memoizedState===null?!1:(Ge.current&2)!==0),o&&(a=!0,t.flags&=-129),o=(t.flags&32)!==0,t.flags&=-33,e===null){if(me){if(a?$a(t):La(),(e=Pe)?(e=XA(e,Lr),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:li!==null?{id:_n,overflow:Sn}:null,retryLane:536870912,hydrationErrors:null},r=cO(e),r.return=t,t.child=r,Rt=t,Pe=null)):e=null,e===null)throw ci(t);return Sv(e)?t.lanes=32:t.lanes=536870912,null}var s=n.children;return n=n.fallback,a?(La(),a=t.mode,s=of({mode:"hidden",children:s},a),n=Ui(n,a,r,null),s.return=t,n.return=t,s.sibling=n,t.child=s,n=t.child,n.memoizedState=kp(r),n.childLanes=Tp(e,o,r),t.memoizedState=Ap,Al(null,n)):($a(t),uv(t,s))}var c=e.memoizedState;if(c!==null&&(s=c.dehydrated,s!==null)){if(i)t.flags&256?($a(t),t.flags&=-257,t=Np(e,t,r)):t.memoizedState!==null?(La(),t.child=e.child,t.flags|=128,t=null):(La(),s=n.fallback,a=t.mode,n=of({mode:"visible",children:n.children},a),s=Ui(s,a,r,null),s.flags|=2,n.return=t,s.return=t,n.sibling=s,t.child=n,Zi(t,e.child,null,r),n=t.child,n.memoizedState=kp(r),n.childLanes=Tp(e,o,r),t.memoizedState=Ap,t=Al(null,n));else if($a(t),Sv(s)){if(o=s.nextSibling&&s.nextSibling.dataset,o)var u=o.dgst;o=u,n=Error(q(419)),n.stack="",n.digest=o,oc({value:n,source:null,stack:null}),t=Np(e,t,r)}else if(at||zs(e,t,r,!1),o=(r&e.childLanes)!==0,at||o){if(o=Oe,o!==null&&(n=ME(o,r),n!==0&&n!==c.retryLane))throw c.retryLane=n,fo(e,n),nr(o,e,n),N0;_v(s)||uf(),t=Np(e,t,r)}else _v(s)?(t.flags|=192,t.child=e.child,t=null):(e=c.treeContext,Pe=Wr(s.nextSibling),Rt=t,me=!0,Qa=null,Lr=!1,e!==null&&dO(t,e),t=uv(t,n.children),t.flags|=4096);return t}return a?(La(),s=n.fallback,a=t.mode,c=e.child,u=c.sibling,n=Xn(c,{mode:"hidden",children:n.children}),n.subtreeFlags=c.subtreeFlags&65011712,u!==null?s=Xn(u,s):(s=Ui(s,a,r,null),s.flags|=2),s.return=t,n.return=t,n.sibling=s,t.child=n,Al(null,n),n=t.child,s=e.child.memoizedState,s===null?s=kp(r):(a=s.cachePool,a!==null?(c=nt._currentValue,a=a.parent!==c?{parent:c,pool:c}:a):a=hO(),s={baseLanes:s.baseLanes|r,cachePool:a}),n.memoizedState=s,n.childLanes=Tp(e,o,r),t.memoizedState=Ap,Al(e.child,n)):($a(t),r=e.child,e=r.sibling,r=Xn(r,{mode:"visible",children:n.children}),r.return=t,r.sibling=null,e!==null&&(o=t.deletions,o===null?(t.deletions=[e],t.flags|=16):o.push(e)),t.child=r,t.memoizedState=null,r)}function uv(e,t){return t=of({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function of(e,t){return e=mr(22,e,null,t),e.lanes=0,e}function Np(e,t,r){return Zi(t,e.child,null,r),e=uv(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function sw(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Zg(e.return,t,r)}function Rp(e,t,r,n,a,i){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a,treeForkCount:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=n,o.tail=r,o.tailMode=a,o.treeForkCount=i)}function oA(e,t,r){var n=t.pendingProps,a=n.revealOrder,i=n.tail;n=n.children;var o=Ge.current,s=(o&2)!==0;if(s?(o=o&1|2,t.flags|=128):o&=1,Ne(Ge,o),At(e,t,n,r),n=me?ic:0,!s&&e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&sw(e,r,t);else if(e.tag===19)sw(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&tf(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),Rp(t,!1,a,r,i,n);break;case"backwards":case"unstable_legacy-backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&tf(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}Rp(t,!0,r,null,i,n);break;case"together":Rp(t,!1,null,null,void 0,n);break;default:t.memoizedState=null}return t.child}function aa(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),di|=t.lanes,!(r&t.childLanes))if(e!==null){if(zs(e,t,r,!1),(r&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(q(153));if(t.child!==null){for(e=t.child,r=Xn(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Xn(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function R0(e,t){return e.lanes&t?!0:(e=e.dependencies,!!(e!==null&&Jd(e)))}function Y4(e,t,r){switch(t.tag){case 3:Fd(t,t.stateNode.containerInfo),Ia(t,nt,e.memoizedState.cache),Yi();break;case 27:case 5:Ig(t);break;case 4:Fd(t,t.stateNode.containerInfo);break;case 10:Ia(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,nv(t),null;break;case 13:var n=t.memoizedState;if(n!==null)return n.dehydrated!==null?($a(t),t.flags|=128,null):r&t.child.childLanes?iA(e,t,r):($a(t),e=aa(e,t,r),e!==null?e.sibling:null);$a(t);break;case 19:var a=(e.flags&128)!==0;if(n=(r&t.childLanes)!==0,n||(zs(e,t,r,!1),n=(r&t.childLanes)!==0),a){if(n)return oA(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),Ne(Ge,Ge.current),n)break;return null;case 22:return t.lanes=0,aA(e,t,r,t.pendingProps);case 24:Ia(t,nt,e.memoizedState.cache)}return aa(e,t,r)}function sA(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps)at=!0;else{if(!R0(e,r)&&!(t.flags&128))return at=!1,Y4(e,t,r);at=!!(e.flags&131072)}else at=!1,me&&t.flags&1048576&&uO(t,ic,t.index);switch(t.lanes=0,t.tag){case 16:e:{var n=t.pendingProps;if(e=Oi(t.elementType),t.type=e,typeof e=="function")u0(e)?(n=Qi(e,n),t.tag=1,t=iw(null,t,e,n,r)):(t.tag=0,t=cv(null,t,e,n,r));else{if(e!=null){var a=e.$$typeof;if(a===Xy){t.tag=11,t=ew(null,t,e,n,r);break e}else if(a===Zy){t.tag=14,t=tw(null,t,e,n,r);break e}}throw t=zg(e)||e,Error(q(306,t,""))}}return t;case 0:return cv(e,t,t.type,t.pendingProps,r);case 1:return n=t.type,a=Qi(n,t.pendingProps),iw(e,t,n,a,r);case 3:e:{if(Fd(t,t.stateNode.containerInfo),e===null)throw Error(q(387));n=t.pendingProps;var i=t.memoizedState;a=i.element,ev(e,t),Ll(t,n,null,r);var o=t.memoizedState;if(n=o.cache,Ia(t,nt,n),n!==i.cache&&Jg(t,[nt],r,!0),$l(),n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){t=ow(e,t,n,r);break e}else if(n!==a){a=$r(Error(q(424)),t),oc(a),t=ow(e,t,n,r);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Pe=Wr(e.firstChild),Rt=t,me=!0,Qa=null,Lr=!0,r=gO(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(Yi(),n===a){t=aa(e,t,r);break e}At(e,t,n,r)}t=t.child}return t;case 26:return Rd(e,t),e===null?(r=Ow(t.type,null,t.pendingProps,null))?t.memoizedState=r:me||(r=t.type,e=t.pendingProps,n=mf(Ja.current).createElement(r),n[Nt]=t,n[ar]=e,Mt(n,r,e),wt(n),t.stateNode=n):t.memoizedState=Ow(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Ig(t),e===null&&me&&(n=t.stateNode=ZA(t.type,t.pendingProps,Ja.current),Rt=t,Lr=!0,a=Pe,gi(t.type)?(jv=a,Pe=Wr(n.firstChild)):Pe=a),At(e,t,t.pendingProps.children,r),Rd(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&me&&((a=n=Pe)&&(n=Cz(n,t.type,t.pendingProps,Lr),n!==null?(t.stateNode=n,Rt=t,Pe=Wr(n.firstChild),Lr=!1,a=!0):a=!1),a||ci(t)),Ig(t),a=t.type,i=t.pendingProps,o=e!==null?e.memoizedProps:null,n=i.children,xv(a,i)?n=null:o!==null&&xv(a,o)&&(t.flags|=32),t.memoizedState!==null&&(a=b0(e,t,L4,null,null,r),fc._currentValue=a),Rd(e,t),At(e,t,n,r),t.child;case 6:return e===null&&me&&((e=r=Pe)&&(r=Ez(r,t.pendingProps,Lr),r!==null?(t.stateNode=r,Rt=t,Pe=null,e=!0):e=!1),e||ci(t)),null;case 13:return iA(e,t,r);case 4:return Fd(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Zi(t,null,n,r):At(e,t,n,r),t.child;case 11:return ew(e,t,t.type,t.pendingProps,r);case 7:return At(e,t,t.pendingProps,r),t.child;case 8:return At(e,t,t.pendingProps.children,r),t.child;case 12:return At(e,t,t.pendingProps.children,r),t.child;case 10:return n=t.pendingProps,Ia(t,t.type,n.value),At(e,t,n.children,r),t.child;case 9:return a=t.type._context,n=t.pendingProps.children,Xi(t),a=Dt(a),n=n(a),t.flags|=1,At(e,t,n,r),t.child;case 14:return tw(e,t,t.type,t.pendingProps,r);case 15:return nA(e,t,t.type,t.pendingProps,r);case 19:return oA(e,t,r);case 31:return G4(e,t,r);case 22:return aA(e,t,r,t.pendingProps);case 24:return Xi(t),n=Dt(nt),e===null?(a=m0(),a===null&&(a=Oe,i=h0(),a.pooledCache=i,i.refCount++,i!==null&&(a.pooledCacheLanes|=r),a=i),t.memoizedState={parent:n,cache:a},g0(t),Ia(t,nt,a)):(e.lanes&r&&(ev(e,t),Ll(t,null,null,r),$l()),a=e.memoizedState,i=t.memoizedState,a.parent!==n?(a={parent:n,cache:n},t.memoizedState=a,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=a),Ia(t,nt,n)):(n=i.cache,Ia(t,nt,n),n!==a.cache&&Jg(t,[nt],r,!0))),At(e,t,t.pendingProps.children,r),t.child;case 29:throw t.pendingProps}throw Error(q(156,t.tag))}function Mn(e){e.flags|=4}function Dp(e,t,r,n,a){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(a&335544128)===a)if(e.stateNode.complete)e.flags|=8192;else if(NA())e.flags|=8192;else throw Wi=Qd,p0}else e.flags&=-16777217}function lw(e,t){if(t.type!=="stylesheet"||t.state.loading&4)e.flags&=-16777217;else if(e.flags|=16777216,!e2(t))if(NA())e.flags|=8192;else throw Wi=Qd,p0}function Uu(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?RE():536870912,e.lanes|=t,gs|=t)}function ml(e,t){if(!me)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Re(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&65011712,n|=a.flags&65011712,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function X4(e,t,r){var n=t.pendingProps;switch(f0(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Re(t),null;case 1:return Re(t),null;case 3:return r=t.stateNode,n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),Zn(nt),us(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(So(t)?Mn(t):e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,jp())),Re(t),null;case 26:var a=t.type,i=t.memoizedState;return e===null?(Mn(t),i!==null?(Re(t),lw(t,i)):(Re(t),Dp(t,a,null,n,r))):i?i!==e.memoizedState?(Mn(t),Re(t),lw(t,i)):(Re(t),t.flags&=-16777217):(e=e.memoizedProps,e!==n&&Mn(t),Re(t),Dp(t,a,e,n,r)),null;case 27:if(Vd(t),r=Ja.current,a=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==n&&Mn(t);else{if(!n){if(t.stateNode===null)throw Error(q(166));return Re(t),null}e=En.current,So(t)?B1(t):(e=ZA(a,n,r),t.stateNode=e,Mn(t))}return Re(t),null;case 5:if(Vd(t),a=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==n&&Mn(t);else{if(!n){if(t.stateNode===null)throw Error(q(166));return Re(t),null}if(i=En.current,So(t))B1(t);else{var o=mf(Ja.current);switch(i){case 1:i=o.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:i=o.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":i=o.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":i=o.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":i=o.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof n.is=="string"?o.createElement("select",{is:n.is}):o.createElement("select"),n.multiple?i.multiple=!0:n.size&&(i.size=n.size);break;default:i=typeof n.is=="string"?o.createElement(a,{is:n.is}):o.createElement(a)}}i[Nt]=t,i[ar]=n;e:for(o=t.child;o!==null;){if(o.tag===5||o.tag===6)i.appendChild(o.stateNode);else if(o.tag!==4&&o.tag!==27&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===t)break e;for(;o.sibling===null;){if(o.return===null||o.return===t)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}t.stateNode=i;e:switch(Mt(i,a,n),a){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&Mn(t)}}return Re(t),Dp(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,r),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==n&&Mn(t);else{if(typeof n!="string"&&t.stateNode===null)throw Error(q(166));if(e=Ja.current,So(t)){if(e=t.stateNode,r=t.memoizedProps,n=null,a=Rt,a!==null)switch(a.tag){case 27:case 5:n=a.memoizedProps}e[Nt]=t,e=!!(e.nodeValue===r||n!==null&&n.suppressHydrationWarning===!0||KA(e.nodeValue,r)),e||ci(t,!0)}else e=mf(e).createTextNode(n),e[Nt]=t,t.stateNode=e}return Re(t),null;case 31:if(r=t.memoizedState,e===null||e.memoizedState!==null){if(n=So(t),r!==null){if(e===null){if(!n)throw Error(q(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(q(557));e[Nt]=t}else Yi(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Re(t),e=!1}else r=jp(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=r),e=!0;if(!e)return t.flags&256?(hr(t),t):(hr(t),null);if(t.flags&128)throw Error(q(558))}return Re(t),null;case 13:if(n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(a=So(t),n!==null&&n.dehydrated!==null){if(e===null){if(!a)throw Error(q(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(q(317));a[Nt]=t}else Yi(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Re(t),a=!1}else a=jp(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),a=!0;if(!a)return t.flags&256?(hr(t),t):(hr(t),null)}return hr(t),t.flags&128?(t.lanes=r,t):(r=n!==null,e=e!==null&&e.memoizedState!==null,r&&(n=t.child,a=null,n.alternate!==null&&n.alternate.memoizedState!==null&&n.alternate.memoizedState.cachePool!==null&&(a=n.alternate.memoizedState.cachePool.pool),i=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(i=n.memoizedState.cachePool.pool),i!==a&&(n.flags|=2048)),r!==e&&r&&(t.child.flags|=8192),Uu(t,t.updateQueue),Re(t),null);case 4:return us(),e===null&&$0(t.stateNode.containerInfo),Re(t),null;case 10:return Zn(t.type),Re(t),null;case 19:if(_t(Ge),n=t.memoizedState,n===null)return Re(t),null;if(a=(t.flags&128)!==0,i=n.rendering,i===null)if(a)ml(n,!1);else{if(Fe!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=tf(e),i!==null){for(t.flags|=128,ml(n,!1),e=i.updateQueue,t.updateQueue=e,Uu(t,e),t.subtreeFlags=0,e=r,r=t.child;r!==null;)lO(r,e),r=r.sibling;return Ne(Ge,Ge.current&1|2),me&&Ln(t,n.treeForkCount),t.child}e=e.sibling}n.tail!==null&&xr()>lf&&(t.flags|=128,a=!0,ml(n,!1),t.lanes=4194304)}else{if(!a)if(e=tf(i),e!==null){if(t.flags|=128,a=!0,e=e.updateQueue,t.updateQueue=e,Uu(t,e),ml(n,!0),n.tail===null&&n.tailMode==="hidden"&&!i.alternate&&!me)return Re(t),null}else 2*xr()-n.renderingStartTime>lf&&r!==536870912&&(t.flags|=128,a=!0,ml(n,!1),t.lanes=4194304);n.isBackwards?(i.sibling=t.child,t.child=i):(e=n.last,e!==null?e.sibling=i:t.child=i,n.last=i)}return n.tail!==null?(e=n.tail,n.rendering=e,n.tail=e.sibling,n.renderingStartTime=xr(),e.sibling=null,r=Ge.current,Ne(Ge,a?r&1|2:r&1),me&&Ln(t,n.treeForkCount),e):(Re(t),null);case 22:case 23:return hr(t),v0(),n=t.memoizedState!==null,e!==null?e.memoizedState!==null!==n&&(t.flags|=8192):n&&(t.flags|=8192),n?r&536870912&&!(t.flags&128)&&(Re(t),t.subtreeFlags&6&&(t.flags|=8192)):Re(t),r=t.updateQueue,r!==null&&Uu(t,r.retryQueue),r=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),n=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),n!==r&&(t.flags|=2048),e!==null&&_t(qi),null;case 24:return r=null,e!==null&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),Zn(nt),Re(t),null;case 25:return null;case 30:return null}throw Error(q(156,t.tag))}function Z4(e,t){switch(f0(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Zn(nt),us(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Vd(t),null;case 31:if(t.memoizedState!==null){if(hr(t),t.alternate===null)throw Error(q(340));Yi()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(hr(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(q(340));Yi()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return _t(Ge),null;case 4:return us(),null;case 10:return Zn(t.type),null;case 22:case 23:return hr(t),v0(),e!==null&&_t(qi),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Zn(nt),null;case 25:return null;default:return null}}function lA(e,t){switch(f0(t),t.tag){case 3:Zn(nt),us();break;case 26:case 27:case 5:Vd(t);break;case 4:us();break;case 31:t.memoizedState!==null&&hr(t);break;case 13:hr(t);break;case 19:_t(Ge);break;case 10:Zn(t.type);break;case 22:case 23:hr(t),v0(),e!==null&&_t(qi);break;case 24:Zn(nt)}}function Vc(e,t){try{var r=t.updateQueue,n=r!==null?r.lastEffect:null;if(n!==null){var a=n.next;r=a;do{if((r.tag&e)===e){n=void 0;var i=r.create,o=r.inst;n=i(),o.destroy=n}r=r.next}while(r!==a)}}catch(s){we(t,t.return,s)}}function ui(e,t,r){try{var n=t.updateQueue,a=n!==null?n.lastEffect:null;if(a!==null){var i=a.next;n=i;do{if((n.tag&e)===e){var o=n.inst,s=o.destroy;if(s!==void 0){o.destroy=void 0,a=t;var c=r,u=s;try{u()}catch(d){we(a,c,d)}}}n=n.next}while(n!==i)}}catch(d){we(t,t.return,d)}}function cA(e){var t=e.updateQueue;if(t!==null){var r=e.stateNode;try{yO(t,r)}catch(n){we(e,e.return,n)}}}function uA(e,t,r){r.props=Qi(e.type,e.memoizedProps),r.state=e.memoizedState;try{r.componentWillUnmount()}catch(n){we(e,t,n)}}function ql(e,t){try{var r=e.ref;if(r!==null){switch(e.tag){case 26:case 27:case 5:var n=e.stateNode;break;case 30:n=e.stateNode;break;default:n=e.stateNode}typeof r=="function"?e.refCleanup=r(n):r.current=n}}catch(a){we(e,t,a)}}function jn(e,t){var r=e.ref,n=e.refCleanup;if(r!==null)if(typeof n=="function")try{n()}catch(a){we(e,t,a)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(a){we(e,t,a)}else r.current=null}function dA(e){var t=e.type,r=e.memoizedProps,n=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":r.autoFocus&&n.focus();break e;case"img":r.src?n.src=r.src:r.srcSet&&(n.srcset=r.srcSet)}}catch(a){we(e,e.return,a)}}function Pp(e,t,r){try{var n=e.stateNode;bz(n,e.type,r,t),n[ar]=t}catch(a){we(e,e.return,a)}}function fA(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&gi(e.type)||e.tag===4}function Mp(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||fA(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&gi(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function dv(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(e,t):(t=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,t.appendChild(e),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Vn));else if(n!==4&&(n===27&&gi(e.type)&&(r=e.stateNode,t=null),e=e.child,e!==null))for(dv(e,t,r),e=e.sibling;e!==null;)dv(e,t,r),e=e.sibling}function sf(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(n===27&&gi(e.type)&&(r=e.stateNode),e=e.child,e!==null))for(sf(e,t,r),e=e.sibling;e!==null;)sf(e,t,r),e=e.sibling}function hA(e){var t=e.stateNode,r=e.memoizedProps;try{for(var n=e.type,a=t.attributes;a.length;)t.removeAttributeNode(a[0]);Mt(t,n,r),t[Nt]=e,t[ar]=r}catch(i){we(e,e.return,i)}}var qn=!1,rt=!1,zp=!1,cw=typeof WeakSet=="function"?WeakSet:Set,bt=null;function J4(e,t){if(e=e.containerInfo,yv=yf,e=eO(e),s0(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,s=-1,c=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var m;f!==r||a!==0&&f.nodeType!==3||(s=o+a),f!==i||n!==0&&f.nodeType!==3||(c=o+n),f.nodeType===3&&(o+=f.nodeValue.length),(m=f.firstChild)!==null;)h=f,f=m;for(;;){if(f===e)break t;if(h===r&&++u===a&&(s=o),h===i&&++d===n&&(c=o),(m=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=m}r=s===-1||c===-1?null:{start:s,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(bv={focusedElem:e,selectionRange:r},yf=!1,bt=t;bt!==null;)if(t=bt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,bt=e;else for(;bt!==null;){switch(t=bt,i=t.alternate,e=t.flags,t.tag){case 0:if(e&4&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(r=0;r<e.length;r++)a=e[r],a.ref.impl=a.nextImpl;break;case 11:case 15:break;case 1:if(e&1024&&i!==null){e=void 0,r=t,a=i.memoizedProps,i=i.memoizedState,n=r.stateNode;try{var v=Qi(r.type,a);e=n.getSnapshotBeforeUpdate(v,i),n.__reactInternalSnapshotBeforeUpdate=e}catch(x){we(r,r.return,x)}}break;case 3:if(e&1024){if(e=t.stateNode.containerInfo,r=e.nodeType,r===9)wv(e);else if(r===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":wv(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(e&1024)throw Error(q(163))}if(e=t.sibling,e!==null){e.return=t.return,bt=e;break}bt=t.return}}function mA(e,t,r){var n=r.flags;switch(r.tag){case 0:case 11:case 15:Bn(e,r),n&4&&Vc(5,r);break;case 1:if(Bn(e,r),n&4)if(e=r.stateNode,t===null)try{e.componentDidMount()}catch(o){we(r,r.return,o)}else{var a=Qi(r.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(a,t,e.__reactInternalSnapshotBeforeUpdate)}catch(o){we(r,r.return,o)}}n&64&&cA(r),n&512&&ql(r,r.return);break;case 3:if(Bn(e,r),n&64&&(e=r.updateQueue,e!==null)){if(t=null,r.child!==null)switch(r.child.tag){case 27:case 5:t=r.child.stateNode;break;case 1:t=r.child.stateNode}try{yO(e,t)}catch(o){we(r,r.return,o)}}break;case 27:t===null&&n&4&&hA(r);case 26:case 5:Bn(e,r),t===null&&n&4&&dA(r),n&512&&ql(r,r.return);break;case 12:Bn(e,r);break;case 31:Bn(e,r),n&4&&vA(e,r);break;case 13:Bn(e,r),n&4&&yA(e,r),n&64&&(e=r.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(r=sz.bind(null,r),Oz(e,r))));break;case 22:if(n=r.memoizedState!==null||qn,!n){t=t!==null&&t.memoizedState!==null||rt,a=qn;var i=rt;qn=n,(rt=t)&&!i?In(e,r,(r.subtreeFlags&8772)!==0):Bn(e,r),qn=a,rt=i}break;case 30:break;default:Bn(e,r)}}function pA(e){var t=e.alternate;t!==null&&(e.alternate=null,pA(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&t0(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Ie=null,Qt=!1;function zn(e,t,r){for(r=r.child;r!==null;)gA(e,t,r),r=r.sibling}function gA(e,t,r){if(wr&&typeof wr.onCommitFiberUnmount=="function")try{wr.onCommitFiberUnmount($c,r)}catch{}switch(r.tag){case 26:rt||jn(r,t),zn(e,t,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:rt||jn(r,t);var n=Ie,a=Qt;gi(r.type)&&(Ie=r.stateNode,Qt=!1),zn(e,t,r),Vl(r.stateNode),Ie=n,Qt=a;break;case 5:rt||jn(r,t);case 6:if(n=Ie,a=Qt,Ie=null,zn(e,t,r),Ie=n,Qt=a,Ie!==null)if(Qt)try{(Ie.nodeType===9?Ie.body:Ie.nodeName==="HTML"?Ie.ownerDocument.body:Ie).removeChild(r.stateNode)}catch(i){we(r,t,i)}else try{Ie.removeChild(r.stateNode)}catch(i){we(r,t,i)}break;case 18:Ie!==null&&(Qt?(e=Ie,_w(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,r.stateNode),xs(e)):_w(Ie,r.stateNode));break;case 4:n=Ie,a=Qt,Ie=r.stateNode.containerInfo,Qt=!0,zn(e,t,r),Ie=n,Qt=a;break;case 0:case 11:case 14:case 15:ui(2,r,t),rt||ui(4,r,t),zn(e,t,r);break;case 1:rt||(jn(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"&&uA(r,t,n)),zn(e,t,r);break;case 21:zn(e,t,r);break;case 22:rt=(n=rt)||r.memoizedState!==null,zn(e,t,r),rt=n;break;default:zn(e,t,r)}}function vA(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{xs(e)}catch(r){we(t,t.return,r)}}}function yA(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{xs(e)}catch(r){we(t,t.return,r)}}function Q4(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new cw),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new cw),t;default:throw Error(q(435,e.tag))}}function qu(e,t){var r=Q4(e);t.forEach(function(n){if(!r.has(n)){r.add(n);var a=lz.bind(null,e,n);n.then(a,a)}})}function Zt(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n],i=e,o=t,s=o;e:for(;s!==null;){switch(s.tag){case 27:if(gi(s.type)){Ie=s.stateNode,Qt=!1;break e}break;case 5:Ie=s.stateNode,Qt=!1;break e;case 3:case 4:Ie=s.stateNode.containerInfo,Qt=!0;break e}s=s.return}if(Ie===null)throw Error(q(160));gA(i,o,a),Ie=null,Qt=!1,i=a.alternate,i!==null&&(i.return=null),a.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)bA(t,e),t=t.sibling}var tn=null;function bA(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Zt(t,e),Jt(e),n&4&&(ui(3,e,e.return),Vc(3,e),ui(5,e,e.return));break;case 1:Zt(t,e),Jt(e),n&512&&(rt||r===null||jn(r,r.return)),n&64&&qn&&(e=e.updateQueue,e!==null&&(n=e.callbacks,n!==null&&(r=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=r===null?n:r.concat(n))));break;case 26:var a=tn;if(Zt(t,e),Jt(e),n&512&&(rt||r===null||jn(r,r.return)),n&4){var i=r!==null?r.memoizedState:null;if(n=e.memoizedState,r===null)if(n===null)if(e.stateNode===null){e:{n=e.type,r=e.memoizedProps,a=a.ownerDocument||a;t:switch(n){case"title":i=a.getElementsByTagName("title")[0],(!i||i[qc]||i[Nt]||i.namespaceURI==="http://www.w3.org/2000/svg"||i.hasAttribute("itemprop"))&&(i=a.createElement(n),a.head.insertBefore(i,a.querySelector("head > title"))),Mt(i,n,r),i[Nt]=e,wt(i),n=i;break e;case"link":var o=kw("link","href",a).get(n+(r.href||""));if(o){for(var s=0;s<o.length;s++)if(i=o[s],i.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&i.getAttribute("rel")===(r.rel==null?null:r.rel)&&i.getAttribute("title")===(r.title==null?null:r.title)&&i.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){o.splice(s,1);break t}}i=a.createElement(n),Mt(i,n,r),a.head.appendChild(i);break;case"meta":if(o=kw("meta","content",a).get(n+(r.content||""))){for(s=0;s<o.length;s++)if(i=o[s],i.getAttribute("content")===(r.content==null?null:""+r.content)&&i.getAttribute("name")===(r.name==null?null:r.name)&&i.getAttribute("property")===(r.property==null?null:r.property)&&i.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&i.getAttribute("charset")===(r.charSet==null?null:r.charSet)){o.splice(s,1);break t}}i=a.createElement(n),Mt(i,n,r),a.head.appendChild(i);break;default:throw Error(q(468,n))}i[Nt]=e,wt(i),n=i}e.stateNode=n}else Tw(a,e.type,e.stateNode);else e.stateNode=Aw(a,n,e.memoizedProps);else i!==n?(i===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):i.count--,n===null?Tw(a,e.type,e.stateNode):Aw(a,n,e.memoizedProps)):n===null&&e.stateNode!==null&&Pp(e,e.memoizedProps,r.memoizedProps)}break;case 27:Zt(t,e),Jt(e),n&512&&(rt||r===null||jn(r,r.return)),r!==null&&n&4&&Pp(e,e.memoizedProps,r.memoizedProps);break;case 5:if(Zt(t,e),Jt(e),n&512&&(rt||r===null||jn(r,r.return)),e.flags&32){a=e.stateNode;try{fs(a,"")}catch(v){we(e,e.return,v)}}n&4&&e.stateNode!=null&&(a=e.memoizedProps,Pp(e,a,r!==null?r.memoizedProps:a)),n&1024&&(zp=!0);break;case 6:if(Zt(t,e),Jt(e),n&4){if(e.stateNode===null)throw Error(q(162));n=e.memoizedProps,r=e.stateNode;try{r.nodeValue=n}catch(v){we(e,e.return,v)}}break;case 3:if(Md=null,a=tn,tn=pf(t.containerInfo),Zt(t,e),tn=a,Jt(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{xs(t.containerInfo)}catch(v){we(e,e.return,v)}zp&&(zp=!1,xA(e));break;case 4:n=tn,tn=pf(e.stateNode.containerInfo),Zt(t,e),Jt(e),tn=n;break;case 12:Zt(t,e),Jt(e);break;case 31:Zt(t,e),Jt(e),n&4&&(n=e.updateQueue,n!==null&&(e.updateQueue=null,qu(e,n)));break;case 13:Zt(t,e),Jt(e),e.child.flags&8192&&e.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(Ih=xr()),n&4&&(n=e.updateQueue,n!==null&&(e.updateQueue=null,qu(e,n)));break;case 22:a=e.memoizedState!==null;var c=r!==null&&r.memoizedState!==null,u=qn,d=rt;if(qn=u||a,rt=d||c,Zt(t,e),rt=d,qn=u,Jt(e),n&8192)e:for(t=e.stateNode,t._visibility=a?t._visibility&-2:t._visibility|1,a&&(r===null||c||qn||rt||Ai(e)),r=null,t=e;;){if(t.tag===5||t.tag===26){if(r===null){c=r=t;try{if(i=c.stateNode,a)o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none";else{s=c.stateNode;var f=c.memoizedProps.style,h=f!=null&&f.hasOwnProperty("display")?f.display:null;s.style.display=h==null||typeof h=="boolean"?"":(""+h).trim()}}catch(v){we(c,c.return,v)}}}else if(t.tag===6){if(r===null){c=t;try{c.stateNode.nodeValue=a?"":c.memoizedProps}catch(v){we(c,c.return,v)}}}else if(t.tag===18){if(r===null){c=t;try{var m=c.stateNode;a?Sw(m,!0):Sw(c.stateNode,!1)}catch(v){we(c,c.return,v)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;r===t&&(r=null),t=t.return}r===t&&(r=null),t.sibling.return=t.return,t=t.sibling}n&4&&(n=e.updateQueue,n!==null&&(r=n.retryQueue,r!==null&&(n.retryQueue=null,qu(e,r))));break;case 19:Zt(t,e),Jt(e),n&4&&(n=e.updateQueue,n!==null&&(e.updateQueue=null,qu(e,n)));break;case 30:break;case 21:break;default:Zt(t,e),Jt(e)}}function Jt(e){var t=e.flags;if(t&2){try{for(var r,n=e.return;n!==null;){if(fA(n)){r=n;break}n=n.return}if(r==null)throw Error(q(160));switch(r.tag){case 27:var a=r.stateNode,i=Mp(e);sf(e,i,a);break;case 5:var o=r.stateNode;r.flags&32&&(fs(o,""),r.flags&=-33);var s=Mp(e);sf(e,s,o);break;case 3:case 4:var c=r.stateNode.containerInfo,u=Mp(e);dv(e,u,c);break;default:throw Error(q(161))}}catch(d){we(e,e.return,d)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function xA(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;xA(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Bn(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)mA(e,t.alternate,t),t=t.sibling}function Ai(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:ui(4,t,t.return),Ai(t);break;case 1:jn(t,t.return);var r=t.stateNode;typeof r.componentWillUnmount=="function"&&uA(t,t.return,r),Ai(t);break;case 27:Vl(t.stateNode);case 26:case 5:jn(t,t.return),Ai(t);break;case 22:t.memoizedState===null&&Ai(t);break;case 30:Ai(t);break;default:Ai(t)}e=e.sibling}}function In(e,t,r){for(r=r&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var n=t.alternate,a=e,i=t,o=i.flags;switch(i.tag){case 0:case 11:case 15:In(a,i,r),Vc(4,i);break;case 1:if(In(a,i,r),n=i,a=n.stateNode,typeof a.componentDidMount=="function")try{a.componentDidMount()}catch(u){we(n,n.return,u)}if(n=i,a=n.updateQueue,a!==null){var s=n.stateNode;try{var c=a.shared.hiddenCallbacks;if(c!==null)for(a.shared.hiddenCallbacks=null,a=0;a<c.length;a++)vO(c[a],s)}catch(u){we(n,n.return,u)}}r&&o&64&&cA(i),ql(i,i.return);break;case 27:hA(i);case 26:case 5:In(a,i,r),r&&n===null&&o&4&&dA(i),ql(i,i.return);break;case 12:In(a,i,r);break;case 31:In(a,i,r),r&&o&4&&vA(a,i);break;case 13:In(a,i,r),r&&o&4&&yA(a,i);break;case 22:i.memoizedState===null&&In(a,i,r),ql(i,i.return);break;case 30:break;default:In(a,i,r)}t=t.sibling}}function D0(e,t){var r=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==r&&(e!=null&&e.refCount++,r!=null&&Hc(r))}function P0(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Hc(e))}function Zr(e,t,r,n){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)wA(e,t,r,n),t=t.sibling}function wA(e,t,r,n){var a=t.flags;switch(t.tag){case 0:case 11:case 15:Zr(e,t,r,n),a&2048&&Vc(9,t);break;case 1:Zr(e,t,r,n);break;case 3:Zr(e,t,r,n),a&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Hc(e)));break;case 12:if(a&2048){Zr(e,t,r,n),e=t.stateNode;try{var i=t.memoizedProps,o=i.id,s=i.onPostCommit;typeof s=="function"&&s(o,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(c){we(t,t.return,c)}}else Zr(e,t,r,n);break;case 31:Zr(e,t,r,n);break;case 13:Zr(e,t,r,n);break;case 23:break;case 22:i=t.stateNode,o=t.alternate,t.memoizedState!==null?i._visibility&2?Zr(e,t,r,n):Wl(e,t):i._visibility&2?Zr(e,t,r,n):(i._visibility|=2,Po(e,t,r,n,(t.subtreeFlags&10256)!==0||!1)),a&2048&&D0(o,t);break;case 24:Zr(e,t,r,n),a&2048&&P0(t.alternate,t);break;default:Zr(e,t,r,n)}}function Po(e,t,r,n,a){for(a=a&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var i=e,o=t,s=r,c=n,u=o.flags;switch(o.tag){case 0:case 11:case 15:Po(i,o,s,c,a),Vc(8,o);break;case 23:break;case 22:var d=o.stateNode;o.memoizedState!==null?d._visibility&2?Po(i,o,s,c,a):Wl(i,o):(d._visibility|=2,Po(i,o,s,c,a)),a&&u&2048&&D0(o.alternate,o);break;case 24:Po(i,o,s,c,a),a&&u&2048&&P0(o.alternate,o);break;default:Po(i,o,s,c,a)}t=t.sibling}}function Wl(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var r=e,n=t,a=n.flags;switch(n.tag){case 22:Wl(r,n),a&2048&&D0(n.alternate,n);break;case 24:Wl(r,n),a&2048&&P0(n.alternate,n);break;default:Wl(r,n)}t=t.sibling}}var kl=8192;function jo(e,t,r){if(e.subtreeFlags&kl)for(e=e.child;e!==null;)_A(e,t,r),e=e.sibling}function _A(e,t,r){switch(e.tag){case 26:jo(e,t,r),e.flags&kl&&e.memoizedState!==null&&$z(r,tn,e.memoizedState,e.memoizedProps);break;case 5:jo(e,t,r);break;case 3:case 4:var n=tn;tn=pf(e.stateNode.containerInfo),jo(e,t,r),tn=n;break;case 22:e.memoizedState===null&&(n=e.alternate,n!==null&&n.memoizedState!==null?(n=kl,kl=16777216,jo(e,t,r),kl=n):jo(e,t,r));break;default:jo(e,t,r)}}function SA(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function pl(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var r=0;r<t.length;r++){var n=t[r];bt=n,CA(n,e)}SA(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)jA(e),e=e.sibling}function jA(e){switch(e.tag){case 0:case 11:case 15:pl(e),e.flags&2048&&ui(9,e,e.return);break;case 3:pl(e);break;case 12:pl(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Dd(e)):pl(e);break;default:pl(e)}}function Dd(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var r=0;r<t.length;r++){var n=t[r];bt=n,CA(n,e)}SA(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:ui(8,t,t.return),Dd(t);break;case 22:r=t.stateNode,r._visibility&2&&(r._visibility&=-3,Dd(t));break;default:Dd(t)}e=e.sibling}}function CA(e,t){for(;bt!==null;){var r=bt;switch(r.tag){case 0:case 11:case 15:ui(8,r,t);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var n=r.memoizedState.cachePool.pool;n!=null&&n.refCount++}break;case 24:Hc(r.memoizedState.cache)}if(n=r.child,n!==null)n.return=r,bt=n;else e:for(r=e;bt!==null;){n=bt;var a=n.sibling,i=n.return;if(pA(n),n===r){bt=null;break e}if(a!==null){a.return=i,bt=a;break e}bt=i}}}var ez={getCacheForType:function(e){var t=Dt(nt),r=t.data.get(e);return r===void 0&&(r=e(),t.data.set(e,r)),r},cacheSignal:function(){return Dt(nt).controller.signal}},tz=typeof WeakMap=="function"?WeakMap:Map,ve=0,Oe=null,de=null,he=0,be=0,dr=null,Ka=!1,Is=!1,M0=!1,ia=0,Fe=0,di=0,Hi=0,z0=0,yr=0,gs=0,Hl=null,er=null,fv=!1,Ih=0,EA=0,lf=1/0,cf=null,ri=null,ut=0,ni=null,vs=null,Jn=0,hv=0,mv=null,OA=null,Fl=0,pv=null;function Sr(){return ve&2&&he!==0?he&-he:ie.T!==null?I0():zE()}function AA(){if(yr===0)if(!(he&536870912)||me){var e=Pu;Pu<<=1,!(Pu&3932160)&&(Pu=262144),yr=e}else yr=536870912;return e=Er.current,e!==null&&(e.flags|=32),yr}function nr(e,t,r){(e===Oe&&(be===2||be===9)||e.cancelPendingCommit!==null)&&(ys(e,0),Ga(e,he,yr,!1)),Uc(e,r),(!(ve&2)||e!==Oe)&&(e===Oe&&(!(ve&2)&&(Hi|=r),Fe===4&&Ga(e,he,yr,!1)),Rn(e))}function kA(e,t,r){if(ve&6)throw Error(q(327));var n=!r&&(t&127)===0&&(t&e.expiredLanes)===0||Lc(e,t),a=n?az(e,t):Bp(e,t,!0),i=n;do{if(a===0){Is&&!n&&Ga(e,t,0,!1);break}else{if(r=e.current.alternate,i&&!rz(r)){a=Bp(e,t,!1),i=!1;continue}if(a===2){if(i=t,e.errorRecoveryDisabledLanes&i)var o=0;else o=e.pendingLanes&-536870913,o=o!==0?o:o&536870912?536870912:0;if(o!==0){t=o;e:{var s=e;a=Hl;var c=s.current.memoizedState.isDehydrated;if(c&&(ys(s,o).flags|=256),o=Bp(s,o,!1),o!==2){if(M0&&!c){s.errorRecoveryDisabledLanes|=i,Hi|=i,a=4;break e}i=er,er=a,i!==null&&(er===null?er=i:er.push.apply(er,i))}a=o}if(i=!1,a!==2)continue}}if(a===1){ys(e,0),Ga(e,t,0,!0);break}e:{switch(n=e,i=a,i){case 0:case 1:throw Error(q(345));case 4:if((t&4194048)!==t)break;case 6:Ga(n,t,yr,!Ka);break e;case 2:er=null;break;case 3:case 5:break;default:throw Error(q(329))}if((t&62914560)===t&&(a=Ih+300-xr(),10<a)){if(Ga(n,t,yr,!Ka),Oh(n,0,!0)!==0)break e;Jn=t,n.timeoutHandle=YA(uw.bind(null,n,r,er,cf,fv,t,yr,Hi,gs,Ka,i,"Throttled",-0,0),a);break e}uw(n,r,er,cf,fv,t,yr,Hi,gs,Ka,i,null,-0,0)}}break}while(!0);Rn(e)}function uw(e,t,r,n,a,i,o,s,c,u,d,f,h,m){if(e.timeoutHandle=-1,f=t.subtreeFlags,f&8192||(f&16785408)===16785408){f={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Vn},_A(t,i,f);var v=(i&62914560)===i?Ih-xr():(i&4194048)===i?EA-xr():0;if(v=Lz(f,v),v!==null){Jn=i,e.cancelPendingCommit=v(fw.bind(null,e,t,i,r,n,a,o,s,c,d,f,null,h,m)),Ga(e,i,o,!u);return}}fw(e,t,i,r,n,a,o,s,c)}function rz(e){for(var t=e;;){var r=t.tag;if((r===0||r===11||r===15)&&t.flags&16384&&(r=t.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var n=0;n<r.length;n++){var a=r[n],i=a.getSnapshot;a=a.value;try{if(!Cr(i(),a))return!1}catch{return!1}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ga(e,t,r,n){t&=~z0,t&=~Hi,e.suspendedLanes|=t,e.pingedLanes&=~t,n&&(e.warmLanes|=t),n=e.expirationTimes;for(var a=t;0<a;){var i=31-_r(a),o=1<<i;n[i]=-1,a&=~o}r!==0&&DE(e,r,t)}function $h(){return ve&6?!0:(Kc(0),!1)}function B0(){if(de!==null){if(be===0)var e=de.return;else e=de,Kn=ho=null,_0(e),ns=null,sc=0,e=de;for(;e!==null;)lA(e.alternate,e),e=e.return;de=null}}function ys(e,t){var r=e.timeoutHandle;r!==-1&&(e.timeoutHandle=-1,_z(r)),r=e.cancelPendingCommit,r!==null&&(e.cancelPendingCommit=null,r()),Jn=0,B0(),Oe=e,de=r=Xn(e.current,null),he=t,be=0,dr=null,Ka=!1,Is=Lc(e,t),M0=!1,gs=yr=z0=Hi=di=Fe=0,er=Hl=null,fv=!1,t&8&&(t|=t&32);var n=e.entangledLanes;if(n!==0)for(e=e.entanglements,n&=t;0<n;){var a=31-_r(n),i=1<<a;t|=e[a],n&=~i}return ia=t,Nh(),r}function TA(e,t){le=null,ie.H=cc,t===Bs||t===Dh?(t=q1(),be=3):t===p0?(t=q1(),be=4):be=t===N0?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,dr=t,de===null&&(Fe=1,af(e,$r(t,e.current)))}function NA(){var e=Er.current;return e===null?!0:(he&4194048)===he?qr===null:(he&62914560)===he||he&536870912?e===qr:!1}function RA(){var e=ie.H;return ie.H=cc,e===null?cc:e}function DA(){var e=ie.A;return ie.A=ez,e}function uf(){Fe=4,Ka||(he&4194048)!==he&&Er.current!==null||(Is=!0),!(di&134217727)&&!(Hi&134217727)||Oe===null||Ga(Oe,he,yr,!1)}function Bp(e,t,r){var n=ve;ve|=2;var a=RA(),i=DA();(Oe!==e||he!==t)&&(cf=null,ys(e,t)),t=!1;var o=Fe;e:do try{if(be!==0&&de!==null){var s=de,c=dr;switch(be){case 8:B0(),o=6;break e;case 3:case 2:case 9:case 6:Er.current===null&&(t=!0);var u=be;if(be=0,dr=null,Xo(e,s,c,u),r&&Is){o=0;break e}break;default:u=be,be=0,dr=null,Xo(e,s,c,u)}}nz(),o=Fe;break}catch(d){TA(e,d)}while(!0);return t&&e.shellSuspendCounter++,Kn=ho=null,ve=n,ie.H=a,ie.A=i,de===null&&(Oe=null,he=0,Nh()),o}function nz(){for(;de!==null;)PA(de)}function az(e,t){var r=ve;ve|=2;var n=RA(),a=DA();Oe!==e||he!==t?(cf=null,lf=xr()+500,ys(e,t)):Is=Lc(e,t);e:do try{if(be!==0&&de!==null){t=de;var i=dr;t:switch(be){case 1:be=0,dr=null,Xo(e,t,i,1);break;case 2:case 9:if(U1(i)){be=0,dr=null,dw(t);break}t=function(){be!==2&&be!==9||Oe!==e||(be=7),Rn(e)},i.then(t,t);break e;case 3:be=7;break e;case 4:be=5;break e;case 7:U1(i)?(be=0,dr=null,dw(t)):(be=0,dr=null,Xo(e,t,i,7));break;case 5:var o=null;switch(de.tag){case 26:o=de.memoizedState;case 5:case 27:var s=de;if(o?e2(o):s.stateNode.complete){be=0,dr=null;var c=s.sibling;if(c!==null)de=c;else{var u=s.return;u!==null?(de=u,Lh(u)):de=null}break t}}be=0,dr=null,Xo(e,t,i,5);break;case 6:be=0,dr=null,Xo(e,t,i,6);break;case 8:B0(),Fe=6;break e;default:throw Error(q(462))}}iz();break}catch(d){TA(e,d)}while(!0);return Kn=ho=null,ie.H=n,ie.A=a,ve=r,de!==null?0:(Oe=null,he=0,Nh(),Fe)}function iz(){for(;de!==null&&!A5();)PA(de)}function PA(e){var t=sA(e.alternate,e,ia);e.memoizedProps=e.pendingProps,t===null?Lh(e):de=t}function dw(e){var t=e,r=t.alternate;switch(t.tag){case 15:case 0:t=aw(r,t,t.pendingProps,t.type,void 0,he);break;case 11:t=aw(r,t,t.pendingProps,t.type.render,t.ref,he);break;case 5:_0(t);default:lA(r,t),t=de=lO(t,ia),t=sA(r,t,ia)}e.memoizedProps=e.pendingProps,t===null?Lh(e):de=t}function Xo(e,t,r,n){Kn=ho=null,_0(t),ns=null,sc=0;var a=t.return;try{if(K4(e,a,t,r,he)){Fe=1,af(e,$r(r,e.current)),de=null;return}}catch(i){if(a!==null)throw de=a,i;Fe=1,af(e,$r(r,e.current)),de=null;return}t.flags&32768?(me||n===1?e=!0:Is||he&536870912?e=!1:(Ka=e=!0,(n===2||n===9||n===3||n===6)&&(n=Er.current,n!==null&&n.tag===13&&(n.flags|=16384))),MA(t,e)):Lh(t)}function Lh(e){var t=e;do{if(t.flags&32768){MA(t,Ka);return}e=t.return;var r=X4(t.alternate,t,ia);if(r!==null){de=r;return}if(t=t.sibling,t!==null){de=t;return}de=t=e}while(t!==null);Fe===0&&(Fe=5)}function MA(e,t){do{var r=Z4(e.alternate,e);if(r!==null){r.flags&=32767,de=r;return}if(r=e.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!t&&(e=e.sibling,e!==null)){de=e;return}de=e=r}while(e!==null);Fe=6,de=null}function fw(e,t,r,n,a,i,o,s,c){e.cancelPendingCommit=null;do Uh();while(ut!==0);if(ve&6)throw Error(q(327));if(t!==null){if(t===e.current)throw Error(q(177));if(i=t.lanes|t.childLanes,i|=l0,I5(e,r,i,o,s,c),e===Oe&&(de=Oe=null,he=0),vs=t,ni=e,Jn=r,hv=i,mv=a,OA=n,t.subtreeFlags&10256||t.flags&10256?(e.callbackNode=null,e.callbackPriority=0,cz(Kd,function(){return LA(),null})):(e.callbackNode=null,e.callbackPriority=0),n=(t.flags&13878)!==0,t.subtreeFlags&13878||n){n=ie.T,ie.T=null,a=ye.p,ye.p=2,o=ve,ve|=4;try{J4(e,t,r)}finally{ve=o,ye.p=a,ie.T=n}}ut=1,zA(),BA(),IA()}}function zA(){if(ut===1){ut=0;var e=ni,t=vs,r=(t.flags&13878)!==0;if(t.subtreeFlags&13878||r){r=ie.T,ie.T=null;var n=ye.p;ye.p=2;var a=ve;ve|=4;try{bA(t,e);var i=bv,o=eO(e.containerInfo),s=i.focusedElem,c=i.selectionRange;if(o!==s&&s&&s.ownerDocument&&QE(s.ownerDocument.documentElement,s)){if(c!==null&&s0(s)){var u=c.start,d=c.end;if(d===void 0&&(d=u),"selectionStart"in s)s.selectionStart=u,s.selectionEnd=Math.min(d,s.value.length);else{var f=s.ownerDocument||document,h=f&&f.defaultView||window;if(h.getSelection){var m=h.getSelection(),v=s.textContent.length,x=Math.min(c.start,v),b=c.end===void 0?x:Math.min(c.end,v);!m.extend&&x>b&&(o=b,b=x,x=o);var y=P1(s,x),g=P1(s,b);if(y&&g&&(m.rangeCount!==1||m.anchorNode!==y.node||m.anchorOffset!==y.offset||m.focusNode!==g.node||m.focusOffset!==g.offset)){var w=f.createRange();w.setStart(y.node,y.offset),m.removeAllRanges(),x>b?(m.addRange(w),m.extend(g.node,g.offset)):(w.setEnd(g.node,g.offset),m.addRange(w))}}}}for(f=[],m=s;m=m.parentNode;)m.nodeType===1&&f.push({element:m,left:m.scrollLeft,top:m.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<f.length;s++){var _=f[s];_.element.scrollLeft=_.left,_.element.scrollTop=_.top}}yf=!!yv,bv=yv=null}finally{ve=a,ye.p=n,ie.T=r}}e.current=t,ut=2}}function BA(){if(ut===2){ut=0;var e=ni,t=vs,r=(t.flags&8772)!==0;if(t.subtreeFlags&8772||r){r=ie.T,ie.T=null;var n=ye.p;ye.p=2;var a=ve;ve|=4;try{mA(e,t.alternate,t)}finally{ve=a,ye.p=n,ie.T=r}}ut=3}}function IA(){if(ut===4||ut===3){ut=0,k5();var e=ni,t=vs,r=Jn,n=OA;t.subtreeFlags&10256||t.flags&10256?ut=5:(ut=0,vs=ni=null,$A(e,e.pendingLanes));var a=e.pendingLanes;if(a===0&&(ri=null),e0(r),t=t.stateNode,wr&&typeof wr.onCommitFiberRoot=="function")try{wr.onCommitFiberRoot($c,t,void 0,(t.current.flags&128)===128)}catch{}if(n!==null){t=ie.T,a=ye.p,ye.p=2,ie.T=null;try{for(var i=e.onRecoverableError,o=0;o<n.length;o++){var s=n[o];i(s.value,{componentStack:s.stack})}}finally{ie.T=t,ye.p=a}}Jn&3&&Uh(),Rn(e),a=e.pendingLanes,r&261930&&a&42?e===pv?Fl++:(Fl=0,pv=e):Fl=0,Kc(0)}}function $A(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Hc(t)))}function Uh(){return zA(),BA(),IA(),LA()}function LA(){if(ut!==5)return!1;var e=ni,t=hv;hv=0;var r=e0(Jn),n=ie.T,a=ye.p;try{ye.p=32>r?32:r,ie.T=null,r=mv,mv=null;var i=ni,o=Jn;if(ut=0,vs=ni=null,Jn=0,ve&6)throw Error(q(331));var s=ve;if(ve|=4,jA(i.current),wA(i,i.current,o,r),ve=s,Kc(0,!1),wr&&typeof wr.onPostCommitFiberRoot=="function")try{wr.onPostCommitFiberRoot($c,i)}catch{}return!0}finally{ye.p=a,ie.T=n,$A(e,t)}}function hw(e,t,r){t=$r(r,t),t=lv(e.stateNode,t,2),e=ti(e,t,2),e!==null&&(Uc(e,2),Rn(e))}function we(e,t,r){if(e.tag===3)hw(e,e,r);else for(;t!==null;){if(t.tag===3){hw(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(ri===null||!ri.has(n))){e=$r(r,e),r=tA(2),n=ti(t,r,2),n!==null&&(rA(r,n,t,e),Uc(n,2),Rn(n));break}}t=t.return}}function Ip(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new tz;var a=new Set;n.set(t,a)}else a=n.get(t),a===void 0&&(a=new Set,n.set(t,a));a.has(r)||(M0=!0,a.add(r),e=oz.bind(null,e,t,r),t.then(e,e))}function oz(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),e.pingedLanes|=e.suspendedLanes&r,e.warmLanes&=~r,Oe===e&&(he&r)===r&&(Fe===4||Fe===3&&(he&62914560)===he&&300>xr()-Ih?!(ve&2)&&ys(e,0):z0|=r,gs===he&&(gs=0)),Rn(e)}function UA(e,t){t===0&&(t=RE()),e=fo(e,t),e!==null&&(Uc(e,t),Rn(e))}function sz(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),UA(e,r)}function lz(e,t){var r=0;switch(e.tag){case 31:case 13:var n=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=e.stateNode;break;case 22:n=e.stateNode._retryCache;break;default:throw Error(q(314))}n!==null&&n.delete(t),UA(e,r)}function cz(e,t){return Jy(e,t)}var df=null,Mo=null,gv=!1,ff=!1,$p=!1,Ya=0;function Rn(e){e!==Mo&&e.next===null&&(Mo===null?df=Mo=e:Mo=Mo.next=e),ff=!0,gv||(gv=!0,dz())}function Kc(e,t){if(!$p&&ff){$p=!0;do for(var r=!1,n=df;n!==null;){if(e!==0){var a=n.pendingLanes;if(a===0)var i=0;else{var o=n.suspendedLanes,s=n.pingedLanes;i=(1<<31-_r(42|e)+1)-1,i&=a&~(o&~s),i=i&201326741?i&201326741|1:i?i|2:0}i!==0&&(r=!0,mw(n,i))}else i=he,i=Oh(n,n===Oe?i:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),!(i&3)||Lc(n,i)||(r=!0,mw(n,i));n=n.next}while(r);$p=!1}}function uz(){qA()}function qA(){ff=gv=!1;var e=0;Ya!==0&&wz()&&(e=Ya);for(var t=xr(),r=null,n=df;n!==null;){var a=n.next,i=WA(n,t);i===0?(n.next=null,r===null?df=a:r.next=a,a===null&&(Mo=r)):(r=n,(e!==0||i&3)&&(ff=!0)),n=a}ut!==0&&ut!==5||Kc(e),Ya!==0&&(Ya=0)}function WA(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes&-62914561;0<i;){var o=31-_r(i),s=1<<o,c=a[o];c===-1?(!(s&r)||s&n)&&(a[o]=B5(s,t)):c<=t&&(e.expiredLanes|=s),i&=~s}if(t=Oe,r=he,r=Oh(e,e===t?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),n=e.callbackNode,r===0||e===t&&(be===2||be===9)||e.cancelPendingCommit!==null)return n!==null&&n!==null&&hp(n),e.callbackNode=null,e.callbackPriority=0;if(!(r&3)||Lc(e,r)){if(t=r&-r,t===e.callbackPriority)return t;switch(n!==null&&hp(n),e0(r)){case 2:case 8:r=TE;break;case 32:r=Kd;break;case 268435456:r=NE;break;default:r=Kd}return n=HA.bind(null,e),r=Jy(r,n),e.callbackPriority=t,e.callbackNode=r,t}return n!==null&&n!==null&&hp(n),e.callbackPriority=2,e.callbackNode=null,2}function HA(e,t){if(ut!==0&&ut!==5)return e.callbackNode=null,e.callbackPriority=0,null;var r=e.callbackNode;if(Uh()&&e.callbackNode!==r)return null;var n=he;return n=Oh(e,e===Oe?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),n===0?null:(kA(e,n,t),WA(e,xr()),e.callbackNode!=null&&e.callbackNode===r?HA.bind(null,e):null)}function mw(e,t){if(Uh())return null;kA(e,t,!0)}function dz(){Sz(function(){ve&6?Jy(kE,uz):qA()})}function I0(){if(Ya===0){var e=hs;e===0&&(e=Du,Du<<=1,!(Du&261888)&&(Du=256)),Ya=e}return Ya}function pw(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:jd(""+e)}function gw(e,t){var r=t.ownerDocument.createElement("input");return r.name=t.name,r.value=t.value,e.id&&r.setAttribute("form",e.id),t.parentNode.insertBefore(r,t),e=new FormData(e),r.parentNode.removeChild(r),e}function fz(e,t,r,n,a){if(t==="submit"&&r&&r.stateNode===a){var i=pw((a[ar]||null).action),o=n.submitter;o&&(t=(t=o[ar]||null)?pw(t.formAction):o.getAttribute("formAction"),t!==null&&(i=t,o=null));var s=new Ah("action","action",null,n,a);e.push({event:s,listeners:[{instance:null,listener:function(){if(n.defaultPrevented){if(Ya!==0){var c=o?gw(a,o):new FormData(a);ov(r,{pending:!0,data:c,method:a.method,action:i},null,c)}}else typeof i=="function"&&(s.preventDefault(),c=o?gw(a,o):new FormData(a),ov(r,{pending:!0,data:c,method:a.method,action:i},i,c))},currentTarget:a}]})}}for(var Lp=0;Lp<Gg.length;Lp++){var Up=Gg[Lp],hz=Up.toLowerCase(),mz=Up[0].toUpperCase()+Up.slice(1);hn(hz,"on"+mz)}hn(rO,"onAnimationEnd");hn(nO,"onAnimationIteration");hn(aO,"onAnimationStart");hn("dblclick","onDoubleClick");hn("focusin","onFocus");hn("focusout","onBlur");hn(T4,"onTransitionRun");hn(N4,"onTransitionStart");hn(R4,"onTransitionCancel");hn(iO,"onTransitionEnd");ds("onMouseEnter",["mouseout","mouseover"]);ds("onMouseLeave",["mouseout","mouseover"]);ds("onPointerEnter",["pointerout","pointerover"]);ds("onPointerLeave",["pointerout","pointerover"]);lo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));lo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));lo("onBeforeInput",["compositionend","keypress","textInput","paste"]);lo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));lo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));lo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var uc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),pz=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(uc));function FA(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var o=n.length-1;0<=o;o--){var s=n[o],c=s.instance,u=s.currentTarget;if(s=s.listener,c!==i&&a.isPropagationStopped())break e;i=s,a.currentTarget=u;try{i(a)}catch(d){Yd(d)}a.currentTarget=null,i=c}else for(o=0;o<n.length;o++){if(s=n[o],c=s.instance,u=s.currentTarget,s=s.listener,c!==i&&a.isPropagationStopped())break e;i=s,a.currentTarget=u;try{i(a)}catch(d){Yd(d)}a.currentTarget=null,i=c}}}}function ue(e,t){var r=t[Lg];r===void 0&&(r=t[Lg]=new Set);var n=e+"__bubble";r.has(n)||(VA(t,e,2,!1),r.add(n))}function qp(e,t,r){var n=0;t&&(n|=4),VA(r,e,n,t)}var Wu="_reactListening"+Math.random().toString(36).slice(2);function $0(e){if(!e[Wu]){e[Wu]=!0,BE.forEach(function(r){r!=="selectionchange"&&(pz.has(r)||qp(r,!1,e),qp(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Wu]||(t[Wu]=!0,qp("selectionchange",!1,t))}}function VA(e,t,r,n){switch(i2(t)){case 2:var a=Wz;break;case 8:a=Hz;break;default:a=W0}r=a.bind(null,t,r,e),a=void 0,!Fg||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),n?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function Wp(e,t,r,n,a){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var s=n.stateNode.containerInfo;if(s===a)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&o.stateNode.containerInfo===a)return;o=o.return}for(;s!==null;){if(o=Uo(s),o===null)return;if(c=o.tag,c===5||c===6||c===26||c===27){n=i=o;continue e}s=s.parentNode}}n=n.return}FE(function(){var u=i,d=n0(r),f=[];e:{var h=oO.get(e);if(h!==void 0){var m=Ah,v=e;switch(e){case"keypress":if(Ed(r)===0)break e;case"keydown":case"keyup":m=l4;break;case"focusin":v="focus",m=yp;break;case"focusout":v="blur",m=yp;break;case"beforeblur":case"afterblur":m=yp;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=j1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=X5;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=d4;break;case rO:case nO:case aO:m=Q5;break;case iO:m=h4;break;case"scroll":case"scrollend":m=G5;break;case"wheel":m=p4;break;case"copy":case"cut":case"paste":m=t4;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=E1;break;case"toggle":case"beforetoggle":m=v4}var x=(t&4)!==0,b=!x&&(e==="scroll"||e==="scrollend"),y=x?h!==null?h+"Capture":null:h;x=[];for(var g=u,w;g!==null;){var _=g;if(w=_.stateNode,_=_.tag,_!==5&&_!==26&&_!==27||w===null||y===null||(_=rc(g,y),_!=null&&x.push(dc(g,_,w))),b)break;g=g.return}0<x.length&&(h=new m(h,v,null,r,d),f.push({event:h,listeners:x}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",h&&r!==Hg&&(v=r.relatedTarget||r.fromElement)&&(Uo(v)||v[Ps]))break e;if((m||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,m?(v=r.relatedTarget||r.toElement,m=u,v=v?Uo(v):null,v!==null&&(b=Ic(v),x=v.tag,v!==b||x!==5&&x!==27&&x!==6)&&(v=null)):(m=null,v=u),m!==v)){if(x=j1,_="onMouseLeave",y="onMouseEnter",g="mouse",(e==="pointerout"||e==="pointerover")&&(x=E1,_="onPointerLeave",y="onPointerEnter",g="pointer"),b=m==null?h:Ol(m),w=v==null?h:Ol(v),h=new x(_,g+"leave",m,r,d),h.target=b,h.relatedTarget=w,_=null,Uo(d)===u&&(x=new x(y,g+"enter",v,r,d),x.target=w,x.relatedTarget=b,_=x),b=_,m&&v)t:{for(x=gz,y=m,g=v,w=0,_=y;_;_=x(_))w++;_=0;for(var S=g;S;S=x(S))_++;for(;0<w-_;)y=x(y),w--;for(;0<_-w;)g=x(g),_--;for(;w--;){if(y===g||g!==null&&y===g.alternate){x=y;break t}y=x(y),g=x(g)}x=null}else x=null;m!==null&&vw(f,h,m,x,!1),v!==null&&b!==null&&vw(f,b,v,x,!0)}}e:{if(h=u?Ol(u):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var j=T1;else if(k1(h))if(ZE)j=O4;else{j=C4;var C=j4}else m=h.nodeName,!m||m.toLowerCase()!=="input"||h.type!=="checkbox"&&h.type!=="radio"?u&&r0(u.elementType)&&(j=T1):j=E4;if(j&&(j=j(e,u))){XE(f,j,r,d);break e}C&&C(e,h,u),e==="focusout"&&u&&h.type==="number"&&u.memoizedProps.value!=null&&Wg(h,"number",h.value)}switch(C=u?Ol(u):window,e){case"focusin":(k1(C)||C.contentEditable==="true")&&(Ho=C,Vg=u,zl=null);break;case"focusout":zl=Vg=Ho=null;break;case"mousedown":Kg=!0;break;case"contextmenu":case"mouseup":case"dragend":Kg=!1,M1(f,r,d);break;case"selectionchange":if(k4)break;case"keydown":case"keyup":M1(f,r,d)}var E;if(o0)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Wo?GE(e,r)&&(k="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(k="onCompositionStart");k&&(KE&&r.locale!=="ko"&&(Wo||k!=="onCompositionStart"?k==="onCompositionEnd"&&Wo&&(E=VE()):(Va=d,a0="value"in Va?Va.value:Va.textContent,Wo=!0)),C=hf(u,k),0<C.length&&(k=new C1(k,e,null,r,d),f.push({event:k,listeners:C}),E?k.data=E:(E=YE(r),E!==null&&(k.data=E)))),(E=b4?x4(e,r):w4(e,r))&&(k=hf(u,"onBeforeInput"),0<k.length&&(C=new C1("onBeforeInput","beforeinput",null,r,d),f.push({event:C,listeners:k}),C.data=E)),fz(f,e,u,r,d)}FA(f,t)})}function dc(e,t,r){return{instance:e,listener:t,currentTarget:r}}function hf(e,t){for(var r=t+"Capture",n=[];e!==null;){var a=e,i=a.stateNode;if(a=a.tag,a!==5&&a!==26&&a!==27||i===null||(a=rc(e,r),a!=null&&n.unshift(dc(e,a,i)),a=rc(e,t),a!=null&&n.push(dc(e,a,i))),e.tag===3)return n;e=e.return}return[]}function gz(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function vw(e,t,r,n,a){for(var i=t._reactName,o=[];r!==null&&r!==n;){var s=r,c=s.alternate,u=s.stateNode;if(s=s.tag,c!==null&&c===n)break;s!==5&&s!==26&&s!==27||u===null||(c=u,a?(u=rc(r,i),u!=null&&o.unshift(dc(r,u,c))):a||(u=rc(r,i),u!=null&&o.push(dc(r,u,c)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var vz=/\r\n?/g,yz=/\u0000|\uFFFD/g;function yw(e){return(typeof e=="string"?e:""+e).replace(vz,`
`).replace(yz,"")}function KA(e,t){return t=yw(t),yw(e)===t}function Se(e,t,r,n,a,i){switch(r){case"children":typeof n=="string"?t==="body"||t==="textarea"&&n===""||fs(e,n):(typeof n=="number"||typeof n=="bigint")&&t!=="body"&&fs(e,""+n);break;case"className":zu(e,"class",n);break;case"tabIndex":zu(e,"tabindex",n);break;case"dir":case"role":case"viewBox":case"width":case"height":zu(e,r,n);break;case"style":HE(e,n,i);break;case"data":if(t!=="object"){zu(e,"data",n);break}case"src":case"href":if(n===""&&(t!=="a"||r!=="href")){e.removeAttribute(r);break}if(n==null||typeof n=="function"||typeof n=="symbol"||typeof n=="boolean"){e.removeAttribute(r);break}n=jd(""+n),e.setAttribute(r,n);break;case"action":case"formAction":if(typeof n=="function"){e.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof i=="function"&&(r==="formAction"?(t!=="input"&&Se(e,t,"name",a.name,a,null),Se(e,t,"formEncType",a.formEncType,a,null),Se(e,t,"formMethod",a.formMethod,a,null),Se(e,t,"formTarget",a.formTarget,a,null)):(Se(e,t,"encType",a.encType,a,null),Se(e,t,"method",a.method,a,null),Se(e,t,"target",a.target,a,null)));if(n==null||typeof n=="symbol"||typeof n=="boolean"){e.removeAttribute(r);break}n=jd(""+n),e.setAttribute(r,n);break;case"onClick":n!=null&&(e.onclick=Vn);break;case"onScroll":n!=null&&ue("scroll",e);break;case"onScrollEnd":n!=null&&ue("scrollend",e);break;case"dangerouslySetInnerHTML":if(n!=null){if(typeof n!="object"||!("__html"in n))throw Error(q(61));if(r=n.__html,r!=null){if(a.children!=null)throw Error(q(60));e.innerHTML=r}}break;case"multiple":e.multiple=n&&typeof n!="function"&&typeof n!="symbol";break;case"muted":e.muted=n&&typeof n!="function"&&typeof n!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(n==null||typeof n=="function"||typeof n=="boolean"||typeof n=="symbol"){e.removeAttribute("xlink:href");break}r=jd(""+n),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":n!=null&&typeof n!="function"&&typeof n!="symbol"?e.setAttribute(r,""+n):e.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":n&&typeof n!="function"&&typeof n!="symbol"?e.setAttribute(r,""):e.removeAttribute(r);break;case"capture":case"download":n===!0?e.setAttribute(r,""):n!==!1&&n!=null&&typeof n!="function"&&typeof n!="symbol"?e.setAttribute(r,n):e.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":n!=null&&typeof n!="function"&&typeof n!="symbol"&&!isNaN(n)&&1<=n?e.setAttribute(r,n):e.removeAttribute(r);break;case"rowSpan":case"start":n==null||typeof n=="function"||typeof n=="symbol"||isNaN(n)?e.removeAttribute(r):e.setAttribute(r,n);break;case"popover":ue("beforetoggle",e),ue("toggle",e),Sd(e,"popover",n);break;case"xlinkActuate":Pn(e,"http://www.w3.org/1999/xlink","xlink:actuate",n);break;case"xlinkArcrole":Pn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",n);break;case"xlinkRole":Pn(e,"http://www.w3.org/1999/xlink","xlink:role",n);break;case"xlinkShow":Pn(e,"http://www.w3.org/1999/xlink","xlink:show",n);break;case"xlinkTitle":Pn(e,"http://www.w3.org/1999/xlink","xlink:title",n);break;case"xlinkType":Pn(e,"http://www.w3.org/1999/xlink","xlink:type",n);break;case"xmlBase":Pn(e,"http://www.w3.org/XML/1998/namespace","xml:base",n);break;case"xmlLang":Pn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",n);break;case"xmlSpace":Pn(e,"http://www.w3.org/XML/1998/namespace","xml:space",n);break;case"is":Sd(e,"is",n);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=V5.get(r)||r,Sd(e,r,n))}}function vv(e,t,r,n,a,i){switch(r){case"style":HE(e,n,i);break;case"dangerouslySetInnerHTML":if(n!=null){if(typeof n!="object"||!("__html"in n))throw Error(q(61));if(r=n.__html,r!=null){if(a.children!=null)throw Error(q(60));e.innerHTML=r}}break;case"children":typeof n=="string"?fs(e,n):(typeof n=="number"||typeof n=="bigint")&&fs(e,""+n);break;case"onScroll":n!=null&&ue("scroll",e);break;case"onScrollEnd":n!=null&&ue("scrollend",e);break;case"onClick":n!=null&&(e.onclick=Vn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!IE.hasOwnProperty(r))e:{if(r[0]==="o"&&r[1]==="n"&&(a=r.endsWith("Capture"),t=r.slice(2,a?r.length-7:void 0),i=e[ar]||null,i=i!=null?i[r]:null,typeof i=="function"&&e.removeEventListener(t,i,a),typeof n=="function")){typeof i!="function"&&i!==null&&(r in e?e[r]=null:e.hasAttribute(r)&&e.removeAttribute(r)),e.addEventListener(t,n,a);break e}r in e?e[r]=n:n===!0?e.setAttribute(r,""):Sd(e,r,n)}}}function Mt(e,t,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ue("error",e),ue("load",e);var n=!1,a=!1,i;for(i in r)if(r.hasOwnProperty(i)){var o=r[i];if(o!=null)switch(i){case"src":n=!0;break;case"srcSet":a=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(q(137,t));default:Se(e,t,i,o,r,null)}}a&&Se(e,t,"srcSet",r.srcSet,r,null),n&&Se(e,t,"src",r.src,r,null);return;case"input":ue("invalid",e);var s=i=o=a=null,c=null,u=null;for(n in r)if(r.hasOwnProperty(n)){var d=r[n];if(d!=null)switch(n){case"name":a=d;break;case"type":o=d;break;case"checked":c=d;break;case"defaultChecked":u=d;break;case"value":i=d;break;case"defaultValue":s=d;break;case"children":case"dangerouslySetInnerHTML":if(d!=null)throw Error(q(137,t));break;default:Se(e,t,n,d,r,null)}}UE(e,i,s,c,u,o,a,!1);return;case"select":ue("invalid",e),n=o=i=null;for(a in r)if(r.hasOwnProperty(a)&&(s=r[a],s!=null))switch(a){case"value":i=s;break;case"defaultValue":o=s;break;case"multiple":n=s;default:Se(e,t,a,s,r,null)}t=i,r=o,e.multiple=!!n,t!=null?es(e,!!n,t,!1):r!=null&&es(e,!!n,r,!0);return;case"textarea":ue("invalid",e),i=a=n=null;for(o in r)if(r.hasOwnProperty(o)&&(s=r[o],s!=null))switch(o){case"value":n=s;break;case"defaultValue":a=s;break;case"children":i=s;break;case"dangerouslySetInnerHTML":if(s!=null)throw Error(q(91));break;default:Se(e,t,o,s,r,null)}WE(e,n,a,i);return;case"option":for(c in r)if(r.hasOwnProperty(c)&&(n=r[c],n!=null))switch(c){case"selected":e.selected=n&&typeof n!="function"&&typeof n!="symbol";break;default:Se(e,t,c,n,r,null)}return;case"dialog":ue("beforetoggle",e),ue("toggle",e),ue("cancel",e),ue("close",e);break;case"iframe":case"object":ue("load",e);break;case"video":case"audio":for(n=0;n<uc.length;n++)ue(uc[n],e);break;case"image":ue("error",e),ue("load",e);break;case"details":ue("toggle",e);break;case"embed":case"source":case"link":ue("error",e),ue("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in r)if(r.hasOwnProperty(u)&&(n=r[u],n!=null))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(q(137,t));default:Se(e,t,u,n,r,null)}return;default:if(r0(t)){for(d in r)r.hasOwnProperty(d)&&(n=r[d],n!==void 0&&vv(e,t,d,n,r,void 0));return}}for(s in r)r.hasOwnProperty(s)&&(n=r[s],n!=null&&Se(e,t,s,n,r,null))}function bz(e,t,r,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var a=null,i=null,o=null,s=null,c=null,u=null,d=null;for(m in r){var f=r[m];if(r.hasOwnProperty(m)&&f!=null)switch(m){case"checked":break;case"value":break;case"defaultValue":c=f;default:n.hasOwnProperty(m)||Se(e,t,m,null,n,f)}}for(var h in n){var m=n[h];if(f=r[h],n.hasOwnProperty(h)&&(m!=null||f!=null))switch(h){case"type":i=m;break;case"name":a=m;break;case"checked":u=m;break;case"defaultChecked":d=m;break;case"value":o=m;break;case"defaultValue":s=m;break;case"children":case"dangerouslySetInnerHTML":if(m!=null)throw Error(q(137,t));break;default:m!==f&&Se(e,t,h,m,n,f)}}qg(e,o,s,c,u,d,i,a);return;case"select":m=o=s=h=null;for(i in r)if(c=r[i],r.hasOwnProperty(i)&&c!=null)switch(i){case"value":break;case"multiple":m=c;default:n.hasOwnProperty(i)||Se(e,t,i,null,n,c)}for(a in n)if(i=n[a],c=r[a],n.hasOwnProperty(a)&&(i!=null||c!=null))switch(a){case"value":h=i;break;case"defaultValue":s=i;break;case"multiple":o=i;default:i!==c&&Se(e,t,a,i,n,c)}t=s,r=o,n=m,h!=null?es(e,!!r,h,!1):!!n!=!!r&&(t!=null?es(e,!!r,t,!0):es(e,!!r,r?[]:"",!1));return;case"textarea":m=h=null;for(s in r)if(a=r[s],r.hasOwnProperty(s)&&a!=null&&!n.hasOwnProperty(s))switch(s){case"value":break;case"children":break;default:Se(e,t,s,null,n,a)}for(o in n)if(a=n[o],i=r[o],n.hasOwnProperty(o)&&(a!=null||i!=null))switch(o){case"value":h=a;break;case"defaultValue":m=a;break;case"children":break;case"dangerouslySetInnerHTML":if(a!=null)throw Error(q(91));break;default:a!==i&&Se(e,t,o,a,n,i)}qE(e,h,m);return;case"option":for(var v in r)if(h=r[v],r.hasOwnProperty(v)&&h!=null&&!n.hasOwnProperty(v))switch(v){case"selected":e.selected=!1;break;default:Se(e,t,v,null,n,h)}for(c in n)if(h=n[c],m=r[c],n.hasOwnProperty(c)&&h!==m&&(h!=null||m!=null))switch(c){case"selected":e.selected=h&&typeof h!="function"&&typeof h!="symbol";break;default:Se(e,t,c,h,n,m)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var x in r)h=r[x],r.hasOwnProperty(x)&&h!=null&&!n.hasOwnProperty(x)&&Se(e,t,x,null,n,h);for(u in n)if(h=n[u],m=r[u],n.hasOwnProperty(u)&&h!==m&&(h!=null||m!=null))switch(u){case"children":case"dangerouslySetInnerHTML":if(h!=null)throw Error(q(137,t));break;default:Se(e,t,u,h,n,m)}return;default:if(r0(t)){for(var b in r)h=r[b],r.hasOwnProperty(b)&&h!==void 0&&!n.hasOwnProperty(b)&&vv(e,t,b,void 0,n,h);for(d in n)h=n[d],m=r[d],!n.hasOwnProperty(d)||h===m||h===void 0&&m===void 0||vv(e,t,d,h,n,m);return}}for(var y in r)h=r[y],r.hasOwnProperty(y)&&h!=null&&!n.hasOwnProperty(y)&&Se(e,t,y,null,n,h);for(f in n)h=n[f],m=r[f],!n.hasOwnProperty(f)||h===m||h==null&&m==null||Se(e,t,f,h,n,m)}function bw(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function xz(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,r=performance.getEntriesByType("resource"),n=0;n<r.length;n++){var a=r[n],i=a.transferSize,o=a.initiatorType,s=a.duration;if(i&&s&&bw(o)){for(o=0,s=a.responseEnd,n+=1;n<r.length;n++){var c=r[n],u=c.startTime;if(u>s)break;var d=c.transferSize,f=c.initiatorType;d&&bw(f)&&(c=c.responseEnd,o+=d*(c<s?1:(s-u)/(c-u)))}if(--n,t+=8*(i+o)/(a.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var yv=null,bv=null;function mf(e){return e.nodeType===9?e:e.ownerDocument}function xw(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function GA(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function xv(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Hp=null;function wz(){var e=window.event;return e&&e.type==="popstate"?e===Hp?!1:(Hp=e,!0):(Hp=null,!1)}var YA=typeof setTimeout=="function"?setTimeout:void 0,_z=typeof clearTimeout=="function"?clearTimeout:void 0,ww=typeof Promise=="function"?Promise:void 0,Sz=typeof queueMicrotask=="function"?queueMicrotask:typeof ww<"u"?function(e){return ww.resolve(null).then(e).catch(jz)}:YA;function jz(e){setTimeout(function(){throw e})}function gi(e){return e==="head"}function _w(e,t){var r=t,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"||r==="/&"){if(n===0){e.removeChild(a),xs(t);return}n--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")n++;else if(r==="html")Vl(e.ownerDocument.documentElement);else if(r==="head"){r=e.ownerDocument.head,Vl(r);for(var i=r.firstChild;i;){var o=i.nextSibling,s=i.nodeName;i[qc]||s==="SCRIPT"||s==="STYLE"||s==="LINK"&&i.rel.toLowerCase()==="stylesheet"||r.removeChild(i),i=o}}else r==="body"&&Vl(e.ownerDocument.body);r=a}while(r);xs(t)}function Sw(e,t){var r=e;e=0;do{var n=r.nextSibling;if(r.nodeType===1?t?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(t?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),n&&n.nodeType===8)if(r=n.data,r==="/$"){if(e===0)break;e--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||e++;r=n}while(r)}function wv(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var r=t;switch(t=t.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":wv(r),t0(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}e.removeChild(r)}}function Cz(e,t,r,n){for(;e.nodeType===1;){var a=r;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!n&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(n){if(!e[qc])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(i=e.getAttribute("rel"),i==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(i!==a.rel||e.getAttribute("href")!==(a.href==null||a.href===""?null:a.href)||e.getAttribute("crossorigin")!==(a.crossOrigin==null?null:a.crossOrigin)||e.getAttribute("title")!==(a.title==null?null:a.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(i=e.getAttribute("src"),(i!==(a.src==null?null:a.src)||e.getAttribute("type")!==(a.type==null?null:a.type)||e.getAttribute("crossorigin")!==(a.crossOrigin==null?null:a.crossOrigin))&&i&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var i=a.name==null?null:""+a.name;if(a.type==="hidden"&&e.getAttribute("name")===i)return e}else return e;if(e=Wr(e.nextSibling),e===null)break}return null}function Ez(e,t,r){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!r||(e=Wr(e.nextSibling),e===null))return null;return e}function XA(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Wr(e.nextSibling),e===null))return null;return e}function _v(e){return e.data==="$?"||e.data==="$~"}function Sv(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Oz(e,t){var r=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||r.readyState!=="loading")t();else{var n=function(){t(),r.removeEventListener("DOMContentLoaded",n)};r.addEventListener("DOMContentLoaded",n),e._reactRetry=n}}function Wr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var jv=null;function jw(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"||r==="/&"){if(t===0)return Wr(e.nextSibling);t--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||t++}e=e.nextSibling}return null}function Cw(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(t===0)return e;t--}else r!=="/$"&&r!=="/&"||t++}e=e.previousSibling}return null}function ZA(e,t,r){switch(t=mf(r),e){case"html":if(e=t.documentElement,!e)throw Error(q(452));return e;case"head":if(e=t.head,!e)throw Error(q(453));return e;case"body":if(e=t.body,!e)throw Error(q(454));return e;default:throw Error(q(451))}}function Vl(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);t0(e)}var Hr=new Map,Ew=new Set;function pf(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var va=ye.d;ye.d={f:Az,r:kz,D:Tz,C:Nz,L:Rz,m:Dz,X:Mz,S:Pz,M:zz};function Az(){var e=va.f(),t=$h();return e||t}function kz(e){var t=Ms(e);t!==null&&t.tag===5&&t.type==="form"?HO(t):va.r(e)}var $s=typeof document>"u"?null:document;function JA(e,t,r){var n=$s;if(n&&typeof t=="string"&&t){var a=Ir(t);a='link[rel="'+e+'"][href="'+a+'"]',typeof r=="string"&&(a+='[crossorigin="'+r+'"]'),Ew.has(a)||(Ew.add(a),e={rel:e,crossOrigin:r,href:t},n.querySelector(a)===null&&(t=n.createElement("link"),Mt(t,"link",e),wt(t),n.head.appendChild(t)))}}function Tz(e){va.D(e),JA("dns-prefetch",e,null)}function Nz(e,t){va.C(e,t),JA("preconnect",e,t)}function Rz(e,t,r){va.L(e,t,r);var n=$s;if(n&&e&&t){var a='link[rel="preload"][as="'+Ir(t)+'"]';t==="image"&&r&&r.imageSrcSet?(a+='[imagesrcset="'+Ir(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(a+='[imagesizes="'+Ir(r.imageSizes)+'"]')):a+='[href="'+Ir(e)+'"]';var i=a;switch(t){case"style":i=bs(e);break;case"script":i=Ls(e)}Hr.has(i)||(e=ze({rel:"preload",href:t==="image"&&r&&r.imageSrcSet?void 0:e,as:t},r),Hr.set(i,e),n.querySelector(a)!==null||t==="style"&&n.querySelector(Gc(i))||t==="script"&&n.querySelector(Yc(i))||(t=n.createElement("link"),Mt(t,"link",e),wt(t),n.head.appendChild(t)))}}function Dz(e,t){va.m(e,t);var r=$s;if(r&&e){var n=t&&typeof t.as=="string"?t.as:"script",a='link[rel="modulepreload"][as="'+Ir(n)+'"][href="'+Ir(e)+'"]',i=a;switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":i=Ls(e)}if(!Hr.has(i)&&(e=ze({rel:"modulepreload",href:e},t),Hr.set(i,e),r.querySelector(a)===null)){switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(Yc(i)))return}n=r.createElement("link"),Mt(n,"link",e),wt(n),r.head.appendChild(n)}}}function Pz(e,t,r){va.S(e,t,r);var n=$s;if(n&&e){var a=Qo(n).hoistableStyles,i=bs(e);t=t||"default";var o=a.get(i);if(!o){var s={loading:0,preload:null};if(o=n.querySelector(Gc(i)))s.loading=5;else{e=ze({rel:"stylesheet",href:e,"data-precedence":t},r),(r=Hr.get(i))&&L0(e,r);var c=o=n.createElement("link");wt(c),Mt(c,"link",e),c._p=new Promise(function(u,d){c.onload=u,c.onerror=d}),c.addEventListener("load",function(){s.loading|=1}),c.addEventListener("error",function(){s.loading|=2}),s.loading|=4,Pd(o,t,n)}o={type:"stylesheet",instance:o,count:1,state:s},a.set(i,o)}}}function Mz(e,t){va.X(e,t);var r=$s;if(r&&e){var n=Qo(r).hoistableScripts,a=Ls(e),i=n.get(a);i||(i=r.querySelector(Yc(a)),i||(e=ze({src:e,async:!0},t),(t=Hr.get(a))&&U0(e,t),i=r.createElement("script"),wt(i),Mt(i,"link",e),r.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},n.set(a,i))}}function zz(e,t){va.M(e,t);var r=$s;if(r&&e){var n=Qo(r).hoistableScripts,a=Ls(e),i=n.get(a);i||(i=r.querySelector(Yc(a)),i||(e=ze({src:e,async:!0,type:"module"},t),(t=Hr.get(a))&&U0(e,t),i=r.createElement("script"),wt(i),Mt(i,"link",e),r.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},n.set(a,i))}}function Ow(e,t,r,n){var a=(a=Ja.current)?pf(a):null;if(!a)throw Error(q(446));switch(e){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(t=bs(r.href),r=Qo(a).hoistableStyles,n=r.get(t),n||(n={type:"style",instance:null,count:0,state:null},r.set(t,n)),n):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){e=bs(r.href);var i=Qo(a).hoistableStyles,o=i.get(e);if(o||(a=a.ownerDocument||a,o={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},i.set(e,o),(i=a.querySelector(Gc(e)))&&!i._p&&(o.instance=i,o.state.loading=5),Hr.has(e)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Hr.set(e,r),i||Bz(a,e,r,o.state))),t&&n===null)throw Error(q(528,""));return o}if(t&&n!==null)throw Error(q(529,""));return null;case"script":return t=r.async,r=r.src,typeof r=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Ls(r),r=Qo(a).hoistableScripts,n=r.get(t),n||(n={type:"script",instance:null,count:0,state:null},r.set(t,n)),n):{type:"void",instance:null,count:0,state:null};default:throw Error(q(444,e))}}function bs(e){return'href="'+Ir(e)+'"'}function Gc(e){return'link[rel="stylesheet"]['+e+"]"}function QA(e){return ze({},e,{"data-precedence":e.precedence,precedence:null})}function Bz(e,t,r,n){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?n.loading=1:(t=e.createElement("link"),n.preload=t,t.addEventListener("load",function(){return n.loading|=1}),t.addEventListener("error",function(){return n.loading|=2}),Mt(t,"link",r),wt(t),e.head.appendChild(t))}function Ls(e){return'[src="'+Ir(e)+'"]'}function Yc(e){return"script[async]"+e}function Aw(e,t,r){if(t.count++,t.instance===null)switch(t.type){case"style":var n=e.querySelector('style[data-href~="'+Ir(r.href)+'"]');if(n)return t.instance=n,wt(n),n;var a=ze({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return n=(e.ownerDocument||e).createElement("style"),wt(n),Mt(n,"style",a),Pd(n,r.precedence,e),t.instance=n;case"stylesheet":a=bs(r.href);var i=e.querySelector(Gc(a));if(i)return t.state.loading|=4,t.instance=i,wt(i),i;n=QA(r),(a=Hr.get(a))&&L0(n,a),i=(e.ownerDocument||e).createElement("link"),wt(i);var o=i;return o._p=new Promise(function(s,c){o.onload=s,o.onerror=c}),Mt(i,"link",n),t.state.loading|=4,Pd(i,r.precedence,e),t.instance=i;case"script":return i=Ls(r.src),(a=e.querySelector(Yc(i)))?(t.instance=a,wt(a),a):(n=r,(a=Hr.get(i))&&(n=ze({},r),U0(n,a)),e=e.ownerDocument||e,a=e.createElement("script"),wt(a),Mt(a,"link",n),e.head.appendChild(a),t.instance=a);case"void":return null;default:throw Error(q(443,t.type))}else t.type==="stylesheet"&&!(t.state.loading&4)&&(n=t.instance,t.state.loading|=4,Pd(n,r.precedence,e));return t.instance}function Pd(e,t,r){for(var n=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),a=n.length?n[n.length-1]:null,i=a,o=0;o<n.length;o++){var s=n[o];if(s.dataset.precedence===t)i=s;else if(i!==a)break}i?i.parentNode.insertBefore(e,i.nextSibling):(t=r.nodeType===9?r.head:r,t.insertBefore(e,t.firstChild))}function L0(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function U0(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Md=null;function kw(e,t,r){if(Md===null){var n=new Map,a=Md=new Map;a.set(r,n)}else a=Md,n=a.get(r),n||(n=new Map,a.set(r,n));if(n.has(e))return n;for(n.set(e,null),r=r.getElementsByTagName(e),a=0;a<r.length;a++){var i=r[a];if(!(i[qc]||i[Nt]||e==="link"&&i.getAttribute("rel")==="stylesheet")&&i.namespaceURI!=="http://www.w3.org/2000/svg"){var o=i.getAttribute(t)||"";o=e+o;var s=n.get(o);s?s.push(i):n.set(o,[i])}}return n}function Tw(e,t,r){e=e.ownerDocument||e,e.head.insertBefore(r,t==="title"?e.querySelector("head > title"):null)}function Iz(e,t,r){if(r===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function e2(e){return!(e.type==="stylesheet"&&!(e.state.loading&3))}function $z(e,t,r,n){if(r.type==="stylesheet"&&(typeof n.media!="string"||matchMedia(n.media).matches!==!1)&&!(r.state.loading&4)){if(r.instance===null){var a=bs(n.href),i=t.querySelector(Gc(a));if(i){t=i._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=gf.bind(e),t.then(e,e)),r.state.loading|=4,r.instance=i,wt(i);return}i=t.ownerDocument||t,n=QA(n),(a=Hr.get(a))&&L0(n,a),i=i.createElement("link"),wt(i);var o=i;o._p=new Promise(function(s,c){o.onload=s,o.onerror=c}),Mt(i,"link",n),r.instance=i}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(r,t),(t=r.state.preload)&&!(r.state.loading&3)&&(e.count++,r=gf.bind(e),t.addEventListener("load",r),t.addEventListener("error",r))}}var Fp=0;function Lz(e,t){return e.stylesheets&&e.count===0&&zd(e,e.stylesheets),0<e.count||0<e.imgCount?function(r){var n=setTimeout(function(){if(e.stylesheets&&zd(e,e.stylesheets),e.unsuspend){var i=e.unsuspend;e.unsuspend=null,i()}},6e4+t);0<e.imgBytes&&Fp===0&&(Fp=62500*xz());var a=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&zd(e,e.stylesheets),e.unsuspend)){var i=e.unsuspend;e.unsuspend=null,i()}},(e.imgBytes>Fp?50:800)+t);return e.unsuspend=r,function(){e.unsuspend=null,clearTimeout(n),clearTimeout(a)}}:null}function gf(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)zd(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var vf=null;function zd(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,vf=new Map,t.forEach(Uz,e),vf=null,gf.call(e))}function Uz(e,t){if(!(t.state.loading&4)){var r=vf.get(e);if(r)var n=r.get(null);else{r=new Map,vf.set(e,r);for(var a=e.querySelectorAll("link[data-precedence],style[data-precedence]"),i=0;i<a.length;i++){var o=a[i];(o.nodeName==="LINK"||o.getAttribute("media")!=="not all")&&(r.set(o.dataset.precedence,o),n=o)}n&&r.set(null,n)}a=t.instance,o=a.getAttribute("data-precedence"),i=r.get(o)||n,i===n&&r.set(null,a),r.set(o,a),this.count++,n=gf.bind(this),a.addEventListener("load",n),a.addEventListener("error",n),i?i.parentNode.insertBefore(a,i.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(a,e.firstChild)),t.state.loading|=4}}var fc={$$typeof:Fn,Provider:null,Consumer:null,_currentValue:Li,_currentValue2:Li,_threadCount:0};function qz(e,t,r,n,a,i,o,s,c){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=mp(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mp(0),this.hiddenUpdates=mp(null),this.identifierPrefix=n,this.onUncaughtError=a,this.onCaughtError=i,this.onRecoverableError=o,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=c,this.incompleteTransitions=new Map}function t2(e,t,r,n,a,i,o,s,c,u,d,f){return e=new qz(e,t,r,o,c,u,d,f,s),t=1,i===!0&&(t|=24),i=mr(3,null,null,t),e.current=i,i.stateNode=e,t=h0(),t.refCount++,e.pooledCache=t,t.refCount++,i.memoizedState={element:n,isDehydrated:r,cache:t},g0(i),e}function r2(e){return e?(e=Ko,e):Ko}function n2(e,t,r,n,a,i){a=r2(a),n.context===null?n.context=a:n.pendingContext=a,n=ei(t),n.payload={element:r},i=i===void 0?null:i,i!==null&&(n.callback=i),r=ti(e,n,t),r!==null&&(nr(r,e,t),Il(r,e,t))}function Nw(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function q0(e,t){Nw(e,t),(e=e.alternate)&&Nw(e,t)}function a2(e){if(e.tag===13||e.tag===31){var t=fo(e,67108864);t!==null&&nr(t,e,67108864),q0(e,67108864)}}function Rw(e){if(e.tag===13||e.tag===31){var t=Sr();t=Qy(t);var r=fo(e,t);r!==null&&nr(r,e,t),q0(e,t)}}var yf=!0;function Wz(e,t,r,n){var a=ie.T;ie.T=null;var i=ye.p;try{ye.p=2,W0(e,t,r,n)}finally{ye.p=i,ie.T=a}}function Hz(e,t,r,n){var a=ie.T;ie.T=null;var i=ye.p;try{ye.p=8,W0(e,t,r,n)}finally{ye.p=i,ie.T=a}}function W0(e,t,r,n){if(yf){var a=Cv(n);if(a===null)Wp(e,t,n,bf,r),Dw(e,n);else if(Vz(a,e,t,r,n))n.stopPropagation();else if(Dw(e,n),t&4&&-1<Fz.indexOf(e)){for(;a!==null;){var i=Ms(a);if(i!==null)switch(i.tag){case 3:if(i=i.stateNode,i.current.memoizedState.isDehydrated){var o=Ei(i.pendingLanes);if(o!==0){var s=i;for(s.pendingLanes|=2,s.entangledLanes|=2;o;){var c=1<<31-_r(o);s.entanglements[1]|=c,o&=~c}Rn(i),!(ve&6)&&(lf=xr()+500,Kc(0))}}break;case 31:case 13:s=fo(i,2),s!==null&&nr(s,i,2),$h(),q0(i,2)}if(i=Cv(n),i===null&&Wp(e,t,n,bf,r),i===a)break;a=i}a!==null&&n.stopPropagation()}else Wp(e,t,n,null,r)}}function Cv(e){return e=n0(e),H0(e)}var bf=null;function H0(e){if(bf=null,e=Uo(e),e!==null){var t=Ic(e);if(t===null)e=null;else{var r=t.tag;if(r===13){if(e=jE(t),e!==null)return e;e=null}else if(r===31){if(e=CE(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return bf=e,null}function i2(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(T5()){case kE:return 2;case TE:return 8;case Kd:case N5:return 32;case NE:return 268435456;default:return 32}default:return 32}}var Ev=!1,ai=null,ii=null,oi=null,hc=new Map,mc=new Map,Ua=[],Fz="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Dw(e,t){switch(e){case"focusin":case"focusout":ai=null;break;case"dragenter":case"dragleave":ii=null;break;case"mouseover":case"mouseout":oi=null;break;case"pointerover":case"pointerout":hc.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":mc.delete(t.pointerId)}}function gl(e,t,r,n,a,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[a]},t!==null&&(t=Ms(t),t!==null&&a2(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function Vz(e,t,r,n,a){switch(t){case"focusin":return ai=gl(ai,e,t,r,n,a),!0;case"dragenter":return ii=gl(ii,e,t,r,n,a),!0;case"mouseover":return oi=gl(oi,e,t,r,n,a),!0;case"pointerover":var i=a.pointerId;return hc.set(i,gl(hc.get(i)||null,e,t,r,n,a)),!0;case"gotpointercapture":return i=a.pointerId,mc.set(i,gl(mc.get(i)||null,e,t,r,n,a)),!0}return!1}function o2(e){var t=Uo(e.target);if(t!==null){var r=Ic(t);if(r!==null){if(t=r.tag,t===13){if(t=jE(r),t!==null){e.blockedOn=t,v1(e.priority,function(){Rw(r)});return}}else if(t===31){if(t=CE(r),t!==null){e.blockedOn=t,v1(e.priority,function(){Rw(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Bd(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Cv(e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Hg=n,r.target.dispatchEvent(n),Hg=null}else return t=Ms(r),t!==null&&a2(t),e.blockedOn=r,!1;t.shift()}return!0}function Pw(e,t,r){Bd(e)&&r.delete(t)}function Kz(){Ev=!1,ai!==null&&Bd(ai)&&(ai=null),ii!==null&&Bd(ii)&&(ii=null),oi!==null&&Bd(oi)&&(oi=null),hc.forEach(Pw),mc.forEach(Pw)}function Hu(e,t){e.blockedOn===t&&(e.blockedOn=null,Ev||(Ev=!0,dt.unstable_scheduleCallback(dt.unstable_NormalPriority,Kz)))}var Fu=null;function Mw(e){Fu!==e&&(Fu=e,dt.unstable_scheduleCallback(dt.unstable_NormalPriority,function(){Fu===e&&(Fu=null);for(var t=0;t<e.length;t+=3){var r=e[t],n=e[t+1],a=e[t+2];if(typeof n!="function"){if(H0(n||r)===null)continue;break}var i=Ms(r);i!==null&&(e.splice(t,3),t-=3,ov(i,{pending:!0,data:a,method:r.method,action:n},n,a))}}))}function xs(e){function t(c){return Hu(c,e)}ai!==null&&Hu(ai,e),ii!==null&&Hu(ii,e),oi!==null&&Hu(oi,e),hc.forEach(t),mc.forEach(t);for(var r=0;r<Ua.length;r++){var n=Ua[r];n.blockedOn===e&&(n.blockedOn=null)}for(;0<Ua.length&&(r=Ua[0],r.blockedOn===null);)o2(r),r.blockedOn===null&&Ua.shift();if(r=(e.ownerDocument||e).$$reactFormReplay,r!=null)for(n=0;n<r.length;n+=3){var a=r[n],i=r[n+1],o=a[ar]||null;if(typeof i=="function")o||Mw(r);else if(o){var s=null;if(i&&i.hasAttribute("formAction")){if(a=i,o=i[ar]||null)s=o.formAction;else if(H0(a)!==null)continue}else s=o.action;typeof s=="function"?r[n+1]=s:(r.splice(n,3),n-=3),Mw(r)}}}function s2(){function e(i){i.canIntercept&&i.info==="react-transition"&&i.intercept({handler:function(){return new Promise(function(o){return a=o})},focusReset:"manual",scroll:"manual"})}function t(){a!==null&&(a(),a=null),n||setTimeout(r,20)}function r(){if(!n&&!navigation.transition){var i=navigation.currentEntry;i&&i.url!=null&&navigation.navigate(i.url,{state:i.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var n=!1,a=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(r,100),function(){n=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),a!==null&&(a(),a=null)}}}function F0(e){this._internalRoot=e}qh.prototype.render=F0.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(q(409));var r=t.current,n=Sr();n2(r,n,e,t,null,null)};qh.prototype.unmount=F0.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;n2(e.current,2,null,e,null,null),$h(),t[Ps]=null}};function qh(e){this._internalRoot=e}qh.prototype.unstable_scheduleHydration=function(e){if(e){var t=zE();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Ua.length&&t!==0&&t<Ua[r].priority;r++);Ua.splice(r,0,e),r===0&&o2(e)}};var zw=_E.version;if(zw!=="19.2.3")throw Error(q(527,zw,"19.2.3"));ye.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(q(188)):(e=Object.keys(e).join(","),Error(q(268,e)));return e=S5(t),e=e!==null?EE(e):null,e=e===null?null:e.stateNode,e};var Gz={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:ie,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Vu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Vu.isDisabled&&Vu.supportsFiber)try{$c=Vu.inject(Gz),wr=Vu}catch{}}Ch.createRoot=function(e,t){if(!SE(e))throw Error(q(299));var r=!1,n="",a=JO,i=QO,o=eA;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onUncaughtError!==void 0&&(a=t.onUncaughtError),t.onCaughtError!==void 0&&(i=t.onCaughtError),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),t=t2(e,1,!1,null,null,r,n,null,a,i,o,s2),e[Ps]=t.current,$0(e),new F0(t)};Ch.hydrateRoot=function(e,t,r){if(!SE(e))throw Error(q(299));var n=!1,a="",i=JO,o=QO,s=eA,c=null;return r!=null&&(r.unstable_strictMode===!0&&(n=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onUncaughtError!==void 0&&(i=r.onUncaughtError),r.onCaughtError!==void 0&&(o=r.onCaughtError),r.onRecoverableError!==void 0&&(s=r.onRecoverableError),r.formState!==void 0&&(c=r.formState)),t=t2(e,1,!0,t,r??null,n,a,c,i,o,s,s2),t.context=r2(null),r=t.current,n=Sr(),n=Qy(n),a=ei(n),a.callback=null,ti(r,a,n),r=n,t.current.lanes=r,Uc(t,r),Rn(t),e[Ps]=t.current,$0(e),new qh(t)};Ch.version="19.2.3";function l2(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l2)}catch(e){console.error(e)}}l2(),gE.exports=Ch;var Yz=gE.exports;/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function pc(){return pc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},pc.apply(this,arguments)}var Xa;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Xa||(Xa={}));const Bw="popstate";function Xz(e){e===void 0&&(e={});function t(n,a){let{pathname:i,search:o,hash:s}=n.location;return Ov("",{pathname:i,search:o,hash:s},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:c2(a)}return Jz(t,r,null,e)}function it(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function V0(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Zz(){return Math.random().toString(36).substr(2,8)}function Iw(e,t){return{usr:e.state,key:e.key,idx:t}}function Ov(e,t,r,n){return r===void 0&&(r=null),pc({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Us(t):t,{state:r,key:t&&t.key||n||Zz()})}function c2(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Us(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function Jz(e,t,r,n){n===void 0&&(n={});let{window:a=document.defaultView,v5Compat:i=!1}=n,o=a.history,s=Xa.Pop,c=null,u=d();u==null&&(u=0,o.replaceState(pc({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function f(){s=Xa.Pop;let b=d(),y=b==null?null:b-u;u=b,c&&c({action:s,location:x.location,delta:y})}function h(b,y){s=Xa.Push;let g=Ov(x.location,b,y);u=d()+1;let w=Iw(g,u),_=x.createHref(g);try{o.pushState(w,"",_)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;a.location.assign(_)}i&&c&&c({action:s,location:x.location,delta:1})}function m(b,y){s=Xa.Replace;let g=Ov(x.location,b,y);u=d();let w=Iw(g,u),_=x.createHref(g);o.replaceState(w,"",_),i&&c&&c({action:s,location:x.location,delta:0})}function v(b){let y=a.location.origin!=="null"?a.location.origin:a.location.href,g=typeof b=="string"?b:c2(b);return g=g.replace(/ $/,"%20"),it(y,"No window.location.(origin|href) available to create URL for href: "+g),new URL(g,y)}let x={get action(){return s},get location(){return e(a,o)},listen(b){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(Bw,f),c=b,()=>{a.removeEventListener(Bw,f),c=null}},createHref(b){return t(a,b)},createURL:v,encodeLocation(b){let y=v(b);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:h,replace:m,go(b){return o.go(b)}};return x}var $w;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})($w||($w={}));function Qz(e,t,r){return r===void 0&&(r="/"),e3(e,t,r)}function e3(e,t,r,n){let a=typeof t=="string"?Us(t):t,i=f2(a.pathname||"/",r);if(i==null)return null;let o=u2(e);t3(o);let s=null;for(let c=0;s==null&&c<o.length;++c){let u=h3(i);s=u3(o[c],u)}return s}function u2(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let a=(i,o,s)=>{let c={relativePath:s===void 0?i.path||"":s,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(it(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=Fi([n,c.relativePath]),d=r.concat(c);i.children&&i.children.length>0&&(it(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),u2(i.children,t,d,u)),!(i.path==null&&!i.index)&&t.push({path:u,score:l3(u,i.index),routesMeta:d})};return e.forEach((i,o)=>{var s;if(i.path===""||!((s=i.path)!=null&&s.includes("?")))a(i,o);else for(let c of d2(i.path))a(i,o,c)}),t}function d2(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,a=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return a?[i,""]:[i];let o=d2(n.join("/")),s=[];return s.push(...o.map(c=>c===""?i:[i,c].join("/"))),a&&s.push(...o),s.map(c=>e.startsWith("/")&&c===""?"/":c)}function t3(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:c3(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const r3=/^:[\w-]+$/,n3=3,a3=2,i3=1,o3=10,s3=-2,Lw=e=>e==="*";function l3(e,t){let r=e.split("/"),n=r.length;return r.some(Lw)&&(n+=s3),t&&(n+=a3),r.filter(a=>!Lw(a)).reduce((a,i)=>a+(r3.test(i)?n3:i===""?i3:o3),n)}function c3(e,t){return e.length===t.length&&e.slice(0,-1).every((n,a)=>n===t[a])?e[e.length-1]-t[t.length-1]:0}function u3(e,t,r){let{routesMeta:n}=e,a={},i="/",o=[];for(let s=0;s<n.length;++s){let c=n[s],u=s===n.length-1,d=i==="/"?t:t.slice(i.length)||"/",f=d3({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),h=c.route;if(!f)return null;Object.assign(a,f.params),o.push({params:a,pathname:Fi([i,f.pathname]),pathnameBase:y3(Fi([i,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(i=Fi([i,f.pathnameBase]))}return o}function d3(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=f3(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let i=a[0],o=i.replace(/(.)\/+$/,"$1"),s=a.slice(1);return{params:n.reduce((u,d,f)=>{let{paramName:h,isOptional:m}=d;if(h==="*"){let x=s[f]||"";o=i.slice(0,i.length-x.length).replace(/(.)\/+$/,"$1")}const v=s[f];return m&&!v?u[h]=void 0:u[h]=(v||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:e}}function f3(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),V0(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,s,c)=>(n.push({paramName:s,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function h3(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return V0(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function f2(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}const m3=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,p3=e=>m3.test(e);function g3(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:a=""}=typeof e=="string"?Us(e):e,i;if(r)if(p3(r))i=r;else{if(r.includes("//")){let o=r;r=r.replace(/\/\/+/g,"/"),V0(!1,"Pathnames cannot have embedded double slashes - normalizing "+(o+" -> "+r))}r.startsWith("/")?i=Uw(r.substring(1),"/"):i=Uw(r,t)}else i=t;return{pathname:i,search:b3(n),hash:x3(a)}}function Uw(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function Vp(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function v3(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function h2(e,t){let r=v3(e);return t?r.map((n,a)=>a===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function m2(e,t,r,n){n===void 0&&(n=!1);let a;typeof e=="string"?a=Us(e):(a=pc({},e),it(!a.pathname||!a.pathname.includes("?"),Vp("?","pathname","search",a)),it(!a.pathname||!a.pathname.includes("#"),Vp("#","pathname","hash",a)),it(!a.search||!a.search.includes("#"),Vp("#","search","hash",a)));let i=e===""||a.pathname==="",o=i?"/":a.pathname,s;if(o==null)s=r;else{let f=t.length-1;if(!n&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),f-=1;a.pathname=h.join("/")}s=f>=0?t[f]:"/"}let c=g3(a,s),u=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const Fi=e=>e.join("/").replace(/\/\/+/g,"/"),y3=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),b3=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,x3=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function w3(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const p2=["post","put","patch","delete"];new Set(p2);const _3=["get",...p2];new Set(_3);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function gc(){return gc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gc.apply(this,arguments)}const K0=p.createContext(null),S3=p.createContext(null),Xc=p.createContext(null),Wh=p.createContext(null),vi=p.createContext({outlet:null,matches:[],isDataRoute:!1}),g2=p.createContext(null);function Zc(){return p.useContext(Wh)!=null}function Hh(){return Zc()||it(!1),p.useContext(Wh).location}function v2(e){p.useContext(Xc).static||p.useLayoutEffect(e)}function yi(){let{isDataRoute:e}=p.useContext(vi);return e?I3():j3()}function j3(){Zc()||it(!1);let e=p.useContext(K0),{basename:t,future:r,navigator:n}=p.useContext(Xc),{matches:a}=p.useContext(vi),{pathname:i}=Hh(),o=JSON.stringify(h2(a,r.v7_relativeSplatPath)),s=p.useRef(!1);return v2(()=>{s.current=!0}),p.useCallback(function(u,d){if(d===void 0&&(d={}),!s.current)return;if(typeof u=="number"){n.go(u);return}let f=m2(u,JSON.parse(o),i,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:Fi([t,f.pathname])),(d.replace?n.replace:n.push)(f,d.state,d)},[t,n,o,i,e])}const C3=p.createContext(null);function E3(e){let t=p.useContext(vi).outlet;return t&&p.createElement(C3.Provider,{value:e},t)}function O3(e,t){return A3(e,t)}function A3(e,t,r,n){Zc()||it(!1);let{navigator:a}=p.useContext(Xc),{matches:i}=p.useContext(vi),o=i[i.length-1],s=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=Hh(),d;if(t){var f;let b=typeof t=="string"?Us(t):t;c==="/"||(f=b.pathname)!=null&&f.startsWith(c)||it(!1),d=b}else d=u;let h=d.pathname||"/",m=h;if(c!=="/"){let b=c.replace(/^\//,"").split("/");m="/"+h.replace(/^\//,"").split("/").slice(b.length).join("/")}let v=Qz(e,{pathname:m}),x=D3(v&&v.map(b=>Object.assign({},b,{params:Object.assign({},s,b.params),pathname:Fi([c,a.encodeLocation?a.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?c:Fi([c,a.encodeLocation?a.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),i,r,n);return t&&x?p.createElement(Wh.Provider,{value:{location:gc({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Xa.Pop}},x):x}function k3(){let e=B3(),t=w3(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return p.createElement(p.Fragment,null,p.createElement("h2",null,"Unexpected Application Error!"),p.createElement("h3",{style:{fontStyle:"italic"}},t),r?p.createElement("pre",{style:a},r):null,null)}const T3=p.createElement(k3,null);class N3 extends p.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?p.createElement(vi.Provider,{value:this.props.routeContext},p.createElement(g2.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function R3(e){let{routeContext:t,match:r,children:n}=e,a=p.useContext(K0);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),p.createElement(vi.Provider,{value:t},n)}function D3(e,t,r,n){var a;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,s=(a=r)==null?void 0:a.errors;if(s!=null){let d=o.findIndex(f=>f.route.id&&(s==null?void 0:s[f.route.id])!==void 0);d>=0||it(!1),o=o.slice(0,Math.min(o.length,d+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<o.length;d++){let f=o[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:h,errors:m}=r,v=f.route.loader&&h[f.route.id]===void 0&&(!m||m[f.route.id]===void 0);if(f.route.lazy||v){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,f,h)=>{let m,v=!1,x=null,b=null;r&&(m=s&&f.route.id?s[f.route.id]:void 0,x=f.route.errorElement||T3,c&&(u<0&&h===0?($3("route-fallback"),v=!0,b=null):u===h&&(v=!0,b=f.route.hydrateFallbackElement||null)));let y=t.concat(o.slice(0,h+1)),g=()=>{let w;return m?w=x:v?w=b:f.route.Component?w=p.createElement(f.route.Component,null):f.route.element?w=f.route.element:w=d,p.createElement(R3,{match:f,routeContext:{outlet:d,matches:y,isDataRoute:r!=null},children:w})};return r&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?p.createElement(N3,{location:r.location,revalidation:r.revalidation,component:x,error:m,children:g(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):g()},null)}var y2=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(y2||{}),b2=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(b2||{});function P3(e){let t=p.useContext(K0);return t||it(!1),t}function M3(e){let t=p.useContext(S3);return t||it(!1),t}function z3(e){let t=p.useContext(vi);return t||it(!1),t}function x2(e){let t=z3(),r=t.matches[t.matches.length-1];return r.route.id||it(!1),r.route.id}function B3(){var e;let t=p.useContext(g2),r=M3(),n=x2();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function I3(){let{router:e}=P3(y2.UseNavigateStable),t=x2(b2.UseNavigateStable),r=p.useRef(!1);return v2(()=>{r.current=!0}),p.useCallback(function(a,i){i===void 0&&(i={}),r.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,gc({fromRouteId:t},i)))},[e,t])}const qw={};function $3(e,t,r){qw[e]||(qw[e]=!0)}function L3(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function w2(e){let{to:t,replace:r,state:n,relative:a}=e;Zc()||it(!1);let{future:i,static:o}=p.useContext(Xc),{matches:s}=p.useContext(vi),{pathname:c}=Hh(),u=yi(),d=m2(t,h2(s,i.v7_relativeSplatPath),c,a==="path"),f=JSON.stringify(d);return p.useEffect(()=>u(JSON.parse(f),{replace:r,state:n,relative:a}),[u,f,a,r,n]),null}function U3(e){return E3(e.context)}function wn(e){it(!1)}function q3(e){let{basename:t="/",children:r=null,location:n,navigationType:a=Xa.Pop,navigator:i,static:o=!1,future:s}=e;Zc()&&it(!1);let c=t.replace(/^\/*/,"/"),u=p.useMemo(()=>({basename:c,navigator:i,static:o,future:gc({v7_relativeSplatPath:!1},s)}),[c,s,i,o]);typeof n=="string"&&(n=Us(n));let{pathname:d="/",search:f="",hash:h="",state:m=null,key:v="default"}=n,x=p.useMemo(()=>{let b=f2(d,c);return b==null?null:{location:{pathname:b,search:f,hash:h,state:m,key:v},navigationType:a}},[c,d,f,h,m,v,a]);return x==null?null:p.createElement(Xc.Provider,{value:u},p.createElement(Wh.Provider,{children:r,value:x}))}function W3(e){let{children:t,location:r}=e;return O3(Av(t),r)}new Promise(()=>{});function Av(e,t){t===void 0&&(t=[]);let r=[];return p.Children.forEach(e,(n,a)=>{if(!p.isValidElement(n))return;let i=[...t,a];if(n.type===p.Fragment){r.push.apply(r,Av(n.props.children,i));return}n.type!==wn&&it(!1),!n.props.index||!n.props.children||it(!1);let o={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=Av(n.props.children,i)),r.push(o)}),r}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function kv(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(a=>[r,a]):[[r,n]])},[]))}function H3(e,t){let r=kv(e);return t&&t.forEach((n,a)=>{r.has(a)||t.getAll(a).forEach(i=>{r.append(a,i)})}),r}const F3="6";try{window.__reactRouterVersion=F3}catch{}const V3="startTransition",Ww=pE[V3];function K3(e){let{basename:t,children:r,future:n,window:a}=e,i=p.useRef();i.current==null&&(i.current=Xz({window:a,v5Compat:!0}));let o=i.current,[s,c]=p.useState({action:o.action,location:o.location}),{v7_startTransition:u}=n||{},d=p.useCallback(f=>{u&&Ww?Ww(()=>c(f)):c(f)},[c,u]);return p.useLayoutEffect(()=>o.listen(d),[o,d]),p.useEffect(()=>L3(n),[n]),p.createElement(q3,{basename:t,children:r,location:s.location,navigationType:s.action,navigator:o,future:n})}var Hw;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Hw||(Hw={}));var Fw;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Fw||(Fw={}));function G0(e){let t=p.useRef(kv(e)),r=p.useRef(!1),n=Hh(),a=p.useMemo(()=>H3(n.search,r.current?null:t.current),[n.search]),i=yi(),o=p.useCallback((s,c)=>{const u=kv(typeof s=="function"?s(a):s);r.current=!0,i("?"+u,c)},[i,a]);return[a,o]}var Tv=function(e,t){return Tv=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])},Tv(e,t)};function _2(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Tv(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var xf=function(){return xf=Object.assign||function(t){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},xf.apply(this,arguments)};function qs(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}function S2(e,t,r,n){var a=arguments.length,i=a<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,r,i):o(t,r))||i);return a>3&&i&&Object.defineProperty(t,r,i),i}function j2(e,t){return function(r,n){t(r,n,e)}}function C2(e,t,r,n,a,i){function o(y){if(y!==void 0&&typeof y!="function")throw new TypeError("Function expected");return y}for(var s=n.kind,c=s==="getter"?"get":s==="setter"?"set":"value",u=!t&&e?n.static?e:e.prototype:null,d=t||(u?Object.getOwnPropertyDescriptor(u,n.name):{}),f,h=!1,m=r.length-1;m>=0;m--){var v={};for(var x in n)v[x]=x==="access"?{}:n[x];for(var x in n.access)v.access[x]=n.access[x];v.addInitializer=function(y){if(h)throw new TypeError("Cannot add initializers after decoration has completed");i.push(o(y||null))};var b=(0,r[m])(s==="accessor"?{get:d.get,set:d.set}:d[c],v);if(s==="accessor"){if(b===void 0)continue;if(b===null||typeof b!="object")throw new TypeError("Object expected");(f=o(b.get))&&(d.get=f),(f=o(b.set))&&(d.set=f),(f=o(b.init))&&a.unshift(f)}else(f=o(b))&&(s==="field"?a.unshift(f):d[c]=f)}u&&Object.defineProperty(u,n.name,d),h=!0}function E2(e,t,r){for(var n=arguments.length>2,a=0;a<t.length;a++)r=n?t[a].call(e,r):t[a].call(e);return n?r:void 0}function O2(e){return typeof e=="symbol"?e:"".concat(e)}function A2(e,t,r){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:r?"".concat(r," ",t):t})}function k2(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function X(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function s(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):a(d.value).then(s,c)}u((n=n.apply(e,t||[])).next())})}function T2(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,a,i,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=s(0),o.throw=s(1),o.return=s(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function s(u){return function(d){return c([u,d])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(r=0)),r;)try{if(n=1,a&&(i=u[0]&2?a.return:u[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,u[1])).done)return i;switch(a=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,a=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(d){u=[6,d],a=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}var Fh=Object.create?function(e,t,r,n){n===void 0&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);(!a||("get"in a?!t.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]};function N2(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&Fh(t,e,r)}function wf(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Y0(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),a,i=[],o;try{for(;(t===void 0||t-- >0)&&!(a=n.next()).done;)i.push(a.value)}catch(s){o={error:s}}finally{try{a&&!a.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return i}function R2(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Y0(arguments[t]));return e}function D2(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),a=0,t=0;t<r;t++)for(var i=arguments[t],o=0,s=i.length;o<s;o++,a++)n[a]=i[o];return n}function P2(e,t,r){if(r||arguments.length===2)for(var n=0,a=t.length,i;n<a;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}function ws(e){return this instanceof ws?(this.v=e,this):new ws(e)}function M2(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),a,i=[];return a=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),s("next"),s("throw"),s("return",o),a[Symbol.asyncIterator]=function(){return this},a;function o(m){return function(v){return Promise.resolve(v).then(m,f)}}function s(m,v){n[m]&&(a[m]=function(x){return new Promise(function(b,y){i.push([m,x,b,y])>1||c(m,x)})},v&&(a[m]=v(a[m])))}function c(m,v){try{u(n[m](v))}catch(x){h(i[0][3],x)}}function u(m){m.value instanceof ws?Promise.resolve(m.value.v).then(d,f):h(i[0][2],m)}function d(m){c("next",m)}function f(m){c("throw",m)}function h(m,v){m(v),i.shift(),i.length&&c(i[0][0],i[0][1])}}function z2(e){var t,r;return t={},n("next"),n("throw",function(a){throw a}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(a,i){t[a]=e[a]?function(o){return(r=!r)?{value:ws(e[a](o)),done:!1}:i?i(o):o}:i}}function B2(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof wf=="function"?wf(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(i){r[i]=e[i]&&function(o){return new Promise(function(s,c){o=e[i](o),a(s,c,o.done,o.value)})}}function a(i,o,s,c){Promise.resolve(c).then(function(u){i({value:u,done:s})},o)}}function I2(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var G3=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t},Nv=function(e){return Nv=Object.getOwnPropertyNames||function(t){var r=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[r.length]=n);return r},Nv(e)};function $2(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r=Nv(e),n=0;n<r.length;n++)r[n]!=="default"&&Fh(t,e,r[n]);return G3(t,e),t}function L2(e){return e&&e.__esModule?e:{default:e}}function U2(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)}function q2(e,t,r,n,a){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!a)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!a:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?a.call(e,r):a?a.value=r:t.set(e,r),r}function W2(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function H2(e,t,r){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var n,a;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=t[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=t[Symbol.dispose],r&&(a=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");a&&(n=function(){try{a.call(this)}catch(i){return Promise.reject(i)}}),e.stack.push({value:t,dispose:n,async:r})}else r&&e.stack.push({async:!0});return t}var Y3=typeof SuppressedError=="function"?SuppressedError:function(e,t,r){var n=new Error(r);return n.name="SuppressedError",n.error=e,n.suppressed=t,n};function F2(e){function t(i){e.error=e.hasError?new Y3(i,e.error,"An error was suppressed during disposal."):i,e.hasError=!0}var r,n=0;function a(){for(;r=e.stack.pop();)try{if(!r.async&&n===1)return n=0,e.stack.push(r),Promise.resolve().then(a);if(r.dispose){var i=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(i).then(a,function(o){return t(o),a()})}else n|=1}catch(o){t(o)}if(n===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return a()}function V2(e,t){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,n,a,i,o){return n?t?".jsx":".js":a&&(!i||!o)?r:a+i+"."+o.toLowerCase()+"js"}):e}const X3={__extends:_2,__assign:xf,__rest:qs,__decorate:S2,__param:j2,__esDecorate:C2,__runInitializers:E2,__propKey:O2,__setFunctionName:A2,__metadata:k2,__awaiter:X,__generator:T2,__createBinding:Fh,__exportStar:N2,__values:wf,__read:Y0,__spread:R2,__spreadArrays:D2,__spreadArray:P2,__await:ws,__asyncGenerator:M2,__asyncDelegator:z2,__asyncValues:B2,__makeTemplateObject:I2,__importStar:$2,__importDefault:L2,__classPrivateFieldGet:U2,__classPrivateFieldSet:q2,__classPrivateFieldIn:W2,__addDisposableResource:H2,__disposeResources:F2,__rewriteRelativeImportExtension:V2},Z3=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:H2,get __assign(){return xf},__asyncDelegator:z2,__asyncGenerator:M2,__asyncValues:B2,__await:ws,__awaiter:X,__classPrivateFieldGet:U2,__classPrivateFieldIn:W2,__classPrivateFieldSet:q2,__createBinding:Fh,__decorate:S2,__disposeResources:F2,__esDecorate:C2,__exportStar:N2,__extends:_2,__generator:T2,__importDefault:L2,__importStar:$2,__makeTemplateObject:I2,__metadata:k2,__param:j2,__propKey:O2,__read:Y0,__rest:qs,__rewriteRelativeImportExtension:V2,__runInitializers:E2,__setFunctionName:A2,__spread:R2,__spreadArray:P2,__spreadArrays:D2,__values:wf,default:X3},Symbol.toStringTag,{value:"Module"})),J3="modulepreload",Q3=function(e){return"/"+e},Vw={},Ws=function(t,r,n){let a=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),s=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));a=Promise.allSettled(r.map(c=>{if(c=Q3(c),c in Vw)return;Vw[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":J3,u||(f.as="script"),f.crossOrigin="",f.href=c,s&&f.setAttribute("nonce",s),document.head.appendChild(f),u)return new Promise((h,m)=>{f.addEventListener("load",h),f.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(o){const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=o,window.dispatchEvent(s),!s.defaultPrevented)throw o}return a.then(o=>{for(const s of o||[])s.status==="rejected"&&i(s.reason);return t().catch(i)})},e6=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Ws(async()=>{const{default:n}=await Promise.resolve().then(()=>mo);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class X0 extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class Kw extends X0{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Gw extends X0{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Yw extends X0{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Rv;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Rv||(Rv={}));class t6{constructor(t,{headers:r={},customFetch:n,region:a=Rv.Any}={}){this.url=t,this.headers=r,this.region=a,this.fetch=e6(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return X(this,arguments,void 0,function*(r,n={}){var a;try{const{headers:i,method:o,body:s,signal:c}=n;let u={},{region:d}=n;d||(d=this.region);const f=new URL(`${this.url}/${r}`);d&&d!=="any"&&(u["x-region"]=d,f.searchParams.set("forceFunctionRegion",d));let h;s&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)?typeof Blob<"u"&&s instanceof Blob||s instanceof ArrayBuffer?(u["Content-Type"]="application/octet-stream",h=s):typeof s=="string"?(u["Content-Type"]="text/plain",h=s):typeof FormData<"u"&&s instanceof FormData?h=s:(u["Content-Type"]="application/json",h=JSON.stringify(s)):h=s;const m=yield this.fetch(f.toString(),{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},u),this.headers),i),body:h,signal:c}).catch(y=>{throw y.name==="AbortError"?y:new Kw(y)}),v=m.headers.get("x-relay-error");if(v&&v==="true")throw new Gw(m);if(!m.ok)throw new Yw(m);let x=((a=m.headers.get("Content-Type"))!==null&&a!==void 0?a:"text/plain").split(";")[0].trim(),b;return x==="application/json"?b=yield m.json():x==="application/octet-stream"||x==="application/pdf"?b=yield m.blob():x==="text/event-stream"?b=m:x==="multipart/form-data"?b=yield m.formData():b=yield m.text(),{data:b,error:null,response:m}}catch(i){return i instanceof Error&&i.name==="AbortError"?{data:null,error:new Kw(i)}:{data:null,error:i,response:i instanceof Yw||i instanceof Gw?i.context:void 0}}})}}var qt={};const Hs=iE(Z3);var Ku={},Gu={},Yu={},Xu={},Zu={},r6=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},_s=r6();const n6=_s.fetch,K2=_s.fetch.bind(_s),G2=_s.Headers,a6=_s.Request,i6=_s.Response,mo=Object.freeze(Object.defineProperty({__proto__:null,Headers:G2,Request:a6,Response:i6,default:K2,fetch:n6},Symbol.toStringTag,{value:"Module"})),o6=iE(mo);var Ju={},Xw;function Y2(){if(Xw)return Ju;Xw=1,Object.defineProperty(Ju,"__esModule",{value:!0});class e extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return Ju.default=e,Ju}var Zw;function X2(){if(Zw)return Zu;Zw=1,Object.defineProperty(Zu,"__esModule",{value:!0});const e=Hs,t=e.__importDefault(o6),r=e.__importDefault(Y2());class n{constructor(i){var o,s;this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=new Headers(i.headers),this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=(o=i.shouldThrowOnError)!==null&&o!==void 0?o:!1,this.signal=i.signal,this.isMaybeSingle=(s=i.isMaybeSingle)!==null&&s!==void 0?s:!1,i.fetch?this.fetch=i.fetch:typeof fetch>"u"?this.fetch=t.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,o){return this.headers=new Headers(this.headers),this.headers.set(i,o),this}then(i,o){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const s=this.fetch;let c=s(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async u=>{var d,f,h,m;let v=null,x=null,b=null,y=u.status,g=u.statusText;if(u.ok){if(this.method!=="HEAD"){const j=await u.text();j===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((d=this.headers.get("Accept"))===null||d===void 0)&&d.includes("application/vnd.pgrst.plan+text"))?x=j:x=JSON.parse(j))}const _=(f=this.headers.get("Prefer"))===null||f===void 0?void 0:f.match(/count=(exact|planned|estimated)/),S=(h=u.headers.get("content-range"))===null||h===void 0?void 0:h.split("/");_&&S&&S.length>1&&(b=parseInt(S[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(x)&&(x.length>1?(v={code:"PGRST116",details:`Results contain ${x.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},x=null,b=null,y=406,g="Not Acceptable"):x.length===1?x=x[0]:x=null)}else{const _=await u.text();try{v=JSON.parse(_),Array.isArray(v)&&u.status===404&&(x=[],v=null,y=200,g="OK")}catch{u.status===404&&_===""?(y=204,g="No Content"):v={message:_}}if(v&&this.isMaybeSingle&&(!((m=v==null?void 0:v.details)===null||m===void 0)&&m.includes("0 rows"))&&(v=null,y=200,g="OK"),v&&this.shouldThrowOnError)throw new r.default(v)}return{error:v,data:x,count:b,status:y,statusText:g}});return this.shouldThrowOnError||(c=c.catch(u=>{var d,f,h;return{error:{message:`${(d=u==null?void 0:u.name)!==null&&d!==void 0?d:"FetchError"}: ${u==null?void 0:u.message}`,details:`${(f=u==null?void 0:u.stack)!==null&&f!==void 0?f:""}`,hint:"",code:`${(h=u==null?void 0:u.code)!==null&&h!==void 0?h:""}`},data:null,count:null,status:0,statusText:""}})),c.then(i,o)}returns(){return this}overrideTypes(){return this}}return Zu.default=n,Zu}var Jw;function Z2(){if(Jw)return Xu;Jw=1,Object.defineProperty(Xu,"__esModule",{value:!0});const t=Hs.__importDefault(X2());class r extends t.default{select(a){let i=!1;const o=(a??"*").split("").map(s=>/\s/.test(s)&&!i?"":(s==='"'&&(i=!i),s)).join("");return this.url.searchParams.set("select",o),this.headers.append("Prefer","return=representation"),this}order(a,{ascending:i=!0,nullsFirst:o,foreignTable:s,referencedTable:c=s}={}){const u=c?`${c}.order`:"order",d=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${d?`${d},`:""}${a}.${i?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(a,{foreignTable:i,referencedTable:o=i}={}){const s=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(s,`${a}`),this}range(a,i,{foreignTable:o,referencedTable:s=o}={}){const c=typeof s>"u"?"offset":`${s}.offset`,u=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(c,`${a}`),this.url.searchParams.set(u,`${i-a+1}`),this}abortSignal(a){return this.signal=a,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:a=!1,verbose:i=!1,settings:o=!1,buffers:s=!1,wal:c=!1,format:u="text"}={}){var d;const f=[a?"analyze":null,i?"verbose":null,o?"settings":null,s?"buffers":null,c?"wal":null].filter(Boolean).join("|"),h=(d=this.headers.get("Accept"))!==null&&d!==void 0?d:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${u}; for="${h}"; options=${f};`),u==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(a){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${a}`),this}}return Xu.default=r,Xu}var Qw;function Z0(){if(Qw)return Yu;Qw=1,Object.defineProperty(Yu,"__esModule",{value:!0});const t=Hs.__importDefault(Z2()),r=new RegExp("[,()]");class n extends t.default{eq(i,o){return this.url.searchParams.append(i,`eq.${o}`),this}neq(i,o){return this.url.searchParams.append(i,`neq.${o}`),this}gt(i,o){return this.url.searchParams.append(i,`gt.${o}`),this}gte(i,o){return this.url.searchParams.append(i,`gte.${o}`),this}lt(i,o){return this.url.searchParams.append(i,`lt.${o}`),this}lte(i,o){return this.url.searchParams.append(i,`lte.${o}`),this}like(i,o){return this.url.searchParams.append(i,`like.${o}`),this}likeAllOf(i,o){return this.url.searchParams.append(i,`like(all).{${o.join(",")}}`),this}likeAnyOf(i,o){return this.url.searchParams.append(i,`like(any).{${o.join(",")}}`),this}ilike(i,o){return this.url.searchParams.append(i,`ilike.${o}`),this}ilikeAllOf(i,o){return this.url.searchParams.append(i,`ilike(all).{${o.join(",")}}`),this}ilikeAnyOf(i,o){return this.url.searchParams.append(i,`ilike(any).{${o.join(",")}}`),this}is(i,o){return this.url.searchParams.append(i,`is.${o}`),this}in(i,o){const s=Array.from(new Set(o)).map(c=>typeof c=="string"&&r.test(c)?`"${c}"`:`${c}`).join(",");return this.url.searchParams.append(i,`in.(${s})`),this}contains(i,o){return typeof o=="string"?this.url.searchParams.append(i,`cs.${o}`):Array.isArray(o)?this.url.searchParams.append(i,`cs.{${o.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(o)}`),this}containedBy(i,o){return typeof o=="string"?this.url.searchParams.append(i,`cd.${o}`):Array.isArray(o)?this.url.searchParams.append(i,`cd.{${o.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(o)}`),this}rangeGt(i,o){return this.url.searchParams.append(i,`sr.${o}`),this}rangeGte(i,o){return this.url.searchParams.append(i,`nxl.${o}`),this}rangeLt(i,o){return this.url.searchParams.append(i,`sl.${o}`),this}rangeLte(i,o){return this.url.searchParams.append(i,`nxr.${o}`),this}rangeAdjacent(i,o){return this.url.searchParams.append(i,`adj.${o}`),this}overlaps(i,o){return typeof o=="string"?this.url.searchParams.append(i,`ov.${o}`):this.url.searchParams.append(i,`ov.{${o.join(",")}}`),this}textSearch(i,o,{config:s,type:c}={}){let u="";c==="plain"?u="pl":c==="phrase"?u="ph":c==="websearch"&&(u="w");const d=s===void 0?"":`(${s})`;return this.url.searchParams.append(i,`${u}fts${d}.${o}`),this}match(i){return Object.entries(i).forEach(([o,s])=>{this.url.searchParams.append(o,`eq.${s}`)}),this}not(i,o,s){return this.url.searchParams.append(i,`not.${o}.${s}`),this}or(i,{foreignTable:o,referencedTable:s=o}={}){const c=s?`${s}.or`:"or";return this.url.searchParams.append(c,`(${i})`),this}filter(i,o,s){return this.url.searchParams.append(i,`${o}.${s}`),this}}return Yu.default=n,Yu}var e_;function J2(){if(e_)return Gu;e_=1,Object.defineProperty(Gu,"__esModule",{value:!0});const t=Hs.__importDefault(Z0());class r{constructor(a,{headers:i={},schema:o,fetch:s}){this.url=a,this.headers=new Headers(i),this.schema=o,this.fetch=s}select(a,i){const{head:o=!1,count:s}=i??{},c=o?"HEAD":"GET";let u=!1;const d=(a??"*").split("").map(f=>/\s/.test(f)&&!u?"":(f==='"'&&(u=!u),f)).join("");return this.url.searchParams.set("select",d),s&&this.headers.append("Prefer",`count=${s}`),new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(a,{count:i,defaultToNull:o=!0}={}){var s;const c="POST";if(i&&this.headers.append("Prefer",`count=${i}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(a)){const u=a.reduce((d,f)=>d.concat(Object.keys(f)),[]);if(u.length>0){const d=[...new Set(u)].map(f=>`"${f}"`);this.url.searchParams.set("columns",d.join(","))}}return new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}upsert(a,{onConflict:i,ignoreDuplicates:o=!1,count:s,defaultToNull:c=!0}={}){var u;const d="POST";if(this.headers.append("Prefer",`resolution=${o?"ignore":"merge"}-duplicates`),i!==void 0&&this.url.searchParams.set("on_conflict",i),s&&this.headers.append("Prefer",`count=${s}`),c||this.headers.append("Prefer","missing=default"),Array.isArray(a)){const f=a.reduce((h,m)=>h.concat(Object.keys(m)),[]);if(f.length>0){const h=[...new Set(f)].map(m=>`"${m}"`);this.url.searchParams.set("columns",h.join(","))}}return new t.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}update(a,{count:i}={}){var o;const s="PATCH";return i&&this.headers.append("Prefer",`count=${i}`),new t.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}delete({count:a}={}){var i;const o="DELETE";return a&&this.headers.append("Prefer",`count=${a}`),new t.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}}return Gu.default=r,Gu}var t_;function s6(){if(t_)return Ku;t_=1,Object.defineProperty(Ku,"__esModule",{value:!0});const e=Hs,t=e.__importDefault(J2()),r=e.__importDefault(Z0());class n{constructor(i,{headers:o={},schema:s,fetch:c}={}){this.url=i,this.headers=new Headers(o),this.schemaName=s,this.fetch=c}from(i){const o=new URL(`${this.url}/${i}`);return new t.default(o,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(i){return new n(this.url,{headers:this.headers,schema:i,fetch:this.fetch})}rpc(i,o={},{head:s=!1,get:c=!1,count:u}={}){var d;let f;const h=new URL(`${this.url}/rpc/${i}`);let m;s||c?(f=s?"HEAD":"GET",Object.entries(o).filter(([x,b])=>b!==void 0).map(([x,b])=>[x,Array.isArray(b)?`{${b.join(",")}}`:`${b}`]).forEach(([x,b])=>{h.searchParams.append(x,b)})):(f="POST",m=o);const v=new Headers(this.headers);return u&&v.set("Prefer",`count=${u}`),new r.default({method:f,url:h,headers:v,schema:this.schemaName,body:m,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}}return Ku.default=n,Ku}Object.defineProperty(qt,"__esModule",{value:!0});var Q2=qt.PostgrestError=ck=qt.PostgrestBuilder=sk=qt.PostgrestTransformBuilder=ik=qt.PostgrestFilterBuilder=nk=qt.PostgrestQueryBuilder=tk=qt.PostgrestClient=void 0;const Fs=Hs,ek=Fs.__importDefault(s6());var tk=qt.PostgrestClient=ek.default;const rk=Fs.__importDefault(J2());var nk=qt.PostgrestQueryBuilder=rk.default;const ak=Fs.__importDefault(Z0());var ik=qt.PostgrestFilterBuilder=ak.default;const ok=Fs.__importDefault(Z2());var sk=qt.PostgrestTransformBuilder=ok.default;const lk=Fs.__importDefault(X2());var ck=qt.PostgrestBuilder=lk.default;const uk=Fs.__importDefault(Y2());Q2=qt.PostgrestError=uk.default;var dk=qt.default={PostgrestClient:ek.default,PostgrestQueryBuilder:rk.default,PostgrestFilterBuilder:ak.default,PostgrestTransformBuilder:ok.default,PostgrestBuilder:lk.default,PostgrestError:uk.default};const l6=aE({__proto__:null,get PostgrestBuilder(){return ck},get PostgrestClient(){return tk},get PostgrestError(){return Q2},get PostgrestFilterBuilder(){return ik},get PostgrestQueryBuilder(){return nk},get PostgrestTransformBuilder(){return sk},default:dk},[qt]),{PostgrestClient:c6,PostgrestQueryBuilder:vre,PostgrestFilterBuilder:yre,PostgrestTransformBuilder:bre,PostgrestBuilder:xre,PostgrestError:wre}=dk||l6;class u6{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,a=parseInt(n.replace(/^v/,"").split(".")[0]);return a>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${a} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${a} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const d6="2.78.0",f6=`realtime-js/${d6}`,h6="1.0.0",Dv=1e4,m6=1e3,p6=100;var Kl;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Kl||(Kl={}));var st;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(st||(st={}));var rn;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(rn||(rn={}));var Pv;(function(e){e.websocket="websocket"})(Pv||(Pv={}));var Di;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Di||(Di={}));class g6{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const a=r.getUint8(1),i=r.getUint8(2);let o=this.HEADER_LENGTH+2;const s=n.decode(t.slice(o,o+a));o=o+a;const c=n.decode(t.slice(o,o+i));o=o+i;const u=JSON.parse(n.decode(t.slice(o,t.byteLength)));return{ref:null,topic:s,event:c,payload:u}}}class fk{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ke;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(ke||(ke={}));const r_=(e,t,r={})=>{var n;const a=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((i,o)=>(i[o]=v6(o,e,t,a),i),{}):{}},v6=(e,t,r,n)=>{const a=t.find(s=>s.name===e),i=a==null?void 0:a.type,o=r[e];return i&&!n.includes(i)?hk(i,o):Mv(o)},hk=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return w6(t,r)}switch(e){case ke.bool:return y6(t);case ke.float4:case ke.float8:case ke.int2:case ke.int4:case ke.int8:case ke.numeric:case ke.oid:return b6(t);case ke.json:case ke.jsonb:return x6(t);case ke.timestamp:return _6(t);case ke.abstime:case ke.date:case ke.daterange:case ke.int4range:case ke.int8range:case ke.money:case ke.reltime:case ke.text:case ke.time:case ke.timestamptz:case ke.timetz:case ke.tsrange:case ke.tstzrange:return Mv(t);default:return Mv(t)}},Mv=e=>e,y6=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},b6=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},x6=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},w6=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const o=e.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(s=>hk(t,s))}return e},_6=e=>typeof e=="string"?e.replace(" ","T"):e,mk=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class Kp{constructor(t,r,n={},a=Dv){this.channel=t,this.event=r,this.payload=n,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var n_;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(n_||(n_={}));class Gl{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},a=>{const{onJoin:i,onLeave:o,onSync:s}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Gl.syncState(this.state,a,i,o),this.pendingDiffs.forEach(c=>{this.state=Gl.syncDiff(this.state,c,i,o)}),this.pendingDiffs=[],s()}),this.channel._on(n.diff,{},a=>{const{onJoin:i,onLeave:o,onSync:s}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=Gl.syncDiff(this.state,a,i,o),s())}),this.onJoin((a,i,o)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:i,newPresences:o})}),this.onLeave((a,i,o)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,a){const i=this.cloneDeep(t),o=this.transformState(r),s={},c={};return this.map(i,(u,d)=>{o[u]||(c[u]=d)}),this.map(o,(u,d)=>{const f=i[u];if(f){const h=d.map(b=>b.presence_ref),m=f.map(b=>b.presence_ref),v=d.filter(b=>m.indexOf(b.presence_ref)<0),x=f.filter(b=>h.indexOf(b.presence_ref)<0);v.length>0&&(s[u]=v),x.length>0&&(c[u]=x)}else s[u]=d}),this.syncDiff(i,{joins:s,leaves:c},n,a)}static syncDiff(t,r,n,a){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),a||(a=()=>{}),this.map(i,(s,c)=>{var u;const d=(u=t[s])!==null&&u!==void 0?u:[];if(t[s]=this.cloneDeep(c),d.length>0){const f=t[s].map(m=>m.presence_ref),h=d.filter(m=>f.indexOf(m.presence_ref)<0);t[s].unshift(...h)}n(s,d,c)}),this.map(o,(s,c)=>{let u=t[s];if(!u)return;const d=c.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),t[s]=u,a(s,u,c),u.length===0&&delete t[s]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const a=t[n];return"metas"in a?r[n]=a.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=a,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var a_;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(a_||(a_={}));var Yl;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Yl||(Yl={}));var $n;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})($n||($n={}));class J0{constructor(t,r={config:{}},n){var a,i;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=st.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Kp(this,rn.join,this.params,this.timeout),this.rejoinTimer=new fk(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=st.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=st.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=st.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=st.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=st.errored,this.rejoinTimer.scheduleTimeout())}),this._on(rn.reply,{},(o,s)=>{this._trigger(this._replyEventName(s),o)}),this.presence=new Gl(this),this.broadcastEndpointURL=mk(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(a=this.params.config)===null||a===void 0?void 0:a.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,a,i;if(this.socket.isConnected()||this.socket.connect(),this.state==st.closed){const{config:{broadcast:o,presence:s,private:c}}=this.params,u=(a=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(m=>m.filter))!==null&&a!==void 0?a:[],d=!!this.bindings[Yl.PRESENCE]&&this.bindings[Yl.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,f={},h={broadcast:o,presence:Object.assign(Object.assign({},s),{enabled:d}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(m=>t==null?void 0:t($n.CHANNEL_ERROR,m)),this._onClose(()=>t==null?void 0:t($n.CLOSED)),this.updateJoinPayload(Object.assign({config:h},f)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:m})=>{var v;if(this.socket.setAuth(),m===void 0){t==null||t($n.SUBSCRIBED);return}else{const x=this.bindings.postgres_changes,b=(v=x==null?void 0:x.length)!==null&&v!==void 0?v:0,y=[];for(let g=0;g<b;g++){const w=x[g],{filter:{event:_,schema:S,table:j,filter:C}}=w,E=m&&m[g];if(E&&E.event===_&&E.schema===S&&E.table===j&&E.filter===C)y.push(Object.assign(Object.assign({},w),{id:E.id}));else{this.unsubscribe(),this.state=st.errored,t==null||t($n.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=y,t&&t($n.SUBSCRIBED);return}}).receive("error",m=>{this.state=st.errored,t==null||t($n.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(m).join(", ")||"error")))}).receive("timeout",()=>{t==null||t($n.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===st.joined&&t===Yl.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,r,n)}async httpSend(t,r,n={}){var a;const i=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const o={method:"POST",headers:{Authorization:i,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},s=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(a=n.timeout)!==null&&a!==void 0?a:this.timeout);if(s.status===202)return{success:!0};let c=s.statusText;try{const u=await s.json();c=u.error||u.message||c}catch{}return Promise.reject(new Error(c))}async send(t,r={}){var n,a;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:o}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((a=u.body)===null||a===void 0?void 0:a.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,s,c;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(s=(o=this.params)===null||o===void 0?void 0:o.config)===null||s===void 0?void 0:s.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=st.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(rn.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(a=>{n=new Kp(this,rn.leave,{},t),n.receive("ok",()=>{r(),a("ok")}).receive("timeout",()=>{r(),a("timed out")}).receive("error",()=>{a("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=st.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const a=new AbortController,i=setTimeout(()=>a.abort(),n),o=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:a.signal}));return clearTimeout(i),o}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new Kp(this,t,r,n);return this._canPush()?a.send():this._addToPushBuffer(a),a}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>p6){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var a,i;const o=t.toLocaleLowerCase(),{close:s,error:c,leave:u,join:d}=rn;if(n&&[s,c,u,d].indexOf(o)>=0&&n!==this._joinRef())return;let h=this._onMessage(o,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(m=>{var v,x,b;return((v=m.filter)===null||v===void 0?void 0:v.event)==="*"||((b=(x=m.filter)===null||x===void 0?void 0:x.event)===null||b===void 0?void 0:b.toLocaleLowerCase())===o}).map(m=>m.callback(h,n)):(i=this.bindings[o])===null||i===void 0||i.filter(m=>{var v,x,b,y,g,w;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in m){const _=m.id,S=(v=m.filter)===null||v===void 0?void 0:v.event;return _&&((x=r.ids)===null||x===void 0?void 0:x.includes(_))&&(S==="*"||(S==null?void 0:S.toLocaleLowerCase())===((b=r.data)===null||b===void 0?void 0:b.type.toLocaleLowerCase()))}else{const _=(g=(y=m==null?void 0:m.filter)===null||y===void 0?void 0:y.event)===null||g===void 0?void 0:g.toLocaleLowerCase();return _==="*"||_===((w=r==null?void 0:r.event)===null||w===void 0?void 0:w.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===o}).map(m=>{if(typeof h=="object"&&"ids"in h){const v=h.data,{schema:x,table:b,commit_timestamp:y,type:g,errors:w}=v;h=Object.assign(Object.assign({},{schema:x,table:b,commit_timestamp:y,eventType:g,new:{},old:{},errors:w}),this._getPayloadRecords(v))}m.callback(h,n)})}_isClosed(){return this.state===st.closed}_isJoined(){return this.state===st.joined}_isJoining(){return this.state===st.joining}_isLeaving(){return this.state===st.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const a=t.toLocaleLowerCase(),i={type:a,filter:r,callback:n};return this.bindings[a]?this.bindings[a].push(i):this.bindings[a]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(a=>{var i;return!(((i=a.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&J0.isEqual(a.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(rn.close,{},t)}_onError(t){this._on(rn.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=st.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=r_(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=r_(t.columns,t.old_record)),r}}const Gp=()=>{},Qu={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},S6=[1e3,2e3,5e3,1e4],j6=1e4,C6=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class E6{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Dv,this.transport=null,this.heartbeatIntervalMs=Qu.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Gp,this.ref=0,this.reconnectTimer=null,this.logger=Gp,this.conn=null,this.sendBuffer=[],this.serializer=new g6,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=a=>{let i;return a?i=a:typeof fetch>"u"?i=(...o)=>Ws(async()=>{const{default:s}=await Promise.resolve().then(()=>mo);return{default:s}},void 0).then(({default:s})=>s(...o)).catch(s=>{throw new Error(`Failed to load @supabase/node-fetch: ${s.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):i=fetch,(...o)=>i(...o)},!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${Pv.websocket}`,this.httpEndpoint=mk(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=u6.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:h6}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},t?this.conn.close(t,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Kl.connecting:return Di.Connecting;case Kl.open:return Di.Open;case Kl.closing:return Di.Closing;default:return Di.Closed}}isConnected(){return this.connectionState()===Di.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,a=this.getChannels().find(i=>i.topic===n);if(a)return a;{const i=new J0(`realtime:${t}`,r,this);return this.channels.push(i),i}}push(t){const{topic:r,event:n,payload:a,ref:i}=t,o=()=>{this.encode(t,s=>{var c;(c=this.conn)===null||c===void 0||c.send(s)})};this.log("push",`${r} ${n} (${i})`,a),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(m6,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Qu.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:a,payload:i,ref:o}=r,s=o?`(${o})`:"",c=i.status||"";this.log("receive",`${c} ${n} ${a} ${s}`.trim(),i),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(a,i,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(rn.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",a=new URLSearchParams(r);return`${t}${n}${a}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([C6],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r;t?r=t:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const a={access_token:r,version:f6};r&&n.updateJoinPayload(a),n.joinedOnce&&n._isJoined()&&n._push(rn.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(a){this.log("error",`error in ${t} callback`,a)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new fk(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Qu.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,a,i,o,s,c,u,d;if(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:Dv,this.heartbeatIntervalMs=(a=t==null?void 0:t.heartbeatIntervalMs)!==null&&a!==void 0?a:Qu.HEARTBEAT_INTERVAL,this.worker=(i=t==null?void 0:t.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=t==null?void 0:t.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(s=t==null?void 0:t.heartbeatCallback)!==null&&s!==void 0?s:Gp,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=t==null?void 0:t.reconnectAfterMs)!==null&&c!==void 0?c:f=>S6[f-1]||j6,this.encode=(u=t==null?void 0:t.encode)!==null&&u!==void 0?u:(f,h)=>h(JSON.stringify(f)),this.decode=(d=t==null?void 0:t.decode)!==null&&d!==void 0?d:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class Q0 extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Ue(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class O6 extends Q0{constructor(t,r,n){super(t),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class zv extends Q0{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}const eb=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Ws(async()=>{const{default:n}=await Promise.resolve().then(()=>mo);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},A6=()=>X(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Ws(()=>Promise.resolve().then(()=>mo),void 0)).Response:Response}),Bv=e=>{if(Array.isArray(e))return e.map(r=>Bv(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const a=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[a]=Bv(n)}),t},k6=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Yp=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},T6=(e,t,r)=>X(void 0,void 0,void 0,function*(){const n=yield A6();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(a=>{const i=e.status||500,o=(a==null?void 0:a.statusCode)||i+"";t(new O6(Yp(a),i,o))}).catch(a=>{t(new zv(Yp(a),a))}):t(new zv(Yp(e),e))}),N6=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!n?a:(k6(n)?(a.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),a.body=JSON.stringify(n)):a.body=n,t!=null&&t.duplex&&(a.duplex=t.duplex),Object.assign(Object.assign({},a),r))};function Jc(e,t,r,n,a,i){return X(this,void 0,void 0,function*(){return new Promise((o,s)=>{e(r,N6(t,n,a,i)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>T6(c,s,n))})})}function vc(e,t,r,n){return X(this,void 0,void 0,function*(){return Jc(e,"GET",t,r,n)})}function en(e,t,r,n,a){return X(this,void 0,void 0,function*(){return Jc(e,"POST",t,n,a,r)})}function Iv(e,t,r,n,a){return X(this,void 0,void 0,function*(){return Jc(e,"PUT",t,n,a,r)})}function R6(e,t,r,n){return X(this,void 0,void 0,function*(){return Jc(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function tb(e,t,r,n,a){return X(this,void 0,void 0,function*(){return Jc(e,"DELETE",t,n,a,r)})}class D6{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r}then(t,r){return this.execute().then(t,r)}execute(){return X(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Ue(t))return{data:null,error:t};throw t}})}}var pk;class P6{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r,this[pk]="BlobDownloadBuilder",this.promise=null}asStream(){return new D6(this.downloadFn,this.shouldThrowOnError)}then(t,r){return this.getPromise().then(t,r)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return X(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(Ue(t))return{data:null,error:t};throw t}})}}pk=Symbol.toStringTag;const M6={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},i_={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class z6{constructor(t,r={},n,a){this.shouldThrowOnError=!1,this.url=t,this.headers=r,this.bucketId=n,this.fetch=eb(a)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,r,n,a){return X(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},i_),a);let s=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c))):(i=n,s["cache-control"]=`max-age=${o.cacheControl}`,s["content-type"]=o.contentType,c&&(s["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),a!=null&&a.headers&&(s=Object.assign(Object.assign({},s),a.headers));const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),f=yield(t=="PUT"?Iv:en)(this.fetch,`${this.url}/object/${d}`,i,Object.assign({headers:s},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:u,id:f.Id,fullPath:f.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Ue(i))return{data:null,error:i};throw i}})}upload(t,r,n){return X(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,a){return X(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),o=this._getFinalPath(i),s=new URL(this.url+`/object/upload/sign/${o}`);s.searchParams.set("token",r);try{let c;const u=Object.assign({upsert:i_.upsert},a),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",u.cacheControl)):(c=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const f=yield Iv(this.fetch,s.toString(),c,{headers:d});return{data:{path:i,fullPath:f.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(Ue(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,r){return X(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const a=Object.assign({},this.headers);r!=null&&r.upsert&&(a["x-upsert"]="true");const i=yield en(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:a}),o=new URL(this.url+i.url),s=o.searchParams.get("token");if(!s)throw new Q0("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:s},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ue(n))return{data:null,error:n};throw n}})}update(t,r,n){return X(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return X(this,void 0,void 0,function*(){try{return{data:yield en(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Ue(a))return{data:null,error:a};throw a}})}copy(t,r,n){return X(this,void 0,void 0,function*(){try{return{data:{path:(yield en(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Ue(a))return{data:null,error:a};throw a}})}createSignedUrl(t,r,n){return X(this,void 0,void 0,function*(){try{let a=this._getFinalPath(t),i=yield en(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Ue(a))return{data:null,error:a};throw a}})}createSignedUrls(t,r,n){return X(this,void 0,void 0,function*(){try{const a=yield en(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:a.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Ue(a))return{data:null,error:a};throw a}})}download(t,r){const a=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=i?`?${i}`:"",s=this._getFinalPath(t),c=()=>vc(this.fetch,`${this.url}/${a}/${s}${o}`,{headers:this.headers,noResolveJson:!0});return new P6(c,this.shouldThrowOnError)}info(t){return X(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield vc(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Bv(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ue(n))return{data:null,error:n};throw n}})}exists(t){return X(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield R6(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ue(n)&&n instanceof zv){const a=n.originalError;if([400,404].includes(a==null?void 0:a.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),a=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&a.push(i);const s=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&a.push(c);let u=a.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${s}/public/${n}${u}`)}}}remove(t){return X(this,void 0,void 0,function*(){try{return{data:yield tb(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ue(r))return{data:null,error:r};throw r}})}list(t,r,n){return X(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},M6),r),{prefix:t||""});return{data:yield en(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},n),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Ue(a))return{data:null,error:a};throw a}})}listV2(t,r){return X(this,void 0,void 0,function*(){try{const n=Object.assign({},t);return{data:yield en(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ue(n))return{data:null,error:n};throw n}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const gk="2.78.0",vk={"X-Client-Info":`storage-js/${gk}`};class B6{constructor(t,r={},n,a){this.shouldThrowOnError=!1;const i=new URL(t);a!=null&&a.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},vk),r),this.fetch=eb(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(t){return X(this,void 0,void 0,function*(){try{const r=this.listBucketOptionsToQueryString(t);return{data:yield vc(this.fetch,`${this.url}/bucket${r}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ue(r))return{data:null,error:r};throw r}})}getBucket(t){return X(this,void 0,void 0,function*(){try{return{data:yield vc(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ue(r))return{data:null,error:r};throw r}})}createBucket(t){return X(this,arguments,void 0,function*(r,n={public:!1}){try{return{data:yield en(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Ue(a))return{data:null,error:a};throw a}})}updateBucket(t,r){return X(this,void 0,void 0,function*(){try{return{data:yield Iv(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Ue(n))return{data:null,error:n};throw n}})}emptyBucket(t){return X(this,void 0,void 0,function*(){try{return{data:yield en(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ue(r))return{data:null,error:r};throw r}})}deleteBucket(t){return X(this,void 0,void 0,function*(){try{return{data:yield tb(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ue(r))return{data:null,error:r};throw r}})}listBucketOptionsToQueryString(t){const r={};return t&&("limit"in t&&(r.limit=String(t.limit)),"offset"in t&&(r.offset=String(t.offset)),t.search&&(r.search=t.search),t.sortColumn&&(r.sortColumn=t.sortColumn),t.sortOrder&&(r.sortOrder=t.sortOrder)),Object.keys(r).length>0?"?"+new URLSearchParams(r).toString():""}}class I6{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},vk),r),this.fetch=eb(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return X(this,void 0,void 0,function*(){try{return{data:yield en(this.fetch,`${this.url}/bucket`,{name:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ue(r))return{data:null,error:r};throw r}})}listBuckets(t){return X(this,void 0,void 0,function*(){try{const r=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&r.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&r.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&r.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&r.set("sortOrder",t.sortOrder),t!=null&&t.search&&r.set("search",t.search);const n=r.toString(),a=n?`${this.url}/bucket?${n}`:`${this.url}/bucket`;return{data:yield vc(this.fetch,a,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ue(r))return{data:null,error:r};throw r}})}deleteBucket(t){return X(this,void 0,void 0,function*(){try{return{data:yield tb(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Ue(r))return{data:null,error:r};throw r}})}}const rb={"X-Client-Info":`storage-js/${gk}`,"Content-Type":"application/json"};class yk extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function pr(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}class Xp extends yk{constructor(t,r,n){super(t),this.name="StorageVectorsApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class $6 extends yk{constructor(t,r){super(t),this.name="StorageVectorsUnknownError",this.originalError=r}}var o_;(function(e){e.InternalError="InternalError",e.S3VectorConflictException="S3VectorConflictException",e.S3VectorNotFoundException="S3VectorNotFoundException",e.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",e.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",e.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(o_||(o_={}));const nb=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Ws(async()=>{const{default:n}=await Promise.resolve().then(()=>mo);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},L6=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},s_=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),U6=(e,t,r)=>X(void 0,void 0,void 0,function*(){if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(r!=null&&r.noResolveJson)){const a=e.status||500,i=e;if(typeof i.json=="function")i.json().then(o=>{const s=(o==null?void 0:o.statusCode)||(o==null?void 0:o.code)||a+"";t(new Xp(s_(o),a,s))}).catch(()=>{const o=a+"",s=i.statusText||`HTTP ${a} error`;t(new Xp(s,a,o))});else{const o=a+"",s=i.statusText||`HTTP ${a} error`;t(new Xp(s,a,o))}}else t(new $6(s_(e),e))}),q6=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return n?(L6(n)?(a.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),a.body=JSON.stringify(n)):a.body=n,Object.assign(Object.assign({},a),r)):a};function W6(e,t,r,n,a,i){return X(this,void 0,void 0,function*(){return new Promise((o,s)=>{e(r,q6(t,n,a,i)).then(c=>{if(!c.ok)throw c;if(n!=null&&n.noResolveJson)return c;const u=c.headers.get("content-type");return!u||!u.includes("application/json")?{}:c.json()}).then(c=>o(c)).catch(c=>U6(c,s,n))})})}function gr(e,t,r,n,a){return X(this,void 0,void 0,function*(){return W6(e,"POST",t,n,a,r)})}class H6{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},rb),r),this.fetch=nb(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(t){return X(this,void 0,void 0,function*(){try{return{data:(yield gr(this.fetch,`${this.url}/CreateIndex`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(pr(r))return{data:null,error:r};throw r}})}getIndex(t,r){return X(this,void 0,void 0,function*(){try{return{data:yield gr(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(pr(n))return{data:null,error:n};throw n}})}listIndexes(t){return X(this,void 0,void 0,function*(){try{return{data:yield gr(this.fetch,`${this.url}/ListIndexes`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(pr(r))return{data:null,error:r};throw r}})}deleteIndex(t,r){return X(this,void 0,void 0,function*(){try{return{data:(yield gr(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(pr(n))return{data:null,error:n};throw n}})}}class F6{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},rb),r),this.fetch=nb(n)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(t){return X(this,void 0,void 0,function*(){try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield gr(this.fetch,`${this.url}/PutVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(pr(r))return{data:null,error:r};throw r}})}getVectors(t){return X(this,void 0,void 0,function*(){try{return{data:yield gr(this.fetch,`${this.url}/GetVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(pr(r))return{data:null,error:r};throw r}})}listVectors(t){return X(this,void 0,void 0,function*(){try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:yield gr(this.fetch,`${this.url}/ListVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(pr(r))return{data:null,error:r};throw r}})}queryVectors(t){return X(this,void 0,void 0,function*(){try{return{data:yield gr(this.fetch,`${this.url}/QueryVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(pr(r))return{data:null,error:r};throw r}})}deleteVectors(t){return X(this,void 0,void 0,function*(){try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield gr(this.fetch,`${this.url}/DeleteVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(pr(r))return{data:null,error:r};throw r}})}}class V6{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},rb),r),this.fetch=nb(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return X(this,void 0,void 0,function*(){try{return{data:(yield gr(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(pr(r))return{data:null,error:r};throw r}})}getBucket(t){return X(this,void 0,void 0,function*(){try{return{data:yield gr(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(pr(r))return{data:null,error:r};throw r}})}listBuckets(){return X(this,arguments,void 0,function*(t={}){try{return{data:yield gr(this.fetch,`${this.url}/ListVectorBuckets`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(pr(r))return{data:null,error:r};throw r}})}deleteBucket(t){return X(this,void 0,void 0,function*(){try{return{data:(yield gr(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(pr(r))return{data:null,error:r};throw r}})}}class K6 extends V6{constructor(t,r={}){super(t,r.headers||{},r.fetch)}from(t){return new G6(this.url,this.headers,t,this.fetch)}}class G6 extends H6{constructor(t,r,n,a){super(t,r,a),this.vectorBucketName=n}createIndex(t){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return X(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const t=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return X(this,arguments,void 0,function*(r={}){return t.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(t){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return X(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,t)})}deleteIndex(t){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return X(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,t)})}index(t){return new Y6(this.url,this.headers,this.vectorBucketName,t,this.fetch)}}class Y6 extends F6{constructor(t,r,n,a,i){super(t,r,i),this.vectorBucketName=n,this.indexName=a}putVectors(t){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return X(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(t){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return X(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const t=Object.create(null,{listVectors:{get:()=>super.listVectors}});return X(this,arguments,void 0,function*(r={}){return t.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(t){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return X(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(t){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return X(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class X6 extends B6{constructor(t,r={},n,a){super(t,r,n,a)}from(t){return new z6(this.url,this.headers,t,this.fetch)}get vectors(){return new K6(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new I6(this.url+"/iceberg",this.headers,this.fetch)}}const Z6="2.78.0";let Tl="";typeof Deno<"u"?Tl="deno":typeof document<"u"?Tl="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Tl="react-native":Tl="node";const J6={"X-Client-Info":`supabase-js-${Tl}/${Z6}`},Q6={headers:J6},eB={schema:"public"},tB={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},rB={},nB=e=>{let t;return e?t=e:typeof fetch>"u"?t=K2:t=fetch,(...r)=>t(...r)},aB=()=>typeof Headers>"u"?G2:Headers,iB=(e,t,r)=>{const n=nB(r),a=aB();return async(i,o)=>{var s;const c=(s=await t())!==null&&s!==void 0?s:e;let u=new a(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(i,Object.assign(Object.assign({},o),{headers:u}))}};function oB(e){return e.endsWith("/")?e:e+"/"}function sB(e,t){var r,n;const{db:a,auth:i,realtime:o,global:s}=e,{db:c,auth:u,realtime:d,global:f}=t,h={db:Object.assign(Object.assign({},c),a),auth:Object.assign(Object.assign({},u),i),realtime:Object.assign(Object.assign({},d),o),storage:{},global:Object.assign(Object.assign(Object.assign({},f),s),{headers:Object.assign(Object.assign({},(r=f==null?void 0:f.headers)!==null&&r!==void 0?r:{}),(n=s==null?void 0:s.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}function lB(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(oB(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const bk="2.78.0",zo=30*1e3,$v=3,Zp=$v*zo,cB="http://localhost:9999",uB="supabase.auth.token",dB={"X-Client-Info":`gotrue-js/${bk}`},Lv="X-Supabase-Api-Version",xk={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},fB=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,hB=10*60*1e3;class yc extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function J(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class mB extends yc{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function pB(e){return J(e)&&e.name==="AuthApiError"}class Pi extends yc{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class bi extends yc{constructor(t,r,n,a){super(t,n,a),this.name=r,this.status=n}}class Jr extends bi{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function gB(e){return J(e)&&e.name==="AuthSessionMissingError"}class Co extends bi{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class ed extends bi{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class td extends bi{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function vB(e){return J(e)&&e.name==="AuthImplicitGrantRedirectError"}class l_ extends bi{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Uv extends bi{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function Jp(e){return J(e)&&e.name==="AuthRetryableFetchError"}class c_ extends bi{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class qv extends bi{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const _f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),u_=` 	
\r=`.split(""),yB=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<u_.length;t+=1)e[u_[t].charCodeAt(0)]=-2;for(let t=0;t<_f.length;t+=1)e[_f[t].charCodeAt(0)]=t;return e})();function d_(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(_f[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(_f[n]),t.queuedBits-=6}}function wk(e,t,r){const n=yB[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function f_(e){const t=[],r=o=>{t.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},i=o=>{wB(o,n,r)};for(let o=0;o<e.length;o+=1)wk(e.charCodeAt(o),a,i);return t.join("")}function bB(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function xB(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const a=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|a)+65536,r+=1}bB(n,t)}}function wB(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function os(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};for(let a=0;a<e.length;a+=1)wk(e.charCodeAt(a),r,n);return new Uint8Array(t)}function _B(e){const t=[];return xB(e,r=>t.push(r)),new Uint8Array(t)}function Mi(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};return e.forEach(a=>d_(a,r,n)),d_(null,r,n),t.join("")}function SB(e){return Math.round(Date.now()/1e3)+e}function jB(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Lt=()=>typeof window<"u"&&typeof document<"u",Si={tested:!1,writable:!1},_k=()=>{if(!Lt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Si.tested)return Si.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Si.tested=!0,Si.writable=!0}catch{Si.tested=!0,Si.writable=!1}return Si.writable};function CB(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((a,i)=>{t[i]=a})}catch{}return r.searchParams.forEach((n,a)=>{t[a]=n}),t}const Sk=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Ws(async()=>{const{default:n}=await Promise.resolve().then(()=>mo);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},EB=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Bo=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},ji=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Ra=async(e,t)=>{await e.removeItem(t)};class Vh{constructor(){this.promise=new Vh.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}Vh.promiseConstructor=Promise;function Qp(e){const t=e.split(".");if(t.length!==3)throw new qv("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!fB.test(t[n]))throw new qv("JWT not in base64url format");return{header:JSON.parse(f_(t[0])),payload:JSON.parse(f_(t[1])),signature:os(t[2]),raw:{header:t[0],payload:t[1]}}}async function OB(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function AB(e,t){return new Promise((n,a)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){n(o);return}}catch(o){if(!t(i,o)){a(o);return}}})()})}function kB(e){return("0"+e.toString(16)).substr(-2)}function TB(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let a="";for(let i=0;i<56;i++)a+=r.charAt(Math.floor(Math.random()*n));return a}return crypto.getRandomValues(t),Array.from(t,kB).join("")}async function NB(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),a=new Uint8Array(n);return Array.from(a).map(i=>String.fromCharCode(i)).join("")}async function RB(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await NB(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Eo(e,t,r=!1){const n=TB();let a=n;r&&(a+="/PASSWORD_RECOVERY"),await Bo(e,`${t}-code-verifier`,a);const i=await RB(n);return[i,n===i?"plain":"s256"]}const DB=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function PB(e){const t=e.headers.get(Lv);if(!t||!t.match(DB))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function MB(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function zB(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const BB=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Oo(e){if(!BB.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function eg(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function IB(e,t){return new Proxy(e,{get:(r,n,a)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const i=n.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,a)}return!t.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(r,n,a)}})}function h_(e){return JSON.parse(JSON.stringify(e))}const ki=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),$B=[502,503,504];async function m_(e){var t;if(!EB(e))throw new Uv(ki(e),0);if($B.includes(e.status))throw new Uv(ki(e),e.status);let r;try{r=await e.json()}catch(i){throw new Pi(ki(i),i)}let n;const a=PB(e);if(a&&a.getTime()>=xk["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new c_(ki(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new Jr}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new c_(ki(r),e.status,r.weak_password.reasons);throw new mB(ki(r),e.status||500,n)}const LB=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),a.body=JSON.stringify(n),Object.assign(Object.assign({},a),r))};async function ae(e,t,r,n){var a;const i=Object.assign({},n==null?void 0:n.headers);i[Lv]||(i[Lv]=xk["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(a=n==null?void 0:n.query)!==null&&a!==void 0?a:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const s=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await UB(e,t,r+s,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function UB(e,t,r,n,a,i){const o=LB(t,n,a,i);let s;try{s=await e(r,Object.assign({},o))}catch(c){throw console.error(c),new Uv(ki(c),0)}if(s.ok||await m_(s),n!=null&&n.noResolveJson)return s;try{return await s.json()}catch(c){await m_(c)}}function Qr(e){var t;let r=null;HB(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=SB(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function p_(e){const t=Qr(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function qa(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function qB(e){return{data:e,error:null}}function WB(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i}=e,o=qs(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),s={action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i},c=Object.assign({},o);return{data:{properties:s,user:c},error:null}}function g_(e){return e}function HB(e){return e.access_token&&e.refresh_token&&e.expires_in}const tg=["global","local","others"];class FB{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=Sk(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=tg[0]){if(tg.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${tg.join(", ")}`);try{return await ae(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(J(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await ae(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:qa})}catch(n){if(J(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=qs(t,["options"]),a=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(a.new_email=n==null?void 0:n.newEmail,delete a.newEmail),await ae(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:WB,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(J(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await ae(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:qa})}catch(r){if(J(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,a,i,o,s,c;try{const u={nextPage:null,lastPage:0,total:0},d=await ae(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(a=t==null?void 0:t.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:g_});if(d.error)throw d.error;const f=await d.json(),h=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,m=(c=(s=d.headers.get("link"))===null||s===void 0?void 0:s.split(","))!==null&&c!==void 0?c:[];return m.length>0&&(m.forEach(v=>{const x=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(v.split(";")[1].split("=")[1]);u[`${b}Page`]=x}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(J(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){Oo(t);try{return await ae(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:qa})}catch(r){if(J(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){Oo(t);try{return await ae(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:qa})}catch(n){if(J(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){Oo(t);try{return await ae(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:qa})}catch(n){if(J(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){Oo(t.userId);try{const{data:r,error:n}=await ae(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:r,error:n}}catch(r){if(J(r))return{data:null,error:r};throw r}}async _deleteFactor(t){Oo(t.userId),Oo(t.id);try{return{data:await ae(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(J(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,n,a,i,o,s,c;try{const u={nextPage:null,lastPage:0,total:0},d=await ae(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(a=t==null?void 0:t.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:g_});if(d.error)throw d.error;const f=await d.json(),h=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,m=(c=(s=d.headers.get("link"))===null||s===void 0?void 0:s.split(","))!==null&&c!==void 0?c:[];return m.length>0&&(m.forEach(v=>{const x=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(v.split(";")[1].split("=")[1]);u[`${b}Page`]=x}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(J(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(t){try{return await ae(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(J(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await ae(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(J(r))return{data:null,error:r};throw r}}async _updateOAuthClient(t,r){try{return await ae(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(J(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await ae(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(J(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await ae(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(J(r))return{data:null,error:r};throw r}}}function v_(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const Ao={debug:!!(globalThis&&_k()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class jk extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class VB extends jk{}async function KB(e,t,r){Ao.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Ao.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async a=>{if(a){Ao.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,a.name);try{return await r()}finally{Ao.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,a.name)}}else{if(t===0)throw Ao.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new VB(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Ao.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function GB(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Ck(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function YB(e){return parseInt(e,16)}function XB(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function ZB(e){var t;const{chainId:r,domain:n,expirationTime:a,issuedAt:i=new Date,nonce:o,notBefore:s,requestId:c,resources:u,scheme:d,uri:f,version:h}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!f)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(h!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${h}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const m=Ck(e.address),v=d?`${d}://${n}`:n,x=e.statement?`${e.statement}
`:"",b=`${v} wants you to sign in with your Ethereum account:
${m}

${x}`;let y=`URI: ${f}
Version: ${h}
Chain ID: ${r}${o?`
Nonce: ${o}`:""}
Issued At: ${i.toISOString()}`;if(a&&(y+=`
Expiration Time: ${a.toISOString()}`),s&&(y+=`
Not Before: ${s.toISOString()}`),c&&(y+=`
Request ID: ${c}`),u){let g=`
Resources:`;for(const w of u){if(!w||typeof w!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${w}`);g+=`
- ${w}`}y+=g}return`${b}
${y}`}class Qe extends Error{constructor({message:t,code:r,cause:n,name:a}){var i;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(i=a??(n instanceof Error?n.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=r}}class Sf extends Qe{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function JB({error:e,options:t}){var r,n,a;const{publicKey:i}=t;if(!i)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Qe({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=i.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new Qe({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=i.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new Qe({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((a=i.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new Qe({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new Qe({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new Qe({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return i.pubKeyCredParams.filter(s=>s.type==="public-key").length===0?new Qe({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new Qe({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const o=window.location.hostname;if(Ek(o)){if(i.rp.id!==o)return new Qe({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Qe({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new Qe({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new Qe({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Qe({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function QB({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Qe({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new Qe({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(Ek(n)){if(r.rpId!==n)return new Qe({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Qe({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new Qe({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Qe({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class eI{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const tI=new eI;function rI(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,a=qs(e,["challenge","user","excludeCredentials"]),i=os(t).buffer,o=Object.assign(Object.assign({},r),{id:os(r.id).buffer}),s=Object.assign(Object.assign({},a),{challenge:i,user:o});if(n&&n.length>0){s.excludeCredentials=new Array(n.length);for(let c=0;c<n.length;c++){const u=n[c];s.excludeCredentials[c]=Object.assign(Object.assign({},u),{id:os(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return s}function nI(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=qs(e,["challenge","allowCredentials"]),a=os(t).buffer,i=Object.assign(Object.assign({},n),{challenge:a});if(r&&r.length>0){i.allowCredentials=new Array(r.length);for(let o=0;o<r.length;o++){const s=r[o];i.allowCredentials[o]=Object.assign(Object.assign({},s),{id:os(s.id).buffer,type:s.type||"public-key",transports:s.transports})}}return i}function aI(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:Mi(new Uint8Array(e.response.attestationObject)),clientDataJSON:Mi(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function iI(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,n=e.getClientExtensionResults(),a=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:Mi(new Uint8Array(a.authenticatorData)),clientDataJSON:Mi(new Uint8Array(a.clientDataJSON)),signature:Mi(new Uint8Array(a.signature)),userHandle:a.userHandle?Mi(new Uint8Array(a.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function Ek(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function y_(){var e,t;return!!(Lt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function oI(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Sf("Browser returned unexpected credential type",t)}:{data:null,error:new Sf("Empty credential response",t)}}catch(t){return{data:null,error:JB({error:t,options:e})}}}async function sI(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Sf("Browser returned unexpected credential type",t)}:{data:null,error:new Sf("Empty credential response",t)}}catch(t){return{data:null,error:QB({error:t,options:e})}}}const lI={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},cI={userVerification:"preferred",hints:["security-key"]};function jf(...e){const t=a=>a!==null&&typeof a=="object"&&!Array.isArray(a),r=a=>a instanceof ArrayBuffer||ArrayBuffer.isView(a),n={};for(const a of e)if(a)for(const i in a){const o=a[i];if(o!==void 0)if(Array.isArray(o))n[i]=o;else if(r(o))n[i]=o;else if(t(o)){const s=n[i];t(s)?n[i]=jf(s,o):n[i]=jf(o)}else n[i]=o}return n}function uI(e,t){return jf(lI,e,t||{})}function dI(e,t){return jf(cI,e,t||{})}class fI{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:n,signal:a},i){try{const{data:o,error:s}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!o)return{data:null,error:s};const c=a??tI.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:u}=o.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${n}`),u.displayName||(u.displayName=u.name)}switch(o.webauthn.type){case"create":{const u=uI(o.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:d,error:f}=await oI({publicKey:u,signal:c});return d?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}case"request":{const u=dI(o.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:d,error:f}=await sI(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:u,signal:c}));return d?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}}}catch(o){return J(o)?{data:null,error:o}:{data:null,error:new Pi("Unexpected error in challenge",o)}}}async _verify({challengeId:t,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:a}},i){if(!r)return{data:null,error:new yc("rpId is required for WebAuthn authentication")};try{if(!y_())return{data:null,error:new Pi("Browser does not support WebAuthn",null)};const{data:o,error:s}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:n},signal:a},{request:i});if(!o)return{data:null,error:s};const{webauthn:c}=o;return this._verify({factorId:t,challengeId:o.challengeId,webauthn:{type:c.type,rpId:r,rpOrigins:n,credential_response:c.credential_response}})}catch(o){return J(o)?{data:null,error:o}:{data:null,error:new Pi("Unexpected error in authenticate",o)}}}async _register({friendlyName:t,rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:a},i){if(!r)return{data:null,error:new yc("rpId is required for WebAuthn registration")};try{if(!y_())return{data:null,error:new Pi("Browser does not support WebAuthn",null)};const{data:o,error:s}=await this._enroll({friendlyName:t});if(!o)return await this.client.mfa.listFactors().then(d=>{var f;return(f=d.data)===null||f===void 0?void 0:f.all.find(h=>h.factor_type==="webauthn"&&h.friendly_name===t&&h.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d==null?void 0:d.id}):void 0),{data:null,error:s};const{data:c,error:u}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:a},{create:i});return c?this._verify({factorId:o.id,challengeId:c.challengeId,webauthn:{rpId:r,rpOrigins:n,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:u}}catch(o){return J(o)?{data:null,error:o}:{data:null,error:new Pi("Unexpected error in register",o)}}}}GB();const hI={url:cB,storageKey:uB,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:dB,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function b_(e,t,r){return await r()}const ko={};class bc{get jwks(){var t,r;return(r=(t=ko[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){ko[this.storageKey]=Object.assign(Object.assign({},ko[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=ko[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){ko[this.storageKey]=Object.assign(Object.assign({},ko[this.storageKey]),{cachedAt:t})}constructor(t){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=bc.nextInstanceID,bc.nextInstanceID+=1,this.instanceID>0&&Lt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const a=Object.assign(Object.assign({},hI),t);if(this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.persistSession=a.persistSession,this.storageKey=a.storageKey,this.autoRefreshToken=a.autoRefreshToken,this.admin=new FB({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=Sk(a.fetch),this.lock=a.lock||b_,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,a.lock?this.lock=a.lock:Lt()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=KB:this.lock=b_,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new fI(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:_k()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=v_(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=v_(this.memoryStorage)),Lt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${bk}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=CB(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),Lt()&&this.detectSessionInUrl&&n!=="none"){const{data:a,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),vB(i)){const c=(t=i.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:s}=a;return this._debug("#_initialize()","detected session in URL",o,"redirect type",s),await this._saveSession(o),setTimeout(async()=>{s==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return J(r)?{error:r}:{error:new Pi("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,a;try{const i=await ae(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(a=t==null?void 0:t.options)===null||a===void 0?void 0:a.captchaToken}},xform:Qr}),{data:o,error:s}=i;if(s||!o)return{data:{user:null,session:null},error:s};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(J(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var r,n,a;try{let i;if("email"in t){const{email:d,password:f,options:h}=t;let m=null,v=null;this.flowType==="pkce"&&([m,v]=await Eo(this.storage,this.storageKey)),i=await ae(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:m,code_challenge_method:v},xform:Qr})}else if("phone"in t){const{phone:d,password:f,options:h}=t;i=await ae(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(a=h==null?void 0:h.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Qr})}else throw new ed("You must provide either an email or phone number and a password");const{data:o,error:s}=i;if(s||!o)return{data:{user:null,session:null},error:s};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(J(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:o,options:s}=t;r=await ae(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:p_})}else if("phone"in t){const{phone:i,password:o,options:s}=t;r=await ae(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:p_})}else throw new ed("You must provide either an email or phone number and a password");const{data:n,error:a}=r;return a?{data:{user:null,session:null},error:a}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new Co}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:a})}catch(r){if(J(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,a,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(a=t.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,a,i,o,s,c,u,d,f,h;let m,v;if("message"in t)m=t.message,v=t.signature;else{const{chain:x,wallet:b,statement:y,options:g}=t;let w;if(Lt())if(typeof b=="object")w=b;else{const k=window;if("ethereum"in k&&typeof k.ethereum=="object"&&"request"in k.ethereum&&typeof k.ethereum.request=="function")w=k.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof b!="object"||!(g!=null&&g.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");w=b}const _=new URL((r=g==null?void 0:g.url)!==null&&r!==void 0?r:window.location.href),S=await w.request({method:"eth_requestAccounts"}).then(k=>k).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!S||S.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const j=Ck(S[0]);let C=(n=g==null?void 0:g.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!C){const k=await w.request({method:"eth_chainId"});C=YB(k)}const E={domain:_.host,address:j,statement:y,uri:_.href,version:"1",chainId:C,nonce:(a=g==null?void 0:g.signInWithEthereum)===null||a===void 0?void 0:a.nonce,issuedAt:(o=(i=g==null?void 0:g.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(s=g==null?void 0:g.signInWithEthereum)===null||s===void 0?void 0:s.expirationTime,notBefore:(c=g==null?void 0:g.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(u=g==null?void 0:g.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(d=g==null?void 0:g.signInWithEthereum)===null||d===void 0?void 0:d.resources};m=ZB(E),v=await w.request({method:"personal_sign",params:[XB(m),j]})}try{const{data:x,error:b}=await ae(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:m,signature:v},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(h=t.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:Qr});if(b)throw b;return!x||!x.session||!x.user?{data:{user:null,session:null},error:new Co}:(x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("SIGNED_IN",x.session)),{data:Object.assign({},x),error:b})}catch(x){if(J(x))return{data:{user:null,session:null},error:x};throw x}}async signInWithSolana(t){var r,n,a,i,o,s,c,u,d,f,h,m;let v,x;if("message"in t)v=t.message,x=t.signature;else{const{chain:b,wallet:y,statement:g,options:w}=t;let _;if(Lt())if(typeof y=="object")_=y;else{const j=window;if("solana"in j&&typeof j.solana=="object"&&("signIn"in j.solana&&typeof j.solana.signIn=="function"||"signMessage"in j.solana&&typeof j.solana.signMessage=="function"))_=j.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!(w!=null&&w.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=y}const S=new URL((r=w==null?void 0:w.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in _&&_.signIn){const j=await _.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},w==null?void 0:w.signInWithSolana),{version:"1",domain:S.host,uri:S.href}),g?{statement:g}:null));let C;if(Array.isArray(j)&&j[0]&&typeof j[0]=="object")C=j[0];else if(j&&typeof j=="object"&&"signedMessage"in j&&"signature"in j)C=j;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in C&&"signature"in C&&(typeof C.signedMessage=="string"||C.signedMessage instanceof Uint8Array)&&C.signature instanceof Uint8Array)v=typeof C.signedMessage=="string"?C.signedMessage:new TextDecoder().decode(C.signedMessage),x=C.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in _)||typeof _.signMessage!="function"||!("publicKey"in _)||typeof _!="object"||!_.publicKey||!("toBase58"in _.publicKey)||typeof _.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");v=[`${S.host} wants you to sign in with your Solana account:`,_.publicKey.toBase58(),...g?["",g,""]:[""],"Version: 1",`URI: ${S.href}`,`Issued At: ${(a=(n=w==null?void 0:w.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((i=w==null?void 0:w.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${w.signInWithSolana.notBefore}`]:[],...!((o=w==null?void 0:w.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${w.signInWithSolana.expirationTime}`]:[],...!((s=w==null?void 0:w.signInWithSolana)===null||s===void 0)&&s.chainId?[`Chain ID: ${w.signInWithSolana.chainId}`]:[],...!((c=w==null?void 0:w.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${w.signInWithSolana.nonce}`]:[],...!((u=w==null?void 0:w.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${w.signInWithSolana.requestId}`]:[],...!((f=(d=w==null?void 0:w.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...w.signInWithSolana.resources.map(C=>`- ${C}`)]:[]].join(`
`);const j=await _.signMessage(new TextEncoder().encode(v),"utf8");if(!j||!(j instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");x=j}}try{const{data:b,error:y}=await ae(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:v,signature:Mi(x)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(m=t.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:Qr});if(y)throw y;return!b||!b.session||!b.user?{data:{user:null,session:null},error:new Co}:(b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),{data:Object.assign({},b),error:y})}catch(b){if(J(b))return{data:{user:null,session:null},error:b};throw b}}async _exchangeCodeForSession(t){const r=await ji(this.storage,`${this.storageKey}-code-verifier`),[n,a]=(r??"").split("/");try{const{data:i,error:o}=await ae(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:Qr});if(await Ra(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Co}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:a??null}),error:o})}catch(i){if(J(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:r,provider:n,token:a,access_token:i,nonce:o}=t,s=await ae(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:a,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Qr}),{data:c,error:u}=s;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new Co}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(r){if(J(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,a,i,o;try{if("email"in t){const{email:s,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await Eo(this.storage,this.storageKey));const{error:f}=await ae(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:s,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in t){const{phone:s,options:c}=t,{data:u,error:d}=await ae(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:s,data:(a=c==null?void 0:c.data)!==null&&a!==void 0?a:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new ed("You must provide either an email or phone number.")}catch(s){if(J(s))return{data:{user:null,session:null},error:s};throw s}}async verifyOtp(t){var r,n;try{let a,i;"options"in t&&(a=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:s}=await ae(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:a,xform:Qr});if(s)throw s;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,u=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(a){if(J(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithSSO(t){var r,n,a;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await Eo(this.storage,this.storageKey)),await ae(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((a=t==null?void 0:t.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:qB})}catch(i){if(J(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new Jr;const{error:a}=await ae(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:a}})}catch(t){if(J(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:a,options:i}=t,{error:o}=await ae(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:n,type:a,options:i}=t,{data:o,error:s}=await ae(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:s}}throw new ed("You must provide either an email or phone number and a type")}catch(r){if(J(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await ji(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<Zp:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const o=await ji(this.userStorage,this.storageKey+"-user");o!=null&&o.user?t.user=o.user:t.user=eg()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};t.user=IB(t.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:a},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await ae(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:qa}):await this._useSession(async r=>{var n,a,i;const{data:o,error:s}=r;if(s)throw s;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Jr}:await ae(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(a=o.session)===null||a===void 0?void 0:a.access_token)!==null&&i!==void 0?i:void 0,xform:qa})})}catch(r){if(J(r))return gB(r)&&(await this._removeSession(),await Ra(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:a,error:i}=n;if(i)throw i;if(!a.session)throw new Jr;const o=a.session;let s=null,c=null;this.flowType==="pkce"&&t.email!=null&&([s,c]=await Eo(this.storage,this.storageKey));const{data:u,error:d}=await ae(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:s,code_challenge_method:c}),jwt:o.access_token,xform:qa});if(d)throw d;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if(J(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Jr;const r=Date.now()/1e3;let n=r,a=!0,i=null;const{payload:o}=Qp(t.access_token);if(o.exp&&(n=o.exp,a=n<=r),a){const{data:s,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!s)return{data:{user:null,session:null},error:null};i=s}else{const{data:s,error:c}=await this._getUser(t.access_token);if(c)throw c;i={access_token:t.access_token,refresh_token:t.refresh_token,user:s.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(J(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:o,error:s}=r;if(s)throw s;t=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new Jr;const{data:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:a?{data:{user:a.user,session:a},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(J(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!Lt())throw new td("No browser detected.");if(t.error||t.error_description||t.error_code)throw new td(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new l_("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new td("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new l_("No code detected.");const{data:g,error:w}=await this._exchangeCodeForSession(t.code);if(w)throw w;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:g.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:a,access_token:i,refresh_token:o,expires_in:s,expires_at:c,token_type:u}=t;if(!i||!s||!o||!u)throw new td("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(s);let h=d+f;c&&(h=parseInt(c));const m=h-d;m*1e3<=zo&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${f}s`);const v=h-f;d-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,h,d):d-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,h,d);const{data:x,error:b}=await this._getUser(i);if(b)throw b;const y={provider_token:n,provider_refresh_token:a,access_token:i,expires_in:f,expires_at:h,refresh_token:o,token_type:u,user:x.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:y,redirectType:t.type},error:null}}catch(n){if(J(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await ji(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return{error:i};const o=(n=a.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:s}=await this.admin.signOut(o,t);if(s&&!(pB(s)&&(s.status===404||s.status===401||s.status===403)))return{error:s}}return t!=="others"&&(await this._removeSession(),await Ra(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=jB(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,a;try{const{data:{session:i},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,a=null;this.flowType==="pkce"&&([n,a]=await Eo(this.storage,this.storageKey,!0));try{return await ae(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:a,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(J(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(J(r))return{data:null,error:r};throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:n,error:a}=await this._useSession(async i=>{var o,s,c,u,d;const{data:f,error:h}=i;if(h)throw h;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(s=t.options)===null||s===void 0?void 0:s.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await ae(this.fetch,"GET",m,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(a)throw a;return Lt()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(J(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var n;try{const{error:a,data:{session:i}}=r;if(a)throw a;const{options:o,provider:s,token:c,access_token:u,nonce:d}=t,f=await ae(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=i==null?void 0:i.access_token)!==null&&n!==void 0?n:void 0,body:{provider:s,id_token:c,access_token:u,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:Qr}),{data:h,error:m}=f;return m?{data:{user:null,session:null},error:m}:!h||!h.session||!h.user?{data:{user:null,session:null},error:new Co}:(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("USER_UPDATED",h.session)),{data:h,error:m})}catch(a){if(J(a))return{data:{user:null,session:null},error:a};throw a}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,a;const{data:i,error:o}=r;if(o)throw o;return await ae(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(a=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&a!==void 0?a:void 0})})}catch(r){if(J(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await AB(async a=>(a>0&&await OB(200*Math.pow(2,a-1)),this._debug(r,"refreshing attempt",a),await ae(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Qr})),(a,i)=>{const o=200*Math.pow(2,a);return i&&Jp(i)&&Date.now()+o-n<zo})}catch(n){if(this._debug(r,"error",n),J(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),Lt()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const a=await ji(this.storage,this.storageKey);if(a&&this.userStorage){let o=await ji(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:a.user},await Bo(this.userStorage,this.storageKey+"-user",o)),a.user=(t=o==null?void 0:o.user)!==null&&t!==void 0?t:eg()}else if(a&&!a.user&&!a.user){const o=await ji(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(a.user=o.user,await Ra(this.storage,this.storageKey+"-user"),await Bo(this.storage,this.storageKey,a)):a.user=eg()}if(this._debug(n,"session from storage",a),!this._isValidSession(a)){this._debug(n,"session is not valid"),a!==null&&await this._removeSession();return}const i=((r=a.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Zp;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${Zp}s`),i){if(this.autoRefreshToken&&a.refresh_token){const{error:o}=await this._callRefreshToken(a.refresh_token);o&&(console.error(o),Jp(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:s}=await this._getUser(a.access_token);!s&&(o!=null&&o.user)?(a.user=o.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(n,"error",a),console.error(a);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new Jr;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new Vh;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new Jr;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const s={data:i.session,error:null};return this.refreshingDeferred.resolve(s),s}catch(i){if(this._debug(a,"error",i),J(i)){const o={data:null,error:i};return Jp(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(t,r,n=!0){const a=`#_notifyAllSubscribers(${t})`;this._debug(a,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async s=>{try{await s.callback(t,r)}catch(c){i.push(c)}});if(await Promise.all(o),i.length>0){for(let s=0;s<i.length;s+=1)console.error(i[s]);throw i[0]}}finally{this._debug(a,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Bo(this.userStorage,this.storageKey+"-user",{user:r.user});const a=Object.assign({},r);delete a.user;const i=h_(a);await Bo(this.storage,this.storageKey,i)}else{const a=h_(r);await Bo(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),await Ra(this.storage,this.storageKey),await Ra(this.storage,this.storageKey+"-code-verifier"),await Ra(this.storage,this.storageKey+"-user"),this.userStorage&&await Ra(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Lt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),zo);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((n.expires_at*1e3-t)/zo);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${zo}ms, refresh threshold is ${$v} ticks`),a<=$v&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof jk)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Lt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const a=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&a.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&a.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await Eo(this.storage,this.storageKey),s=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});a.push(s.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);a.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&a.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${a.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;return i?{data:null,error:i}:await ae(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(J(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,a;const{data:i,error:o}=r;if(o)return{data:null,error:o};const s=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:c,error:u}=await ae(this.fetch,"POST",`${this.url}/factors`,{body:s,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&c.type==="totp"&&(!((a=c==null?void 0:c.totp)===null||a===void 0)&&a.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if(J(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return{data:null,error:i};const o=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?aI(t.webauthn.credential_response):iI(t.webauthn.credential_response)})}:{code:t.code}),{data:s,error:c}=await ae(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:o,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return c?{data:null,error:c}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+s.expires_in},s)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",s),{data:s,error:c})})}catch(r){if(J(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return{data:null,error:i};const o=await ae(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});if(o.error)return o;const{data:s}=o;if(s.type!=="webauthn")return{data:s,error:null};switch(s.webauthn.type){case"create":return{data:Object.assign(Object.assign({},s),{webauthn:Object.assign(Object.assign({},s.webauthn),{credential_options:Object.assign(Object.assign({},s.webauthn.credential_options),{publicKey:rI(s.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},s),{webauthn:Object.assign(Object.assign({},s.webauthn),{credential_options:Object.assign(Object.assign({},s.webauthn.credential_options),{publicKey:nI(s.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(J(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const a={all:[],phone:[],totp:[],webauthn:[]};for(const i of(t=r==null?void 0:r.factors)!==null&&t!==void 0?t:[])a.all.push(i),i.status==="verified"&&a[i.factor_type].push(i);return{data:a,error:null}}async _getAuthenticatorAssuranceLevel(){var t,r;const{data:{session:n},error:a}=await this.getSession();if(a)return{data:null,error:a};if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=Qp(n.access_token);let o=null;i.aal&&(o=i.aal);let s=o;((r=(t=n.user.factors)===null||t===void 0?void 0:t.filter(d=>d.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(s="aal2");const u=i.amr||[];return{data:{currentLevel:o,nextLevel:s,currentAuthenticationMethods:u},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async r=>{const{data:{session:n},error:a}=r;return a?{data:null,error:a}:n?await ae(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):{data:null,error:new Jr}})}catch(r){if(J(r))return{data:null,error:r};throw r}}async _approveAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:a},error:i}=n;if(i)return{data:null,error:i};if(!a)return{data:null,error:new Jr};const o=await ae(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"approve"},xform:s=>({data:s,error:null})});return o.data&&o.data.redirect_url&&Lt()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(n){if(J(n))return{data:null,error:n};throw n}}async _denyAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:a},error:i}=n;if(i)return{data:null,error:i};if(!a)return{data:null,error:new Jr};const o=await ae(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"deny"},xform:s=>({data:s,error:null})});return o.data&&o.data.redirect_url&&Lt()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(n){if(J(n))return{data:null,error:n};throw n}}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(s=>s.kid===t);if(n)return n;const a=Date.now();if(n=this.jwks.keys.find(s=>s.kid===t),n&&this.jwks_cached_at+hB>a)return n;const{data:i,error:o}=await ae(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=a,n=i.keys.find(s=>s.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:m,error:v}=await this.getSession();if(v||!m.session)return{data:null,error:v};n=m.session.access_token}const{header:a,payload:i,signature:o,raw:{header:s,payload:c}}=Qp(n);r!=null&&r.allowExpired||MB(i.exp);const u=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:m}=await this.getUser(n);if(m)throw m;return{data:{claims:i,header:a,signature:o},error:null}}const d=zB(a.alg),f=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,o,_B(`${s}.${c}`)))throw new qv("Invalid JWT signature");return{data:{claims:i,header:a,signature:o},error:null}}catch(n){if(J(n))return{data:null,error:n};throw n}}}bc.nextInstanceID=0;const mI=bc;class pI extends mI{constructor(t){super(t)}}class gI{constructor(t,r,n){var a,i,o;this.supabaseUrl=t,this.supabaseKey=r;const s=lB(t);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",s),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",s),this.storageUrl=new URL("storage/v1",s),this.functionsUrl=new URL("functions/v1",s);const c=`sb-${s.hostname.split(".")[0]}-auth-token`,u={db:eB,realtime:rB,auth:Object.assign(Object.assign({},tB),{storageKey:c}),global:Q6},d=sB(n??{},u);this.storageKey=(a=d.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(f,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=d.auth)!==null&&o!==void 0?o:{},this.headers,d.global.fetch),this.fetch=iB(r,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new c6(new URL("rest/v1",s).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new X6(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new t6(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t,r;if(this.accessToken)return await this.accessToken();const{data:n}=await this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:a,userStorage:i,storageKey:o,flowType:s,lock:c,debug:u},d,f){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new pI({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),d),storageKey:o,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:a,userStorage:i,flowType:s,lock:c,debug:u,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(m=>m.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new E6(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const vI=(e,t,r)=>new gI(e,t,r);function yI(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}yI()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const bI="https://abbysvxnnhwvvzhftoms.supabase.co",xI="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImFiYnlzdnhubmh3dnZ6aGZ0b21zIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njg2NTcwNzcsImV4cCI6MjA4NDIzMzA3N30.omP9h4ZqFbDX4FMO_lkd5Q3Iv99xgbs5bVz6beIpqfo",$=vI(bI,xI);function wI(){const[e,t]=p.useState(""),[r,n]=p.useState(""),[a,i]=p.useState(!1),[o,s]=p.useState(!1),[c,u]=p.useState(""),[d,f]=p.useState(""),h=yi();p.useEffect(()=>{const{data:{subscription:x}}=$.auth.onAuthStateChange(async(b,y)=>{b==="PASSWORD_RECOVERY"&&s(!0)});return window.location.search.includes("reset=true")&&s(!0),()=>x.unsubscribe()},[]);const m=async x=>{if(x.preventDefault(),c!==d){alert("As senhas no coincidem!");return}i(!0);try{const{error:b}=await $.auth.updateUser({password:c});if(b)throw b;alert("Senha atualizada com sucesso! Agora voc pode fazer login."),s(!1),u(""),f(""),h("/login")}catch(b){alert("Erro ao atualizar senha: "+b.message)}finally{i(!1)}},v=async x=>{x.preventDefault(),i(!0);const{error:b}=await $.auth.signInWithPassword({email:e,password:r});b?b.message.includes("Email not confirmed")?alert("Email no confirmado, vc deve antes confirmar o email SupaBase Auth com o titulo Confirm Your Singup"):alert(b.message):h("/dashboard"),i(!1)};return l.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",backgroundColor:"var(--color-blue)"},children:o?l.jsxs("form",{onSubmit:m,className:"card",style:{width:"100%",maxWidth:"400px",padding:"2.5rem"},children:[l.jsxs("div",{style:{textAlign:"center",marginBottom:"2rem"},children:[l.jsx("img",{src:"https://b2wenergia.com.br/wp-content/uploads/2025/12/Logo-B2W-Escuro.png",alt:"B2W Energia",style:{height:"60px",objectFit:"contain",marginBottom:"1rem"}}),l.jsx("p",{style:{color:"var(--color-text-medium)"},children:"Defina sua nova senha"})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"label",children:"Nova Senha"}),l.jsx("input",{type:"password",value:c,onChange:x=>u(x.target.value),className:"input",placeholder:"",required:!0,minLength:6})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"label",children:"Confirmar Nova Senha"}),l.jsx("input",{type:"password",value:d,onChange:x=>f(x.target.value),className:"input",placeholder:"",required:!0,minLength:6})]}),l.jsx("button",{type:"submit",disabled:a,className:"btn btn-accent",style:{width:"100%",padding:"0.75rem",justifyContent:"center",fontSize:"1rem",marginTop:"1rem"},children:a?"Carregando...":"Atualizar Senha"}),l.jsx("button",{type:"button",onClick:()=>s(!1),style:{background:"none",border:"none",color:"var(--color-primary)",width:"100%",marginTop:"1rem",cursor:"pointer"},children:"Cancelar"})]}):l.jsxs("form",{onSubmit:v,className:"card",style:{width:"100%",maxWidth:"400px",padding:"2.5rem"},children:[l.jsxs("div",{style:{textAlign:"center",marginBottom:"2rem"},children:[l.jsx("img",{src:"https://b2wenergia.com.br/wp-content/uploads/2025/12/Logo-B2W-Escuro.png",alt:"B2W Energia",style:{height:"60px",objectFit:"contain",marginBottom:"1rem"},onError:x=>{x.target.onerror=null,x.target.style.display="none",x.target.nextSibling.style.display="block"}}),l.jsx("h2",{style:{color:"var(--color-blue)",display:"none"},children:"B2W Energia"}),l.jsx("p",{style:{color:"var(--color-text-medium)"},children:"Faa login para continuar"})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{htmlFor:"email",className:"label",children:"Email"}),l.jsx("input",{id:"email",type:"email",value:e,onChange:x=>t(x.target.value),className:"input",placeholder:"seu@email.com",required:!0})]}),l.jsxs("div",{className:"form-group",children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[l.jsx("label",{htmlFor:"password",className:"label",children:"Senha"}),l.jsx("button",{type:"button",onClick:async()=>{if(!e){alert("Digite seu email para recuperar a senha.");return}i(!0);const{error:x}=await $.auth.resetPasswordForEmail(e,{redirectTo:window.location.origin+"/login?reset=true"});i(!1),alert(x?"Erro ao enviar email: "+x.message:"Email de recuperao enviado! Verifique sua caixa de entrada.")},style:{background:"none",border:"none",color:"var(--color-primary)",fontSize:"0.8rem",cursor:"pointer",padding:0},children:"Esqueci minha senha"})]}),l.jsx("input",{id:"password",type:"password",value:r,onChange:x=>n(x.target.value),className:"input",placeholder:"",required:!0})]}),l.jsx("button",{type:"submit",disabled:a,className:"btn btn-accent",style:{width:"100%",padding:"0.75rem",justifyContent:"center",fontSize:"1rem",marginTop:"1rem"},children:a?"Carregando...":"Entrar"}),l.jsxs("div",{style:{marginTop:"1.5rem",textAlign:"center"},children:[l.jsx("span",{style:{color:"var(--color-text-medium)",fontSize:"0.9rem"},children:"No tem uma conta? "}),l.jsx("button",{type:"button",onClick:()=>h("/cadastro-parceiro"),style:{background:"none",border:"none",color:"var(--color-primary)",fontWeight:"bold",fontSize:"0.9rem",cursor:"pointer",padding:0},children:"Criar conta"})]})]})})}const mn=async e=>{const t=e.replace(/\D/g,"");if(t.length!==8)throw new Error("CEP invlido");const n=await(await fetch(`https://viacep.com.br/ws/${t}/json/`)).json();if(n.erro)throw new Error("CEP no encontrado");return{rua:n.logradouro,bairro:n.bairro,cidade:n.localidade,uf:n.uf,cep:n.cep,ibge:n.ibge}},xc=async e=>{var n,a,i;const t=e.replace(/\D/g,"");if(t.length>11)try{const o=await fetch(`https://publica.cnpj.ws/cnpj/${t}`);if(!o.ok)throw new Error("Erro ao buscar CNPJ");const s=await o.json(),c=s.estabelecimento||{},u=s.socios&&s.socios.length>0?s.socios[0]:null;return{nome:s.razao_social,fantasia:c.nome_fantasia,doc:t,email:c.email,telefone:c.ddd1&&c.telefone1?`(${c.ddd1}) ${c.telefone1}`:"",address:{logradouro:c.tipo_logradouro?`${c.tipo_logradouro} ${c.logradouro}`:c.logradouro,numero:c.numero,complemento:c.complemento,bairro:c.bairro,cep:c.cep,uf:(n=c.estado)==null?void 0:n.sigla,municipio:(a=c.cidade)==null?void 0:a.nome,cidade:(i=c.cidade)==null?void 0:i.nome},legal_partner:u?{nome:u.nome,cpf:u.cpf_cnpj_socio}:{nome:"",cpf:""},raw:s}}catch(o){throw console.error("Erro CNPJ (publica.cnpj.ws)",o),o}else return console.warn("Busca de CPF desabilitada temporariamente (Plano API no ativo)."),{nome:"",doc:t}},Ok=async e=>{try{const{data:t,error:r}=await $.functions.invoke("manage-asaas-customer",{body:e});if(r)throw r;return t}catch(t){throw console.error("Erro Asaas Customer:",t),t}},Qc=async e=>{const{data:t,error:r}=await $.from("Concessionaria").select("*").eq('"Cod. Ibge"',e).single();return r?null:t},Kh=async(e,t="invoice")=>{const r=t==="invoice"?{invoice_id:e}:{subscriber_id:e},{data:n,error:a}=await $.functions.invoke("create-asaas-charge",{body:r});if(a)throw a;return n},Wv=async(e,t,r,n)=>{try{const{data:a,error:i}=await $.functions.invoke("send-whatsapp",{body:{phone:e?e.replace(/\D/g,""):"",text:t,mediaUrl:r,instanceName:n}});if(i)throw i;if(a!=null&&a.error)throw new Error(a.error);return a}catch(a){throw console.error("Erro ao enviar WhatsApp:",a),a}};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _I=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),SI=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,r,n)=>n?n.toUpperCase():r.toLowerCase()),x_=e=>{const t=SI(e);return t.charAt(0).toUpperCase()+t.slice(1)},Ak=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim(),jI=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var CI={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EI=p.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:i,iconNode:o,...s},c)=>p.createElement("svg",{ref:c,...CI,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:Ak("lucide",a),...!i&&!jI(s)&&{"aria-hidden":"true"},...s},[...o.map(([u,d])=>p.createElement(u,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ce=(e,t)=>{const r=p.forwardRef(({className:n,...a},i)=>p.createElement(EI,{ref:i,iconNode:t,className:Ak(`lucide-${_I(x_(e))}`,`lucide-${e}`,n),...a}));return r.displayName=x_(e),r};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OI=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],AI=ce("arrow-right",OI);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kI=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],w_=ce("briefcase",kI);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TI=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],NI=ce("calculator",TI);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RI=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],DI=ce("calendar",RI);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PI=[["path",{d:"M5 21v-6",key:"1hz6c0"}],["path",{d:"M12 21V9",key:"uvy0l4"}],["path",{d:"M19 21V3",key:"11j9sm"}]],MI=ce("chart-no-axes-column-increasing",PI);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zI=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],ab=ce("chevron-down",zI);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BI=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],II=ce("chevron-left",BI);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $I=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],LI=ce("chevron-right",$I);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UI=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],ib=ce("chevron-up",UI);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qI=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],kk=ce("circle-alert",qI);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WI=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Tk=ce("circle-check-big",WI);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HI=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],FI=ce("circle-question-mark",HI);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VI=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],KI=ce("clock",VI);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GI=[["path",{d:"m16 18 6-6-6-6",key:"eg8j8"}],["path",{d:"m8 6-6 6 6 6",key:"ppft3o"}]],YI=ce("code",GI);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XI=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],ZI=ce("copy",XI);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JI=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],eu=ce("credit-card",JI);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QI=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],Gh=ce("dollar-sign",QI);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e8=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],t8=ce("eye-off",e8);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r8=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],n8=ce("eye",r8);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a8=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],fi=ce("file-text",a8);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i8=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],o8=ce("funnel",i8);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s8=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],l8=ce("house",s8);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c8=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],u8=ce("info",c8);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d8=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],rg=ce("layout-dashboard",d8);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f8=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],h8=ce("log-out",f8);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m8=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],p8=ce("map-pin",m8);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g8=[["path",{d:"M11 6a13 13 0 0 0 8.4-2.8A1 1 0 0 1 21 4v12a1 1 0 0 1-1.6.8A13 13 0 0 0 11 14H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2z",key:"q8bfy3"}],["path",{d:"M6 14a12 12 0 0 0 2.4 7.2 2 2 0 0 0 3.2-2.4A8 8 0 0 1 10 14",key:"1853fq"}],["path",{d:"M8 6v8",key:"15ugcq"}]],v8=ce("megaphone",g8);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y8=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],b8=ce("menu",y8);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x8=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],w8=ce("pen",x8);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _8=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Vs=ce("plus",_8);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S8=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],ob=ce("save",S8);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j8=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],sb=ce("search",j8);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C8=[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]],E8=ce("server",C8);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O8=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Nk=ce("settings",O8);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A8=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],k8=ce("square-pen",A8);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T8=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],tu=ce("trash-2",T8);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N8=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],R8=ce("truck",N8);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D8=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Rk=ce("user-check",D8);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P8=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],lb=ce("users",P8);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M8=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Yh=ce("x",M8);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z8=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Xh=ce("zap",z8),Dk=p.createContext(),Gr=()=>{const e=p.useContext(Dk);if(!e)throw new Error("useUI must be used within a UIProvider");return e},B8=({children:e})=>{const[t,r]=p.useState({isOpen:!1,type:"alert",variant:"info",title:"",message:"",confirmText:"Confirmar",cancelText:"Cancelar",onConfirm:()=>{},onCancel:()=>{}}),n=p.useRef(null),a=()=>{r(u=>({...u,isOpen:!1})),n.current&&(n.current(!1),n.current=null)},i=()=>{r(u=>({...u,isOpen:!1})),t.onConfirm&&t.onConfirm(),n.current&&(n.current(!0),n.current=null)},o=(u,d="info",f="")=>{if(!f)switch(d){case"error":f="Erro";break;case"success":f="Sucesso";break;case"warning":f="Ateno";break;default:f="Informao"}r({isOpen:!0,type:"alert",variant:d,title:f,message:u,confirmText:"OK",onConfirm:()=>{},onCancel:()=>{}})},s=(u,d="Confirmao",f="Confirmar",h="Cancelar")=>new Promise(m=>{n.current=m,r({isOpen:!0,type:"confirm",variant:"warning",title:d,message:u,confirmText:f,cancelText:h,onConfirm:()=>{},onCancel:()=>{}})}),c=()=>{switch(t.variant){case"error":return l.jsx(kk,{size:32,color:"#ef4444"});case"success":return l.jsx(Tk,{size:32,color:"#22c55e"});case"warning":return l.jsx(FI,{size:32,color:"#f59e0b"});default:return l.jsx(u8,{size:32,color:"#3b82f6"})}};return l.jsxs(Dk.Provider,{value:{showAlert:o,showConfirm:s},children:[e,t.isOpen&&l.jsxs("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.4)",backdropFilter:"blur(2px)",zIndex:9999,display:"flex",justifyContent:"center",alignItems:"center",animation:"fadeIn 0.2s ease-out"},children:[l.jsxs("div",{style:{background:"white",borderRadius:"12px",padding:"24px",width:"90%",maxWidth:"400px",boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1), 0 8px 10px -6px rgba(0, 0, 0, 0.1)",animation:"slideUp 0.3s cubic-bezier(0.16, 1, 0.3, 1)",display:"flex",flexDirection:"column",gap:"16px"},children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[l.jsxs("div",{style:{display:"flex",gap:"12px",alignItems:"center"},children:[l.jsx("div",{style:{padding:"8px",borderRadius:"50%",background:t.variant==="error"?"#fee2e2":t.variant==="success"?"#dcfce7":t.variant==="warning"?"#fef3c7":"#dbeafe"},children:c()}),l.jsx("h3",{style:{margin:0,fontSize:"1.25rem",fontWeight:"600",color:"#1f2937"},children:t.title})]}),l.jsx("button",{onClick:a,style:{background:"transparent",border:"none",cursor:"pointer",color:"#9ca3af"},children:l.jsx(Yh,{size:20})})]}),l.jsx("p",{style:{margin:0,color:"#4b5563",fontSize:"1rem",lineHeight:"1.5"},children:t.message}),l.jsxs("div",{style:{display:"flex",justifyContent:"flex-end",gap:"12px",marginTop:"8px"},children:[t.type==="confirm"&&l.jsx("button",{onClick:a,style:{padding:"8px 16px",borderRadius:"6px",border:"1px solid #e5e7eb",background:"white",color:"#374151",fontWeight:"500",cursor:"pointer",transition:"background 0.2s"},onMouseOver:u=>u.currentTarget.style.background="#f9fafb",onMouseOut:u=>u.currentTarget.style.background="white",children:t.cancelText}),l.jsx("button",{onClick:i,style:{padding:"8px 16px",borderRadius:"6px",border:"none",background:t.variant==="error"?"#dc2626":"var(--color-blue)",color:"white",fontWeight:"500",cursor:"pointer",boxShadow:"0 1px 2px 0 rgba(0, 0, 0, 0.05)",transition:"filter 0.2s"},onMouseOver:u=>u.currentTarget.style.filter="brightness(0.9)",onMouseOut:u=>u.currentTarget.style.filter="brightness(1)",children:t.confirmText})]})]}),l.jsx("style",{children:`
                        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
                        @keyframes slideUp { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
                    `})]})]})};function I8(){const[e]=G0();yi();const{showAlert:t}=Gr(),[r,n]=p.useState(!1),[a,i]=p.useState(!1),[o,s]=p.useState(null),c=e.get("id");e.get("originador");const[u,d]=p.useState({name:"",email:"",phone:"",cep:"",concessionaria:"",consumo:500,uf:"",city:"",neighborhood:"",street:"",number:""}),[f,h]=p.useState(null),m=async()=>{const S=u.cep.replace(/\D/g,"");if(S.length===8){n(!0);try{const j=await mn(S);if(d(C=>({...C,street:j.rua,neighborhood:j.bairro,city:j.cidade,uf:j.uf})),j.ibge){const C=await Qc(j.ibge);C?(h(C),d(E=>({...E,concessionaria:C.Concessionaria||""}))):(h(null),d(E=>({...E,concessionaria:""})))}}catch(j){console.error("Error fetching CEP:",j)}finally{n(!1)}}},v=()=>{if(!f)return 0;const S=Number(f["Tarifa Concessionaria"])||0;let C=Number(f["Desconto Assinante"])||0;return C>1&&(C=C/100),u.consumo*S*C},x=async S=>{S.preventDefault(),n(!0);try{const j=v(),E=c&&/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(c)?c:null,k={name:u.name,email:u.email,phone:u.phone,cep:u.cep,concessionaria:u.concessionaria,consumo_kwh:u.consumo,calculated_discount:j,rua:u.street,numero:u.number,bairro:u.neighborhood,cidade:u.city,uf:u.uf,tarifa_concessionaria:Number(f==null?void 0:f["Tarifa Concessionaria"])||0,desconto_assinante:Number(f==null?void 0:f["Desconto Assinante"])||0,status:"simulacao",originator_id:E},{data:A,error:N}=await $.from("leads").insert(k).select().single();if(N)throw N;A&&s(A),i(!0)}catch(j){console.error("Error saving lead:",j);const C=j.message||"Erro ao processar simulao. Tente novamente.";t(C,"error")}finally{n(!1)}},b=()=>{const j=v()*12;let C=Number(f==null?void 0:f["Desconto Assinante"])||0;C<1&&C>0&&(C=C*100);const E=new URLSearchParams;E.append("name",u.name),E.append("email",u.email),E.append("phone",u.phone),E.append("cep",u.cep),E.append("consumo",u.consumo),c&&E.append("originator_id",c),E.append("discount_percent",C.toFixed(0)),E.append("savings_annual",j.toFixed(2));const k=`https://www.b2wenergia.com.br/contrato?${E.toString()}`;window.open(k,"_blank"),i(!1)},y=S=>S.toLocaleString("pt-BR",{style:"currency",currency:"BRL"}),g={primary:"#003366",accent:"#FF6600"},w={wrapper:{backgroundColor:"white",borderRadius:"24px",border:"1px solid #f1f5f9",padding:"2rem",boxShadow:"0 32px 64px -16px rgba(0, 51, 102, 0.12)",maxWidth:"42rem",margin:"0 auto",fontFamily:"Inter, sans-serif"},header:{fontSize:"1.5rem",fontWeight:"bold",textAlign:"center",marginBottom:"2rem",color:g.primary},formSpace:{display:"flex",flexDirection:"column",gap:"1.5rem"},grid:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(240px, 1fr))",gap:"1.5rem"},label:{display:"block",fontSize:"0.75rem",fontWeight:"bold",textTransform:"uppercase",color:"#6b7280",marginBottom:"0.25rem"},input:{width:"100%",padding:"0.75rem 1rem",borderRadius:"0.75rem",border:"1px solid #e2e8f0",backgroundColor:"#f8fafc",outline:"none",transition:"all 0.2s",fontSize:"1rem"},button:{width:"100%",padding:"1rem",marginTop:"1.5rem",borderRadius:"0.75rem",fontWeight:"800",color:"white",textTransform:"uppercase",fontSize:"1.125rem",letterSpacing:"0.025em",border:"none",cursor:r?"wait":"pointer",opacity:r?.7:1,backgroundColor:g.accent,boxShadow:"0 4px 14px 0 rgba(255, 102, 0, 0.39)",transition:"opacity 0.2s"},rangeContainer:{paddingTop:"1rem"},rangeLabelRow:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0.5rem"},rangeInput:{width:"100%",height:"0.5rem",backgroundColor:"#e5e7eb",borderRadius:"0.5rem",appearance:"none",cursor:"pointer",accentColor:g.accent},rangeTicks:{display:"flex",justifyContent:"space-between",fontSize:"0.75rem",color:"#9ca3af",marginTop:"0.25rem"}},_=v();return l.jsxs(l.Fragment,{children:[l.jsxs("div",{style:w.wrapper,children:[l.jsx("h2",{style:w.header,children:"Saiba o valor do seu desconto"}),l.jsxs("form",{onSubmit:x,style:w.formSpace,children:[l.jsx("div",{style:w.grid,children:l.jsxs("div",{style:{gridColumn:"1 / -1"},children:[l.jsx("label",{style:w.label,children:"CEP"}),l.jsx("input",{type:"text",maxLength:"9",value:u.cep,onChange:S=>{let j=S.target.value.replace(/\D/g,"");j.length>5&&(j=j.replace(/^(\d{5})(\d)/,"$1-$2")),d({...u,cep:j})},onBlur:m,style:w.input,placeholder:"00000-000",required:!0})]})}),l.jsxs("div",{children:[l.jsx("label",{style:w.label,children:"Nome Completo"}),l.jsx("input",{type:"text",value:u.name,onChange:S=>d({...u,name:S.target.value}),style:w.input,placeholder:"Como devemos te chamar?",required:!0})]}),l.jsxs("div",{style:w.grid,children:[l.jsxs("div",{children:[l.jsx("label",{style:w.label,children:"E-mail"}),l.jsx("input",{type:"email",value:u.email,onChange:S=>d({...u,email:S.target.value}),style:w.input,placeholder:"exemplo@email.com",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{style:w.label,children:"WhatsApp"}),l.jsx("input",{type:"tel",maxLength:"15",value:u.phone,onChange:S=>{let j=S.target.value.replace(/\D/g,"");j=j.replace(/^(\d{2})(\d)/g,"($1) $2"),j=j.replace(/(\d)(\d{4})$/,"$1-$2"),d({...u,phone:j})},style:w.input,placeholder:"(00) 00000-0000",required:!0})]})]}),l.jsxs("div",{style:w.rangeContainer,children:[l.jsxs("div",{style:w.rangeLabelRow,children:[l.jsx("label",{style:w.label,children:"Mdia de Gasto Mensal (kWh)"}),l.jsxs("span",{style:{fontSize:"1.25rem",fontWeight:"bold",color:g.accent},children:[u.consumo," kWh"]})]}),l.jsx("input",{type:"range",min:"0",max:"10000",step:"50",value:u.consumo,onChange:S=>d({...u,consumo:Number(S.target.value)}),style:w.rangeInput}),l.jsxs("div",{style:w.rangeTicks,children:[l.jsx("span",{children:"0 kWh"}),l.jsx("span",{children:"10.000+ kWh"})]})]}),l.jsx("button",{type:"submit",disabled:r,style:w.button,children:r?"Calculando...":"Ver o Desconto"})]})]}),a&&l.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,zIndex:9999,display:"flex",alignItems:"center",justifyContent:"center",padding:"1rem",backgroundColor:"rgba(0,0,0,0.6)",backdropFilter:"blur(4px)"},children:l.jsxs("div",{style:{backgroundColor:"white",borderRadius:"24px",padding:"2rem",maxWidth:"28rem",width:"100%",position:"relative",boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.25)"},children:[l.jsx("button",{onClick:()=>i(!1),style:{position:"absolute",top:"1rem",right:"1rem",background:"none",border:"none",cursor:"pointer",color:"#9ca3af",padding:"0.25rem"},children:l.jsx("svg",{style:{width:"24px",height:"24px"},fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),l.jsx("h3",{style:{fontSize:"1.5rem",fontWeight:"bold",textAlign:"center",marginBottom:"0.5rem",color:"#dc2626"},children:"Seu desconto"}),l.jsx("p",{style:{textAlign:"center",color:"#6b7280",marginBottom:"1.5rem",fontSize:"0.875rem"},children:"Agora  s prosseguir com o cadastro para garantir o seu desconto"}),l.jsxs("div",{style:{border:"1px dashed #d1d5db",borderRadius:"0.75rem",padding:"1.5rem",position:"relative",backgroundColor:"#f9fafb"},children:[l.jsx("div",{style:{position:"absolute",top:"-0.75rem",left:"1rem",backgroundColor:"#3b82f6",color:"white",fontSize:"0.75rem",fontWeight:"bold",padding:"0.25rem 0.75rem",borderRadius:"9999px"},children:"Garantir desconto"}),l.jsxs("div",{style:{marginTop:"0.5rem",display:"flex",flexDirection:"column",gap:"0.75rem"},children:[l.jsxs("div",{children:[l.jsx("p",{style:{fontSize:"0.875rem",fontWeight:"bold",color:"#4f46e5"},children:"Nome do cliente"}),l.jsx("p",{style:{fontSize:"1.125rem",fontWeight:"600",color:"#1f2937"},children:u.name})]}),l.jsxs("div",{children:[l.jsx("p",{style:{fontSize:"0.875rem",fontWeight:"bold",color:"#16a34a"},children:"Concessionria"}),l.jsx("p",{style:{fontSize:"1.125rem",fontWeight:"600",color:"#1f2937"},children:u.concessionaria})]}),l.jsxs("div",{children:[l.jsx("p",{style:{fontSize:"0.875rem",fontWeight:"bold",color:"#FF6600"},children:"Valor do Desconto"}),l.jsxs("p",{style:{fontSize:"1.875rem",fontWeight:"bold",color:"#FF6600"},children:[y((o==null?void 0:o.calculated_discount)||_),l.jsx("span",{style:{fontSize:"0.875rem",color:"#6b7280",fontWeight:"normal",marginLeft:"0.25rem"},children:"/ms"})]})]})]})]}),l.jsx("button",{onClick:b,style:{width:"100%",padding:"0.75rem",marginTop:"1.5rem",borderRadius:"0.75rem",fontWeight:"bold",color:"white",textTransform:"uppercase",border:"none",cursor:"pointer",backgroundColor:g.accent,boxShadow:"0 4px 14px 0 rgba(255, 102, 0, 0.39)"},children:"Garantir Desconto"})]})})]})}function $8(){return l.jsx("div",{style:{minHeight:"100vh",backgroundColor:"#f9fafb",display:"flex",alignItems:"center",justifyContent:"center",padding:"1rem"},children:l.jsx("div",{style:{width:"100%",maxWidth:"42rem"},children:l.jsx(I8,{})})})}function L8(){const{showAlert:e}=Gr(),[t,r]=p.useState(!1),[n,a]=p.useState(1),[i,o]=p.useState(null);Ce.useEffect(()=>{console.log("DEBUG: OriginatorSignupForm Mounted v1.0")},[]);const[s,c]=p.useState({name:"",email:"",phone:"",password:"",cep:"",uf:"",city:"",neighborhood:"",street:"",number:"",complement:"",profession:"",cpf:"",pix_key:"",pix_key_type:"cpf"}),[u,d]=p.useState(!1),f=()=>l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[l.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),l.jsx("circle",{cx:"12",cy:"12",r:"3"})]}),h=()=>l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[l.jsx("path",{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"}),l.jsx("line",{x1:"1",y1:"1",x2:"23",y2:"23"})]}),m=async()=>{const g=s.cep.replace(/\D/g,"");if(g.length===8){r(!0);try{const w=await mn(g);c(_=>({..._,street:w.rua,neighborhood:w.bairro,city:w.cidade,uf:w.uf}))}catch(w){console.error("Error fetching CEP:",w)}finally{r(!1)}}},v=async g=>{g.preventDefault(),r(!0);try{const{data:w,error:_}=await $.auth.signUp({email:s.email,password:s.password,options:{data:{name:s.name,phone:s.phone}}});if(_)throw _;w!=null&&w.user&&(o(w.user.id),a(2))}catch(w){console.error("Error signing up:",w),e(w.message||"Erro ao realizar cadastro.","error")}finally{r(!1)}},x=async g=>{g.preventDefault(),r(!0);try{const w={id:i,name:s.name,email:s.email,phone:s.phone,cpf_cnpj:s.cpf,pix_key:s.pix_key,pix_key_type:s.pix_key_type,profession:s.profession,address:{cep:s.cep,street:s.street,number:s.number,neighborhood:s.neighborhood,city:s.city,uf:s.uf,complement:s.complement}},{error:_}=await $.from("originators_v2").insert(w);if(_)throw _;a(3)}catch(w){console.error("Error saving profile:",w),e(w.message||"Erro ao salvar perfil.","error")}finally{r(!1)}},b={primary:"#003366",accent:"#FF6600"},y={wrapper:{backgroundColor:"white",borderRadius:"24px",border:"1px solid #f1f5f9",padding:"2rem",boxShadow:"0 32px 64px -16px rgba(0, 51, 102, 0.12)",maxWidth:"42rem",margin:"0 auto",fontFamily:"Inter, sans-serif"},header:{fontSize:"1.5rem",fontWeight:"bold",textAlign:"center",marginBottom:"2rem",color:b.primary},formSpace:{display:"flex",flexDirection:"column",gap:"1.5rem"},grid:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(240px, 1fr))",gap:"1.5rem"},label:{display:"block",fontSize:"0.75rem",fontWeight:"bold",textTransform:"uppercase",color:"#6b7280",marginBottom:"0.25rem"},input:{width:"100%",padding:"0.75rem 1rem",borderRadius:"0.75rem",border:"1px solid #e2e8f0",backgroundColor:"#f8fafc",outline:"none",transition:"all 0.2s",fontSize:"1rem"},button:{width:"100%",padding:"1rem",marginTop:"1.5rem",borderRadius:"0.75rem",fontWeight:"800",color:"white",textTransform:"uppercase",fontSize:"1.125rem",letterSpacing:"0.025em",border:"none",cursor:t?"wait":"pointer",opacity:t?.7:1,backgroundColor:b.accent,boxShadow:"0 4px 14px 0 rgba(255, 102, 0, 0.39)",transition:"opacity 0.2s"}};return n===1?l.jsxs("div",{style:y.wrapper,children:[l.jsx("h2",{style:y.header,children:"Seja um Parceiro B2W"}),l.jsxs("form",{onSubmit:v,style:y.formSpace,children:[l.jsxs("div",{children:[l.jsx("label",{style:y.label,children:"Nome Completo"}),l.jsx("input",{type:"text",value:s.name,onChange:g=>c({...s,name:g.target.value}),style:y.input,required:!0})]}),l.jsxs("div",{style:y.grid,children:[l.jsxs("div",{children:[l.jsx("label",{style:y.label,children:"E-mail"}),l.jsx("input",{type:"email",value:s.email,onChange:g=>c({...s,email:g.target.value}),style:y.input,required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{style:y.label,children:"WhatsApp"}),l.jsx("input",{type:"tel",maxLength:"15",value:s.phone,onChange:g=>{let w=g.target.value.replace(/\D/g,"");w=w.replace(/^(\d{2})(\d)/g,"($1) $2"),w=w.replace(/(\d)(\d{4})$/,"$1-$2"),c({...s,phone:w})},style:y.input,required:!0})]})]}),l.jsxs("div",{style:{position:"relative"},children:[l.jsx("label",{style:y.label,children:"Senha"}),l.jsx("input",{type:u?"text":"password",value:s.password,onChange:g=>c({...s,password:g.target.value}),style:{...y.input,paddingRight:"2.5rem"},required:!0,minLength:6}),l.jsx("button",{type:"button",onClick:()=>d(!u),style:{position:"absolute",right:"0.75rem",top:"1.75rem",background:"none",border:"none",cursor:"pointer",color:"#6b7280",display:"flex",alignItems:"center"},children:u?l.jsx(h,{}):l.jsx(f,{})})]}),l.jsx("button",{type:"submit",disabled:t,style:y.button,children:t?"Cadastrando...":"Quero ser Parceiro"})]})]}):l.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,zIndex:9999,display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"rgba(0,0,0,0.6)",backdropFilter:"blur(4px)",padding:"1rem"},children:l.jsxs("div",{style:{backgroundColor:"white",borderRadius:"24px",padding:"2rem",maxWidth:"32rem",width:"100%",position:"relative",boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.25)",maxHeight:"90vh",overflowY:"auto"},children:[n===2&&l.jsxs("form",{onSubmit:x,style:y.formSpace,children:[l.jsx("h3",{style:{...y.header,marginBottom:"1rem",fontSize:"1.25rem"},children:"Complete seu Perfil"}),l.jsx("div",{style:y.grid,children:l.jsxs("div",{style:{gridColumn:"1 / -1"},children:[l.jsx("label",{style:y.label,children:"CEP"}),l.jsx("input",{type:"text",maxLength:"9",value:s.cep,onChange:g=>{let w=g.target.value.replace(/\D/g,"");w.length>5&&(w=w.replace(/^(\d{5})(\d)/,"$1-$2")),c({...s,cep:w})},onBlur:m,style:y.input,required:!0})]})}),l.jsxs("div",{style:y.grid,children:[l.jsxs("div",{style:{gridColumn:"1 / -1"},children:[l.jsx("label",{style:y.label,children:"Rua"}),l.jsx("input",{value:s.street,style:y.input,readOnly:!0})]}),l.jsxs("div",{children:[l.jsx("label",{style:y.label,children:"Bairro"}),l.jsx("input",{value:s.neighborhood,style:y.input,readOnly:!0})]}),l.jsxs("div",{children:[l.jsx("label",{style:y.label,children:"Cidade / UF"}),l.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[l.jsx("input",{value:s.city,style:{...y.input,flex:2},readOnly:!0}),l.jsx("input",{value:s.uf,style:{...y.input,flex:1},readOnly:!0})]})]}),l.jsxs("div",{children:[l.jsx("label",{style:y.label,children:"Nmero"}),l.jsx("input",{value:s.number,onChange:g=>c({...s,number:g.target.value}),style:y.input,required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{style:y.label,children:"Complemento"}),l.jsx("input",{value:s.complement,onChange:g=>c({...s,complement:g.target.value}),style:y.input,placeholder:"Ap 101, Bloco B"})]})]}),l.jsxs("div",{children:[l.jsx("label",{style:y.label,children:"Profisso"}),l.jsx("input",{type:"text",value:s.profession,onChange:g=>c({...s,profession:g.target.value}),style:y.input,required:!0,placeholder:"Corretor de Seguros, Consorcios e Contador"})]}),l.jsxs("div",{style:y.grid,children:[l.jsxs("div",{children:[l.jsx("label",{style:y.label,children:"CPF (Chave PIX)"}),l.jsx("input",{type:"text",value:s.cpf,onChange:g=>{let w=g.target.value.replace(/\D/g,"");w.length>11&&(w=w.substring(0,11)),w=w.replace(/(\d{3})(\d)/,"$1.$2"),w=w.replace(/(\d{3})(\d)/,"$1.$2"),w=w.replace(/(\d{3})(\d{1,2})$/,"$1-$2"),c(_=>({..._,cpf:w,pix_key:_.pix_key_type==="cpf"?w:_.pix_key}))},style:y.input,required:!0,placeholder:"000.000.000-00"})]}),l.jsxs("div",{children:[l.jsx("label",{style:y.label,children:"Tipo Chave PIX"}),l.jsxs("select",{value:s.pix_key_type,onChange:g=>{const w=g.target.value;c(_=>({..._,pix_key_type:w,pix_key:w==="cpf"?_.cpf:""}))},style:y.input,children:[l.jsx("option",{value:"cpf",children:"CPF"}),l.jsx("option",{value:"email",children:"E-mail"}),l.jsx("option",{value:"phone",children:"Telefone"}),l.jsx("option",{value:"random",children:"Aleatria"})]})]})]}),s.pix_key_type!=="cpf"&&l.jsxs("div",{children:[l.jsx("label",{style:y.label,children:"Chave PIX"}),l.jsx("input",{value:s.pix_key,onChange:g=>c({...s,pix_key:g.target.value}),style:y.input,required:!0})]}),l.jsx("button",{type:"submit",disabled:t,style:y.button,children:t?"Salvando...":"Finalizar Cadastro"})]}),n===3&&l.jsxs("div",{style:{textAlign:"center"},children:[l.jsx("svg",{style:{width:"64px",height:"64px",color:"#16a34a",margin:"0 auto 1rem"},fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),l.jsx("h3",{style:{...y.header,marginBottom:"0.5rem"},children:"Cadastro Realizado!"}),l.jsx("p",{style:{color:"#6b7280",marginBottom:"1.5rem"},children:"Verifique seu e-mail para confirmar sua conta."}),l.jsx("button",{onClick:()=>window.location.href="https://app.b2wenergia.com.br/login",style:y.button,children:"Ir para Login"})]})]})})}class U8 extends Ce.Component{constructor(t){super(t),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(t){return{hasError:!0}}componentDidCatch(t,r){console.error("ErrorBoundary caught an error",t,r),this.setState({error:t,errorInfo:r})}render(){return this.state.hasError?l.jsxs("div",{style:{padding:"2rem",color:"red",backgroundColor:"#fee2e2",border:"1px solid red",borderRadius:"8px"},children:[l.jsx("h2",{children:"Algo deu errado."}),l.jsxs("details",{style:{whiteSpace:"pre-wrap"},children:[this.state.error&&this.state.error.toString(),l.jsx("br",{}),this.state.errorInfo&&this.state.errorInfo.componentStack]})]}):this.props.children}}function q8(){return Ce.useEffect(()=>{console.log("DEBUG: OriginatorLanding Mounted v1.1 - With ErrorBoundary")},[]),l.jsx("div",{style:{minHeight:"100vh",backgroundColor:"#f9fafb",display:"flex",alignItems:"center",justifyContent:"center",padding:"1rem"},children:l.jsx("div",{style:{width:"100%",maxWidth:"42rem"},children:l.jsx(U8,{children:l.jsx(L8,{})})})})}const Ks=e=>e?e.replace(/\D/g,""):"",ru=e=>{const t=Ks(e);return t.length<=11?t.replace(/(\d{3})(\d)/,"$1.$2").replace(/(\d{3})(\d)/,"$1.$2").replace(/(\d{3})(\d{1,2})/,"$1-$2").replace(/(-\d{2})\d+?$/,"$1"):t.replace(/(\d{2})(\d)/,"$1.$2").replace(/(\d{3})(\d)/,"$1.$2").replace(/(\d{3})(\d)/,"$1/$2").replace(/(\d{4})(\d)/,"$1-$2").replace(/(-\d{2})\d+?$/,"$1")},hi=e=>Ks(e).replace(/(\d{2})(\d)/,"($1) $2").replace(/(\d{5})(\d)/,"$1-$2").replace(/(-\d{4})\d+?$/,"$1"),W8=e=>{const t=Ks(e);if(t.length!==11||t==="00000000000"||t==="11111111111"||t==="22222222222"||t==="33333333333"||t==="44444444444"||t==="55555555555"||t==="66666666666"||t==="77777777777"||t==="88888888888"||t==="99999999999")return!1;let r,n,a,i,o,s,c;try{for(a=0,c=10,i=0;i<9;i++)s=parseInt(t.charAt(i)),a=a+s*c,c=c-1;for(o=11-a%11,o===10||o===11?r="0":r=String.fromCharCode(o+48),a=0,c=11,i=0;i<10;i++)s=parseInt(t.charAt(i)),a=a+s*c,c=c-1;return o=11-a%11,o===10||o===11?n="0":n=String.fromCharCode(o+48),r===t.charAt(9)&&n===t.charAt(10)}catch{return!1}},H8=e=>{const t=Ks(e);if(t.length!==14||/^(\d)\1{13}$/.test(t))return!1;let r=t.length-2,n=t.substring(0,r),a=t.substring(r),i=0,o=r-7;for(let c=r;c>=1;c--)i+=n.charAt(r-c)*o--,o<2&&(o=9);let s=i%11<2?0:11-i%11;if(s!=a.charAt(0))return!1;r=r+1,n=t.substring(0,r),i=0,o=r-7;for(let c=r;c>=1;c--)i+=n.charAt(r-c)*o--,o<2&&(o=9);return s=i%11<2?0:11-i%11,s==a.charAt(1)},eo=e=>Ks(e).length===11,nu=e=>{const t=Ks(e);return t.length<=11?W8(t):H8(t)},rd=({title:e,children:t,defaultOpen:r=!1})=>{const[n,a]=p.useState(r);return l.jsxs("div",{style:{gridColumn:"1 / -1",border:"1px solid var(--color-border)",borderRadius:"var(--radius-sm)",overflow:"hidden",marginBottom:"1rem"},children:[l.jsxs("div",{onClick:()=>a(!n),style:{background:"var(--color-bg-light)",padding:"0.75rem 1rem",cursor:"pointer",display:"flex",justifyContent:"space-between",alignItems:"center",fontWeight:600,color:"var(--color-text)"},children:[l.jsx("span",{children:e}),n?l.jsx(ib,{size:18}):l.jsx(ab,{size:18})]}),n&&l.jsx("div",{style:{padding:"1rem",borderTop:"1px solid var(--color-border)",display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:t})]})};function cb({consumerUnit:e,onClose:t,onSave:r,onDelete:n}){var H;const{showAlert:a,showConfirm:i}=Gr(),[o,s]=p.useState([]),[c,u]=p.useState([]),[d,f]=p.useState(!1),[h,m]=p.useState(!1),v=O=>{if(!O&&O!==0)return"";const R=Number(O);return isNaN(R)?"":R.toLocaleString("pt-BR",{style:"currency",currency:"BRL",minimumFractionDigits:4})},x=O=>{if(!O||typeof O!="string")return 0;const R=O.replace(/\D/g,"");return Number(R)/1e4},b=(O,R)=>{const D=R.replace(/\D/g,""),U=(Number(D)/1e4).toLocaleString("pt-BR",{style:"currency",currency:"BRL",minimumFractionDigits:4});C(G=>({...G,[O]:U}))},y=O=>O.replace(/\D/g,"").replace(/^(\d{5})(\d)/,"$1-$2").substring(0,9),g=[{value:"em_ativacao",label:"Em Ativao"},{value:"aguardando_conexao",label:"Aguardando Conexo"},{value:"ativo",label:"Ativo"},{value:"sem_geracao",label:"Sem Gerao"},{value:"em_atraso",label:"Em Atraso"},{value:"cancelado",label:"Cancelado"},{value:"cancelado_inadimplente",label:"Cancelado (Inadimplente)"}],w=[{value:"auto_consumo_remoto",label:"Auto Consumo Remoto"},{value:"geracao_compartilhada",label:"Gerao Compartilhada"}],_=[{value:"monofasico",label:"Monofsico"},{value:"bifasico",label:"Bifsico"},{value:"trifasico",label:"Trifsico"}],S=[1,5,10,15,20,25,30],[j,C]=p.useState({subscriber_id:"",usina_id:"",status:"em_ativacao",numero_uc:"",titular_conta:"",modalidade:"geracao_compartilhada",concessionaria:"",tipo_ligacao:"trifasico",franquia:"",tarifa_concessionaria:"",te:"",tusd:"",fio_b:"",tarifa_minima:"",desconto_assinante:"",dia_vencimento:10,cep:"",rua:"",numero:"",complemento:"",bairro:"",cidade:"",uf:""});p.useEffect(()=>{E(),k()},[]),p.useEffect(()=>{var O,R,D,P,U,G,K;e&&C({subscriber_id:e.subscriber_id||"",usina_id:e.usina_id||"",status:e.status||"em_ativacao",numero_uc:e.numero_uc||"",titular_conta:e.titular_conta||"",modalidade:e.modalidade||"geracao_compartilhada",concessionaria:e.concessionaria||"",tipo_ligacao:e.tipo_ligacao||"trifasico",franquia:e.franquia||"",tarifa_concessionaria:v(e.tarifa_concessionaria),te:v(e.te),tusd:v(e.tusd),fio_b:v(e.fio_b),tarifa_minima:"",desconto_assinante:e.desconto_assinante||"",dia_vencimento:e.dia_vencimento||10,cep:y(((O=e.address)==null?void 0:O.cep)||""),rua:((R=e.address)==null?void 0:R.rua)||"",numero:((D=e.address)==null?void 0:D.numero)||"",complemento:((P=e.address)==null?void 0:P.complemento)||"",bairro:((U=e.address)==null?void 0:U.bairro)||"",cidade:((G=e.address)==null?void 0:G.cidade)||"",uf:((K=e.address)==null?void 0:K.uf)||""})},[e==null?void 0:e.id,e==null?void 0:e.subscriber_id]),p.useEffect(()=>{const O=x(j.tarifa_concessionaria);let R=30;j.tipo_ligacao==="trifasico"?R=100:j.tipo_ligacao==="bifasico"&&(R=50);const P=(O*R).toLocaleString("pt-BR",{style:"currency",currency:"BRL",minimumFractionDigits:2,maximumFractionDigits:2});C(U=>({...U,tarifa_minima:P}))},[j.tarifa_concessionaria,j.tipo_ligacao]);const E=async()=>{const{data:O}=await $.from("subscribers").select("id, name, cpf_cnpj").order("name");s(O||[])},k=async()=>{const{data:O}=await $.from("usinas").select("id, name").order("name");u(O||[])},A=O=>{const R=y(O.target.value);C(D=>({...D,cep:R}))},N=async()=>{const O=j.cep.replace(/\D/g,"");if(O.length===8){m(!0);try{const R=await mn(O);if(C(D=>({...D,rua:R.rua||"",bairro:R.bairro||"",cidade:R.cidade||"",uf:R.uf||"",concessionaria:D.concessionaria||""})),R.ibge){const D=await Qc(R.ibge);if(D){let P=D["Desconto Assinante"]||0;P>1||(P=P*100),C(U=>({...U,rua:R.rua||"",bairro:R.bairro||"",cidade:R.cidade||"",uf:R.uf||"",concessionaria:D.Concessionaria||U.concessionaria,tarifa_concessionaria:D["Tarifa Concessionaria"]?v(D["Tarifa Concessionaria"]):U.tarifa_concessionaria,te:D.TE?v(D.TE):U.te,tusd:D.TUSD?v(D.TUSD):U.tusd,fio_b:D["Fio B"]?v(D["Fio B"]):U.fio_b,desconto_assinante:P.toFixed(2)}))}}}catch(R){console.error("Erro CEP",R),a("Erro ao buscar CEP/Ofertas: "+(R.message||"No encontrado"),"error")}finally{m(!1)}}},T=async O=>{O.preventDefault(),f(!0);try{const R={subscriber_id:j.subscriber_id||null,usina_id:j.usina_id||null,status:j.status,numero_uc:j.numero_uc,titular_conta:j.titular_conta,modalidade:j.modalidade,concessionaria:j.concessionaria,tipo_ligacao:j.tipo_ligacao,franquia:Number(j.franquia),tarifa_concessionaria:x(j.tarifa_concessionaria),te:x(j.te),tusd:x(j.tusd),fio_b:x(j.fio_b),desconto_assinante:Number(j.desconto_assinante),dia_vencimento:Number(j.dia_vencimento),address:{cep:j.cep.replace(/\D/g,""),rua:j.rua,numero:j.numero,complemento:j.complemento,bairro:j.bairro,cidade:j.cidade,uf:j.uf}};if(!R.subscriber_id)throw new Error("Assinante  obrigatrio.");let D;if(e!=null&&e.id?D=await $.from("consumer_units").update(R).eq("id",e.id).select().single():D=await $.from("consumer_units").insert(R).select().single(),D.error)throw D.error;r(D.data),t()}catch(R){a("Erro ao salvar UC: "+R.message,"error")}finally{f(!1)}},I=async()=>{if(await i("Excluir esta Unidade Consumidora?")){f(!0);try{const{error:R}=await $.from("consumer_units").delete().eq("id",e.id);if(R)throw R;n&&n(e.id),t()}catch(R){a("Erro ao excluir: "+R.message,"error")}finally{f(!1)}}},L=((H=o.find(O=>O.id===j.subscriber_id))==null?void 0:H.name)||"";return l.jsx("div",{className:"modal-overlay",children:l.jsxs("div",{className:"modal-content",style:{maxWidth:"900px"},children:[l.jsxs("div",{className:"modal-header",children:[l.jsx("h3",{children:e?L?`Editar UC - ${L}`:"Editar UC":"Nova Unidade Consumidora"}),l.jsx("button",{onClick:t,className:"modal-close",children:""})]}),l.jsxs("form",{onSubmit:T,style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:[l.jsxs("div",{className:"form-group",style:{gridColumn:"1 / -1",background:"var(--color-bg-light)",padding:"1rem",borderRadius:"var(--radius-sm)"},children:[l.jsx("label",{className:"label",children:"Status da Unidade"}),l.jsx("select",{value:j.status,onChange:O=>C({...j,status:O.target.value}),className:"select",style:{maxWidth:"300px"},children:g.map(O=>l.jsx("option",{value:O.value,children:O.label},O.value))})]}),l.jsxs(rd,{title:"Vnculos",defaultOpen:!0,children:[l.jsxs("div",{className:"form-group",children:[l.jsxs("label",{className:"label",children:["Assinante ",l.jsx("span",{style:{color:"var(--color-error)"},children:"*"})]}),l.jsxs("select",{required:!0,value:j.subscriber_id,onChange:O=>C({...j,subscriber_id:O.target.value}),className:"select",children:[l.jsx("option",{value:"",children:"Selecione..."}),o.map(O=>l.jsxs("option",{value:O.id,children:[O.name," (",O.cpf_cnpj,")"]},O.id))]})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"label",children:"Usina (Opcional)"}),l.jsxs("select",{value:j.usina_id,onChange:O=>C({...j,usina_id:O.target.value}),className:"select",children:[l.jsx("option",{value:"",children:"Selecione..."}),c.map(O=>l.jsx("option",{value:O.id,children:O.name},O.id))]})]})]}),l.jsxs(rd,{title:"Endereo de Instalao",defaultOpen:!0,children:[l.jsxs("div",{style:{gridColumn:"1 / -1",display:"flex",gap:"1rem"},children:[l.jsxs("div",{style:{width:"150px"},children:[l.jsx("label",{className:"label",children:"CEP"}),l.jsxs("div",{style:{position:"relative"},children:[l.jsx("input",{value:j.cep,onChange:A,onBlur:N,placeholder:"00000-000",maxLength:9,className:"input"}),h&&l.jsx("span",{style:{position:"absolute",right:"10px",top:"10px",fontSize:"0.7rem",color:"var(--color-text-light)"},children:"..."})]})]}),l.jsxs("div",{style:{flex:1},children:[l.jsx("label",{className:"label",children:"Concessionria (Auto)"}),l.jsx("input",{value:j.concessionaria,onChange:O=>C({...j,concessionaria:O.target.value}),className:"input",readOnly:!0,style:{background:"var(--color-bg-light)"}})]})]}),l.jsxs("div",{style:{display:"flex",gap:"1rem",gridColumn:"1 / -1"},children:[l.jsxs("div",{style:{flex:1},children:[l.jsx("label",{className:"label",children:"Rua"}),l.jsx("input",{value:j.rua,onChange:O=>C({...j,rua:O.target.value}),className:"input"})]}),l.jsxs("div",{style:{width:"100px"},children:[l.jsx("label",{className:"label",children:"Nmero"}),l.jsx("input",{value:j.numero,onChange:O=>C({...j,numero:O.target.value}),className:"input"})]})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"label",children:"Bairro"}),l.jsx("input",{value:j.bairro,onChange:O=>C({...j,bairro:O.target.value}),className:"input"})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"label",children:"Complemento"}),l.jsx("input",{value:j.complemento,onChange:O=>C({...j,complemento:O.target.value}),className:"input"})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"label",children:"Cidade"}),l.jsx("input",{value:j.cidade,onChange:O=>C({...j,cidade:O.target.value}),className:"input"})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"label",children:"UF"}),l.jsx("input",{value:j.uf,onChange:O=>C({...j,uf:O.target.value}),className:"input"})]})]}),l.jsxs(rd,{title:"Dados da Unidade",defaultOpen:!0,children:[l.jsxs("div",{className:"form-group",children:[l.jsxs("label",{className:"label",children:["Nmero da UC ",l.jsx("span",{style:{color:"var(--color-error)"},children:"*"})]}),l.jsx("input",{required:!0,value:j.numero_uc,onChange:O=>C({...j,numero_uc:O.target.value}),placeholder:"Ex: 7204400277",className:"input"})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"label",children:"Titular da Conta (Na Fatura)"}),l.jsx("input",{required:!0,value:j.titular_conta,onChange:O=>C({...j,titular_conta:O.target.value}),placeholder:"Nome Completo / Razo Social",className:"input"})]})]}),l.jsxs(rd,{title:"Dados Tcnicos e Comerciais",defaultOpen:!0,children:[l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"label",children:"Tipo de Ligao"}),l.jsx("select",{value:j.tipo_ligacao,onChange:O=>C({...j,tipo_ligacao:O.target.value}),className:"select",children:_.map(O=>l.jsx("option",{value:O.value,children:O.label},O.value))})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"label",children:"Modalidade"}),l.jsx("select",{value:j.modalidade,onChange:O=>C({...j,modalidade:O.target.value}),className:"select",children:w.map(O=>l.jsx("option",{value:O.value,children:O.label},O.value))})]}),l.jsxs("div",{style:{gridColumn:"1 / -1",background:"#e0f2fe",padding:"1rem",borderRadius:"var(--radius-md)",border:"1px solid #bae6fd",display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:[l.jsx("div",{style:{gridColumn:"1 / -1",fontSize:"0.9rem",fontWeight:"bold",color:"#0369a1",marginBottom:"0.5rem"},children:"Componentes Tarifrios"}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"label",style:{color:"#075985"},children:"Tarifa Concessionria (R$/kWh)"}),l.jsx("input",{type:"text",value:j.tarifa_concessionaria,onChange:O=>b("tarifa_concessionaria",O.target.value),placeholder:"R$ 0,0000",className:"input",style:{borderColor:"#7dd3fc"}})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"label",style:{color:"#075985"},children:"TE (Energia) - R$/kWh"}),l.jsx("input",{type:"text",value:j.te,onChange:O=>b("te",O.target.value),placeholder:"R$ 0,0000",className:"input",style:{borderColor:"#7dd3fc"}})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"label",style:{color:"#075985"},children:"TUSD (Distribuio) - R$/kWh"}),l.jsx("input",{type:"text",value:j.tusd,onChange:O=>b("tusd",O.target.value),placeholder:"R$ 0,0000",className:"input",style:{borderColor:"#7dd3fc"}})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"label",style:{color:"#075985"},children:"Fio B - R$/kWh"}),l.jsx("input",{type:"text",value:j.fio_b,onChange:O=>b("fio_b",O.target.value),placeholder:"R$ 0,0000",className:"input",style:{borderColor:"#7dd3fc"}})]})]}),l.jsxs("div",{style:{background:"var(--color-warning-bg)",padding:"0.8rem",borderRadius:"var(--radius-sm)",border:"1px solid var(--color-warning)"},children:[l.jsx("label",{className:"label",style:{color:"var(--color-warning)",fontWeight:"bold"},children:"Tarifa Mnima Estimada (R$)"}),l.jsx("div",{style:{fontSize:"1.2rem",fontWeight:"bold",color:"var(--color-warning)"},children:j.tarifa_minima||"R$ 0,00"}),l.jsxs("span",{style:{fontSize:"0.7rem",color:"var(--color-warning)"},children:["Baseada no Tipo de Ligao (",j.tipo_ligacao,") x Tarifa."]})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"label",children:"Desconto Assinante (%)"}),l.jsx("input",{type:"number",step:"0.01",value:j.desconto_assinante,onChange:O=>C({...j,desconto_assinante:O.target.value}),placeholder:"%",className:"input"})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"label",children:"Franquia / Consumo Min (kWh)"}),l.jsx("input",{type:"number",value:j.franquia,onChange:O=>C({...j,franquia:O.target.value}),className:"input"})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"label",children:"Dia de Vencimento"}),l.jsx("select",{value:j.dia_vencimento,onChange:O=>C({...j,dia_vencimento:O.target.value}),className:"select",children:S.map(O=>l.jsx("option",{value:O,children:O},O))})]})]}),l.jsxs("div",{className:"modal-footer",style:{gridColumn:"1 / -1"},children:[e&&n&&l.jsx("button",{type:"button",onClick:I,className:"btn btn-danger",style:{marginRight:"auto"},children:"Excluir UC"}),l.jsx("button",{type:"button",onClick:t,className:"btn btn-secondary",children:"Cancelar"}),l.jsx("button",{type:"submit",disabled:d,className:"btn btn-primary",children:d?"Salvando...":"Salvar UC"})]})]})]})})}const F8=({title:e,children:t,defaultOpen:r=!1})=>{const[n,a]=p.useState(r);return l.jsxs("div",{style:{gridColumn:"1 / -1",border:"1px solid var(--color-border)",borderRadius:"var(--radius-sm)",overflow:"hidden",marginBottom:"1rem"},children:[l.jsxs("div",{onClick:()=>a(!n),style:{background:"var(--color-bg-light)",padding:"0.75rem 1rem",cursor:"pointer",display:"flex",justifyContent:"space-between",alignItems:"center",fontWeight:600,color:"var(--color-text)"},children:[l.jsx("span",{children:e}),n?l.jsx(ib,{size:18}):l.jsx(ab,{size:18})]}),n&&l.jsx("div",{style:{padding:"1rem",borderTop:"1px solid var(--color-border)",display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:t})]})};function V8({consumerUnit:e,subscriberId:t,concessionariaDefault:r,onClose:n,onSave:a}){const{showAlert:i,showConfirm:o}=Gr(),[s,c]=p.useState(!1),[u,d]=p.useState(!1),[f,h]=p.useState({subscriber_id:t||"",status:"em_ativacao",numero_uc:"",titular_conta:"",concessionaria:r||"",modalidade:"geracao_compartilhada",tipo_ligacao:"monofasico",usina_id:null,cep:"",rua:"",numero:"",complemento:"",bairro:"",cidade:"",uf:""});p.useEffect(()=>{e&&h(y=>{var g,w,_,S,j,C,E;return{...y,...e,address:void 0,cep:m(((g=e.address)==null?void 0:g.cep)||""),rua:((w=e.address)==null?void 0:w.rua)||"",numero:((_=e.address)==null?void 0:_.numero)||"",complemento:((S=e.address)==null?void 0:S.complemento)||"",bairro:((j=e.address)==null?void 0:j.bairro)||"",cidade:((C=e.address)==null?void 0:C.cidade)||"",uf:((E=e.address)==null?void 0:E.uf)||""}}),r&&h(y=>({...y,concessionaria:r}))},[e,r]);const m=y=>y.replace(/\D/g,"").replace(/^(\d{5})(\d)/,"$1-$2").substring(0,9),v=y=>{const g=m(y.target.value);h(w=>({...w,cep:g}))},x=async()=>{const y=f.cep.replace(/\D/g,"");if(y.length===8){d(!0);try{const g=await mn(y);h(w=>({...w,rua:g.rua||"",bairro:g.bairro||"",cidade:g.cidade||"",uf:g.uf||""}))}catch(g){console.error("Erro CEP",g)}finally{d(!1)}}},b=async y=>{y.preventDefault(),c(!0);try{const g={subscriber_id:f.subscriber_id,status:f.status,numero_uc:f.numero_uc,titular_conta:f.titular_conta,concessionaria:f.concessionaria,modalidade:f.modalidade,tipo_ligacao:f.tipo_ligacao,address:{cep:f.cep.replace(/\D/g,""),rua:f.rua,numero:f.numero,complemento:f.complemento,bairro:f.bairro,cidade:f.cidade,uf:f.uf}};if(!g.subscriber_id)throw new Error("Erro: Assinante no identificado.");if(!g.numero_uc)throw new Error("Nmero da UC  obrigatrio.");let w;if(e!=null&&e.id?w=await $.from("consumer_units").update(g).eq("id",e.id).select().single():w=await $.from("consumer_units").insert(g).select().single(),w.error)throw w.error;a(w.data),n()}catch(g){i("Erro ao salvar UC: "+g.message,"error")}finally{c(!1)}};return l.jsx("div",{className:"modal-overlay",children:l.jsxs("div",{className:"modal-content",style:{maxWidth:"600px"},children:[l.jsxs("div",{className:"modal-header",children:[l.jsx("h3",{children:e?"Editar Unidade Consumidora":"Nova Unidade Consumidora"}),l.jsx("button",{onClick:n,className:"modal-close",children:""})]}),l.jsxs("form",{onSubmit:b,style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:[l.jsxs("div",{style:{gridColumn:"1 / -1",background:"#f0f9ff",padding:"1rem",borderRadius:"var(--radius-sm)",border:"1px solid #bae6fd"},children:[l.jsxs("div",{style:{marginBottom:"1rem"},children:[l.jsxs("label",{className:"label",children:["Nmero da UC ",l.jsx("span",{style:{color:"var(--color-error)"},children:"*"})]}),l.jsx("input",{required:!0,value:f.numero_uc,onChange:y=>h({...f,numero_uc:y.target.value}),placeholder:"Ex: 7204400277",className:"input",style:{fontSize:"1.1rem",fontWeight:"bold"}})]}),l.jsxs("div",{style:{marginBottom:"1rem"},children:[l.jsx("label",{className:"label",children:"Titular da Conta (Conforme Fatura)"}),l.jsx("input",{required:!0,value:f.titular_conta,onChange:y=>h({...f,titular_conta:y.target.value}),placeholder:"Nome Completo / Razo Social",className:"input"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"label",children:"Concessionria"}),l.jsx("input",{value:f.concessionaria,readOnly:!0,className:"input",style:{background:"#e0e0e0",color:"#555"}})]})]}),l.jsxs(F8,{title:"Endereo de Instalao",defaultOpen:!0,children:[l.jsxs("div",{style:{gridColumn:"1 / -1",display:"flex",gap:"1rem"},children:[l.jsxs("div",{style:{width:"140px"},children:[l.jsx("label",{className:"label",children:"CEP"}),l.jsxs("div",{style:{position:"relative"},children:[l.jsx("input",{value:f.cep,onChange:v,onBlur:x,placeholder:"00000-000",maxLength:9,className:"input"}),u&&l.jsx("span",{style:{position:"absolute",right:"10px",top:"10px",fontSize:"0.7rem"},children:"..."})]})]}),l.jsxs("div",{style:{flex:1},children:[l.jsx("label",{className:"label",children:"Rua"}),l.jsx("input",{value:f.rua,onChange:y=>h({...f,rua:y.target.value}),className:"input"})]})]}),l.jsxs("div",{style:{display:"flex",gap:"1rem",gridColumn:"1 / -1"},children:[l.jsxs("div",{style:{width:"100px"},children:[l.jsx("label",{className:"label",children:"Nmero"}),l.jsx("input",{value:f.numero,onChange:y=>h({...f,numero:y.target.value}),className:"input"})]}),l.jsxs("div",{style:{flex:1},children:[l.jsx("label",{className:"label",children:"Bairro"}),l.jsx("input",{value:f.bairro,onChange:y=>h({...f,bairro:y.target.value}),className:"input"})]})]}),l.jsx("div",{style:{display:"flex",gap:"1rem",gridColumn:"1 / -1"},children:l.jsxs("div",{style:{flex:1},children:[l.jsx("label",{className:"label",children:"Complemento"}),l.jsx("input",{value:f.complemento,onChange:y=>h({...f,complemento:y.target.value}),className:"input"})]})}),l.jsxs("div",{style:{display:"flex",gap:"1rem",gridColumn:"1 / -1"},children:[l.jsxs("div",{style:{flex:1},children:[l.jsx("label",{className:"label",children:"Cidade"}),l.jsx("input",{value:f.cidade,readOnly:!0,className:"input",style:{background:"#f5f5f5"}})]}),l.jsxs("div",{style:{width:"60px"},children:[l.jsx("label",{className:"label",children:"UF"}),l.jsx("input",{value:f.uf,readOnly:!0,className:"input",style:{background:"#f5f5f5"}})]})]})]}),l.jsxs("div",{className:"modal-footer",style:{gridColumn:"1 / -1",marginTop:"1rem"},children:[l.jsx("button",{type:"button",onClick:n,className:"btn btn-secondary",children:"Cancelar"}),l.jsx("button",{type:"submit",disabled:s,className:"btn btn-primary",style:{minWidth:"150px"},children:s?"Adicionando...":"Adicionar UC"})]})]})]})})}function K8(){const[e]=G0(),t=yi(),{showAlert:r,showConfirm:n}=Gr(),a=e.get("name")||"",i=e.get("email")||"",o=e.get("phone")||"",s=e.get("cep")||"",c=e.get("originator_id")||"",u=e.get("discount_percent")||"0",d=e.get("savings_annual")||"0",f=e.get("concessionaria")||"",[h,m]=p.useState(!1),[v,x]=p.useState(!1),[b,y]=p.useState(null),[g,w]=p.useState([]),[_,S]=p.useState({name:a,cpf_cnpj:"",status:"ativacao",phone:o,email:i,cep:s,rua:"",numero:"",complemento:"",bairro:"",cidade:"",uf:"",originator_id:c}),[j,C]=p.useState(!1),[E,k]=p.useState(!1);p.useEffect(()=>{s&&A(s)},[s]);const A=async P=>{const U=(P||_.cep).replace(/\D/g,"");if(U.length===8){C(!0);try{const G=await mn(U);S(K=>({...K,cep:L(U),rua:G.rua||"",bairro:G.bairro||"",cidade:G.cidade||"",uf:G.uf||""}))}catch(G){console.error("Erro CEP:",G)}finally{C(!1)}}},N=async()=>{const P=_.cpf_cnpj.replace(/\D/g,"");if(P.length>=11){k(!0);try{const U=await xc(P);U.nome&&S(G=>({...G,name:U.nome}))}catch(U){console.error("Erro Doc:",U)}finally{k(!1)}}},T=g.reduce((P,U)=>P+(Number(U.franquia)||0),0),I=g.length>0?T:e.get("consumo")||0,L=P=>P.replace(/\D/g,"").replace(/^(\d{5})(\d)/,"$1-$2").substr(0,9),H=async()=>{if(!nu(_.cpf_cnpj))throw new Error("CPF/CNPJ invlido!");if(!_.name)throw new Error("Nome  obrigatrio");if(_.cpf_cnpj.replace(/\D/g,""),!b){const{data:K}=await $.from("subscribers").select("id").eq("cpf_cnpj",_.cpf_cnpj).single();if(K)throw new Error("J existe um assinante com este CPF/CNPJ.")}let P=b==null?void 0:b.asaas_customer_id;try{const K=await Ok({id:P,name:_.name,cpfCnpj:_.cpf_cnpj,email:_.email,phone:_.phone,postalCode:_.cep,addressNumber:_.numero,address:_.rua,province:_.bairro});K!=null&&K.success&&(P=K.asaas_id)}catch(K){if(console.error("Asaas Sync Error:",K),!await n(`Aviso: No foi possvel sincronizar com o Asaas (${K.message}).
Deseja finalizar o cadastro apenas localmente?`,"Erro de Sincronizao","Sim, Finalizar Local","No, Vou Corrigir"))throw new Error("Operao cancelada para correo de dados.")}const U={..._,asaas_customer_id:P};U.originator_id||(U.originator_id=null);let G;if(b!=null&&b.id?G=await $.from("subscribers").update(U).eq("id",b.id).select().single():G=await $.from("subscribers").insert(U).select().single(),G.error)throw G.error;return y(G.data),G.data},O=async()=>{if(b)x(!0);else try{if(!_.cpf_cnpj||!_.name)return r("Preencha os dados do assinante (CPF e Nome) antes de adicionar UCs.","warning");m(!0),await H(),m(!1),x(!0)}catch(P){m(!1),r(P.message,"error")}},R=async()=>{var P,U;m(!0);try{const G=await H();if(g.length===0&&!await n("Nenhuma Unidade Consumidora (UC) foi cadastrada. Deseja finalizar mesmo assim?")){m(!1);return}if(c){const{data:K}=await $.from("originators_v2").select("phone").eq("id",c).single();if(K!=null&&K.phone){const Q=` Novo Cliente Cadastrado!

${G.name} acabou de completar o cadastro.
Verifique no CRM.`;let ee="default";try{const{data:ne}=await $.from("integrations_config").select("variables").eq("service_name","evolution_api").single();(P=ne==null?void 0:ne.variables)!=null&&P.instance_name&&(ee=ne.variables.instance_name)}catch(ne){console.error("Error fetching integration config:",ne)}await Wv(K.phone,Q,null,ee)}}if(G.phone){const K=`Ol, ${G.name}! 

Seu cadastro na B2W Energia foi recebido com sucesso e est em fase de ativao.

Para acompanhar o processo, acesse seu email e crie seu login.`;let Q="default";try{const{data:ee}=await $.from("integrations_config").select("variables").eq("service_name","evolution_api").single();(U=ee==null?void 0:ee.variables)!=null&&U.instance_name&&(Q=ee.variables.instance_name)}catch(ee){console.error("Error fetching integration config:",ee)}await Wv(G.phone,K,null,Q)}r("Cadastro realizado com sucesso!","success"),t("/login")}catch(G){console.error(G),r("Erro ao finalizar: "+G.message,"error")}finally{m(!1)}},D=async()=>{if(!(b!=null&&b.id))return;const{data:P}=await $.from("consumer_units").select("*").eq("subscriber_id",b.id);w(P||[])};return p.useEffect(()=>{b&&D()},[b]),l.jsxs("div",{className:"min-h-screen bg-slate-50 font-inter",children:[l.jsx("div",{className:"bg-white border-b border-slate-200",children:l.jsxs("div",{className:"max-w-5xl mx-auto px-4 py-6",children:[l.jsx("h1",{className:"text-3xl font-bold",style:{color:"#003366"},children:_.name||"Novo Assinante"}),l.jsx("p",{className:"text-slate-500 mt-2 text-lg",children:"Confira os detalhes da sua economia e finalize sua adeso abaixo."})]})}),l.jsxs("div",{className:"max-w-5xl mx-auto px-4 py-8 space-y-8",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[l.jsxs("div",{className:"bg-white p-4 rounded-xl border border-slate-200 shadow-sm",children:[l.jsx("p",{className:"text-xs font-bold text-slate-500 uppercase tracking-wide mb-1",children:"Concessionria"}),l.jsx("p",{className:"font-semibold text-slate-900",children:"Distribuidora Local"})]}),l.jsxs("div",{className:"bg-white p-4 rounded-xl border border-slate-200 shadow-sm",children:[l.jsx("p",{className:"text-xs font-bold text-slate-500 uppercase tracking-wide mb-1",children:"Mdia de Consumo"}),l.jsxs("p",{className:"font-semibold text-slate-900",children:[Number(I).toLocaleString("pt-BR")," kWh"]})]}),l.jsxs("div",{className:"bg-white p-4 rounded-xl border border-slate-200 shadow-sm",children:[l.jsx("p",{className:"text-xs font-bold text-slate-500 uppercase tracking-wide mb-1",children:"Endereo da Instalao"}),l.jsx("p",{className:"font-semibold text-slate-900 truncate",title:`${_.rua}, ${_.numero}`,children:_.rua?`${_.rua}, ${_.numero}`:"Endereo no informado"})]})]}),l.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-100 overflow-hidden",children:[l.jsxs("div",{className:"p-6 border-b border-slate-100 flex items-center gap-2",children:[l.jsx(Xh,{className:"text-orange-500 fill-orange-500",size:24}),l.jsx("h2",{className:"text-xl font-bold text-slate-800",children:"Economia esperada com a B2W Energia"})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2",children:[l.jsxs("div",{className:"p-8 text-center text-white flex flex-col justify-center items-center",style:{backgroundColor:"#003366"},children:[l.jsx("p",{className:"text-sm font-medium opacity-90 mb-2 uppercase tracking-wider",children:"Desconto Garantido"}),l.jsxs("p",{className:"text-6xl font-bold mb-2",children:[u,"%"]}),l.jsx("p",{className:"text-xs opacity-75",children:"Sobre a tarifa de energia"})]}),l.jsxs("div",{className:"p-8 text-center text-white flex flex-col justify-center items-center",style:{backgroundColor:"#FF6600"},children:[l.jsx("p",{className:"text-sm font-medium opacity-90 mb-2 uppercase tracking-wider",children:"Economia Anual Estimada"}),l.jsx("p",{className:"text-5xl font-bold mb-2",children:Number(d).toLocaleString("pt-BR",{style:"currency",currency:"BRL"})}),l.jsx("p",{className:"text-xs opacity-75",children:"Mais dinheiro no seu bolso"})]})]}),l.jsx("div",{className:"bg-slate-50 p-3 text-center text-xs text-slate-500",children:"* Estimativa baseada no seu histrico de consumo mdio mensal informado."})]}),l.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-slate-100 p-6 md:p-10",children:[l.jsxs("h2",{className:"text-2xl font-bold mb-8 flex items-center gap-2",style:{color:"#003366"},children:[l.jsx("div",{className:"w-1 h-8 bg-[#FF6600] rounded-full"}),"Dados do Assinante"]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wide mb-2",children:"CPF ou CNPJ"}),l.jsxs("div",{className:"relative",children:[l.jsx("input",{type:"text",value:_.cpf_cnpj,onChange:P=>S({..._,cpf_cnpj:ru(P.target.value)}),onBlur:N,className:`w-full px-4 py-4 rounded-xl border ${E?"bg-blue-50 border-blue-200":"bg-white border-slate-200"} focus:outline-none focus:ring-2 focus:ring-[#FF6600] focus:border-transparent transition-all shadow-sm font-medium text-slate-700`,placeholder:"000.000.000-00"}),E&&l.jsx("span",{className:"absolute right-3 top-4 text-xs text-[#003366] font-bold",children:"Buscando..."})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wide mb-2",children:"Nome Completo / Razo Social"}),l.jsx("input",{type:"text",value:_.name,onChange:P=>S({..._,name:P.target.value}),className:"w-full px-4 py-4 rounded-xl border border-slate-200 bg-white focus:outline-none focus:ring-2 focus:ring-[#FF6600] focus:border-transparent transition-all shadow-sm font-medium text-slate-700",placeholder:"Seu nome"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wide mb-2",children:"E-mail"}),l.jsx("input",{type:"email",value:_.email,onChange:P=>S({..._,email:P.target.value}),className:"w-full px-4 py-4 rounded-xl border border-slate-200 bg-white focus:outline-none focus:ring-2 focus:ring-[#FF6600] focus:border-transparent transition-all shadow-sm font-medium text-slate-700"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wide mb-2",children:"WhatsApp"}),l.jsx("input",{type:"tel",value:_.phone,onChange:P=>S({..._,phone:hi(P.target.value)}),className:"w-full px-4 py-4 rounded-xl border border-slate-200 bg-white focus:outline-none focus:ring-2 focus:ring-[#FF6600] focus:border-transparent transition-all shadow-sm font-medium text-slate-700"})]}),l.jsx("div",{className:"md:col-span-2 pt-6 border-t border-slate-100 mt-2",children:l.jsxs("h3",{className:"text-lg font-bold mb-6 flex items-center gap-2",style:{color:"#003366"},children:[l.jsx("div",{className:"w-1 h-6 bg-[#FF6600] rounded-full"}),"Endereo"]})}),l.jsxs("div",{className:"grid grid-cols-3 gap-6 md:col-span-2",children:[l.jsxs("div",{className:"col-span-1",children:[l.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wide mb-2",children:"CEP"}),l.jsx("input",{type:"text",value:_.cep,onChange:P=>S({..._,cep:L(P.target.value)}),onBlur:P=>A(P.target.value),className:`w-full px-4 py-4 rounded-xl border ${j?"bg-blue-50":"bg-white"} border-slate-200 focus:outline-none focus:ring-2 focus:ring-[#FF6600] focus:border-transparent transition-all shadow-sm font-medium text-slate-700`})]}),l.jsxs("div",{className:"col-span-2",children:[l.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wide mb-2",children:"Rua"}),l.jsx("input",{type:"text",value:_.rua,onChange:P=>S({..._,rua:P.target.value}),className:"w-full px-4 py-4 rounded-xl border border-slate-200 bg-white focus:outline-none focus:ring-2 focus:ring-[#FF6600] focus:border-transparent transition-all shadow-sm font-medium text-slate-700"})]})]}),l.jsxs("div",{className:"md:col-span-2 grid grid-cols-2 md:grid-cols-4 gap-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wide mb-2",children:"Nmero"}),l.jsx("input",{type:"text",value:_.numero,onChange:P=>S({..._,numero:P.target.value}),className:"w-full px-4 py-4 rounded-xl border border-slate-200 bg-white focus:outline-none focus:ring-2 focus:ring-[#FF6600] focus:border-transparent transition-all shadow-sm font-medium text-slate-700"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wide mb-2",children:"Comp."}),l.jsx("input",{type:"text",value:_.complemento,onChange:P=>S({..._,complemento:P.target.value}),className:"w-full px-4 py-4 rounded-xl border border-slate-200 bg-white focus:outline-none focus:ring-2 focus:ring-[#FF6600] focus:border-transparent transition-all shadow-sm font-medium text-slate-700"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wide mb-2",children:"Bairro"}),l.jsx("input",{type:"text",value:_.bairro,onChange:P=>S({..._,bairro:P.target.value}),className:"w-full px-4 py-4 rounded-xl border border-slate-200 bg-white focus:outline-none focus:ring-2 focus:ring-[#FF6600] focus:border-transparent transition-all shadow-sm font-medium text-slate-700"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wide mb-2",children:"Cidade/UF"}),l.jsx("input",{type:"text",value:`${_.cidade}-${_.uf}`,readOnly:!0,className:"w-full px-4 py-4 rounded-xl border border-slate-200 bg-slate-50 text-slate-500 cursor-not-allowed font-medium"})]})]})]})]}),l.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-slate-200 p-6 md:p-10",children:[l.jsxs("div",{className:"flex justify-between items-center mb-6",children:[l.jsxs("h2",{className:"text-2xl font-bold flex items-center gap-2",style:{color:"#003366"},children:[l.jsx("div",{className:"w-1 h-8 bg-[#FF6600] rounded-full"}),"Unidades Consumidoras"]}),l.jsxs("button",{onClick:O,className:"flex items-center gap-2 bg-green-50 text-green-700 px-4 py-2 rounded-lg font-bold hover:bg-green-100 transition-colors border border-green-200",children:[l.jsx(Vs,{size:20}),"Adicionar UC"]})]}),g.length===0?l.jsx("div",{className:"text-center py-8 text-slate-500 bg-slate-50 rounded-xl border border-dashed border-slate-300",children:l.jsx("p",{children:"Nenhuma UC cadastrada. Adicione pelo menos uma para continuar."})}):l.jsx("div",{className:"space-y-3",children:g.map(P=>l.jsxs("div",{className:"flex justify-between items-center p-4 bg-slate-50 rounded-xl border border-slate-200",children:[l.jsxs("div",{children:[l.jsxs("p",{className:"font-bold text-slate-800",children:["UC: ",P.numero_uc]}),l.jsxs("p",{className:"text-sm text-slate-500",children:[P.concessionaria,"  ",Number(P.franquia)," kWh"]})]}),l.jsx("button",{className:"p-2 text-red-500 hover:bg-red-50 rounded-lg transition-colors",onClick:async()=>{await n("Remover esta UC?")&&(await $.from("consumer_units").delete().eq("id",P.id),D())},children:l.jsx(tu,{size:18})})]},P.id))})]}),l.jsx("button",{onClick:R,disabled:h,className:"w-full py-5 text-xl font-bold text-white uppercase tracking-wider rounded-xl shadow-xl transition-all transform active:scale-[0.99] flex justify-center items-center gap-3 hover:shadow-2xl",style:{backgroundColor:"#FF6600"},children:h?"Processando...":l.jsxs(l.Fragment,{children:["Finalizar Adeso ",l.jsx(AI,{size:24})]})})]}),v&&l.jsx(V8,{consumerUnit:null,subscriberId:b==null?void 0:b.id,concessionariaDefault:f,onClose:()=>x(!1),onSave:()=>{D(),x(!1)}})]})}function G8(){const e=yi(),[t,r]=p.useState(!1),[n,a]=p.useState(1),[i,o]=p.useState({cpf:"",nome:"",email:"",password:"",telefone:"",cep:"",rua:"",numero:"",complemento:"",bairro:"",cidade:"",uf:"",numero_uc:""}),s=async()=>{if(i.cpf.replace(/\D/g,"").length===11){r(!0);try{const f=await xc(i.cpf);o(h=>({...h,nome:f.nome}))}catch(f){console.error(f)}finally{r(!1)}}},c=async()=>{if(i.cep.length>=8){r(!0);try{const f=await mn(i.cep);o(h=>({...h,rua:f.rua,bairro:f.bairro,cidade:f.cidade,uf:f.uf}))}catch{alert("CEP no encontrado")}finally{r(!1)}}},u=async f=>{f.preventDefault(),a(2)},d=async f=>{f.preventDefault(),r(!0);try{const{data:h,error:m}=await $.auth.signUp({email:i.email,password:i.password,options:{data:{name:i.nome,role:"subscriber",cpf_cnpj:i.cpf,phone:i.telefone,address:{rua:i.rua,numero:i.numero,complemento:i.complemento,bairro:i.bairro,cidade:i.cidade,uf:i.uf,cep:i.cep}}}});if(m)throw m;const v=h.user.id,{error:x}=await $.from("profiles").upsert({id:v,name:i.nome,cpf_cnpj:i.cpf,email:i.email,phone:i.telefone,role:"subscriber",address:{rua:i.rua,numero:i.numero,complemento:i.complemento,bairro:i.bairro,cidade:i.cidade,uf:i.uf,cep:i.cep}});x&&console.error("Erro ao criar/atualizar perfil:",x);const{data:b,error:y}=await $.from("subscribers").insert({profile_id:v,name:i.nome,cpf_cnpj:i.cpf,email:i.email,phone:i.telefone,status:"ativacao"}).select().single();if(y)throw y;await $.from("consumer_units").insert({subscriber_id:b.id,numero_uc:i.numero_uc,status:"ativacao",address:{rua:i.rua,cep:i.cep}}),alert("Cadastro realizado com sucesso! Entre com o seu email e senha e faa login."),e("/login")}catch(h){alert("Erro ao cadastrar: "+h.message)}finally{r(!1)}};return l.jsx("div",{style:{minHeight:"100vh",padding:"2rem",backgroundColor:"var(--color-bg-light)"},children:l.jsxs("div",{style:{maxWidth:"600px",margin:"0 auto",background:"white",padding:"2rem",borderRadius:"8px"},children:[l.jsx("h1",{style:{textAlign:"center",marginBottom:"1rem"},children:"Assine Agora"}),n===1&&l.jsx("form",{onSubmit:u,children:l.jsxs("div",{style:{display:"grid",gap:"1rem"},children:[l.jsxs("div",{children:[l.jsx("label",{children:"CPF/CNPJ"}),l.jsx("input",{value:i.cpf,onChange:f=>o({...i,cpf:f.target.value}),onBlur:s,style:{width:"100%",padding:"0.5rem"},required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{children:"Nome Completo"}),l.jsx("input",{value:i.nome,onChange:f=>o({...i,nome:f.target.value}),style:{width:"100%",padding:"0.5rem"},required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{children:"Email"}),l.jsx("input",{type:"email",value:i.email,onChange:f=>o({...i,email:f.target.value}),style:{width:"100%",padding:"0.5rem"},required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{children:"Senha"}),l.jsx("input",{type:"password",value:i.password,onChange:f=>o({...i,password:f.target.value}),style:{width:"100%",padding:"0.5rem"},required:!0,minLength:6})]}),l.jsxs("div",{children:[l.jsx("label",{children:"Telefone"}),l.jsx("input",{value:i.telefone,onChange:f=>o({...i,telefone:f.target.value}),style:{width:"100%",padding:"0.5rem"},required:!0})]}),l.jsx("button",{type:"submit",style:{width:"100%",padding:"1rem",backgroundColor:"var(--color-blue)",color:"white"},children:"Prximo"})]})}),n===2&&l.jsx("form",{onSubmit:d,children:l.jsxs("div",{style:{display:"grid",gap:"1rem"},children:[l.jsxs("div",{children:[l.jsx("label",{children:"CEP da Unidade Consumidora"}),l.jsx("input",{value:i.cep,onChange:f=>o({...i,cep:f.target.value}),onBlur:c,style:{width:"100%",padding:"0.5rem"},required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{children:"Rua"}),l.jsx("input",{value:i.rua,onChange:f=>o({...i,rua:f.target.value}),style:{width:"100%",padding:"0.5rem"}})]}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:[l.jsx("input",{placeholder:"Nmero",value:i.numero,onChange:f=>o({...i,numero:f.target.value}),style:{width:"100%",padding:"0.5rem"}}),l.jsx("input",{placeholder:"Complemento",value:i.complemento,onChange:f=>o({...i,complemento:f.target.value}),style:{width:"100%",padding:"0.5rem"}})]}),l.jsxs("div",{children:[l.jsx("label",{children:"Nmero da Instalao (UC)"}),l.jsx("input",{value:i.numero_uc,onChange:f=>o({...i,numero_uc:f.target.value}),placeholder:"Cdigo na conta de luz",style:{width:"100%",padding:"0.5rem"},required:!0})]}),l.jsx("button",{type:"submit",disabled:t,style:{width:"100%",padding:"1rem",success:!0,backgroundColor:"var(--color-orange)",color:"white",fontWeight:"bold"},children:t?"Processando...":"Finalizar Cadastro"})]})})]})})}const Pk=p.createContext({}),pn=()=>p.useContext(Pk),Y8=({children:e})=>{const[t,r]=p.useState(null),[n,a]=p.useState(null),[i,o]=p.useState(!0);p.useEffect(()=>{$.auth.getSession().then(({data:{session:d}})=>{r((d==null?void 0:d.user)??null),d!=null&&d.user?s(d.user.id):o(!1)});const{data:{subscription:u}}=$.auth.onAuthStateChange(async(d,f)=>{r((f==null?void 0:f.user)??null),f!=null&&f.user?s(f.user.id):(a(null),o(!1))});return()=>u.unsubscribe()},[]);const s=async u=>{try{const{data:d,error:f}=await $.from("profiles").select("*").eq("id",u).single();f?console.error("Error fetching profile:",f):a(d)}catch(d){console.error("Unexpected error fetching profile:",d)}finally{o(!1)}},c={signUp:u=>$.auth.signUp(u),signIn:u=>$.auth.signInWithPassword(u),signOut:()=>$.auth.signOut(),user:t,profile:n,loading:i};return l.jsx(Pk.Provider,{value:c,children:!i&&e})};function Mk({user:e,onClose:t,onSave:r}){const[n,a]=p.useState({name:"",role:"lead",commission_start:0,commission_recorrente:0,phone:"",superior_id:""}),[i,o]=p.useState(!1),[s,c]=p.useState([]),u={super_admin:1,admin:2,manager:3,coordinator:4,supplier:5,originator:6,subscriber:7,lead:8};p.useEffect(()=>{var h,m;e&&(a({name:e.name||"",role:e.role||"lead",commission_start:((h=e.commission_split)==null?void 0:h.start)||0,commission_recorrente:((m=e.commission_split)==null?void 0:m.recorrente)||0,phone:e.phone||"",superior_id:e.superior_id||""}),d(e.role))},[e]);const d=async h=>{const{data:m}=await $.from("profiles").select("id, name, role").neq("id",e.id);if(m){const v=u[h]||99,x=m.filter(b=>(u[b.role]||99)<v);c(x)}},f=async h=>{if(h.preventDefault(),n.phone&&!eo(n.phone)){alert("Telefone invlido!");return}o(!0);try{const m={name:n.name,role:n.role,phone:n.phone,commission_split:{start:Number(n.commission_start),recorrente:Number(n.commission_recorrente)},superior_id:n.superior_id||null},{error:v}=await $.from("profiles").update(m).eq("id",e.id);if(v)throw v;r({...e,...m}),t()}catch(m){alert("Erro ao atualizar usurio: "+m.message)}finally{o(!1)}};return l.jsx("div",{className:"modal-overlay",children:l.jsxs("div",{className:"modal-content",style:{maxWidth:"500px"},children:[l.jsxs("div",{className:"modal-header",children:[l.jsx("h3",{children:"Editar Usurio"}),l.jsx("button",{onClick:t,className:"modal-close",children:""})]}),l.jsxs("form",{onSubmit:f,children:[l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"label",children:"Nome"}),l.jsx("input",{value:n.name,onChange:h=>a({...n,name:h.target.value}),className:"input"})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"label",children:"Telefone"}),l.jsx("input",{value:n.phone,onChange:h=>a({...n,phone:hi(h.target.value)}),className:"input"})]}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:[l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"label",children:"Funo (Role)"}),l.jsxs("select",{value:n.role,onChange:h=>{a({...n,role:h.target.value}),d(h.target.value)},className:"select",children:[l.jsx("option",{value:"lead",children:"Lead"}),l.jsx("option",{value:"subscriber",children:"Assinante"}),l.jsx("option",{value:"originator",children:"Originador"}),l.jsx("option",{value:"supplier",children:"Fornecedor"}),l.jsx("option",{value:"coordinator",children:"Coordenador"}),l.jsx("option",{value:"manager",children:"Gerente"}),l.jsx("option",{value:"admin",children:"Admin"}),l.jsx("option",{value:"super_admin",children:"Super Admin"})]})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"label",children:"Superior Imediato"}),l.jsxs("select",{value:n.superior_id,onChange:h=>a({...n,superior_id:h.target.value}),className:"select",children:[l.jsx("option",{value:"",children:"Sem superior"}),s.map(h=>l.jsxs("option",{value:h.id,children:[h.name," (",h.role,")"]},h.id))]})]})]}),l.jsxs("div",{style:{borderTop:"1px solid var(--color-border)",paddingTop:"1rem",marginTop:"0.5rem"},children:[l.jsx("h4",{style:{fontSize:"1rem",marginBottom:"0.5rem",color:"var(--color-text-medium)"},children:"Configurao de Comisses (%)"}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:[l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"label",style:{fontSize:"0.8rem"},children:"Start (1 Fatura)"}),l.jsx("input",{type:"number",step:"0.1",value:n.commission_start,onChange:h=>a({...n,commission_start:h.target.value}),className:"input"})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"label",style:{fontSize:"0.8rem"},children:"Recorrente (Mensal)"}),l.jsx("input",{type:"number",step:"0.1",value:n.commission_recorrente,onChange:h=>a({...n,commission_recorrente:h.target.value}),className:"input"})]})]})]}),l.jsxs("div",{className:"modal-footer",children:[l.jsx("button",{type:"button",onClick:t,className:"btn btn-secondary",children:"Cancelar"}),l.jsx("button",{type:"submit",disabled:i,className:"btn btn-primary",children:i?"Salvando...":"Salvar Alteraes"})]})]})]})})}function X8(){const{user:e}=pn(),[t,r]=p.useState([]),[n,a]=p.useState(!0),[i,o]=p.useState(null),[s,c]=p.useState(""),[u,d]=p.useState(""),f={super_admin:1,admin:2,manager:3,coordinator:4,supplier:5,originator:6,subscriber:7,lead:8},h=b=>f[b]||99;p.useEffect(()=>{m()},[]);const m=async()=>{try{const{data:b,error:y}=await $.from("profiles").select("*").order("name");if(y)throw y;r(b||[])}catch(b){console.error("Error fetching users:",b),alert("Erro ao buscar usurios")}finally{a(!1)}},v=b=>{r(t.map(y=>y.id===b.id?b:y)),alert("Perfil atualizado com sucesso!")},x=t.filter(b=>{var w,_;const y=(((w=b.name)==null?void 0:w.toLowerCase())||"").includes(s.toLowerCase())||(((_=b.email)==null?void 0:_.toLowerCase())||"").includes(s.toLowerCase()),g=u?b.role===u:!0;return y&&g}).sort((b,y)=>h(b.role)-h(y.role));return l.jsxs("div",{children:[l.jsx("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"2rem"},children:l.jsx("h2",{children:"Painel Administrativo"})}),l.jsxs("div",{className:"card",style:{padding:0,overflow:"hidden"},children:[l.jsxs("div",{style:{padding:"1.5rem",borderBottom:"1px solid var(--color-border)",display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:"1rem"},children:[l.jsx("h3",{style:{margin:0},children:"Gesto de Usurios"}),l.jsxs("div",{style:{display:"flex",gap:"0.5rem",flexWrap:"wrap"},children:[l.jsx("input",{placeholder:"Buscar por nome ou email...",value:s,onChange:b=>c(b.target.value),className:"input",style:{width:"250px"}}),l.jsxs("select",{value:u,onChange:b=>d(b.target.value),className:"select",style:{width:"auto"},children:[l.jsx("option",{value:"",children:"Todos os Perfis"}),l.jsx("option",{value:"super_admin",children:"Super Admin"}),l.jsx("option",{value:"admin",children:"Admin"}),l.jsx("option",{value:"manager",children:"Gerente"}),l.jsx("option",{value:"coordinator",children:"Coordenador"}),l.jsx("option",{value:"supplier",children:"Fornecedor"}),l.jsx("option",{value:"originator",children:"Originador"}),l.jsx("option",{value:"subscriber",children:"Assinante"}),l.jsx("option",{value:"lead",children:"Lead"})]})]})]}),n?l.jsx("p",{style:{padding:"1.5rem"},children:"Carregando..."}):l.jsx("div",{className:"table-container",children:l.jsxs("table",{className:"table",children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{children:"Hierarquia"}),l.jsx("th",{children:"Nome"}),l.jsx("th",{children:"Email"}),l.jsx("th",{children:"Perfil (Role)"}),l.jsx("th",{children:"Comisso (Start/Rec.)"}),l.jsx("th",{children:"Aes"})]})}),l.jsx("tbody",{children:x.map(b=>{var y,g;return l.jsxs("tr",{children:[l.jsxs("td",{style:{fontWeight:"bold",color:"var(--color-text-light)"},children:["#",h(b.role)]}),l.jsx("td",{children:b.name||"-"}),l.jsx("td",{children:b.email}),l.jsx("td",{children:l.jsx("span",{className:"badge badge-neutral",children:b.role})}),l.jsxs("td",{style:{fontSize:"0.9rem",color:"var(--color-text-medium)"},children:[((y=b.commission_split)==null?void 0:y.start)||0,"% / ",((g=b.commission_split)==null?void 0:g.recorrente)||0,"%"]}),l.jsx("td",{children:l.jsx("button",{onClick:()=>o(b),className:"btn btn-secondary",style:{padding:"0.3rem 0.6rem",fontSize:"0.8rem"},children:"Editar"})})]},b.id)})})]})})]}),i&&l.jsx(Mk,{user:i,onClose:()=>o(null),onSave:v})]})}function zk({invoice:e,ucs:t,onClose:r,onSave:n}){const{profile:a}=pn(),i=["super_admin","admin","manager"].includes(a==null?void 0:a.role),[o,s]=p.useState({uc_id:"",mes_referencia:new Date().toISOString().substring(0,7),vencimento:"",consumo_kwh:"",iluminacao_publica:"",tarifa_minima:"",outros_lancamentos:"",status:"a_vencer",valor_a_pagar:"",economia_reais:"",consumo_reais:""}),[c,u]=p.useState(null),[d,f]=p.useState(!1),[h,m]=p.useState(!1),v=_=>!_&&_!==0?"R$ 0,00":Number(_).toLocaleString("pt-BR",{style:"currency",currency:"BRL"}),x=_=>_?typeof _=="number"?_:Number(_.replace(/\D/g,""))/100:0;p.useEffect(()=>{if(e){if(s({uc_id:e.uc_id,mes_referencia:e.mes_referencia?e.mes_referencia.substring(0,7):"",vencimento:e.vencimento?e.vencimento.split("T")[0]:"",consumo_kwh:e.consumo_kwh,iluminacao_publica:e.iluminacao_publica?v(e.iluminacao_publica):"",tarifa_minima:e.tarifa_minima?v(e.tarifa_minima):"",outros_lancamentos:e.outros_lancamentos?v(e.outros_lancamentos):"",valor_a_pagar:v(e.valor_a_pagar),economia_reais:v(e.economia_reais),consumo_reais:e.consumo_reais?v(e.consumo_reais):"",status:e.status}),t){const _=t.find(S=>S.id===e.uc_id);u(_)}}else t&&t.length>0&&(s(_=>({..._,uc_id:t[0].id})),u(t[0]))},[e,t]),p.useEffect(()=>{if(o.uc_id&&t){const _=t.find(S=>S.id===o.uc_id);u(_)}},[o.uc_id,t]),p.useEffect(()=>{if(o.consumo_kwh&&c){const _=Number(o.consumo_kwh);x(String(c.tarifa_concessionaria||"0"));const S=Number(c.tarifa_concessionaria)||0,j=Number(c.desconto_assinante)||0,C=_*S;let E=0;const k=j>1?j/100:j;E=C*k;const A=C-E,N=x(o.iluminacao_publica),T=x(o.tarifa_minima),I=x(o.outros_lancamentos),L=A+N+T+I;s(H=>({...H,economia_reais:v(E),consumo_reais:v(A),valor_a_pagar:v(L)}))}},[o.consumo_kwh,o.iluminacao_publica,o.tarifa_minima,o.outros_lancamentos,c]);const b=(_,S)=>{const j=S.replace(/\D/g,""),E=(Number(j)/100).toLocaleString("pt-BR",{style:"currency",currency:"BRL"});s(k=>({...k,[_]:E}))},y=(_,S)=>{const j=o.mes_referencia.split("-");let C=j[0]||new Date().getFullYear(),E=j[1]||"01";_==="month"&&(E=S),_==="year"&&(C=S),s(k=>({...k,mes_referencia:`${C}-${E}`}))},g=async()=>{if(!(e!=null&&e.id)){alert("Salve a fatura antes de emitir o boleto.");return}if(confirm("Gerar boleto Asaas agora?")){m(!0);try{const _=await Kh(e.id);_.url&&(alert("Boleto gerado com sucesso!"),window.open(_.url,"_blank"),n(),r())}catch(_){console.error(_),alert("Erro ao gerar boleto: "+_.message)}finally{m(!1)}}},w=async _=>{_.preventDefault(),f(!0);try{const S={uc_id:o.uc_id,mes_referencia:`${o.mes_referencia}-01`,vencimento:o.vencimento,consumo_kwh:Number(o.consumo_kwh),consumo_reais:x(o.consumo_reais),iluminacao_publica:x(o.iluminacao_publica),tarifa_minima:x(o.tarifa_minima),outros_lancamentos:x(o.outros_lancamentos),valor_a_pagar:x(o.valor_a_pagar),economia_reais:x(o.economia_reais),status:o.status};if(!S.uc_id)throw new Error("Selecione uma Unidade Consumidora.");let j;if(e!=null&&e.id?j=await $.from("invoices").update(S).eq("id",e.id).select().single():j=await $.from("invoices").insert(S).select().single(),j.error)throw j.error;n(),r()}catch(S){alert("Erro ao salvar fatura: "+S.message)}finally{f(!1)}};return l.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.6)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3,backdropFilter:"blur(4px)"},children:l.jsxs("div",{style:{background:"#f8fafc",borderRadius:"12px",width:"95%",maxWidth:"800px",maxHeight:"95vh",overflowY:"auto",boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.25)"},children:[l.jsxs("div",{style:{padding:"1.5rem",background:"white",borderBottom:"1px solid #e2e8f0",display:"flex",justifyContent:"space-between",alignItems:"center",borderTopLeftRadius:"12px",borderTopRightRadius:"12px"},children:[l.jsxs("div",{children:[l.jsx("h3",{style:{fontSize:"1.25rem",color:"#1e293b",fontWeight:"bold"},children:e?"Editar Fatura":"Nova Fatura"}),l.jsx("p",{style:{color:"#64748b",fontSize:"0.9rem"},children:"Preencha os dados de consumo e valores"})]}),l.jsx("button",{onClick:r,style:{background:"none",border:"none",fontSize:"1.5rem",cursor:"pointer",color:"#94a3b8"},children:""})]}),l.jsxs("form",{onSubmit:w,style:{padding:"1.5rem"},children:[l.jsxs("div",{style:{marginBottom:"1.5rem"},children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.4rem",color:"#475569",fontWeight:600},children:"Unidade Consumidora"}),l.jsxs("select",{required:!0,value:o.uc_id,onChange:_=>s({...o,uc_id:_.target.value}),disabled:!!e,style:{width:"100%",padding:"0.7rem",border:"1px solid #cbd5e1",borderRadius:"6px",fontSize:"0.95rem",background:"white"},children:[l.jsx("option",{value:"",children:"Selecione a UC..."}),t&&t.map(_=>l.jsxs("option",{value:_.id,children:[_.numero_uc," - ",_.titular_conta]},_.id))]}),c&&l.jsxs("div",{style:{marginTop:"0.5rem",fontSize:"0.85rem",color:"#3b82f6",background:"#eff6ff",padding:"0.5rem",borderRadius:"4px",display:"inline-flex",gap:"1rem"},children:[l.jsxs("span",{children:[l.jsx("strong",{children:"Tarifa:"})," R$ ",Number(c.tarifa_concessionaria||0).toFixed(4)]}),l.jsxs("span",{children:[l.jsx("strong",{children:"Desconto:"})," ",c.desconto_assinante||0,"%"]})]})]}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"1rem",marginBottom:"1.5rem"},children:[l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.4rem",color:"#475569",fontWeight:600},children:"Ms Referncia"}),l.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[l.jsx("select",{value:o.mes_referencia.split("-")[1],onChange:_=>y("month",_.target.value),style:{flex:1,padding:"0.6rem",border:"1px solid #cbd5e1",borderRadius:"6px"},children:["01","02","03","04","05","06","07","08","09","10","11","12"].map((_,S)=>l.jsx("option",{value:_,children:["Jan","Fev","Mar","Abr","Mai","Jun","Jul","Ago","Set","Out","Nov","Dez"][S]},_))}),l.jsx("select",{value:o.mes_referencia.split("-")[0],onChange:_=>y("year",_.target.value),style:{width:"80px",padding:"0.6rem",border:"1px solid #cbd5e1",borderRadius:"6px"},children:Array.from({length:5},(_,S)=>new Date().getFullYear()-1+S).map(_=>l.jsx("option",{value:_,children:_},_))})]})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.4rem",color:"#475569",fontWeight:600},children:"Vencimento"}),l.jsx("input",{type:"date",required:!0,value:o.vencimento,onChange:_=>s({...o,vencimento:_.target.value}),style:{width:"100%",padding:"0.6rem",border:"1px solid #cbd5e1",borderRadius:"6px"}})]}),i&&l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.4rem",color:"#475569",fontWeight:600},children:"Status"}),l.jsxs("select",{value:o.status,onChange:_=>s({...o,status:_.target.value}),style:{width:"100%",padding:"0.6rem",border:"1px solid #cbd5e1",borderRadius:"6px"},children:[l.jsx("option",{value:"a_vencer",children:"A Vencer"}),l.jsx("option",{value:"pago",children:"Pago"}),l.jsx("option",{value:"atrasado",children:"Atrasado"})]})]})]}),l.jsx("div",{style:{height:"1px",background:"#e2e8f0",margin:"1rem 0"}}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"2rem"},children:[l.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[l.jsxs("h4",{style:{color:"#334155",fontWeight:"bold",display:"flex",alignItems:"center",gap:"0.5rem"},children:[l.jsx(Xh,{size:18})," Dados de Consumo"]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.85rem",marginBottom:"0.3rem",color:"#64748b"},children:"Consumo (kWh)"}),l.jsx("input",{type:"number",step:"any",required:!0,value:o.consumo_kwh,onChange:_=>s({...o,consumo_kwh:_.target.value}),placeholder:"0",style:{width:"100%",padding:"0.6rem",border:"1px solid #cbd5e1",borderRadius:"6px"}})]}),l.jsxs("h4",{style:{color:"#334155",fontWeight:"bold",marginTop:"1rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:[l.jsx(Gh,{size:18})," Valores Adicionais"]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.85rem",marginBottom:"0.3rem",color:"#64748b"},children:"Iluminao Pblica (R$)"}),l.jsx("input",{type:"text",value:o.iluminacao_publica,onChange:_=>b("iluminacao_publica",_.target.value),placeholder:"R$ 0,00",style:{width:"100%",padding:"0.6rem",border:"1px solid #cbd5e1",borderRadius:"6px"}})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.85rem",marginBottom:"0.3rem",color:"#64748b"},children:"Tarifa Mnima (R$)"}),l.jsx("input",{type:"text",value:o.tarifa_minima,onChange:_=>b("tarifa_minima",_.target.value),placeholder:"R$ 0,00",style:{width:"100%",padding:"0.6rem",border:"1px solid #cbd5e1",borderRadius:"6px"}})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.85rem",marginBottom:"0.3rem",color:"#64748b"},children:"Outros Lanamentos (R$)"}),l.jsx("input",{type:"text",value:o.outros_lancamentos,onChange:_=>b("outros_lancamentos",_.target.value),placeholder:"R$ 0,00",style:{width:"100%",padding:"0.6rem",border:"1px solid #cbd5e1",borderRadius:"6px"}})]})]}),l.jsxs("div",{style:{background:"#f1f5f9",padding:"1.5rem",borderRadius:"8px",border:"1px solid #e2e8f0"},children:[l.jsxs("h4",{style:{color:"#334155",fontWeight:"bold",marginBottom:"1rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:[l.jsx(NI,{size:18})," Resumo do Clculo"]}),l.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.8rem"},children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"0.9rem"},children:[l.jsx("span",{style:{color:"#64748b"},children:"Consumo Bruto:"}),l.jsxs("span",{style:{fontWeight:600},children:["R$ ",(Number(o.consumo_kwh)*(Number(c==null?void 0:c.tarifa_concessionaria)||0)).toFixed(2).replace(".",",")]})]}),l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"0.9rem",color:"#166534",background:"#dcfce7",padding:"0.5rem",borderRadius:"4px"},children:[l.jsx("span",{children:"Economia Gerada:"}),l.jsxs("span",{style:{fontWeight:"bold"},children:["- ",o.economia_reais||"R$ 0,00"]})]}),l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"0.9rem"},children:[l.jsx("span",{style:{color:"#64748b"},children:"Consumo Lquido (R$):"}),l.jsx("span",{style:{fontWeight:600},children:o.consumo_reais||"R$ 0,00"})]}),l.jsx("div",{style:{height:"1px",background:"#cbd5e1",margin:"0.5rem 0"}}),l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"0.9rem"},children:[l.jsx("span",{style:{color:"#64748b"},children:"+ Ilum. Pblica:"}),l.jsx("span",{children:o.iluminacao_publica||"R$ 0,00"})]}),l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"0.9rem"},children:[l.jsx("span",{style:{color:"#64748b"},children:"+ Tarifa Mnima:"}),l.jsx("span",{children:o.tarifa_minima||"R$ 0,00"})]}),l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"0.9rem"},children:[l.jsx("span",{style:{color:"#64748b"},children:"+ Outros:"}),l.jsx("span",{children:o.outros_lancamentos||"R$ 0,00"})]}),l.jsxs("div",{style:{marginTop:"1rem",paddingTop:"1rem",borderTop:"2px dashed #cbd5e1"},children:[l.jsx("label",{style:{display:"block",fontSize:"0.8rem",color:"#64748b",marginBottom:"0.2rem"},children:"Total a Pagar"}),l.jsx("div",{style:{fontSize:"1.8rem",fontWeight:"bold",color:"var(--color-blue)"},children:o.valor_a_pagar||"R$ 0,00"})]})]})]})]}),l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:"2rem",paddingTop:"1.5rem",borderTop:"1px solid #e2e8f0"},children:[l.jsxs("div",{children:[(e==null?void 0:e.id)&&!e.asaas_boleto_url&&l.jsx("button",{type:"button",onClick:g,disabled:h,style:{display:"flex",alignItems:"center",gap:"0.5rem",background:"#fff7ed",color:"#c2410c",border:"1px solid #ffedd5",padding:"0.6rem 1rem",borderRadius:"6px",cursor:"pointer",fontWeight:"bold",fontSize:"0.9rem"},children:h?"Gerando...":l.jsxs(l.Fragment,{children:[l.jsx(eu,{size:18})," Emitir Boleto Agora"]})}),(e==null?void 0:e.asaas_boleto_url)&&l.jsxs("a",{href:e.asaas_boleto_url,target:"_blank",rel:"noreferrer",style:{display:"flex",alignItems:"center",gap:"0.5rem",color:"#166534",fontWeight:"bold",textDecoration:"none"},children:[l.jsx(fi,{size:18})," Ver Boleto Emitido"]})]}),l.jsxs("div",{style:{display:"flex",gap:"1rem"},children:[l.jsx("button",{type:"button",onClick:r,style:{padding:"0.8rem 1.5rem",background:"white",border:"1px solid #cbd5e1",borderRadius:"6px",cursor:"pointer",color:"#475569",fontWeight:600},children:"Cancelar"}),l.jsx("button",{type:"submit",disabled:d,style:{padding:"0.8rem 2rem",background:"var(--color-blue)",color:"white",borderRadius:"6px",border:"none",cursor:"pointer",fontWeight:"bold",boxShadow:"0 4px 6px -1px rgba(37, 99, 235, 0.2)"},children:d?"Salvando...":"Salvar Fatura"})]})]})]})]})})}function Z8(){var S;const{user:e,profile:t}=pn(),[r,n]=p.useState([]),[a,i]=p.useState([]),[o,s]=p.useState(!0),[c,u]=p.useState(null),[d,f]=p.useState(!1),[h,m]=p.useState(null),[v,x]=p.useState(!1),b=["super_admin","admin","manager"].includes(t==null?void 0:t.role);p.useEffect(()=>{e&&y()},[e]);const y=async()=>{try{s(!0);let j;const{data:C}=await $.from("subscribers").select("id, name").eq("profile_id",e.id).single();if(C){j=C.id,u(C.id);const{data:E}=await $.from("consumer_units").select("*").eq("subscriber_id",j);if(n(E||[]),E&&E.length>0){const k=E.map(N=>N.id),{data:A}=await $.from("invoices").select("*").in("uc_id",k).order("vencimento",{ascending:!1});i(A||[])}}else if(b){const{data:E}=await $.from("consumer_units").select("*");if(n(E||[]),E&&E.length>0){const{data:k}=await $.from("invoices").select("*").order("vencimento",{ascending:!1}).limit(50);i(k||[])}}}catch(j){console.error("Error fetching dashboard data:",j)}finally{s(!1)}},g=j=>{const C=a.find(E=>E.id===j.id);i(C?a.map(E=>E.id===j.id?j:E):[j,...a]),alert("Fatura salva com sucesso!")},w=a.reduce((j,C)=>j+(C.economia_reais||0),0),_=a[0];return l.jsxs("div",{children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"2rem"},children:[l.jsx("h2",{children:"Viso Geral do Assinante"}),l.jsx("div",{style:{display:"flex",gap:"1rem"},children:b&&l.jsxs(l.Fragment,{children:[l.jsx("button",{onClick:()=>x(!0),className:"btn btn-secondary",children:"+ Cadastrar UC"}),l.jsx("button",{onClick:()=>{m(null),f(!0)},className:"btn btn-primary",children:"+ Nova Fatura"})]})})]}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:"1rem",marginBottom:"2rem"},children:[l.jsxs("div",{className:"card",children:[l.jsx("h3",{style:{fontSize:"0.9rem",color:"var(--color-text-medium)",marginBottom:"0.5rem"},children:"Economia Acumulada"}),l.jsxs("p",{style:{fontSize:"1.8rem",fontWeight:"bold",color:"var(--color-success)"},children:["R$ ",w.toFixed(2)]})]}),l.jsxs("div",{className:"card",children:[l.jsx("h3",{style:{fontSize:"0.9rem",color:"var(--color-text-medium)",marginBottom:"0.5rem"},children:"ltima Fatura"}),l.jsx("p",{style:{fontSize:"1.8rem",fontWeight:"bold",color:"var(--color-blue)"},children:_?`R$ ${(S=_.valor_a_pagar)==null?void 0:S.toFixed(2)}`:"-"}),l.jsx("small",{style:{color:"var(--color-text-light)"},children:_?new Date(_.vencimento).toLocaleDateString():""})]}),l.jsxs("div",{className:"card",children:[l.jsx("h3",{style:{fontSize:"0.9rem",color:"var(--color-text-medium)",marginBottom:"0.5rem"},children:"Unidades Consumidoras"}),l.jsx("p",{style:{fontSize:"1.8rem",fontWeight:"bold",color:"var(--color-text-dark)"},children:r.length})]})]}),l.jsx("h3",{children:"Minhas Faturas"}),l.jsx("div",{className:"card",style:{padding:0,overflow:"hidden"},children:a.length===0?l.jsx("p",{style:{padding:"2rem",textAlign:"center",color:"var(--color-text-light)"},children:"Nenhuma fatura encontrada."}):l.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[l.jsx("thead",{children:l.jsxs("tr",{style:{background:"var(--color-bg-light)",textAlign:"left"},children:[l.jsx("th",{style:{padding:"1rem",color:"var(--color-text-medium)",fontWeight:"600",fontSize:"0.85rem"},children:"Vencimento"}),l.jsx("th",{style:{padding:"1rem",color:"var(--color-text-medium)",fontWeight:"600",fontSize:"0.85rem"},children:"Consumo"}),l.jsx("th",{style:{padding:"1rem",color:"var(--color-text-medium)",fontWeight:"600",fontSize:"0.85rem"},children:"Valor"}),l.jsx("th",{style:{padding:"1rem",color:"var(--color-text-medium)",fontWeight:"600",fontSize:"0.85rem"},children:"Economia"}),l.jsx("th",{style:{padding:"1rem",color:"var(--color-text-medium)",fontWeight:"600",fontSize:"0.85rem"},children:"Status"}),l.jsx("th",{style:{padding:"1rem",color:"var(--color-text-medium)",fontWeight:"600",fontSize:"0.85rem"},children:"Ao"})]})}),l.jsx("tbody",{children:a.map(j=>{var C,E;return l.jsxs("tr",{style:{borderBottom:"1px solid var(--color-border)"},children:[l.jsx("td",{style:{padding:"1rem",fontSize:"0.9rem"},children:new Date(j.vencimento).toLocaleDateString()}),l.jsxs("td",{style:{padding:"1rem",fontSize:"0.9rem"},children:[j.consumo_kwh," kWh"]}),l.jsxs("td",{style:{padding:"1rem",fontWeight:"bold",fontSize:"0.9rem"},children:["R$ ",(C=j.valor_a_pagar)==null?void 0:C.toFixed(2)]}),l.jsxs("td",{style:{padding:"1rem",color:"var(--color-success)",fontWeight:"bold",fontSize:"0.9rem"},children:["R$ ",(E=j.economia_reais)==null?void 0:E.toFixed(2)]}),l.jsx("td",{style:{padding:"1rem"},children:l.jsx("span",{className:`badge ${j.status==="pago"?"badge-success":"badge-error"}`,children:j.status==="pago"?"Pago":"A Vencer"})}),l.jsx("td",{style:{padding:"1rem"},children:b?l.jsx("button",{onClick:()=>{m(j),f(!0)},className:"btn btn-secondary",style:{padding:"0.3rem 0.8rem",fontSize:"0.8rem"},children:"Editar"}):l.jsx("button",{className:"btn btn-secondary",style:{padding:"0.3rem 0.8rem",fontSize:"0.8rem"},children:"Ver Boleto"})})]},j.id)})})]})}),d&&l.jsx(zk,{invoice:h,ucs:r,onClose:()=>f(!1),onSave:g}),v&&l.jsx(cb,{consumerUnit:{subscriber_id:c},onClose:()=>x(!1),onSave:()=>{y(),x(!1)}})]})}function J8(){const{user:e,profile:t}=pn(),[r,n]=p.useState([]),[a,i]=p.useState([]),o=`${window.location.origin}/simulacao?id=${t==null?void 0:t.id}`;p.useEffect(()=>{async function u(){const{data:d}=await $.from("originators_v2").select("id, name, pix_key, pix_key_type").eq("user_id",e.id).single();if(d){const{data:f}=await $.from("leads").select("*").eq("originator_id",d.id);n(f||[]);const{data:h,error:m}=await $.from("commissions").select("*").eq("originator_id",d.id).order("reference_month",{ascending:!1});m||i(h||[])}}e&&u()},[e]);const s=()=>{navigator.clipboard.writeText(o),alert("Link copiado!")},c=async u=>{var h;if(u.status==="paid")return;if((t==null?void 0:t.role)!=="admin"&&(t==null?void 0:t.role)!=="super_admin"){alert("Apenas administradores podem realizar pagamentos.");return}const{data:d,error:f}=await $.from("originators_v2").select("pix_key, pix_key_type, name").eq("id",u.originator_id).single();if(f||!d){alert("Erro ao buscar dados do originador.");return}if(!d.pix_key){alert("Originador sem Chave Pix cadastrada.");return}if(confirm(`Confirmar pagamento de ${Number(u.total_value).toLocaleString("pt-BR",{style:"currency",currency:"BRL"})} via PIX para ${d.name}?`))try{const{data:m,error:v}=await $.functions.invoke("transfer-asaas-pix",{body:{value:u.total_value,pix_key:d.pix_key,pix_key_type:d.pix_key_type,description:`Comisso - ${new Date(u.reference_month).toLocaleDateString()}`,operationType:"PIX"}});if(v)throw v;if(!m.success)throw new Error(m.error||"Erro no pagamento");alert("Pagamento enviado! ID: "+((h=m.data)==null?void 0:h.id)),await $.from("commissions").update({status:"paid",payment_id:m.data.id,payment_date:new Date}).eq("id",u.id),window.location.reload()}catch(m){console.error(m),alert("Erro: "+m.message)}};return l.jsxs("div",{children:[l.jsx("h2",{children:"Painel do Originador"}),l.jsxs("div",{className:"card",style:{marginBottom:"2rem"},children:[l.jsx("h3",{style:{color:"var(--color-text-dark)",fontSize:"1.1rem"},children:"Seu Link de Indicao"}),l.jsxs("div",{style:{display:"flex",gap:"1rem",marginTop:"1rem"},children:[l.jsx("input",{value:o,readOnly:!0,className:"input",style:{background:"var(--color-bg-light)",color:"var(--color-text-medium)"}}),l.jsx("button",{onClick:s,className:"btn btn-accent",children:"Copiar"})]})]}),l.jsx("h3",{style:{marginBottom:"1rem"},children:"Meus Leads"}),l.jsx("div",{className:"card",style:{padding:0,overflow:"hidden"},children:l.jsx("div",{className:"table-container",children:l.jsxs("table",{className:"table",children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{children:"Nome"}),l.jsx("th",{children:"Status"}),l.jsx("th",{children:"Data"})]})}),l.jsxs("tbody",{children:[r.map(u=>l.jsxs("tr",{children:[l.jsx("td",{children:u.name}),l.jsx("td",{children:l.jsx("span",{className:"badge badge-neutral",children:u.status})}),l.jsx("td",{children:new Date(u.created_at).toLocaleDateString()})]},u.id)),r.length===0&&l.jsx("tr",{children:l.jsx("td",{colSpan:"3",style:{textAlign:"center",color:"var(--color-text-light)"},children:"Nenhum lead encontrado."})})]})]})})}),l.jsx("h3",{style:{marginTop:"2rem",marginBottom:"1rem"},children:"Extrato Financeiro (Comisses)"}),l.jsx("div",{className:"card",style:{padding:0,overflow:"hidden"},children:l.jsx("div",{className:"table-container",children:l.jsxs("table",{className:"table",children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{children:"Ms Ref."}),l.jsx("th",{children:"Faturas Proc."}),l.jsx("th",{children:"Valor (R$)"}),l.jsx("th",{children:"Status"}),l.jsx("th",{children:"Data Pagt."}),l.jsx("th",{children:"Aes"})]})}),l.jsx("tbody",{children:a.length===0?l.jsx("tr",{children:l.jsx("td",{colSpan:"6",style:{textAlign:"center",color:"var(--color-text-light)"},children:"Nenhuma comisso registrada."})}):a.map(u=>l.jsxs("tr",{children:[l.jsx("td",{children:new Date(u.reference_month).toLocaleDateString()}),l.jsx("td",{children:u.total_invoices}),l.jsx("td",{style:{fontWeight:"bold",color:"var(--color-success)"},children:Number(u.total_value).toLocaleString("pt-BR",{style:"currency",currency:"BRL"})}),l.jsx("td",{children:l.jsx("span",{className:`badge ${u.status==="paid"?"badge-success":"badge-warning"}`,children:u.status==="paid"?"Pago":"Pendente"})}),l.jsx("td",{children:u.payment_date?new Date(u.payment_date).toLocaleDateString():"-"}),l.jsx("td",{children:u.status!=="paid"&&((t==null?void 0:t.role)==="admin"||(t==null?void 0:t.role)==="super_admin")&&l.jsx("button",{onClick:()=>c(u),className:"btn",style:{background:"var(--color-success)",color:"white",padding:"0.3rem 0.8rem",fontSize:"0.8rem"},children:"Pagar"})})]},u.id))})]})})})]})}function Q8(){const{user:e}=pn(),[t,r]=p.useState([]);return p.useEffect(()=>{async function n(){const{data:a}=await $.from("suppliers").select("id").eq("profile_id",e.id).single();if(a){const{data:i}=await $.from("usinas").select("*").eq("supplier_id",a.id);r(i||[])}}n()},[e]),l.jsxs("div",{children:[l.jsx("h2",{children:"Painel do Fornecedor"}),l.jsxs("div",{style:{padding:"1.5rem",background:"white",borderRadius:"8px",marginBottom:"2rem"},children:[l.jsx("h3",{children:"Minhas Usinas"}),l.jsxs("p",{style:{fontSize:"1.2rem",color:"#666"},children:[t.length," Usinas cadastradas"]})]}),l.jsx("div",{style:{display:"grid",gap:"1rem"},children:t.map(n=>l.jsxs("div",{style:{padding:"1rem",background:"white",borderLeft:"4px solid var(--color-orange)",borderRadius:"4px"},children:[l.jsx("h4",{children:n.name}),l.jsxs("p",{children:["Status: ",l.jsx("strong",{children:n.status})]}),l.jsxs("p",{children:["Potncia: ",n.potencia_kwp," KWp"]})]},n.id))})]})}function e$({lead:e,onClose:t,onSave:r,onDelete:n,onConvert:a}){const{profile:i}=pn(),[o,s]=p.useState([]),c=[{value:"simulacao",label:"Simulao"},{value:"indicado",label:"Indicado"},{value:"em_negociacao",label:"Em Negociao"},{value:"negocio_perdido",label:"Negcio Perdido"},{value:"ativo",label:"Ativo"},{value:"pago",label:"Pago"},{value:"convertido",label:"Convertido (Legado)"}],[u,d]=p.useState({name:"",status:"simulacao",phone:"",email:"",cep:"",rua:"",numero:"",complemento:"",bairro:"",cidade:"",uf:"",concessionaria:"",tarifa_concessionaria:"",consumo_kwh:"",desconto_assinante:"",originator_id:""}),[f,h]=p.useState(!1),[m,v]=p.useState(!1);p.useEffect(()=>{x(),e?d({name:e.name,status:e.status||"simulacao",phone:e.phone||"",email:e.email||"",cep:e.cep||"",rua:e.rua||"",numero:e.numero||"",complemento:e.complemento||"",bairro:e.bairro||"",cidade:e.cidade||"",uf:e.uf||"",concessionaria:e.concessionaria||"",tarifa_concessionaria:e.tarifa_concessionaria||"",consumo_kwh:e.consumo_kwh||"",desconto_assinante:e.desconto_assinante||"",originator_id:e.originator_id||""}):(i==null?void 0:i.role)==="originator"&&d(w=>({...w,originator_id:i.id}))},[e,i]);const x=async()=>{const{data:w}=await $.from("originators_v2").select("id, name").order("name");s(w||[])},b=async()=>{const w=u.cep.replace(/\D/g,"");if(w.length===8){v(!0);try{const _=await mn(w);let S={};if(_.ibge)try{const j=await Qc(_.ibge);j&&(S=j)}catch(j){console.error("Erro na oferta",j)}d(j=>({...j,rua:_.rua||"",bairro:_.bairro||"",cidade:_.cidade||"",uf:_.uf||"",concessionaria:(S==null?void 0:S.Concessionaria)||j.concessionaria||"",tarifa_concessionaria:(S==null?void 0:S["Tarifa Concessionaria"])||j.tarifa_concessionaria||"",tarifa_concessionaria:(S==null?void 0:S["Tarifa Concessionaria"])||j.tarifa_concessionaria||"",desconto_assinante:(()=>{let C=(S==null?void 0:S["Desconto Assinante"])||j.desconto_assinante||"";return C&&!isNaN(C)&&Number(C)>0&&Number(C)<1?Number(C)*100:C})()}))}catch(_){console.error("Erro ao buscar CEP:",_),alert("Erro ao buscar CEP. Verifique se digitou corretamente.")}finally{v(!1)}}},y=async w=>{if(w.preventDefault(),u.phone&&!eo(u.phone)){alert("Telefone invlido!");return}h(!0);try{const _={...u};_.tarifa_concessionaria=_.tarifa_concessionaria?Number(_.tarifa_concessionaria):null,_.consumo_kwh=_.consumo_kwh?Number(_.consumo_kwh):null,_.desconto_assinante=_.desconto_assinante?Number(_.desconto_assinante):null,_.originator_id===""&&(_.originator_id=null);let S;if(e!=null&&e.id?S=await $.from("leads").update(_).eq("id",e.id).select().single():S=await $.from("leads").insert(_).select().single(),S.error)throw S.error;if(_.status==="ativo"&&(!e||e.status!=="ativo")){const j=_.originator_id;if(j)try{const{data:C}=await $.from("originators_v2").select("phone, split_commission, name").eq("id",j).maybeSingle();if(C&&C.phone){const E=Number(_.consumo_kwh)||0,k=Number(_.tarifa_concessionaria)||.85;let A=Number(_.desconto_assinante)||15;A<1&&A>0&&(A=A*100);const N=E*k,T=N*(A/100),I=N-T,L=Number(C.split_commission)||0,O=(I*(L/100)).toLocaleString("pt-BR",{style:"currency",currency:"BRL"}),D=`${_.name||"O Lead"}, aceitou o convite e est proximo de concluir o cadastro, em breve vc receber o seu cashback ${O}`;await Wv(C.phone,D),console.log("Notificao de ativao enviada para:",C.name)}}catch(C){console.error("Erro ao enviar notificao de ativao:",C)}}r(S.data),t()}catch(_){alert("Erro ao salvar lead: "+_.message)}finally{h(!1)}},g=async()=>{if(e!=null&&e.id&&confirm("Tem certeza que deseja excluir este lead? Esta ao no pode ser desfeita.")){h(!0);try{const{error:w}=await $.from("leads").delete().eq("id",e.id);if(w)throw w;n&&n(e.id),t()}catch(w){alert("Erro ao excluir lead: "+w.message)}finally{h(!1)}}};return l.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},children:l.jsxs("div",{style:{background:"white",padding:"2rem",borderRadius:"8px",width:"90%",maxWidth:"800px",maxHeight:"90vh",overflowY:"auto"},children:[l.jsx("h3",{style:{marginBottom:"1.5rem",borderBottom:"1px solid #eee",paddingBottom:"0.5rem"},children:e?"Editar Lead":"Novo Lead"}),l.jsxs("form",{onSubmit:y,style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:[l.jsx("div",{style:{gridColumn:"1 / -1",fontWeight:"bold",marginTop:"0.5rem",color:"var(--color-blue)"},children:"Dados do Lead"}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Status"}),l.jsx("select",{value:u.status,onChange:w=>d({...u,status:w.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"},children:c.map(w=>l.jsx("option",{value:w.value,children:w.label},w.value))})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Originador"}),l.jsxs("select",{value:u.originator_id,onChange:w=>d({...u,originator_id:w.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"},children:[l.jsx("option",{value:"",children:"Selecione..."}),o.map(w=>l.jsx("option",{value:w.id,children:w.name},w.id))]})]}),l.jsxs("div",{style:{gridColumn:"1 / -1"},children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Nome Completo"}),l.jsx("input",{required:!0,value:u.name,onChange:w=>d({...u,name:w.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Telefone"}),l.jsx("input",{placeholder:"55 xx xxxxx xxxx",value:u.phone,onChange:w=>d({...u,phone:w.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Email"}),l.jsx("input",{type:"email",value:u.email,onChange:w=>d({...u,email:w.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),l.jsx("div",{style:{gridColumn:"1 / -1",fontWeight:"bold",marginTop:"1rem",borderTop:"1px solid #eee",paddingTop:"1rem",color:"var(--color-blue)"},children:"Endereo e Instalao"}),l.jsxs("div",{style:{gridColumn:"1 / -1",display:"flex",gap:"1rem"},children:[l.jsxs("div",{style:{flex:1},children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"CEP (Busca)"}),l.jsx("input",{placeholder:"00000-000",value:u.cep,onChange:w=>d({...u,cep:w.target.value}),onBlur:b,style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px",background:m?"#f0f9ff":"white"}})]}),l.jsxs("div",{style:{flex:2},children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Cidade/UF"}),l.jsx("input",{value:`${u.cidade} - ${u.uf} `,disabled:!0,style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px",background:"#f9fafb"}})]})]}),l.jsxs("div",{style:{gridColumn:"1 / -1"},children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Rua"}),l.jsx("input",{value:u.rua,onChange:w=>d({...u,rua:w.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Nmero"}),l.jsx("input",{value:u.numero,onChange:w=>d({...u,numero:w.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Complemento"}),l.jsx("input",{value:u.complemento,onChange:w=>d({...u,complemento:w.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Bairro"}),l.jsx("input",{value:u.bairro,onChange:w=>d({...u,bairro:w.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),l.jsx("div",{style:{gridColumn:"1 / -1",fontWeight:"bold",marginTop:"1rem",borderTop:"1px solid #eee",paddingTop:"1rem",color:"var(--color-blue)"},children:"Dados de Energia e Oferta"}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Consumo Mdio (kWh)"}),l.jsx("input",{type:"number",value:u.consumo_kwh,onChange:w=>d({...u,consumo_kwh:w.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Concessionria"}),l.jsx("input",{value:u.concessionaria,onChange:w=>d({...u,concessionaria:w.target.value}),placeholder:"Busca automtica...",style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px",background:"#f8fdfce"}})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Tarifa (R$)"}),l.jsx("input",{type:"number",step:"0.0001",value:u.tarifa_concessionaria,onChange:w=>d({...u,tarifa_concessionaria:w.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Desconto Oferta (%)"}),l.jsx("input",{type:"number",step:"0.01",value:u.desconto_assinante,onChange:w=>d({...u,desconto_assinante:w.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem",color:"green",fontWeight:"bold"},children:"Economia Mensal Estimada (R$)"}),l.jsx("input",{value:(()=>{const w=Number(u.consumo_kwh)||0,_=Number(u.tarifa_concessionaria)||0,S=Number(u.desconto_assinante)||0;if(w&&_&&S){const C=w*_*(S/100);return isNaN(C)?"R$ 0,00":C.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})}return"R$ 0,00"})(),disabled:!0,style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px",background:"#e6fffa",color:"#047857",fontWeight:"bold"}})]}),l.jsxs("div",{style:{gridColumn:"1 / -1",display:"flex",justifyContent:"space-between",marginTop:"1.5rem",paddingTop:"1rem",borderTop:"1px solid #eee"},children:[l.jsx("div",{children:e&&n&&l.jsx("button",{type:"button",onClick:g,style:{padding:"0.5rem 1rem",background:"#fee2e2",color:"#dc2626",borderRadius:"4px",border:"1px solid #fecaca"},children:"Excluir"})}),l.jsxs("div",{style:{display:"flex",gap:"1rem"},children:[e&&e.status!=="convertido"&&a&&l.jsx("button",{type:"button",onClick:()=>{a(e),t()},style:{padding:"0.5rem 1rem",background:"white",color:"green",border:"1px solid green",borderRadius:"4px"},children:"Converter em Assinante"}),l.jsx("button",{type:"button",onClick:t,style:{padding:"0.5rem 1rem",background:"#ccc",borderRadius:"4px"},children:"Cancelar"}),l.jsx("button",{type:"submit",disabled:f,style:{padding:"0.5rem 1rem",background:"var(--color-blue)",color:"white",borderRadius:"4px"},children:f?"Salvando...":"Salvar Lead"})]})]})]})]})})}function Bk({subscriber:e,onClose:t,onSave:r,onDelete:n}){const{showAlert:a,showConfirm:i}=Gr(),{profile:o}=pn(),[s,c]=p.useState([]),[u,d]=p.useState([]),[f,h]=p.useState(!1),[m,v]=p.useState(!1),x=[{value:"ativacao",label:"Em Ativao"},{value:"ativo",label:"Ativo"},{value:"ativo_inadimplente",label:"Ativo (Inadimplente)"},{value:"transferido",label:"Transferido"},{value:"cancelado",label:"Cancelado"},{value:"cancelado_inadimplente",label:"Cancelado (Inadimplente)"}],[b,y]=p.useState({name:"",cpf_cnpj:"",status:"ativacao",phone:"",email:"",cep:"",rua:"",numero:"",complemento:"",bairro:"",cidade:"",uf:"",originator_id:""}),[g,w]=p.useState(!1),[_,S]=p.useState(!1),[j,C]=p.useState(!1);p.useEffect(()=>{E()},[]),p.useEffect(()=>{e&&(y({name:e.name||"",cpf_cnpj:e.cpf_cnpj||"",status:e.status||"ativacao",phone:e.phone||"",email:e.email||"",cep:e.cep||"",rua:e.rua||"",numero:e.numero||"",complemento:e.complemento||"",bairro:e.bairro||"",cidade:e.cidade||"",uf:e.uf||"",originator_id:e.originator_id||""}),k(e.id))},[e==null?void 0:e.id]);const E=async()=>{const{data:O}=await $.from("originators_v2").select("id, name").order("name");c(O||[])},k=async O=>{const{data:R}=await $.from("consumer_units").select("*").eq("subscriber_id",O);d(R||[])},A=async()=>{const O=b.cep.replace(/\D/g,"");if(O.length===8){S(!0);try{const R=await mn(O);y(D=>({...D,rua:R.rua||"",bairro:R.bairro||"",cidade:R.cidade||"",uf:R.uf||""}))}catch(R){console.error("Erro ao buscar CEP:",R),alert("Erro ao buscar CEP. Verifique se digitou corretamente.")}finally{S(!1)}}},N=async()=>{const O=b.cpf_cnpj.replace(/\D/g,"");if(O.length>11){C(!0);try{const R=await xc(O);R.nome&&y(D=>{var P,U,G,K,Q,ee,ne;return{...D,name:R.nome||D.name,email:R.email||D.email,phone:R.telefone?hi(R.telefone):D.phone,cep:((P=R.address)==null?void 0:P.cep)||D.cep,rua:((U=R.address)==null?void 0:U.logradouro)||D.rua,numero:((G=R.address)==null?void 0:G.numero)||D.numero,complemento:((K=R.address)==null?void 0:K.complemento)||D.complemento,bairro:((Q=R.address)==null?void 0:Q.bairro)||D.bairro,cidade:((ee=R.address)==null?void 0:ee.municipio)||D.cidade,uf:((ne=R.address)==null?void 0:ne.uf)||D.uf}})}catch(R){console.error("Erro buscar doc",R)}finally{C(!1)}}else if(O.length===11){C(!0);try{const R=await xc(O);R.nome&&y(D=>({...D,name:R.nome}))}catch(R){console.error("Erro buscar doc",R)}finally{C(!1)}}},T=async()=>{if(!(e!=null&&e.id)){a("Salve o assinante antes de gerar boletos.","warning");return}if(await i(`Gerar boleto CONSOLIDADO (todas as faturas pendentes) para ${b.name}?`)){h(!0);try{const R=await Kh(e.id,"subscriber");R.url&&(a("Boleto consolidado gerado com sucesso!","success"),window.open(R.url,"_blank"))}catch(R){console.error(R),a("Erro: "+(R.message||"Falha ao gerar boleto. Verifique se h faturas pendentes."),"error")}finally{h(!1)}}},I=async O=>{if(O.preventDefault(),!nu(b.cpf_cnpj)){a("CPF/CNPJ invlido!","warning");return}if(b.phone&&!eo(b.phone)){a("Telefone invlido!","warning");return}w(!0);try{const R=b.cpf_cnpj.replace(/\D/g,"");let D=$.from("subscribers").select("id").eq("cpf_cnpj",b.cpf_cnpj);e!=null&&e.id&&(D=D.neq("id",e.id));const{data:P,error:U}=await D;if(U)throw U;if(P&&P.length>0)throw new Error("J existe um assinante cadastrado com este CPF/CNPJ.");console.log("Syncing with Asaas...");let G=null,K=!1;try{const ne=await Ok({id:e==null?void 0:e.asaas_customer_id,name:b.name,cpfCnpj:b.cpf_cnpj,email:b.email,phone:b.phone,postalCode:b.cep,addressNumber:b.numero,address:b.rua,province:b.bairro});if(!ne||!ne.success)throw new Error((ne==null?void 0:ne.error)||"Erro desconhecido");G=ne.asaas_id,K=!0}catch(ne){if(console.error("Asaas Sync Error:",ne),!await i(`Falha ao sincronizar com Asaas: ${ne.message}.

Deseja salvar apenas no CRM (Localmente)?`,"Erro de Sincronizao","Salvar Localmente","Corrigir Dados")){w(!1);return}}const Q={...b};G&&(Q.asaas_customer_id=G),Q.originator_id===""&&(Q.originator_id=null);let ee;if(e!=null&&e.id?ee=await $.from("subscribers").update(Q).eq("id",e.id).select().single():ee=await $.from("subscribers").insert(Q).select().single(),ee.error)throw ee.error;K?a("Cliente salvo e sincronizado com Asaas!","success"):a("Cliente salvo APENAS LOCALMENTE (Erro Asaas ignorado).","warning");try{let ne=null;if(Q.status==="ativacao"?ne="em_negociacao":Q.status==="ativo"&&(ne="ativo"),ne&&Q.email){const{data:B,error:F}=await $.from("leads").select("id, status").eq("email",Q.email).order("created_at",{ascending:!1}).limit(1);if(!F&&B&&B.length>0){const oe=B[0];if(oe.status!==ne){const{error:M}=await $.from("leads").update({status:ne}).eq("id",oe.id);M?console.error("Error auto-updating lead status:",M):console.log(`Lead ${oe.id} auto-updated to ${ne}`)}}}}catch(ne){console.error("Lead sync error:",ne)}r(ee.data),t()}catch(R){console.error(R),a("Erro ao salvar assinante: "+R.message,"error")}finally{w(!1)}},L=async()=>{if(!(!(e!=null&&e.id)||!await i("Tem certeza que deseja excluir este assinante?","Excluir Assinante","Excluir","Cancelar"))){w(!0);try{const{error:R}=await $.from("subscribers").delete().eq("id",e.id);if(R)throw R;n&&n(e.id),t()}catch(R){a("Erro ao excluir: "+R.message,"error")}finally{w(!1)}}},H=async O=>{if(await i("Deseja desvincular esta UC do assinante? A UC no ser excluda, apenas removida deste cliente.","Desvincular UC"))try{const{error:D}=await $.from("consumer_units").update({subscriber_id:null}).eq("id",O);if(D)throw D;k(e.id),a("UC desvinculada com sucesso!","success")}catch(D){console.error(D),a("Erro ao desvincular UC: "+D.message,"error")}};return l.jsxs("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},children:[l.jsxs("div",{style:{background:"white",padding:"2rem",borderRadius:"8px",width:"90%",maxWidth:"900px",maxHeight:"90vh",overflowY:"auto"},children:[l.jsx("h3",{style:{marginBottom:"1.5rem",borderBottom:"1px solid #eee",paddingBottom:"0.5rem"},children:e?"Editar Assinante":"Novo Assinante"}),l.jsxs("form",{onSubmit:I,style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:[l.jsx("div",{style:{gridColumn:"1 / -1",fontWeight:"bold",marginTop:"0.5rem",color:"var(--color-blue)"},children:"Dados Cadastrais"}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Status"}),l.jsx("select",{value:b.status,onChange:O=>y({...b,status:O.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"},children:x.map(O=>l.jsx("option",{value:O.value,children:O.label},O.value))})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Originador"}),l.jsxs("select",{value:b.originator_id,onChange:O=>y({...b,originator_id:O.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"},children:[l.jsx("option",{value:"",children:"Selecione..."}),s.map(O=>l.jsx("option",{value:O.id,children:O.name},O.id))]})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"CPF/CNPJ (Busca Automtica)"}),l.jsx("div",{style:{display:"flex",gap:"0.5rem"},children:l.jsx("input",{value:b.cpf_cnpj,onChange:O=>y({...b,cpf_cnpj:ru(O.target.value)}),onBlur:N,placeholder:"000.000.000-00",style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px",background:j?"#f0f9ff":"white"},required:!0})})]}),l.jsxs("div",{style:{gridColumn:"1 / -1"},children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Nome Completo / Razo Social"}),l.jsx("input",{required:!0,value:b.name,onChange:O=>y({...b,name:O.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Email"}),l.jsx("input",{type:"email",value:b.email,onChange:O=>y({...b,email:O.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"},required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Telefone"}),l.jsx("input",{value:b.phone,onChange:O=>y({...b,phone:hi(O.target.value)}),placeholder:"(00) 00000-0000",style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),l.jsx("div",{style:{gridColumn:"1 / -1",fontWeight:"bold",marginTop:"1rem",borderTop:"1px solid #eee",paddingTop:"1rem",color:"var(--color-blue)"},children:"Endereo"}),l.jsxs("div",{style:{gridColumn:"1 / -1",display:"flex",gap:"1rem"},children:[l.jsxs("div",{style:{flex:1},children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"CEP (Busca)"}),l.jsx("input",{value:b.cep,onChange:O=>y({...b,cep:O.target.value}),onBlur:A,style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px",background:_?"#f0f9ff":"white"}})]}),l.jsxs("div",{style:{flex:2},children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Cidade/UF"}),l.jsx("input",{value:`${b.cidade} - ${b.uf}`,disabled:!0,style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px",background:"#f9fafb"}})]})]}),l.jsxs("div",{style:{gridColumn:"1 / -1"},children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Rua"}),l.jsx("input",{value:b.rua,onChange:O=>y({...b,rua:O.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Nmero"}),l.jsx("input",{value:b.numero,onChange:O=>y({...b,numero:O.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Complemento"}),l.jsx("input",{value:b.complemento,onChange:O=>y({...b,complemento:O.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Bairro"}),l.jsx("input",{value:b.bairro,onChange:O=>y({...b,bairro:O.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),l.jsxs("div",{style:{gridColumn:"1 / -1",fontWeight:"bold",marginTop:"1rem",borderTop:"1px solid #eee",paddingTop:"1rem",color:"var(--color-blue)",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[l.jsx("span",{children:"Unidades Consumidoras (UCs)"}),(e==null?void 0:e.id)&&l.jsxs("button",{type:"button",onClick:()=>v(!0),style:{display:"flex",alignItems:"center",gap:"0.3rem",background:"#ecfdf5",color:"#059669",border:"1px solid #d1fae5",padding:"0.4rem 0.8rem",borderRadius:"4px",cursor:"pointer",fontSize:"0.8rem"},children:[l.jsx(Vs,{size:16})," Cadastrar UCs"]})]}),l.jsx("div",{style:{gridColumn:"1 / -1"},children:u.length>0?l.jsx("ul",{style:{listStyle:"none",padding:0},children:u.map(O=>{var R;return l.jsxs("li",{style:{background:"#f8fafc",padding:"0.5rem",marginBottom:"0.5rem",borderRadius:"4px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[l.jsxs("div",{style:{flex:1},children:[l.jsxs("span",{children:["UC: ",O.numero_uc," - ",O.concessionaria]}),l.jsx("span",{style:{display:"block",fontSize:"0.8rem",color:"#666"},children:(R=O.status)==null?void 0:R.replace("_"," ").toUpperCase()})]}),l.jsx("button",{type:"button",onClick:()=>H(O.id),style:{padding:"0.3rem",background:"transparent",border:"none",color:"#a1a1aa",cursor:"pointer"},title:"Desvincular UC",children:l.jsx(tu,{size:16})})]},O.id)})}):l.jsx("p",{style:{color:"#999",fontSize:"0.9rem"},children:'Nenhuma UC vinculada. Voc pode adicionar UCs na tela de "Unidades Consumidoras" aps salvar.'})}),l.jsxs("div",{style:{gridColumn:"1 / -1",display:"flex",justifyContent:"space-between",marginTop:"1.5rem",paddingTop:"1rem",borderTop:"1px solid #eee",alignItems:"center"},children:[l.jsx("div",{children:(e==null?void 0:e.id)&&l.jsx("button",{type:"button",onClick:T,disabled:f,style:{display:"flex",alignItems:"center",gap:"0.5rem",background:"#fff7ed",color:"#c2410c",border:"1px solid #ffedd5",padding:"0.6rem 1rem",borderRadius:"4px",cursor:"pointer",fontWeight:"bold"},children:f?"Processando...":l.jsxs(l.Fragment,{children:[l.jsx(eu,{size:18})," Emitir Fatura Consolidada"]})})}),l.jsxs("div",{style:{display:"flex",gap:"1rem",alignItems:"center"},children:[e&&n&&l.jsx("button",{type:"button",onClick:L,style:{padding:"0.5rem 1rem",background:"#fee2e2",color:"#dc2626",borderRadius:"4px",border:"1px solid #fecaca",height:"fit-content"},children:"Excluir"}),l.jsx("button",{type:"button",onClick:t,style:{padding:"0.5rem 1rem",background:"#ccc",borderRadius:"4px"},children:"Cancelar"}),l.jsx("button",{type:"submit",disabled:g,style:{padding:"0.5rem 1rem",background:"var(--color-blue)",color:"white",borderRadius:"4px"},children:g?"Salvando...":"Salvar Assinante"})]})]})]})]}),m&&e&&l.jsx(cb,{consumerUnit:{subscriber_id:e.id},onClose:()=>v(!1),onSave:()=>{k(e.id),v(!1)}})]})}function t$(){const{profile:e}=pn(),[t,r]=p.useState([]),[n,a]=p.useState(!0),[i,o]=p.useState(!1),[s,c]=p.useState(!1),[u,d]=p.useState(null),[f,h]=p.useState(null),[m,v]=p.useState("list"),[x,b]=p.useState(""),y=t.filter(E=>{var A,N,T;if(!x)return!0;const k=x.toLowerCase();return((A=E.name)==null?void 0:A.toLowerCase().includes(k))||((N=E.email)==null?void 0:N.toLowerCase().includes(k))||((T=E.phone)==null?void 0:T.includes(k))});p.useEffect(()=>{g()},[]);const g=async()=>{a(!0);try{const{data:E,error:k}=await $.from("leads").select(`
                    *,
                    originator:originator_id (name)
                `).order("created_at",{ascending:!1});if(k)throw k;r(E||[])}catch(E){console.error("Error fetching leads:",E)}finally{a(!1)}},w=E=>{t.find(A=>A.id===E.id)?(r(t.map(A=>A.id===E.id?{...A,...E}:A)),g()):(r([E,...t]),g())},_=E=>{r(t.filter(k=>k.id!==E))},S=E=>{h(E),c(!0)},j=async E=>{try{await $.from("leads").update({status:"em_negociacao"}).eq("id",f.id),g(),alert('Lead convertido em Assinante! Status atualizado para "Em Negociao".')}catch(k){console.error("Erro ao atualizar status do lead",k)}},C={simulacao:"#64748b",indicado:"#0ea5e9",em_negociacao:"#eab308",ativo:"#22c55e",negocio_perdido:"#ef4444",pago:"#8b5cf6"};return l.jsxs("div",{children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"2rem"},children:[l.jsx("h2",{children:"Gesto de Leads"}),l.jsx("button",{onClick:()=>{d(null),o(!0)},className:"btn btn-primary",children:"+ Novo Lead"})]}),l.jsx("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.5rem",flexWrap:"wrap",gap:"1rem"},children:l.jsxs("div",{style:{display:"flex",gap:"1rem",flex:1,alignItems:"center"},children:[l.jsx("input",{type:"text",placeholder:"Buscar por nome, email ou telefone...",value:x,onChange:E=>b(E.target.value),className:"input",style:{maxWidth:"350px"}}),l.jsxs("div",{className:"btn-group",style:{display:"flex",border:"1px solid var(--color-border)",borderRadius:"var(--radius-sm)",overflow:"hidden"},children:[l.jsx("button",{onClick:()=>v("list"),className:`btn ${m==="list"?"btn-primary":"btn-secondary"}`,style:{borderRadius:0,border:"none"},children:"Lista"}),l.jsx("button",{onClick:()=>v("kanban"),className:`btn ${m==="kanban"?"btn-primary":"btn-secondary"}`,style:{borderRadius:0,border:"none"},children:"Kanban"})]})]})}),n?l.jsx("p",{children:"Carregando..."}):l.jsx(l.Fragment,{children:m==="list"?l.jsx("div",{className:"card",style:{padding:0,overflow:"hidden"},children:l.jsx("div",{className:"table-container",children:y.length===0?l.jsx("p",{style:{padding:"2rem",textAlign:"center",color:"var(--color-text-light)"},children:"Nenhum lead encontrado."}):l.jsxs("table",{className:"table",children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{children:"Nome"}),l.jsx("th",{children:"Contato"}),l.jsx("th",{children:"Status"}),l.jsx("th",{children:"Originador"}),l.jsx("th",{children:"Aes"})]})}),l.jsx("tbody",{children:y.map(E=>{var k;return l.jsxs("tr",{children:[l.jsx("td",{style:{fontWeight:"bold"},children:E.name}),l.jsxs("td",{children:[l.jsx("div",{style:{fontSize:"0.9rem"},children:E.email}),l.jsx("div",{style:{fontSize:"0.8rem",color:"var(--color-text-medium)"},children:E.phone})]}),l.jsx("td",{children:l.jsx("span",{style:{padding:"0.25rem 0.75rem",borderRadius:"999px",fontSize:"0.85rem",fontWeight:"500",background:E.status==="simulacao"?"#f1f5f9":E.status==="em_negociacao"?"#fef9c3":E.status==="ativo"?"#dcfce7":"#f1f5f9",color:E.status==="simulacao"?"#64748b":E.status==="em_negociacao"?"#a16207":E.status==="ativo"?"#166534":"#64748b"},children:E.status.toUpperCase().replace("_"," ")})}),l.jsx("td",{children:((k=E.originator)==null?void 0:k.name)||"-"}),l.jsxs("td",{style:{display:"flex",gap:"0.5rem"},children:[l.jsx("button",{onClick:()=>{d(E),o(!0)},className:"btn btn-secondary",style:{padding:"0.3rem 0.6rem",fontSize:"0.8rem"},children:"Editar"}),E.status!=="convertido"&&l.jsx("button",{onClick:()=>S(E),className:"btn",style:{padding:"0.3rem 0.6rem",fontSize:"0.8rem",border:"1px solid var(--color-success)",color:"var(--color-success)",background:"white"},children:"Converter"})]})]},E.id)})})]})})}):l.jsx("div",{style:{display:"flex",gap:"1rem",overflowX:"auto",paddingBottom:"1rem"},children:["simulacao","indicado","em_negociacao","ativo","negocio_perdido","pago"].map(E=>{const k=y.filter(N=>N.status===E),A=C[E]||"#64748b";return l.jsxs("div",{style:{minWidth:"280px",flex:1,background:"var(--color-bg-light)",borderRadius:"var(--radius-md)",padding:"0.5rem",borderTop:`4px solid ${A}`,boxShadow:"var(--shadow-sm)"},children:[l.jsxs("h4",{style:{padding:"0.8rem",borderBottom:"1px solid var(--color-border)",background:"white",borderRadius:"var(--radius-sm)",display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0.5rem",color:A},children:[l.jsx("span",{style:{textTransform:"uppercase",fontSize:"0.8rem",fontWeight:"bold"},children:E.replace("_"," ")}),l.jsx("span",{style:{fontSize:"0.8rem",background:A,color:"white",padding:"0.1rem 0.5rem",borderRadius:"99px"},children:k.length})]}),l.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem"},children:k.map(N=>{var T,I;return l.jsxs("div",{onClick:()=>{d(N),o(!0)},style:{background:"white",padding:"1rem",borderRadius:"var(--radius-sm)",boxShadow:"var(--shadow-sm)",cursor:"pointer",border:"1px solid transparent",transition:"0.2s"},onMouseEnter:L=>L.currentTarget.style.borderColor="var(--color-blue)",onMouseLeave:L=>L.currentTarget.style.borderColor="transparent",children:[l.jsx("div",{style:{fontWeight:"bold",marginBottom:"0.3rem",color:"var(--color-text-dark)"},children:N.name}),l.jsx("div",{style:{fontSize:"0.8rem",color:"var(--color-text-medium)",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:N.email}),l.jsx("div",{style:{fontSize:"0.8rem",color:"var(--color-text-medium)",marginTop:"0.2rem"},children:N.phone}),l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:"0.8rem",fontSize:"0.75rem",color:"var(--color-text-light)"},children:[l.jsx("span",{children:(I=(T=N.originator)==null?void 0:T.name)==null?void 0:I.split(" ")[0]}),l.jsx("span",{children:new Date(N.created_at).toLocaleDateString()})]})]},N.id)})})]},E)})})}),i&&l.jsx(e$,{lead:u,onClose:()=>o(!1),onSave:w,onDelete:_,onConvert:S}),s&&l.jsx(Bk,{subscriber:f?{...f,id:null,status:"ativacao",originator_id:f.originator_id}:null,onClose:()=>c(!1),onSave:j})]})}function r$(){const{profile:e}=pn(),[t,r]=p.useState([]),[n,a]=p.useState(!0),[i,o]=p.useState(!1),[s,c]=p.useState(null),[u,d]=p.useState("list"),[f,h]=p.useState(""),[m,v]=p.useState(null),x=t.filter(S=>{var C,E,k,A;if(!f)return!0;const j=f.toLowerCase();return((C=S.name)==null?void 0:C.toLowerCase().includes(j))||((E=S.email)==null?void 0:E.toLowerCase().includes(j))||((k=S.phone)==null?void 0:k.includes(j))||((A=S.cpf_cnpj)==null?void 0:A.includes(j))});p.useEffect(()=>{b()},[]);const b=async()=>{a(!0);try{const{data:S,error:j}=await $.from("subscribers").select("*").order("created_at",{ascending:!1});if(j)throw j;r(S||[])}catch(S){console.error("Error fetching subscribers:",S)}finally{a(!1)}},y=S=>{const j=t.find(C=>C.id===S.id);r(j?t.map(C=>C.id===S.id?{...C,...S}:C):[S,...t])},g=async S=>{if(confirm(`Gerar boleto CONSOLIDADO (todas as faturas pendentes) para ${S.name}?`)){v(S.id);try{const j=await Kh(S.id,"subscriber");j.url&&(alert("Boleto consolidado gerado com sucesso!"),window.open(j.url,"_blank"))}catch(j){console.error(j),alert("Erro: "+(j.message||"Falha ao gerar boleto. Verifique se h faturas pendentes."))}finally{v(null)}}},w={ativacao:"#0ea5e9",ativo:"#22c55e",ativo_inadimplente:"#f59e0b",transferido:"#64748b",cancelado:"#ef4444",cancelado_inadimplente:"#b91c1c"},_=S=>{r(t.filter(j=>j.id!==S))};return l.jsxs("div",{children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"2rem"},children:[l.jsx("h2",{children:"Gesto de Assinantes"}),l.jsx("button",{onClick:()=>{c(null),o(!0)},style:{padding:"0.6rem 1.2rem",background:"var(--color-blue)",color:"white",borderRadius:"4px",fontWeight:"bold",cursor:"pointer"},children:"+ Novo Assinante"})]}),l.jsx("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.5rem",flexWrap:"wrap",gap:"1rem"},children:l.jsxs("div",{style:{display:"flex",gap:"1rem",flex:1},children:[l.jsx("input",{type:"text",placeholder:"Buscar por nome, email, telefone ou CPF...",value:f,onChange:S=>h(S.target.value),style:{padding:"0.6rem",width:"100%",maxWidth:"350px",border:"1px solid #ddd",borderRadius:"4px"}}),l.jsxs("div",{style:{display:"flex",border:"1px solid #ccc",borderRadius:"4px",overflow:"hidden"},children:[l.jsx("button",{onClick:()=>d("list"),style:{padding:"0.6rem 1rem",cursor:"pointer",border:"none",background:u==="list"?"var(--color-blue)":"white",color:u==="list"?"white":"#333"},children:"Lista"}),l.jsx("button",{onClick:()=>d("kanban"),style:{padding:"0.6rem 1rem",cursor:"pointer",border:"none",background:u==="kanban"?"var(--color-blue)":"white",color:u==="kanban"?"white":"#333"},children:"Kanban"})]})]})}),n?l.jsx("p",{children:"Carregando..."}):l.jsx(l.Fragment,{children:u==="list"?l.jsx("div",{style:{background:"white",borderRadius:"8px",boxShadow:"0 2px 4px rgba(0,0,0,0.1)",overflowX:"auto"},children:x.length===0?l.jsx("p",{style:{padding:"2rem",textAlign:"center",color:"#999"},children:"Nenhum assinante encontrado."}):l.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[l.jsx("thead",{children:l.jsxs("tr",{style:{background:"#f8fafc",textAlign:"left",borderBottom:"1px solid #e2e8f0"},children:[l.jsx("th",{style:{padding:"1rem",color:"#64748b"},children:"Nome/CPF"}),l.jsx("th",{style:{padding:"1rem",color:"#64748b"},children:"Contato"}),l.jsx("th",{style:{padding:"1rem",color:"#64748b"},children:"Status"}),l.jsx("th",{style:{padding:"1rem",color:"#64748b"},children:"Cidade"}),l.jsx("th",{style:{padding:"1rem",color:"#64748b"},children:"Aes"})]})}),l.jsx("tbody",{children:x.map(S=>{var j,C,E,k,A;return l.jsxs("tr",{style:{borderBottom:"1px solid #f1f5f9"},children:[l.jsxs("td",{style:{padding:"1rem"},children:[l.jsx("div",{style:{fontWeight:"bold"},children:S.name}),l.jsx("div",{style:{fontSize:"0.8rem",color:"#666"},children:S.cpf_cnpj})]}),l.jsxs("td",{style:{padding:"1rem"},children:[l.jsx("div",{style:{fontSize:"0.9rem"},children:S.email}),l.jsx("div",{style:{fontSize:"0.8rem",color:"#666"},children:S.phone})]}),l.jsx("td",{style:{padding:"1rem"},children:l.jsx("span",{style:{padding:"0.25rem 0.75rem",borderRadius:"999px",fontSize:"0.85rem",background:(j=S.status)!=null&&j.includes("ativo")?"#dcfce7":(C=S.status)!=null&&C.includes("cancelado")?"#fee2e2":"#dbeafe",color:(E=S.status)!=null&&E.includes("ativo")?"#166534":(k=S.status)!=null&&k.includes("cancelado")?"#dc2626":"#1e40af"},children:(A=S.status)==null?void 0:A.toUpperCase().replace("_"," ")})}),l.jsx("td",{style:{padding:"1rem"},children:S.cidade?`${S.cidade}/${S.uf}`:"-"}),l.jsx("td",{style:{padding:"1rem"},children:l.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[l.jsx("button",{onClick:()=>g(S),disabled:m===S.id,title:"Emitir Boleto Consolidado",style:{background:"#fff7ed",color:"#c2410c",border:"1px solid #ffedd5",padding:"0.4rem 0.6rem",borderRadius:"4px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"},children:m===S.id?"...":l.jsx(eu,{size:14})}),l.jsx("button",{onClick:()=>{c(S),o(!0)},style:{border:"1px solid #ccc",background:"white",padding:"0.4rem 0.8rem",borderRadius:"4px",cursor:"pointer"},children:"Editar"})]})})]},S.id)})})]})}):l.jsx("div",{style:{display:"flex",gap:"1rem",overflowX:"auto",paddingBottom:"1rem"},children:["ativacao","ativo","ativo_inadimplente","transferido","cancelado","cancelado_inadimplente"].map(S=>{const j=x.filter(E=>E.status===S),C=w[S]||"#64748b";return l.jsxs("div",{style:{minWidth:"280px",flex:1,background:"#f8fafc",borderRadius:"8px",padding:"0.5rem",borderTop:`4px solid ${C}`},children:[l.jsxs("h4",{style:{padding:"0.8rem",borderBottom:"1px solid #e2e8f0",background:"white",borderRadius:"4px",display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0.5rem",color:C},children:[l.jsx("span",{style:{textTransform:"uppercase",fontSize:"0.8rem",fontWeight:"bold"},children:S.replace("_"," ")}),l.jsx("span",{style:{fontSize:"0.8rem",background:C,color:"white",padding:"0.1rem 0.5rem",borderRadius:"99px"},children:j.length})]}),l.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem"},children:j.map(E=>l.jsxs("div",{onClick:()=>{c(E),o(!0)},style:{background:"white",padding:"1rem",borderRadius:"4px",boxShadow:"0 1px 2px rgba(0,0,0,0.05)",cursor:"pointer",border:"1px solid transparent",transition:"0.2s"},onMouseEnter:k=>k.currentTarget.style.borderColor="var(--color-blue)",onMouseLeave:k=>k.currentTarget.style.borderColor="transparent",children:[l.jsx("div",{style:{fontWeight:"bold",marginBottom:"0.3rem"},children:E.name}),l.jsx("div",{style:{fontSize:"0.8rem",color:"#666"},children:E.cpf_cnpj}),l.jsx("div",{style:{fontSize:"0.8rem",color:"#666"},children:E.email}),l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:"0.8rem",fontSize:"0.75rem",color:"#999"},children:[l.jsx("span",{children:E.cidade}),l.jsx("span",{children:new Date(E.created_at).toLocaleDateString()})]})]},E.id))})]},S)})})}),i&&l.jsx(Bk,{subscriber:s,onClose:()=>o(!1),onSave:y,onDelete:_})]})}function n$({originator:e,onClose:t,onSave:r,onDelete:n}){const[a,i]=p.useState(!1),[o,s]=p.useState(!1),[c,u]=p.useState({name:"",cpf_cnpj:"",email:"",phone:"",pix_key:"",pix_key_type:"cpf",split_start:0,split_recurrent:0,cep:"",rua:"",numero:"",complemento:"",bairro:"",cidade:"",uf:""});p.useEffect(()=>{var v,x,b,y,g,w,_,S,j;e&&u({name:e.name||"",cpf_cnpj:e.cpf_cnpj||"",email:e.email||"",phone:e.phone||"",pix_key:e.pix_key||"",pix_key_type:e.pix_key_type||"cpf",split_start:((v=e.split_commission)==null?void 0:v.start)||0,split_recurrent:((x=e.split_commission)==null?void 0:x.recurrent)||0,cep:((b=e.address)==null?void 0:b.cep)||"",rua:((y=e.address)==null?void 0:y.rua)||"",numero:((g=e.address)==null?void 0:g.numero)||"",complemento:((w=e.address)==null?void 0:w.complemento)||"",bairro:((_=e.address)==null?void 0:_.bairro)||"",cidade:((S=e.address)==null?void 0:S.cidade)||"",uf:((j=e.address)==null?void 0:j.uf)||""})},[e]);const d=async()=>{const v=c.cep.replace(/\D/g,"");if(v.length===8){s(!0);try{const x=await mn(v);u(b=>({...b,rua:x.rua||"",bairro:x.bairro||"",cidade:x.cidade||"",uf:x.uf||""}))}catch(x){console.error("Erro CEP",x),alert("Erro ao buscar CEP")}finally{s(!1)}}};p.useEffect(()=>{if(c.pix_key_type==="aleatoria")return;let v="";c.pix_key_type==="cpf"||c.pix_key_type==="cnpj"?v=c.cpf_cnpj:c.pix_key_type==="email"?v=c.email:c.pix_key_type==="telefone"&&(v=c.phone),v!==c.pix_key&&u(x=>({...x,pix_key:v}))},[c.pix_key_type,c.cpf_cnpj,c.email,c.phone]);const f=async v=>{if(v.preventDefault(),!nu(c.cpf_cnpj)){alert("CPF ou CNPJ invlido! Verifique o nmero digitado.");return}if(!eo(c.phone)){alert("Telefone invlido! Digite o DDD + 9 dgitos. Ex: (11) 99999-9999");return}i(!0);const x={name:c.name,cpf_cnpj:c.cpf_cnpj,email:c.email,phone:c.phone,pix_key:c.pix_key,pix_key_type:c.pix_key_type,split_commission:{start:Number(c.split_start)||0,recurrent:Number(c.split_recurrent)||0},address:{cep:c.cep,rua:c.rua,numero:c.numero,complemento:c.complemento,bairro:c.bairro,cidade:c.cidade,uf:c.uf}};try{let b;if(e!=null&&e.id?b=await $.from("originators_v2").update(x).eq("id",e.id).select().single():b=await $.from("originators_v2").insert(x).select().single(),b.error)throw b.error;r(b.data),t()}catch(b){alert("Erro ao salvar originador: "+b.message)}finally{i(!1)}},h=async()=>{if(confirm("Excluir este originador?")){i(!0);try{const{error:v}=await $.from("originators_v2").delete().eq("id",e.id);if(v)throw v;n&&n(e.id),t()}catch(v){alert("Erro ao excluir: "+v.message)}finally{i(!1)}}},m=e?`https://b2wenergia.com.br/convite?name=${encodeURIComponent(e.name)}&id=${e.id}`:"Salve para gerar URL";return l.jsx("div",{className:"modal-overlay",children:l.jsxs("div",{className:"modal-content",style:{maxWidth:"800px"},children:[l.jsxs("div",{className:"modal-header",children:[l.jsx("h2",{style:{fontSize:"1.25rem"},children:e?"Editar Originador":"Novo Originador"}),l.jsx("button",{onClick:t,className:"modal-close",children:""})]}),(e==null?void 0:e.id)&&l.jsxs("div",{style:{marginBottom:"1.5rem",padding:"1rem",background:"#e0f2fe",borderRadius:"var(--radius-md)",border:"1px solid #bae6fd"},children:[l.jsx("label",{className:"label",style:{color:"#0369a1"},children:"URL de Indicao"}),l.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[l.jsx("input",{value:`https://b2wenergia.com.br/convite?name=${encodeURIComponent(e.name)}&id=${e.id}`,className:"input",style:{color:"#0284c7"}}),l.jsx("button",{type:"button",onClick:()=>{navigator.clipboard.writeText(`https://b2wenergia.com.br/convite?name=${encodeURIComponent(e.name)}&id=${e.id}`),alert("Link copiado!")},className:"btn",style:{background:"#0ea5e9",color:"white"},children:"Copiar"})]})]}),l.jsxs("form",{onSubmit:f,style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:[l.jsx("div",{style:{gridColumn:"1 / -1"},children:l.jsx("h3",{style:{fontSize:"1rem",color:"var(--color-text-medium)",marginBottom:"1rem",borderBottom:"1px solid var(--color-border)",paddingBottom:"0.5rem"},children:"Dados Pessoais"})}),l.jsxs("div",{className:"form-group",style:{gridColumn:"1 / -1"},children:[l.jsx("label",{className:"label",children:"Nome Completo"}),l.jsx("input",{value:c.name,onChange:v=>u({...c,name:v.target.value}),className:"input",required:!0})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"label",children:"CPF/CNPJ"}),l.jsx("input",{value:c.cpf_cnpj,onChange:v=>u({...c,cpf_cnpj:ru(v.target.value)}),placeholder:"000.000.000-00",className:"input"})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"label",children:"Email"}),l.jsx("input",{type:"email",value:c.email,onChange:v=>u({...c,email:v.target.value}),className:"input"})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"label",children:"Telefone"}),l.jsx("input",{value:c.phone,onChange:v=>u({...c,phone:hi(v.target.value)}),placeholder:"(00) 00000-0000",className:"input"})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"label",children:"Tipo Chave PIX"}),l.jsxs("select",{value:c.pix_key_type,onChange:v=>u({...c,pix_key_type:v.target.value}),className:"select",children:[l.jsx("option",{value:"cpf",children:"CPF"}),l.jsx("option",{value:"cnpj",children:"CNPJ"}),l.jsx("option",{value:"email",children:"Email"}),l.jsx("option",{value:"telefone",children:"Telefone"}),l.jsx("option",{value:"aleatoria",children:"Aleatria"})]})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"label",children:"Chave PIX"}),l.jsx("input",{value:c.pix_key,onChange:v=>u({...c,pix_key:v.target.value}),className:"input"})]}),l.jsx("div",{style:{gridColumn:"1 / -1",marginTop:"1rem"},children:l.jsx("h3",{style:{fontSize:"1rem",color:"var(--color-text-medium)",marginBottom:"1rem",borderBottom:"1px solid var(--color-border)",paddingBottom:"0.5rem"},children:"Endereo"})}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"label",children:"CEP"}),l.jsxs("div",{style:{position:"relative"},children:[l.jsx("input",{value:c.cep,onChange:v=>u({...c,cep:v.target.value}),onBlur:d,placeholder:"00000-000",className:"input"}),o&&l.jsx("span",{style:{position:"absolute",right:"10px",top:"10px",fontSize:"0.7rem",color:"var(--color-text-light)"},children:"..."})]})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"label",children:"Rua"}),l.jsx("input",{value:c.rua,onChange:v=>u({...c,rua:v.target.value}),className:"input"})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"label",children:"Nmero"}),l.jsx("input",{value:c.numero,onChange:v=>u({...c,numero:v.target.value}),className:"input"})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"label",children:"Complemento"}),l.jsx("input",{value:c.complemento,onChange:v=>u({...c,complemento:v.target.value}),className:"input"})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"label",children:"Bairro"}),l.jsx("input",{value:c.bairro,onChange:v=>u({...c,bairro:v.target.value}),className:"input"})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"label",children:"Cidade"}),l.jsx("input",{value:c.cidade,onChange:v=>u({...c,cidade:v.target.value}),className:"input"})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"label",children:"UF"}),l.jsx("input",{value:c.uf,onChange:v=>u({...c,uf:v.target.value}),className:"input"})]}),l.jsx("div",{style:{gridColumn:"1 / -1",marginTop:"1rem"},children:l.jsx("h3",{style:{fontSize:"1rem",color:"var(--color-text-medium)",marginBottom:"1rem",borderBottom:"1px solid var(--color-border)",paddingBottom:"0.5rem"},children:"Split de Comisso (%)"})}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"label",children:"Start (Primeira Fatura)"}),l.jsx("input",{type:"number",step:"0.01",value:c.split_start,onChange:v=>u({...c,split_start:v.target.value}),className:"input"})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"label",children:"Recorrente (Mensal)"}),l.jsx("input",{type:"number",step:"0.01",value:c.split_recurrent,onChange:v=>u({...c,split_recurrent:v.target.value}),className:"input"})]}),e&&l.jsxs("div",{style:{gridColumn:"1 / -1",marginTop:"1rem",padding:"1rem",background:"#ecfdf5",borderRadius:"var(--radius-md)",border:"1px solid #a7f3d0"},children:[l.jsx("label",{className:"label",style:{color:"#047857"},children:"URL de Indicao"}),l.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[l.jsx("input",{readOnly:!0,value:m,className:"input",style:{border:"1px solid #10b981"}}),l.jsx("button",{type:"button",onClick:()=>{navigator.clipboard.writeText(m),alert("Link copiado: "+m)},className:"btn",style:{background:"#10b981",color:"white"},children:"Copiar"})]})]}),l.jsxs("div",{className:"modal-footer",style:{gridColumn:"1 / -1"},children:[e&&n&&l.jsx("button",{type:"button",onClick:h,className:"btn btn-danger",style:{marginRight:"auto"},children:"Excluir"}),l.jsx("button",{type:"button",onClick:t,className:"btn btn-secondary",children:"Cancelar"}),l.jsx("button",{type:"submit",disabled:a,className:"btn btn-primary",children:a?"Salvando...":"Salvar Originador"})]})]})]})})}function a$(){const[e,t]=p.useState([]),[r,n]=p.useState(!0),[a,i]=p.useState(""),[o,s]=p.useState(!1),[c,u]=p.useState(null);p.useEffect(()=>{d()},[]);const d=async()=>{n(!0);const{data:g,error:w}=await $.from("originators_v2").select("*").order("name");w?console.error("Error fetching originators:",w):t(g||[]),n(!1)},f=async()=>{if(confirm("Deseja processar as comisses deste ms? Isso ir gerar registros financeiros para todas as faturas pagas.")){n(!0);try{const g=new Date().toISOString().split("T")[0],{data:w,error:_}=await $.rpc("generate_monthly_commissions",{target_date:g});if(_)throw _;alert(`Processamento concludo!
Faturas processadas: ${w.invoices_processed}
Valor total gerado: R$ ${w.total_commission_value}`)}catch(g){console.error("Error processing commissions:",g),alert("Erro ao processar comisses: "+(g.message||"Erro desconhecido"))}finally{n(!1)}}},h=g=>{u(g),s(!0)},m=()=>{u(null),s(!0)},v=g=>{d()},x=g=>{d()},b=g=>{const w=`${window.location.origin}/clientes?id=${g}`;navigator.clipboard.writeText(w),alert("Link copiado: "+w)},y=e.filter(g=>{var w,_;return((w=g.name)==null?void 0:w.toLowerCase().includes(a.toLowerCase()))||((_=g.email)==null?void 0:_.toLowerCase().includes(a.toLowerCase()))});return l.jsxs("div",{children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[l.jsx("h2",{children:"Gesto de Originadores"}),l.jsxs("div",{style:{display:"flex",gap:"1rem"},children:[l.jsx("button",{onClick:f,className:"btn",style:{background:"var(--color-success)",color:"white"},children:" Processar Comisses"}),l.jsxs("button",{onClick:m,className:"btn btn-accent",children:[l.jsx(Vs,{size:18})," Novo Originador"]})]})]}),l.jsxs("div",{style:{marginBottom:"1rem",position:"relative"},children:[l.jsx("input",{type:"text",placeholder:"Buscar originador...",value:a,onChange:g=>i(g.target.value),className:"input",style:{paddingLeft:"2.5rem"}}),l.jsx(sb,{size:18,style:{position:"absolute",left:"10px",top:"50%",transform:"translateY(-50%)",color:"var(--color-text-light)"}})]}),r?l.jsx("p",{children:"Carregando..."}):l.jsx("div",{className:"card",style:{padding:0,overflow:"hidden"},children:l.jsx("div",{className:"table-container",children:l.jsxs("table",{className:"table",children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{children:"Nome"}),l.jsx("th",{children:"Contato"}),l.jsx("th",{children:"Comisso (Start/Rec.)"}),l.jsx("th",{children:"Chave PIX"}),l.jsx("th",{children:"Link"}),l.jsx("th",{style:{textAlign:"right"},children:"Aes"})]})}),l.jsx("tbody",{children:y.length===0?l.jsx("tr",{children:l.jsx("td",{colSpan:"6",style:{padding:"1rem",textAlign:"center",color:"var(--color-text-light)"},children:"Nenhum originador encontrado."})}):y.map(g=>{var w,_;return l.jsxs("tr",{children:[l.jsxs("td",{children:[l.jsx("div",{style:{fontWeight:"bold",color:"var(--color-blue)"},children:g.name}),l.jsx("div",{style:{fontSize:"0.8rem",color:"var(--color-text-medium)"},children:g.cpf_cnpj})]}),l.jsxs("td",{children:[l.jsx("div",{style:{fontSize:"0.9rem"},children:g.email}),l.jsx("div",{style:{fontSize:"0.9rem"},children:g.phone})]}),l.jsx("td",{children:l.jsxs("span",{className:"badge badge-success",children:[((w=g.split_commission)==null?void 0:w.start)||0,"% / ",((_=g.split_commission)==null?void 0:_.recurrent)||0,"%"]})}),l.jsx("td",{style:{fontSize:"0.9rem"},children:g.pix_key||"-"}),l.jsx("td",{children:l.jsx("button",{onClick:()=>b(g.id),title:"Copiar Link de Indicao",className:"btn btn-secondary",style:{padding:"0.3rem",border:"none"},children:l.jsx(ZI,{size:16,color:"var(--color-blue)"})})}),l.jsx("td",{style:{textAlign:"right"},children:l.jsx("button",{onClick:()=>h(g),className:"btn btn-secondary",style:{padding:"0.3rem",border:"none",color:"var(--color-text-medium)"},children:l.jsx(k8,{size:18})})})]},g.id)})})]})})}),o&&l.jsx(n$,{originator:c,onClose:()=>s(!1),onSave:v,onDelete:x})]})}function i$({supplier:e,onClose:t,onSave:r,onDelete:n}){const{showAlert:a,showConfirm:i}=Gr(),[o,s]=p.useState(!1),[c,u]=p.useState([]),[d,f]=p.useState({name:"",cnpj:"",email:"",phone:"",status:"ativacao",legal_partner_name:"",legal_partner_cpf:"",pix_key:"",pix_key_type:"cpf",cep:"",rua:"",numero:"",complemento:"",bairro:"",cidade:"",uf:""});p.useEffect(()=>{var y,g,w,_,S,j,C,E,k;e&&(f({name:e.name||"",cnpj:e.cnpj||"",email:e.email||"",phone:e.phone||"",status:e.status||"ativacao",legal_partner_name:e.legal_partner_name||"",legal_partner_cpf:e.legal_partner_cpf||"",pix_key:e.pix_key||"",pix_key_type:e.pix_key_type||"cpf",cep:((y=e.address)==null?void 0:y.cep)||"",rua:((g=e.address)==null?void 0:g.logradouro)||((w=e.address)==null?void 0:w.rua)||"",numero:((_=e.address)==null?void 0:_.numero)||"",complemento:((S=e.address)==null?void 0:S.complemento)||"",bairro:((j=e.address)==null?void 0:j.bairro)||"",cidade:((C=e.address)==null?void 0:C.municipio)||((E=e.address)==null?void 0:E.cidade)||"",uf:((k=e.address)==null?void 0:k.uf)||""}),h(e.id))},[e]);const h=async y=>{const{data:g}=await $.from("usinas").select("id, name, status").eq("supplier_id",y);u(g||[])},m=async()=>{const y=d.cnpj.replace(/\D/g,"");if(y.length===14){s(!0);try{const g=await xc(y);g&&f(w=>{var _,S,j,C,E,k,A,N,T;return{...w,name:g.nome||w.name,email:g.email||w.email,phone:g.telefone||w.phone,legal_partner_name:((_=g.legal_partner)==null?void 0:_.nome)||w.legal_partner_name,legal_partner_cpf:((S=g.legal_partner)==null?void 0:S.cpf)||w.legal_partner_cpf,cep:((j=g.address)==null?void 0:j.cep)||w.cep,rua:((C=g.address)==null?void 0:C.logradouro)||w.rua,numero:((E=g.address)==null?void 0:E.numero)||w.numero,complemento:((k=g.address)==null?void 0:k.complemento)||w.complemento,bairro:((A=g.address)==null?void 0:A.bairro)||w.bairro,cidade:((N=g.address)==null?void 0:N.municipio)||w.cidade,uf:((T=g.address)==null?void 0:T.uf)||w.uf}})}catch(g){console.error("Erro CNPJ",g),a("Erro ao buscar CNPJ. Verifique se o nmero est correto.","error")}finally{s(!1)}}},v=y=>{const g=y.target.value;let w=d.pix_key;switch(g){case"telefone":w=d.phone;break;case"email":w=d.email;break;case"cnpj":w=d.cnpj;break;case"cpf":d.legal_partner_cpf&&(w=d.legal_partner_cpf);break}f(_=>({..._,pix_key_type:g,pix_key:w}))},x=async y=>{if(y.preventDefault(),d.cnpj&&!nu(d.cnpj)){a("CNPJ invlido!","warning");return}if(d.phone&&!eo(d.phone)){a("Telefone invlido!","warning");return}s(!0);try{console.log("Submitting payload:",d);const g={name:d.name,cnpj:d.cnpj,email:d.email,phone:d.phone,status:d.status,legal_partner_name:d.legal_partner_name,legal_partner_cpf:d.legal_partner_cpf,pix_key:d.pix_key,pix_key_type:d.pix_key_type,address:{cep:d.cep,logradouro:d.rua,rua:d.rua,numero:d.numero,complemento:d.complemento,bairro:d.bairro,municipio:d.cidade,cidade:d.cidade,uf:d.uf}};console.log("Payload ready:",g);let w;if(e!=null&&e.id?w=await $.from("suppliers").update(g).eq("id",e.id).select().single():w=await $.from("suppliers").insert(g).select().single(),console.log("Supabase result:",w),w.error)throw w.error;r(w.data),t()}catch(g){console.error("Save error details:",g);const w=g.message||JSON.stringify(g);w.includes("JWT expired")?(a("Sua sesso expirou. Por favor, faa login novamente.","error"),await $.auth.signOut(),window.location.href="/login"):a("Erro ao salvar fornecedor: "+w,"error")}finally{s(!1)}},b=async()=>{if(c.length>0){a("No  possvel excluir fornecedor com usinas vinculadas.","warning");return}if(await i("Excluir este fornecedor?")){s(!0);try{const{error:g}=await $.from("suppliers").delete().eq("id",e.id);if(g)throw g;n&&n(e.id),t()}catch(g){a("Erro ao excluir: "+g.message,"error")}finally{s(!1)}}};return l.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},children:l.jsxs("div",{style:{background:"white",padding:"2rem",borderRadius:"8px",width:"90%",maxWidth:"800px",maxHeight:"90vh",overflowY:"auto"},children:[l.jsx("h3",{style:{marginBottom:"1.5rem",borderBottom:"1px solid #eee",paddingBottom:"0.5rem"},children:e?"Editar Fornecedor":"Novo Fornecedor"}),l.jsxs("form",{onSubmit:x,style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:[l.jsxs("div",{style:{gridColumn:"1 / -1"},children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"CNPJ * (Busca Automtica)"}),l.jsx("input",{value:d.cnpj,onChange:y=>f({...d,cnpj:y.target.value}),onBlur:m,placeholder:"00.000.000/0000-00",style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px",background:"#f8fafc"}})]}),l.jsxs("div",{style:{gridColumn:"1 / -1"},children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Razo Social / Nome *"}),l.jsx("input",{required:!0,value:d.name,onChange:y=>f({...d,name:y.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Nome Scio Adm"}),l.jsx("input",{value:d.legal_partner_name,onChange:y=>f({...d,legal_partner_name:y.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"CPF Scio Adm"}),l.jsx("input",{value:d.legal_partner_cpf,onChange:y=>f({...d,legal_partner_cpf:y.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),l.jsx("div",{style:{gridColumn:"1 / -1",fontWeight:"bold",marginTop:"0.5rem",color:"var(--color-blue)"},children:"Contato e Financeiro"}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"CPF/CNPJ"}),l.jsx("input",{value:d.cnpj,onChange:y=>f({...d,cnpj:ru(y.target.value)}),onBlur:m,placeholder:"00.000.000/0000-00",style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px",background:"#f8fafc"}})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Telefone"}),l.jsx("input",{value:d.phone,onChange:y=>f({...d,phone:hi(y.target.value)}),placeholder:"(00) 00000-0000",style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Email"}),l.jsx("input",{type:"email",value:d.email,onChange:y=>f({...d,email:y.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Tipo Chave Pix"}),l.jsxs("select",{value:d.pix_key_type,onChange:v,style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"},children:[l.jsx("option",{value:"cpf",children:"CPF"}),l.jsx("option",{value:"cnpj",children:"CNPJ"}),l.jsx("option",{value:"email",children:"Email"}),l.jsx("option",{value:"telefone",children:"Telefone"}),l.jsx("option",{value:"aleatoria",children:"Aleatria"})]})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Chave Pix"}),l.jsx("input",{value:d.pix_key,onChange:y=>f({...d,pix_key:y.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Status"}),l.jsxs("select",{value:d.status,onChange:y=>f({...d,status:y.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"},children:[l.jsx("option",{value:"ativacao",children:"Em Ativao"}),l.jsx("option",{value:"ativo",children:"Ativo"}),l.jsx("option",{value:"inativo",children:"Inativo"})]})]}),l.jsx("div",{style:{gridColumn:"1 / -1",fontWeight:"bold",marginTop:"0.5rem",color:"var(--color-blue)"},children:"Endereo"}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"CEP"}),l.jsx("input",{value:d.cep,onChange:y=>f({...d,cep:y.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Rua"}),l.jsx("input",{value:d.rua,onChange:y=>f({...d,rua:y.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Nmero"}),l.jsx("input",{value:d.numero,onChange:y=>f({...d,numero:y.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Complemento"}),l.jsx("input",{value:d.complemento,onChange:y=>f({...d,complemento:y.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Bairro"}),l.jsx("input",{value:d.bairro,onChange:y=>f({...d,bairro:y.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Cidade/Estado"}),l.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[l.jsx("input",{value:d.cidade,onChange:y=>f({...d,cidade:y.target.value}),placeholder:"Cidade",style:{flex:2,padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}}),l.jsx("input",{value:d.uf,onChange:y=>f({...d,uf:y.target.value}),placeholder:"UF",style:{flex:1,padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]})]}),e&&c.length>0&&l.jsxs("div",{style:{gridColumn:"1 / -1",marginTop:"1rem",background:"#f0f9ff",padding:"1rem",borderRadius:"8px"},children:[l.jsx("h4",{style:{fontSize:"0.9rem",fontWeight:"bold",marginBottom:"0.5rem",color:"#0369a1"},children:"Usinas Vinculadas"}),l.jsx("ul",{style:{paddingLeft:"1.5rem",fontSize:"0.9rem"},children:c.map(y=>l.jsxs("li",{children:[y.name," - ",l.jsx("span",{style:{opacity:.7},children:y.status})]},y.id))})]}),l.jsxs("div",{style:{gridColumn:"1 / -1",display:"flex",justifyContent:"space-between",marginTop:"1rem",paddingTop:"1rem",borderTop:"1px solid #eee"},children:[l.jsx("div",{children:e&&n&&l.jsx("button",{type:"button",onClick:b,style:{padding:"0.5rem 1rem",background:"#fee2e2",color:"#dc2626",borderRadius:"4px",border:"1px solid #fecaca"},children:"Excluir"})}),l.jsxs("div",{style:{display:"flex",gap:"1rem"},children:[l.jsx("button",{type:"button",onClick:t,style:{padding:"0.5rem 1rem",background:"#ccc",borderRadius:"4px"},children:"Cancelar"}),l.jsx("button",{type:"submit",disabled:o,style:{padding:"0.5rem 1rem",background:"var(--color-blue)",color:"white",borderRadius:"4px"},children:o?"Salvando...":"Salvar"})]})]})]})]})})}function o$(){const[e,t]=p.useState([]),[r,n]=p.useState(!0),[a,i]=p.useState(!1),[o,s]=p.useState(null);p.useEffect(()=>{c()},[]);const c=async()=>{n(!0);try{const{data:f,error:h}=await $.from("suppliers").select("*").order("created_at",{ascending:!1});if(h)throw h;t(f||[])}catch(f){console.error("Erro suppliers",f)}finally{n(!1)}},u=()=>{c(),i(!1)},d=f=>{t(e.filter(h=>h.id!==f)),i(!1)};return l.jsxs("div",{children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"2rem"},children:[l.jsx("h2",{children:"Fornecedores (Geradores)"}),l.jsx("button",{onClick:()=>{s(null),i(!0)},className:"btn btn-primary",children:"+ Novo Fornecedor"})]}),r?l.jsx("p",{children:"Carregando..."}):l.jsx("div",{className:"card",style:{padding:0,overflow:"hidden"},children:l.jsx("div",{className:"table-container",children:e.length===0?l.jsx("p",{style:{padding:"2rem",textAlign:"center",color:"var(--color-text-light)"},children:"Nenhum fornecedor cadastrado."}):l.jsxs("table",{className:"table",children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{children:"Nome/Razo Social"}),l.jsx("th",{children:"CNPJ"}),l.jsx("th",{children:"Contato"}),l.jsx("th",{children:"Status"}),l.jsx("th",{children:"Aes"})]})}),l.jsx("tbody",{children:e.map(f=>{var h;return l.jsxs("tr",{children:[l.jsx("td",{style:{fontWeight:"bold"},children:f.name}),l.jsx("td",{children:f.cnpj}),l.jsxs("td",{children:[l.jsx("div",{children:f.email}),l.jsx("div",{style:{fontSize:"0.8rem",color:"var(--color-text-medium)"},children:f.phone})]}),l.jsx("td",{children:l.jsx("span",{style:{padding:"0.2rem 0.6rem",borderRadius:"99px",fontSize:"0.8rem",fontWeight:"500",background:f.status==="ativo"?"#dcfce7":f.status==="ativacao"?"#fef9c3":"#f1f5f9",color:f.status==="ativo"?"#166534":f.status==="ativacao"?"#854d0e":"#64748b"},children:f.status==="ativacao"?"ATIVAO":(h=f.status)==null?void 0:h.toUpperCase()})}),l.jsx("td",{children:l.jsx("button",{onClick:()=>{s(f),i(!0)},className:"btn btn-secondary",style:{padding:"0.3rem 0.6rem",fontSize:"0.8rem"},children:"Editar"})})]},f.id)})})]})})}),a&&l.jsx(i$,{supplier:o,onClose:()=>i(!1),onSave:u,onDelete:d})]})}function Ik(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=Ik(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Be(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=Ik(e))&&(n&&(n+=" "),n+=t);return n}var s$=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function ub(e){if(typeof e!="string")return!1;var t=s$;return t.includes(e)}var l$=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],c$=new Set(l$);function $k(e){return typeof e!="string"?!1:c$.has(e)}function Lk(e){return typeof e=="string"&&e.startsWith("data-")}function oa(e){if(typeof e!="object"||e===null)return{};var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&($k(r)||Lk(r))&&(t[r]=e[r]);return t}function db(e){if(e==null)return null;if(p.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return oa(t)}return typeof e=="object"&&!Array.isArray(e)?oa(e):null}function Fr(e){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&($k(r)||Lk(r)||ub(r))&&(t[r]=e[r]);return t}var u$=["children","width","height","viewBox","className","style","title","desc"];function Hv(){return Hv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Hv.apply(null,arguments)}function d$(e,t){if(e==null)return{};var r,n,a=f$(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function f$(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Uk=p.forwardRef((e,t)=>{var{children:r,width:n,height:a,viewBox:i,className:o,style:s,title:c,desc:u}=e,d=d$(e,u$),f=i||{width:n,height:a,x:0,y:0},h=Be("recharts-surface",o);return p.createElement("svg",Hv({},Fr(d),{className:h,width:n,height:a,style:s,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height),ref:t}),p.createElement("title",null,c),p.createElement("desc",null,u),r)}),h$=["children","className"];function Fv(){return Fv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Fv.apply(null,arguments)}function m$(e,t){if(e==null)return{};var r,n,a=p$(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function p$(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var sa=p.forwardRef((e,t)=>{var{children:r,className:n}=e,a=m$(e,h$),i=Be("recharts-layer",n);return p.createElement("g",Fv({className:i},Fr(a),{ref:t}),r)}),g$=p.createContext(null);function Te(e){return function(){return e}}const qk=Math.cos,Cf=Math.sin,gn=Math.sqrt,Ef=Math.PI,Zh=2*Ef,Vv=Math.PI,Kv=2*Vv,Ti=1e-6,v$=Kv-Ti;function Wk(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function y$(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return Wk;const r=10**t;return function(n){this._+=n[0];for(let a=1,i=n.length;a<i;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class b${constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?Wk:y$(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,i,o){this._append`C${+t},${+r},${+n},${+a},${this._x1=+i},${this._y1=+o}`}arcTo(t,r,n,a,i){if(t=+t,r=+r,n=+n,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,s=this._y1,c=n-t,u=a-r,d=o-t,f=s-r,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>Ti)if(!(Math.abs(f*c-u*d)>Ti)||!i)this._append`L${this._x1=t},${this._y1=r}`;else{let m=n-o,v=a-s,x=c*c+u*u,b=m*m+v*v,y=Math.sqrt(x),g=Math.sqrt(h),w=i*Math.tan((Vv-Math.acos((x+h-b)/(2*y*g)))/2),_=w/g,S=w/y;Math.abs(_-1)>Ti&&this._append`L${t+_*d},${r+_*f}`,this._append`A${i},${i},0,0,${+(f*m>d*v)},${this._x1=t+S*c},${this._y1=r+S*u}`}}arc(t,r,n,a,i,o){if(t=+t,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let s=n*Math.cos(a),c=n*Math.sin(a),u=t+s,d=r+c,f=1^o,h=o?a-i:i-a;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>Ti||Math.abs(this._y1-d)>Ti)&&this._append`L${u},${d}`,n&&(h<0&&(h=h%Kv+Kv),h>v$?this._append`A${n},${n},0,1,${f},${t-s},${r-c}A${n},${n},0,1,${f},${this._x1=u},${this._y1=d}`:h>Ti&&this._append`A${n},${n},0,${+(h>=Vv)},${f},${this._x1=t+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function fb(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new b$(t)}function hb(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Hk(e){this._context=e}Hk.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Jh(e){return new Hk(e)}function Fk(e){return e[0]}function Vk(e){return e[1]}function Kk(e,t){var r=Te(!0),n=null,a=Jh,i=null,o=fb(s);e=typeof e=="function"?e:e===void 0?Fk:Te(e),t=typeof t=="function"?t:t===void 0?Vk:Te(t);function s(c){var u,d=(c=hb(c)).length,f,h=!1,m;for(n==null&&(i=a(m=o())),u=0;u<=d;++u)!(u<d&&r(f=c[u],u,c))===h&&((h=!h)?i.lineStart():i.lineEnd()),h&&i.point(+e(f,u,c),+t(f,u,c));if(m)return i=null,m+""||null}return s.x=function(c){return arguments.length?(e=typeof c=="function"?c:Te(+c),s):e},s.y=function(c){return arguments.length?(t=typeof c=="function"?c:Te(+c),s):t},s.defined=function(c){return arguments.length?(r=typeof c=="function"?c:Te(!!c),s):r},s.curve=function(c){return arguments.length?(a=c,n!=null&&(i=a(n)),s):a},s.context=function(c){return arguments.length?(c==null?n=i=null:i=a(n=c),s):n},s}function nd(e,t,r){var n=null,a=Te(!0),i=null,o=Jh,s=null,c=fb(u);e=typeof e=="function"?e:e===void 0?Fk:Te(+e),t=typeof t=="function"?t:Te(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?Vk:Te(+r);function u(f){var h,m,v,x=(f=hb(f)).length,b,y=!1,g,w=new Array(x),_=new Array(x);for(i==null&&(s=o(g=c())),h=0;h<=x;++h){if(!(h<x&&a(b=f[h],h,f))===y)if(y=!y)m=h,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),v=h-1;v>=m;--v)s.point(w[v],_[v]);s.lineEnd(),s.areaEnd()}y&&(w[h]=+e(b,h,f),_[h]=+t(b,h,f),s.point(n?+n(b,h,f):w[h],r?+r(b,h,f):_[h]))}if(g)return s=null,g+""||null}function d(){return Kk().defined(a).curve(o).context(i)}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:Te(+f),n=null,u):e},u.x0=function(f){return arguments.length?(e=typeof f=="function"?f:Te(+f),u):e},u.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Te(+f),u):n},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:Te(+f),r=null,u):t},u.y0=function(f){return arguments.length?(t=typeof f=="function"?f:Te(+f),u):t},u.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Te(+f),u):r},u.lineX0=u.lineY0=function(){return d().x(e).y(t)},u.lineY1=function(){return d().x(e).y(r)},u.lineX1=function(){return d().x(n).y(t)},u.defined=function(f){return arguments.length?(a=typeof f=="function"?f:Te(!!f),u):a},u.curve=function(f){return arguments.length?(o=f,i!=null&&(s=o(i)),u):o},u.context=function(f){return arguments.length?(f==null?i=s=null:s=o(i=f),u):i},u}class Gk{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function x$(e){return new Gk(e,!0)}function w$(e){return new Gk(e,!1)}const mb={draw(e,t){const r=gn(t/Ef);e.moveTo(r,0),e.arc(0,0,r,0,Zh)}},_$={draw(e,t){const r=gn(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},Yk=gn(1/3),S$=Yk*2,j$={draw(e,t){const r=gn(t/S$),n=r*Yk;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},C$={draw(e,t){const r=gn(t),n=-r/2;e.rect(n,n,r,r)}},E$=.8908130915292852,Xk=Cf(Ef/10)/Cf(7*Ef/10),O$=Cf(Zh/10)*Xk,A$=-qk(Zh/10)*Xk,k$={draw(e,t){const r=gn(t*E$),n=O$*r,a=A$*r;e.moveTo(0,-r),e.lineTo(n,a);for(let i=1;i<5;++i){const o=Zh*i/5,s=qk(o),c=Cf(o);e.lineTo(c*r,-s*r),e.lineTo(s*n-c*a,c*n+s*a)}e.closePath()}},ng=gn(3),T$={draw(e,t){const r=-gn(t/(ng*3));e.moveTo(0,r*2),e.lineTo(-ng*r,-r),e.lineTo(ng*r,-r),e.closePath()}},Tr=-.5,Nr=gn(3)/2,Gv=1/gn(12),N$=(Gv/2+1)*3,R$={draw(e,t){const r=gn(t/N$),n=r/2,a=r*Gv,i=n,o=r*Gv+r,s=-i,c=o;e.moveTo(n,a),e.lineTo(i,o),e.lineTo(s,c),e.lineTo(Tr*n-Nr*a,Nr*n+Tr*a),e.lineTo(Tr*i-Nr*o,Nr*i+Tr*o),e.lineTo(Tr*s-Nr*c,Nr*s+Tr*c),e.lineTo(Tr*n+Nr*a,Tr*a-Nr*n),e.lineTo(Tr*i+Nr*o,Tr*o-Nr*i),e.lineTo(Tr*s+Nr*c,Tr*c-Nr*s),e.closePath()}};function D$(e,t){let r=null,n=fb(a);e=typeof e=="function"?e:Te(e||mb),t=typeof t=="function"?t:Te(t===void 0?64:+t);function a(){let i;if(r||(r=i=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),i)return r=null,i+""||null}return a.type=function(i){return arguments.length?(e=typeof i=="function"?i:Te(i),a):e},a.size=function(i){return arguments.length?(t=typeof i=="function"?i:Te(+i),a):t},a.context=function(i){return arguments.length?(r=i??null,a):r},a}function Of(){}function Af(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function Zk(e){this._context=e}Zk.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Af(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Af(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function P$(e){return new Zk(e)}function Jk(e){this._context=e}Jk.prototype={areaStart:Of,areaEnd:Of,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Af(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function M$(e){return new Jk(e)}function Qk(e){this._context=e}Qk.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Af(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function z$(e){return new Qk(e)}function eT(e){this._context=e}eT.prototype={areaStart:Of,areaEnd:Of,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function B$(e){return new eT(e)}function __(e){return e<0?-1:1}function S_(e,t,r){var n=e._x1-e._x0,a=t-e._x1,i=(e._y1-e._y0)/(n||a<0&&-0),o=(r-e._y1)/(a||n<0&&-0),s=(i*a+o*n)/(n+a);return(__(i)+__(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(s))||0}function j_(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function ag(e,t,r){var n=e._x0,a=e._y0,i=e._x1,o=e._y1,s=(i-n)/3;e._context.bezierCurveTo(n+s,a+s*t,i-s,o-s*r,i,o)}function kf(e){this._context=e}kf.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:ag(this,this._t0,j_(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,ag(this,j_(this,r=S_(this,e,t)),r);break;default:ag(this,this._t0,r=S_(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function tT(e){this._context=new rT(e)}(tT.prototype=Object.create(kf.prototype)).point=function(e,t){kf.prototype.point.call(this,t,e)};function rT(e){this._context=e}rT.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,i){this._context.bezierCurveTo(t,e,n,r,i,a)}};function I$(e){return new kf(e)}function $$(e){return new tT(e)}function nT(e){this._context=e}nT.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=C_(e),a=C_(t),i=0,o=1;o<r;++i,++o)this._context.bezierCurveTo(n[0][i],a[0][i],n[1][i],a[1][i],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function C_(e){var t,r=e.length-1,n,a=new Array(r),i=new Array(r),o=new Array(r);for(a[0]=0,i[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,i[t]=4,o[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,i[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/i[t-1],i[t]-=n,o[t]-=n*o[t-1];for(a[r-1]=o[r-1]/i[r-1],t=r-2;t>=0;--t)a[t]=(o[t]-a[t+1])/i[t];for(i[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-a[t+1];return[a,i]}function L$(e){return new nT(e)}function Qh(e,t){this._context=e,this._t=t}Qh.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function U$(e){return new Qh(e,.5)}function q$(e){return new Qh(e,0)}function W$(e){return new Qh(e,1)}function to(e,t){if((o=e.length)>1)for(var r=1,n,a,i=e[t[0]],o,s=i.length;r<o;++r)for(a=i,i=e[t[r]],n=0;n<s;++n)i[n][1]+=i[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function Yv(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function H$(e,t){return e[t]}function F$(e){const t=[];return t.key=e,t}function V$(){var e=Te([]),t=Yv,r=to,n=H$;function a(i){var o=Array.from(e.apply(this,arguments),F$),s,c=o.length,u=-1,d;for(const f of i)for(s=0,++u;s<c;++s)(o[s][u]=[0,+n(f,o[s].key,u,i)]).data=f;for(s=0,d=hb(t(o));s<c;++s)o[d[s]].index=s;return r(o,d),o}return a.keys=function(i){return arguments.length?(e=typeof i=="function"?i:Te(Array.from(i)),a):e},a.value=function(i){return arguments.length?(n=typeof i=="function"?i:Te(+i),a):n},a.order=function(i){return arguments.length?(t=i==null?Yv:typeof i=="function"?i:Te(Array.from(i)),a):t},a.offset=function(i){return arguments.length?(r=i??to,a):r},a}function K$(e,t){if((n=e.length)>0){for(var r,n,a=0,i=e[0].length,o;a<i;++a){for(o=r=0;r<n;++r)o+=e[r][a][1]||0;if(o)for(r=0;r<n;++r)e[r][a][1]/=o}to(e,t)}}function G$(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,i=n.length;r<i;++r){for(var o=0,s=0;o<a;++o)s+=e[o][r][1]||0;n[r][1]+=n[r][0]=-s/2}to(e,t)}}function Y$(e,t){if(!(!((o=e.length)>0)||!((i=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,i,o;n<i;++n){for(var s=0,c=0,u=0;s<o;++s){for(var d=e[t[s]],f=d[n][1]||0,h=d[n-1][1]||0,m=(f-h)/2,v=0;v<s;++v){var x=e[t[v]],b=x[n][1]||0,y=x[n-1][1]||0;m+=b-y}c+=f,u+=m*f}a[n-1][1]+=a[n-1][0]=r,c&&(r-=u/c)}a[n-1][1]+=a[n-1][0]=r,to(e,t)}}var em={},aT={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==="__proto__"}e.isUnsafeProperty=t})(aT);var pb={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}e.isDeepKey=t})(pb);var tm={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var n;return typeof r=="string"||typeof r=="symbol"?r:Object.is((n=r==null?void 0:r.valueOf)==null?void 0:n.call(r),-0)?"-0":String(r)}e.toKey=t})(tm);var rm={},iT={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(r==null)return"";if(typeof r=="string")return r;if(Array.isArray(r))return r.map(t).join(",");const n=String(r);return n==="0"&&Object.is(Number(r),-0)?"-0":n}e.toString=t})(iT);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=iT,r=tm;function n(a){if(Array.isArray(a))return a.map(r.toKey);if(typeof a=="symbol")return[a];a=t.toString(a);const i=[],o=a.length;if(o===0)return i;let s=0,c="",u="",d=!1;for(a.charCodeAt(0)===46&&(i.push(""),s++);s<o;){const f=a[s];u?f==="\\"&&s+1<o?(s++,c+=a[s]):f===u?u="":c+=f:d?f==='"'||f==="'"?u=f:f==="]"?(d=!1,i.push(c),c=""):c+=f:f==="["?(d=!0,c&&(i.push(c),c="")):f==="."?c&&(i.push(c),c=""):c+=f,s++}return c&&i.push(c),i}e.toPath=n})(rm);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=aT,r=pb,n=tm,a=rm;function i(s,c,u){if(s==null)return u;switch(typeof c){case"string":{if(t.isUnsafeProperty(c))return u;const d=s[c];return d===void 0?r.isDeepKey(c)?i(s,a.toPath(c),u):u:d}case"number":case"symbol":{typeof c=="number"&&(c=n.toKey(c));const d=s[c];return d===void 0?u:d}default:{if(Array.isArray(c))return o(s,c,u);if(Object.is(c==null?void 0:c.valueOf(),-0)?c="-0":c=String(c),t.isUnsafeProperty(c))return u;const d=s[c];return d===void 0?u:d}}}function o(s,c,u){if(c.length===0)return u;let d=s;for(let f=0;f<c.length;f++){if(d==null||t.isUnsafeProperty(c[f]))return u;d=d[c[f]]}return d===void 0?u:d}e.get=i})(em);var X$=em.get;const Ss=ga(X$);var Z$=4;function Za(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Z$,r=10**t,n=Math.round(e*r)/r;return Object.is(n,-0)?0:n}function He(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return e.reduce((a,i,o)=>{var s=r[o-1];return typeof s=="string"?a+s+i:s!==void 0?a+Za(s)+i:a+i},"")}var tr=e=>e===0?0:e>0?1:-1,ln=e=>typeof e=="number"&&e!=+e,la=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,Z=e=>(typeof e=="number"||e instanceof Number)&&!ln(e),An=e=>Z(e)||typeof e=="string",J$=0,wc=e=>{var t=++J$;return"".concat(e||"").concat(t)},cn=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Z(t)&&typeof t!="string")return n;var i;if(la(t)){if(r==null)return n;var o=t.indexOf("%");i=r*parseFloat(t.slice(0,o))/100}else i=+t;return ln(i)&&(i=n),a&&r!=null&&i>r&&(i=r),i},oT=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++)if(!r[String(e[n])])r[String(e[n])]=!0;else return!0;return!1};function Tt(e,t,r){return Z(e)&&Z(t)?Za(e+r*(t-e)):t}function Q$(e,t,r){if(!(!e||!e.length))return e.find(n=>n&&(typeof t=="function"?t(n):Ss(n,t))===r)}var St=e=>e===null||typeof e>"u",au=e=>St(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function eL(e){return e!=null}function iu(){}var tL=["type","size","sizeType"];function Xv(){return Xv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Xv.apply(null,arguments)}function E_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function O_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?E_(Object(r),!0).forEach(function(n){rL(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):E_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rL(e,t,r){return(t=nL(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nL(e){var t=aL(e,"string");return typeof t=="symbol"?t:t+""}function aL(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function iL(e,t){if(e==null)return{};var r,n,a=oL(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function oL(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var sT={symbolCircle:mb,symbolCross:_$,symbolDiamond:j$,symbolSquare:C$,symbolStar:k$,symbolTriangle:T$,symbolWye:R$},sL=Math.PI/180,lL=e=>{var t="symbol".concat(au(e));return sT[t]||mb},cL=(e,t,r)=>{if(t==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var n=18*sL;return 1.25*e*e*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},uL=(e,t)=>{sT["symbol".concat(au(e))]=t},lT=e=>{var{type:t="circle",size:r=64,sizeType:n="area"}=e,a=iL(e,tL),i=O_(O_({},a),{},{type:t,size:r,sizeType:n}),o="circle";typeof t=="string"&&(o=t);var s=()=>{var h=lL(o),m=D$().type(h).size(cL(r,n,o)),v=m();if(v!==null)return v},{className:c,cx:u,cy:d}=i,f=Fr(i);return Z(u)&&Z(d)&&Z(r)?p.createElement("path",Xv({},f,{className:Be("recharts-symbols",c),transform:"translate(".concat(u,", ").concat(d,")"),d:s()})):null};lT.registerSymbol=uL;var cT=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,dL=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(p.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(a=>{ub(a)&&(n[a]=i=>r[a](r,i))}),n},fL=(e,t,r)=>n=>(e(t,r,n),null),gb=(e,t,r)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var n=null;return Object.keys(e).forEach(a=>{var i=e[a];ub(a)&&typeof i=="function"&&(n||(n={}),n[a]=fL(i,t,r))}),n};function A_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function hL(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?A_(Object(r),!0).forEach(function(n){mL(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):A_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mL(e,t,r){return(t=pL(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pL(e){var t=gL(e,"string");return typeof t=="symbol"?t:t+""}function gL(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ar(e,t){var r=hL({},e),n=t,a=Object.keys(t),i=a.reduce((o,s)=>(o[s]===void 0&&n[s]!==void 0&&(o[s]=n[s]),o),r);return i}var uT={},dT={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){const a=new Map;for(let i=0;i<r.length;i++){const o=r[i],s=n(o,i,r);a.has(s)||a.set(s,o)}return Array.from(a.values())}e.uniqBy=t})(dT);var fT={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return function(...a){return r.apply(this,a.slice(0,n))}}e.ary=t})(fT);var vb={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r}e.identity=t})(vb);var hT={},nm={},mT={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Number.isSafeInteger(r)&&r>=0}e.isLength=t})(mT);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=mT;function r(n){return n!=null&&typeof n!="function"&&t.isLength(n.length)}e.isArrayLike=r})(nm);var pT={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="object"&&r!==null}e.isObjectLike=t})(pT);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=nm,r=pT;function n(a){return r.isObjectLike(a)&&t.isArrayLike(a)}e.isArrayLikeObject=n})(hT);var gT={},vT={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=em;function r(n){return function(a){return t.get(a,n)}}e.property=r})(vT);var yT={},yb={},bT={},bb={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r!==null&&(typeof r=="object"||typeof r=="function")}e.isObject=t})(bb);var xb={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null||typeof r!="object"&&typeof r!="function"}e.isPrimitive=t})(xb);var wb={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}e.isEqualsSameValueZero=t})(wb);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=bb,r=xb,n=wb;function a(d,f,h){return typeof h!="function"?a(d,f,()=>{}):i(d,f,function m(v,x,b,y,g,w){const _=h(v,x,b,y,g,w);return _!==void 0?!!_:i(v,x,m,w)},new Map)}function i(d,f,h,m){if(f===d)return!0;switch(typeof f){case"object":return o(d,f,h,m);case"function":return Object.keys(f).length>0?i(d,{...f},h,m):n.isEqualsSameValueZero(d,f);default:return t.isObject(d)?typeof f=="string"?f==="":!0:n.isEqualsSameValueZero(d,f)}}function o(d,f,h,m){if(f==null)return!0;if(Array.isArray(f))return c(d,f,h,m);if(f instanceof Map)return s(d,f,h,m);if(f instanceof Set)return u(d,f,h,m);const v=Object.keys(f);if(d==null||r.isPrimitive(d))return v.length===0;if(v.length===0)return!0;if(m!=null&&m.has(f))return m.get(f)===d;m==null||m.set(f,d);try{for(let x=0;x<v.length;x++){const b=v[x];if(!r.isPrimitive(d)&&!(b in d)||f[b]===void 0&&d[b]!==void 0||f[b]===null&&d[b]!==null||!h(d[b],f[b],b,d,f,m))return!1}return!0}finally{m==null||m.delete(f)}}function s(d,f,h,m){if(f.size===0)return!0;if(!(d instanceof Map))return!1;for(const[v,x]of f.entries()){const b=d.get(v);if(h(b,x,v,d,f,m)===!1)return!1}return!0}function c(d,f,h,m){if(f.length===0)return!0;if(!Array.isArray(d))return!1;const v=new Set;for(let x=0;x<f.length;x++){const b=f[x];let y=!1;for(let g=0;g<d.length;g++){if(v.has(g))continue;const w=d[g];let _=!1;if(h(w,b,x,d,f,m)&&(_=!0),_){v.add(g),y=!0;break}}if(!y)return!1}return!0}function u(d,f,h,m){return f.size===0?!0:d instanceof Set?c([...d],[...f],h,m):!1}e.isMatchWith=a,e.isSetMatch=u})(bT);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=bT;function r(n,a){return t.isMatchWith(n,a,()=>{})}e.isMatch=r})(yb);var xT={},_b={},wT={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}e.getSymbols=t})(wT);var am={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}e.getTag=t})(am);var Sb={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",r="[object String]",n="[object Number]",a="[object Boolean]",i="[object Arguments]",o="[object Symbol]",s="[object Date]",c="[object Map]",u="[object Set]",d="[object Array]",f="[object Function]",h="[object ArrayBuffer]",m="[object Object]",v="[object Error]",x="[object DataView]",b="[object Uint8Array]",y="[object Uint8ClampedArray]",g="[object Uint16Array]",w="[object Uint32Array]",_="[object BigUint64Array]",S="[object Int8Array]",j="[object Int16Array]",C="[object Int32Array]",E="[object BigInt64Array]",k="[object Float32Array]",A="[object Float64Array]";e.argumentsTag=i,e.arrayBufferTag=h,e.arrayTag=d,e.bigInt64ArrayTag=E,e.bigUint64ArrayTag=_,e.booleanTag=a,e.dataViewTag=x,e.dateTag=s,e.errorTag=v,e.float32ArrayTag=k,e.float64ArrayTag=A,e.functionTag=f,e.int16ArrayTag=j,e.int32ArrayTag=C,e.int8ArrayTag=S,e.mapTag=c,e.numberTag=n,e.objectTag=m,e.regexpTag=t,e.setTag=u,e.stringTag=r,e.symbolTag=o,e.uint16ArrayTag=g,e.uint32ArrayTag=w,e.uint8ArrayTag=b,e.uint8ClampedArrayTag=y})(Sb);var _T={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}e.isTypedArray=t})(_T);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=wT,r=am,n=Sb,a=xb,i=_T;function o(d,f){return s(d,void 0,d,new Map,f)}function s(d,f,h,m=new Map,v=void 0){const x=v==null?void 0:v(d,f,h,m);if(x!==void 0)return x;if(a.isPrimitive(d))return d;if(m.has(d))return m.get(d);if(Array.isArray(d)){const b=new Array(d.length);m.set(d,b);for(let y=0;y<d.length;y++)b[y]=s(d[y],y,h,m,v);return Object.hasOwn(d,"index")&&(b.index=d.index),Object.hasOwn(d,"input")&&(b.input=d.input),b}if(d instanceof Date)return new Date(d.getTime());if(d instanceof RegExp){const b=new RegExp(d.source,d.flags);return b.lastIndex=d.lastIndex,b}if(d instanceof Map){const b=new Map;m.set(d,b);for(const[y,g]of d)b.set(y,s(g,y,h,m,v));return b}if(d instanceof Set){const b=new Set;m.set(d,b);for(const y of d)b.add(s(y,void 0,h,m,v));return b}if(typeof Buffer<"u"&&Buffer.isBuffer(d))return d.subarray();if(i.isTypedArray(d)){const b=new(Object.getPrototypeOf(d)).constructor(d.length);m.set(d,b);for(let y=0;y<d.length;y++)b[y]=s(d[y],y,h,m,v);return b}if(d instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&d instanceof SharedArrayBuffer)return d.slice(0);if(d instanceof DataView){const b=new DataView(d.buffer.slice(0),d.byteOffset,d.byteLength);return m.set(d,b),c(b,d,h,m,v),b}if(typeof File<"u"&&d instanceof File){const b=new File([d],d.name,{type:d.type});return m.set(d,b),c(b,d,h,m,v),b}if(typeof Blob<"u"&&d instanceof Blob){const b=new Blob([d],{type:d.type});return m.set(d,b),c(b,d,h,m,v),b}if(d instanceof Error){const b=new d.constructor;return m.set(d,b),b.message=d.message,b.name=d.name,b.stack=d.stack,b.cause=d.cause,c(b,d,h,m,v),b}if(d instanceof Boolean){const b=new Boolean(d.valueOf());return m.set(d,b),c(b,d,h,m,v),b}if(d instanceof Number){const b=new Number(d.valueOf());return m.set(d,b),c(b,d,h,m,v),b}if(d instanceof String){const b=new String(d.valueOf());return m.set(d,b),c(b,d,h,m,v),b}if(typeof d=="object"&&u(d)){const b=Object.create(Object.getPrototypeOf(d));return m.set(d,b),c(b,d,h,m,v),b}return d}function c(d,f,h=d,m,v){const x=[...Object.keys(f),...t.getSymbols(f)];for(let b=0;b<x.length;b++){const y=x[b],g=Object.getOwnPropertyDescriptor(d,y);(g==null||g.writable)&&(d[y]=s(f[y],y,h,m,v))}}function u(d){switch(r.getTag(d)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=o,e.cloneDeepWithImpl=s,e.copyProperties=c})(_b);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=_b;function r(n){return t.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}e.cloneDeep=r})(xT);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=yb,r=xT;function n(a){return a=r.cloneDeep(a),i=>t.isMatch(i,a)}e.matches=n})(yT);var ST={},jT={},CT={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=_b,r=am,n=Sb;function a(i,o){return t.cloneDeepWith(i,(s,c,u,d)=>{const f=o==null?void 0:o(s,c,u,d);if(f!==void 0)return f;if(typeof i=="object"){if(r.getTag(i)===n.objectTag&&typeof i.constructor!="function"){const h={};return d.set(i,h),t.copyProperties(h,i,u,d),h}switch(Object.prototype.toString.call(i)){case n.numberTag:case n.stringTag:case n.booleanTag:{const h=new i.constructor(i==null?void 0:i.valueOf());return t.copyProperties(h,i),h}case n.argumentsTag:{const h={};return t.copyProperties(h,i),h.length=i.length,h[Symbol.iterator]=i[Symbol.iterator],h}default:return}}})}e.cloneDeepWith=a})(CT);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=CT;function r(n){return t.cloneDeepWith(n)}e.cloneDeep=r})(jT);var ET={},jb={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function r(n,a=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<a;case"symbol":return!1;case"string":return t.test(n)}}e.isIndex=r})(jb);var OT={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=am;function r(n){return n!==null&&typeof n=="object"&&t.getTag(n)==="[object Arguments]"}e.isArguments=r})(OT);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=pb,r=jb,n=OT,a=rm;function i(o,s){let c;if(Array.isArray(s)?c=s:typeof s=="string"&&t.isDeepKey(s)&&(o==null?void 0:o[s])==null?c=a.toPath(s):c=[s],c.length===0)return!1;let u=o;for(let d=0;d<c.length;d++){const f=c[d];if((u==null||!Object.hasOwn(u,f))&&!((Array.isArray(u)||n.isArguments(u))&&r.isIndex(f)&&f<u.length))return!1;u=u[f]}return!0}e.has=i})(ET);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=yb,r=tm,n=jT,a=em,i=ET;function o(s,c){switch(typeof s){case"object":{Object.is(s==null?void 0:s.valueOf(),-0)&&(s="-0");break}case"number":{s=r.toKey(s);break}}return c=n.cloneDeep(c),function(u){const d=a.get(u,s);return d===void 0?i.has(u,s):c===void 0?d===void 0:t.isMatch(d,c)}}e.matchesProperty=o})(ST);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=vb,r=vT,n=yT,a=ST;function i(o){if(o==null)return t.identity;switch(typeof o){case"function":return o;case"object":return Array.isArray(o)&&o.length===2?a.matchesProperty(o[0],o[1]):n.matches(o);case"string":case"symbol":case"number":return r.property(o)}}e.iteratee=i})(gT);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=dT,r=fT,n=vb,a=hT,i=gT;function o(s,c=n.identity){return a.isArrayLikeObject(s)?t.uniqBy(Array.from(s),r.ary(i.iteratee(c),1)):[]}e.uniqBy=o})(uT);var vL=uT.uniqBy;const k_=ga(vL);function yL(e,t,r){return t===!0?k_(e,r):typeof t=="function"?k_(e,t):e}var AT={exports:{}},kT={},TT={exports:{}},NT={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var js=p;function bL(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var xL=typeof Object.is=="function"?Object.is:bL,wL=js.useState,_L=js.useEffect,SL=js.useLayoutEffect,jL=js.useDebugValue;function CL(e,t){var r=t(),n=wL({inst:{value:r,getSnapshot:t}}),a=n[0].inst,i=n[1];return SL(function(){a.value=r,a.getSnapshot=t,ig(a)&&i({inst:a})},[e,r,t]),_L(function(){return ig(a)&&i({inst:a}),e(function(){ig(a)&&i({inst:a})})},[e]),jL(r),r}function ig(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!xL(e,r)}catch{return!0}}function EL(e,t){return t()}var OL=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?EL:CL;NT.useSyncExternalStore=js.useSyncExternalStore!==void 0?js.useSyncExternalStore:OL;TT.exports=NT;var AL=TT.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var im=p,kL=AL;function TL(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var NL=typeof Object.is=="function"?Object.is:TL,RL=kL.useSyncExternalStore,DL=im.useRef,PL=im.useEffect,ML=im.useMemo,zL=im.useDebugValue;kT.useSyncExternalStoreWithSelector=function(e,t,r,n,a){var i=DL(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=ML(function(){function c(m){if(!u){if(u=!0,d=m,m=n(m),a!==void 0&&o.hasValue){var v=o.value;if(a(v,m))return f=v}return f=m}if(v=f,NL(d,m))return v;var x=n(m);return a!==void 0&&a(v,x)?(d=m,v):(d=m,f=x)}var u=!1,d,f,h=r===void 0?null:r;return[function(){return c(t())},h===null?void 0:function(){return c(h())}]},[t,r,n,a]);var s=RL(e,i[0],i[1]);return PL(function(){o.hasValue=!0,o.value=s},[s]),zL(s),s};AT.exports=kT;var BL=AT.exports,Cb=p.createContext(null),IL=e=>e,Xe=()=>{var e=p.useContext(Cb);return e?e.store.dispatch:IL},Id=()=>{},$L=()=>Id,LL=(e,t)=>e===t;function te(e){var t=p.useContext(Cb);return BL.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:$L,t?t.store.getState:Id,t?t.store.getState:Id,t?e:Id,LL)}function UL(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function qL(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function WL(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(r=>typeof r=="function")){const r=e.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${t}[${r}]`)}}var T_=e=>Array.isArray(e)?e:[e];function HL(e){const t=Array.isArray(e[0])?e[0]:e;return WL(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function FL(e,t){const r=[],{length:n}=e;for(let a=0;a<n;a++)r.push(e[a].apply(null,t));return r}var VL=class{constructor(e){this.value=e}deref(){return this.value}},KL=typeof WeakRef<"u"?WeakRef:VL,GL=0,N_=1;function ad(){return{s:GL,v:void 0,o:null,p:null}}function RT(e,t={}){let r=ad();const{resultEqualityCheck:n}=t;let a,i=0;function o(){var f;let s=r;const{length:c}=arguments;for(let h=0,m=c;h<m;h++){const v=arguments[h];if(typeof v=="function"||typeof v=="object"&&v!==null){let x=s.o;x===null&&(s.o=x=new WeakMap);const b=x.get(v);b===void 0?(s=ad(),x.set(v,s)):s=b}else{let x=s.p;x===null&&(s.p=x=new Map);const b=x.get(v);b===void 0?(s=ad(),x.set(v,s)):s=b}}const u=s;let d;if(s.s===N_)d=s.v;else if(d=e.apply(null,arguments),i++,n){const h=((f=a==null?void 0:a.deref)==null?void 0:f.call(a))??a;h!=null&&n(h,d)&&(d=h,i!==0&&i--),a=typeof d=="object"&&d!==null||typeof d=="function"?new KL(d):d}return u.s=N_,u.v=d,d}return o.clearCache=()=>{r=ad(),o.resetResultsCount()},o.resultsCount=()=>i,o.resetResultsCount=()=>{i=0},o}function YL(e,...t){const r=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,n=(...a)=>{let i=0,o=0,s,c={},u=a.pop();typeof u=="object"&&(c=u,u=a.pop()),UL(u,`createSelector expects an output function after the inputs, but received: [${typeof u}]`);const d={...r,...c},{memoize:f,memoizeOptions:h=[],argsMemoize:m=RT,argsMemoizeOptions:v=[]}=d,x=T_(h),b=T_(v),y=HL(a),g=f(function(){return i++,u.apply(null,arguments)},...x),w=m(function(){o++;const S=FL(y,arguments);return s=g.apply(null,S),s},...b);return Object.assign(w,{resultFunc:u,memoizedResultFunc:g,dependencies:y,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>s,recomputations:()=>i,resetRecomputations:()=>{i=0},memoize:f,argsMemoize:m})};return Object.assign(n,{withTypes:()=>n}),n}var z=YL(RT),XL=Object.assign((e,t=z)=>{qL(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const r=Object.keys(e),n=r.map(i=>e[i]);return t(n,(...i)=>i.reduce((o,s,c)=>(o[r[c]]=s,o),{}))},{withTypes:()=>XL}),DT={},PT={},MT={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,a,i)=>{if(n!==a){const o=t(n),s=t(a);if(o===s&&o===0){if(n<a)return i==="desc"?1:-1;if(n>a)return i==="desc"?-1:1}return i==="desc"?s-o:o-s}return 0};e.compareValues=r})(MT);var zT={},Eb={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"||r instanceof Symbol}e.isSymbol=t})(Eb);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Eb,r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function a(i,o){return Array.isArray(i)?!1:typeof i=="number"||typeof i=="boolean"||i==null||t.isSymbol(i)?!0:typeof i=="string"&&(n.test(i)||!r.test(i))||o!=null&&Object.hasOwn(o,i)}e.isKey=a})(zT);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=MT,r=zT,n=rm;function a(i,o,s,c){if(i==null)return[];s=c?void 0:s,Array.isArray(i)||(i=Object.values(i)),Array.isArray(o)||(o=o==null?[null]:[o]),o.length===0&&(o=[null]),Array.isArray(s)||(s=s==null?[]:[s]),s=s.map(m=>String(m));const u=(m,v)=>{let x=m;for(let b=0;b<v.length&&x!=null;++b)x=x[v[b]];return x},d=(m,v)=>v==null||m==null?v:typeof m=="object"&&"key"in m?Object.hasOwn(v,m.key)?v[m.key]:u(v,m.path):typeof m=="function"?m(v):Array.isArray(m)?u(v,m):typeof v=="object"?v[m]:v,f=o.map(m=>(Array.isArray(m)&&m.length===1&&(m=m[0]),m==null||typeof m=="function"||Array.isArray(m)||r.isKey(m)?m:{key:m,path:n.toPath(m)}));return i.map(m=>({original:m,criteria:f.map(v=>d(v,m))})).slice().sort((m,v)=>{for(let x=0;x<f.length;x++){const b=t.compareValues(m.criteria[x],v.criteria[x],s[x]);if(b!==0)return b}return 0}).map(m=>m.original)}e.orderBy=a})(PT);var BT={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n=1){const a=[],i=Math.floor(n),o=(s,c)=>{for(let u=0;u<s.length;u++){const d=s[u];Array.isArray(d)&&c<i?o(d,c+1):a.push(d)}};return o(r,0),a}e.flatten=t})(BT);var Ob={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=jb,r=nm,n=bb,a=wb;function i(o,s,c){return n.isObject(c)&&(typeof s=="number"&&r.isArrayLike(c)&&t.isIndex(s)&&s<c.length||typeof s=="string"&&s in c)?a.isEqualsSameValueZero(c[s],o):!1}e.isIterateeCall=i})(Ob);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=PT,r=BT,n=Ob;function a(i,...o){const s=o.length;return s>1&&n.isIterateeCall(i,o[0],o[1])?o=[]:s>2&&n.isIterateeCall(o[0],o[1],o[2])&&(o=[o[0]]),t.orderBy(i,r.flatten(o),["asc"])}e.sortBy=a})(DT);var ZL=DT.sortBy;const om=ga(ZL);var IT=e=>e.legend.settings,JL=e=>e.legend.size,QL=e=>e.legend.payload;z([QL,IT],(e,t)=>{var{itemSorter:r}=t,n=e.flat(1);return r?om(n,r):n});var id=1;function eU(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,r]=p.useState({height:0,left:0,top:0,width:0}),n=p.useCallback(a=>{if(a!=null){var i=a.getBoundingClientRect(),o={height:i.height,left:i.left,top:i.top,width:i.width};(Math.abs(o.height-t.height)>id||Math.abs(o.left-t.left)>id||Math.abs(o.top-t.top)>id||Math.abs(o.width-t.width)>id)&&r({height:o.height,left:o.left,top:o.top,width:o.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,n]}function Ot(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var tU=typeof Symbol=="function"&&Symbol.observable||"@@observable",R_=tU,og=()=>Math.random().toString(36).substring(7).split("").join("."),rU={INIT:`@@redux/INIT${og()}`,REPLACE:`@@redux/REPLACE${og()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${og()}`},Tf=rU;function Ab(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function $T(e,t,r){if(typeof e!="function")throw new Error(Ot(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(Ot(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(Ot(1));return r($T)(e,t)}let n=e,a=t,i=new Map,o=i,s=0,c=!1;function u(){o===i&&(o=new Map,i.forEach((b,y)=>{o.set(y,b)}))}function d(){if(c)throw new Error(Ot(3));return a}function f(b){if(typeof b!="function")throw new Error(Ot(4));if(c)throw new Error(Ot(5));let y=!0;u();const g=s++;return o.set(g,b),function(){if(y){if(c)throw new Error(Ot(6));y=!1,u(),o.delete(g),i=null}}}function h(b){if(!Ab(b))throw new Error(Ot(7));if(typeof b.type>"u")throw new Error(Ot(8));if(typeof b.type!="string")throw new Error(Ot(17));if(c)throw new Error(Ot(9));try{c=!0,a=n(a,b)}finally{c=!1}return(i=o).forEach(g=>{g()}),b}function m(b){if(typeof b!="function")throw new Error(Ot(10));n=b,h({type:Tf.REPLACE})}function v(){const b=f;return{subscribe(y){if(typeof y!="object"||y===null)throw new Error(Ot(11));function g(){const _=y;_.next&&_.next(d())}return g(),{unsubscribe:b(g)}},[R_](){return this}}}return h({type:Tf.INIT}),{dispatch:h,subscribe:f,getState:d,replaceReducer:m,[R_]:v}}function nU(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:Tf.INIT})>"u")throw new Error(Ot(12));if(typeof r(void 0,{type:Tf.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Ot(13))})}function LT(e){const t=Object.keys(e),r={};for(let i=0;i<t.length;i++){const o=t[i];typeof e[o]=="function"&&(r[o]=e[o])}const n=Object.keys(r);let a;try{nU(r)}catch(i){a=i}return function(o={},s){if(a)throw a;let c=!1;const u={};for(let d=0;d<n.length;d++){const f=n[d],h=r[f],m=o[f],v=h(m,s);if(typeof v>"u")throw s&&s.type,new Error(Ot(14));u[f]=v,c=c||v!==m}return c=c||n.length!==Object.keys(o).length,c?u:o}}function Nf(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...n)=>t(r(...n)))}function aU(...e){return t=>(r,n)=>{const a=t(r,n);let i=()=>{throw new Error(Ot(15))};const o={getState:a.getState,dispatch:(c,...u)=>i(c,...u)},s=e.map(c=>c(o));return i=Nf(...s)(a.dispatch),{...a,dispatch:i}}}function UT(e){return Ab(e)&&"type"in e&&typeof e.type=="string"}var qT=Symbol.for("immer-nothing"),D_=Symbol.for("immer-draftable"),Kt=Symbol.for("immer-state");function nn(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var br=Object,Cs=br.getPrototypeOf,Rf="constructor",sm="prototype",Zv="configurable",Df="enumerable",$d="writable",_c="value",ca=e=>!!e&&!!e[Kt];function un(e){var t;return e?WT(e)||cm(e)||!!e[D_]||!!((t=e[Rf])!=null&&t[D_])||um(e)||dm(e):!1}var iU=br[sm][Rf].toString(),P_=new WeakMap;function WT(e){if(!e||!kb(e))return!1;const t=Cs(e);if(t===null||t===br[sm])return!0;const r=br.hasOwnProperty.call(t,Rf)&&t[Rf];if(r===Object)return!0;if(!Io(r))return!1;let n=P_.get(r);return n===void 0&&(n=Function.toString.call(r),P_.set(r,n)),n===iU}function lm(e,t,r=!0){ou(e)===0?(r?Reflect.ownKeys(e):br.keys(e)).forEach(a=>{t(a,e[a],e)}):e.forEach((n,a)=>t(a,n,e))}function ou(e){const t=e[Kt];return t?t.type_:cm(e)?1:um(e)?2:dm(e)?3:0}var M_=(e,t,r=ou(e))=>r===2?e.has(t):br[sm].hasOwnProperty.call(e,t),Jv=(e,t,r=ou(e))=>r===2?e.get(t):e[t],Pf=(e,t,r,n=ou(e))=>{n===2?e.set(t,r):n===3?e.add(r):e[t]=r};function oU(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var cm=Array.isArray,um=e=>e instanceof Map,dm=e=>e instanceof Set,kb=e=>typeof e=="object",Io=e=>typeof e=="function",sg=e=>typeof e=="boolean";function sU(e){const t=+e;return Number.isInteger(t)&&String(t)===e}var Un=e=>e.copy_||e.base_,Tb=e=>e.modified_?e.copy_:e.base_;function Qv(e,t){if(um(e))return new Map(e);if(dm(e))return new Set(e);if(cm(e))return Array[sm].slice.call(e);const r=WT(e);if(t===!0||t==="class_only"&&!r){const n=br.getOwnPropertyDescriptors(e);delete n[Kt];let a=Reflect.ownKeys(n);for(let i=0;i<a.length;i++){const o=a[i],s=n[o];s[$d]===!1&&(s[$d]=!0,s[Zv]=!0),(s.get||s.set)&&(n[o]={[Zv]:!0,[$d]:!0,[Df]:s[Df],[_c]:e[o]})}return br.create(Cs(e),n)}else{const n=Cs(e);if(n!==null&&r)return{...e};const a=br.create(n);return br.assign(a,e)}}function Nb(e,t=!1){return fm(e)||ca(e)||!un(e)||(ou(e)>1&&br.defineProperties(e,{set:od,add:od,clear:od,delete:od}),br.freeze(e),t&&lm(e,(r,n)=>{Nb(n,!0)},!1)),e}function lU(){nn(2)}var od={[_c]:lU};function fm(e){return e===null||!kb(e)?!0:br.isFrozen(e)}var Mf="MapSet",ey="Patches",z_="ArrayMethods",HT={};function ro(e){const t=HT[e];return t||nn(0,e),t}var B_=e=>!!HT[e],Sc,FT=()=>Sc,cU=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:B_(Mf)?ro(Mf):void 0,arrayMethodsPlugin_:B_(z_)?ro(z_):void 0});function I_(e,t){t&&(e.patchPlugin_=ro(ey),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function ty(e){ry(e),e.drafts_.forEach(uU),e.drafts_=null}function ry(e){e===Sc&&(Sc=e.parent_)}var $_=e=>Sc=cU(Sc,e);function uU(e){const t=e[Kt];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function L_(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];if(e!==void 0&&e!==r){r[Kt].modified_&&(ty(t),nn(4)),un(e)&&(e=U_(t,e));const{patchPlugin_:a}=t;a&&a.generateReplacementPatches_(r[Kt].base_,e,t)}else e=U_(t,r);return dU(t,e,!0),ty(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==qT?e:void 0}function U_(e,t){if(fm(t))return t;const r=t[Kt];if(!r)return zf(t,e.handledSet_,e);if(!hm(r,e))return t;if(!r.modified_)return r.base_;if(!r.finalized_){const{callbacks_:n}=r;if(n)for(;n.length>0;)n.pop()(e);GT(r,e)}return r.copy_}function dU(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Nb(t,r)}function VT(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var hm=(e,t)=>e.scope_===t,fU=[];function KT(e,t,r,n){const a=Un(e),i=e.type_;if(n!==void 0&&Jv(a,n,i)===t){Pf(a,n,r,i);return}if(!e.draftLocations_){const s=e.draftLocations_=new Map;lm(a,(c,u)=>{if(ca(u)){const d=s.get(u)||[];d.push(c),s.set(u,d)}})}const o=e.draftLocations_.get(t)??fU;for(const s of o)Pf(a,s,r,i)}function hU(e,t,r){e.callbacks_.push(function(a){var s;const i=t;if(!i||!hm(i,a))return;(s=a.mapSetPlugin_)==null||s.fixSetContents(i);const o=Tb(i);KT(e,i.draft_??i,o,r),GT(i,a)})}function GT(e,t){var n;if(e.modified_&&!e.finalized_&&(e.type_===3||e.type_===1&&e.allIndicesReassigned_||(((n=e.assigned_)==null?void 0:n.size)??0)>0)){const{patchPlugin_:a}=t;if(a){const i=a.getPath(e);i&&a.generatePatches_(e,i,t)}VT(e)}}function mU(e,t,r){const{scope_:n}=e;if(ca(r)){const a=r[Kt];hm(a,n)&&a.callbacks_.push(function(){Ld(e);const o=Tb(a);KT(e,r,o,t)})}else un(r)&&e.callbacks_.push(function(){const i=Un(e);e.type_===3?i.has(r)&&zf(r,n.handledSet_,n):Jv(i,t,e.type_)===r&&n.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&zf(Jv(e.copy_,t,e.type_),n.handledSet_,n)})}function zf(e,t,r){return!r.immer_.autoFreeze_&&r.unfinalizedDrafts_<1||ca(e)||t.has(e)||!un(e)||fm(e)||(t.add(e),lm(e,(n,a)=>{if(ca(a)){const i=a[Kt];if(hm(i,r)){const o=Tb(i);Pf(e,n,o,e.type_),VT(i)}}else un(a)&&zf(a,t,r)})),e}function pU(e,t){const r=cm(e),n={type_:r?1:0,scope_:t?t.scope_:FT(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let a=n,i=Bf;r&&(a=[n],i=jc);const{revoke:o,proxy:s}=Proxy.revocable(a,i);return n.draft_=s,n.revoke_=o,[s,n]}var Bf={get(e,t){if(t===Kt)return e;let r=e.scope_.arrayMethodsPlugin_;const n=e.type_===1&&typeof t=="string";if(n&&r!=null&&r.isArrayOperationMethod(t))return r.createMethodInterceptor(e,t);const a=Un(e);if(!M_(a,t,e.type_))return gU(e,a,t);const i=a[t];if(e.finalized_||!un(i)||n&&e.operationMethod&&(r!=null&&r.isMutatingArrayMethod(e.operationMethod))&&sU(t))return i;if(i===lg(e.base_,t)){Ld(e);const o=e.type_===1?+t:t,s=ay(e.scope_,i,e,o);return e.copy_[o]=s}return i},has(e,t){return t in Un(e)},ownKeys(e){return Reflect.ownKeys(Un(e))},set(e,t,r){const n=YT(Un(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const a=lg(Un(e),t),i=a==null?void 0:a[Kt];if(i&&i.base_===r)return e.copy_[t]=r,e.assigned_.set(t,!1),!0;if(oU(r,a)&&(r!==void 0||M_(e.base_,t,e.type_)))return!0;Ld(e),ny(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_.set(t,!0),mU(e,t,r)),!0},deleteProperty(e,t){return Ld(e),lg(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),ny(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=Un(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{[$d]:!0,[Zv]:e.type_!==1||t!=="length",[Df]:n[Df],[_c]:r[t]}},defineProperty(){nn(11)},getPrototypeOf(e){return Cs(e.base_)},setPrototypeOf(){nn(12)}},jc={};for(let e in Bf){let t=Bf[e];jc[e]=function(){const r=arguments;return r[0]=r[0][0],t.apply(this,r)}}jc.deleteProperty=function(e,t){return jc.set.call(this,e,t,void 0)};jc.set=function(e,t,r){return Bf.set.call(this,e[0],t,r,e[0])};function lg(e,t){const r=e[Kt];return(r?Un(r):e)[t]}function gU(e,t,r){var a;const n=YT(t,r);return n?_c in n?n[_c]:(a=n.get)==null?void 0:a.call(e.draft_):void 0}function YT(e,t){if(!(t in e))return;let r=Cs(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=Cs(r)}}function ny(e){e.modified_||(e.modified_=!0,e.parent_&&ny(e.parent_))}function Ld(e){e.copy_||(e.assigned_=new Map,e.copy_=Qv(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var vU=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(r,n,a)=>{if(Io(r)&&!Io(n)){const o=n;n=r;const s=this;return function(u=o,...d){return s.produce(u,f=>n.call(this,f,...d))}}Io(n)||nn(6),a!==void 0&&!Io(a)&&nn(7);let i;if(un(r)){const o=$_(this),s=ay(o,r,void 0);let c=!0;try{i=n(s),c=!1}finally{c?ty(o):ry(o)}return I_(o,a),L_(i,o)}else if(!r||!kb(r)){if(i=n(r),i===void 0&&(i=r),i===qT&&(i=void 0),this.autoFreeze_&&Nb(i,!0),a){const o=[],s=[];ro(ey).generateReplacementPatches_(r,i,{patches_:o,inversePatches_:s}),a(o,s)}return i}else nn(1,r)},this.produceWithPatches=(r,n)=>{if(Io(r))return(s,...c)=>this.produceWithPatches(s,u=>r(u,...c));let a,i;return[this.produce(r,n,(s,c)=>{a=s,i=c}),a,i]},sg(t==null?void 0:t.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),sg(t==null?void 0:t.useStrictShallowCopy)&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),sg(t==null?void 0:t.useStrictIteration)&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){un(t)||nn(8),ca(t)&&(t=sn(t));const r=$_(this),n=ay(r,t,void 0);return n[Kt].isManual_=!0,ry(r),n}finishDraft(t,r){const n=t&&t[Kt];(!n||!n.isManual_)&&nn(9);const{scope_:a}=n;return I_(a,r),L_(void 0,a)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,r){let n;for(n=r.length-1;n>=0;n--){const i=r[n];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}n>-1&&(r=r.slice(n+1));const a=ro(ey).applyPatches_;return ca(t)?a(t,r):this.produce(t,i=>a(i,r))}};function ay(e,t,r,n){const[a,i]=um(t)?ro(Mf).proxyMap_(t,r):dm(t)?ro(Mf).proxySet_(t,r):pU(t,r);return((r==null?void 0:r.scope_)??FT()).drafts_.push(a),i.callbacks_=(r==null?void 0:r.callbacks_)??[],i.key_=n,r&&n!==void 0?hU(r,i,n):i.callbacks_.push(function(c){var d;(d=c.mapSetPlugin_)==null||d.fixSetContents(i);const{patchPlugin_:u}=c;i.modified_&&u&&u.generatePatches_(i,[],c)}),a}function sn(e){return ca(e)||nn(10,e),XT(e)}function XT(e){if(!un(e)||fm(e))return e;const t=e[Kt];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=Qv(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=Qv(e,!0);return lm(r,(a,i)=>{Pf(r,a,XT(i))},n),t&&(t.finalized_=!1),r}var yU=new vU,ZT=yU.produce;function JT(e){return({dispatch:r,getState:n})=>a=>i=>typeof i=="function"?i(r,n,e):a(i)}var bU=JT(),xU=JT,wU=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Nf:Nf.apply(null,arguments)};function Vr(e,t){function r(...n){if(t){let a=t(...n);if(!a)throw new Error(jr(0));return{type:e,payload:a.payload,..."meta"in a&&{meta:a.meta},..."error"in a&&{error:a.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=n=>UT(n)&&n.type===e,r}var QT=class Nl extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,Nl.prototype)}static get[Symbol.species](){return Nl}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new Nl(...t[0].concat(this)):new Nl(...t.concat(this))}};function q_(e){return un(e)?ZT(e,()=>{}):e}function sd(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function _U(e){return typeof e=="boolean"}var SU=()=>function(t){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:a=!0,actionCreatorCheck:i=!0}=t??{};let o=new QT;return r&&(_U(r)?o.push(bU):o.push(xU(r.extraArgument))),o},eN="RTK_autoBatch",$e=()=>e=>({payload:e,meta:{[eN]:!0}}),W_=e=>t=>{setTimeout(t,e)},tN=(e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let a=!0,i=!1,o=!1;const s=new Set,c=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:W_(10):e.type==="callback"?e.queueNotification:W_(e.timeout),u=()=>{o=!1,i&&(i=!1,s.forEach(d=>d()))};return Object.assign({},n,{subscribe(d){const f=()=>a&&d(),h=n.subscribe(f);return s.add(d),()=>{h(),s.delete(d)}},dispatch(d){var f;try{return a=!((f=d==null?void 0:d.meta)!=null&&f[eN]),i=!a,i&&(o||(o=!0,c(u))),n.dispatch(d)}finally{a=!0}}})},jU=e=>function(r){const{autoBatch:n=!0}=r??{};let a=new QT(e);return n&&a.push(tN(typeof n=="object"?n:void 0)),a};function CU(e){const t=SU(),{reducer:r=void 0,middleware:n,devTools:a=!0,preloadedState:i=void 0,enhancers:o=void 0}=e||{};let s;if(typeof r=="function")s=r;else if(Ab(r))s=LT(r);else throw new Error(jr(1));let c;typeof n=="function"?c=n(t):c=t();let u=Nf;a&&(u=wU({trace:!1,...typeof a=="object"&&a}));const d=aU(...c),f=jU(d);let h=typeof o=="function"?o(f):f();const m=u(...h);return $T(s,i,m)}function rN(e){const t={},r=[];let n;const a={addCase(i,o){const s=typeof i=="string"?i:i.type;if(!s)throw new Error(jr(28));if(s in t)throw new Error(jr(29));return t[s]=o,a},addAsyncThunk(i,o){return o.pending&&(t[i.pending.type]=o.pending),o.rejected&&(t[i.rejected.type]=o.rejected),o.fulfilled&&(t[i.fulfilled.type]=o.fulfilled),o.settled&&r.push({matcher:i.settled,reducer:o.settled}),a},addMatcher(i,o){return r.push({matcher:i,reducer:o}),a},addDefaultCase(i){return n=i,a}};return e(a),[t,r,n]}function EU(e){return typeof e=="function"}function OU(e,t){let[r,n,a]=rN(t),i;if(EU(e))i=()=>q_(e());else{const s=q_(e);i=()=>s}function o(s=i(),c){let u=[r[c.type],...n.filter(({matcher:d})=>d(c)).map(({reducer:d})=>d)];return u.filter(d=>!!d).length===0&&(u=[a]),u.reduce((d,f)=>{if(f)if(ca(d)){const m=f(d,c);return m===void 0?d:m}else{if(un(d))return ZT(d,h=>f(h,c));{const h=f(d,c);if(h===void 0){if(d===null)return d;throw Error("A case reducer on a non-draftable value must not return undefined")}return h}}return d},s)}return o.getInitialState=i,o}var AU="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",kU=(e=21)=>{let t="",r=e;for(;r--;)t+=AU[Math.random()*64|0];return t},TU=Symbol.for("rtk-slice-createasyncthunk");function NU(e,t){return`${e}/${t}`}function RU({creators:e}={}){var r;const t=(r=e==null?void 0:e.asyncThunk)==null?void 0:r[TU];return function(a){const{name:i,reducerPath:o=i}=a;if(!i)throw new Error(jr(11));const s=(typeof a.reducers=="function"?a.reducers(PU()):a.reducers)||{},c=Object.keys(s),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},d={addCase(_,S){const j=typeof _=="string"?_:_.type;if(!j)throw new Error(jr(12));if(j in u.sliceCaseReducersByType)throw new Error(jr(13));return u.sliceCaseReducersByType[j]=S,d},addMatcher(_,S){return u.sliceMatchers.push({matcher:_,reducer:S}),d},exposeAction(_,S){return u.actionCreators[_]=S,d},exposeCaseReducer(_,S){return u.sliceCaseReducersByName[_]=S,d}};c.forEach(_=>{const S=s[_],j={reducerName:_,type:NU(i,_),createNotation:typeof a.reducers=="function"};zU(S)?IU(j,S,d,t):MU(j,S,d)});function f(){const[_={},S=[],j=void 0]=typeof a.extraReducers=="function"?rN(a.extraReducers):[a.extraReducers],C={..._,...u.sliceCaseReducersByType};return OU(a.initialState,E=>{for(let k in C)E.addCase(k,C[k]);for(let k of u.sliceMatchers)E.addMatcher(k.matcher,k.reducer);for(let k of S)E.addMatcher(k.matcher,k.reducer);j&&E.addDefaultCase(j)})}const h=_=>_,m=new Map,v=new WeakMap;let x;function b(_,S){return x||(x=f()),x(_,S)}function y(){return x||(x=f()),x.getInitialState()}function g(_,S=!1){function j(E){let k=E[_];return typeof k>"u"&&S&&(k=sd(v,j,y)),k}function C(E=h){const k=sd(m,S,()=>new WeakMap);return sd(k,E,()=>{const A={};for(const[N,T]of Object.entries(a.selectors??{}))A[N]=DU(T,E,()=>sd(v,E,y),S);return A})}return{reducerPath:_,getSelectors:C,get selectors(){return C(j)},selectSlice:j}}const w={name:i,reducer:b,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:y,...g(o),injectInto(_,{reducerPath:S,...j}={}){const C=S??o;return _.inject({reducerPath:C,reducer:b},j),{...w,...g(C,!0)}}};return w}}function DU(e,t,r,n){function a(i,...o){let s=t(i);return typeof s>"u"&&n&&(s=r()),e(s,...o)}return a.unwrapped=e,a}var or=RU();function PU(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function MU({type:e,reducerName:t,createNotation:r},n,a){let i,o;if("reducer"in n){if(r&&!BU(n))throw new Error(jr(17));i=n.reducer,o=n.prepare}else i=n;a.addCase(e,i).exposeCaseReducer(t,i).exposeAction(t,o?Vr(e,o):Vr(e))}function zU(e){return e._reducerDefinitionType==="asyncThunk"}function BU(e){return e._reducerDefinitionType==="reducerWithPrepare"}function IU({type:e,reducerName:t},r,n,a){if(!a)throw new Error(jr(18));const{payloadCreator:i,fulfilled:o,pending:s,rejected:c,settled:u,options:d}=r,f=a(e,i,d);n.exposeAction(t,f),o&&n.addCase(f.fulfilled,o),s&&n.addCase(f.pending,s),c&&n.addCase(f.rejected,c),u&&n.addMatcher(f.settled,u),n.exposeCaseReducer(t,{fulfilled:o||ld,pending:s||ld,rejected:c||ld,settled:u||ld})}function ld(){}var $U="task",nN="listener",aN="completed",Rb="cancelled",LU=`task-${Rb}`,UU=`task-${aN}`,iy=`${nN}-${Rb}`,qU=`${nN}-${aN}`,mm=class{constructor(e){lp(this,"name","TaskAbortError");lp(this,"message");this.code=e,this.message=`${$U} ${Rb} (reason: ${e})`}},Db=(e,t)=>{if(typeof e!="function")throw new TypeError(jr(32))},If=()=>{},iN=(e,t=If)=>(e.catch(t),e),oN=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),Vi=e=>{if(e.aborted)throw new mm(e.reason)};function sN(e,t){let r=If;return new Promise((n,a)=>{const i=()=>a(new mm(e.reason));if(e.aborted){i();return}r=oN(e,i),t.finally(()=>r()).then(n,a)}).finally(()=>{r=If})}var WU=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof mm?"cancelled":"rejected",error:r}}finally{t==null||t()}},$f=e=>t=>iN(sN(e,t).then(r=>(Vi(e),r))),lN=e=>{const t=$f(e);return r=>t(new Promise(n=>setTimeout(n,r)))},{assign:ss}=Object,H_={},pm="listenerMiddleware",HU=(e,t)=>{const r=n=>oN(e,()=>n.abort(e.reason));return(n,a)=>{Db(n);const i=new AbortController;r(i);const o=WU(async()=>{Vi(e),Vi(i.signal);const s=await n({pause:$f(i.signal),delay:lN(i.signal),signal:i.signal});return Vi(i.signal),s},()=>i.abort(UU));return a!=null&&a.autoJoin&&t.push(o.catch(If)),{result:$f(e)(o),cancel(){i.abort(LU)}}}},FU=(e,t)=>{const r=async(n,a)=>{Vi(t);let i=()=>{};const s=[new Promise((c,u)=>{let d=e({predicate:n,effect:(f,h)=>{h.unsubscribe(),c([f,h.getState(),h.getOriginalState()])}});i=()=>{d(),u()}})];a!=null&&s.push(new Promise(c=>setTimeout(c,a,null)));try{const c=await sN(t,Promise.race(s));return Vi(t),c}finally{i()}};return(n,a)=>iN(r(n,a))},cN=e=>{let{type:t,actionCreator:r,matcher:n,predicate:a,effect:i}=e;if(t)a=Vr(t).match;else if(r)t=r.type,a=r.match;else if(n)a=n;else if(!a)throw new Error(jr(21));return Db(i),{predicate:a,type:t,effect:i}},uN=ss(e=>{const{type:t,predicate:r,effect:n}=cN(e);return{id:kU(),effect:n,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(jr(22))}}},{withTypes:()=>uN}),F_=(e,t)=>{const{type:r,effect:n,predicate:a}=cN(t);return Array.from(e.values()).find(i=>(typeof r=="string"?i.type===r:i.predicate===a)&&i.effect===n)},oy=e=>{e.pending.forEach(t=>{t.abort(iy)})},VU=(e,t)=>()=>{for(const r of t.keys())oy(r);e.clear()},V_=(e,t,r)=>{try{e(t,r)}catch(n){setTimeout(()=>{throw n},0)}},dN=ss(Vr(`${pm}/add`),{withTypes:()=>dN}),KU=Vr(`${pm}/removeAll`),fN=ss(Vr(`${pm}/remove`),{withTypes:()=>fN}),GU=(...e)=>{console.error(`${pm}/error`,...e)},su=(e={})=>{const t=new Map,r=new Map,n=m=>{const v=r.get(m)??0;r.set(m,v+1)},a=m=>{const v=r.get(m)??1;v===1?r.delete(m):r.set(m,v-1)},{extra:i,onError:o=GU}=e;Db(o);const s=m=>(m.unsubscribe=()=>t.delete(m.id),t.set(m.id,m),v=>{m.unsubscribe(),v!=null&&v.cancelActive&&oy(m)}),c=m=>{const v=F_(t,m)??uN(m);return s(v)};ss(c,{withTypes:()=>c});const u=m=>{const v=F_(t,m);return v&&(v.unsubscribe(),m.cancelActive&&oy(v)),!!v};ss(u,{withTypes:()=>u});const d=async(m,v,x,b)=>{const y=new AbortController,g=FU(c,y.signal),w=[];try{m.pending.add(y),n(m),await Promise.resolve(m.effect(v,ss({},x,{getOriginalState:b,condition:(_,S)=>g(_,S).then(Boolean),take:g,delay:lN(y.signal),pause:$f(y.signal),extra:i,signal:y.signal,fork:HU(y.signal,w),unsubscribe:m.unsubscribe,subscribe:()=>{t.set(m.id,m)},cancelActiveListeners:()=>{m.pending.forEach((_,S,j)=>{_!==y&&(_.abort(iy),j.delete(_))})},cancel:()=>{y.abort(iy),m.pending.delete(y)},throwIfCancelled:()=>{Vi(y.signal)}})))}catch(_){_ instanceof mm||V_(o,_,{raisedBy:"effect"})}finally{await Promise.all(w),y.abort(qU),a(m),m.pending.delete(y)}},f=VU(t,r);return{middleware:m=>v=>x=>{if(!UT(x))return v(x);if(dN.match(x))return c(x.payload);if(KU.match(x)){f();return}if(fN.match(x))return u(x.payload);let b=m.getState();const y=()=>{if(b===H_)throw new Error(jr(23));return b};let g;try{if(g=v(x),t.size>0){const w=m.getState(),_=Array.from(t.values());for(const S of _){let j=!1;try{j=S.predicate(x,w,b)}catch(C){j=!1,V_(o,C,{raisedBy:"predicate"})}j&&d(S,x,m,y)}}}finally{b=H_}return g},startListening:c,stopListening:u,clearListeners:f}};function jr(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var YU={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},hN=or({name:"chartLayout",initialState:YU,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var r,n,a,i;e.margin.top=(r=t.payload.top)!==null&&r!==void 0?r:0,e.margin.right=(n=t.payload.right)!==null&&n!==void 0?n:0,e.margin.bottom=(a=t.payload.bottom)!==null&&a!==void 0?a:0,e.margin.left=(i=t.payload.left)!==null&&i!==void 0?i:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:XU,setLayout:ZU,setChartSize:JU,setScale:QU}=hN.actions,e9=hN.reducer;function mN(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}function qe(e){return Number.isFinite(e)}function kn(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function K_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Zo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?K_(Object(r),!0).forEach(function(n){t9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):K_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function t9(e,t,r){return(t=r9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function r9(e){var t=n9(e,"string");return typeof t=="symbol"?t:t+""}function n9(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zt(e,t,r){return St(e)||St(t)?r:An(t)?Ss(e,t,r):typeof t=="function"?t(e):r}var a9=(e,t,r)=>{if(t&&r){var{width:n,height:a}=r,{align:i,verticalAlign:o,layout:s}=t;if((s==="vertical"||s==="horizontal"&&o==="middle")&&i!=="center"&&Z(e[i]))return Zo(Zo({},e),{},{[i]:e[i]+(n||0)});if((s==="horizontal"||s==="vertical"&&i==="center")&&o!=="middle"&&Z(e[o]))return Zo(Zo({},e),{},{[o]:e[o]+(a||0)})}return e},po=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",pN=(e,t,r,n)=>{if(n)return e.map(s=>s.coordinate);var a,i,o=e.map(s=>(s.coordinate===t&&(a=!0),s.coordinate===r&&(i=!0),s.coordinate));return a||o.push(t),i||o.push(r),o},gN=(e,t,r)=>{if(!e)return null;var{duplicateDomain:n,type:a,range:i,scale:o,realScaleType:s,isCategorical:c,categoricalDomain:u,tickCount:d,ticks:f,niceTicks:h,axisType:m}=e;if(!o)return null;var v=s==="scaleBand"&&o.bandwidth?o.bandwidth()/2:2,x=a==="category"&&o.bandwidth?o.bandwidth()/v:0;if(x=m==="angleAxis"&&i&&i.length>=2?tr(i[0]-i[1])*2*x:x,f||h){var b=(f||h||[]).map((y,g)=>{var w=n?n.indexOf(y):y;return{coordinate:o(w)+x,value:y,offset:x,index:g}});return b.filter(y=>!ln(y.coordinate))}return c&&u?u.map((y,g)=>({coordinate:o(y)+x,value:y,index:g,offset:x})):o.ticks&&d!=null?o.ticks(d).map((y,g)=>({coordinate:o(y)+x,value:y,offset:x,index:g})):o.domain().map((y,g)=>({coordinate:o(y)+x,value:n?n[y]:y,index:g,offset:x}))},G_=1e-4,i9=e=>{var t=e.domain();if(!(!t||t.length<=2)){var r=t.length,n=e.range(),a=Math.min(n[0],n[1])-G_,i=Math.max(n[0],n[1])+G_,o=e(t[0]),s=e(t[r-1]);(o<a||o>i||s<a||s>i)&&e.domain([t[0],t[r-1]])}},o9=(e,t)=>{if(!t||t.length!==2||!Z(t[0])||!Z(t[1]))return e;var r=Math.min(t[0],t[1]),n=Math.max(t[0],t[1]),a=[e[0],e[1]];return(!Z(e[0])||e[0]<r)&&(a[0]=r),(!Z(e[1])||e[1]>n)&&(a[1]=n),a[0]>n&&(a[0]=n),a[1]<r&&(a[1]=r),a},s9=e=>{var t,r=e.length;if(!(r<=0)){var n=(t=e[0])===null||t===void 0?void 0:t.length;if(!(n==null||n<=0))for(var a=0;a<n;++a)for(var i=0,o=0,s=0;s<r;++s){var c=e[s],u=c==null?void 0:c[a];if(u!=null){var d=u[1],f=u[0],h=ln(d)?f:d;h>=0?(u[0]=i,u[1]=i+h,i=d):(u[0]=o,u[1]=o+h,o=d)}}}},l9=e=>{var t,r=e.length;if(!(r<=0)){var n=(t=e[0])===null||t===void 0?void 0:t.length;if(!(n==null||n<=0))for(var a=0;a<n;++a)for(var i=0,o=0;o<r;++o){var s=e[o],c=s==null?void 0:s[a];if(c!=null){var u=ln(c[1])?c[0]:c[1];u>=0?(c[0]=i,c[1]=i+u,i=c[1]):(c[0]=0,c[1]=0)}}}},c9={sign:s9,expand:K$,none:to,silhouette:G$,wiggle:Y$,positive:l9},u9=(e,t,r)=>{var n,a=(n=c9[r])!==null&&n!==void 0?n:to,i=V$().keys(t).value((s,c)=>Number(zt(s,c,0))).order(Yv).offset(a),o=i(e);return o.forEach((s,c)=>{s.forEach((u,d)=>{var f=zt(e[d],t[c],0);Array.isArray(f)&&f.length===2&&Z(f[0])&&Z(f[1])&&(u[0]=f[0],u[1]=f[1])})}),o};function d9(e){return e==null?void 0:String(e)}var Y_=e=>{var{axis:t,ticks:r,offset:n,bandSize:a,entry:i,index:o}=e;if(t.type==="category")return r[o]?r[o].coordinate+n:null;var s=zt(i,t.dataKey,t.scale.domain()[o]);return St(s)?null:t.scale(s)-a/2+n},f9=e=>{var{numericAxis:t}=e,r=t.scale.domain();if(t.type==="number"){var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]);return n<=0&&a>=0?0:a<0?a:n}return r[0]},h9=e=>{var t=e.flat(2).filter(Z);return[Math.min(...t),Math.max(...t)]},m9=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],p9=(e,t,r)=>{if(e!=null)return m9(Object.keys(e).reduce((n,a)=>{var i=e[a];if(!i)return n;var{stackedData:o}=i,s=o.reduce((c,u)=>{var d=mN(u,t,r),f=h9(d);return!qe(f[0])||!qe(f[1])?c:[Math.min(c[0],f[0]),Math.max(c[1],f[1])]},[1/0,-1/0]);return[Math.min(s[0],n[0]),Math.max(s[1],n[1])]},[1/0,-1/0]))},X_=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Z_=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Lf=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&t&&t.length>=2){for(var a=om(t,d=>d.coordinate),i=1/0,o=1,s=a.length;o<s;o++){var c=a[o],u=a[o-1];i=Math.min(((c==null?void 0:c.coordinate)||0)-((u==null?void 0:u.coordinate)||0),i)}return i===1/0?0:i}return r?void 0:0};function J_(e){var{tooltipEntrySettings:t,dataKey:r,payload:n,value:a,name:i}=e;return Zo(Zo({},t),{},{dataKey:r,payload:n,value:a,name:i})}function vN(e,t){if(e)return String(e);if(typeof t=="string")return t}var g9=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},v9=(e,t)=>t==="centric"?e.angle:e.radius,ya=e=>e.layout.width,ba=e=>e.layout.height,y9=e=>e.layout.scale,yN=e=>e.layout.margin,gm=z(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),vm=z(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),b9="data-recharts-item-index",x9="data-recharts-item-id",lu=60;function Q_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function cd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Q_(Object(r),!0).forEach(function(n){w9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Q_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function w9(e,t,r){return(t=_9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _9(e){var t=S9(e,"string");return typeof t=="symbol"?t:t+""}function S9(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var j9=e=>e.brush.height;function C9(e){var t=vm(e);return t.reduce((r,n)=>{if(n.orientation==="left"&&!n.mirror&&!n.hide){var a=typeof n.width=="number"?n.width:lu;return r+a}return r},0)}function E9(e){var t=vm(e);return t.reduce((r,n)=>{if(n.orientation==="right"&&!n.mirror&&!n.hide){var a=typeof n.width=="number"?n.width:lu;return r+a}return r},0)}function O9(e){var t=gm(e);return t.reduce((r,n)=>n.orientation==="top"&&!n.mirror&&!n.hide?r+n.height:r,0)}function A9(e){var t=gm(e);return t.reduce((r,n)=>n.orientation==="bottom"&&!n.mirror&&!n.hide?r+n.height:r,0)}var jt=z([ya,ba,yN,j9,C9,E9,O9,A9,IT,JL],(e,t,r,n,a,i,o,s,c,u)=>{var d={left:(r.left||0)+a,right:(r.right||0)+i},f={top:(r.top||0)+o,bottom:(r.bottom||0)+s},h=cd(cd({},f),d),m=h.bottom;h.bottom+=n,h=a9(h,c,u);var v=e-h.left-h.right,x=t-h.top-h.bottom;return cd(cd({brushBottom:m},h),{},{width:Math.max(v,0),height:Math.max(x,0)})}),k9=z(jt,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),Pb=z(ya,ba,(e,t)=>({x:0,y:0,width:e,height:t})),T9=p.createContext(null),sr=()=>p.useContext(T9)!=null,ym=e=>e.brush,bm=z([ym,jt,yN],(e,t,r)=>({height:e.height,x:Z(e.x)?e.x:t.left,y:Z(e.y)?e.y:t.top+t.height+t.brushBottom-((r==null?void 0:r.bottom)||0),width:Z(e.width)?e.width:t.width})),bN={},xN={},wN={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n,{signal:a,edges:i}={}){let o,s=null;const c=i!=null&&i.includes("leading"),u=i==null||i.includes("trailing"),d=()=>{s!==null&&(r.apply(o,s),o=void 0,s=null)},f=()=>{u&&d(),x()};let h=null;const m=()=>{h!=null&&clearTimeout(h),h=setTimeout(()=>{h=null,f()},n)},v=()=>{h!==null&&(clearTimeout(h),h=null)},x=()=>{v(),o=void 0,s=null},b=()=>{d()},y=function(...g){if(a!=null&&a.aborted)return;o=this,s=g;const w=h==null;m(),c&&w&&d()};return y.schedule=m,y.cancel=x,y.flush=b,a==null||a.addEventListener("abort",x,{once:!0}),y}e.debounce=t})(wN);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=wN;function r(n,a=0,i={}){typeof i!="object"&&(i={});const{leading:o=!1,trailing:s=!0,maxWait:c}=i,u=Array(2);o&&(u[0]="leading"),s&&(u[1]="trailing");let d,f=null;const h=t.debounce(function(...x){d=n.apply(this,x),f=null},a,{edges:u}),m=function(...x){return c!=null&&(f===null&&(f=Date.now()),Date.now()-f>=c)?(d=n.apply(this,x),f=Date.now(),h.cancel(),h.schedule(),d):(h.apply(this,x),d)},v=()=>(h.flush(),d);return m.cancel=h.cancel,m.flush=v,m}e.debounce=r})(xN);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=xN;function r(n,a=0,i={}){const{leading:o=!0,trailing:s=!0}=i;return t.debounce(n,a,{leading:o,maxWait:a,trailing:s})}e.throttle=r})(bN);var N9=bN.throttle;const R9=ga(N9);var Uf=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),i=2;i<n;i++)a[i-2]=arguments[i];if(typeof console<"u"&&console.warn&&(r===void 0&&console.warn("LogUtils requires an error message argument"),!t))if(r===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var o=0;console.warn(r.replace(/%s/g,()=>a[o++]))}},_N=(e,t,r)=>{var{width:n="100%",height:a="100%",aspect:i,maxHeight:o}=r,s=la(n)?e:Number(n),c=la(a)?t:Number(a);return i&&i>0&&(s?c=s/i:c&&(s=c*i),o&&c!=null&&c>o&&(c=o)),{calculatedWidth:s,calculatedHeight:c}},D9={width:0,height:0,overflow:"visible"},P9={width:0,overflowX:"visible"},M9={height:0,overflowY:"visible"},z9={},B9=e=>{var{width:t,height:r}=e,n=la(t),a=la(r);return n&&a?D9:n?P9:a?M9:z9};function I9(e){var{width:t,height:r,aspect:n}=e,a=t,i=r;return a===void 0&&i===void 0?(a="100%",i="100%"):a===void 0?a=n&&n>0?void 0:"100%":i===void 0&&(i=n&&n>0?void 0:"100%"),{width:a,height:i}}function sy(){return sy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},sy.apply(null,arguments)}function eS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function tS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?eS(Object(r),!0).forEach(function(n){$9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $9(e,t,r){return(t=L9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function L9(e){var t=U9(e,"string");return typeof t=="symbol"?t:t+""}function U9(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var SN=p.createContext({width:-1,height:-1});function q9(e){return kn(e.width)&&kn(e.height)}function jN(e){var{children:t,width:r,height:n}=e,a=p.useMemo(()=>({width:r,height:n}),[r,n]);return q9(a)?p.createElement(SN.Provider,{value:a},t):null}var Mb=()=>p.useContext(SN),W9=p.forwardRef((e,t)=>{var{aspect:r,initialDimension:n={width:-1,height:-1},width:a,height:i,minWidth:o=0,minHeight:s,maxHeight:c,children:u,debounce:d=0,id:f,className:h,onResize:m,style:v={}}=e,x=p.useRef(null),b=p.useRef();b.current=m,p.useImperativeHandle(t,()=>x.current);var[y,g]=p.useState({containerWidth:n.width,containerHeight:n.height}),w=p.useCallback((E,k)=>{g(A=>{var N=Math.round(E),T=Math.round(k);return A.containerWidth===N&&A.containerHeight===T?A:{containerWidth:N,containerHeight:T}})},[]);p.useEffect(()=>{if(x.current==null||typeof ResizeObserver>"u")return iu;var E=T=>{var I,{width:L,height:H}=T[0].contentRect;w(L,H),(I=b.current)===null||I===void 0||I.call(b,L,H)};d>0&&(E=R9(E,d,{trailing:!0,leading:!1}));var k=new ResizeObserver(E),{width:A,height:N}=x.current.getBoundingClientRect();return w(A,N),k.observe(x.current),()=>{k.disconnect()}},[w,d]);var{containerWidth:_,containerHeight:S}=y;Uf(!r||r>0,"The aspect(%s) must be greater than zero.",r);var{calculatedWidth:j,calculatedHeight:C}=_N(_,S,{width:a,height:i,aspect:r,maxHeight:c});return Uf(j!=null&&j>0||C!=null&&C>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,j,C,a,i,o,s,r),p.createElement("div",{id:f?"".concat(f):void 0,className:Be("recharts-responsive-container",h),style:tS(tS({},v),{},{width:a,height:i,minWidth:o,minHeight:s,maxHeight:c}),ref:x},p.createElement("div",{style:B9({width:a,height:i})},p.createElement(jN,{width:j,height:C},u)))}),H9=p.forwardRef((e,t)=>{var r=Mb();if(kn(r.width)&&kn(r.height))return e.children;var{width:n,height:a}=I9({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:i,calculatedHeight:o}=_N(void 0,void 0,{width:n,height:a,aspect:e.aspect,maxHeight:e.maxHeight});return Z(i)&&Z(o)?p.createElement(jN,{width:i,height:o},e.children):p.createElement(W9,sy({},e,{width:n,height:a,ref:t}))});function CN(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var xm=()=>{var e,t=sr(),r=te(k9),n=te(bm),a=(e=te(ym))===null||e===void 0?void 0:e.padding;return!t||!n||!a?r:{width:n.width-a.left-a.right,height:n.height-a.top-a.bottom,x:a.left,y:a.top}},F9={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},EN=()=>{var e;return(e=te(jt))!==null&&e!==void 0?e:F9},ON=()=>te(ya),AN=()=>te(ba),_e=e=>e.layout.layoutType,cu=()=>te(_e),V9=()=>{var e=cu();return e!==void 0},wm=e=>{var t=Xe(),r=sr(),{width:n,height:a}=e,i=Mb(),o=n,s=a;return i&&(o=i.width>0?i.width:n,s=i.height>0?i.height:a),p.useEffect(()=>{!r&&kn(o)&&kn(s)&&t(JU({width:o,height:s}))},[t,r,o,s]),null},kN=Symbol.for("immer-nothing"),rS=Symbol.for("immer-draftable"),Or=Symbol.for("immer-state");function an(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Cc=Object.getPrototypeOf;function Es(e){return!!e&&!!e[Or]}function no(e){var t;return e?TN(e)||Array.isArray(e)||!!e[rS]||!!((t=e.constructor)!=null&&t[rS])||uu(e)||Sm(e):!1}var K9=Object.prototype.constructor.toString(),nS=new WeakMap;function TN(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(r===Object)return!0;if(typeof r!="function")return!1;let n=nS.get(r);return n===void 0&&(n=Function.toString.call(r),nS.set(r,n)),n===K9}function qf(e,t,r=!0){_m(e)===0?(r?Reflect.ownKeys(e):Object.keys(e)).forEach(a=>{t(a,e[a],e)}):e.forEach((n,a)=>t(a,n,e))}function _m(e){const t=e[Or];return t?t.type_:Array.isArray(e)?1:uu(e)?2:Sm(e)?3:0}function ly(e,t){return _m(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function NN(e,t,r){const n=_m(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function G9(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function uu(e){return e instanceof Map}function Sm(e){return e instanceof Set}function Ni(e){return e.copy_||e.base_}function cy(e,t){if(uu(e))return new Map(e);if(Sm(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=TN(e);if(t===!0||t==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(e);delete n[Or];let a=Reflect.ownKeys(n);for(let i=0;i<a.length;i++){const o=a[i],s=n[o];s.writable===!1&&(s.writable=!0,s.configurable=!0),(s.get||s.set)&&(n[o]={configurable:!0,writable:!0,enumerable:s.enumerable,value:e[o]})}return Object.create(Cc(e),n)}else{const n=Cc(e);if(n!==null&&r)return{...e};const a=Object.create(n);return Object.assign(a,e)}}function zb(e,t=!1){return jm(e)||Es(e)||!no(e)||(_m(e)>1&&Object.defineProperties(e,{set:ud,add:ud,clear:ud,delete:ud}),Object.freeze(e),t&&Object.values(e).forEach(r=>zb(r,!0))),e}function Y9(){an(2)}var ud={value:Y9};function jm(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var X9={};function ao(e){const t=X9[e];return t||an(0,e),t}var Ec;function RN(){return Ec}function Z9(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function aS(e,t){t&&(ao("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function uy(e){dy(e),e.drafts_.forEach(J9),e.drafts_=null}function dy(e){e===Ec&&(Ec=e.parent_)}function iS(e){return Ec=Z9(Ec,e)}function J9(e){const t=e[Or];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function oS(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[Or].modified_&&(uy(t),an(4)),no(e)&&(e=Wf(t,e),t.parent_||Hf(t,e)),t.patches_&&ao("Patches").generateReplacementPatches_(r[Or].base_,e,t.patches_,t.inversePatches_)):e=Wf(t,r,[]),uy(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==kN?e:void 0}function Wf(e,t,r){if(jm(t))return t;const n=e.immer_.shouldUseStrictIteration(),a=t[Or];if(!a)return qf(t,(i,o)=>sS(e,a,t,i,o,r),n),t;if(a.scope_!==e)return t;if(!a.modified_)return Hf(e,a.base_,!0),a.base_;if(!a.finalized_){a.finalized_=!0,a.scope_.unfinalizedDrafts_--;const i=a.copy_;let o=i,s=!1;a.type_===3&&(o=new Set(i),i.clear(),s=!0),qf(o,(c,u)=>sS(e,a,i,c,u,r,s),n),Hf(e,i,!1),r&&e.patches_&&ao("Patches").generatePatches_(a,r,e.patches_,e.inversePatches_)}return a.copy_}function sS(e,t,r,n,a,i,o){if(a==null||typeof a!="object"&&!o)return;const s=jm(a);if(!(s&&!o)){if(Es(a)){const c=i&&t&&t.type_!==3&&!ly(t.assigned_,n)?i.concat(n):void 0,u=Wf(e,a,c);if(NN(r,n,u),Es(u))e.canAutoFreeze_=!1;else return}else o&&r.add(a);if(no(a)&&!s){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[n]===a&&s)return;Wf(e,a),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&(uu(r)?r.has(n):Object.prototype.propertyIsEnumerable.call(r,n))&&Hf(e,a)}}}function Hf(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&zb(t,r)}function Q9(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:RN(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=n,i=Bb;r&&(a=[n],i=Oc);const{revoke:o,proxy:s}=Proxy.revocable(a,i);return n.draft_=s,n.revoke_=o,s}var Bb={get(e,t){if(t===Or)return e;const r=Ni(e);if(!ly(r,t))return e7(e,r,t);const n=r[t];return e.finalized_||!no(n)?n:n===cg(e.base_,t)?(ug(e),e.copy_[t]=hy(n,e)):n},has(e,t){return t in Ni(e)},ownKeys(e){return Reflect.ownKeys(Ni(e))},set(e,t,r){const n=DN(Ni(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const a=cg(Ni(e),t),i=a==null?void 0:a[Or];if(i&&i.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(G9(r,a)&&(r!==void 0||ly(e.base_,t)))return!0;ug(e),fy(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return cg(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,ug(e),fy(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=Ni(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){an(11)},getPrototypeOf(e){return Cc(e.base_)},setPrototypeOf(){an(12)}},Oc={};qf(Bb,(e,t)=>{Oc[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});Oc.deleteProperty=function(e,t){return Oc.set.call(this,e,t,void 0)};Oc.set=function(e,t,r){return Bb.set.call(this,e[0],t,r,e[0])};function cg(e,t){const r=e[Or];return(r?Ni(r):e)[t]}function e7(e,t,r){var a;const n=DN(t,r);return n?"value"in n?n.value:(a=n.get)==null?void 0:a.call(e.draft_):void 0}function DN(e,t){if(!(t in e))return;let r=Cc(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=Cc(r)}}function fy(e){e.modified_||(e.modified_=!0,e.parent_&&fy(e.parent_))}function ug(e){e.copy_||(e.copy_=cy(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var t7=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){const i=r;r=t;const o=this;return function(c=i,...u){return o.produce(c,d=>r.call(this,d,...u))}}typeof r!="function"&&an(6),n!==void 0&&typeof n!="function"&&an(7);let a;if(no(t)){const i=iS(this),o=hy(t,void 0);let s=!0;try{a=r(o),s=!1}finally{s?uy(i):dy(i)}return aS(i,n),oS(a,i)}else if(!t||typeof t!="object"){if(a=r(t),a===void 0&&(a=t),a===kN&&(a=void 0),this.autoFreeze_&&zb(a,!0),n){const i=[],o=[];ao("Patches").generateReplacementPatches_(t,a,i,o),n(i,o)}return a}else an(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(o,...s)=>this.produceWithPatches(o,c=>t(c,...s));let n,a;return[this.produce(t,r,(o,s)=>{n=o,a=s}),n,a]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof(e==null?void 0:e.useStrictIteration)=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){no(e)||an(8),Es(e)&&(e=r7(e));const t=iS(this),r=hy(e,void 0);return r[Or].isManual_=!0,dy(t),r}finishDraft(e,t){const r=e&&e[Or];(!r||!r.isManual_)&&an(9);const{scope_:n}=r;return aS(n,t),oS(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const a=t[r];if(a.path.length===0&&a.op==="replace"){e=a.value;break}}r>-1&&(t=t.slice(r+1));const n=ao("Patches").applyPatches_;return Es(e)?n(e,t):this.produce(e,a=>n(a,t))}};function hy(e,t){const r=uu(e)?ao("MapSet").proxyMap_(e,t):Sm(e)?ao("MapSet").proxySet_(e,t):Q9(e,t);return(t?t.scope_:RN()).drafts_.push(r),r}function r7(e){return Es(e)||an(10,e),PN(e)}function PN(e){if(!no(e)||jm(e))return e;const t=e[Or];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=cy(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=cy(e,!0);return qf(r,(a,i)=>{NN(r,a,PN(i))},n),t&&(t.finalized_=!1),r}var n7=new t7;n7.produce;var a7={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},MN=or({name:"legend",initialState:a7,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:$e()},replaceLegendPayload:{reducer(e,t){var{prev:r,next:n}=t.payload,a=sn(e).payload.indexOf(r);a>-1&&(e.payload[a]=n)},prepare:$e()},removeLegendPayload:{reducer(e,t){var r=sn(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)},prepare:$e()}}}),{setLegendSize:Sre,setLegendSettings:jre,addLegendPayload:i7,replaceLegendPayload:o7,removeLegendPayload:s7}=MN.actions,l7=MN.reducer;function my(){return my=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},my.apply(null,arguments)}function lS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function dg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lS(Object(r),!0).forEach(function(n){c7(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function c7(e,t,r){return(t=u7(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function u7(e){var t=d7(e,"string");return typeof t=="symbol"?t:t+""}function d7(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function f7(e){return Array.isArray(e)&&An(e[0])&&An(e[1])?e.join(" ~ "):e}var h7=e=>{var{separator:t=" : ",contentStyle:r={},itemStyle:n={},labelStyle:a={},payload:i,formatter:o,itemSorter:s,wrapperClassName:c,labelClassName:u,label:d,labelFormatter:f,accessibilityLayer:h=!1}=e,m=()=>{if(i&&i.length){var S={padding:0,margin:0},j=(s?om(i,s):i).map((C,E)=>{if(C.type==="none")return null;var k=C.formatter||o||f7,{value:A,name:N}=C,T=A,I=N;if(k){var L=k(A,N,C,E,i);if(Array.isArray(L))[T,I]=L;else if(L!=null)T=L;else return null}var H=dg({display:"block",paddingTop:4,paddingBottom:4,color:C.color||"#000"},n);return p.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(E),style:H},An(I)?p.createElement("span",{className:"recharts-tooltip-item-name"},I):null,An(I)?p.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,p.createElement("span",{className:"recharts-tooltip-item-value"},T),p.createElement("span",{className:"recharts-tooltip-item-unit"},C.unit||""))});return p.createElement("ul",{className:"recharts-tooltip-item-list",style:S},j)}return null},v=dg({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),x=dg({margin:0},a),b=!St(d),y=b?d:"",g=Be("recharts-default-tooltip",c),w=Be("recharts-tooltip-label",u);b&&f&&i!==void 0&&i!==null&&(y=f(d,i));var _=h?{role:"status","aria-live":"assertive"}:{};return p.createElement("div",my({className:g,style:v},_),p.createElement("p",{className:w,style:x},p.isValidElement(y)?y:"".concat(y)),m())},vl="recharts-tooltip-wrapper",m7={visibility:"hidden"};function p7(e){var{coordinate:t,translateX:r,translateY:n}=e;return Be(vl,{["".concat(vl,"-right")]:Z(r)&&t&&Z(t.x)&&r>=t.x,["".concat(vl,"-left")]:Z(r)&&t&&Z(t.x)&&r<t.x,["".concat(vl,"-bottom")]:Z(n)&&t&&Z(t.y)&&n>=t.y,["".concat(vl,"-top")]:Z(n)&&t&&Z(t.y)&&n<t.y})}function cS(e){var{allowEscapeViewBox:t,coordinate:r,key:n,offsetTopLeft:a,position:i,reverseDirection:o,tooltipDimension:s,viewBox:c,viewBoxDimension:u}=e;if(i&&Z(i[n]))return i[n];var d=r[n]-s-(a>0?a:0),f=r[n]+a;if(t[n])return o[n]?d:f;var h=c[n];if(h==null)return 0;if(o[n]){var m=d,v=h;return m<v?Math.max(f,h):Math.max(d,h)}if(u==null)return 0;var x=f+s,b=h+u;return x>b?Math.max(d,h):Math.max(f,h)}function g7(e){var{translateX:t,translateY:r,useTranslate3d:n}=e;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function v7(e){var{allowEscapeViewBox:t,coordinate:r,offsetTopLeft:n,position:a,reverseDirection:i,tooltipBox:o,useTranslate3d:s,viewBox:c}=e,u,d,f;return o.height>0&&o.width>0&&r?(d=cS({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),f=cS({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),u=g7({translateX:d,translateY:f,useTranslate3d:s})):u=m7,{cssProperties:u,cssClasses:p7({translateX:d,translateY:f,coordinate:r})}}function uS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function dd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uS(Object(r),!0).forEach(function(n){py(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function py(e,t,r){return(t=y7(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function y7(e){var t=b7(e,"string");return typeof t=="symbol"?t:t+""}function b7(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class x7 extends p.PureComponent{constructor(){super(...arguments),py(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),py(this,"handleKeyDown",t=>{if(t.key==="Escape"){var r,n,a,i;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(a=(i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==null&&a!==void 0?a:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,r;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:r,animationDuration:n,animationEasing:a,children:i,coordinate:o,hasPayload:s,isAnimationActive:c,offset:u,position:d,reverseDirection:f,useTranslate3d:h,viewBox:m,wrapperStyle:v,lastBoundingBox:x,innerRef:b,hasPortalFromProps:y}=this.props,{cssClasses:g,cssProperties:w}=v7({allowEscapeViewBox:r,coordinate:o,offsetTopLeft:u,position:d,reverseDirection:f,tooltipBox:{height:x.height,width:x.width},useTranslate3d:h,viewBox:m}),_=y?{}:dd(dd({transition:c&&t?"transform ".concat(n,"ms ").concat(a):void 0},w),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&s?"visible":"hidden",position:"absolute",top:0,left:0}),S=dd(dd({},_),{},{visibility:!this.state.dismissed&&t&&s?"visible":"hidden"},v);return p.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:g,style:S,ref:b},i)}}var zN=()=>{var e;return(e=te(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function gy(){return gy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gy.apply(null,arguments)}function dS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function fS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dS(Object(r),!0).forEach(function(n){w7(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function w7(e,t,r){return(t=_7(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _7(e){var t=S7(e,"string");return typeof t=="symbol"?t:t+""}function S7(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var hS={curveBasisClosed:M$,curveBasisOpen:z$,curveBasis:P$,curveBumpX:x$,curveBumpY:w$,curveLinearClosed:B$,curveLinear:Jh,curveMonotoneX:I$,curveMonotoneY:$$,curveNatural:L$,curveStep:U$,curveStepAfter:W$,curveStepBefore:q$},Ff=e=>qe(e.x)&&qe(e.y),mS=e=>e.base!=null&&Ff(e.base)&&Ff(e),yl=e=>e.x,bl=e=>e.y,j7=(e,t)=>{if(typeof e=="function")return e;var r="curve".concat(au(e));return(r==="curveMonotone"||r==="curveBump")&&t?hS["".concat(r).concat(t==="vertical"?"Y":"X")]:hS[r]||Jh},C7=e=>{var{type:t="linear",points:r=[],baseLine:n,layout:a,connectNulls:i=!1}=e,o=j7(t,a),s=i?r.filter(Ff):r,c;if(Array.isArray(n)){var u=r.map((m,v)=>fS(fS({},m),{},{base:n[v]}));a==="vertical"?c=nd().y(bl).x1(yl).x0(m=>m.base.x):c=nd().x(yl).y1(bl).y0(m=>m.base.y);var d=c.defined(mS).curve(o),f=i?u.filter(mS):u;return d(f)}a==="vertical"&&Z(n)?c=nd().y(bl).x1(yl).x0(n):Z(n)?c=nd().x(yl).y1(bl).y0(n):c=Kk().x(yl).y(bl);var h=c.defined(Ff).curve(o);return h(s)},BN=e=>{var{className:t,points:r,path:n,pathRef:a}=e,i=cu();if((!r||!r.length)&&!n)return null;var o={type:e.type,points:e.points,baseLine:e.baseLine,layout:e.layout||i,connectNulls:e.connectNulls},s=r&&r.length?C7(o):n;return p.createElement("path",gy({},oa(e),dL(e),{className:Be("recharts-curve",t),d:s===null?void 0:s,ref:a}))},E7=["x","y","top","left","width","height","className"];function vy(){return vy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vy.apply(null,arguments)}function pS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function O7(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pS(Object(r),!0).forEach(function(n){A7(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function A7(e,t,r){return(t=k7(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function k7(e){var t=T7(e,"string");return typeof t=="symbol"?t:t+""}function T7(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function N7(e,t){if(e==null)return{};var r,n,a=R7(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function R7(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var D7=(e,t,r,n,a,i)=>"M".concat(e,",").concat(a,"v").concat(n,"M").concat(i,",").concat(t,"h").concat(r),P7=e=>{var{x:t=0,y:r=0,top:n=0,left:a=0,width:i=0,height:o=0,className:s}=e,c=N7(e,E7),u=O7({x:t,y:r,top:n,left:a,width:i,height:o},c);return!Z(t)||!Z(r)||!Z(i)||!Z(o)||!Z(n)||!Z(a)?null:p.createElement("path",vy({},Fr(u),{className:Be("recharts-cross",s),d:D7(t,r,i,o,n,a)}))};function M7(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function gS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function vS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gS(Object(r),!0).forEach(function(n){z7(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function z7(e,t,r){return(t=B7(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function B7(e){var t=I7(e,"string");return typeof t=="symbol"?t:t+""}function I7(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $7=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),IN=(e,t,r)=>e.map(n=>"".concat($7(n)," ").concat(t,"ms ").concat(r)).join(","),L7=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((r,n)=>r.filter(a=>n.includes(a))),Ac=(e,t)=>Object.keys(t).reduce((r,n)=>vS(vS({},r),{},{[n]:e(n,t[n])}),{});function yS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function lt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yS(Object(r),!0).forEach(function(n){U7(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function U7(e,t,r){return(t=q7(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function q7(e){var t=W7(e,"string");return typeof t=="symbol"?t:t+""}function W7(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Vf=(e,t,r)=>e+(t-e)*r,yy=e=>{var{from:t,to:r}=e;return t!==r},$N=(e,t,r)=>{var n=Ac((a,i)=>{if(yy(i)){var[o,s]=e(i.from,i.to,i.velocity);return lt(lt({},i),{},{from:o,velocity:s})}return i},t);return r<1?Ac((a,i)=>yy(i)&&n[a]!=null?lt(lt({},i),{},{velocity:Vf(i.velocity,n[a].velocity,r),from:Vf(i.from,n[a].from,r)}):i,t):$N(e,n,r-1)};function H7(e,t,r,n,a,i){var o,s=n.reduce((h,m)=>lt(lt({},h),{},{[m]:{from:e[m],velocity:0,to:t[m]}}),{}),c=()=>Ac((h,m)=>m.from,s),u=()=>!Object.values(s).filter(yy).length,d=null,f=h=>{o||(o=h);var m=h-o,v=m/r.dt;s=$N(r,s,v),a(lt(lt(lt({},e),t),c())),o=h,u()||(d=i.setTimeout(f))};return()=>(d=i.setTimeout(f),()=>{var h;(h=d)===null||h===void 0||h()})}function F7(e,t,r,n,a,i,o){var s=null,c=a.reduce((f,h)=>{var m=e[h],v=t[h];return m==null||v==null?f:lt(lt({},f),{},{[h]:[m,v]})},{}),u,d=f=>{u||(u=f);var h=(f-u)/n,m=Ac((x,b)=>Vf(...b,r(h)),c);if(i(lt(lt(lt({},e),t),m)),h<1)s=o.setTimeout(d);else{var v=Ac((x,b)=>Vf(...b,r(1)),c);i(lt(lt(lt({},e),t),v))}};return()=>(s=o.setTimeout(d),()=>{var f;(f=s)===null||f===void 0||f()})}const V7=(e,t,r,n,a,i)=>{var o=L7(e,t);return r==null?()=>(a(lt(lt({},e),t)),()=>{}):r.isStepper===!0?H7(e,t,r,o,a,i):F7(e,t,r,n,o,a,i)};var Kf=1e-4,LN=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],UN=(e,t)=>e.map((r,n)=>r*t**n).reduce((r,n)=>r+n),bS=(e,t)=>r=>{var n=LN(e,t);return UN(n,r)},K7=(e,t)=>r=>{var n=LN(e,t),a=[...n.map((i,o)=>i*o).slice(1),0];return UN(a,r)},G7=e=>{var t,r=e.split("(");if(r.length!==2||r[0]!=="cubic-bezier")return null;var n=(t=r[1])===null||t===void 0||(t=t.split(")")[0])===null||t===void 0?void 0:t.split(",");if(n==null||n.length!==4)return null;var a=n.map(i=>parseFloat(i));return[a[0],a[1],a[2],a[3]]},Y7=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(r.length===1)switch(r[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var a=G7(r[0]);if(a)return a}}return r.length===4?r:[0,0,1,1]},X7=(e,t,r,n)=>{var a=bS(e,r),i=bS(t,n),o=K7(e,r),s=u=>u>1?1:u<0?0:u,c=u=>{for(var d=u>1?1:u,f=d,h=0;h<8;++h){var m=a(f)-d,v=o(f);if(Math.abs(m-d)<Kf||v<Kf)return i(f);f=s(f-m/v)}return i(f)};return c.isStepper=!1,c},xS=function(){return X7(...Y7(...arguments))},Z7=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:a=17}=t,i=(o,s,c)=>{var u=-(o-s)*r,d=c*n,f=c+(u-d)*a/1e3,h=c*a/1e3+o;return Math.abs(h-s)<Kf&&Math.abs(f)<Kf?[s,0]:[h,f]};return i.isStepper=!0,i.dt=a,i},J7=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return xS(e);case"spring":return Z7();default:if(e.split("(")[0]==="cubic-bezier")return xS(e)}return typeof e=="function"?e:null};function Q7(e){var t,r=()=>null,n=!1,a=null,i=o=>{if(!n){if(Array.isArray(o)){if(!o.length)return;var s=o,[c,...u]=s;if(typeof c=="number"){a=e.setTimeout(i.bind(null,u),c);return}i(c),a=e.setTimeout(i.bind(null,u));return}typeof o=="string"&&(t=o,r(t)),typeof o=="object"&&(t=o,r(t)),typeof o=="function"&&o()}};return{stop:()=>{n=!0},start:o=>{n=!1,a&&(a(),a=null),i(o)},subscribe:o=>(r=o,()=>{r=()=>null}),getTimeoutController:()=>e}}class eq{setTimeout(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),a=null,i=o=>{o-n>=r?t(o):typeof requestAnimationFrame=="function"&&(a=requestAnimationFrame(i))};return a=requestAnimationFrame(i),()=>{a!=null&&cancelAnimationFrame(a)}}}function tq(){return Q7(new eq)}var rq=p.createContext(tq);function nq(e,t){var r=p.useContext(rq);return p.useMemo(()=>t??r(e),[e,t,r])}var aq=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Cm={isSsr:aq()},iq={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},wS={t:0},fg={t:1};function Ib(e){var t=Ar(e,iq),{isActive:r,canBegin:n,duration:a,easing:i,begin:o,onAnimationEnd:s,onAnimationStart:c,children:u}=t,d=r==="auto"?!Cm.isSsr:r,f=nq(t.animationId,t.animationManager),[h,m]=p.useState(d?wS:fg),v=p.useRef(null);return p.useEffect(()=>{d||m(fg)},[d]),p.useEffect(()=>{if(!d||!n)return iu;var x=V7(wS,fg,J7(i),a,m,f.getTimeoutController()),b=()=>{v.current=x()};return f.start([c,o,b,a,s]),()=>{f.stop(),v.current&&v.current(),s()}},[d,n,a,i,o,c,s,f]),u(h.t)}function $b(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=p.useRef(wc(t)),n=p.useRef(e);return n.current!==e&&(r.current=wc(t),n.current=e),r.current}var oq=["radius"],sq=["radius"],_S,SS,jS,CS,ES,OS,AS,kS,TS,NS;function RS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function DS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?RS(Object(r),!0).forEach(function(n){lq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):RS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function lq(e,t,r){return(t=cq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function cq(e){var t=uq(e,"string");return typeof t=="symbol"?t:t+""}function uq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Gf(){return Gf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Gf.apply(null,arguments)}function PS(e,t){if(e==null)return{};var r,n,a=dq(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function dq(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function xn(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var MS=(e,t,r,n,a)=>{var i=Za(r),o=Za(n),s=Math.min(Math.abs(i)/2,Math.abs(o)/2),c=o>=0?1:-1,u=i>=0?1:-1,d=o>=0&&i>=0||o<0&&i<0?1:0,f;if(s>0&&a instanceof Array){for(var h=[0,0,0,0],m=0,v=4;m<v;m++)h[m]=a[m]>s?s:a[m];f=He(_S||(_S=xn(["M",",",""])),e,t+c*h[0]),h[0]>0&&(f+=He(SS||(SS=xn(["A ",",",",0,0,",",",",",""])),h[0],h[0],d,e+u*h[0],t)),f+=He(jS||(jS=xn(["L ",",",""])),e+r-u*h[1],t),h[1]>0&&(f+=He(CS||(CS=xn(["A ",",",",0,0,",`,
        `,",",""])),h[1],h[1],d,e+r,t+c*h[1])),f+=He(ES||(ES=xn(["L ",",",""])),e+r,t+n-c*h[2]),h[2]>0&&(f+=He(OS||(OS=xn(["A ",",",",0,0,",`,
        `,",",""])),h[2],h[2],d,e+r-u*h[2],t+n)),f+=He(AS||(AS=xn(["L ",",",""])),e+u*h[3],t+n),h[3]>0&&(f+=He(kS||(kS=xn(["A ",",",",0,0,",`,
        `,",",""])),h[3],h[3],d,e,t+n-c*h[3])),f+="Z"}else if(s>0&&a===+a&&a>0){var x=Math.min(s,a);f=He(TS||(TS=xn(["M ",",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",","," Z"])),e,t+c*x,x,x,d,e+u*x,t,e+r-u*x,t,x,x,d,e+r,t+c*x,e+r,t+n-c*x,x,x,d,e+r-u*x,t+n,e+u*x,t+n,x,x,d,e,t+n-c*x)}else f=He(NS||(NS=xn(["M ",","," h "," v "," h "," Z"])),e,t,r,n,-r);return f},zS={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},qN=e=>{var t=Ar(e,zS),r=p.useRef(null),[n,a]=p.useState(-1);p.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var R=r.current.getTotalLength();R&&a(R)}catch{}},[]);var{x:i,y:o,width:s,height:c,radius:u,className:d}=t,{animationEasing:f,animationDuration:h,animationBegin:m,isAnimationActive:v,isUpdateAnimationActive:x}=t,b=p.useRef(s),y=p.useRef(c),g=p.useRef(i),w=p.useRef(o),_=p.useMemo(()=>({x:i,y:o,width:s,height:c,radius:u}),[i,o,s,c,u]),S=$b(_,"rectangle-");if(i!==+i||o!==+o||s!==+s||c!==+c||s===0||c===0)return null;var j=Be("recharts-rectangle",d);if(!x){var C=Fr(t),{radius:E}=C,k=PS(C,oq);return p.createElement("path",Gf({},k,{x:Za(i),y:Za(o),width:Za(s),height:Za(c),radius:typeof u=="number"?u:void 0,className:j,d:MS(i,o,s,c,u)}))}var A=b.current,N=y.current,T=g.current,I=w.current,L="0px ".concat(n===-1?1:n,"px"),H="".concat(n,"px 0px"),O=IN(["strokeDasharray"],h,typeof f=="string"?f:zS.animationEasing);return p.createElement(Ib,{animationId:S,key:S,canBegin:n>0,duration:h,easing:f,isActive:x,begin:m},R=>{var D=Tt(A,s,R),P=Tt(N,c,R),U=Tt(T,i,R),G=Tt(I,o,R);r.current&&(b.current=D,y.current=P,g.current=U,w.current=G);var K;v?R>0?K={transition:O,strokeDasharray:H}:K={strokeDasharray:L}:K={strokeDasharray:H};var Q=Fr(t),{radius:ee}=Q,ne=PS(Q,sq);return p.createElement("path",Gf({},ne,{radius:typeof u=="number"?u:void 0,className:j,d:MS(U,G,D,P,u),ref:r,style:DS(DS({},K),t.style)}))})};function BS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function IS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?BS(Object(r),!0).forEach(function(n){fq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):BS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fq(e,t,r){return(t=hq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hq(e){var t=mq(e,"string");return typeof t=="symbol"?t:t+""}function mq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Yf=Math.PI/180,pq=e=>e*180/Math.PI,Pt=(e,t,r,n)=>({x:e+Math.cos(-Yf*n)*r,y:t+Math.sin(-Yf*n)*r}),gq=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},vq=(e,t)=>{var{x:r,y:n}=e,{x:a,y:i}=t;return Math.sqrt((r-a)**2+(n-i)**2)},yq=(e,t)=>{var{x:r,y:n}=e,{cx:a,cy:i}=t,o=vq({x:r,y:n},{x:a,y:i});if(o<=0)return{radius:o,angle:0};var s=(r-a)/o,c=Math.acos(s);return n>i&&(c=2*Math.PI-c),{radius:o,angle:pq(c),angleInRadian:c}},bq=e=>{var{startAngle:t,endAngle:r}=e,n=Math.floor(t/360),a=Math.floor(r/360),i=Math.min(n,a);return{startAngle:t-i*360,endAngle:r-i*360}},xq=(e,t)=>{var{startAngle:r,endAngle:n}=t,a=Math.floor(r/360),i=Math.floor(n/360),o=Math.min(a,i);return e+o*360},wq=(e,t)=>{var{chartX:r,chartY:n}=e,{radius:a,angle:i}=yq({x:r,y:n},t),{innerRadius:o,outerRadius:s}=t;if(a<o||a>s||a===0)return null;var{startAngle:c,endAngle:u}=bq(t),d=i,f;if(c<=u){for(;d>u;)d-=360;for(;d<c;)d+=360;f=d>=c&&d<=u}else{for(;d>c;)d-=360;for(;d<u;)d+=360;f=d>=u&&d<=c}return f?IS(IS({},t),{},{radius:a,angle:xq(d,t)}):null};function WN(e){var{cx:t,cy:r,radius:n,startAngle:a,endAngle:i}=e,o=Pt(t,r,n,a),s=Pt(t,r,n,i);return{points:[o,s],cx:t,cy:r,radius:n,startAngle:a,endAngle:i}}var $S,LS,US,qS,WS,HS,FS;function by(){return by=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},by.apply(null,arguments)}function zi(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var _q=(e,t)=>{var r=tr(t-e),n=Math.min(Math.abs(t-e),359.999);return r*n},fd=e=>{var{cx:t,cy:r,radius:n,angle:a,sign:i,isExternal:o,cornerRadius:s,cornerIsExternal:c}=e,u=s*(o?1:-1)+n,d=Math.asin(s/u)/Yf,f=c?a:a+i*d,h=Pt(t,r,u,f),m=Pt(t,r,n,f),v=c?a-i*d:a,x=Pt(t,r,u*Math.cos(d*Yf),v);return{center:h,circleTangency:m,lineTangency:x,theta:d}},HN=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:a,startAngle:i,endAngle:o}=e,s=_q(i,o),c=i+s,u=Pt(t,r,a,i),d=Pt(t,r,a,c),f=He($S||($S=zi(["M ",",",`
    A `,",",`,0,
    `,",",`,
    `,",",`
  `])),u.x,u.y,a,a,+(Math.abs(s)>180),+(i>c),d.x,d.y);if(n>0){var h=Pt(t,r,n,i),m=Pt(t,r,n,c);f+=He(LS||(LS=zi(["L ",",",`
            A `,",",`,0,
            `,",",`,
            `,","," Z"])),m.x,m.y,n,n,+(Math.abs(s)>180),+(i<=c),h.x,h.y)}else f+=He(US||(US=zi(["L ",","," Z"])),t,r);return f},Sq=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:a,cornerRadius:i,forceCornerRadius:o,cornerIsExternal:s,startAngle:c,endAngle:u}=e,d=tr(u-c),{circleTangency:f,lineTangency:h,theta:m}=fd({cx:t,cy:r,radius:a,angle:c,sign:d,cornerRadius:i,cornerIsExternal:s}),{circleTangency:v,lineTangency:x,theta:b}=fd({cx:t,cy:r,radius:a,angle:u,sign:-d,cornerRadius:i,cornerIsExternal:s}),y=s?Math.abs(c-u):Math.abs(c-u)-m-b;if(y<0)return o?He(qS||(qS=zi(["M ",",",`
        a`,",",",0,0,1,",`,0
        a`,",",",0,0,1,",`,0
      `])),h.x,h.y,i,i,i*2,i,i,-i*2):HN({cx:t,cy:r,innerRadius:n,outerRadius:a,startAngle:c,endAngle:u});var g=He(WS||(WS=zi(["M ",",",`
    A`,",",",0,0,",",",",",`
    A`,",",",0,",",",",",",",`
    A`,",",",0,0,",",",",",`
  `])),h.x,h.y,i,i,+(d<0),f.x,f.y,a,a,+(y>180),+(d<0),v.x,v.y,i,i,+(d<0),x.x,x.y);if(n>0){var{circleTangency:w,lineTangency:_,theta:S}=fd({cx:t,cy:r,radius:n,angle:c,sign:d,isExternal:!0,cornerRadius:i,cornerIsExternal:s}),{circleTangency:j,lineTangency:C,theta:E}=fd({cx:t,cy:r,radius:n,angle:u,sign:-d,isExternal:!0,cornerRadius:i,cornerIsExternal:s}),k=s?Math.abs(c-u):Math.abs(c-u)-S-E;if(k<0&&i===0)return"".concat(g,"L").concat(t,",").concat(r,"Z");g+=He(HS||(HS=zi(["L",",",`
      A`,",",",0,0,",",",",",`
      A`,",",",0,",",",",",",",`
      A`,",",",0,0,",",",",","Z"])),C.x,C.y,i,i,+(d<0),j.x,j.y,n,n,+(k>180),+(d>0),w.x,w.y,i,i,+(d<0),_.x,_.y)}else g+=He(FS||(FS=zi(["L",",","Z"])),t,r);return g},jq={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},FN=e=>{var t=Ar(e,jq),{cx:r,cy:n,innerRadius:a,outerRadius:i,cornerRadius:o,forceCornerRadius:s,cornerIsExternal:c,startAngle:u,endAngle:d,className:f}=t;if(i<a||u===d)return null;var h=Be("recharts-sector",f),m=i-a,v=cn(o,m,0,!0),x;return v>0&&Math.abs(u-d)<360?x=Sq({cx:r,cy:n,innerRadius:a,outerRadius:i,cornerRadius:Math.min(v,m/2),forceCornerRadius:s,cornerIsExternal:c,startAngle:u,endAngle:d}):x=HN({cx:r,cy:n,innerRadius:a,outerRadius:i,startAngle:u,endAngle:d}),p.createElement("path",by({},Fr(t),{className:h,d:x}))};function Cq(e,t,r){if(e==="horizontal")return[{x:t.x,y:r.top},{x:t.x,y:r.top+r.height}];if(e==="vertical")return[{x:r.left,y:t.y},{x:r.left+r.width,y:t.y}];if(cT(t)){if(e==="centric"){var{cx:n,cy:a,innerRadius:i,outerRadius:o,angle:s}=t,c=Pt(n,a,i,s),u=Pt(n,a,o,s);return[{x:c.x,y:c.y},{x:u.x,y:u.y}]}return WN(t)}}var VN={},KN={},GN={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Eb;function r(n){return t.isSymbol(n)?NaN:Number(n)}e.toNumber=r})(GN);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=GN;function r(n){return n?(n=t.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}e.toFinite=r})(KN);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ob,r=KN;function n(a,i,o){o&&typeof o!="number"&&t.isIterateeCall(a,i,o)&&(i=o=void 0),a=r.toFinite(a),i===void 0?(i=a,a=0):i=r.toFinite(i),o=o===void 0?a<i?1:-1:r.toFinite(o);const s=Math.max(Math.ceil((i-a)/(o||1)),0),c=new Array(s);for(let u=0;u<s;u++)c[u]=a,a+=o;return c}e.range=n})(VN);var Eq=VN.range;const YN=ga(Eq);function si(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Oq(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Lb(e){let t,r,n;e.length!==2?(t=si,r=(s,c)=>si(e(s),c),n=(s,c)=>e(s)-c):(t=e===si||e===Oq?e:Aq,r=e,n=e);function a(s,c,u=0,d=s.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(s[f],c)<0?u=f+1:d=f}while(u<d)}return u}function i(s,c,u=0,d=s.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(s[f],c)<=0?u=f+1:d=f}while(u<d)}return u}function o(s,c,u=0,d=s.length){const f=a(s,c,u,d-1);return f>u&&n(s[f-1],c)>-n(s[f],c)?f-1:f}return{left:a,center:o,right:i}}function Aq(){return 0}function XN(e){return e===null?NaN:+e}function*kq(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const Tq=Lb(si),du=Tq.right;Lb(XN).center;class VS extends Map{constructor(t,r=Dq){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(KS(this,t))}has(t){return super.has(KS(this,t))}set(t,r){return super.set(Nq(this,t),r)}delete(t){return super.delete(Rq(this,t))}}function KS({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function Nq({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function Rq({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function Dq(e){return e!==null&&typeof e=="object"?e.valueOf():e}function Pq(e=si){if(e===si)return ZN;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function ZN(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const Mq=Math.sqrt(50),zq=Math.sqrt(10),Bq=Math.sqrt(2);function Xf(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),i=n/Math.pow(10,a),o=i>=Mq?10:i>=zq?5:i>=Bq?2:1;let s,c,u;return a<0?(u=Math.pow(10,-a)/o,s=Math.round(e*u),c=Math.round(t*u),s/u<e&&++s,c/u>t&&--c,u=-u):(u=Math.pow(10,a)*o,s=Math.round(e/u),c=Math.round(t/u),s*u<e&&++s,c*u>t&&--c),c<s&&.5<=r&&r<2?Xf(e,t,r*2):[s,c,u]}function xy(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,i,o]=n?Xf(t,e,r):Xf(e,t,r);if(!(i>=a))return[];const s=i-a+1,c=new Array(s);if(n)if(o<0)for(let u=0;u<s;++u)c[u]=(i-u)/-o;else for(let u=0;u<s;++u)c[u]=(i-u)*o;else if(o<0)for(let u=0;u<s;++u)c[u]=(a+u)/-o;else for(let u=0;u<s;++u)c[u]=(a+u)*o;return c}function wy(e,t,r){return t=+t,e=+e,r=+r,Xf(e,t,r)[2]}function _y(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?wy(t,e,r):wy(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function GS(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function YS(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function JN(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?ZN:Pq(a);n>r;){if(n-r>600){const c=n-r+1,u=t-r+1,d=Math.log(c),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(c-f)/c)*(u-c/2<0?-1:1),m=Math.max(r,Math.floor(t-u*f/c+h)),v=Math.min(n,Math.floor(t+(c-u)*f/c+h));JN(e,t,m,v,a)}const i=e[t];let o=r,s=n;for(xl(e,r,t),a(e[n],i)>0&&xl(e,r,n);o<s;){for(xl(e,o,s),++o,--s;a(e[o],i)<0;)++o;for(;a(e[s],i)>0;)--s}a(e[r],i)===0?xl(e,r,s):(++s,xl(e,s,n)),s<=t&&(r=s+1),t<=s&&(n=s-1)}return e}function xl(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function Iq(e,t,r){if(e=Float64Array.from(kq(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return YS(e);if(t>=1)return GS(e);var n,a=(n-1)*t,i=Math.floor(a),o=GS(JN(e,i).subarray(0,i+1)),s=YS(e.subarray(i+1));return o+(s-o)*(a-i)}}function $q(e,t,r=XN){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,i=Math.floor(a),o=+r(e[i],i,e),s=+r(e[i+1],i+1,e);return o+(s-o)*(a-i)}}function Lq(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(a);++n<a;)i[n]=e+n*r;return i}function Yr(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function xa(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Sy=Symbol("implicit");function Ub(){var e=new VS,t=[],r=[],n=Sy;function a(i){let o=e.get(i);if(o===void 0){if(n!==Sy)return n;e.set(i,o=t.push(i)-1)}return r[o%r.length]}return a.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new VS;for(const o of i)e.has(o)||e.set(o,t.push(o)-1);return a},a.range=function(i){return arguments.length?(r=Array.from(i),a):r.slice()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return Ub(t,r).unknown(n)},Yr.apply(a,arguments),a}function qb(){var e=Ub().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,i,o,s=!1,c=0,u=0,d=.5;delete e.unknown;function f(){var h=t().length,m=a<n,v=m?a:n,x=m?n:a;i=(x-v)/Math.max(1,h-c+u*2),s&&(i=Math.floor(i)),v+=(x-v-i*(h-c))*d,o=i*(1-c),s&&(v=Math.round(v),o=Math.round(o));var b=Lq(h).map(function(y){return v+i*y});return r(m?b.reverse():b)}return e.domain=function(h){return arguments.length?(t(h),f()):t()},e.range=function(h){return arguments.length?([n,a]=h,n=+n,a=+a,f()):[n,a]},e.rangeRound=function(h){return[n,a]=h,n=+n,a=+a,s=!0,f()},e.bandwidth=function(){return o},e.step=function(){return i},e.round=function(h){return arguments.length?(s=!!h,f()):s},e.padding=function(h){return arguments.length?(c=Math.min(1,u=+h),f()):c},e.paddingInner=function(h){return arguments.length?(c=Math.min(1,h),f()):c},e.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},e.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},e.copy=function(){return qb(t(),[n,a]).round(s).paddingInner(c).paddingOuter(u).align(d)},Yr.apply(f(),arguments)}function QN(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return QN(t())},e}function Uq(){return QN(qb.apply(null,arguments).paddingInner(1))}function Wb(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function eR(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function fu(){}var kc=.7,Zf=1/kc,ls="\\s*([+-]?\\d+)\\s*",Tc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",On="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",qq=/^#([0-9a-f]{3,8})$/,Wq=new RegExp(`^rgb\\(${ls},${ls},${ls}\\)$`),Hq=new RegExp(`^rgb\\(${On},${On},${On}\\)$`),Fq=new RegExp(`^rgba\\(${ls},${ls},${ls},${Tc}\\)$`),Vq=new RegExp(`^rgba\\(${On},${On},${On},${Tc}\\)$`),Kq=new RegExp(`^hsl\\(${Tc},${On},${On}\\)$`),Gq=new RegExp(`^hsla\\(${Tc},${On},${On},${Tc}\\)$`),XS={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Wb(fu,Nc,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:ZS,formatHex:ZS,formatHex8:Yq,formatHsl:Xq,formatRgb:JS,toString:JS});function ZS(){return this.rgb().formatHex()}function Yq(){return this.rgb().formatHex8()}function Xq(){return tR(this).formatHsl()}function JS(){return this.rgb().formatRgb()}function Nc(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=qq.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?QS(t):r===3?new rr(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?hd(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?hd(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Wq.exec(e))?new rr(t[1],t[2],t[3],1):(t=Hq.exec(e))?new rr(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Fq.exec(e))?hd(t[1],t[2],t[3],t[4]):(t=Vq.exec(e))?hd(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Kq.exec(e))?rj(t[1],t[2]/100,t[3]/100,1):(t=Gq.exec(e))?rj(t[1],t[2]/100,t[3]/100,t[4]):XS.hasOwnProperty(e)?QS(XS[e]):e==="transparent"?new rr(NaN,NaN,NaN,0):null}function QS(e){return new rr(e>>16&255,e>>8&255,e&255,1)}function hd(e,t,r,n){return n<=0&&(e=t=r=NaN),new rr(e,t,r,n)}function Zq(e){return e instanceof fu||(e=Nc(e)),e?(e=e.rgb(),new rr(e.r,e.g,e.b,e.opacity)):new rr}function jy(e,t,r,n){return arguments.length===1?Zq(e):new rr(e,t,r,n??1)}function rr(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}Wb(rr,jy,eR(fu,{brighter(e){return e=e==null?Zf:Math.pow(Zf,e),new rr(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?kc:Math.pow(kc,e),new rr(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new rr(Ki(this.r),Ki(this.g),Ki(this.b),Jf(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:ej,formatHex:ej,formatHex8:Jq,formatRgb:tj,toString:tj}));function ej(){return`#${Bi(this.r)}${Bi(this.g)}${Bi(this.b)}`}function Jq(){return`#${Bi(this.r)}${Bi(this.g)}${Bi(this.b)}${Bi((isNaN(this.opacity)?1:this.opacity)*255)}`}function tj(){const e=Jf(this.opacity);return`${e===1?"rgb(":"rgba("}${Ki(this.r)}, ${Ki(this.g)}, ${Ki(this.b)}${e===1?")":`, ${e})`}`}function Jf(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Ki(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Bi(e){return e=Ki(e),(e<16?"0":"")+e.toString(16)}function rj(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new on(e,t,r,n)}function tR(e){if(e instanceof on)return new on(e.h,e.s,e.l,e.opacity);if(e instanceof fu||(e=Nc(e)),!e)return new on;if(e instanceof on)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),i=Math.max(t,r,n),o=NaN,s=i-a,c=(i+a)/2;return s?(t===i?o=(r-n)/s+(r<n)*6:r===i?o=(n-t)/s+2:o=(t-r)/s+4,s/=c<.5?i+a:2-i-a,o*=60):s=c>0&&c<1?0:o,new on(o,s,c,e.opacity)}function Qq(e,t,r,n){return arguments.length===1?tR(e):new on(e,t,r,n??1)}function on(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}Wb(on,Qq,eR(fu,{brighter(e){return e=e==null?Zf:Math.pow(Zf,e),new on(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?kc:Math.pow(kc,e),new on(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new rr(hg(e>=240?e-240:e+120,a,n),hg(e,a,n),hg(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new on(nj(this.h),md(this.s),md(this.l),Jf(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Jf(this.opacity);return`${e===1?"hsl(":"hsla("}${nj(this.h)}, ${md(this.s)*100}%, ${md(this.l)*100}%${e===1?")":`, ${e})`}`}}));function nj(e){return e=(e||0)%360,e<0?e+360:e}function md(e){return Math.max(0,Math.min(1,e||0))}function hg(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const Hb=e=>()=>e;function eW(e,t){return function(r){return e+r*t}}function tW(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function rW(e){return(e=+e)==1?rR:function(t,r){return r-t?tW(t,r,e):Hb(isNaN(t)?r:t)}}function rR(e,t){var r=t-e;return r?eW(e,r):Hb(isNaN(e)?t:e)}const aj=function e(t){var r=rW(t);function n(a,i){var o=r((a=jy(a)).r,(i=jy(i)).r),s=r(a.g,i.g),c=r(a.b,i.b),u=rR(a.opacity,i.opacity);return function(d){return a.r=o(d),a.g=s(d),a.b=c(d),a.opacity=u(d),a+""}}return n.gamma=e,n}(1);function nW(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(i){for(a=0;a<r;++a)n[a]=e[a]*(1-i)+t[a]*i;return n}}function aW(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function iW(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),i=new Array(r),o;for(o=0;o<n;++o)a[o]=Gs(e[o],t[o]);for(;o<r;++o)i[o]=t[o];return function(s){for(o=0;o<n;++o)i[o]=a[o](s);return i}}function oW(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function Qf(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function sW(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=Gs(e[a],t[a]):n[a]=t[a];return function(i){for(a in r)n[a]=r[a](i);return n}}var Cy=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,mg=new RegExp(Cy.source,"g");function lW(e){return function(){return e}}function cW(e){return function(t){return e(t)+""}}function uW(e,t){var r=Cy.lastIndex=mg.lastIndex=0,n,a,i,o=-1,s=[],c=[];for(e=e+"",t=t+"";(n=Cy.exec(e))&&(a=mg.exec(t));)(i=a.index)>r&&(i=t.slice(r,i),s[o]?s[o]+=i:s[++o]=i),(n=n[0])===(a=a[0])?s[o]?s[o]+=a:s[++o]=a:(s[++o]=null,c.push({i:o,x:Qf(n,a)})),r=mg.lastIndex;return r<t.length&&(i=t.slice(r),s[o]?s[o]+=i:s[++o]=i),s.length<2?c[0]?cW(c[0].x):lW(t):(t=c.length,function(u){for(var d=0,f;d<t;++d)s[(f=c[d]).i]=f.x(u);return s.join("")})}function Gs(e,t){var r=typeof t,n;return t==null||r==="boolean"?Hb(t):(r==="number"?Qf:r==="string"?(n=Nc(t))?(t=n,aj):uW:t instanceof Nc?aj:t instanceof Date?oW:aW(t)?nW:Array.isArray(t)?iW:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?sW:Qf)(e,t)}function Fb(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function dW(e,t){t===void 0&&(t=e,e=Gs);for(var r=0,n=t.length-1,a=t[0],i=new Array(n<0?0:n);r<n;)i[r]=e(a,a=t[++r]);return function(o){var s=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return i[s](o-s)}}function fW(e){return function(){return e}}function eh(e){return+e}var ij=[0,1];function Ft(e){return e}function Ey(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:fW(isNaN(t)?NaN:.5)}function hW(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function mW(e,t,r){var n=e[0],a=e[1],i=t[0],o=t[1];return a<n?(n=Ey(a,n),i=r(o,i)):(n=Ey(n,a),i=r(i,o)),function(s){return i(n(s))}}function pW(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),i=new Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)a[o]=Ey(e[o],e[o+1]),i[o]=r(t[o],t[o+1]);return function(s){var c=du(e,s,1,n)-1;return i[c](a[c](s))}}function hu(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Em(){var e=ij,t=ij,r=Gs,n,a,i,o=Ft,s,c,u;function d(){var h=Math.min(e.length,t.length);return o!==Ft&&(o=hW(e[0],e[h-1])),s=h>2?pW:mW,c=u=null,f}function f(h){return h==null||isNaN(h=+h)?i:(c||(c=s(e.map(n),t,r)))(n(o(h)))}return f.invert=function(h){return o(a((u||(u=s(t,e.map(n),Qf)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,eh),d()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),d()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),r=Fb,d()},f.clamp=function(h){return arguments.length?(o=h?!0:Ft,d()):o!==Ft},f.interpolate=function(h){return arguments.length?(r=h,d()):r},f.unknown=function(h){return arguments.length?(i=h,f):i},function(h,m){return n=h,a=m,d()}}function Vb(){return Em()(Ft,Ft)}function gW(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function th(e,t){if(!isFinite(e)||e===0)return null;var r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"),n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function Os(e){return e=th(Math.abs(e)),e?e[1]:NaN}function vW(e,t){return function(r,n){for(var a=r.length,i=[],o=0,s=e[0],c=0;a>0&&s>0&&(c+s+1>n&&(s=Math.max(1,n-c)),i.push(r.substring(a-=s,a+s)),!((c+=s+1)>n));)s=e[o=(o+1)%e.length];return i.reverse().join(t)}}function yW(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var bW=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Rc(e){if(!(t=bW.exec(e)))throw new Error("invalid format: "+e);var t;return new Kb({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Rc.prototype=Kb.prototype;function Kb(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Kb.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function xW(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var rh;function wW(e,t){var r=th(e,t);if(!r)return rh=void 0,e.toPrecision(t);var n=r[0],a=r[1],i=a-(rh=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,o=n.length;return i===o?n:i>o?n+new Array(i-o+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+th(e,Math.max(0,t+i-1))[0]}function oj(e,t){var r=th(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const sj={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:gW,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>oj(e*100,t),r:oj,s:wW,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function lj(e){return e}var cj=Array.prototype.map,uj=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function _W(e){var t=e.grouping===void 0||e.thousands===void 0?lj:vW(cj.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?lj:yW(cj.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",s=e.minus===void 0?"":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(f,h){f=Rc(f);var m=f.fill,v=f.align,x=f.sign,b=f.symbol,y=f.zero,g=f.width,w=f.comma,_=f.precision,S=f.trim,j=f.type;j==="n"?(w=!0,j="g"):sj[j]||(_===void 0&&(_=12),S=!0,j="g"),(y||m==="0"&&v==="=")&&(y=!0,m="0",v="=");var C=(h&&h.prefix!==void 0?h.prefix:"")+(b==="$"?r:b==="#"&&/[boxX]/.test(j)?"0"+j.toLowerCase():""),E=(b==="$"?n:/[%p]/.test(j)?o:"")+(h&&h.suffix!==void 0?h.suffix:""),k=sj[j],A=/[defgprs%]/.test(j);_=_===void 0?6:/[gprs]/.test(j)?Math.max(1,Math.min(21,_)):Math.max(0,Math.min(20,_));function N(T){var I=C,L=E,H,O,R;if(j==="c")L=k(T)+L,T="";else{T=+T;var D=T<0||1/T<0;if(T=isNaN(T)?c:k(Math.abs(T),_),S&&(T=xW(T)),D&&+T==0&&x!=="+"&&(D=!1),I=(D?x==="("?x:s:x==="-"||x==="("?"":x)+I,L=(j==="s"&&!isNaN(T)&&rh!==void 0?uj[8+rh/3]:"")+L+(D&&x==="("?")":""),A){for(H=-1,O=T.length;++H<O;)if(R=T.charCodeAt(H),48>R||R>57){L=(R===46?a+T.slice(H+1):T.slice(H))+L,T=T.slice(0,H);break}}}w&&!y&&(T=t(T,1/0));var P=I.length+T.length+L.length,U=P<g?new Array(g-P+1).join(m):"";switch(w&&y&&(T=t(U+T,U.length?g-L.length:1/0),U=""),v){case"<":T=I+T+L+U;break;case"=":T=I+U+T+L;break;case"^":T=U.slice(0,P=U.length>>1)+I+T+L+U.slice(P);break;default:T=U+I+T+L;break}return i(T)}return N.toString=function(){return f+""},N}function d(f,h){var m=Math.max(-8,Math.min(8,Math.floor(Os(h)/3)))*3,v=Math.pow(10,-m),x=u((f=Rc(f),f.type="f",f),{suffix:uj[8+m/3]});return function(b){return x(v*b)}}return{format:u,formatPrefix:d}}var pd,Gb,nR;SW({thousands:",",grouping:[3],currency:["$",""]});function SW(e){return pd=_W(e),Gb=pd.format,nR=pd.formatPrefix,pd}function jW(e){return Math.max(0,-Os(Math.abs(e)))}function CW(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Os(t)/3)))*3-Os(Math.abs(e)))}function EW(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Os(t)-Os(e))+1}function aR(e,t,r,n){var a=_y(e,t,r),i;switch(n=Rc(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(i=CW(a,o))&&(n.precision=i),nR(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=EW(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=jW(a))&&(n.precision=i-(n.type==="%")*2);break}}return Gb(n)}function xi(e){var t=e.domain;return e.ticks=function(r){var n=t();return xy(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return aR(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,i=n.length-1,o=n[a],s=n[i],c,u,d=10;for(s<o&&(u=o,o=s,s=u,u=a,a=i,i=u);d-- >0;){if(u=wy(o,s,r),u===c)return n[a]=o,n[i]=s,t(n);if(u>0)o=Math.floor(o/u)*u,s=Math.ceil(s/u)*u;else if(u<0)o=Math.ceil(o*u)/u,s=Math.floor(s*u)/u;else break;c=u}return e},e}function iR(){var e=Vb();return e.copy=function(){return hu(e,iR())},Yr.apply(e,arguments),xi(e)}function oR(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,eh),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return oR(e).unknown(t)},e=arguments.length?Array.from(e,eh):[0,1],xi(r)}function sR(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],i=e[n],o;return i<a&&(o=r,r=n,n=o,o=a,a=i,i=o),e[r]=t.floor(a),e[n]=t.ceil(i),e}function dj(e){return Math.log(e)}function fj(e){return Math.exp(e)}function OW(e){return-Math.log(-e)}function AW(e){return-Math.exp(-e)}function kW(e){return isFinite(e)?+("1e"+e):e<0?0:e}function TW(e){return e===10?kW:e===Math.E?Math.exp:t=>Math.pow(e,t)}function NW(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function hj(e){return(t,r)=>-e(-t,r)}function Yb(e){const t=e(dj,fj),r=t.domain;let n=10,a,i;function o(){return a=NW(n),i=TW(n),r()[0]<0?(a=hj(a),i=hj(i),e(OW,AW)):e(dj,fj),t}return t.base=function(s){return arguments.length?(n=+s,o()):n},t.domain=function(s){return arguments.length?(r(s),o()):r()},t.ticks=s=>{const c=r();let u=c[0],d=c[c.length-1];const f=d<u;f&&([u,d]=[d,u]);let h=a(u),m=a(d),v,x;const b=s==null?10:+s;let y=[];if(!(n%1)&&m-h<b){if(h=Math.floor(h),m=Math.ceil(m),u>0){for(;h<=m;++h)for(v=1;v<n;++v)if(x=h<0?v/i(-h):v*i(h),!(x<u)){if(x>d)break;y.push(x)}}else for(;h<=m;++h)for(v=n-1;v>=1;--v)if(x=h>0?v/i(-h):v*i(h),!(x<u)){if(x>d)break;y.push(x)}y.length*2<b&&(y=xy(u,d,b))}else y=xy(h,m,Math.min(m-h,b)).map(i);return f?y.reverse():y},t.tickFormat=(s,c)=>{if(s==null&&(s=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=Rc(c)).precision==null&&(c.trim=!0),c=Gb(c)),s===1/0)return c;const u=Math.max(1,n*s/t.ticks().length);return d=>{let f=d/i(Math.round(a(d)));return f*n<n-.5&&(f*=n),f<=u?c(d):""}},t.nice=()=>r(sR(r(),{floor:s=>i(Math.floor(a(s))),ceil:s=>i(Math.ceil(a(s)))})),t}function lR(){const e=Yb(Em()).domain([1,10]);return e.copy=()=>hu(e,lR()).base(e.base()),Yr.apply(e,arguments),e}function mj(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function pj(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function Xb(e){var t=1,r=e(mj(t),pj(t));return r.constant=function(n){return arguments.length?e(mj(t=+n),pj(t)):t},xi(r)}function cR(){var e=Xb(Em());return e.copy=function(){return hu(e,cR()).constant(e.constant())},Yr.apply(e,arguments)}function gj(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function RW(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function DW(e){return e<0?-e*e:e*e}function Zb(e){var t=e(Ft,Ft),r=1;function n(){return r===1?e(Ft,Ft):r===.5?e(RW,DW):e(gj(r),gj(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},xi(t)}function Jb(){var e=Zb(Em());return e.copy=function(){return hu(e,Jb()).exponent(e.exponent())},Yr.apply(e,arguments),e}function PW(){return Jb.apply(null,arguments).exponent(.5)}function vj(e){return Math.sign(e)*e*e}function MW(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function uR(){var e=Vb(),t=[0,1],r=!1,n;function a(i){var o=MW(e(i));return isNaN(o)?n:r?Math.round(o):o}return a.invert=function(i){return e.invert(vj(i))},a.domain=function(i){return arguments.length?(e.domain(i),a):e.domain()},a.range=function(i){return arguments.length?(e.range((t=Array.from(i,eh)).map(vj)),a):t.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(r=!!i,a):r},a.clamp=function(i){return arguments.length?(e.clamp(i),a):e.clamp()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return uR(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},Yr.apply(a,arguments),xi(a)}function dR(){var e=[],t=[],r=[],n;function a(){var o=0,s=Math.max(1,t.length);for(r=new Array(s-1);++o<s;)r[o-1]=$q(e,o/s);return i}function i(o){return o==null||isNaN(o=+o)?n:t[du(r,o)]}return i.invertExtent=function(o){var s=t.indexOf(o);return s<0?[NaN,NaN]:[s>0?r[s-1]:e[0],s<r.length?r[s]:e[e.length-1]]},i.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let s of o)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(si),a()},i.range=function(o){return arguments.length?(t=Array.from(o),a()):t.slice()},i.unknown=function(o){return arguments.length?(n=o,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return dR().domain(e).range(t).unknown(n)},Yr.apply(i,arguments)}function fR(){var e=0,t=1,r=1,n=[.5],a=[0,1],i;function o(c){return c!=null&&c<=c?a[du(n,c,0,r)]:i}function s(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*t-(c-r)*e)/(r+1);return o}return o.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,s()):[e,t]},o.range=function(c){return arguments.length?(r=(a=Array.from(c)).length-1,s()):a.slice()},o.invertExtent=function(c){var u=a.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},o.unknown=function(c){return arguments.length&&(i=c),o},o.thresholds=function(){return n.slice()},o.copy=function(){return fR().domain([e,t]).range(a).unknown(i)},Yr.apply(xi(o),arguments)}function hR(){var e=[.5],t=[0,1],r,n=1;function a(i){return i!=null&&i<=i?t[du(e,i,0,n)]:r}return a.domain=function(i){return arguments.length?(e=Array.from(i),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(i){return arguments.length?(t=Array.from(i),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(i){var o=t.indexOf(i);return[e[o-1],e[o]]},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return hR().domain(e).range(t).unknown(r)},Yr.apply(a,arguments)}const pg=new Date,gg=new Date;function ft(e,t,r,n){function a(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(e(i=new Date(+i)),i),a.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),a.round=i=>{const o=a(i),s=a.ceil(i);return i-o<s-i?o:s},a.offset=(i,o)=>(t(i=new Date(+i),o==null?1:Math.floor(o)),i),a.range=(i,o,s)=>{const c=[];if(i=a.ceil(i),s=s==null?1:Math.floor(s),!(i<o)||!(s>0))return c;let u;do c.push(u=new Date(+i)),t(i,s),e(i);while(u<i&&i<o);return c},a.filter=i=>ft(o=>{if(o>=o)for(;e(o),!i(o);)o.setTime(o-1)},(o,s)=>{if(o>=o)if(s<0)for(;++s<=0;)for(;t(o,-1),!i(o););else for(;--s>=0;)for(;t(o,1),!i(o););}),r&&(a.count=(i,o)=>(pg.setTime(+i),gg.setTime(+o),e(pg),e(gg),Math.floor(r(pg,gg))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(n?o=>n(o)%i===0:o=>a.count(0,o)%i===0):a)),a}const nh=ft(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);nh.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?ft(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):nh);nh.range;const Gn=1e3,Ur=Gn*60,Yn=Ur*60,ua=Yn*24,Qb=ua*7,yj=ua*30,vg=ua*365,Ii=ft(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Gn)},(e,t)=>(t-e)/Gn,e=>e.getUTCSeconds());Ii.range;const ex=ft(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Gn)},(e,t)=>{e.setTime(+e+t*Ur)},(e,t)=>(t-e)/Ur,e=>e.getMinutes());ex.range;const tx=ft(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Ur)},(e,t)=>(t-e)/Ur,e=>e.getUTCMinutes());tx.range;const rx=ft(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Gn-e.getMinutes()*Ur)},(e,t)=>{e.setTime(+e+t*Yn)},(e,t)=>(t-e)/Yn,e=>e.getHours());rx.range;const nx=ft(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Yn)},(e,t)=>(t-e)/Yn,e=>e.getUTCHours());nx.range;const mu=ft(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Ur)/ua,e=>e.getDate()-1);mu.range;const Om=ft(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/ua,e=>e.getUTCDate()-1);Om.range;const mR=ft(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/ua,e=>Math.floor(e/ua));mR.range;function go(e){return ft(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Ur)/Qb)}const Am=go(0),ah=go(1),zW=go(2),BW=go(3),As=go(4),IW=go(5),$W=go(6);Am.range;ah.range;zW.range;BW.range;As.range;IW.range;$W.range;function vo(e){return ft(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/Qb)}const km=vo(0),ih=vo(1),LW=vo(2),UW=vo(3),ks=vo(4),qW=vo(5),WW=vo(6);km.range;ih.range;LW.range;UW.range;ks.range;qW.range;WW.range;const ax=ft(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());ax.range;const ix=ft(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());ix.range;const da=ft(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());da.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ft(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});da.range;const fa=ft(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());fa.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ft(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});fa.range;function pR(e,t,r,n,a,i){const o=[[Ii,1,Gn],[Ii,5,5*Gn],[Ii,15,15*Gn],[Ii,30,30*Gn],[i,1,Ur],[i,5,5*Ur],[i,15,15*Ur],[i,30,30*Ur],[a,1,Yn],[a,3,3*Yn],[a,6,6*Yn],[a,12,12*Yn],[n,1,ua],[n,2,2*ua],[r,1,Qb],[t,1,yj],[t,3,3*yj],[e,1,vg]];function s(u,d,f){const h=d<u;h&&([u,d]=[d,u]);const m=f&&typeof f.range=="function"?f:c(u,d,f),v=m?m.range(u,+d+1):[];return h?v.reverse():v}function c(u,d,f){const h=Math.abs(d-u)/f,m=Lb(([,,b])=>b).right(o,h);if(m===o.length)return e.every(_y(u/vg,d/vg,f));if(m===0)return nh.every(Math.max(_y(u,d,f),1));const[v,x]=o[h/o[m-1][2]<o[m][2]/h?m-1:m];return v.every(x)}return[s,c]}const[HW,FW]=pR(fa,ix,km,mR,nx,tx),[VW,KW]=pR(da,ax,Am,mu,rx,ex);function yg(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function bg(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function wl(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function GW(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,i=e.days,o=e.shortDays,s=e.months,c=e.shortMonths,u=_l(a),d=Sl(a),f=_l(i),h=Sl(i),m=_l(o),v=Sl(o),x=_l(s),b=Sl(s),y=_l(c),g=Sl(c),w={a:R,A:D,b:P,B:U,c:null,d:jj,e:jj,f:vH,g:OH,G:kH,H:mH,I:pH,j:gH,L:gR,m:yH,M:bH,p:G,q:K,Q:Oj,s:Aj,S:xH,u:wH,U:_H,V:SH,w:jH,W:CH,x:null,X:null,y:EH,Y:AH,Z:TH,"%":Ej},_={a:Q,A:ee,b:ne,B,c:null,d:Cj,e:Cj,f:PH,g:HH,G:VH,H:NH,I:RH,j:DH,L:yR,m:MH,M:zH,p:F,q:oe,Q:Oj,s:Aj,S:BH,u:IH,U:$H,V:LH,w:UH,W:qH,x:null,X:null,y:WH,Y:FH,Z:KH,"%":Ej},S={a:A,A:N,b:T,B:I,c:L,d:_j,e:_j,f:uH,g:wj,G:xj,H:Sj,I:Sj,j:oH,L:cH,m:iH,M:sH,p:k,q:aH,Q:fH,s:hH,S:lH,u:QW,U:eH,V:tH,w:JW,W:rH,x:H,X:O,y:wj,Y:xj,Z:nH,"%":dH};w.x=j(r,w),w.X=j(n,w),w.c=j(t,w),_.x=j(r,_),_.X=j(n,_),_.c=j(t,_);function j(M,V){return function(re){var W=[],Ve=-1,fe=0,Ze=M.length,Je,vn,il;for(re instanceof Date||(re=new Date(+re));++Ve<Ze;)M.charCodeAt(Ve)===37&&(W.push(M.slice(fe,Ve)),(vn=bj[Je=M.charAt(++Ve)])!=null?Je=M.charAt(++Ve):vn=Je==="e"?" ":"0",(il=V[Je])&&(Je=il(re,vn)),W.push(Je),fe=Ve+1);return W.push(M.slice(fe,Ve)),W.join("")}}function C(M,V){return function(re){var W=wl(1900,void 0,1),Ve=E(W,M,re+="",0),fe,Ze;if(Ve!=re.length)return null;if("Q"in W)return new Date(W.Q);if("s"in W)return new Date(W.s*1e3+("L"in W?W.L:0));if(V&&!("Z"in W)&&(W.Z=0),"p"in W&&(W.H=W.H%12+W.p*12),W.m===void 0&&(W.m="q"in W?W.q:0),"V"in W){if(W.V<1||W.V>53)return null;"w"in W||(W.w=1),"Z"in W?(fe=bg(wl(W.y,0,1)),Ze=fe.getUTCDay(),fe=Ze>4||Ze===0?ih.ceil(fe):ih(fe),fe=Om.offset(fe,(W.V-1)*7),W.y=fe.getUTCFullYear(),W.m=fe.getUTCMonth(),W.d=fe.getUTCDate()+(W.w+6)%7):(fe=yg(wl(W.y,0,1)),Ze=fe.getDay(),fe=Ze>4||Ze===0?ah.ceil(fe):ah(fe),fe=mu.offset(fe,(W.V-1)*7),W.y=fe.getFullYear(),W.m=fe.getMonth(),W.d=fe.getDate()+(W.w+6)%7)}else("W"in W||"U"in W)&&("w"in W||(W.w="u"in W?W.u%7:"W"in W?1:0),Ze="Z"in W?bg(wl(W.y,0,1)).getUTCDay():yg(wl(W.y,0,1)).getDay(),W.m=0,W.d="W"in W?(W.w+6)%7+W.W*7-(Ze+5)%7:W.w+W.U*7-(Ze+6)%7);return"Z"in W?(W.H+=W.Z/100|0,W.M+=W.Z%100,bg(W)):yg(W)}}function E(M,V,re,W){for(var Ve=0,fe=V.length,Ze=re.length,Je,vn;Ve<fe;){if(W>=Ze)return-1;if(Je=V.charCodeAt(Ve++),Je===37){if(Je=V.charAt(Ve++),vn=S[Je in bj?V.charAt(Ve++):Je],!vn||(W=vn(M,re,W))<0)return-1}else if(Je!=re.charCodeAt(W++))return-1}return W}function k(M,V,re){var W=u.exec(V.slice(re));return W?(M.p=d.get(W[0].toLowerCase()),re+W[0].length):-1}function A(M,V,re){var W=m.exec(V.slice(re));return W?(M.w=v.get(W[0].toLowerCase()),re+W[0].length):-1}function N(M,V,re){var W=f.exec(V.slice(re));return W?(M.w=h.get(W[0].toLowerCase()),re+W[0].length):-1}function T(M,V,re){var W=y.exec(V.slice(re));return W?(M.m=g.get(W[0].toLowerCase()),re+W[0].length):-1}function I(M,V,re){var W=x.exec(V.slice(re));return W?(M.m=b.get(W[0].toLowerCase()),re+W[0].length):-1}function L(M,V,re){return E(M,t,V,re)}function H(M,V,re){return E(M,r,V,re)}function O(M,V,re){return E(M,n,V,re)}function R(M){return o[M.getDay()]}function D(M){return i[M.getDay()]}function P(M){return c[M.getMonth()]}function U(M){return s[M.getMonth()]}function G(M){return a[+(M.getHours()>=12)]}function K(M){return 1+~~(M.getMonth()/3)}function Q(M){return o[M.getUTCDay()]}function ee(M){return i[M.getUTCDay()]}function ne(M){return c[M.getUTCMonth()]}function B(M){return s[M.getUTCMonth()]}function F(M){return a[+(M.getUTCHours()>=12)]}function oe(M){return 1+~~(M.getUTCMonth()/3)}return{format:function(M){var V=j(M+="",w);return V.toString=function(){return M},V},parse:function(M){var V=C(M+="",!1);return V.toString=function(){return M},V},utcFormat:function(M){var V=j(M+="",_);return V.toString=function(){return M},V},utcParse:function(M){var V=C(M+="",!0);return V.toString=function(){return M},V}}}var bj={"-":"",_:" ",0:"0"},Ct=/^\s*\d+/,YW=/^%/,XW=/[\\^$*+?|[\]().{}]/g;function pe(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",i=a.length;return n+(i<r?new Array(r-i+1).join(t)+a:a)}function ZW(e){return e.replace(XW,"\\$&")}function _l(e){return new RegExp("^(?:"+e.map(ZW).join("|")+")","i")}function Sl(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function JW(e,t,r){var n=Ct.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function QW(e,t,r){var n=Ct.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function eH(e,t,r){var n=Ct.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function tH(e,t,r){var n=Ct.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function rH(e,t,r){var n=Ct.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function xj(e,t,r){var n=Ct.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function wj(e,t,r){var n=Ct.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function nH(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function aH(e,t,r){var n=Ct.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function iH(e,t,r){var n=Ct.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function _j(e,t,r){var n=Ct.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function oH(e,t,r){var n=Ct.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function Sj(e,t,r){var n=Ct.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function sH(e,t,r){var n=Ct.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function lH(e,t,r){var n=Ct.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function cH(e,t,r){var n=Ct.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function uH(e,t,r){var n=Ct.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function dH(e,t,r){var n=YW.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function fH(e,t,r){var n=Ct.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function hH(e,t,r){var n=Ct.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function jj(e,t){return pe(e.getDate(),t,2)}function mH(e,t){return pe(e.getHours(),t,2)}function pH(e,t){return pe(e.getHours()%12||12,t,2)}function gH(e,t){return pe(1+mu.count(da(e),e),t,3)}function gR(e,t){return pe(e.getMilliseconds(),t,3)}function vH(e,t){return gR(e,t)+"000"}function yH(e,t){return pe(e.getMonth()+1,t,2)}function bH(e,t){return pe(e.getMinutes(),t,2)}function xH(e,t){return pe(e.getSeconds(),t,2)}function wH(e){var t=e.getDay();return t===0?7:t}function _H(e,t){return pe(Am.count(da(e)-1,e),t,2)}function vR(e){var t=e.getDay();return t>=4||t===0?As(e):As.ceil(e)}function SH(e,t){return e=vR(e),pe(As.count(da(e),e)+(da(e).getDay()===4),t,2)}function jH(e){return e.getDay()}function CH(e,t){return pe(ah.count(da(e)-1,e),t,2)}function EH(e,t){return pe(e.getFullYear()%100,t,2)}function OH(e,t){return e=vR(e),pe(e.getFullYear()%100,t,2)}function AH(e,t){return pe(e.getFullYear()%1e4,t,4)}function kH(e,t){var r=e.getDay();return e=r>=4||r===0?As(e):As.ceil(e),pe(e.getFullYear()%1e4,t,4)}function TH(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+pe(t/60|0,"0",2)+pe(t%60,"0",2)}function Cj(e,t){return pe(e.getUTCDate(),t,2)}function NH(e,t){return pe(e.getUTCHours(),t,2)}function RH(e,t){return pe(e.getUTCHours()%12||12,t,2)}function DH(e,t){return pe(1+Om.count(fa(e),e),t,3)}function yR(e,t){return pe(e.getUTCMilliseconds(),t,3)}function PH(e,t){return yR(e,t)+"000"}function MH(e,t){return pe(e.getUTCMonth()+1,t,2)}function zH(e,t){return pe(e.getUTCMinutes(),t,2)}function BH(e,t){return pe(e.getUTCSeconds(),t,2)}function IH(e){var t=e.getUTCDay();return t===0?7:t}function $H(e,t){return pe(km.count(fa(e)-1,e),t,2)}function bR(e){var t=e.getUTCDay();return t>=4||t===0?ks(e):ks.ceil(e)}function LH(e,t){return e=bR(e),pe(ks.count(fa(e),e)+(fa(e).getUTCDay()===4),t,2)}function UH(e){return e.getUTCDay()}function qH(e,t){return pe(ih.count(fa(e)-1,e),t,2)}function WH(e,t){return pe(e.getUTCFullYear()%100,t,2)}function HH(e,t){return e=bR(e),pe(e.getUTCFullYear()%100,t,2)}function FH(e,t){return pe(e.getUTCFullYear()%1e4,t,4)}function VH(e,t){var r=e.getUTCDay();return e=r>=4||r===0?ks(e):ks.ceil(e),pe(e.getUTCFullYear()%1e4,t,4)}function KH(){return"+0000"}function Ej(){return"%"}function Oj(e){return+e}function Aj(e){return Math.floor(+e/1e3)}var To,xR,wR;GH({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function GH(e){return To=GW(e),xR=To.format,To.parse,wR=To.utcFormat,To.utcParse,To}function YH(e){return new Date(e)}function XH(e){return e instanceof Date?+e:+new Date(+e)}function ox(e,t,r,n,a,i,o,s,c,u){var d=Vb(),f=d.invert,h=d.domain,m=u(".%L"),v=u(":%S"),x=u("%I:%M"),b=u("%I %p"),y=u("%a %d"),g=u("%b %d"),w=u("%B"),_=u("%Y");function S(j){return(c(j)<j?m:s(j)<j?v:o(j)<j?x:i(j)<j?b:n(j)<j?a(j)<j?y:g:r(j)<j?w:_)(j)}return d.invert=function(j){return new Date(f(j))},d.domain=function(j){return arguments.length?h(Array.from(j,XH)):h().map(YH)},d.ticks=function(j){var C=h();return e(C[0],C[C.length-1],j??10)},d.tickFormat=function(j,C){return C==null?S:u(C)},d.nice=function(j){var C=h();return(!j||typeof j.range!="function")&&(j=t(C[0],C[C.length-1],j??10)),j?h(sR(C,j)):d},d.copy=function(){return hu(d,ox(e,t,r,n,a,i,o,s,c,u))},d}function ZH(){return Yr.apply(ox(VW,KW,da,ax,Am,mu,rx,ex,Ii,xR).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function JH(){return Yr.apply(ox(HW,FW,fa,ix,km,Om,nx,tx,Ii,wR).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Tm(){var e=0,t=1,r,n,a,i,o=Ft,s=!1,c;function u(f){return f==null||isNaN(f=+f)?c:o(a===0?.5:(f=(i(f)-r)*a,s?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,r=i(e=+e),n=i(t=+t),a=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(f){return arguments.length?(s=!!f,u):s},u.interpolator=function(f){return arguments.length?(o=f,u):o};function d(f){return function(h){var m,v;return arguments.length?([m,v]=h,o=f(m,v),u):[o(0),o(1)]}}return u.range=d(Gs),u.rangeRound=d(Fb),u.unknown=function(f){return arguments.length?(c=f,u):c},function(f){return i=f,r=f(e),n=f(t),a=r===n?0:1/(n-r),u}}function wi(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function _R(){var e=xi(Tm()(Ft));return e.copy=function(){return wi(e,_R())},xa.apply(e,arguments)}function SR(){var e=Yb(Tm()).domain([1,10]);return e.copy=function(){return wi(e,SR()).base(e.base())},xa.apply(e,arguments)}function jR(){var e=Xb(Tm());return e.copy=function(){return wi(e,jR()).constant(e.constant())},xa.apply(e,arguments)}function sx(){var e=Zb(Tm());return e.copy=function(){return wi(e,sx()).exponent(e.exponent())},xa.apply(e,arguments)}function QH(){return sx.apply(null,arguments).exponent(.5)}function CR(){var e=[],t=Ft;function r(n){if(n!=null&&!isNaN(n=+n))return t((du(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(si),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,i)=>Iq(e,i/n))},r.copy=function(){return CR(t).domain(e)},xa.apply(r,arguments)}function Nm(){var e=0,t=.5,r=1,n=1,a,i,o,s,c,u=Ft,d,f=!1,h;function m(x){return isNaN(x=+x)?h:(x=.5+((x=+d(x))-i)*(n*x<n*i?s:c),u(f?Math.max(0,Math.min(1,x)):x))}m.domain=function(x){return arguments.length?([e,t,r]=x,a=d(e=+e),i=d(t=+t),o=d(r=+r),s=a===i?0:.5/(i-a),c=i===o?0:.5/(o-i),n=i<a?-1:1,m):[e,t,r]},m.clamp=function(x){return arguments.length?(f=!!x,m):f},m.interpolator=function(x){return arguments.length?(u=x,m):u};function v(x){return function(b){var y,g,w;return arguments.length?([y,g,w]=b,u=dW(x,[y,g,w]),m):[u(0),u(.5),u(1)]}}return m.range=v(Gs),m.rangeRound=v(Fb),m.unknown=function(x){return arguments.length?(h=x,m):h},function(x){return d=x,a=x(e),i=x(t),o=x(r),s=a===i?0:.5/(i-a),c=i===o?0:.5/(o-i),n=i<a?-1:1,m}}function ER(){var e=xi(Nm()(Ft));return e.copy=function(){return wi(e,ER())},xa.apply(e,arguments)}function OR(){var e=Yb(Nm()).domain([.1,1,10]);return e.copy=function(){return wi(e,OR()).base(e.base())},xa.apply(e,arguments)}function AR(){var e=Xb(Nm());return e.copy=function(){return wi(e,AR()).constant(e.constant())},xa.apply(e,arguments)}function lx(){var e=Zb(Nm());return e.copy=function(){return wi(e,lx()).exponent(e.exponent())},xa.apply(e,arguments)}function eF(){return lx.apply(null,arguments).exponent(.5)}const Rl=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:qb,scaleDiverging:ER,scaleDivergingLog:OR,scaleDivergingPow:lx,scaleDivergingSqrt:eF,scaleDivergingSymlog:AR,scaleIdentity:oR,scaleImplicit:Sy,scaleLinear:iR,scaleLog:lR,scaleOrdinal:Ub,scalePoint:Uq,scalePow:Jb,scaleQuantile:dR,scaleQuantize:fR,scaleRadial:uR,scaleSequential:_R,scaleSequentialLog:SR,scaleSequentialPow:sx,scaleSequentialQuantile:CR,scaleSequentialSqrt:QH,scaleSequentialSymlog:jR,scaleSqrt:PW,scaleSymlog:cR,scaleThreshold:hR,scaleTime:ZH,scaleUtc:JH,tickFormat:aR},Symbol.toStringTag,{value:"Module"}));var wa=e=>e.chartData,kR=z([wa],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),TR=(e,t,r,n)=>n?kR(e):wa(e),tF=(e,t,r)=>r?kR(e):wa(e);function mi(e){if(Array.isArray(e)&&e.length===2){var[t,r]=e;if(qe(t)&&qe(r))return!0}return!1}function kj(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function NR(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[r,n]=e,a,i;if(qe(r))a=r;else if(typeof r=="function")return;if(qe(n))i=n;else if(typeof n=="function")return;var o=[a,i];if(mi(o))return o}}function rF(e,t,r){if(!(!r&&t==null)){if(typeof e=="function"&&t!=null)try{var n=e(t,r);if(mi(n))return kj(n,t,r)}catch{}if(Array.isArray(e)&&e.length===2){var[a,i]=e,o,s;if(a==="auto")t!=null&&(o=Math.min(...t));else if(Z(a))o=a;else if(typeof a=="function")try{t!=null&&(o=a(t==null?void 0:t[0]))}catch{}else if(typeof a=="string"&&X_.test(a)){var c=X_.exec(a);if(c==null||c[1]==null||t==null)o=void 0;else{var u=+c[1];o=t[0]-u}}else o=t==null?void 0:t[0];if(i==="auto")t!=null&&(s=Math.max(...t));else if(Z(i))s=i;else if(typeof i=="function")try{t!=null&&(s=i(t==null?void 0:t[1]))}catch{}else if(typeof i=="string"&&Z_.test(i)){var d=Z_.exec(i);if(d==null||d[1]==null||t==null)s=void 0;else{var f=+d[1];s=t[1]+f}}else s=t==null?void 0:t[1];var h=[o,s];if(mi(h))return t==null?h:kj(h,t,r)}}}var Ys=1e9,nF={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},ux,Le=!0,Kr="[DecimalError] ",Gi=Kr+"Invalid argument: ",cx=Kr+"Exponent out of range: ",Xs=Math.floor,Ri=Math.pow,aF=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,vr,yt=1e7,De=7,RR=9007199254740991,oh=Xs(RR/De),Y={};Y.absoluteValue=Y.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Y.comparedTo=Y.cmp=function(e){var t,r,n,a,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(n=i.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return n===a?0:n>a^i.s<0?1:-1};Y.decimalPlaces=Y.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*De;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};Y.dividedBy=Y.div=function(e){return Qn(this,new this.constructor(e))};Y.dividedToIntegerBy=Y.idiv=function(e){var t=this,r=t.constructor;return Ee(Qn(t,new r(e),0,1),r.precision)};Y.equals=Y.eq=function(e){return!this.cmp(e)};Y.exponent=function(){return ot(this)};Y.greaterThan=Y.gt=function(e){return this.cmp(e)>0};Y.greaterThanOrEqualTo=Y.gte=function(e){return this.cmp(e)>=0};Y.isInteger=Y.isint=function(){return this.e>this.d.length-2};Y.isNegative=Y.isneg=function(){return this.s<0};Y.isPositive=Y.ispos=function(){return this.s>0};Y.isZero=function(){return this.s===0};Y.lessThan=Y.lt=function(e){return this.cmp(e)<0};Y.lessThanOrEqualTo=Y.lte=function(e){return this.cmp(e)<1};Y.logarithm=Y.log=function(e){var t,r=this,n=r.constructor,a=n.precision,i=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(vr))throw Error(Kr+"NaN");if(r.s<1)throw Error(Kr+(r.s?"NaN":"-Infinity"));return r.eq(vr)?new n(0):(Le=!1,t=Qn(Dc(r,i),Dc(e,i),i),Le=!0,Ee(t,a))};Y.minus=Y.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?MR(t,e):DR(t,(e.s=-e.s,e))};Y.modulo=Y.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(Kr+"NaN");return r.s?(Le=!1,t=Qn(r,e,0,1).times(e),Le=!0,r.minus(t)):Ee(new n(r),a)};Y.naturalExponential=Y.exp=function(){return PR(this)};Y.naturalLogarithm=Y.ln=function(){return Dc(this)};Y.negated=Y.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Y.plus=Y.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?DR(t,e):MR(t,(e.s=-e.s,e))};Y.precision=Y.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Gi+e);if(t=ot(a)+1,n=a.d.length-1,r=n*De+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};Y.squareRoot=Y.sqrt=function(){var e,t,r,n,a,i,o,s=this,c=s.constructor;if(s.s<1){if(!s.s)return new c(0);throw Error(Kr+"NaN")}for(e=ot(s),Le=!1,a=Math.sqrt(+s),a==0||a==1/0?(t=Cn(s.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=Xs((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new c(t)):n=new c(a.toString()),r=c.precision,a=o=r+3;;)if(i=n,n=i.plus(Qn(s,i,o+2)).times(.5),Cn(i.d).slice(0,o)===(t=Cn(n.d)).slice(0,o)){if(t=t.slice(o-3,o+1),a==o&&t=="4999"){if(Ee(i,r+1,0),i.times(i).eq(s)){n=i;break}}else if(t!="9999")break;o+=4}return Le=!0,Ee(n,r)};Y.times=Y.mul=function(e){var t,r,n,a,i,o,s,c,u,d=this,f=d.constructor,h=d.d,m=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,r=d.e+e.e,c=h.length,u=m.length,c<u&&(i=h,h=m,m=i,o=c,c=u,u=o),i=[],o=c+u,n=o;n--;)i.push(0);for(n=u;--n>=0;){for(t=0,a=c+n;a>n;)s=i[a]+m[n]*h[a-n-1]+t,i[a--]=s%yt|0,t=s/yt|0;i[a]=(i[a]+t)%yt|0}for(;!i[--o];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,Le?Ee(e,f.precision):e};Y.toDecimalPlaces=Y.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(Tn(e,0,Ys),t===void 0?t=n.rounding:Tn(t,0,8),Ee(r,e+ot(r)+1,t))};Y.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=io(n,!0):(Tn(e,0,Ys),t===void 0?t=a.rounding:Tn(t,0,8),n=Ee(new a(n),e+1,t),r=io(n,!0,e+1)),r};Y.toFixed=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?io(a):(Tn(e,0,Ys),t===void 0?t=i.rounding:Tn(t,0,8),n=Ee(new i(a),e+ot(a)+1,t),r=io(n.abs(),!1,e+ot(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};Y.toInteger=Y.toint=function(){var e=this,t=e.constructor;return Ee(new t(e),ot(e)+1,t.rounding)};Y.toNumber=function(){return+this};Y.toPower=Y.pow=function(e){var t,r,n,a,i,o,s=this,c=s.constructor,u=12,d=+(e=new c(e));if(!e.s)return new c(vr);if(s=new c(s),!s.s){if(e.s<1)throw Error(Kr+"Infinity");return s}if(s.eq(vr))return s;if(n=c.precision,e.eq(vr))return Ee(s,n);if(t=e.e,r=e.d.length-1,o=t>=r,i=s.s,o){if((r=d<0?-d:d)<=RR){for(a=new c(vr),t=Math.ceil(n/De+4),Le=!1;r%2&&(a=a.times(s),Nj(a.d,t)),r=Xs(r/2),r!==0;)s=s.times(s),Nj(s.d,t);return Le=!0,e.s<0?new c(vr).div(a):Ee(a,n)}}else if(i<0)throw Error(Kr+"NaN");return i=i<0&&e.d[Math.max(t,r)]&1?-1:1,s.s=1,Le=!1,a=e.times(Dc(s,n+u)),Le=!0,a=PR(a),a.s=i,a};Y.toPrecision=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?(r=ot(a),n=io(a,r<=i.toExpNeg||r>=i.toExpPos)):(Tn(e,1,Ys),t===void 0?t=i.rounding:Tn(t,0,8),a=Ee(new i(a),e,t),r=ot(a),n=io(a,e<=r||r<=i.toExpNeg,e)),n};Y.toSignificantDigits=Y.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(Tn(e,1,Ys),t===void 0?t=n.rounding:Tn(t,0,8)),Ee(new n(r),e,t)};Y.toString=Y.valueOf=Y.val=Y.toJSON=Y[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=ot(e),r=e.constructor;return io(e,t<=r.toExpNeg||t>=r.toExpPos)};function DR(e,t){var r,n,a,i,o,s,c,u,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),Le?Ee(t,f):t;if(c=e.d,u=t.d,o=e.e,a=t.e,c=c.slice(),i=o-a,i){for(i<0?(n=c,i=-i,s=u.length):(n=u,a=o,s=c.length),o=Math.ceil(f/De),s=o>s?o+1:s+1,i>s&&(i=s,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(s=c.length,i=u.length,s-i<0&&(i=s,n=u,u=c,c=n),r=0;i;)r=(c[--i]=c[i]+u[i]+r)/yt|0,c[i]%=yt;for(r&&(c.unshift(r),++a),s=c.length;c[--s]==0;)c.pop();return t.d=c,t.e=a,Le?Ee(t,f):t}function Tn(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Gi+e)}function Cn(e){var t,r,n,a=e.length-1,i="",o=e[0];if(a>0){for(i+=o,t=1;t<a;t++)n=e[t]+"",r=De-n.length,r&&(i+=Ma(r)),i+=n;o=e[t],n=o+"",r=De-n.length,r&&(i+=Ma(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var Qn=function(){function e(n,a){var i,o=0,s=n.length;for(n=n.slice();s--;)i=n[s]*a+o,n[s]=i%yt|0,o=i/yt|0;return o&&n.unshift(o),n}function t(n,a,i,o){var s,c;if(i!=o)c=i>o?1:-1;else for(s=c=0;s<i;s++)if(n[s]!=a[s]){c=n[s]>a[s]?1:-1;break}return c}function r(n,a,i){for(var o=0;i--;)n[i]-=o,o=n[i]<a[i]?1:0,n[i]=o*yt+n[i]-a[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,i,o){var s,c,u,d,f,h,m,v,x,b,y,g,w,_,S,j,C,E,k=n.constructor,A=n.s==a.s?1:-1,N=n.d,T=a.d;if(!n.s)return new k(n);if(!a.s)throw Error(Kr+"Division by zero");for(c=n.e-a.e,C=T.length,S=N.length,m=new k(A),v=m.d=[],u=0;T[u]==(N[u]||0);)++u;if(T[u]>(N[u]||0)&&--c,i==null?g=i=k.precision:o?g=i+(ot(n)-ot(a))+1:g=i,g<0)return new k(0);if(g=g/De+2|0,u=0,C==1)for(d=0,T=T[0],g++;(u<S||d)&&g--;u++)w=d*yt+(N[u]||0),v[u]=w/T|0,d=w%T|0;else{for(d=yt/(T[0]+1)|0,d>1&&(T=e(T,d),N=e(N,d),C=T.length,S=N.length),_=C,x=N.slice(0,C),b=x.length;b<C;)x[b++]=0;E=T.slice(),E.unshift(0),j=T[0],T[1]>=yt/2&&++j;do d=0,s=t(T,x,C,b),s<0?(y=x[0],C!=b&&(y=y*yt+(x[1]||0)),d=y/j|0,d>1?(d>=yt&&(d=yt-1),f=e(T,d),h=f.length,b=x.length,s=t(f,x,h,b),s==1&&(d--,r(f,C<h?E:T,h))):(d==0&&(s=d=1),f=T.slice()),h=f.length,h<b&&f.unshift(0),r(x,f,b),s==-1&&(b=x.length,s=t(T,x,C,b),s<1&&(d++,r(x,C<b?E:T,b))),b=x.length):s===0&&(d++,x=[0]),v[u++]=d,s&&x[0]?x[b++]=N[_]||0:(x=[N[_]],b=1);while((_++<S||x[0]!==void 0)&&g--)}return v[0]||v.shift(),m.e=c,Ee(m,o?i+ot(m)+1:i)}}();function PR(e,t){var r,n,a,i,o,s,c=0,u=0,d=e.constructor,f=d.precision;if(ot(e)>16)throw Error(cx+ot(e));if(!e.s)return new d(vr);for(Le=!1,s=f,o=new d(.03125);e.abs().gte(.1);)e=e.times(o),u+=5;for(n=Math.log(Ri(2,u))/Math.LN10*2+5|0,s+=n,r=a=i=new d(vr),d.precision=s;;){if(a=Ee(a.times(e),s),r=r.times(++c),o=i.plus(Qn(a,r,s)),Cn(o.d).slice(0,s)===Cn(i.d).slice(0,s)){for(;u--;)i=Ee(i.times(i),s);return d.precision=f,t==null?(Le=!0,Ee(i,f)):i}i=o}}function ot(e){for(var t=e.e*De,r=e.d[0];r>=10;r/=10)t++;return t}function xg(e,t,r){if(t>e.LN10.sd())throw Le=!0,r&&(e.precision=r),Error(Kr+"LN10 precision limit exceeded");return Ee(new e(e.LN10),t)}function Ma(e){for(var t="";e--;)t+="0";return t}function Dc(e,t){var r,n,a,i,o,s,c,u,d,f=1,h=10,m=e,v=m.d,x=m.constructor,b=x.precision;if(m.s<1)throw Error(Kr+(m.s?"NaN":"-Infinity"));if(m.eq(vr))return new x(0);if(t==null?(Le=!1,u=b):u=t,m.eq(10))return t==null&&(Le=!0),xg(x,u);if(u+=h,x.precision=u,r=Cn(v),n=r.charAt(0),i=ot(m),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)m=m.times(e),r=Cn(m.d),n=r.charAt(0),f++;i=ot(m),n>1?(m=new x("0."+r),i++):m=new x(n+"."+r.slice(1))}else return c=xg(x,u+2,b).times(i+""),m=Dc(new x(n+"."+r.slice(1)),u-h).plus(c),x.precision=b,t==null?(Le=!0,Ee(m,b)):m;for(s=o=m=Qn(m.minus(vr),m.plus(vr),u),d=Ee(m.times(m),u),a=3;;){if(o=Ee(o.times(d),u),c=s.plus(Qn(o,new x(a),u)),Cn(c.d).slice(0,u)===Cn(s.d).slice(0,u))return s=s.times(2),i!==0&&(s=s.plus(xg(x,u+2,b).times(i+""))),s=Qn(s,new x(f),u),x.precision=b,t==null?(Le=!0,Ee(s,b)):s;s=c,a+=2}}function Tj(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=Xs(r/De),e.d=[],n=(r+1)%De,r<0&&(n+=De),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=De;n<a;)e.d.push(+t.slice(n,n+=De));t=t.slice(n),n=De-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),Le&&(e.e>oh||e.e<-oh))throw Error(cx+r)}else e.s=0,e.e=0,e.d=[0];return e}function Ee(e,t,r){var n,a,i,o,s,c,u,d,f=e.d;for(o=1,i=f[0];i>=10;i/=10)o++;if(n=t-o,n<0)n+=De,a=t,u=f[d=0];else{if(d=Math.ceil((n+1)/De),i=f.length,d>=i)return e;for(u=i=f[d],o=1;i>=10;i/=10)o++;n%=De,a=n-De+o}if(r!==void 0&&(i=Ri(10,o-a-1),s=u/i%10|0,c=t<0||f[d+1]!==void 0||u%i,c=r<4?(s||c)&&(r==0||r==(e.s<0?3:2)):s>5||s==5&&(r==4||c||r==6&&(n>0?a>0?u/Ri(10,o-a):0:f[d-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return c?(i=ot(e),f.length=1,t=t-i-1,f[0]=Ri(10,(De-t%De)%De),e.e=Xs(-t/De)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(n==0?(f.length=d,i=1,d--):(f.length=d+1,i=Ri(10,De-n),f[d]=a>0?(u/Ri(10,o-a)%Ri(10,a)|0)*i:0),c)for(;;)if(d==0){(f[0]+=i)==yt&&(f[0]=1,++e.e);break}else{if(f[d]+=i,f[d]!=yt)break;f[d--]=0,i=1}for(n=f.length;f[--n]===0;)f.pop();if(Le&&(e.e>oh||e.e<-oh))throw Error(cx+ot(e));return e}function MR(e,t){var r,n,a,i,o,s,c,u,d,f,h=e.constructor,m=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),Le?Ee(t,m):t;if(c=e.d,f=t.d,n=t.e,u=e.e,c=c.slice(),o=u-n,o){for(d=o<0,d?(r=c,o=-o,s=f.length):(r=f,n=u,s=c.length),a=Math.max(Math.ceil(m/De),s)+2,o>a&&(o=a,r.length=1),r.reverse(),a=o;a--;)r.push(0);r.reverse()}else{for(a=c.length,s=f.length,d=a<s,d&&(s=a),a=0;a<s;a++)if(c[a]!=f[a]){d=c[a]<f[a];break}o=0}for(d&&(r=c,c=f,f=r,t.s=-t.s),s=c.length,a=f.length-s;a>0;--a)c[s++]=0;for(a=f.length;a>o;){if(c[--a]<f[a]){for(i=a;i&&c[--i]===0;)c[i]=yt-1;--c[i],c[a]+=yt}c[a]-=f[a]}for(;c[--s]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(t.d=c,t.e=n,Le?Ee(t,m):t):new h(0)}function io(e,t,r){var n,a=ot(e),i=Cn(e.d),o=i.length;return t?(r&&(n=r-o)>0?i=i.charAt(0)+"."+i.slice(1)+Ma(n):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+Ma(-a-1)+i,r&&(n=r-o)>0&&(i+=Ma(n))):a>=o?(i+=Ma(a+1-o),r&&(n=r-a-1)>0&&(i=i+"."+Ma(n))):((n=a+1)<o&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-o)>0&&(a+1===o&&(i+="."),i+=Ma(n))),e.s<0?"-"+i:i}function Nj(e,t){if(e.length>t)return e.length=t,!0}function zR(e){var t,r,n;function a(i){var o=this;if(!(o instanceof a))return new a(i);if(o.constructor=a,i instanceof a){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(Gi+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return Tj(o,i.toString())}else if(typeof i!="string")throw Error(Gi+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,aF.test(i))Tj(o,i);else throw Error(Gi+i)}if(a.prototype=Y,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=zR,a.config=a.set=iF,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function iF(e){if(!e||typeof e!="object")throw Error(Kr+"Object expected");var t,r,n,a=["precision",1,Ys,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if(Xs(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(Gi+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Gi+r+": "+n);return this}var ux=zR(nF);vr=new ux(1);const xe=ux;var oF=e=>e,BR={},IR=e=>e===BR,Rj=e=>function t(){return arguments.length===0||arguments.length===1&&IR(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},$R=(e,t)=>e===1?t:Rj(function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];var i=n.filter(o=>o!==BR).length;return i>=e?t(...n):$R(e-i,Rj(function(){for(var o=arguments.length,s=new Array(o),c=0;c<o;c++)s[c]=arguments[c];var u=n.map(d=>IR(d)?s.shift():d);return t(...u,...s)}))}),sF=e=>$R(e.length,e),Oy=(e,t)=>{for(var r=[],n=e;n<t;++n)r[n-e]=n;return r},lF=sF((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(r=>t[r]).map(e)),cF=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return oF;var a=r.reverse(),i=a[0],o=a.slice(1);return function(){return o.reduce((s,c)=>c(s),i(...arguments))}};function LR(e){var t;return e===0?t=1:t=Math.floor(new xe(e).abs().log(10).toNumber())+1,t}function UR(e,t,r){for(var n=new xe(e),a=0,i=[];n.lt(t)&&a<1e5;)i.push(n.toNumber()),n=n.add(r),a++;return i}var qR=e=>{var[t,r]=e,[n,a]=[t,r];return t>r&&([n,a]=[r,t]),[n,a]},WR=(e,t,r)=>{if(e.lte(0))return new xe(0);var n=LR(e.toNumber()),a=new xe(10).pow(n),i=e.div(a),o=n!==1?.05:.1,s=new xe(Math.ceil(i.div(o).toNumber())).add(r).mul(o),c=s.mul(a);return t?new xe(c.toNumber()):new xe(Math.ceil(c.toNumber()))},uF=(e,t,r)=>{var n=new xe(1),a=new xe(e);if(!a.isint()&&r){var i=Math.abs(e);i<1?(n=new xe(10).pow(LR(e)-1),a=new xe(Math.floor(a.div(n).toNumber())).mul(n)):i>1&&(a=new xe(Math.floor(e)))}else e===0?a=new xe(Math.floor((t-1)/2)):r||(a=new xe(Math.floor(e)));var o=Math.floor((t-1)/2),s=cF(lF(c=>a.add(new xe(c-o).mul(n)).toNumber()),Oy);return s(0,t)},HR=function(t,r,n,a){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-t)/(n-1)))return{step:new xe(0),tickMin:new xe(0),tickMax:new xe(0)};var o=WR(new xe(r).sub(t).div(n-1),a,i),s;t<=0&&r>=0?s=new xe(0):(s=new xe(t).add(r).div(2),s=s.sub(new xe(s).mod(o)));var c=Math.ceil(s.sub(t).div(o).toNumber()),u=Math.ceil(new xe(r).sub(s).div(o).toNumber()),d=c+u+1;return d>n?HR(t,r,n,a,i+1):(d<n&&(u=r>0?u+(n-d):u,c=r>0?c:c+(n-d)),{step:o,tickMin:s.sub(new xe(c).mul(o)),tickMax:s.add(new xe(u).mul(o))})},dF=function(t){var[r,n]=t,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(a,2),[s,c]=qR([r,n]);if(s===-1/0||c===1/0){var u=c===1/0?[s,...Oy(0,a-1).map(()=>1/0)]:[...Oy(0,a-1).map(()=>-1/0),c];return r>n?u.reverse():u}if(s===c)return uF(s,a,i);var{step:d,tickMin:f,tickMax:h}=HR(s,c,o,i,0),m=UR(f,h.add(new xe(.1).mul(d)),d);return r>n?m.reverse():m},fF=function(t,r){var[n,a]=t,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[o,s]=qR([n,a]);if(o===-1/0||s===1/0)return[n,a];if(o===s)return[o];var c=Math.max(r,2),u=WR(new xe(s).sub(o).div(c-1),i,0),d=[...UR(new xe(o),new xe(s),u),s];return i===!1&&(d=d.map(f=>Math.round(f))),n>a?d.reverse():d},FR=e=>e.rootProps.maxBarSize,hF=e=>e.rootProps.barGap,VR=e=>e.rootProps.barCategoryGap,mF=e=>e.rootProps.barSize,Rm=e=>e.rootProps.stackOffset,KR=e=>e.rootProps.reverseStackOrder,dx=e=>e.options.chartName,fx=e=>e.rootProps.syncId,GR=e=>e.rootProps.syncMethod,hx=e=>e.options.eventEmitter,Vt={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},Wn={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},fr={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},Dm=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},pF={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Wn.angleAxisId,includeHidden:!1,name:void 0,reversed:Wn.reversed,scale:Wn.scale,tick:Wn.tick,tickCount:void 0,ticks:void 0,type:Wn.type,unit:void 0},gF={allowDataOverflow:fr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:fr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:fr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:fr.scale,tick:fr.tick,tickCount:fr.tickCount,ticks:void 0,type:fr.type,unit:void 0},vF={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:Wn.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Wn.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Wn.scale,tick:Wn.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},yF={allowDataOverflow:fr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:fr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:fr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:fr.scale,tick:fr.tick,tickCount:fr.tickCount,ticks:void 0,type:"category",unit:void 0},mx=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?vF:pF,px=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?yF:gF,Pm=e=>e.polarOptions,gx=z([ya,ba,jt],gq),YR=z([Pm,gx],(e,t)=>{if(e!=null)return cn(e.innerRadius,t,0)}),XR=z([Pm,gx],(e,t)=>{if(e!=null)return cn(e.outerRadius,t,t*.8)}),bF=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]},ZR=z([Pm],bF);z([mx,ZR],Dm);var JR=z([gx,YR,XR],(e,t,r)=>{if(!(e==null||t==null||r==null))return[t,r]});z([px,JR],Dm);var QR=z([_e,Pm,YR,XR,ya,ba],(e,t,r,n,a,i)=>{if(!(e!=="centric"&&e!=="radial"||t==null||r==null||n==null)){var{cx:o,cy:s,startAngle:c,endAngle:u}=t;return{cx:cn(o,a,a/2),cy:cn(s,i,i/2),innerRadius:r,outerRadius:n,startAngle:c,endAngle:u,clockWise:!1}}}),ht=(e,t)=>t,Mm=(e,t,r)=>r;function vx(e){return e==null?void 0:e.id}function eD(e,t,r){var{chartData:n=[]}=t,{allowDuplicatedCategory:a,dataKey:i}=r,o=new Map;return e.forEach(s=>{var c,u=(c=s.data)!==null&&c!==void 0?c:n;if(!(u==null||u.length===0)){var d=vx(s);u.forEach((f,h)=>{var m=i==null||a?h:String(zt(f,i,null)),v=zt(f,s.dataKey,0),x;o.has(m)?x=o.get(m):x={},Object.assign(x,{[d]:v}),o.set(m,x)})}}),Array.from(o.values())}function zm(e){return"stackId"in e&&e.stackId!=null&&e.dataKey!=null}var Bm=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function Im(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function xF(e,t){if(e.length===t.length){for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}return!1}var mt=e=>{var t=_e(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},Zs=e=>e.tooltip.settings.axisId;function Dj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function sh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Dj(Object(r),!0).forEach(function(n){wF(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Dj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wF(e,t,r){return(t=_F(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _F(e){var t=SF(e,"string");return typeof t=="symbol"?t:t+""}function SF(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ay=[0,"auto"],gt={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},tD=(e,t)=>e.cartesianAxis.xAxis[t],_a=(e,t)=>{var r=tD(e,t);return r??gt},vt={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:Ay,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:lu},rD=(e,t)=>e.cartesianAxis.yAxis[t],Sa=(e,t)=>{var r=rD(e,t);return r??vt},jF={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},yx=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return r??jF},Yt=(e,t,r)=>{switch(t){case"xAxis":return _a(e,r);case"yAxis":return Sa(e,r);case"zAxis":return yx(e,r);case"angleAxis":return mx(e,r);case"radiusAxis":return px(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},CF=(e,t,r)=>{switch(t){case"xAxis":return _a(e,r);case"yAxis":return Sa(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},pu=(e,t,r)=>{switch(t){case"xAxis":return _a(e,r);case"yAxis":return Sa(e,r);case"angleAxis":return mx(e,r);case"radiusAxis":return px(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},nD=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function aD(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var bx=e=>e.graphicalItems.cartesianItems,EF=z([ht,Mm],aD),iD=(e,t,r)=>e.filter(r).filter(n=>(t==null?void 0:t.includeHidden)===!0?!0:!n.hide),gu=z([bx,Yt,EF],iD,{memoizeOptions:{resultEqualityCheck:Im}}),oD=z([gu],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(zm)),sD=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),OF=z([gu],sD),lD=e=>e.map(t=>t.data).filter(Boolean).flat(1),AF=z([gu],lD,{memoizeOptions:{resultEqualityCheck:Im}}),cD=(e,t)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:a}=t;return e.length>0?e:r.slice(n,a+1)},xx=z([AF,TR],cD),uD=(e,t,r)=>(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:zt(n,t.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>e.map(a=>({value:zt(a,n)}))):e.map(n=>({value:n})),$m=z([xx,Yt,gu],uD);function dD(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function Ud(e){if(An(e)||e instanceof Date){var t=Number(e);if(qe(t))return t}}function Pj(e){if(Array.isArray(e)){var t=[Ud(e[0]),Ud(e[1])];return mi(t)?t:void 0}var r=Ud(e);if(r!=null)return[r,r]}function ha(e){return e.map(Ud).filter(eL)}function kF(e,t,r){return!r||typeof t!="number"||ln(t)?[]:r.length?ha(r.flatMap(n=>{var a=zt(e,n.dataKey),i,o;if(Array.isArray(a)?[i,o]=a:i=o=a,!(!qe(i)||!qe(o)))return[t-i,t+o]})):[]}var pt=e=>{var t=mt(e),r=Zs(e);return pu(e,t,r)},vu=z([pt],e=>e==null?void 0:e.dataKey),TF=z([oD,TR,pt],eD),fD=(e,t,r,n)=>{var a={},i=t.reduce((o,s)=>{if(s.stackId==null)return o;var c=o[s.stackId];return c==null&&(c=[]),c.push(s),o[s.stackId]=c,o},a);return Object.fromEntries(Object.entries(i).map(o=>{var[s,c]=o,u=n?[...c].reverse():c,d=u.map(vx);return[s,{stackedData:u9(e,d,r),graphicalItems:u}]}))},ky=z([TF,oD,Rm,KR],fD),hD=(e,t,r,n)=>{var{dataStartIndex:a,dataEndIndex:i}=t;if(n==null&&r!=="zAxis"){var o=p9(e,a,i);if(!(o!=null&&o[0]===0&&o[1]===0))return o}},NF=z([Yt],e=>e.allowDataOverflow),wx=e=>{var t;if(e==null||!("domain"in e))return Ay;if(e.domain!=null)return e.domain;if("ticks"in e&&e.ticks!=null){if(e.type==="number"){var r=ha(e.ticks);return[Math.min(...r),Math.max(...r)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:Ay},mD=z([Yt],wx),pD=z([mD,NF],NR),RF=z([ky,wa,ht,pD],hD,{memoizeOptions:{resultEqualityCheck:Bm}}),_x=e=>e.errorBars,DF=(e,t,r)=>e.flatMap(n=>t[n.id]).filter(Boolean).filter(n=>dD(r,n)),lh=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r.filter(Boolean);if(a.length!==0){var i=a.flat(),o=Math.min(...i),s=Math.max(...i);return[o,s]}},gD=(e,t,r,n,a)=>{var i,o;if(r.length>0&&e.forEach(s=>{r.forEach(c=>{var u,d,f=(u=n[c.id])===null||u===void 0?void 0:u.filter(y=>dD(a,y)),h=zt(s,(d=t.dataKey)!==null&&d!==void 0?d:c.dataKey),m=kF(s,h,f);if(m.length>=2){var v=Math.min(...m),x=Math.max(...m);(i==null||v<i)&&(i=v),(o==null||x>o)&&(o=x)}var b=Pj(h);b!=null&&(i=i==null?b[0]:Math.min(i,b[0]),o=o==null?b[1]:Math.max(o,b[1]))})}),(t==null?void 0:t.dataKey)!=null&&e.forEach(s=>{var c=Pj(zt(s,t.dataKey));c!=null&&(i=i==null?c[0]:Math.min(i,c[0]),o=o==null?c[1]:Math.max(o,c[1]))}),qe(i)&&qe(o))return[i,o]},PF=z([xx,Yt,OF,_x,ht],gD,{memoizeOptions:{resultEqualityCheck:Bm}});function MF(e){var{value:t}=e;if(An(t)||t instanceof Date)return t}var zF=(e,t,r)=>{var n=e.map(MF).filter(a=>a!=null);return r&&(t.dataKey==null||t.allowDuplicatedCategory&&oT(n))?YN(0,e.length):t.allowDuplicatedCategory?n:Array.from(new Set(n))},vD=e=>e.referenceElements.dots,Js=(e,t,r)=>e.filter(n=>n.ifOverflow==="extendDomain").filter(n=>t==="xAxis"?n.xAxisId===r:n.yAxisId===r),BF=z([vD,ht,Mm],Js),yD=e=>e.referenceElements.areas,IF=z([yD,ht,Mm],Js),bD=e=>e.referenceElements.lines,$F=z([bD,ht,Mm],Js),xD=(e,t)=>{if(e!=null){var r=ha(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},LF=z(BF,ht,xD),wD=(e,t)=>{if(e!=null){var r=ha(e.flatMap(n=>[t==="xAxis"?n.x1:n.y1,t==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},UF=z([IF,ht],wD);function qF(e){var t;if(e.x!=null)return ha([e.x]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.x);return r==null||r.length===0?[]:ha(r)}function WF(e){var t;if(e.y!=null)return ha([e.y]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.y);return r==null||r.length===0?[]:ha(r)}var _D=(e,t)=>{if(e!=null){var r=e.flatMap(n=>t==="xAxis"?qF(n):WF(n));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},HF=z([$F,ht],_D),FF=z(LF,HF,UF,(e,t,r)=>lh(e,r,t)),SD=(e,t,r,n,a,i,o,s)=>{if(r!=null)return r;var c=o==="vertical"&&s==="xAxis"||o==="horizontal"&&s==="yAxis",u=c?lh(n,i,a):lh(i,a);return rF(t,u,e.allowDataOverflow)},VF=z([Yt,mD,pD,RF,PF,FF,_e,ht],SD,{memoizeOptions:{resultEqualityCheck:Bm}}),KF=[0,1],jD=(e,t,r,n,a,i,o)=>{if(!((e==null||r==null||r.length===0)&&o===void 0)){var{dataKey:s,type:c}=e,u=po(t,i);if(u&&s==null){var d;return YN(0,(d=r==null?void 0:r.length)!==null&&d!==void 0?d:0)}return c==="category"?zF(n,e,u):a==="expand"?KF:o}},Sx=z([Yt,_e,xx,$m,Rm,ht,VF],jD),CD=(e,t,r,n,a)=>{if(e!=null){var{scale:i,type:o}=e;if(i==="auto")return t==="radial"&&a==="radiusAxis"?"band":t==="radial"&&a==="angleAxis"?"linear":o==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?"point":o==="category"?"band":"linear";if(typeof i=="string"){var s="scale".concat(au(i));return s in Rl?s:"point"}}},yu=z([Yt,_e,nD,dx,ht],CD);function GF(e){if(e!=null){if(e in Rl)return Rl[e]();var t="scale".concat(au(e));if(t in Rl)return Rl[t]()}}function jx(e,t,r,n){if(!(r==null||n==null)){if(typeof e.scale=="function")return e.scale.copy().domain(r).range(n);var a=GF(t);if(a!=null){var i=a.domain(r).range(n);return i9(i),i}}}var ED=(e,t,r)=>{var n=wx(t);if(!(r!=="auto"&&r!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&mi(e))return dF(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&mi(e))return fF(e,t.tickCount,t.allowDecimals)}},Cx=z([Sx,pu,yu],ED),OD=(e,t,r,n)=>{if(n!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&mi(t)&&Array.isArray(r)&&r.length>0){var a=t[0],i=r[0],o=t[1],s=r[r.length-1];return[Math.min(a,i),Math.max(o,s)]}return t},YF=z([Yt,Sx,Cx,ht],OD),XF=z($m,Yt,(e,t)=>{if(!(!t||t.type!=="number")){var r=1/0,n=Array.from(ha(e.map(f=>f.value))).sort((f,h)=>f-h),a=n[0],i=n[n.length-1];if(a==null||i==null)return 1/0;var o=i-a;if(o===0)return 1/0;for(var s=0;s<n.length-1;s++){var c=n[s],u=n[s+1];if(!(c==null||u==null)){var d=u-c;r=Math.min(r,d)}}return r/o}}),AD=z(XF,_e,VR,jt,(e,t,r,n,a)=>a,(e,t,r,n,a)=>{if(!qe(e))return 0;var i=t==="vertical"?n.height:n.width;if(a==="gap")return e*i/2;if(a==="no-gap"){var o=cn(r,e*i),s=e*i/2;return s-o-(s-o)/i*o}return 0}),ZF=(e,t,r)=>{var n=_a(e,t);return n==null||typeof n.padding!="string"?0:AD(e,"xAxis",t,r,n.padding)},JF=(e,t,r)=>{var n=Sa(e,t);return n==null||typeof n.padding!="string"?0:AD(e,"yAxis",t,r,n.padding)},QF=z(_a,ZF,(e,t)=>{var r,n;if(e==null)return{left:0,right:0};var{padding:a}=e;return typeof a=="string"?{left:t,right:t}:{left:((r=a.left)!==null&&r!==void 0?r:0)+t,right:((n=a.right)!==null&&n!==void 0?n:0)+t}}),eV=z(Sa,JF,(e,t)=>{var r,n;if(e==null)return{top:0,bottom:0};var{padding:a}=e;return typeof a=="string"?{top:t,bottom:t}:{top:((r=a.top)!==null&&r!==void 0?r:0)+t,bottom:((n=a.bottom)!==null&&n!==void 0?n:0)+t}}),tV=z([jt,QF,bm,ym,(e,t,r)=>r],(e,t,r,n,a)=>{var{padding:i}=n;return a?[i.left,r.width-i.right]:[e.left+t.left,e.left+e.width-t.right]}),rV=z([jt,_e,eV,bm,ym,(e,t,r)=>r],(e,t,r,n,a,i)=>{var{padding:o}=a;return i?[n.height-o.bottom,o.top]:t==="horizontal"?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),bu=(e,t,r,n)=>{var a;switch(t){case"xAxis":return tV(e,r,n);case"yAxis":return rV(e,r,n);case"zAxis":return(a=yx(e,r))===null||a===void 0?void 0:a.range;case"angleAxis":return ZR(e);case"radiusAxis":return JR(e,r);default:return}},kD=z([Yt,bu],Dm),Lm=z([Yt,yu,YF,kD],jx);z([gu,_x,ht],DF);function TD(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var Um=(e,t)=>t,qm=(e,t,r)=>r,nV=z(gm,Um,qm,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(TD)),aV=z(vm,Um,qm,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(TD)),ND=(e,t)=>({width:e.width,height:t.height}),iV=(e,t)=>{var r=typeof t.width=="number"?t.width:lu;return{width:r,height:e.height}},RD=z(jt,_a,ND),oV=(e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}},sV=(e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}},lV=z(ba,jt,nV,Um,qm,(e,t,r,n,a)=>{var i={},o;return r.forEach(s=>{var c=ND(t,s);o==null&&(o=oV(t,n,e));var u=n==="top"&&!a||n==="bottom"&&a;i[s.id]=o-Number(u)*c.height,o+=(u?-1:1)*c.height}),i}),cV=z(ya,jt,aV,Um,qm,(e,t,r,n,a)=>{var i={},o;return r.forEach(s=>{var c=iV(t,s);o==null&&(o=sV(t,n,e));var u=n==="left"&&!a||n==="right"&&a;i[s.id]=o-Number(u)*c.width,o+=(u?-1:1)*c.width}),i}),uV=(e,t)=>{var r=_a(e,t);if(r!=null)return lV(e,r.orientation,r.mirror)},dV=z([jt,_a,uV,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var a=r==null?void 0:r[n];return a==null?{x:e.left,y:0}:{x:e.left,y:a}}}),fV=(e,t)=>{var r=Sa(e,t);if(r!=null)return cV(e,r.orientation,r.mirror)},hV=z([jt,Sa,fV,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var a=r==null?void 0:r[n];return a==null?{x:0,y:e.top}:{x:a,y:e.top}}}),DD=z(jt,Sa,(e,t)=>{var r=typeof t.width=="number"?t.width:lu;return{width:r,height:e.height}}),Mj=(e,t,r)=>{switch(t){case"xAxis":return RD(e,r).width;case"yAxis":return DD(e,r).height;default:return}},PD=(e,t,r,n)=>{if(r!=null){var{allowDuplicatedCategory:a,type:i,dataKey:o}=r,s=po(e,n),c=t.map(u=>u.value);if(o&&s&&i==="category"&&a&&oT(c))return c}},Ex=z([_e,$m,Yt,ht],PD),MD=(e,t,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:a,scale:i}=r,o=po(e,n);if(o&&(a==="number"||i!=="auto"))return t.map(s=>s.value)}},Ox=z([_e,$m,pu,ht],MD),zj=z([_e,CF,yu,Lm,Ex,Ox,bu,Cx,ht],(e,t,r,n,a,i,o,s,c)=>{if(t!=null){var u=po(e,c);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:c,categoricalDomain:i,duplicateDomain:a,isCategorical:u,niceTicks:s,range:o,realScaleType:r,scale:n}}}),mV=(e,t,r,n,a,i,o,s,c)=>{if(!(t==null||n==null)){var u=po(e,c),{type:d,ticks:f,tickCount:h}=t,m=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,v=d==="category"&&n.bandwidth?n.bandwidth()/m:0;v=c==="angleAxis"&&i!=null&&i.length>=2?tr(i[0]-i[1])*2*v:v;var x=f||a;if(x){var b=x.map((y,g)=>{var w=o?o.indexOf(y):y;return{index:g,coordinate:n(w)+v,value:y,offset:v}});return b.filter(y=>qe(y.coordinate))}return u&&s?s.map((y,g)=>({coordinate:n(y)+v,value:y,index:g,offset:v})).filter(y=>qe(y.coordinate)):n.ticks?n.ticks(h).map(y=>({coordinate:n(y)+v,value:y,offset:v})):n.domain().map((y,g)=>({coordinate:n(y)+v,value:o?o[y]:y,index:g,offset:v}))}},zD=z([_e,pu,yu,Lm,Cx,bu,Ex,Ox,ht],mV),pV=(e,t,r,n,a,i,o)=>{if(!(t==null||r==null||n==null||n[0]===n[1])){var s=po(e,o),{tickCount:c}=t,u=0;return u=o==="angleAxis"&&(n==null?void 0:n.length)>=2?tr(n[0]-n[1])*2*u:u,s&&i?i.map((d,f)=>({coordinate:r(d)+u,value:d,index:f,offset:u})):r.ticks?r.ticks(c).map(d=>({coordinate:r(d)+u,value:d,offset:u})):r.domain().map((d,f)=>({coordinate:r(d)+u,value:a?a[d]:d,index:f,offset:u}))}},Ts=z([_e,pu,Lm,bu,Ex,Ox,ht],pV),Ns=z(Yt,Lm,(e,t)=>{if(!(e==null||t==null))return sh(sh({},e),{},{scale:t})}),gV=z([Yt,yu,Sx,kD],jx);z((e,t,r)=>yx(e,r),gV,(e,t)=>{if(!(e==null||t==null))return sh(sh({},e),{},{scale:t})});var vV=z([_e,gm,vm],(e,t,r)=>{switch(e){case"horizontal":return t.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),BD=e=>e.options.defaultTooltipEventType,ID=e=>e.options.validateTooltipEventTypes;function $D(e,t,r){if(e==null)return t;var n=e?"axis":"item";return r==null?t:r.includes(n)?n:t}function Ax(e,t){var r=BD(e),n=ID(e);return $D(t,r,n)}function yV(e){return te(t=>Ax(t,e))}var LD=(e,t)=>{var r,n=Number(t);if(!(ln(n)||t==null))return n>=0?e==null||(r=e[n])===null||r===void 0?void 0:r.value:void 0},bV=e=>e.tooltip.settings,Wa={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},xV={itemInteraction:{click:Wa,hover:Wa},axisInteraction:{click:Wa,hover:Wa},keyboardInteraction:Wa,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},UD=or({name:"tooltip",initialState:xV,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:$e()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:r,next:n}=t.payload,a=sn(e).tooltipItemPayloads.indexOf(r);a>-1&&(e.tooltipItemPayloads[a]=n)},prepare:$e()},removeTooltipEntrySettings:{reducer(e,t){var r=sn(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},prepare:$e()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate}}}),{addTooltipEntrySettings:wV,replaceTooltipEntrySettings:_V,removeTooltipEntrySettings:SV,setTooltipSettingsState:jV,setActiveMouseOverItemIndex:qD,mouseLeaveItem:CV,mouseLeaveChart:WD,setActiveClickItemIndex:EV,setMouseOverAxisIndex:HD,setMouseClickAxisIndex:OV,setSyncInteraction:Ty,setKeyboardInteraction:Ny}=UD.actions,AV=UD.reducer;function Bj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function gd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Bj(Object(r),!0).forEach(function(n){kV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Bj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function kV(e,t,r){return(t=TV(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function TV(e){var t=NV(e,"string");return typeof t=="symbol"?t:t+""}function NV(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function RV(e,t,r){return t==="axis"?r==="click"?e.axisInteraction.click:e.axisInteraction.hover:r==="click"?e.itemInteraction.click:e.itemInteraction.hover}function DV(e){return e.index!=null}var FD=(e,t,r,n)=>{if(t==null)return Wa;var a=RV(e,t,r);if(a==null)return Wa;if(a.active)return a;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var i=e.settings.active===!0;if(DV(a)){if(i)return gd(gd({},a),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n,graphicalItemId:void 0};return gd(gd({},Wa),{},{coordinate:a.coordinate})};function PV(e){if(typeof e=="number")return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var r=Number(e);return Number.isFinite(r)?r:void 0}function MV(e,t){var r=PV(e),n=t[0],a=t[1];if(r===void 0)return!1;var i=Math.min(n,a),o=Math.max(n,a);return r>=i&&r<=o}function zV(e,t,r){if(r==null||t==null)return!0;var n=zt(e,t);return n==null||!mi(r)?!0:MV(n,r)}var kx=(e,t,r,n)=>{var a=e==null?void 0:e.index;if(a==null)return null;var i=Number(a);if(!qe(i))return a;var o=0,s=1/0;t.length>0&&(s=t.length-1);var c=Math.max(o,Math.min(i,s)),u=t[c];return u==null||zV(u,r,n)?String(c):null},VD=(e,t,r,n,a,i,o,s)=>{if(!(i==null||s==null)){var c=o[0],u=c==null?void 0:s(c.positions,i);if(u!=null)return u;var d=a==null?void 0:a[Number(i)];if(d)switch(r){case"horizontal":return{x:d.coordinate,y:(n.top+t)/2};default:return{x:(n.left+e)/2,y:d.coordinate}}}},KD=(e,t,r,n)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var a;if(r==="hover"?a=e.itemInteraction.hover.graphicalItemId:a=e.itemInteraction.click.graphicalItemId,a==null&&n!=null){var i=e.tooltipItemPayloads[0];return i!=null?[i]:[]}return e.tooltipItemPayloads.filter(o=>{var s;return((s=o.settings)===null||s===void 0?void 0:s.graphicalItemId)===a})},xu=e=>e.options.tooltipPayloadSearcher,Qs=e=>e.tooltip;function Ij(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function $j(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ij(Object(r),!0).forEach(function(n){BV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ij(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function BV(e,t,r){return(t=IV(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function IV(e){var t=$V(e,"string");return typeof t=="symbol"?t:t+""}function $V(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function LV(e,t){return e??t}var GD=(e,t,r,n,a,i,o)=>{if(!(t==null||i==null)){var{chartData:s,computedData:c,dataStartIndex:u,dataEndIndex:d}=r,f=[];return e.reduce((h,m)=>{var v,{dataDefinedOnItem:x,settings:b}=m,y=LV(x,s),g=Array.isArray(y)?mN(y,u,d):y,w=(v=b==null?void 0:b.dataKey)!==null&&v!==void 0?v:n,_=b==null?void 0:b.nameKey,S;if(n&&Array.isArray(g)&&!Array.isArray(g[0])&&o==="axis"?S=Q$(g,n,a):S=i(g,t,c,_),Array.isArray(S))S.forEach(C=>{var E=$j($j({},b),{},{name:C.name,unit:C.unit,color:void 0,fill:void 0});h.push(J_({tooltipEntrySettings:E,dataKey:C.dataKey,payload:C.payload,value:zt(C.payload,C.dataKey),name:C.name}))});else{var j;h.push(J_({tooltipEntrySettings:b,dataKey:w,payload:S,value:zt(S,w),name:(j=zt(S,_))!==null&&j!==void 0?j:b==null?void 0:b.name}))}return h},f)}},Tx=z([pt,_e,nD,dx,mt],CD),UV=z([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),qV=z([mt,Zs],aD),el=z([UV,pt,qV],iD,{memoizeOptions:{resultEqualityCheck:Im}}),WV=z([el],e=>e.filter(zm)),HV=z([el],lD,{memoizeOptions:{resultEqualityCheck:Im}}),tl=z([HV,wa],cD),FV=z([WV,wa,pt],eD),Nx=z([tl,pt,el],uD),YD=z([pt],wx),VV=z([pt],e=>e.allowDataOverflow),XD=z([YD,VV],NR),KV=z([el],e=>e.filter(zm)),GV=z([FV,KV,Rm,KR],fD),YV=z([GV,wa,mt,XD],hD),XV=z([el],sD),ZV=z([tl,pt,XV,_x,mt],gD,{memoizeOptions:{resultEqualityCheck:Bm}}),JV=z([vD,mt,Zs],Js),QV=z([JV,mt],xD),eK=z([yD,mt,Zs],Js),tK=z([eK,mt],wD),rK=z([bD,mt,Zs],Js),nK=z([rK,mt],_D),aK=z([QV,nK,tK],lh),iK=z([pt,YD,XD,YV,ZV,aK,_e,mt],SD),wu=z([pt,_e,tl,Nx,Rm,mt,iK],jD),oK=z([wu,pt,Tx],ED),sK=z([pt,wu,oK,mt],OD),ZD=e=>{var t=mt(e),r=Zs(e),n=!1;return bu(e,t,r,n)},JD=z([pt,ZD],Dm),QD=z([pt,Tx,sK,JD],jx),lK=z([_e,Nx,pt,mt],PD),cK=z([_e,Nx,pt,mt],MD),uK=(e,t,r,n,a,i,o,s)=>{if(t){var{type:c}=t,u=po(e,s);if(n){var d=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,f=c==="category"&&n.bandwidth?n.bandwidth()/d:0;return f=s==="angleAxis"&&a!=null&&(a==null?void 0:a.length)>=2?tr(a[0]-a[1])*2*f:f,u&&o?o.map((h,m)=>({coordinate:n(h)+f,value:h,index:m,offset:f})):n.domain().map((h,m)=>({coordinate:n(h)+f,value:i?i[h]:h,index:m,offset:f}))}}},ja=z([_e,pt,Tx,QD,ZD,lK,cK,mt],uK),Rx=z([BD,ID,bV],(e,t,r)=>$D(r.shared,e,t)),eP=e=>e.tooltip.settings.trigger,Dx=e=>e.tooltip.settings.defaultIndex,_u=z([Qs,Rx,eP,Dx],FD),Rs=z([_u,tl,vu,wu],kx),tP=z([ja,Rs],LD),rP=z([_u],e=>{if(e)return e.dataKey});z([_u],e=>{if(e)return e.graphicalItemId});var nP=z([Qs,Rx,eP,Dx],KD),dK=z([ya,ba,_e,jt,ja,Dx,nP,xu],VD),fK=z([_u,dK],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),hK=z([_u],e=>{var t;return(t=e==null?void 0:e.active)!==null&&t!==void 0?t:!1}),mK=z([nP,Rs,wa,vu,tP,xu,Rx],GD);z([mK],e=>{if(e!=null){var t=e.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(t))}});function Lj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Uj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Lj(Object(r),!0).forEach(function(n){pK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Lj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function pK(e,t,r){return(t=gK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gK(e){var t=vK(e,"string");return typeof t=="symbol"?t:t+""}function vK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var yK=()=>te(pt),bK=()=>{var e=yK(),t=te(ja),r=te(QD);return Lf(!e||!r?void 0:Uj(Uj({},e),{},{scale:r}),t)};function qj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function No(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qj(Object(r),!0).forEach(function(n){xK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xK(e,t,r){return(t=wK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wK(e){var t=_K(e,"string");return typeof t=="symbol"?t:t+""}function _K(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var SK=(e,t,r,n)=>{var a=t.find(i=>i&&i.index===r);if(a){if(e==="horizontal")return{x:a.coordinate,y:n.chartY};if(e==="vertical")return{x:n.chartX,y:a.coordinate}}return{x:0,y:0}},jK=(e,t,r,n)=>{var a=t.find(u=>u&&u.index===r);if(a){if(e==="centric"){var i=a.coordinate,{radius:o}=n;return No(No(No({},n),Pt(n.cx,n.cy,o,i)),{},{angle:i,radius:o})}var s=a.coordinate,{angle:c}=n;return No(No(No({},n),Pt(n.cx,n.cy,s,c)),{},{angle:c,radius:s})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function CK(e,t){var{chartX:r,chartY:n}=e;return r>=t.left&&r<=t.left+t.width&&n>=t.top&&n<=t.top+t.height}var aP=(e,t,r,n,a)=>{var i,o=(i=t==null?void 0:t.length)!==null&&i!==void 0?i:0;if(o<=1||e==null)return 0;if(n==="angleAxis"&&a!=null&&Math.abs(Math.abs(a[1]-a[0])-360)<=1e-6)for(var s=0;s<o;s++){var c,u,d,f,h,m=s>0?(c=r[s-1])===null||c===void 0?void 0:c.coordinate:(u=r[o-1])===null||u===void 0?void 0:u.coordinate,v=(d=r[s])===null||d===void 0?void 0:d.coordinate,x=s>=o-1?(f=r[0])===null||f===void 0?void 0:f.coordinate:(h=r[s+1])===null||h===void 0?void 0:h.coordinate,b=void 0;if(!(m==null||v==null||x==null))if(tr(v-m)!==tr(x-v)){var y=[];if(tr(x-v)===tr(a[1]-a[0])){b=x;var g=v+a[1]-a[0];y[0]=Math.min(g,(g+m)/2),y[1]=Math.max(g,(g+m)/2)}else{b=m;var w=x+a[1]-a[0];y[0]=Math.min(v,(w+v)/2),y[1]=Math.max(v,(w+v)/2)}var _=[Math.min(v,(b+v)/2),Math.max(v,(b+v)/2)];if(e>_[0]&&e<=_[1]||e>=y[0]&&e<=y[1]){var S;return(S=r[s])===null||S===void 0?void 0:S.index}}else{var j=Math.min(m,x),C=Math.max(m,x);if(e>(j+v)/2&&e<=(C+v)/2){var E;return(E=r[s])===null||E===void 0?void 0:E.index}}}else if(t)for(var k=0;k<o;k++){var A=t[k];if(A!=null){var N=t[k+1],T=t[k-1];if(k===0&&N!=null&&e<=(A.coordinate+N.coordinate)/2||k===o-1&&T!=null&&e>(A.coordinate+T.coordinate)/2||k>0&&k<o-1&&T!=null&&N!=null&&e>(A.coordinate+T.coordinate)/2&&e<=(A.coordinate+N.coordinate)/2)return A.index}}return-1},EK=()=>te(dx),Px=(e,t)=>t,iP=(e,t,r)=>r,Mx=(e,t,r,n)=>n,OK=z(ja,e=>om(e,t=>t.coordinate)),zx=z([Qs,Px,iP,Mx],FD),Bx=z([zx,tl,vu,wu],kx),AK=(e,t,r)=>{if(t!=null){var n=Qs(e);return t==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},oP=z([Qs,Px,iP,Mx],KD),ch=z([ya,ba,_e,jt,ja,Mx,oP,xu],VD),kK=z([zx,ch],(e,t)=>{var r;return(r=e.coordinate)!==null&&r!==void 0?r:t}),sP=z([ja,Bx],LD),TK=z([oP,Bx,wa,vu,sP,xu,Px],GD),NK=z([zx,Bx],(e,t)=>({isActive:e.active&&t!=null,activeIndex:t})),RK=(e,t,r,n,a,i,o)=>{if(!(!e||!r||!n||!a)&&CK(e,o)){var s=g9(e,t),c=aP(s,i,a,r,n),u=SK(t,a,c,e);return{activeIndex:String(c),activeCoordinate:u}}},DK=(e,t,r,n,a,i,o)=>{if(!(!e||!n||!a||!i||!r)){var s=wq(e,r);if(s){var c=v9(s,t),u=aP(c,o,i,n,a),d=jK(t,i,u,s);return{activeIndex:String(u),activeCoordinate:d}}}},PK=(e,t,r,n,a,i,o,s)=>{if(!(!e||!t||!n||!a||!i))return t==="horizontal"||t==="vertical"?RK(e,t,n,a,i,o,s):DK(e,t,r,n,a,i,o)},MK=z(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,r)=>r,(e,t,r)=>{if(t!=null){var n=e[t];if(n!=null)return r?n.panoramaElement:n.element}}),zK=z(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(n=>parseInt(n,10)).concat(Object.values(Vt)),r=Array.from(new Set(t));return r.sort((n,a)=>n-a)},{memoizeOptions:{resultEqualityCheck:xF}});function Wj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Hj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Wj(Object(r),!0).forEach(function(n){BK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Wj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function BK(e,t,r){return(t=IK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function IK(e){var t=$K(e,"string");return typeof t=="symbol"?t:t+""}function $K(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var LK={},UK={zIndexMap:Object.values(Vt).reduce((e,t)=>Hj(Hj({},e),{},{[t]:{element:void 0,panoramaElement:void 0,consumers:0}}),LK)},qK=new Set(Object.values(Vt));function WK(e){return qK.has(e)}var lP=or({name:"zIndex",initialState:UK,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]?e.zIndexMap[r].consumers+=1:e.zIndexMap[r]={consumers:1,element:void 0,panoramaElement:void 0}},prepare:$e()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(e.zIndexMap[r].consumers-=1,e.zIndexMap[r].consumers<=0&&!WK(r)&&delete e.zIndexMap[r])},prepare:$e()},registerZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:r,element:n,isPanorama:a}=t.payload;e.zIndexMap[r]?a?e.zIndexMap[r].panoramaElement=n:e.zIndexMap[r].element=n:e.zIndexMap[r]={consumers:0,element:a?void 0:n,panoramaElement:a?n:void 0}},prepare:$e()},unregisterZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(t.payload.isPanorama?e.zIndexMap[r].panoramaElement=void 0:e.zIndexMap[r].element=void 0)},prepare:$e()}}}),{registerZIndexPortal:HK,unregisterZIndexPortal:FK,registerZIndexPortalElement:VK,unregisterZIndexPortalElement:KK}=lP.actions,GK=lP.reducer;function Ca(e){var{zIndex:t,children:r}=e,n=V9(),a=n&&t!==void 0&&t!==0,i=sr(),o=Xe();p.useLayoutEffect(()=>a?(o(HK({zIndex:t})),()=>{o(FK({zIndex:t}))}):iu,[o,t,a]);var s=te(c=>MK(c,t,i));return a?s?Ha.createPortal(r,s):null:r}function Ry(){return Ry=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ry.apply(null,arguments)}function Fj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function vd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Fj(Object(r),!0).forEach(function(n){YK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Fj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function YK(e,t,r){return(t=XK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function XK(e){var t=ZK(e,"string");return typeof t=="symbol"?t:t+""}function ZK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function JK(e){var{cursor:t,cursorComp:r,cursorProps:n}=e;return p.isValidElement(t)?p.cloneElement(t,n):p.createElement(r,n)}function QK(e){var t,{coordinate:r,payload:n,index:a,offset:i,tooltipAxisBandSize:o,layout:s,cursor:c,tooltipEventType:u,chartName:d}=e,f=r,h=n,m=a;if(!c||!f||d!=="ScatterChart"&&u!=="axis")return null;var v,x,b;if(d==="ScatterChart")v=f,x=P7,b=Vt.cursorLine;else if(d==="BarChart")v=M7(s,f,i,o),x=qN,b=Vt.cursorRectangle;else if(s==="radial"&&cT(f)){var{cx:y,cy:g,radius:w,startAngle:_,endAngle:S}=WN(f);v={cx:y,cy:g,startAngle:_,endAngle:S,innerRadius:w,outerRadius:w},x=FN,b=Vt.cursorLine}else v={points:Cq(s,f,i)},x=BN,b=Vt.cursorLine;var j=typeof c=="object"&&"className"in c?c.className:void 0,C=vd(vd(vd(vd({stroke:"#ccc",pointerEvents:"none"},i),v),db(c)),{},{payload:h,payloadIndex:m,className:Be("recharts-tooltip-cursor",j)});return p.createElement(Ca,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:b},p.createElement(JK,{cursor:c,cursorComp:x,cursorProps:C}))}function eG(e){var t=bK(),r=EN(),n=cu(),a=EK();return t==null||r==null||n==null||a==null?null:p.createElement(QK,Ry({},e,{offset:r,layout:n,tooltipAxisBandSize:t,chartName:a}))}var cP=p.createContext(null),tG=()=>p.useContext(cP),uP={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function i(c,u,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var m=new a(d,f||c,h),v=r?r+u:u;return c._events[v]?c._events[v].fn?c._events[v]=[c._events[v],m]:c._events[v].push(m):(c._events[v]=m,c._eventsCount++),c}function o(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function s(){this._events=new n,this._eventsCount=0}s.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)t.call(d,f)&&u.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},s.prototype.listeners=function(u){var d=r?r+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,m=f.length,v=new Array(m);h<m;h++)v[h]=f[h].fn;return v},s.prototype.listenerCount=function(u){var d=r?r+u:u,f=this._events[d];return f?f.fn?1:f.length:0},s.prototype.emit=function(u,d,f,h,m,v){var x=r?r+u:u;if(!this._events[x])return!1;var b=this._events[x],y=arguments.length,g,w;if(b.fn){switch(b.once&&this.removeListener(u,b.fn,void 0,!0),y){case 1:return b.fn.call(b.context),!0;case 2:return b.fn.call(b.context,d),!0;case 3:return b.fn.call(b.context,d,f),!0;case 4:return b.fn.call(b.context,d,f,h),!0;case 5:return b.fn.call(b.context,d,f,h,m),!0;case 6:return b.fn.call(b.context,d,f,h,m,v),!0}for(w=1,g=new Array(y-1);w<y;w++)g[w-1]=arguments[w];b.fn.apply(b.context,g)}else{var _=b.length,S;for(w=0;w<_;w++)switch(b[w].once&&this.removeListener(u,b[w].fn,void 0,!0),y){case 1:b[w].fn.call(b[w].context);break;case 2:b[w].fn.call(b[w].context,d);break;case 3:b[w].fn.call(b[w].context,d,f);break;case 4:b[w].fn.call(b[w].context,d,f,h);break;default:if(!g)for(S=1,g=new Array(y-1);S<y;S++)g[S-1]=arguments[S];b[w].fn.apply(b[w].context,g)}}return!0},s.prototype.on=function(u,d,f){return i(this,u,d,f,!1)},s.prototype.once=function(u,d,f){return i(this,u,d,f,!0)},s.prototype.removeListener=function(u,d,f,h){var m=r?r+u:u;if(!this._events[m])return this;if(!d)return o(this,m),this;var v=this._events[m];if(v.fn)v.fn===d&&(!h||v.once)&&(!f||v.context===f)&&o(this,m);else{for(var x=0,b=[],y=v.length;x<y;x++)(v[x].fn!==d||h&&!v[x].once||f&&v[x].context!==f)&&b.push(v[x]);b.length?this._events[m]=b.length===1?b[0]:b:o(this,m)}return this},s.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&o(this,d)):(this._events=new n,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=r,s.EventEmitter=s,e.exports=s})(uP);var rG=uP.exports;const nG=ga(rG);var Pc=new nG,Dy="recharts.syncEvent.tooltip",Vj="recharts.syncEvent.brush";function aG(e,t){if(t){var r=Number.parseInt(t,10);if(!ln(r))return e==null?void 0:e[r]}}var iG={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},dP=or({name:"options",initialState:iG,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),oG=dP.reducer,{createEventEmitter:sG}=dP.actions;function lG(e){return e.tooltip.syncInteraction}var cG={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},fP=or({name:"chartData",initialState:cG,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:n}=t.payload;r!=null&&(e.dataStartIndex=r),n!=null&&(e.dataEndIndex=n)}}}),{setChartData:Kj,setDataStartEndIndexes:uG,setComputedData:Cre}=fP.actions,dG=fP.reducer,fG=["x","y"];function Gj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ro(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Gj(Object(r),!0).forEach(function(n){hG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Gj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function hG(e,t,r){return(t=mG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function mG(e){var t=pG(e,"string");return typeof t=="symbol"?t:t+""}function pG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function gG(e,t){if(e==null)return{};var r,n,a=vG(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function vG(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function yG(){var e=te(fx),t=te(hx),r=Xe(),n=te(GR),a=te(ja),i=cu(),o=xm(),s=te(c=>c.rootProps.className);p.useEffect(()=>{if(e==null)return iu;var c=(u,d,f)=>{if(t!==f&&e===u){if(n==="index"){var h;if(o&&d!==null&&d!==void 0&&(h=d.payload)!==null&&h!==void 0&&h.coordinate&&d.payload.sourceViewBox){var m=d.payload.coordinate,{x:v,y:x}=m,b=gG(m,fG),{x:y,y:g,width:w,height:_}=d.payload.sourceViewBox,S=Ro(Ro({},b),{},{x:o.x+(w?(v-y)/w:0)*o.width,y:o.y+(_?(x-g)/_:0)*o.height});r(Ro(Ro({},d),{},{payload:Ro(Ro({},d.payload),{},{coordinate:S})}))}else r(d);return}if(a!=null){var j;if(typeof n=="function"){var C={activeTooltipIndex:d.payload.index==null?void 0:Number(d.payload.index),isTooltipActive:d.payload.active,activeIndex:d.payload.index==null?void 0:Number(d.payload.index),activeLabel:d.payload.label,activeDataKey:d.payload.dataKey,activeCoordinate:d.payload.coordinate},E=n(a,C);j=a[E]}else n==="value"&&(j=a.find(O=>String(O.value)===d.payload.label));var{coordinate:k}=d.payload;if(j==null||d.payload.active===!1||k==null||o==null){r(Ty({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:A,y:N}=k,T=Math.min(A,o.x+o.width),I=Math.min(N,o.y+o.height),L={x:i==="horizontal"?j.coordinate:T,y:i==="horizontal"?I:j.coordinate},H=Ty({active:d.payload.active,coordinate:L,dataKey:d.payload.dataKey,index:String(j.index),label:d.payload.label,sourceViewBox:d.payload.sourceViewBox,graphicalItemId:d.payload.graphicalItemId});r(H)}}};return Pc.on(Dy,c),()=>{Pc.off(Dy,c)}},[s,r,t,e,n,a,i,o])}function bG(){var e=te(fx),t=te(hx),r=Xe();p.useEffect(()=>{if(e==null)return iu;var n=(a,i,o)=>{t!==o&&e===a&&r(uG(i))};return Pc.on(Vj,n),()=>{Pc.off(Vj,n)}},[r,t,e])}function xG(){var e=Xe();p.useEffect(()=>{e(sG())},[e]),yG(),bG()}function wG(e,t,r,n,a,i){var o=te(m=>AK(m,e,t)),s=te(hx),c=te(fx),u=te(GR),d=te(lG),f=d==null?void 0:d.active,h=xm();p.useEffect(()=>{if(!f&&c!=null&&s!=null){var m=Ty({active:i,coordinate:r,dataKey:o,index:a,label:typeof n=="number"?String(n):n,sourceViewBox:h,graphicalItemId:void 0});Pc.emit(Dy,c,m,s)}},[f,r,o,a,n,s,c,u,i,h])}function Yj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Xj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Yj(Object(r),!0).forEach(function(n){_G(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Yj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _G(e,t,r){return(t=SG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function SG(e){var t=jG(e,"string");return typeof t=="symbol"?t:t+""}function jG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function CG(e){return e.dataKey}function EG(e,t){return p.isValidElement(e)?p.cloneElement(e,t):typeof e=="function"?p.createElement(e,t):p.createElement(h7,t)}var Zj=[],OG={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,includeHidden:!1,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function AG(e){var t,r,n=Ar(e,OG),{active:a,allowEscapeViewBox:i,animationDuration:o,animationEasing:s,content:c,filterNull:u,isAnimationActive:d,offset:f,payloadUniqBy:h,position:m,reverseDirection:v,useTranslate3d:x,wrapperStyle:b,cursor:y,shared:g,trigger:w,defaultIndex:_,portal:S,axisId:j}=n,C=Xe(),E=typeof _=="number"?String(_):_;p.useEffect(()=>{C(jV({shared:g,trigger:w,axisId:j,active:a,defaultIndex:E}))},[C,g,w,j,a,E]);var k=xm(),A=zN(),N=yV(g),{activeIndex:T,isActive:I}=(t=te(F=>NK(F,N,w,E)))!==null&&t!==void 0?t:{},L=te(F=>TK(F,N,w,E)),H=te(F=>sP(F,N,w,E)),O=te(F=>kK(F,N,w,E)),R=L,D=tG(),P=(r=a??I)!==null&&r!==void 0?r:!1,[U,G]=eU([R,P]),K=N==="axis"?H:void 0;wG(N,w,O,K,T,P);var Q=S??D;if(Q==null||k==null||N==null)return null;var ee=R??Zj;P||(ee=Zj),u&&ee.length&&(ee=yL(ee.filter(F=>F.value!=null&&(F.hide!==!0||n.includeHidden)),h,CG));var ne=ee.length>0,B=p.createElement(x7,{allowEscapeViewBox:i,animationDuration:o,animationEasing:s,isAnimationActive:d,active:P,coordinate:O,hasPayload:ne,offset:f,position:m,reverseDirection:v,useTranslate3d:x,viewBox:k,wrapperStyle:b,lastBoundingBox:U,innerRef:G,hasPortalFromProps:!!S},EG(c,Xj(Xj({},n),{},{payload:ee,label:K,active:P,activeIndex:T,coordinate:O,accessibilityLayer:A})));return p.createElement(p.Fragment,null,Ha.createPortal(B,Q),P&&p.createElement(eG,{cursor:y,tooltipEventType:N,coordinate:O,payload:ee,index:T}))}var Ix=e=>null;Ix.displayName="Cell";function kG(e,t,r){return(t=TG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function TG(e){var t=NG(e,"string");return typeof t=="symbol"?t:t+""}function NG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class RG{constructor(t){kG(this,"cache",new Map),this.maxSize=t}get(t){var r=this.cache.get(t);return r!==void 0&&(this.cache.delete(t),this.cache.set(t,r)),r}set(t,r){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;n!=null&&this.cache.delete(n)}this.cache.set(t,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function Jj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function DG(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Jj(Object(r),!0).forEach(function(n){PG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Jj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function PG(e,t,r){return(t=MG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function MG(e){var t=zG(e,"string");return typeof t=="symbol"?t:t+""}function zG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var BG={cacheSize:2e3,enableCache:!0},hP=DG({},BG),Qj=new RG(hP.cacheSize),IG={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},eC="recharts_measurement_span";function $G(e,t){var r=t.fontSize||"",n=t.fontFamily||"",a=t.fontWeight||"",i=t.fontStyle||"",o=t.letterSpacing||"",s=t.textTransform||"";return"".concat(e,"|").concat(r,"|").concat(n,"|").concat(a,"|").concat(i,"|").concat(o,"|").concat(s)}var tC=(e,t)=>{try{var r=document.getElementById(eC);r||(r=document.createElement("span"),r.setAttribute("id",eC),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,IG,t),r.textContent="".concat(e);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch{return{width:0,height:0}}},Xl=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Cm.isSsr)return{width:0,height:0};if(!hP.enableCache)return tC(t,r);var n=$G(t,r),a=Qj.get(n);if(a)return a;var i=tC(t,r);return Qj.set(n,i),i},mP;function LG(e,t,r){return(t=UG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function UG(e){var t=qG(e,"string");return typeof t=="symbol"?t:t+""}function qG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var rC=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,nC=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,WG=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,HG=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,FG={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},VG=["cm","mm","pt","pc","in","Q","px"];function KG(e){return VG.includes(e)}var Jo="NaN";function GG(e,t){return e*FG[t]}class kt{static parse(t){var r,[,n,a]=(r=HG.exec(t))!==null&&r!==void 0?r:[];return n==null?kt.NaN:new kt(parseFloat(n),a??"")}constructor(t,r){this.num=t,this.unit=r,this.num=t,this.unit=r,ln(t)&&(this.unit=""),r!==""&&!WG.test(r)&&(this.num=NaN,this.unit=""),KG(r)&&(this.num=GG(t,r),this.unit="px")}add(t){return this.unit!==t.unit?new kt(NaN,""):new kt(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new kt(NaN,""):new kt(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new kt(NaN,""):new kt(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new kt(NaN,""):new kt(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return ln(this.num)}}mP=kt;LG(kt,"NaN",new mP(NaN,""));function pP(e){if(e==null||e.includes(Jo))return Jo;for(var t=e;t.includes("*")||t.includes("/");){var r,[,n,a,i]=(r=rC.exec(t))!==null&&r!==void 0?r:[],o=kt.parse(n??""),s=kt.parse(i??""),c=a==="*"?o.multiply(s):o.divide(s);if(c.isNaN())return Jo;t=t.replace(rC,c.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var u,[,d,f,h]=(u=nC.exec(t))!==null&&u!==void 0?u:[],m=kt.parse(d??""),v=kt.parse(h??""),x=f==="+"?m.add(v):m.subtract(v);if(x.isNaN())return Jo;t=t.replace(nC,x.toString())}return t}var aC=/\(([^()]*)\)/;function YG(e){for(var t=e,r;(r=aC.exec(t))!=null;){var[,n]=r;t=t.replace(aC,pP(n))}return t}function XG(e){var t=e.replace(/\s+/g,"");return t=YG(t),t=pP(t),t}function ZG(e){try{return XG(e)}catch{return Jo}}function wg(e){var t=ZG(e.slice(5,-1));return t===Jo?"":t}var JG=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],QG=["dx","dy","angle","className","breakAll"];function Py(){return Py=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Py.apply(null,arguments)}function iC(e,t){if(e==null)return{};var r,n,a=eY(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function eY(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var gP=/[ \f\n\r\t\v\u2028\u2029]+/,vP=e=>{var{children:t,breakAll:r,style:n}=e;try{var a=[];St(t)||(r?a=t.toString().split(""):a=t.toString().split(gP));var i=a.map(s=>({word:s,width:Xl(s,n).width})),o=r?0:Xl("",n).width;return{wordsWithComputedWidth:i,spaceWidth:o}}catch{return null}};function tY(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var yP=(e,t,r,n)=>e.reduce((a,i)=>{var{word:o,width:s}=i,c=a[a.length-1];if(c&&s!=null&&(t==null||n||c.width+s+r<Number(t)))c.words.push(o),c.width+=s+r;else{var u={words:[o],width:s};a.push(u)}return a},[]),bP=e=>e.reduce((t,r)=>t.width>r.width?t:r),rY="",oC=(e,t,r,n,a,i,o,s)=>{var c=e.slice(0,t),u=vP({breakAll:r,style:n,children:c+rY});if(!u)return[!1,[]];var d=yP(u.wordsWithComputedWidth,i,o,s),f=d.length>a||bP(d).width>Number(i);return[f,d]},nY=(e,t,r,n,a)=>{var{maxLines:i,children:o,style:s,breakAll:c}=e,u=Z(i),d=String(o),f=yP(t,n,r,a);if(!u||a)return f;var h=f.length>i||bP(f).width>Number(n);if(!h)return f;for(var m=0,v=d.length-1,x=0,b;m<=v&&x<=d.length-1;){var y=Math.floor((m+v)/2),g=y-1,[w,_]=oC(d,g,c,s,i,n,r,a),[S]=oC(d,y,c,s,i,n,r,a);if(!w&&!S&&(m=y+1),w&&S&&(v=y-1),!w&&S){b=_;break}x++}return b||f},sC=e=>{var t=St(e)?[]:e.toString().split(gP);return[{words:t,width:void 0}]},aY=e=>{var{width:t,scaleToFit:r,children:n,style:a,breakAll:i,maxLines:o}=e;if((t||r)&&!Cm.isSsr){var s,c,u=vP({breakAll:i,children:n,style:a});if(u){var{wordsWithComputedWidth:d,spaceWidth:f}=u;s=d,c=f}else return sC(n);return nY({breakAll:i,children:n,maxLines:o,style:a},s,c,t,!!r)}return sC(n)},xP="#808080",iY={angle:0,breakAll:!1,capHeight:"0.71em",fill:xP,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},$x=p.forwardRef((e,t)=>{var r=Ar(e,iY),{x:n,y:a,lineHeight:i,capHeight:o,fill:s,scaleToFit:c,textAnchor:u,verticalAnchor:d}=r,f=iC(r,JG),h=p.useMemo(()=>aY({breakAll:f.breakAll,children:f.children,maxLines:f.maxLines,scaleToFit:c,style:f.style,width:f.width}),[f.breakAll,f.children,f.maxLines,c,f.style,f.width]),{dx:m,dy:v,angle:x,className:b,breakAll:y}=f,g=iC(f,QG);if(!An(n)||!An(a)||h.length===0)return null;var w=Number(n)+(Z(m)?m:0),_=Number(a)+(Z(v)?v:0);if(!qe(w)||!qe(_))return null;var S;switch(d){case"start":S=wg("calc(".concat(o,")"));break;case"middle":S=wg("calc(".concat((h.length-1)/2," * -").concat(i," + (").concat(o," / 2))"));break;default:S=wg("calc(".concat(h.length-1," * -").concat(i,")"));break}var j=[];if(c){var C=h[0].width,{width:E}=f;j.push("scale(".concat(Z(E)&&Z(C)?E/C:1,")"))}return x&&j.push("rotate(".concat(x,", ").concat(w,", ").concat(_,")")),j.length&&(g.transform=j.join(" ")),p.createElement("text",Py({},Fr(g),{ref:t,x:w,y:_,className:Be("recharts-text",b),textAnchor:u,fill:s.includes("url")?xP:s}),h.map((k,A)=>{var N=k.words.join(y?"":" ");return p.createElement("tspan",{x:w,dy:A===0?S:i,key:"".concat(N,"-").concat(A)},N)}))});$x.displayName="Text";var oY=["labelRef"],sY=["content"];function lC(e,t){if(e==null)return{};var r,n,a=lY(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function lY(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function cC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ke(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?cC(Object(r),!0).forEach(function(n){cY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):cC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cY(e,t,r){return(t=uY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uY(e){var t=dY(e,"string");return typeof t=="symbol"?t:t+""}function dY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Hn(){return Hn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Hn.apply(null,arguments)}var wP=p.createContext(null),fY=e=>{var{x:t,y:r,upperWidth:n,lowerWidth:a,width:i,height:o,children:s}=e,c=p.useMemo(()=>({x:t,y:r,upperWidth:n,lowerWidth:a,width:i,height:o}),[t,r,n,a,i,o]);return p.createElement(wP.Provider,{value:c},s)},_P=()=>{var e=p.useContext(wP),t=xm();return e||CN(t)},hY=p.createContext(null),mY=()=>{var e=p.useContext(hY),t=te(QR);return e||t},pY=e=>{var{value:t,formatter:r}=e,n=St(e.children)?t:e.children;return typeof r=="function"?r(n):n},Lx=e=>e!=null&&typeof e=="function",gY=(e,t)=>{var r=tr(t-e),n=Math.min(Math.abs(t-e),360);return r*n},vY=(e,t,r,n,a)=>{var{offset:i,className:o}=e,{cx:s,cy:c,innerRadius:u,outerRadius:d,startAngle:f,endAngle:h,clockWise:m}=a,v=(u+d)/2,x=gY(f,h),b=x>=0?1:-1,y,g;switch(t){case"insideStart":y=f+b*i,g=m;break;case"insideEnd":y=h-b*i,g=!m;break;case"end":y=h+b*i,g=m;break;default:throw new Error("Unsupported position ".concat(t))}g=x<=0?g:!g;var w=Pt(s,c,v,y),_=Pt(s,c,v,y+(g?1:-1)*359),S="M".concat(w.x,",").concat(w.y,`
    A`).concat(v,",").concat(v,",0,1,").concat(g?0:1,`,
    `).concat(_.x,",").concat(_.y),j=St(e.id)?wc("recharts-radial-line-"):e.id;return p.createElement("text",Hn({},n,{dominantBaseline:"central",className:Be("recharts-radial-bar-label",o)}),p.createElement("defs",null,p.createElement("path",{id:j,d:S})),p.createElement("textPath",{xlinkHref:"#".concat(j)},r))},yY=(e,t,r)=>{var{cx:n,cy:a,innerRadius:i,outerRadius:o,startAngle:s,endAngle:c}=e,u=(s+c)/2;if(r==="outside"){var{x:d,y:f}=Pt(n,a,o+t,u);return{x:d,y:f,textAnchor:d>=n?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"end"};var h=(i+o)/2,{x:m,y:v}=Pt(n,a,h,u);return{x:m,y:v,textAnchor:"middle",verticalAnchor:"middle"}},My=e=>"cx"in e&&Z(e.cx),bY=(e,t)=>{var{parentViewBox:r,offset:n,position:a}=e,i;r!=null&&!My(r)&&(i=r);var{x:o,y:s,upperWidth:c,lowerWidth:u,height:d}=t,f=o,h=o+(c-u)/2,m=(f+h)/2,v=(c+u)/2,x=f+c/2,b=d>=0?1:-1,y=b*n,g=b>0?"end":"start",w=b>0?"start":"end",_=c>=0?1:-1,S=_*n,j=_>0?"end":"start",C=_>0?"start":"end";if(a==="top"){var E={x:f+c/2,y:s-y,textAnchor:"middle",verticalAnchor:g};return Ke(Ke({},E),i?{height:Math.max(s-i.y,0),width:c}:{})}if(a==="bottom"){var k={x:h+u/2,y:s+d+y,textAnchor:"middle",verticalAnchor:w};return Ke(Ke({},k),i?{height:Math.max(i.y+i.height-(s+d),0),width:u}:{})}if(a==="left"){var A={x:m-S,y:s+d/2,textAnchor:j,verticalAnchor:"middle"};return Ke(Ke({},A),i?{width:Math.max(A.x-i.x,0),height:d}:{})}if(a==="right"){var N={x:m+v+S,y:s+d/2,textAnchor:C,verticalAnchor:"middle"};return Ke(Ke({},N),i?{width:Math.max(i.x+i.width-N.x,0),height:d}:{})}var T=i?{width:v,height:d}:{};return a==="insideLeft"?Ke({x:m+S,y:s+d/2,textAnchor:C,verticalAnchor:"middle"},T):a==="insideRight"?Ke({x:m+v-S,y:s+d/2,textAnchor:j,verticalAnchor:"middle"},T):a==="insideTop"?Ke({x:f+c/2,y:s+y,textAnchor:"middle",verticalAnchor:w},T):a==="insideBottom"?Ke({x:h+u/2,y:s+d-y,textAnchor:"middle",verticalAnchor:g},T):a==="insideTopLeft"?Ke({x:f+S,y:s+y,textAnchor:C,verticalAnchor:w},T):a==="insideTopRight"?Ke({x:f+c-S,y:s+y,textAnchor:j,verticalAnchor:w},T):a==="insideBottomLeft"?Ke({x:h+S,y:s+d-y,textAnchor:C,verticalAnchor:g},T):a==="insideBottomRight"?Ke({x:h+u-S,y:s+d-y,textAnchor:j,verticalAnchor:g},T):a&&typeof a=="object"&&(Z(a.x)||la(a.x))&&(Z(a.y)||la(a.y))?Ke({x:o+cn(a.x,v),y:s+cn(a.y,d),textAnchor:"end",verticalAnchor:"end"},T):Ke({x,y:s+d/2,textAnchor:"middle",verticalAnchor:"middle"},T)},xY={angle:0,offset:5,zIndex:Vt.label,position:"middle",textBreakAll:!1};function za(e){var t=Ar(e,xY),{viewBox:r,position:n,value:a,children:i,content:o,className:s="",textBreakAll:c,labelRef:u}=t,d=mY(),f=_P(),h=n==="center"?f:d??f,m,v,x;if(r==null?m=h:My(r)?m=r:m=CN(r),!m||St(a)&&St(i)&&!p.isValidElement(o)&&typeof o!="function")return null;var b=Ke(Ke({},t),{},{viewBox:m});if(p.isValidElement(o)){var{labelRef:y}=b,g=lC(b,oY);return p.cloneElement(o,g)}if(typeof o=="function"){var{content:w}=b,_=lC(b,sY);if(v=p.createElement(o,_),p.isValidElement(v))return v}else v=pY(t);var S=Fr(t);if(My(m)){if(n==="insideStart"||n==="insideEnd"||n==="end")return vY(t,n,v,S,m);x=yY(m,t.offset,t.position)}else x=bY(t,m);return p.createElement(Ca,{zIndex:t.zIndex},p.createElement($x,Hn({ref:u,className:Be("recharts-label",s)},S,x,{textAnchor:tY(S.textAnchor)?S.textAnchor:x.textAnchor,breakAll:c}),v))}za.displayName="Label";var wY=(e,t,r)=>{if(!e)return null;var n={viewBox:t,labelRef:r};return e===!0?p.createElement(za,Hn({key:"label-implicit"},n)):An(e)?p.createElement(za,Hn({key:"label-implicit",value:e},n)):p.isValidElement(e)?e.type===za?p.cloneElement(e,Ke({key:"label-implicit"},n)):p.createElement(za,Hn({key:"label-implicit",content:e},n)):Lx(e)?p.createElement(za,Hn({key:"label-implicit",content:e},n)):e&&typeof e=="object"?p.createElement(za,Hn({},e,{key:"label-implicit"},n)):null};function _Y(e){var{label:t,labelRef:r}=e,n=_P();return wY(t,n,r)||null}var SP={},jP={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r[r.length-1]}e.last=t})(jP);var CP={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Array.isArray(r)?r:Array.from(r)}e.toArray=t})(CP);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=jP,r=CP,n=nm;function a(i){if(n.isArrayLike(i))return t.last(r.toArray(i))}e.last=a})(SP);var SY=SP.last;const jY=ga(SY);var CY=["valueAccessor"],EY=["dataKey","clockWise","id","textBreakAll","zIndex"];function uh(){return uh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},uh.apply(null,arguments)}function uC(e,t){if(e==null)return{};var r,n,a=OY(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function OY(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var AY=e=>Array.isArray(e.value)?jY(e.value):e.value,EP=p.createContext(void 0),kY=EP.Provider,OP=p.createContext(void 0);OP.Provider;function TY(){return p.useContext(EP)}function NY(){return p.useContext(OP)}function qd(e){var{valueAccessor:t=AY}=e,r=uC(e,CY),{dataKey:n,clockWise:a,id:i,textBreakAll:o,zIndex:s}=r,c=uC(r,EY),u=TY(),d=NY(),f=u||d;return!f||!f.length?null:p.createElement(Ca,{zIndex:s??Vt.label},p.createElement(sa,{className:"recharts-label-list"},f.map((h,m)=>{var v,x=St(n)?t(h,m):zt(h&&h.payload,n),b=St(i)?{}:{id:"".concat(i,"-").concat(m)};return p.createElement(za,uh({key:"label-".concat(m)},Fr(h),c,b,{fill:(v=r.fill)!==null&&v!==void 0?v:h.fill,parentViewBox:h.parentViewBox,value:x,textBreakAll:o,viewBox:h.viewBox,index:m,zIndex:0}))})))}qd.displayName="LabelList";function RY(e){var{label:t}=e;return t?t===!0?p.createElement(qd,{key:"labelList-implicit"}):p.isValidElement(t)||Lx(t)?p.createElement(qd,{key:"labelList-implicit",content:t}):typeof t=="object"?p.createElement(qd,uh({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}var DY={radiusAxis:{},angleAxis:{}},AP=or({name:"polarAxis",initialState:DY,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:Ere,removeRadiusAxis:Ore,addAngleAxis:Are,removeAngleAxis:kre}=AP.actions,PY=AP.reducer,kP={exports:{}},Ae={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ux=Symbol.for("react.transitional.element"),qx=Symbol.for("react.portal"),Wm=Symbol.for("react.fragment"),Hm=Symbol.for("react.strict_mode"),Fm=Symbol.for("react.profiler"),Vm=Symbol.for("react.consumer"),Km=Symbol.for("react.context"),Gm=Symbol.for("react.forward_ref"),Ym=Symbol.for("react.suspense"),Xm=Symbol.for("react.suspense_list"),Zm=Symbol.for("react.memo"),Jm=Symbol.for("react.lazy"),MY=Symbol.for("react.view_transition"),zY=Symbol.for("react.client.reference");function Xr(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case Ux:switch(e=e.type,e){case Wm:case Fm:case Hm:case Ym:case Xm:case MY:return e;default:switch(e=e&&e.$$typeof,e){case Km:case Gm:case Jm:case Zm:return e;case Vm:return e;default:return t}}case qx:return t}}}Ae.ContextConsumer=Vm;Ae.ContextProvider=Km;Ae.Element=Ux;Ae.ForwardRef=Gm;Ae.Fragment=Wm;Ae.Lazy=Jm;Ae.Memo=Zm;Ae.Portal=qx;Ae.Profiler=Fm;Ae.StrictMode=Hm;Ae.Suspense=Ym;Ae.SuspenseList=Xm;Ae.isContextConsumer=function(e){return Xr(e)===Vm};Ae.isContextProvider=function(e){return Xr(e)===Km};Ae.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ux};Ae.isForwardRef=function(e){return Xr(e)===Gm};Ae.isFragment=function(e){return Xr(e)===Wm};Ae.isLazy=function(e){return Xr(e)===Jm};Ae.isMemo=function(e){return Xr(e)===Zm};Ae.isPortal=function(e){return Xr(e)===qx};Ae.isProfiler=function(e){return Xr(e)===Fm};Ae.isStrictMode=function(e){return Xr(e)===Hm};Ae.isSuspense=function(e){return Xr(e)===Ym};Ae.isSuspenseList=function(e){return Xr(e)===Xm};Ae.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Wm||e===Fm||e===Hm||e===Ym||e===Xm||typeof e=="object"&&e!==null&&(e.$$typeof===Jm||e.$$typeof===Zm||e.$$typeof===Km||e.$$typeof===Vm||e.$$typeof===Gm||e.$$typeof===zY||e.getModuleId!==void 0)};Ae.typeOf=Xr;kP.exports=Ae;var BY=kP.exports,dC=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",fC=null,_g=null,TP=e=>{if(e===fC&&Array.isArray(_g))return _g;var t=[];return p.Children.forEach(e,r=>{St(r)||(BY.isFragment(r)?t=t.concat(TP(r.props.children)):t.push(r))}),_g=t,fC=e,t};function IY(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(a=>dC(a)):n=[dC(t)],TP(e).forEach(a=>{var i=Ss(a,"type.displayName")||Ss(a,"type.name");i&&n.indexOf(i)!==-1&&r.push(a)}),r}var NP={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var a;if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const i=r[Symbol.toStringTag];return i==null||!((a=Object.getOwnPropertyDescriptor(r,Symbol.toStringTag))!=null&&a.writable)?!1:r.toString()===`[object ${i}]`}let n=r;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(r)===n}e.isPlainObject=t})(NP);var $Y=NP.isPlainObject;const LY=ga($Y);var hC,mC,pC,gC,vC;function yC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function bC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?yC(Object(r),!0).forEach(function(n){UY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):yC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function UY(e,t,r){return(t=qY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qY(e){var t=WY(e,"string");return typeof t=="symbol"?t:t+""}function WY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function dh(){return dh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},dh.apply(null,arguments)}function jl(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var xC=(e,t,r,n,a)=>{var i=r-n,o;return o=He(hC||(hC=jl(["M ",",",""])),e,t),o+=He(mC||(mC=jl(["L ",",",""])),e+r,t),o+=He(pC||(pC=jl(["L ",",",""])),e+r-i/2,t+a),o+=He(gC||(gC=jl(["L ",",",""])),e+r-i/2-n,t+a),o+=He(vC||(vC=jl(["L ",","," Z"])),e,t),o},HY={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},FY=e=>{var t=Ar(e,HY),{x:r,y:n,upperWidth:a,lowerWidth:i,height:o,className:s}=t,{animationEasing:c,animationDuration:u,animationBegin:d,isUpdateAnimationActive:f}=t,h=p.useRef(null),[m,v]=p.useState(-1),x=p.useRef(a),b=p.useRef(i),y=p.useRef(o),g=p.useRef(r),w=p.useRef(n),_=$b(e,"trapezoid-");if(p.useEffect(()=>{if(h.current&&h.current.getTotalLength)try{var L=h.current.getTotalLength();L&&v(L)}catch{}},[]),r!==+r||n!==+n||a!==+a||i!==+i||o!==+o||a===0&&i===0||o===0)return null;var S=Be("recharts-trapezoid",s);if(!f)return p.createElement("g",null,p.createElement("path",dh({},Fr(t),{className:S,d:xC(r,n,a,i,o)})));var j=x.current,C=b.current,E=y.current,k=g.current,A=w.current,N="0px ".concat(m===-1?1:m,"px"),T="".concat(m,"px 0px"),I=IN(["strokeDasharray"],u,c);return p.createElement(Ib,{animationId:_,key:_,canBegin:m>0,duration:u,easing:c,isActive:f,begin:d},L=>{var H=Tt(j,a,L),O=Tt(C,i,L),R=Tt(E,o,L),D=Tt(k,r,L),P=Tt(A,n,L);h.current&&(x.current=H,b.current=O,y.current=R,g.current=D,w.current=P);var U=L>0?{transition:I,strokeDasharray:T}:{strokeDasharray:N};return p.createElement("path",dh({},Fr(t),{className:S,d:xC(D,P,H,O,R),ref:h,style:bC(bC({},U),t.style)}))})},VY=["option","shapeType","activeClassName"];function KY(e,t){if(e==null)return{};var r,n,a=GY(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function GY(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function wC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function fh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wC(Object(r),!0).forEach(function(n){YY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function YY(e,t,r){return(t=XY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function XY(e){var t=ZY(e,"string");return typeof t=="symbol"?t:t+""}function ZY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function JY(e,t){return fh(fh({},t),e)}function QY(e,t){return e==="symbols"}function _C(e){var{shapeType:t,elementProps:r}=e;switch(t){case"rectangle":return p.createElement(qN,r);case"trapezoid":return p.createElement(FY,r);case"sector":return p.createElement(FN,r);case"symbols":if(QY(t))return p.createElement(lT,r);break;case"curve":return p.createElement(BN,r);default:return null}}function eX(e){return p.isValidElement(e)?e.props:e}function tX(e){var{option:t,shapeType:r,activeClassName:n="recharts-active-shape"}=e,a=KY(e,VY),i;if(p.isValidElement(t))i=p.cloneElement(t,fh(fh({},a),eX(t)));else if(typeof t=="function")i=t(a,a.index);else if(LY(t)&&typeof t!="boolean"){var o=JY(t,a);i=p.createElement(_C,{shapeType:r,elementProps:o})}else{var s=a;i=p.createElement(_C,{shapeType:r,elementProps:s})}return a.isActive?p.createElement(sa,{className:n},i):i}var RP=(e,t,r)=>{var n=Xe();return(a,i)=>o=>{e==null||e(a,i,o),n(qD({activeIndex:String(i),activeDataKey:t,activeCoordinate:a.tooltipPosition,activeGraphicalItemId:r}))}},DP=e=>{var t=Xe();return(r,n)=>a=>{e==null||e(r,n,a),t(CV())}},PP=(e,t,r)=>{var n=Xe();return(a,i)=>o=>{e==null||e(a,i,o),n(EV({activeIndex:String(i),activeDataKey:t,activeCoordinate:a.tooltipPosition,activeGraphicalItemId:r}))}};function rX(e){var{tooltipEntrySettings:t}=e,r=Xe(),n=sr(),a=p.useRef(null);return p.useLayoutEffect(()=>{n||(a.current===null?r(wV(t)):a.current!==t&&r(_V({prev:a.current,next:t})),a.current=t)},[t,r,n]),p.useLayoutEffect(()=>()=>{a.current&&(r(SV(a.current)),a.current=null)},[r]),null}function nX(e){var{legendPayload:t}=e,r=Xe(),n=sr(),a=p.useRef(null);return p.useLayoutEffect(()=>{n||(a.current===null?r(i7(t)):a.current!==t&&r(o7({prev:a.current,next:t})),a.current=t)},[r,n,t]),p.useLayoutEffect(()=>()=>{a.current&&(r(s7(a.current)),a.current=null)},[r]),null}var Sg,aX=()=>{var[e]=p.useState(()=>wc("uid-"));return e},iX=(Sg=pE.useId)!==null&&Sg!==void 0?Sg:aX;function oX(e,t){var r=iX();return t||(e?"".concat(e,"-").concat(r):r)}var sX=p.createContext(void 0),lX=e=>{var{id:t,type:r,children:n}=e,a=oX("recharts-".concat(r),t);return p.createElement(sX.Provider,{value:a},n(a))},cX={cartesianItems:[],polarItems:[]},MP=or({name:"graphicalItems",initialState:cX,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:$e()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:r,next:n}=t.payload,a=sn(e).cartesianItems.indexOf(r);a>-1&&(e.cartesianItems[a]=n)},prepare:$e()},removeCartesianGraphicalItem:{reducer(e,t){var r=sn(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},prepare:$e()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:$e()},removePolarGraphicalItem:{reducer(e,t){var r=sn(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)},prepare:$e()}}}),{addCartesianGraphicalItem:uX,replaceCartesianGraphicalItem:dX,removeCartesianGraphicalItem:fX,addPolarGraphicalItem:Tre,removePolarGraphicalItem:Nre}=MP.actions,hX=MP.reducer,mX=e=>{var t=Xe(),r=p.useRef(null);return p.useLayoutEffect(()=>{r.current===null?t(uX(e)):r.current!==e&&t(dX({prev:r.current,next:e})),r.current=e},[t,e]),p.useLayoutEffect(()=>()=>{r.current&&(t(fX(r.current)),r.current=null)},[t]),null},pX=p.memo(mX);function SC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function jC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?SC(Object(r),!0).forEach(function(n){gX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):SC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gX(e,t,r){return(t=vX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function vX(e){var t=yX(e,"string");return typeof t=="symbol"?t:t+""}function yX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var zP=0,bX={xAxis:{},yAxis:{},zAxis:{}},BP=or({name:"cartesianAxis",initialState:bX,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:$e()},replaceXAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.xAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.xAxis[r.id],e.xAxis[n.id]=n)},prepare:$e()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:$e()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:$e()},replaceYAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.yAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.yAxis[r.id],e.yAxis[n.id]=n)},prepare:$e()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:$e()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:$e()},replaceZAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.zAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.zAxis[r.id],e.zAxis[n.id]=n)},prepare:$e()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:$e()},updateYAxisWidth(e,t){var{id:r,width:n}=t.payload,a=e.yAxis[r];if(a){var i=a.widthHistory||[];if(i.length===3&&i[0]===i[2]&&n===i[1]&&n!==a.width&&Math.abs(n-i[0])<=1)return;var o=[...i,n].slice(-3);e.yAxis[r]=jC(jC({},e.yAxis[r]),{},{width:n,widthHistory:o})}}}}),{addXAxis:xX,replaceXAxis:wX,removeXAxis:_X,addYAxis:SX,replaceYAxis:jX,removeYAxis:CX,addZAxis:Rre,replaceZAxis:Dre,removeZAxis:Pre,updateYAxisWidth:EX}=BP.actions,OX=BP.reducer,AX=z([jt],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),kX=z([AX,ya,ba],(e,t,r)=>{if(!(!e||t==null||r==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,r-e.top-e.bottom)}}),IP=()=>te(kX),CC=(e,t,r)=>{var n=r??e;if(!St(n))return cn(n,t,0)},TX=(e,t,r)=>{var n={},a=e.filter(zm),i=e.filter(u=>u.stackId==null),o=a.reduce((u,d)=>(u[d.stackId]||(u[d.stackId]=[]),u[d.stackId].push(d),u),n),s=Object.entries(o).map(u=>{var[d,f]=u,h=f.map(v=>v.dataKey),m=CC(t,r,f[0].barSize);return{stackId:d,dataKeys:h,barSize:m}}),c=i.map(u=>{var d=[u.dataKey].filter(h=>h!=null),f=CC(t,r,u.barSize);return{stackId:void 0,dataKeys:d,barSize:f}});return[...s,...c]};function EC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function yd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?EC(Object(r),!0).forEach(function(n){NX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):EC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function NX(e,t,r){return(t=RX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function RX(e){var t=DX(e,"string");return typeof t=="symbol"?t:t+""}function DX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function PX(e,t,r,n,a){var i=n.length;if(!(i<1)){var o=cn(e,r,0,!0),s,c=[];if(qe(n[0].barSize)){var u=!1,d=r/i,f=n.reduce((y,g)=>y+(g.barSize||0),0);f+=(i-1)*o,f>=r&&(f-=(i-1)*o,o=0),f>=r&&d>0&&(u=!0,d*=.9,f=i*d);var h=(r-f)/2>>0,m={offset:h-o,size:0};s=n.reduce((y,g)=>{var w,_={stackId:g.stackId,dataKeys:g.dataKeys,position:{offset:m.offset+m.size+o,size:u?d:(w=g.barSize)!==null&&w!==void 0?w:0}},S=[...y,_];return m=S[S.length-1].position,S},c)}else{var v=cn(t,r,0,!0);r-2*v-(i-1)*o<=0&&(o=0);var x=(r-2*v-(i-1)*o)/i;x>1&&(x>>=0);var b=qe(a)?Math.min(x,a):x;s=n.reduce((y,g,w)=>[...y,{stackId:g.stackId,dataKeys:g.dataKeys,position:{offset:v+(x+o)*w+(x-b)/2,size:b}}],c)}return s}}var MX=(e,t,r,n,a,i,o)=>{var s=St(o)?t:o,c=PX(r,n,a!==i?a:i,e,s);return a!==i&&c!=null&&(c=c.map(u=>yd(yd({},u),{},{position:yd(yd({},u.position),{},{offset:u.position.offset-a/2})}))),c},zX=(e,t)=>{var r=vx(t);if(!(!e||r==null||t==null)){var{stackId:n}=t;if(n!=null){var a=e[n];if(a){var{stackedData:i}=a;if(i)return i.find(o=>o.key===r)}}}};function BX(e,t){return e&&typeof e=="object"&&"zIndex"in e&&typeof e.zIndex=="number"&&qe(e.zIndex)?e.zIndex:t}var IX=e=>{var{chartData:t}=e,r=Xe(),n=sr();return p.useEffect(()=>n?()=>{}:(r(Kj(t)),()=>{r(Kj(void 0))}),[t,r,n]),null},OC={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},$P=or({name:"brush",initialState:OC,reducers:{setBrushSettings(e,t){return t.payload==null?OC:t.payload}}}),{setBrushSettings:Mre}=$P.actions,$X=$P.reducer;function LX(e,t,r){return(t=UX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function UX(e){var t=qX(e,"string");return typeof t=="symbol"?t:t+""}function qX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Wx{static create(t){return new Wx(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:r,position:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(n)switch(n){case"start":return this.scale(t);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+a}case"end":{var i=this.bandwidth?this.bandwidth():0;return this.scale(t)+i}default:return this.scale(t)}if(r){var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+o}return this.scale(t)}}isInRange(t){var r=this.range(),n=r[0],a=r[r.length-1];return n<=a?t>=n&&t<=a:t>=a&&t<=n}}LX(Wx,"EPS",1e-4);function WX(e){return(e%180+180)%180}var HX=function(t){var{width:r,height:n}=t,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=WX(a),o=i*Math.PI/180,s=Math.atan(n/r),c=o>s&&o<Math.PI-s?n/Math.sin(o):r/Math.cos(o);return Math.abs(c)},FX={dots:[],areas:[],lines:[]},LP=or({name:"referenceElements",initialState:FX,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=sn(e).dots.findIndex(n=>n===t.payload);r!==-1&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=sn(e).areas.findIndex(n=>n===t.payload);r!==-1&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=sn(e).lines.findIndex(n=>n===t.payload);r!==-1&&e.lines.splice(r,1)}}}),{addDot:zre,removeDot:Bre,addArea:Ire,removeArea:$re,addLine:Lre,removeLine:Ure}=LP.actions,VX=LP.reducer,KX=p.createContext(void 0),GX=e=>{var{children:t}=e,[r]=p.useState("".concat(wc("recharts"),"-clip")),n=IP();if(n==null)return null;var{x:a,y:i,width:o,height:s}=n;return p.createElement(KX.Provider,{value:r},p.createElement("defs",null,p.createElement("clipPath",{id:r},p.createElement("rect",{x:a,y:i,height:s,width:o}))),t)};function UP(e,t){if(t<1)return[];if(t===1)return e;for(var r=[],n=0;n<e.length;n+=t){var a=e[n];a!==void 0&&r.push(a)}return r}function YX(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return HX(n,r)}function XX(e,t,r){var n=r==="width",{x:a,y:i,width:o,height:s}=e;return t===1?{start:n?a:i,end:n?a+o:i+s}:{start:n?a+o:i+s,end:n?a:i}}function Mc(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var i=r();return e*(t-e*i/2-n)>=0&&e*(t+e*i/2-a)<=0}function ZX(e,t){return UP(e,t+1)}function JX(e,t,r,n,a){for(var i=(n||[]).slice(),{start:o,end:s}=t,c=0,u=1,d=o,f=function(){var v=n==null?void 0:n[c];if(v===void 0)return{v:UP(n,u)};var x=c,b,y=()=>(b===void 0&&(b=r(v,x)),b),g=v.coordinate,w=c===0||Mc(e,g,y,d,s);w||(c=0,d=o,u+=1),w&&(d=g+e*(y()/2+a),c+=u)},h;u<=i.length;)if(h=f(),h)return h.v;return[]}function QX(e,t,r,n,a){var i=(n||[]).slice(),o=i.length;if(o===0)return[];for(var{start:s,end:c}=t,u=1;u<=o;u++){for(var d=(o-1)%u,f=s,h=!0,m=function(){var g=n[v],w=v,_,S=()=>(_===void 0&&(_=r(g,w)),_),j=g.coordinate,C=v===d||Mc(e,j,S,f,c);if(!C)return h=!1,1;C&&(f=j+e*(S()/2+a))},v=d;v<o&&!m();v+=u);if(h){for(var x=[],b=d;b<o;b+=u)x.push(n[b]);return x}}return[]}function AC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function It(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?AC(Object(r),!0).forEach(function(n){eZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):AC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function eZ(e,t,r){return(t=tZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tZ(e){var t=rZ(e,"string");return typeof t=="symbol"?t:t+""}function rZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function nZ(e,t,r,n,a){for(var i=(n||[]).slice(),o=i.length,{start:s}=t,{end:c}=t,u=function(h){var m=i[h],v,x=()=>(v===void 0&&(v=r(m,h)),v);if(h===o-1){var b=e*(m.coordinate+e*x()/2-c);i[h]=m=It(It({},m),{},{tickCoord:b>0?m.coordinate-b*e:m.coordinate})}else i[h]=m=It(It({},m),{},{tickCoord:m.coordinate});if(m.tickCoord!=null){var y=Mc(e,m.tickCoord,x,s,c);y&&(c=m.tickCoord-e*(x()/2+a),i[h]=It(It({},m),{},{isShow:!0}))}},d=o-1;d>=0;d--)u(d);return i}function aZ(e,t,r,n,a,i){var o=(n||[]).slice(),s=o.length,{start:c,end:u}=t;if(i){var d=n[s-1],f=r(d,s-1),h=e*(d.coordinate+e*f/2-u);if(o[s-1]=d=It(It({},d),{},{tickCoord:h>0?d.coordinate-h*e:d.coordinate}),d.tickCoord!=null){var m=Mc(e,d.tickCoord,()=>f,c,u);m&&(u=d.tickCoord-e*(f/2+a),o[s-1]=It(It({},d),{},{isShow:!0}))}}for(var v=i?s-1:s,x=function(g){var w=o[g],_,S=()=>(_===void 0&&(_=r(w,g)),_);if(g===0){var j=e*(w.coordinate-e*S()/2-c);o[g]=w=It(It({},w),{},{tickCoord:j<0?w.coordinate-j*e:w.coordinate})}else o[g]=w=It(It({},w),{},{tickCoord:w.coordinate});if(w.tickCoord!=null){var C=Mc(e,w.tickCoord,S,c,u);C&&(c=w.tickCoord+e*(S()/2+a),o[g]=It(It({},w),{},{isShow:!0}))}},b=0;b<v;b++)x(b);return o}function Hx(e,t,r){var{tick:n,ticks:a,viewBox:i,minTickGap:o,orientation:s,interval:c,tickFormatter:u,unit:d,angle:f}=e;if(!a||!a.length||!n)return[];if(Z(c)||Cm.isSsr){var h;return(h=ZX(a,Z(c)?c:0))!==null&&h!==void 0?h:[]}var m=[],v=s==="top"||s==="bottom"?"width":"height",x=d&&v==="width"?Xl(d,{fontSize:t,letterSpacing:r}):{width:0,height:0},b=(w,_)=>{var S=typeof u=="function"?u(w.value,_):w.value;return v==="width"?YX(Xl(S,{fontSize:t,letterSpacing:r}),x,f):Xl(S,{fontSize:t,letterSpacing:r})[v]},y=a.length>=2?tr(a[1].coordinate-a[0].coordinate):1,g=XX(i,y,v);return c==="equidistantPreserveStart"?JX(y,g,b,a,o):c==="equidistantPreserveEnd"?QX(y,g,b,a,o):(c==="preserveStart"||c==="preserveStartEnd"?m=aZ(y,g,b,a,o,c==="preserveStartEnd"):m=nZ(y,g,b,a,o),m.filter(w=>w.isShow))}var iZ=e=>{var{ticks:t,label:r,labelGapWithTick:n=5,tickSize:a=0,tickMargin:i=0}=e,o=0;if(t){Array.from(t).forEach(d=>{if(d){var f=d.getBoundingClientRect();f.width>o&&(o=f.width)}});var s=r?r.getBoundingClientRect().width:0,c=a+i,u=o+c+s+(r?n:0);return Math.round(u)}return 0},oZ=["axisLine","width","height","className","hide","ticks","axisType"];function sZ(e,t){if(e==null)return{};var r,n,a=lZ(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function lZ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function oo(){return oo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},oo.apply(null,arguments)}function kC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function et(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?kC(Object(r),!0).forEach(function(n){cZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):kC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cZ(e,t,r){return(t=uZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uZ(e){var t=dZ(e,"string");return typeof t=="symbol"?t:t+""}function dZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ea={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:Vt.axis};function fZ(e){var{x:t,y:r,width:n,height:a,orientation:i,mirror:o,axisLine:s,otherSvgProps:c}=e;if(!s)return null;var u=et(et(et({},c),oa(s)),{},{fill:"none"});if(i==="top"||i==="bottom"){var d=+(i==="top"&&!o||i==="bottom"&&o);u=et(et({},u),{},{x1:t,y1:r+d*a,x2:t+n,y2:r+d*a})}else{var f=+(i==="left"&&!o||i==="right"&&o);u=et(et({},u),{},{x1:t+f*n,y1:r,x2:t+f*n,y2:r+a})}return p.createElement("line",oo({},u,{className:Be("recharts-cartesian-axis-line",Ss(s,"className"))}))}function hZ(e,t,r,n,a,i,o,s,c){var u,d,f,h,m,v,x=s?-1:1,b=e.tickSize||o,y=Z(e.tickCoord)?e.tickCoord:e.coordinate;switch(i){case"top":u=d=e.coordinate,h=r+ +!s*a,f=h-x*b,v=f-x*c,m=y;break;case"left":f=h=e.coordinate,d=t+ +!s*n,u=d-x*b,m=u-x*c,v=y;break;case"right":f=h=e.coordinate,d=t+ +s*n,u=d+x*b,m=u+x*c,v=y;break;default:u=d=e.coordinate,h=r+ +s*a,f=h+x*b,v=f+x*c,m=y;break}return{line:{x1:u,y1:f,x2:d,y2:h},tick:{x:m,y:v}}}function mZ(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function pZ(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function gZ(e){var{option:t,tickProps:r,value:n}=e,a,i=Be(r.className,"recharts-cartesian-axis-tick-value");if(p.isValidElement(t))a=p.cloneElement(t,et(et({},r),{},{className:i}));else if(typeof t=="function")a=t(et(et({},r),{},{className:i}));else{var o="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(o=Be(o,t==null?void 0:t.className)),a=p.createElement($x,oo({},r,{className:o}),n)}return a}var vZ=p.forwardRef((e,t)=>{var{ticks:r=[],tick:n,tickLine:a,stroke:i,tickFormatter:o,unit:s,padding:c,tickTextProps:u,orientation:d,mirror:f,x:h,y:m,width:v,height:x,tickSize:b,tickMargin:y,fontSize:g,letterSpacing:w,getTicksConfig:_,events:S,axisType:j}=e,C=Hx(et(et({},_),{},{ticks:r}),g,w),E=mZ(d,f),k=pZ(d,f),A=oa(_),N=db(n),T={};typeof a=="object"&&(T=a);var I=et(et({},A),{},{fill:"none"},T),L=C.map(R=>et({entry:R},hZ(R,h,m,v,x,d,b,f,y))),H=L.map(R=>{var{entry:D,line:P}=R;return p.createElement(sa,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(D.value,"-").concat(D.coordinate,"-").concat(D.tickCoord)},a&&p.createElement("line",oo({},I,P,{className:Be("recharts-cartesian-axis-tick-line",Ss(a,"className"))})))}),O=L.map((R,D)=>{var{entry:P,tick:U}=R,G=et(et(et(et({textAnchor:E,verticalAnchor:k},A),{},{stroke:"none",fill:i},N),U),{},{index:D,payload:P,visibleTicksCount:C.length,tickFormatter:o,padding:c},u);return p.createElement(sa,oo({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(P.value,"-").concat(P.coordinate,"-").concat(P.tickCoord)},gb(S,P,D)),n&&p.createElement(gZ,{option:n,tickProps:G,value:"".concat(typeof o=="function"?o(P.value,D):P.value).concat(s||"")}))});return p.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(j,"-ticks")},O.length>0&&p.createElement(Ca,{zIndex:Vt.label},p.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(j,"-tick-labels"),ref:t},O)),H.length>0&&p.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(j,"-tick-lines")},H))}),yZ=p.forwardRef((e,t)=>{var{axisLine:r,width:n,height:a,className:i,hide:o,ticks:s,axisType:c}=e,u=sZ(e,oZ),[d,f]=p.useState(""),[h,m]=p.useState(""),v=p.useRef(null);p.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var b;return iZ({ticks:v.current,label:(b=e.labelRef)===null||b===void 0?void 0:b.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var x=p.useCallback(b=>{if(b){var y=b.getElementsByClassName("recharts-cartesian-axis-tick-value");v.current=y;var g=y[0];if(g){var w=window.getComputedStyle(g),_=w.fontSize,S=w.letterSpacing;(_!==d||S!==h)&&(f(_),m(S))}}},[d,h]);return o||n!=null&&n<=0||a!=null&&a<=0?null:p.createElement(Ca,{zIndex:e.zIndex},p.createElement(sa,{className:Be("recharts-cartesian-axis",i)},p.createElement(fZ,{x:e.x,y:e.y,width:n,height:a,orientation:e.orientation,mirror:e.mirror,axisLine:r,otherSvgProps:oa(e)}),p.createElement(vZ,{ref:x,axisType:c,events:u,fontSize:d,getTicksConfig:e,height:e.height,letterSpacing:h,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:s,unit:e.unit,width:e.width,x:e.x,y:e.y}),p.createElement(fY,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},p.createElement(_Y,{label:e.label,labelRef:e.labelRef}),e.children)))}),Fx=p.forwardRef((e,t)=>{var r=Ar(e,ea);return p.createElement(yZ,oo({},r,{ref:t}))});Fx.displayName="CartesianAxis";var bZ=["x1","y1","x2","y2","key"],xZ=["offset"],wZ=["xAxisId","yAxisId"],_Z=["xAxisId","yAxisId"];function TC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function $t(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?TC(Object(r),!0).forEach(function(n){SZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):TC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function SZ(e,t,r){return(t=jZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jZ(e){var t=CZ(e,"string");return typeof t=="symbol"?t:t+""}function CZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $i(){return $i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$i.apply(null,arguments)}function hh(e,t){if(e==null)return{};var r,n,a=EZ(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function EZ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var OZ=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:r,x:n,y:a,width:i,height:o,ry:s}=e;return p.createElement("rect",{x:n,y:a,ry:s,width:i,height:o,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function qP(e){var{option:t,lineItemProps:r}=e,n;if(p.isValidElement(t))n=p.cloneElement(t,r);else if(typeof t=="function")n=t(r);else{var a,{x1:i,y1:o,x2:s,y2:c,key:u}=r,d=hh(r,bZ),f=(a=oa(d))!==null&&a!==void 0?a:{},{offset:h}=f,m=hh(f,xZ);n=p.createElement("line",$i({},m,{x1:i,y1:o,x2:s,y2:c,fill:"none",key:u}))}return n}function AZ(e){var{x:t,width:r,horizontal:n=!0,horizontalPoints:a}=e;if(!n||!a||!a.length)return null;var{xAxisId:i,yAxisId:o}=e,s=hh(e,wZ),c=a.map((u,d)=>{var f=$t($t({},s),{},{x1:t,y1:u,x2:t+r,y2:u,key:"line-".concat(d),index:d});return p.createElement(qP,{key:"line-".concat(d),option:n,lineItemProps:f})});return p.createElement("g",{className:"recharts-cartesian-grid-horizontal"},c)}function kZ(e){var{y:t,height:r,vertical:n=!0,verticalPoints:a}=e;if(!n||!a||!a.length)return null;var{xAxisId:i,yAxisId:o}=e,s=hh(e,_Z),c=a.map((u,d)=>{var f=$t($t({},s),{},{x1:u,y1:t,x2:u,y2:t+r,key:"line-".concat(d),index:d});return p.createElement(qP,{option:n,lineItemProps:f,key:"line-".concat(d)})});return p.createElement("g",{className:"recharts-cartesian-grid-vertical"},c)}function TZ(e){var{horizontalFill:t,fillOpacity:r,x:n,y:a,width:i,height:o,horizontalPoints:s,horizontal:c=!0}=e;if(!c||!t||!t.length||s==null)return null;var u=s.map(f=>Math.round(f+a-a)).sort((f,h)=>f-h);a!==u[0]&&u.unshift(0);var d=u.map((f,h)=>{var m=!u[h+1],v=m?a+o-f:u[h+1]-f;if(v<=0)return null;var x=h%t.length;return p.createElement("rect",{key:"react-".concat(h),y:f,x:n,height:v,width:i,stroke:"none",fill:t[x],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return p.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function NZ(e){var{vertical:t=!0,verticalFill:r,fillOpacity:n,x:a,y:i,width:o,height:s,verticalPoints:c}=e;if(!t||!r||!r.length)return null;var u=c.map(f=>Math.round(f+a-a)).sort((f,h)=>f-h);a!==u[0]&&u.unshift(0);var d=u.map((f,h)=>{var m=!u[h+1],v=m?a+o-f:u[h+1]-f;if(v<=0)return null;var x=h%r.length;return p.createElement("rect",{key:"react-".concat(h),x:f,y:i,width:v,height:s,stroke:"none",fill:r[x],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return p.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var RZ=(e,t)=>{var{xAxis:r,width:n,height:a,offset:i}=e;return pN(Hx($t($t($t({},ea),r),{},{ticks:gN(r),viewBox:{x:0,y:0,width:n,height:a}})),i.left,i.left+i.width,t)},DZ=(e,t)=>{var{yAxis:r,width:n,height:a,offset:i}=e;return pN(Hx($t($t($t({},ea),r),{},{ticks:gN(r),viewBox:{x:0,y:0,width:n,height:a}})),i.top,i.top+i.height,t)},PZ={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:Vt.grid};function WP(e){var t=ON(),r=AN(),n=EN(),a=$t($t({},Ar(e,PZ)),{},{x:Z(e.x)?e.x:n.left,y:Z(e.y)?e.y:n.top,width:Z(e.width)?e.width:n.width,height:Z(e.height)?e.height:n.height}),{xAxisId:i,yAxisId:o,x:s,y:c,width:u,height:d,syncWithTicks:f,horizontalValues:h,verticalValues:m}=a,v=sr(),x=te(k=>zj(k,"xAxis",i,v)),b=te(k=>zj(k,"yAxis",o,v));if(!kn(u)||!kn(d)||!Z(s)||!Z(c))return null;var y=a.verticalCoordinatesGenerator||RZ,g=a.horizontalCoordinatesGenerator||DZ,{horizontalPoints:w,verticalPoints:_}=a;if((!w||!w.length)&&typeof g=="function"){var S=h&&h.length,j=g({yAxis:b?$t($t({},b),{},{ticks:S?h:b.ticks}):void 0,width:t??u,height:r??d,offset:n},S?!0:f);Uf(Array.isArray(j),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof j,"]")),Array.isArray(j)&&(w=j)}if((!_||!_.length)&&typeof y=="function"){var C=m&&m.length,E=y({xAxis:x?$t($t({},x),{},{ticks:C?m:x.ticks}):void 0,width:t??u,height:r??d,offset:n},C?!0:f);Uf(Array.isArray(E),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof E,"]")),Array.isArray(E)&&(_=E)}return p.createElement(Ca,{zIndex:a.zIndex},p.createElement("g",{className:"recharts-cartesian-grid"},p.createElement(OZ,{fill:a.fill,fillOpacity:a.fillOpacity,x:a.x,y:a.y,width:a.width,height:a.height,ry:a.ry}),p.createElement(TZ,$i({},a,{horizontalPoints:w})),p.createElement(NZ,$i({},a,{verticalPoints:_})),p.createElement(AZ,$i({},a,{offset:n,horizontalPoints:w,xAxis:x,yAxis:b})),p.createElement(kZ,$i({},a,{offset:n,verticalPoints:_,xAxis:x,yAxis:b}))))}WP.displayName="CartesianGrid";var MZ={},HP=or({name:"errorBars",initialState:MZ,reducers:{addErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]||(e[r]=[]),e[r].push(n)},replaceErrorBar:(e,t)=>{var{itemId:r,prev:n,next:a}=t.payload;e[r]&&(e[r]=e[r].map(i=>i.dataKey===n.dataKey&&i.direction===n.direction?a:i))},removeErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]&&(e[r]=e[r].filter(a=>a.dataKey!==n.dataKey||a.direction!==n.direction))}}}),{addErrorBar:qre,replaceErrorBar:Wre,removeErrorBar:Hre}=HP.actions,zZ=HP.reducer,BZ=["children"];function IZ(e,t){if(e==null)return{};var r,n,a=$Z(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function $Z(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var LZ={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},UZ=p.createContext(LZ);function qZ(e){var{children:t}=e,r=IZ(e,BZ);return p.createElement(UZ.Provider,{value:r},t)}function FP(e,t){var r,n,a=te(u=>_a(u,e)),i=te(u=>Sa(u,t)),o=(r=a==null?void 0:a.allowDataOverflow)!==null&&r!==void 0?r:gt.allowDataOverflow,s=(n=i==null?void 0:i.allowDataOverflow)!==null&&n!==void 0?n:vt.allowDataOverflow,c=o||s;return{needClip:c,needClipX:o,needClipY:s}}function WZ(e){var{xAxisId:t,yAxisId:r,clipPathId:n}=e,a=IP(),{needClipX:i,needClipY:o,needClip:s}=FP(t,r);if(!s||!a)return null;var{x:c,y:u,width:d,height:f}=a;return p.createElement("clipPath",{id:"clipPath-".concat(n)},p.createElement("rect",{x:i?c:c-d/2,y:o?u:u-f/2,width:i?d:d*2,height:o?f:f*2}))}var HZ={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Su=p;function FZ(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var VZ=typeof Object.is=="function"?Object.is:FZ,KZ=Su.useSyncExternalStore,GZ=Su.useRef,YZ=Su.useEffect,XZ=Su.useMemo,ZZ=Su.useDebugValue;HZ.useSyncExternalStoreWithSelector=function(e,t,r,n,a){var i=GZ(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=XZ(function(){function c(m){if(!u){if(u=!0,d=m,m=n(m),a!==void 0&&o.hasValue){var v=o.value;if(a(v,m))return f=v}return f=m}if(v=f,VZ(d,m))return v;var x=n(m);return a!==void 0&&a(v,x)?(d=m,v):(d=m,f=x)}var u=!1,d,f,h=r===void 0?null:r;return[function(){return c(t())},h===null?void 0:function(){return c(h())}]},[t,r,n,a]);var s=KZ(e,i[0],i[1]);return YZ(function(){o.hasValue=!0,o.value=s},[s]),ZZ(s),s};function JZ(e){e()}function QZ(){let e=null,t=null;return{clear(){e=null,t=null},notify(){JZ(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=e;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const a=t={callback:r,next:null,prev:t};return a.prev?a.prev.next=a:e=a,function(){!n||e===null||(n=!1,a.next?a.next.prev=a.prev:t=a.prev,a.prev?a.prev.next=a.next:e=a.next)}}}}var NC={notify(){},get:()=>[]};function eJ(e,t){let r,n=NC,a=0,i=!1;function o(x){d();const b=n.subscribe(x);let y=!1;return()=>{y||(y=!0,b(),f())}}function s(){n.notify()}function c(){v.onStateChange&&v.onStateChange()}function u(){return i}function d(){a++,r||(r=e.subscribe(c),n=QZ())}function f(){a--,r&&a===0&&(r(),r=void 0,n.clear(),n=NC)}function h(){i||(i=!0,d())}function m(){i&&(i=!1,f())}const v={addNestedSub:o,notifyNestedSubs:s,handleChangeWrapper:c,isSubscribed:u,trySubscribe:h,tryUnsubscribe:m,getListeners:()=>n};return v}var tJ=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",rJ=tJ(),nJ=()=>typeof navigator<"u"&&navigator.product==="ReactNative",aJ=nJ(),iJ=()=>rJ||aJ?p.useLayoutEffect:p.useEffect,oJ=iJ();function RC(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function sJ(e,t){if(RC(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(let a=0;a<r.length;a++)if(!Object.prototype.hasOwnProperty.call(t,r[a])||!RC(e[r[a]],t[r[a]]))return!1;return!0}var jg=Symbol.for("react-redux-context"),Cg=typeof globalThis<"u"?globalThis:{};function lJ(){if(!p.createContext)return{};const e=Cg[jg]??(Cg[jg]=new Map);let t=e.get(p.createContext);return t||(t=p.createContext(null),e.set(p.createContext,t)),t}var cJ=lJ();function uJ(e){const{children:t,context:r,serverState:n,store:a}=e,i=p.useMemo(()=>{const c=eJ(a);return{store:a,subscription:c,getServerState:n?()=>n:void 0}},[a,n]),o=p.useMemo(()=>a.getState(),[a]);oJ(()=>{const{subscription:c}=i;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),o!==a.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[i,o]);const s=r||cJ;return p.createElement(s.Provider,{value:i},t)}var dJ=uJ,fJ=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle","radius"]);function hJ(e,t){return e==null&&t==null?!0:typeof e=="number"&&typeof t=="number"?e===t||e!==e&&t!==t:e===t}function Vx(e,t){var r=new Set([...Object.keys(e),...Object.keys(t)]);for(var n of r)if(fJ.has(n)){if(e[n]==null&&t[n]==null)continue;if(!sJ(e[n],t[n]))return!1}else if(!hJ(e[n],t[n]))return!1;return!0}function yo(e,t){var r,n;return(r=(n=e.graphicalItems.cartesianItems.find(a=>a.id===t))===null||n===void 0?void 0:n.xAxisId)!==null&&r!==void 0?r:zP}function bo(e,t){var r,n;return(r=(n=e.graphicalItems.cartesianItems.find(a=>a.id===t))===null||n===void 0?void 0:n.yAxisId)!==null&&r!==void 0?r:zP}var mJ="Invariant failed";function pJ(e,t){throw new Error(mJ)}function zy(){return zy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},zy.apply(null,arguments)}function mh(e){return p.createElement(tX,zy({shapeType:"rectangle",activeClassName:"recharts-active-bar"},e))}var gJ=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(n,a)=>{if(Z(t))return t;var i=Z(n)||St(n);return i?t(n,a):(i||pJ(),r)}},vJ=(e,t,r)=>r,yJ=(e,t)=>t,ju=z([bx,yJ],(e,t)=>e.filter(r=>r.type==="bar").find(r=>r.id===t)),bJ=z([ju],e=>e==null?void 0:e.maxBarSize),xJ=(e,t,r,n)=>n,wJ=z([_e,bx,yo,bo,vJ],(e,t,r,n,a)=>t.filter(i=>e==="horizontal"?i.xAxisId===r:i.yAxisId===n).filter(i=>i.isPanorama===a).filter(i=>i.hide===!1).filter(i=>i.type==="bar")),_J=(e,t,r)=>{var n=_e(e),a=yo(e,t),i=bo(e,t);if(!(a==null||i==null))return n==="horizontal"?ky(e,"yAxis",i,r):ky(e,"xAxis",a,r)},SJ=(e,t)=>{var r=_e(e),n=yo(e,t),a=bo(e,t);if(!(n==null||a==null))return r==="horizontal"?Mj(e,"xAxis",n):Mj(e,"yAxis",a)},jJ=z([wJ,mF,SJ],TX),CJ=(e,t,r)=>{var n,a,i=ju(e,t);if(i!=null){var o=yo(e,t),s=bo(e,t);if(!(o==null||s==null)){var c=_e(e),u=FR(e),{maxBarSize:d}=i,f=St(d)?u:d,h,m;return c==="horizontal"?(h=Ns(e,"xAxis",o,r),m=Ts(e,"xAxis",o,r)):(h=Ns(e,"yAxis",s,r),m=Ts(e,"yAxis",s,r)),(n=(a=Lf(h,m,!0))!==null&&a!==void 0?a:f)!==null&&n!==void 0?n:0}}},VP=(e,t,r)=>{var n=_e(e),a=yo(e,t),i=bo(e,t);if(!(a==null||i==null)){var o,s;return n==="horizontal"?(o=Ns(e,"xAxis",a,r),s=Ts(e,"xAxis",a,r)):(o=Ns(e,"yAxis",i,r),s=Ts(e,"yAxis",i,r)),Lf(o,s)}},EJ=z([jJ,FR,hF,VR,CJ,VP,bJ],MX),OJ=(e,t,r)=>{var n=yo(e,t);if(n!=null)return Ns(e,"xAxis",n,r)},AJ=(e,t,r)=>{var n=bo(e,t);if(n!=null)return Ns(e,"yAxis",n,r)},kJ=(e,t,r)=>{var n=yo(e,t);if(n!=null)return Ts(e,"xAxis",n,r)},TJ=(e,t,r)=>{var n=bo(e,t);if(n!=null)return Ts(e,"yAxis",n,r)},NJ=z([EJ,ju],(e,t)=>{if(!(e==null||t==null)){var r=e.find(n=>n.stackId===t.stackId&&t.dataKey!=null&&n.dataKeys.includes(t.dataKey));if(r!=null)return r.position}}),RJ=z([_J,ju],zX),DJ=z([jt,Pb,OJ,AJ,kJ,TJ,NJ,_e,tF,VP,RJ,ju,xJ],(e,t,r,n,a,i,o,s,c,u,d,f,h)=>{var{chartData:m,dataStartIndex:v,dataEndIndex:x}=c;if(!(f==null||o==null||t==null||s!=="horizontal"&&s!=="vertical"||r==null||n==null||a==null||i==null||u==null)){var{data:b}=f,y;if(b!=null&&b.length>0?y=b:y=m==null?void 0:m.slice(v,x+1),y!=null)return lQ({layout:s,barSettings:f,pos:o,parentViewBox:t,bandSize:u,xAxis:r,yAxis:n,xAxisTicks:a,yAxisTicks:i,stackedData:d,displayedData:y,offset:e,cells:h,dataStartIndex:v})}}),PJ=["index"];function By(){return By=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},By.apply(null,arguments)}function MJ(e,t){if(e==null)return{};var r,n,a=zJ(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function zJ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var KP=p.createContext(void 0),BJ=e=>{var t=p.useContext(KP);if(t!=null)return t.stackId;if(e!=null)return d9(e)},IJ=(e,t)=>"recharts-bar-stack-clip-path-".concat(e,"-").concat(t),$J=e=>{var t=p.useContext(KP);if(t!=null){var{stackId:r}=t;return"url(#".concat(IJ(r,e),")")}},LJ=e=>{var{index:t}=e,r=MJ(e,PJ),n=$J(t);return p.createElement(sa,By({className:"recharts-bar-stack-layer",clipPath:n},r))},UJ=["onMouseEnter","onMouseLeave","onClick"],qJ=["value","background","tooltipPosition"],WJ=["id"],HJ=["onMouseEnter","onClick","onMouseLeave"];function ma(){return ma=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ma.apply(null,arguments)}function DC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Wt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?DC(Object(r),!0).forEach(function(n){FJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):DC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function FJ(e,t,r){return(t=VJ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function VJ(e){var t=KJ(e,"string");return typeof t=="symbol"?t:t+""}function KJ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ph(e,t){if(e==null)return{};var r,n,a=GJ(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function GJ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var YJ=e=>{var{dataKey:t,name:r,fill:n,legendType:a,hide:i}=e;return[{inactive:i,dataKey:t,type:a,color:n,value:vN(r,t),payload:e}]},XJ=p.memo(e=>{var{dataKey:t,stroke:r,strokeWidth:n,fill:a,name:i,hide:o,unit:s,tooltipType:c,id:u}=e,d={dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:r,strokeWidth:n,fill:a,dataKey:t,nameKey:void 0,name:vN(i,t),hide:o,type:c,color:a,unit:s,graphicalItemId:u}};return p.createElement(rX,{tooltipEntrySettings:d})});function ZJ(e){var t=te(Rs),{data:r,dataKey:n,background:a,allOtherBarProps:i}=e,{onMouseEnter:o,onMouseLeave:s,onClick:c}=i,u=ph(i,UJ),d=RP(o,n,i.id),f=DP(s),h=PP(c,n,i.id);if(!a||r==null)return null;var m=db(a);return p.createElement(Ca,{zIndex:BX(a,Vt.barBackground)},r.map((v,x)=>{var{value:b,background:y,tooltipPosition:g}=v,w=ph(v,qJ);if(!y)return null;var _=d(v,x),S=f(v,x),j=h(v,x),C=Wt(Wt(Wt(Wt(Wt({option:a,isActive:String(x)===t},w),{},{fill:"#eee"},y),m),gb(u,v,x)),{},{onMouseEnter:_,onMouseLeave:S,onClick:j,dataKey:n,index:x,className:"recharts-bar-background-rectangle"});return p.createElement(mh,ma({key:"background-bar-".concat(x)},C))}))}function JJ(e){var{showLabels:t,children:r,rects:n}=e,a=n==null?void 0:n.map(i=>{var o={x:i.x,y:i.y,width:i.width,lowerWidth:i.width,upperWidth:i.width,height:i.height};return Wt(Wt({},o),{},{value:i.value,payload:i.payload,parentViewBox:i.parentViewBox,viewBox:o,fill:i.fill})});return p.createElement(kY,{value:t?a:void 0},r)}function QJ(e){var{shape:t,activeBar:r,baseProps:n,entry:a,index:i,dataKey:o}=e,s=te(Rs),c=te(rP),u=r&&String(i)===s&&(c==null||o===c),d=u?r:t;return u?p.createElement(Ca,{zIndex:Vt.activeBar},p.createElement(mh,ma({},n,{name:String(n.name)},a,{isActive:u,option:d,index:i,dataKey:o}))):p.createElement(mh,ma({},n,{name:String(n.name)},a,{isActive:u,option:d,index:i,dataKey:o}))}function eQ(e){var{shape:t,baseProps:r,entry:n,index:a,dataKey:i}=e;return p.createElement(mh,ma({},r,{name:String(r.name)},n,{isActive:!1,option:t,index:a,dataKey:i}))}function tQ(e){var t,{data:r,props:n}=e,a=(t=oa(n))!==null&&t!==void 0?t:{},{id:i}=a,o=ph(a,WJ),{shape:s,dataKey:c,activeBar:u}=n,{onMouseEnter:d,onClick:f,onMouseLeave:h}=n,m=ph(n,HJ),v=RP(d,c,i),x=DP(h),b=PP(f,c,i);return r?p.createElement(p.Fragment,null,r.map((y,g)=>p.createElement(LJ,ma({index:g,key:"rectangle-".concat(y==null?void 0:y.x,"-").concat(y==null?void 0:y.y,"-").concat(y==null?void 0:y.value,"-").concat(g),className:"recharts-bar-rectangle"},gb(m,y,g),{onMouseEnter:v(y,g),onMouseLeave:x(y,g),onClick:b(y,g)}),u?p.createElement(QJ,{shape:s,activeBar:u,baseProps:o,entry:y,index:g,dataKey:c}):p.createElement(eQ,{shape:s,baseProps:o,entry:y,index:g,dataKey:c})))):null}function rQ(e){var{props:t,previousRectanglesRef:r}=e,{data:n,layout:a,isAnimationActive:i,animationBegin:o,animationDuration:s,animationEasing:c,onAnimationEnd:u,onAnimationStart:d}=t,f=r.current,h=$b(t,"recharts-bar-"),[m,v]=p.useState(!1),x=!m,b=p.useCallback(()=>{typeof u=="function"&&u(),v(!1)},[u]),y=p.useCallback(()=>{typeof d=="function"&&d(),v(!0)},[d]);return p.createElement(JJ,{showLabels:x,rects:n},p.createElement(Ib,{animationId:h,begin:o,duration:s,isActive:i,easing:c,onAnimationEnd:b,onAnimationStart:y,key:h},g=>{var w=g===1?n:n==null?void 0:n.map((_,S)=>{var j=f&&f[S];if(j)return Wt(Wt({},_),{},{x:Tt(j.x,_.x,g),y:Tt(j.y,_.y,g),width:Tt(j.width,_.width,g),height:Tt(j.height,_.height,g)});if(a==="horizontal"){var C=Tt(0,_.height,g),E=Tt(_.stackedBarStart,_.y,g);return Wt(Wt({},_),{},{y:E,height:C})}var k=Tt(0,_.width,g),A=Tt(_.stackedBarStart,_.x,g);return Wt(Wt({},_),{},{width:k,x:A})});return g>0&&(r.current=w??null),w==null?null:p.createElement(sa,null,p.createElement(tQ,{props:t,data:w}))}),p.createElement(RY,{label:t.label}),t.children)}function nQ(e){var t=p.useRef(null);return p.createElement(rQ,{previousRectanglesRef:t,props:e})}var GP=0,aQ=(e,t)=>{var r=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:r,errorVal:zt(e,t)}};class iQ extends p.PureComponent{render(){var{hide:t,data:r,dataKey:n,className:a,xAxisId:i,yAxisId:o,needClip:s,background:c,id:u}=this.props;if(t||r==null)return null;var d=Be("recharts-bar",a),f=u;return p.createElement(sa,{className:d,id:u},s&&p.createElement("defs",null,p.createElement(WZ,{clipPathId:f,xAxisId:i,yAxisId:o})),p.createElement(sa,{className:"recharts-bar-rectangles",clipPath:s?"url(#clipPath-".concat(f,")"):void 0},p.createElement(ZJ,{data:r,dataKey:n,background:c,allOtherBarProps:this.props}),p.createElement(nQ,this.props)))}}var oQ={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:GP,xAxisId:0,yAxisId:0,zIndex:Vt.bar};function sQ(e){var{xAxisId:t,yAxisId:r,hide:n,legendType:a,minPointSize:i,activeBar:o,animationBegin:s,animationDuration:c,animationEasing:u,isAnimationActive:d}=e,{needClip:f}=FP(t,r),h=cu(),m=sr(),v=IY(e.children,Ix),x=te(g=>DJ(g,e.id,m,v));if(h!=="vertical"&&h!=="horizontal")return null;var b,y=x==null?void 0:x[0];return y==null||y.height==null||y.width==null?b=0:b=h==="vertical"?y.height/2:y.width/2,p.createElement(qZ,{xAxisId:t,yAxisId:r,data:x,dataPointFormatter:aQ,errorBarOffset:b},p.createElement(iQ,ma({},e,{layout:h,needClip:f,data:x,xAxisId:t,yAxisId:r,hide:n,legendType:a,minPointSize:i,activeBar:o,animationBegin:s,animationDuration:c,animationEasing:u,isAnimationActive:d})))}function lQ(e){var{layout:t,barSettings:{dataKey:r,minPointSize:n},pos:a,bandSize:i,xAxis:o,yAxis:s,xAxisTicks:c,yAxisTicks:u,stackedData:d,displayedData:f,offset:h,cells:m,parentViewBox:v,dataStartIndex:x}=e,b=t==="horizontal"?s:o,y=d?b.scale.domain():null,g=f9({numericAxis:b}),w=b.scale(g);return f.map((_,S)=>{var j,C,E,k,A,N;if(d){var T=d[S+x];if(T==null)return null;j=o9(T,y)}else j=zt(_,r),Array.isArray(j)||(j=[g,j]);var I=gJ(n,GP)(j[1],S);if(t==="horizontal"){var L,[H,O]=[s.scale(j[0]),s.scale(j[1])];C=Y_({axis:o,ticks:c,bandSize:i,offset:a.offset,entry:_,index:S}),E=(L=O??H)!==null&&L!==void 0?L:void 0,k=a.size;var R=H-O;if(A=ln(R)?0:R,N={x:C,y:h.top,width:k,height:h.height},Math.abs(I)>0&&Math.abs(A)<Math.abs(I)){var D=tr(A||I)*(Math.abs(I)-Math.abs(A));E-=D,A+=D}}else{var[P,U]=[o.scale(j[0]),o.scale(j[1])];if(C=P,E=Y_({axis:s,ticks:u,bandSize:i,offset:a.offset,entry:_,index:S}),k=U-P,A=a.size,N={x:h.left,y:E,width:h.width,height:A},Math.abs(I)>0&&Math.abs(k)<Math.abs(I)){var G=tr(k||I)*(Math.abs(I)-Math.abs(k));k+=G}}if(C==null||E==null||k==null||A==null)return null;var K=Wt(Wt({},_),{},{stackedBarStart:w,x:C,y:E,width:k,height:A,value:d?j:j[1],payload:_,background:N,tooltipPosition:{x:C+k/2,y:E+A/2},parentViewBox:v},m&&m[S]&&m[S].props);return K}).filter(Boolean)}function cQ(e){var t=Ar(e,oQ),r=BJ(t.stackId),n=sr();return p.createElement(lX,{id:t.id,type:"bar"},a=>p.createElement(p.Fragment,null,p.createElement(nX,{legendPayload:YJ(t)}),p.createElement(XJ,{dataKey:t.dataKey,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType,id:a}),p.createElement(pX,{type:"bar",id:a,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:r,hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:n}),p.createElement(Ca,{zIndex:t.zIndex},p.createElement(sQ,ma({},t,{id:a})))))}var YP=p.memo(cQ,Vx);YP.displayName="Bar";var uQ=["domain","range"],dQ=["domain","range"];function PC(e,t){if(e==null)return{};var r,n,a=fQ(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function fQ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function MC(e,t){return e===t?!0:Array.isArray(e)&&e.length===2&&Array.isArray(t)&&t.length===2?e[0]===t[0]&&e[1]===t[1]:!1}function XP(e,t){if(e===t)return!0;var{domain:r,range:n}=e,a=PC(e,uQ),{domain:i,range:o}=t,s=PC(t,dQ);return!MC(r,i)||!MC(n,o)?!1:Vx(a,s)}var hQ=["dangerouslySetInnerHTML","ticks","scale"],mQ=["id","scale"];function Iy(){return Iy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Iy.apply(null,arguments)}function zC(e,t){if(e==null)return{};var r,n,a=pQ(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function pQ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function gQ(e){var t=Xe(),r=p.useRef(null);return p.useLayoutEffect(()=>{r.current===null?t(xX(e)):r.current!==e&&t(wX({prev:r.current,next:e})),r.current=e},[e,t]),p.useLayoutEffect(()=>()=>{r.current&&(t(_X(r.current)),r.current=null)},[t]),null}var vQ=e=>{var{xAxisId:t,className:r}=e,n=te(Pb),a=sr(),i="xAxis",o=te(y=>zD(y,i,t,a)),s=te(y=>RD(y,t)),c=te(y=>dV(y,t)),u=te(y=>tD(y,t));if(s==null||c==null||u==null)return null;var{dangerouslySetInnerHTML:d,ticks:f,scale:h}=e,m=zC(e,hQ),{id:v,scale:x}=u,b=zC(u,mQ);return p.createElement(Fx,Iy({},m,b,{x:c.x,y:c.y,width:s.width,height:s.height,className:Be("recharts-".concat(i," ").concat(i),r),viewBox:n,ticks:o,axisType:i}))},yQ={allowDataOverflow:gt.allowDataOverflow,allowDecimals:gt.allowDecimals,allowDuplicatedCategory:gt.allowDuplicatedCategory,angle:gt.angle,axisLine:ea.axisLine,height:gt.height,hide:!1,includeHidden:gt.includeHidden,interval:gt.interval,minTickGap:gt.minTickGap,mirror:gt.mirror,orientation:gt.orientation,padding:gt.padding,reversed:gt.reversed,scale:gt.scale,tick:gt.tick,tickCount:gt.tickCount,tickLine:ea.tickLine,tickSize:ea.tickSize,type:gt.type,xAxisId:0},bQ=e=>{var t=Ar(e,yQ);return p.createElement(p.Fragment,null,p.createElement(gQ,{allowDataOverflow:t.allowDataOverflow,allowDecimals:t.allowDecimals,allowDuplicatedCategory:t.allowDuplicatedCategory,angle:t.angle,dataKey:t.dataKey,domain:t.domain,height:t.height,hide:t.hide,id:t.xAxisId,includeHidden:t.includeHidden,interval:t.interval,minTickGap:t.minTickGap,mirror:t.mirror,name:t.name,orientation:t.orientation,padding:t.padding,reversed:t.reversed,scale:t.scale,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit}),p.createElement(vQ,t))},ZP=p.memo(bQ,XP);ZP.displayName="XAxis";var xQ=["dangerouslySetInnerHTML","ticks","scale"],wQ=["id","scale"];function $y(){return $y=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$y.apply(null,arguments)}function BC(e,t){if(e==null)return{};var r,n,a=_Q(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function _Q(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function SQ(e){var t=Xe(),r=p.useRef(null);return p.useLayoutEffect(()=>{r.current===null?t(SX(e)):r.current!==e&&t(jX({prev:r.current,next:e})),r.current=e},[e,t]),p.useLayoutEffect(()=>()=>{r.current&&(t(CX(r.current)),r.current=null)},[t]),null}var jQ=e=>{var{yAxisId:t,className:r,width:n,label:a}=e,i=p.useRef(null),o=p.useRef(null),s=te(Pb),c=sr(),u=Xe(),d="yAxis",f=te(j=>DD(j,t)),h=te(j=>hV(j,t)),m=te(j=>zD(j,d,t,c)),v=te(j=>rD(j,t));if(p.useLayoutEffect(()=>{if(!(n!=="auto"||!f||Lx(a)||p.isValidElement(a)||v==null)){var j=i.current;if(j){var C=j.getCalculatedWidth();Math.round(f.width)!==Math.round(C)&&u(EX({id:t,width:C}))}}},[m,f,u,a,t,n,v]),f==null||h==null||v==null)return null;var{dangerouslySetInnerHTML:x,ticks:b,scale:y}=e,g=BC(e,xQ),{id:w,scale:_}=v,S=BC(v,wQ);return p.createElement(Fx,$y({},g,S,{ref:i,labelRef:o,x:h.x,y:h.y,tickTextProps:n==="auto"?{width:void 0}:{width:n},width:f.width,height:f.height,className:Be("recharts-".concat(d," ").concat(d),r),viewBox:s,ticks:m,axisType:d}))},CQ={allowDataOverflow:vt.allowDataOverflow,allowDecimals:vt.allowDecimals,allowDuplicatedCategory:vt.allowDuplicatedCategory,angle:vt.angle,axisLine:ea.axisLine,hide:!1,includeHidden:vt.includeHidden,interval:vt.interval,minTickGap:vt.minTickGap,mirror:vt.mirror,orientation:vt.orientation,padding:vt.padding,reversed:vt.reversed,scale:vt.scale,tick:vt.tick,tickCount:vt.tickCount,tickLine:ea.tickLine,tickSize:ea.tickSize,type:vt.type,width:vt.width,yAxisId:0},EQ=e=>{var t=Ar(e,CQ);return p.createElement(p.Fragment,null,p.createElement(SQ,{interval:t.interval,id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:t.includeHidden,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:t.angle,minTickGap:t.minTickGap,tick:t.tick,tickFormatter:t.tickFormatter}),p.createElement(jQ,t))},JP=p.memo(EQ,XP);JP.displayName="YAxis";var OQ=(e,t)=>t,Kx=z([OQ,_e,QR,mt,JD,ja,OK,jt],PK),Gx=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,n=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/n)}},QP=Vr("mouseClick"),eM=su();eM.startListening({actionCreator:QP,effect:(e,t)=>{var r=e.payload,n=Kx(t.getState(),Gx(r));(n==null?void 0:n.activeIndex)!=null&&t.dispatch(OV({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var Ly=Vr("mouseMove"),tM=su(),bd=null;tM.startListening({actionCreator:Ly,effect:(e,t)=>{var r=e.payload;bd!==null&&cancelAnimationFrame(bd);var n=Gx(r);bd=requestAnimationFrame(()=>{var a=t.getState(),i=Ax(a,a.tooltip.settings.shared);if(i==="axis"){var o=Kx(a,n);(o==null?void 0:o.activeIndex)!=null?t.dispatch(HD({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate})):t.dispatch(WD())}bd=null})}});function AQ(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":e==="children"&&typeof t=="object"&&t!==null?"<<CHILDREN>>":t}var IC={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},rM=or({name:"rootProps",initialState:IC,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(r=t.payload.barGap)!==null&&r!==void 0?r:IC.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),kQ=rM.reducer,{updateOptions:TQ}=rM.actions,nM=or({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:Fre}=nM.actions,NQ=nM.reducer,aM=Vr("keyDown"),iM=Vr("focus"),Yx=su();Yx.startListening({actionCreator:aM,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:a}=r.tooltip,i=e.payload;if(!(i!=="ArrowRight"&&i!=="ArrowLeft"&&i!=="Enter")){var o=kx(a,tl(r),vu(r),wu(r)),s=o==null?-1:Number(o);if(!(!Number.isFinite(s)||s<0)){var c=ja(r);if(i==="Enter"){var u=ch(r,"axis","hover",String(a.index));t.dispatch(Ny({active:!a.active,activeIndex:a.index,activeCoordinate:u}));return}var d=vV(r),f=d==="left-to-right"?1:-1,h=i==="ArrowRight"?1:-1,m=s+h*f;if(!(c==null||m>=c.length||m<0)){var v=ch(r,"axis","hover",String(m));t.dispatch(Ny({active:!0,activeIndex:m.toString(),activeCoordinate:v}))}}}}}});Yx.startListening({actionCreator:iM,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:a}=r.tooltip;if(!a.active&&a.index==null){var i="0",o=ch(r,"axis","hover",String(i));t.dispatch(Ny({active:!0,activeIndex:i,activeCoordinate:o}))}}}});var Rr=Vr("externalEvent"),oM=su(),Eg=new Map;oM.startListening({actionCreator:Rr,effect:(e,t)=>{var{handler:r,reactEvent:n}=e.payload;if(r!=null){n.persist();var a=n.type,i=Eg.get(a);i!==void 0&&cancelAnimationFrame(i);var o=requestAnimationFrame(()=>{try{var s=t.getState(),c={activeCoordinate:fK(s),activeDataKey:rP(s),activeIndex:Rs(s),activeLabel:tP(s),activeTooltipIndex:Rs(s),isTooltipActive:hK(s)};r(c,n)}finally{Eg.delete(a)}});Eg.set(a,o)}}});var RQ=z([Qs],e=>e.tooltipItemPayloads),DQ=z([RQ,xu,(e,t)=>t,(e,t,r)=>r],(e,t,r,n)=>{var a=e.find(s=>s.settings.graphicalItemId===n);if(a!=null){var{positions:i}=a;if(i!=null){var o=t(i,r);return o}}}),sM=Vr("touchMove"),lM=su();lM.startListening({actionCreator:sM,effect:(e,t)=>{var r=e.payload;if(!(r.touches==null||r.touches.length===0)){var n=t.getState(),a=Ax(n,n.tooltip.settings.shared);if(a==="axis"){var i=r.touches[0];if(i==null)return;var o=Kx(n,Gx({clientX:i.clientX,clientY:i.clientY,currentTarget:r.currentTarget}));(o==null?void 0:o.activeIndex)!=null&&t.dispatch(HD({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate}))}else if(a==="item"){var s,c=r.touches[0];if(document.elementFromPoint==null||c==null)return;var u=document.elementFromPoint(c.clientX,c.clientY);if(!u||!u.getAttribute)return;var d=u.getAttribute(b9),f=(s=u.getAttribute(x9))!==null&&s!==void 0?s:void 0,h=el(n).find(x=>x.id===f);if(d==null||h==null||f==null)return;var{dataKey:m}=h,v=DQ(n,d,f);t.dispatch(qD({activeDataKey:m,activeIndex:d,activeCoordinate:v,activeGraphicalItemId:f}))}}}});var PQ=LT({brush:$X,cartesianAxis:OX,chartData:dG,errorBars:zZ,graphicalItems:hX,layout:e9,legend:l7,options:oG,polarAxis:PY,polarOptions:NQ,referenceElements:VX,rootProps:kQ,tooltip:AV,zIndex:GK}),MQ=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return CU({reducer:PQ,preloadedState:t,middleware:n=>{var a;return n({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((a="es6")!==null&&a!==void 0?a:"")}).concat([eM.middleware,tM.middleware,Yx.middleware,oM.middleware,lM.middleware])},enhancers:n=>{var a=n;return typeof n=="function"&&(a=n()),a.concat(tN({type:"raf"}))},devTools:{serialize:{replacer:AQ},name:"recharts-".concat(r)}})};function zQ(e){var{preloadedState:t,children:r,reduxStoreName:n}=e,a=sr(),i=p.useRef(null);if(a)return r;i.current==null&&(i.current=MQ(t,n));var o=Cb;return p.createElement(dJ,{context:o,store:i.current},r)}function BQ(e){var{layout:t,margin:r}=e,n=Xe(),a=sr();return p.useEffect(()=>{a||(n(ZU(t)),n(XU(r)))},[n,a,t,r]),null}var IQ=p.memo(BQ,Vx);function $Q(e){var t=Xe();return p.useEffect(()=>{t(TQ(e))},[t,e]),null}function $C(e){var{zIndex:t,isPanorama:r}=e,n=p.useRef(null),a=Xe();return p.useLayoutEffect(()=>(n.current&&a(VK({zIndex:t,element:n.current,isPanorama:r})),()=>{a(KK({zIndex:t,isPanorama:r}))}),[a,t,r]),p.createElement("g",{tabIndex:-1,ref:n})}function LC(e){var{children:t,isPanorama:r}=e,n=te(zK);if(!n||n.length===0)return t;var a=n.filter(o=>o<0),i=n.filter(o=>o>0);return p.createElement(p.Fragment,null,a.map(o=>p.createElement($C,{key:o,zIndex:o,isPanorama:r})),t,i.map(o=>p.createElement($C,{key:o,zIndex:o,isPanorama:r})))}var LQ=["children"];function UQ(e,t){if(e==null)return{};var r,n,a=qQ(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function qQ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function gh(){return gh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gh.apply(null,arguments)}var WQ={width:"100%",height:"100%",display:"block"},HQ=p.forwardRef((e,t)=>{var r=ON(),n=AN(),a=zN();if(!kn(r)||!kn(n))return null;var{children:i,otherAttributes:o,title:s,desc:c}=e,u,d;return o!=null&&(typeof o.tabIndex=="number"?u=o.tabIndex:u=a?0:void 0,typeof o.role=="string"?d=o.role:d=a?"application":void 0),p.createElement(Uk,gh({},o,{title:s,desc:c,role:d,tabIndex:u,width:r,height:n,style:WQ,ref:t}),i)}),FQ=e=>{var{children:t}=e,r=te(bm);if(!r)return null;var{width:n,height:a,y:i,x:o}=r;return p.createElement(Uk,{width:n,height:a,x:o,y:i},t)},UC=p.forwardRef((e,t)=>{var{children:r}=e,n=UQ(e,LQ),a=sr();return a?p.createElement(FQ,null,p.createElement(LC,{isPanorama:!0},r)):p.createElement(HQ,gh({ref:t},n),p.createElement(LC,{isPanorama:!1},r))});function VQ(){var e=Xe(),[t,r]=p.useState(null),n=te(y9);return p.useEffect(()=>{if(t!=null){var a=t.getBoundingClientRect(),i=a.width/t.offsetWidth;qe(i)&&i!==n&&e(QU(i))}},[t,e,n]),r}function qC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function KQ(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?qC(Object(r),!0).forEach(function(n){GQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):qC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function GQ(e,t,r){return(t=YQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function YQ(e){var t=XQ(e,"string");return typeof t=="symbol"?t:t+""}function XQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function so(){return so=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},so.apply(null,arguments)}var ZQ=()=>(xG(),null);function vh(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var JQ=p.forwardRef((e,t)=>{var r,n,a=p.useRef(null),[i,o]=p.useState({containerWidth:vh((r=e.style)===null||r===void 0?void 0:r.width),containerHeight:vh((n=e.style)===null||n===void 0?void 0:n.height)}),s=p.useCallback((u,d)=>{o(f=>{var h=Math.round(u),m=Math.round(d);return f.containerWidth===h&&f.containerHeight===m?f:{containerWidth:h,containerHeight:m}})},[]),c=p.useCallback(u=>{if(typeof t=="function"&&t(u),u!=null&&typeof ResizeObserver<"u"){var{width:d,height:f}=u.getBoundingClientRect();s(d,f);var h=v=>{var{width:x,height:b}=v[0].contentRect;s(x,b)},m=new ResizeObserver(h);m.observe(u),a.current=m}},[t,s]);return p.useEffect(()=>()=>{var u=a.current;u!=null&&u.disconnect()},[s]),p.createElement(p.Fragment,null,p.createElement(wm,{width:i.containerWidth,height:i.containerHeight}),p.createElement("div",so({ref:c},e)))}),QQ=p.forwardRef((e,t)=>{var{width:r,height:n}=e,[a,i]=p.useState({containerWidth:vh(r),containerHeight:vh(n)}),o=p.useCallback((c,u)=>{i(d=>{var f=Math.round(c),h=Math.round(u);return d.containerWidth===f&&d.containerHeight===h?d:{containerWidth:f,containerHeight:h}})},[]),s=p.useCallback(c=>{if(typeof t=="function"&&t(c),c!=null){var{width:u,height:d}=c.getBoundingClientRect();o(u,d)}},[t,o]);return p.createElement(p.Fragment,null,p.createElement(wm,{width:a.containerWidth,height:a.containerHeight}),p.createElement("div",so({ref:s},e)))}),eee=p.forwardRef((e,t)=>{var{width:r,height:n}=e;return p.createElement(p.Fragment,null,p.createElement(wm,{width:r,height:n}),p.createElement("div",so({ref:t},e)))}),tee=p.forwardRef((e,t)=>{var{width:r,height:n}=e;return la(r)||la(n)?p.createElement(QQ,so({},e,{ref:t})):p.createElement(eee,so({},e,{ref:t}))});function ree(e){return e===!0?JQ:tee}var nee=p.forwardRef((e,t)=>{var{children:r,className:n,height:a,onClick:i,onContextMenu:o,onDoubleClick:s,onMouseDown:c,onMouseEnter:u,onMouseLeave:d,onMouseMove:f,onMouseUp:h,onTouchEnd:m,onTouchMove:v,onTouchStart:x,style:b,width:y,responsive:g,dispatchTouchEvents:w=!0}=e,_=p.useRef(null),S=Xe(),[j,C]=p.useState(null),[E,k]=p.useState(null),A=VQ(),N=Mb(),T=(N==null?void 0:N.width)>0?N.width:y,I=(N==null?void 0:N.height)>0?N.height:a,L=p.useCallback(M=>{A(M),typeof t=="function"&&t(M),C(M),k(M),M!=null&&(_.current=M)},[A,t,C,k]),H=p.useCallback(M=>{S(QP(M)),S(Rr({handler:i,reactEvent:M}))},[S,i]),O=p.useCallback(M=>{S(Ly(M)),S(Rr({handler:u,reactEvent:M}))},[S,u]),R=p.useCallback(M=>{S(WD()),S(Rr({handler:d,reactEvent:M}))},[S,d]),D=p.useCallback(M=>{S(Ly(M)),S(Rr({handler:f,reactEvent:M}))},[S,f]),P=p.useCallback(()=>{S(iM())},[S]),U=p.useCallback(M=>{S(aM(M.key))},[S]),G=p.useCallback(M=>{S(Rr({handler:o,reactEvent:M}))},[S,o]),K=p.useCallback(M=>{S(Rr({handler:s,reactEvent:M}))},[S,s]),Q=p.useCallback(M=>{S(Rr({handler:c,reactEvent:M}))},[S,c]),ee=p.useCallback(M=>{S(Rr({handler:h,reactEvent:M}))},[S,h]),ne=p.useCallback(M=>{S(Rr({handler:x,reactEvent:M}))},[S,x]),B=p.useCallback(M=>{w&&S(sM(M)),S(Rr({handler:v,reactEvent:M}))},[S,w,v]),F=p.useCallback(M=>{S(Rr({handler:m,reactEvent:M}))},[S,m]),oe=ree(g);return p.createElement(cP.Provider,{value:j},p.createElement(g$.Provider,{value:E},p.createElement(oe,{width:T??(b==null?void 0:b.width),height:I??(b==null?void 0:b.height),className:Be("recharts-wrapper",n),style:KQ({position:"relative",cursor:"default",width:T,height:I},b),onClick:H,onContextMenu:G,onDoubleClick:K,onFocus:P,onKeyDown:U,onMouseDown:Q,onMouseEnter:O,onMouseLeave:R,onMouseMove:D,onMouseUp:ee,onTouchEnd:F,onTouchMove:B,onTouchStart:ne,ref:L},p.createElement(ZQ,null),r)))}),aee=["width","height","responsive","children","className","style","compact","title","desc"];function iee(e,t){if(e==null)return{};var r,n,a=oee(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function oee(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var see=p.forwardRef((e,t)=>{var{width:r,height:n,responsive:a,children:i,className:o,style:s,compact:c,title:u,desc:d}=e,f=iee(e,aee),h=oa(f);return c?p.createElement(p.Fragment,null,p.createElement(wm,{width:r,height:n}),p.createElement(UC,{otherAttributes:h,title:u,desc:d},i)):p.createElement(nee,{className:o,style:s,width:r,height:n,responsive:a??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},p.createElement(UC,{otherAttributes:h,title:u,desc:d,ref:t},p.createElement(GX,null,i)))});function Uy(){return Uy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Uy.apply(null,arguments)}var lee={top:5,right:5,bottom:5,left:5},cee={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:lee,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},uee=p.forwardRef(function(t,r){var n,a=Ar(t.categoricalChartProps,cee),{chartName:i,defaultTooltipEventType:o,validateTooltipEventTypes:s,tooltipPayloadSearcher:c,categoricalChartProps:u}=t,d={chartName:i,defaultTooltipEventType:o,validateTooltipEventTypes:s,tooltipPayloadSearcher:c,eventEmitter:void 0};return p.createElement(zQ,{preloadedState:{options:d},reduxStoreName:(n=u.id)!==null&&n!==void 0?n:i},p.createElement(IX,{chartData:u.data}),p.createElement(IQ,{layout:a.layout,margin:a.margin}),p.createElement($Q,{baseValue:a.baseValue,accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className,reverseStackOrder:a.reverseStackOrder}),p.createElement(see,Uy({},a,{ref:r})))}),dee=["axis","item"],fee=p.forwardRef((e,t)=>p.createElement(uee,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:dee,tooltipPayloadSearcher:aG,categoricalChartProps:e,ref:t}));function hee({ibgeCode:e,potenciaKwp:t,onCalculate:r}){const[n,a]=p.useState([]),[i,o]=p.useState(!1),[s,c]=p.useState(null);p.useEffect(()=>{e&&t>0?u():a([])},[e,t]);const u=async()=>{o(!0),c(null);try{const{data:h,error:m}=await $.from("irradiancia").select("*").eq('"cod.ibge"',e).single();if(m)throw m;if(!h)throw new Error("Dados de irradincia no encontrados para este local.");const x=[{name:"Jan",key:"jan.khw"},{name:"Fev",key:"fev.khw"},{name:"Mar",key:"mar.kwh"},{name:"Abr",key:"abr.kwh"},{name:"Mai",key:"mai.kwh"},{name:"Jun",key:"jun.kwh"},{name:"Jul",key:"jul.kwh"},{name:"Ago",key:"ago.kwh"},{name:"Set",key:"set.kwh"},{name:"Out",key:"out.kwh"},{name:"Nov",key:"nov.kwh"},{name:"Dez",key:"dez.khw"}].map(b=>{const y=Number(h[b.key]),g=y?t*y:0;return{name:b.name,geracao:Math.round(g),factor:y}});a(x)}catch(h){console.error("Irradiance error:",h),c("Dados de irradincia no disponveis.")}finally{o(!1)}},d=n.reduce((h,m)=>h+m.geracao,0),f=n.length>0?d/12:0;return p.useEffect(()=>{!i&&r&&f>0&&r(Math.round(f))},[f,r,i]),!e||!t?null:i?l.jsx("div",{style:{padding:"1rem",textAlign:"center",color:"#666"},children:"Calculando estimativa de gerao..."}):l.jsxs("div",{style:{marginTop:"2rem",padding:"1.5rem",background:"#f8fafc",borderRadius:"8px",border:"1px solid #e2e8f0"},children:[l.jsxs("h4",{style:{fontSize:"1rem",fontWeight:"bold",color:"#0369a1",marginBottom:"1rem",display:"flex",justifyContent:"space-between"},children:[l.jsx("span",{children:"Estimativa de Gerao Mensal"}),l.jsxs("span",{style:{fontSize:"0.9rem",color:"#64748b"},children:["Mdia Mensal: ",l.jsxs("strong",{children:[f.toLocaleString("pt-BR",{maximumFractionDigits:0})," kWh"]})]})]}),l.jsx("div",{style:{width:"100%",height:300},children:l.jsx(H9,{children:l.jsxs(fee,{data:n,margin:{top:20,right:10,left:0,bottom:5},children:[l.jsx(WP,{strokeDasharray:"3 3",vertical:!1,stroke:"#e2e8f0"}),l.jsx(ZP,{dataKey:"name",axisLine:!1,tickLine:!1,tick:{fontSize:12,fill:"#64748b"},dy:10}),l.jsx(JP,{axisLine:!1,tickLine:!1,tick:{fontSize:12,fill:"#64748b"}}),l.jsx(AG,{cursor:{fill:"#f1f5f9"},contentStyle:{borderRadius:"8px",border:"none",boxShadow:"0 4px 6px rgba(0,0,0,0.1)"},formatter:h=>[`${h.toLocaleString("pt-BR")} kWh`,"Gerao"]}),l.jsx(YP,{dataKey:"geracao",radius:[4,4,0,0],children:n.map((h,m)=>l.jsx(Ix,{fill:"var(--color-orange)"},`cell-${m}`))})]})})}),l.jsxs("p",{style:{marginTop:"0.5rem",fontSize:"0.8rem",color:"#94a3b8",textAlign:"center"},children:["* Estimativa baseada na mdia histrica de irradincia solar da regio (IBGE: ",e,")."]})]})}const xd=({title:e,icon:t,children:r,defaultOpen:n=!1,color:a="var(--color-blue)"})=>{const[i,o]=p.useState(n);return l.jsxs("div",{style:{marginBottom:"1rem",border:"1px solid #e2e8f0",borderRadius:"8px",overflow:"hidden",background:"white",boxShadow:"0 1px 2px rgba(0,0,0,0.05)"},children:[l.jsxs("div",{onClick:()=>o(!i),style:{padding:"1rem",background:i?`${a}10`:"white",cursor:"pointer",display:"flex",justifyContent:"space-between",alignItems:"center",borderBottom:i?"1px solid #e2e8f0":"none",transition:"background 0.2s"},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.8rem",fontWeight:"bold",color:a},children:[t&&l.jsx(t,{size:20}),l.jsx("span",{style:{fontSize:"1rem"},children:e})]}),i?l.jsx(ib,{size:20,color:"#64748b"}):l.jsx(ab,{size:20,color:"#64748b"})]}),i&&l.jsx("div",{style:{padding:"1.5rem",animation:"fadeIn 0.3s ease-in-out"},children:r})]})};function mee({usina:e,onClose:t,onSave:r,onDelete:n}){const{showAlert:a,showConfirm:i}=Gr(),[o,s]=p.useState([]),[c,u]=p.useState([]),[d,f]=p.useState(!1),[h,m]=p.useState(!1),v=[{value:"gerando",label:"Gerando"},{value:"em_conexao",label:"Em Conexo"},{value:"manutencao",label:"Manuteno"},{value:"inativa",label:"Inativa"},{value:"cancelada",label:"Cancelada"}],x=[{value:"gd1",label:"GD I"},{value:"gd2",label:"GD II"},{value:"gd3",label:"GD III"}],b=["Internet","Segurana","Manuteno","Arrendamento","gua","Energia","Gesto"],y=(B,F,oe)=>{let M=[];for(let V=B;V<=F;V+=oe)M.push(V);return M},g=y(460,800,5),w=[...y(1e3,7e3,1e3),7500,9e3,1e4,12500,...y(15e3,75e3,5e3),...y(1e5,3e5,25e3)],[_,S]=p.useState({supplier_id:"",name:"",status:"em_conexao",modalidade:"gd1",valor_investido:"",qtd_modulos:"",potencia_modulos_w:"",fabricante_inversor:"",potencia_inversor_w:"",geracao_estimada_kwh:"",servicos_contratados:[],service_values:{},gestao_percentual:"",cep:"",rua:"",numero:"",bairro:"",cidade:"",uf:"",ibge_code:"",concessionaria:""}),[j,C]=p.useState([]),[E,k]=p.useState([]),[A,N]=p.useState(0),T=E.reduce((B,F)=>B+(Number(F.consumo_medio_kwh)||Number(F.franquia)||0),0);p.useEffect(()=>{const B=Number(_.qtd_modulos)||0,F=Number(_.potencia_modulos_w)||0,oe=B*F/1e3;N(Number(oe.toFixed(2)))},[_.qtd_modulos,_.potencia_modulos_w]),p.useEffect(()=>{var B,F,oe,M,V,re,W;H(),O(),e&&(S({supplier_id:e.supplier_id||"",name:e.name||"",status:e.status||"em_conexao",modalidade:e.modalidade||"gd1",valor_investido:e.valor_investido?R(e.valor_investido):"",qtd_modulos:e.qtd_modulos||"",potencia_modulos_w:e.potencia_modulos_w||"",fabricante_inversor:e.fabricante_inversor||"",potencia_inversor_w:e.potencia_inversor_w||"",geracao_estimada_kwh:e.geracao_estimada_kwh||"",servicos_contratados:e.servicos_contratados||[],service_values:e.service_values||{},gestao_percentual:e.gestao_percentual||"",cep:((B=e.address)==null?void 0:B.cep)||"",rua:((F=e.address)==null?void 0:F.rua)||"",numero:((oe=e.address)==null?void 0:oe.numero)||"",bairro:((M=e.address)==null?void 0:M.bairro)||"",cidade:((V=e.address)==null?void 0:V.cidade)||"",uf:((re=e.address)==null?void 0:re.uf)||"",ibge_code:e.ibge_code||((W=e.address)==null?void 0:W.ibge)||"",concessionaria:e.concessionaria||""}),I(e.id))},[e]),p.useEffect(()=>{L()},[e==null?void 0:e.id]);const I=async B=>{const{data:F}=await $.from("consumer_units").select("*").eq("usina_id",B);F&&k(F)},L=async()=>{if(!(e!=null&&e.id))return;const{data:B,error:F}=await $.from("consumer_units").select("id, numero_uc, titular_conta, usina_id, concessionaria, status, consumo_medio_kwh, franquia");if(B){const oe=String(e.id).toLowerCase().trim(),M=B.filter(V=>{const re=V.usina_id?String(V.usina_id).toLowerCase().trim():null;return re===oe||re===null});C(M)}},H=async()=>{const{data:B}=await $.from("suppliers").select("id, name").order("name");s(B||[])},O=async()=>{const{data:B}=await $.from("inverter_brands").select("name").order("name");u(B||[])},R=B=>B===""||B===void 0||B===null?"":typeof B=="number"?B.toLocaleString("pt-BR",{style:"currency",currency:"BRL"}):(Number(B.toString().replace(/\D/g,""))/100).toLocaleString("pt-BR",{style:"currency",currency:"BRL"}),D=B=>{const F=B.target.value.replace(/\D/g,"");if(!F){S({..._,valor_investido:""});return}const M=(Number(F)/100).toLocaleString("pt-BR",{style:"currency",currency:"BRL"});S({..._,valor_investido:M})},P=B=>{if(!B)return 0;const F=B.replace(/[^\d,]/g,"").replace(",",".");return Number(F)||0},U=B=>{S(F=>{const oe=F.servicos_contratados||[];return oe.includes(B)?{...F,servicos_contratados:oe.filter(M=>M!==B)}:{...F,servicos_contratados:[...oe,B]}})},G=(B,F)=>{const oe=F.replace(/\D/g,""),M=Number(oe)/100;S(V=>({...V,service_values:{...V.service_values,[B]:M}}))},K=async()=>{const B=_.cep.replace(/\D/g,"");if(B.length===8){m(!0);try{const F=await mn(B);if(S(oe=>({...oe,rua:F.rua||"",bairro:F.bairro||"",cidade:F.cidade||"",uf:F.uf||"",ibge_code:F.ibge||""})),F.ibge){const oe=await Qc(F.ibge);oe&&oe.Concessionaria&&S(M=>({...M,concessionaria:oe.Concessionaria}))}}catch(F){console.error("Erro CEP",F)}finally{m(!1)}}},Q=p.useCallback(B=>{B&&S(F=>B!==Number(F.geracao_estimada_kwh)?{...F,geracao_estimada_kwh:B}:F)},[]),ee=async()=>{if(await i("Excluir esta usina?","Esta ao no pode ser desfeita.")){f(!0);try{const{error:F}=await $.from("usinas").delete().eq("id",e.id);if(F)throw F;n&&n(e.id),t()}catch(F){a("Erro ao excluir: "+F.message,"error")}finally{f(!1)}}},ne=async B=>{B.preventDefault(),f(!0);try{const F=P(_.valor_investido),oe={supplier_id:_.supplier_id||null,name:_.name,concessionaria:_.concessionaria,status:_.status,modalidade:_.modalidade,valor_investido:F,potencia_kwp:Number(A),qtd_modulos:Number(_.qtd_modulos),potencia_modulos_w:Number(_.potencia_modulos_w),fabricante_inversor:_.fabricante_inversor,potencia_inversor_w:Number(_.potencia_inversor_w),geracao_estimada_kwh:Number(_.geracao_estimada_kwh),servicos_contratados:_.servicos_contratados,service_values:_.service_values,gestao_percentual:Number(_.gestao_percentual),ibge_code:_.ibge_code,address:{cep:_.cep,rua:_.rua,numero:_.numero,bairro:_.bairro,cidade:_.cidade,uf:_.uf,ibge:_.ibge_code}};let M=e==null?void 0:e.id,V=null;if(e!=null&&e.id){const{data:re,error:W}=await $.from("usinas").update(oe).eq("id",e.id).select().single();W?V=W:re&&(M=re.id)}else{const{data:re,error:W}=await $.from("usinas").insert(oe).select().single();W?V=W:re&&(M=re.id)}if(V)throw V;if(M&&(await $.from("consumer_units").update({usina_id:null}).eq("usina_id",M),E.length>0)){const re=E.map(W=>W.id);await $.from("consumer_units").update({usina_id:M}).in("id",re)}r({id:M}),t(),a("Usina salva com sucesso!","success")}catch(F){console.error("Save error:",F),a("Erro ao salvar usina: "+(F.message||JSON.stringify(F)),"error")}finally{f(!1)}};return l.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.6)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3,backdropFilter:"blur(4px)"},children:l.jsxs("div",{style:{background:"#f8fafc",borderRadius:"12px",width:"95%",maxWidth:"850px",maxHeight:"95vh",overflowY:"auto",boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.25)"},children:[l.jsxs("div",{style:{padding:"1.5rem",background:"white",borderBottom:"1px solid #e2e8f0",display:"flex",justifyContent:"space-between",alignItems:"center",borderTopLeftRadius:"12px",borderTopRightRadius:"12px"},children:[l.jsxs("div",{children:[l.jsx("h3",{style:{fontSize:"1.5rem",color:"#1e293b",fontWeight:"bold"},children:e?e.name||_.name:"Nova Usina"}),l.jsx("p",{style:{color:"#64748b",fontSize:"0.9rem",marginTop:"0.2rem"},children:"Configure os dados tcnicos e comerciais da usina"})]}),l.jsx("button",{onClick:t,style:{background:"none",border:"none",cursor:"pointer",color:"#94a3b8",padding:"0.5rem"},children:l.jsx(Yh,{size:24})})]}),l.jsxs("form",{onSubmit:ne,style:{padding:"1.5rem"},children:[l.jsx(xd,{title:"Identificao e Localizao",icon:p8,defaultOpen:!0,color:"#2563eb",children:l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:"1rem"},children:[l.jsxs("div",{style:{gridColumn:"1 / -1"},children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.4rem",color:"#475569",fontWeight:600},children:"Nome da Usina"}),l.jsx("input",{required:!0,value:_.name,onChange:B=>S({..._,name:B.target.value}),style:{width:"100%",padding:"0.7rem",border:"1px solid #cbd5e1",borderRadius:"6px"},placeholder:"Ex: Usina Solar Norte 01"})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.4rem",color:"#475569",fontWeight:600},children:"Fornecedor / Proprietrio"}),l.jsxs("select",{required:!0,value:_.supplier_id,onChange:B=>S({..._,supplier_id:B.target.value}),style:{width:"100%",padding:"0.7rem",border:"1px solid #cbd5e1",borderRadius:"6px",background:"white"},children:[l.jsx("option",{value:"",children:"Selecione..."}),o.map(B=>l.jsx("option",{value:B.id,children:B.name},B.id))]})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.4rem",color:"#475569",fontWeight:600},children:"CEP"}),l.jsxs("div",{style:{position:"relative"},children:[l.jsx("input",{value:_.cep,onChange:B=>S({..._,cep:B.target.value}),onBlur:K,placeholder:"00000-000",style:{width:"100%",padding:"0.7rem",border:"1px solid #cbd5e1",borderRadius:"6px",background:h?"#f0f9ff":"white"}}),h&&l.jsx("span",{style:{position:"absolute",right:"10px",top:"12px",fontSize:"0.8rem",color:"#3b82f6"},children:"..."})]})]}),l.jsxs("div",{style:{gridColumn:"1 / -1",display:"grid",gridTemplateColumns:"2fr 1fr",gap:"1rem"},children:[l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.4rem",color:"#475569",fontWeight:600},children:"Cidade / UF"}),l.jsx("input",{value:_.cidade&&_.uf?`${_.cidade} / ${_.uf}`:"",disabled:!0,placeholder:"Preenchimento automtico",style:{width:"100%",padding:"0.7rem",border:"1px solid #cbd5e1",borderRadius:"6px",background:"#f1f5f9",color:"#64748b"}})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.4rem",color:"#475569",fontWeight:600},children:"Concessionria"}),l.jsx("input",{value:_.concessionaria,onChange:B=>S({..._,concessionaria:B.target.value}),placeholder:"Ex: Cemig",style:{width:"100%",padding:"0.7rem",border:"1px solid #cbd5e1",borderRadius:"6px"}})]})]})]})}),l.jsx(xd,{title:"Caractersticas Tcnicas",icon:Nk,defaultOpen:!0,color:"#ea580c",children:l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"1rem"},children:[l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.4rem",color:"#475569",fontWeight:600},children:"Status Operacional"}),l.jsx("select",{value:_.status,onChange:B=>S({..._,status:B.target.value}),style:{width:"100%",padding:"0.7rem",border:"1px solid #cbd5e1",borderRadius:"6px",background:"white"},children:v.map(B=>l.jsx("option",{value:B.value,children:B.label},B.value))})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.4rem",color:"#475569",fontWeight:600},children:"Modalidade"}),l.jsx("select",{value:_.modalidade,onChange:B=>S({..._,modalidade:B.target.value}),style:{width:"100%",padding:"0.7rem",border:"1px solid #cbd5e1",borderRadius:"6px",background:"white"},children:x.map(B=>l.jsx("option",{value:B.value,children:B.label},B.value))})]}),l.jsx("div",{style:{height:"1px",background:"#e2e8f0",margin:"0.5rem 0",gridColumn:"1 / -1"}}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.4rem",color:"#475569",fontWeight:600},children:"Qtd. Mdulos"}),l.jsx("input",{type:"number",value:_.qtd_modulos,onChange:B=>S({..._,qtd_modulos:B.target.value}),style:{width:"100%",padding:"0.7rem",border:"1px solid #cbd5e1",borderRadius:"6px"}})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.4rem",color:"#475569",fontWeight:600},children:"Potncia Mdulo (W)"}),l.jsxs("select",{value:_.potencia_modulos_w,onChange:B=>S({..._,potencia_modulos_w:B.target.value}),style:{width:"100%",padding:"0.7rem",border:"1px solid #cbd5e1",borderRadius:"6px",background:"white"},children:[l.jsx("option",{value:"",children:"Selecione..."}),g.map(B=>l.jsxs("option",{value:B,children:[B," W"]},B))]})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.4rem",color:"#475569",fontWeight:600},children:"Fabricante Inversor"}),l.jsxs("select",{value:_.fabricante_inversor,onChange:B=>S({..._,fabricante_inversor:B.target.value}),style:{width:"100%",padding:"0.7rem",border:"1px solid #cbd5e1",borderRadius:"6px",background:"white"},children:[l.jsx("option",{value:"",children:"Selecione..."}),c.map(B=>l.jsx("option",{value:B.name,children:B.name},B.name))]})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.4rem",color:"#475569",fontWeight:600},children:"Potncia Inversor (W)"}),l.jsxs("select",{value:_.potencia_inversor_w,onChange:B=>S({..._,potencia_inversor_w:B.target.value}),style:{width:"100%",padding:"0.7rem",border:"1px solid #cbd5e1",borderRadius:"6px",background:"white"},children:[l.jsx("option",{value:"",children:"Selecione..."}),w.map(B=>l.jsxs("option",{value:B,children:[B," W"]},B))]})]}),l.jsx("div",{style:{gridColumn:"1 / -1",marginTop:"0.5rem"},children:l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem",background:"#fff7ed",padding:"1rem",borderRadius:"8px",border:"1px solid #ffedd5"},children:[l.jsx("div",{style:{background:"#ea580c",color:"white",padding:"0.5rem",borderRadius:"50%"},children:l.jsx(Xh,{size:20})}),l.jsxs("div",{children:[l.jsx("div",{style:{fontSize:"0.8rem",color:"#ea580c",fontWeight:600,textTransform:"uppercase"},children:"Potncia Total do Sistema (Calculada)"}),l.jsxs("div",{style:{fontSize:"1.2rem",fontWeight:"bold",color:"#9a3412"},children:[A," kWp"]})]})]})})]})}),l.jsxs(xd,{title:"Gerao e Financeiro",icon:Gh,color:"#16a34a",children:[l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"1rem"},children:[l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.4rem",color:"#475569",fontWeight:600},children:"Valor Investido"}),l.jsx("input",{value:_.valor_investido,onChange:D,placeholder:"R$ 0,00",style:{width:"100%",padding:"0.7rem",border:"1px solid #cbd5e1",borderRadius:"6px"}})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.4rem",color:"#475569",fontWeight:600},children:"Gerao Estimada (Mdia Mensal)"}),l.jsx("input",{type:"number",value:_.geracao_estimada_kwh,onChange:B=>S({..._,geracao_estimada_kwh:B.target.value}),placeholder:"Use o grfico para calcular",style:{width:"100%",padding:"0.7rem",border:"1px solid #cbd5e1",borderRadius:"6px",background:"#f0fdf4"}})]}),l.jsxs("div",{style:{gridColumn:"1 / -1"},children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.4rem",color:"#475569",fontWeight:600},children:"Servios Contratados"}),l.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(180px, 1fr))",gap:"0.8rem"},children:b.map(B=>{var oe;const F=_.servicos_contratados.includes(B);return l.jsxs("div",{style:{border:F?"1px solid #16a34a":"1px solid #e2e8f0",borderRadius:"6px",padding:"0.5rem",background:F?"#f0fdf4":"white",transition:"0.2s"},children:[l.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem",cursor:"pointer",marginBottom:F?"0.5rem":"0"},children:[l.jsx("input",{type:"checkbox",checked:F,onChange:()=>U(B)}),l.jsx("span",{style:{fontSize:"0.9rem",fontWeight:F?600:400,color:F?"#166534":"#64748b"},children:B})]}),F&&l.jsx("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",animation:"fadeIn 0.2s"},children:l.jsx("input",{placeholder:"Valor (R$)",value:R((oe=_.service_values)==null?void 0:oe[B]),onChange:M=>G(B,M.target.value),style:{width:"100%",padding:"0.3rem",border:"1px solid #bbf7d0",borderRadius:"4px",fontSize:"0.8rem"}})}),F&&B==="Gesto"&&l.jsxs("div",{style:{marginTop:"0.5rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:[l.jsx("input",{type:"number",step:"0.01",placeholder:"%",value:_.gestao_percentual,onChange:M=>S({..._,gestao_percentual:M.target.value}),style:{width:"100%",padding:"0.3rem",border:"1px solid #bbf7d0",borderRadius:"4px",fontSize:"0.8rem"}}),l.jsx("span",{style:{fontSize:"0.8rem",color:"#166534"},children:"%"})]})]},B)})})]})]}),l.jsxs("div",{style:{marginTop:"1.5rem",border:"1px solid #e2e8f0",borderRadius:"8px",padding:"1rem"},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",color:"#059669",fontWeight:600,marginBottom:"0.5rem"},children:[l.jsx(MI,{size:18}),l.jsx("span",{children:"Estimativa de Gerao (Irradincia)"})]}),l.jsx(hee,{ibgeCode:_.ibge_code,potenciaKwp:A,onCalculate:Q})]})]}),l.jsx(xd,{title:"Vnculos com UCs",icon:lb,color:"#7c3aed",children:l.jsxs("div",{style:{background:"#f5f3ff",padding:"1rem",borderRadius:"8px",border:"1px solid #ede9fe"},children:[l.jsx("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0.8rem"},children:l.jsxs("div",{style:{fontSize:"0.9rem",color:"#5b21b6"},children:["Capacidade Comprometida: ",l.jsxs("strong",{children:[T.toFixed(2)," kWh"]}),_.geracao_estimada_kwh>0&&l.jsxs("span",{style:{marginLeft:"0.5rem",fontSize:"0.8rem",color:T>_.geracao_estimada_kwh?"#ef4444":"#166534"},children:["(",Math.round(T/_.geracao_estimada_kwh*100),"% da Gerao)"]})]})}),j.length===0?l.jsx("p",{style:{fontSize:"0.8rem",color:"#666",textAlign:"center",padding:"1rem"},children:"Nenhuma UC disponvel encontrada."}):l.jsx("div",{style:{maxHeight:"250px",overflowY:"auto",display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(280px, 1fr))",gap:"0.8rem"},children:j.map(B=>{var oe;const F=E.some(M=>M.id===B.id);return l.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"0.8rem",fontSize:"0.85rem",padding:"0.8rem",border:F?"1px solid #8b5cf6":"1px solid #ddd",borderRadius:"6px",background:F?"white":"rgba(255,255,255,0.6)",cursor:"pointer",transition:"0.2s",boxShadow:F?"0 2px 4px rgba(139, 92, 246, 0.1)":"none"},children:[l.jsx("input",{type:"checkbox",checked:F,onChange:M=>{M.target.checked?k([...E,B]):k(E.filter(V=>V.id!==B.id))},style:{transform:"scale(1.1)",accentColor:"#7c3aed"}}),l.jsxs("div",{style:{flex:1},children:[l.jsx("div",{style:{fontWeight:"bold",color:"#1e293b"},children:B.numero_uc}),l.jsx("div",{style:{fontSize:"0.75rem",color:"#64748b"},children:(oe=B.titular_conta)==null?void 0:oe.substring(0,20)})]}),l.jsxs("div",{style:{textAlign:"right"},children:[l.jsx("span",{style:{display:"block",fontSize:"0.65rem",color:"#94a3b8"},children:B.concessionaria}),l.jsx("div",{style:{fontSize:"0.8rem",color:"#059669",fontWeight:"bold"},children:B.franquia?`${Math.round(B.franquia)} kWh (Frq)`:B.consumo_medio_kwh?`${Math.round(B.consumo_medio_kwh)} kWh (Cons)`:"0 kWh"})]})]},B.id)})})]})}),l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:"2rem",paddingTop:"1.5rem",borderTop:"1px solid #e2e8f0"},children:[l.jsx("div",{children:e&&n&&l.jsxs("button",{type:"button",onClick:ee,style:{display:"flex",alignItems:"center",gap:"0.5rem",padding:"0.7rem 1.2rem",background:"#fee2e2",color:"#dc2626",borderRadius:"6px",border:"1px solid #fecaca",fontWeight:600,cursor:"pointer"},children:[l.jsx(tu,{size:18})," Excluir Usina"]})}),l.jsxs("div",{style:{display:"flex",gap:"1rem"},children:[l.jsx("button",{type:"button",onClick:t,style:{padding:"0.8rem 1.5rem",background:"white",border:"1px solid #cbd5e1",borderRadius:"6px",cursor:"pointer",color:"#475569",fontWeight:600},children:"Cancelar"}),l.jsx("button",{type:"submit",disabled:d,style:{display:"flex",alignItems:"center",gap:"0.5rem",padding:"0.8rem 2rem",background:"var(--color-blue)",color:"white",borderRadius:"6px",border:"none",cursor:"pointer",fontWeight:"bold",boxShadow:"0 4px 6px -1px rgba(37, 99, 235, 0.2)"},children:d?"Salvando...":l.jsxs(l.Fragment,{children:[l.jsx(ob,{size:18})," Salvar Usina"]})})]})]})]})]})})}function pee({usina:e,closingId:t,onClose:r,onSave:n}){const{showAlert:a}=Gr(),[i,o]=p.useState(!1),s=["Janeiro","Fevereiro","Maro","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],c=new Date().getFullYear(),u=[c-1,c,c+1],[d,f]=p.useState({ref_month:s[new Date().getMonth()],ref_year:c,closing_date:new Date().toISOString().split("T")[0],status:"rascunho",energia_gerada:"",energia_compensada:"",faturamento_mensal:"",faturas_pagas_base:"",custo_disponibilidade:"",manutencao:"",arrendamento:"",servicos_total:"",taxa_gestao_percentual:"",taxa_gestao_valor:"",total_despesas:"",saldo_liquido:""}),h=S=>!S&&S!==0?"":Number(S).toLocaleString("pt-BR",{style:"currency",currency:"BRL"}),m=S=>S?typeof S=="number"?S:Number(S.replace(/[^\d,]/g,"").replace(",","."))||0:0;p.useEffect(()=>{if(t)v();else if(e){const S=e.service_values||{},j=S.Internet||0,C=S.Segurana||0,E=S.gua||0,k=j+C+E;f(A=>({...A,custo_disponibilidade:S.Energia||0,manutencao:S.Manuteno||0,arrendamento:S.Arrendamento||0,servicos_total:k,taxa_gestao_percentual:e.gestao_percentual||0}))}},[e,t]),p.useEffect(()=>{!t&&e&&x()},[d.ref_month,d.ref_year]),p.useEffect(()=>{b()},[d.faturas_pagas_base,d.taxa_gestao_percentual,d.custo_disponibilidade,d.manutencao,d.arrendamento,d.servicos_total]);const v=async()=>{o(!0);const{data:S,error:j}=await $.from("plant_closings").select("*").eq("id",t).single();S&&f(S),o(!1)},x=async()=>{const{data:S}=await $.from("consumer_units").select("id").eq("usina_id",e.id),j=(S==null?void 0:S.map(E=>E.id))||[];if(j.length===0)return;`${d.ref_month}${d.ref_year}`;const{data:C}=await $.from("invoices").select("consumo_kwh, valor_total, status, economia_reais, consumo_reais").in("uc_id",j).ilike("mes_referencia",`%${d.ref_month}%`).eq("ano_referencia",d.ref_year);if(C){const E=C.reduce((T,I)=>T+(Number(I.consumo_kwh)||0),0),A=C.filter(T=>T.status==="paga").reduce((T,I)=>T+(Number(I.valor_total)||0),0),N=C.reduce((T,I)=>T+(Number(I.valor_total)||0),0);f(T=>({...T,energia_compensada:E,faturamento_mensal:N,faturas_pagas_base:A}))}},b=()=>{const S=m(d.faturas_pagas_base),j=Number(d.taxa_gestao_percentual)||0,C=S*(j/100),E=m(d.custo_disponibilidade),k=m(d.manutencao),A=m(d.arrendamento),N=m(d.servicos_total),T=E+k+A+N,I=S-(C+T);f(L=>({...L,taxa_gestao_valor:C,total_despesas:T,saldo_liquido:I}))},y=(S,j)=>{f(C=>({...C,[S]:j}))},g=(S,j)=>{const C=Number(j.replace(/\D/g,""))/100;f(E=>({...E,[S]:C}))},w=async()=>{if(!e.pix_key){a("Usina sem chave PIX cadastrada!","error");return}if(confirm("Confirma o repasse de "+h(d.saldo_liquido)+" para a usina? Essa ao  irreversvel.")){o(!0);try{const{data:S,error:j}=await $.functions.invoke("transfer-asaas-pix",{body:{amount:d.saldo_liquido,pixKey:e.pix_key,pixKeyType:e.pix_key_type||"CPF",description:`Repasse Mensal Usina ${e.name} - ${d.ref_month}/${d.ref_year}`,usinaId:e.id}});if(j)throw new Error(j.message||"Erro na comunicao com Asaas");if(S!=null&&S.error)throw new Error(S.error);await $.from("plant_closings").update({status:"liquidado"}).eq("id",t);const C=`${d.ref_month}/${d.ref_year}`,{data:E}=await $.from("consumer_units").select("id").eq("usina_id",e.id),k=(E==null?void 0:E.map(T=>T.id))||[];k.length>0&&await $.from("invoices").update({status:"liquidado"}).in("uc_id",k).ilike("mes_referencia",`%${d.ref_month}%`).eq("ano_referencia",d.ref_year).eq("status","paga");const N=[{cat:"manutencao",val:d.manutencao,desc:"Manuteno"},{cat:"arrendamento",val:d.arrendamento,desc:"Arrendamento"},{cat:"taxa_gestao",val:d.taxa_gestao_valor,desc:"Taxa de Gesto"},{cat:"servicos",val:d.servicos_total,desc:"Servios Gerais"}].filter(T=>Number(T.val)>0).map(T=>({usina_id:e.id,type:"saida",category:T.cat,amount:Number(T.val),description:`${T.desc} - Ref. ${d.ref_month}/${d.ref_year}`,origin_id:t,origin_type:"plant_closing",status:"liquidado",transaction_date:new Date().toISOString()}));N.length>0&&await $.from("cashbook").insert(N),k.length>0&&await $.from("cashbook").update({status:"liquidado"}).eq("usina_id",e.id).eq("type","entrada").eq("status","provisionado").textSearch("description",`${d.ref_month} ${d.ref_year}`),a("Pagamento realizado e despesas liquidadas!","success"),n(),r()}catch(S){console.error(S),a("Erro no processamento: "+S.message,"error")}finally{o(!1)}}},_=async S=>{S.preventDefault(),o(!0);const j={usina_id:e.id,...d,taxa_gestao_valor:Number(d.taxa_gestao_valor),total_despesas:Number(d.total_despesas),saldo_liquido:Number(d.saldo_liquido)};delete j.created_at;let C;t?C=await $.from("plant_closings").update(j).eq("id",t):C=await $.from("plant_closings").insert(j),o(!1),C.error?a("Erro ao salvar: "+C.error.message,"error"):(a("Fechamento salvo com sucesso!","success"),n(),r())};return l.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1100},children:l.jsxs("div",{style:{background:"#f8fafc",borderRadius:"12px",width:"95%",maxWidth:"900px",maxHeight:"95vh",overflowY:"auto",boxShadow:"0 20px 25px -5px rgba(0, 0, 0, 0.1)"},children:[l.jsxs("div",{style:{padding:"1.5rem",background:"white",borderBottom:"1px solid #e2e8f0",display:"flex",justifyContent:"space-between",alignItems:"center",borderTopLeftRadius:"12px",borderTopRightRadius:"12px"},children:[l.jsxs("div",{children:[l.jsx("h3",{style:{fontSize:"1.25rem",fontWeight:"bold",color:"#1e293b"},children:"Novo Fechamento"}),l.jsxs("p",{style:{fontSize:"0.9rem",color:"#64748b"},children:["Usina: ",e.name]})]}),l.jsx("button",{onClick:r,children:l.jsx(Yh,{size:24,color:"#94a3b8"})})]}),l.jsxs("form",{onSubmit:_,style:{padding:"2rem",display:"grid",gap:"2rem"},children:[l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(150px, 1fr))",gap:"1rem",background:"white",padding:"1.5rem",borderRadius:"8px",border:"1px solid #e2e8f0"},children:[l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.85rem",fontWeight:600,color:"#475569",marginBottom:"0.5rem"},children:"Ms Ref."}),l.jsx("select",{value:d.ref_month,onChange:S=>y("ref_month",S.target.value),style:{width:"100%",padding:"0.6rem",borderRadius:"6px",border:"1px solid #cbd5e1"},children:s.map(S=>l.jsx("option",{value:S,children:S},S))})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.85rem",fontWeight:600,color:"#475569",marginBottom:"0.5rem"},children:"Ano"}),l.jsx("select",{value:d.ref_year,onChange:S=>y("ref_year",S.target.value),style:{width:"100%",padding:"0.6rem",borderRadius:"6px",border:"1px solid #cbd5e1"},children:u.map(S=>l.jsx("option",{value:S,children:S},S))})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.85rem",fontWeight:600,color:"#475569",marginBottom:"0.5rem"},children:"Data Fechamento"}),l.jsx("input",{type:"date",value:d.closing_date,onChange:S=>y("closing_date",S.target.value),style:{width:"100%",padding:"0.6rem",borderRadius:"6px",border:"1px solid #cbd5e1"}})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.85rem",fontWeight:600,color:"#475569",marginBottom:"0.5rem"},children:"Status"}),l.jsxs("select",{value:d.status,onChange:S=>y("status",S.target.value),style:{width:"100%",padding:"0.6rem",borderRadius:"6px",border:"1px solid #cbd5e1",fontWeight:"bold",color:d.status==="fechado"?"#166534":"#ea580c"},children:[l.jsx("option",{value:"rascunho",children:"EM PRODUO"}),l.jsx("option",{value:"fechado",children:"FECHADO"})]})]}),l.jsx("div",{style:{display:"flex",alignItems:"end"},children:l.jsx("button",{type:"button",onClick:x,style:{width:"100%",padding:"0.6rem",background:"#3b82f6",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontWeight:600},children:"Buscar Faturas"})})]}),l.jsxs("div",{children:[l.jsxs("h4",{style:{color:"#334155",fontWeight:"bold",borderBottom:"1px solid #e2e8f0",paddingBottom:"0.5rem",marginBottom:"1rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:[l.jsx(DI,{size:18})," Produo e Receita"]}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1.5rem",marginBottom:"1.5rem"},children:[l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.85rem",color:"#64748b",marginBottom:"0.4rem"},children:"Gerao Mensal (kWh)"}),l.jsx("input",{type:"number",value:d.energia_gerada,onChange:S=>y("energia_gerada",S.target.value),style:{width:"100%",padding:"0.6rem",borderRadius:"6px",border:"1px solid #cbd5e1"}})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.85rem",color:"#64748b",marginBottom:"0.4rem"},children:"Energia Compensada (kWh) - Soma Faturas"}),l.jsx("input",{type:"number",value:d.energia_compensada,disabled:!0,style:{width:"100%",padding:"0.6rem",borderRadius:"6px",border:"1px solid #cbd5e1",background:"#f1f5f9"}})]})]}),l.jsxs("div",{style:{background:"#f0fdf4",padding:"1.5rem",borderRadius:"8px",border:"1px solid #bbf7d0"},children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",fontWeight:"bold",color:"#166534",marginBottom:"0.5rem"},children:"Faturas Pagas (Base de Clculo) - R$"}),l.jsx("input",{value:h(d.faturas_pagas_base),onChange:S=>g("faturas_pagas_base",S.target.value),style:{width:"100%",fontSize:"1.5rem",fontWeight:"bold",color:"#166534",padding:"0.5rem",background:"transparent",border:"none",outline:"none",borderBottom:"2px solid #16a34a"}}),l.jsx("p",{style:{fontSize:"0.8rem",color:"#15803d",marginTop:"0.5rem"},children:"Valor efetivamente recebido dos assinantes."})]})]}),l.jsxs("div",{style:{border:"1px solid #fb923c",borderRadius:"8px",padding:"1.5rem",background:"#fff7ed",position:"relative"},children:[l.jsxs("div",{style:{position:"absolute",top:"-12px",left:"20px",background:"#fff7ed",padding:"0 10px",color:"#c2410c",fontWeight:"bold",display:"flex",alignItems:"center",gap:"0.5rem"},children:[l.jsx(fi,{size:18})," Despesas Operacionais"]}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1.5rem",marginTop:"0.5rem"},children:[l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.85rem",color:"#9a3412",marginBottom:"0.4rem"},children:"Custo Disp. (R$)"}),l.jsx("input",{value:h(d.custo_disponibilidade),onChange:S=>g("custo_disponibilidade",S.target.value),style:{width:"100%",padding:"0.6rem",borderRadius:"6px",border:"1px solid #fed7aa",background:"white"}})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.85rem",color:"#9a3412",marginBottom:"0.4rem"},children:"Manuteno (R$)"}),l.jsx("input",{value:h(d.manutencao),onChange:S=>g("manutencao",S.target.value),style:{width:"100%",padding:"0.6rem",borderRadius:"6px",border:"1px solid #fed7aa",background:"white"}})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.85rem",color:"#9a3412",marginBottom:"0.4rem"},children:"Arrendamento (R$)"}),l.jsx("input",{value:h(d.arrendamento),onChange:S=>g("arrendamento",S.target.value),style:{width:"100%",padding:"0.6rem",borderRadius:"6px",border:"1px solid #fed7aa",background:"white"}})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.85rem",color:"#9a3412",marginBottom:"0.4rem"},children:"Servios (Net/Seg/gua) (R$)"}),l.jsx("input",{value:h(d.servicos_total),onChange:S=>g("servicos_total",S.target.value),style:{width:"100%",padding:"0.6rem",borderRadius:"6px",border:"1px solid #fed7aa",background:"white"}})]})]})]}),l.jsx("div",{style:{background:"#fefce8",borderRadius:"8px",padding:"1.5rem",border:"1px solid #fde047"},children:l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1.5rem"},children:[l.jsxs("div",{style:{display:"flex",gap:"1rem",alignItems:"end"},children:[l.jsxs("div",{style:{flex:1},children:[l.jsx("label",{style:{display:"block",fontSize:"0.85rem",color:"#854d0e",marginBottom:"0.4rem"},children:"Taxa de Gesto (%)"}),l.jsx("input",{type:"number",step:"0.1",value:d.taxa_gestao_percentual,onChange:S=>y("taxa_gestao_percentual",S.target.value),style:{width:"100%",padding:"0.6rem",borderRadius:"6px",border:"1px solid #fde047",background:"white"}})]}),l.jsxs("div",{style:{flex:1},children:[l.jsx("label",{style:{display:"block",fontSize:"0.85rem",color:"#854d0e",marginBottom:"0.4rem"},children:"Valor (R$)"}),l.jsx("input",{value:h(d.taxa_gestao_valor),disabled:!0,style:{width:"100%",padding:"0.6rem",borderRadius:"6px",border:"1px solid #fde047",background:"#fffbeb",fontWeight:"bold"}})]})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.85rem",color:"#854d0e",marginBottom:"0.4rem"},children:"Total Despesas Operacionais"}),l.jsx("input",{value:h(d.total_despesas),disabled:!0,style:{width:"100%",padding:"0.6rem",borderRadius:"6px",border:"1px solid #fde047",background:"#fffbeb",fontWeight:"bold"}})]})]})}),"/* ... existing render logic ... */",l.jsxs("div",{style:{background:"#eff6ff",borderRadius:"8px",padding:"2rem",textAlign:"center",border:"1px solid #bfdbfe"},children:[l.jsx("h3",{style:{color:"#1e40af",marginBottom:"0.5rem"},children:"Saldo Lquido a Receber"}),l.jsx("p",{style:{color:"#3b82f6",fontSize:"0.9rem",marginBottom:"1rem"},children:"Faturas Pagas - (Taxa Gesto + Total Despesas)"}),l.jsx("div",{style:{fontSize:"2.5rem",fontWeight:"900",color:d.saldo_liquido<0?"#ef4444":"#1e40af"},children:h(d.saldo_liquido)}),d.saldo_liquido>0&&d.status!=="liquidado"&&l.jsxs("button",{type:"button",onClick:w,disabled:i||d.status==="liquidado",style:{marginTop:"1.5rem",background:"#16a34a",color:"white",padding:"0.8rem 2rem",borderRadius:"6px",border:"none",fontWeight:"bold",cursor:"pointer",display:"inline-flex",alignItems:"center",gap:"0.5rem",boxShadow:"0 4px 6px -1px rgba(22, 163, 74, 0.3)"},children:[l.jsx(Gh,{size:20})," Pagar e Liquidar via Pix"]}),d.status==="liquidado"&&l.jsxs("div",{style:{marginTop:"1rem",color:"#166534",fontWeight:"bold",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem"},children:[l.jsx("div",{style:{width:10,height:10,borderRadius:"50%",background:"#166534"}}),"Repasse Realizado"]})]}),l.jsxs("div",{style:{display:"flex",justifyContent:"flex-end",gap:"1rem",marginTop:"1rem"},children:[l.jsx("button",{type:"button",onClick:r,style:{padding:"0.8rem 1.5rem",background:"white",border:"1px solid #cbd5e1",borderRadius:"6px",cursor:"pointer",color:"#475569",fontWeight:600},children:"Cancelar"}),l.jsx("button",{type:"submit",disabled:i,style:{display:"flex",alignItems:"center",gap:"0.5rem",padding:"0.8rem 2rem",background:"var(--color-blue)",color:"white",borderRadius:"6px",border:"none",cursor:"pointer",fontWeight:"bold",boxShadow:"0 4px 6px -1px rgba(37, 99, 235, 0.2)"},children:i?"Salvando...":l.jsxs(l.Fragment,{children:[l.jsx(ob,{size:18})," Salvar Fechamento"]})})]})]})]})})}function gee({usina:e,onClose:t}){const{showAlert:r}=Gr(),[n,a]=p.useState([]),[i,o]=p.useState(!0),[s,c]=p.useState(null),[u,d]=p.useState(!1);p.useEffect(()=>{e&&f()},[e]);const f=async()=>{o(!0);const{data:b,error:y}=await $.from("plant_closings").select("*").eq("usina_id",e.id).order("created_at",{ascending:!1});y?console.error("Error fetching closings",y):a(b||[]),o(!1)},h=b=>{c(b),d(!0)},m=()=>{c(null),d(!0)},v=()=>{f()},x=b=>Number(b||0).toLocaleString("pt-BR",{style:"currency",currency:"BRL"});return l.jsxs("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1050},children:[u&&l.jsx(pee,{usina:e,closingId:s,onClose:()=>d(!1),onSave:v}),l.jsxs("div",{style:{background:"white",borderRadius:"12px",width:"90%",maxWidth:"800px",maxHeight:"85vh",overflow:"hidden",display:"flex",flexDirection:"column",boxShadow:"0 20px 25px -5px rgba(0, 0, 0, 0.1)"},children:[l.jsxs("div",{style:{padding:"1.5rem",borderBottom:"1px solid #e2e8f0",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[l.jsxs("div",{children:[l.jsx("h3",{style:{fontSize:"1.25rem",fontWeight:"bold",color:"#1e293b"},children:"Fechamentos Mensais"}),l.jsxs("p",{style:{fontSize:"0.9rem",color:"#64748b"},children:["Histrico financeiro da usina ",e.name]})]}),l.jsx("button",{onClick:t,children:l.jsx(Yh,{size:24,color:"#94a3b8"})})]}),l.jsx("div",{style:{padding:"1rem 1.5rem",background:"#f8fafc",borderBottom:"1px solid #e2e8f0",display:"flex",justifyContent:"flex-end"},children:l.jsxs("button",{onClick:m,style:{display:"flex",alignItems:"center",gap:"0.5rem",background:"var(--color-blue)",color:"white",padding:"0.6rem 1.2rem",borderRadius:"6px",border:"none",fontWeight:600,cursor:"pointer"},children:[l.jsx(Vs,{size:18})," Novo Fechamento"]})}),l.jsx("div",{style:{padding:"1.5rem",overflowY:"auto",flex:1,background:"#f1f5f9"},children:i?l.jsx("p",{children:"Carregando..."}):n.length===0?l.jsxs("div",{style:{textAlign:"center",padding:"3rem",color:"#94a3b8",background:"white",borderRadius:"8px",border:"1px dashed #cbd5e1"},children:[l.jsx(fi,{size:48,style:{opacity:.2,marginBottom:"1rem"}}),l.jsx("p",{children:"Nenhum fechamento registrado para esta usina."})]}):l.jsx("div",{style:{display:"grid",gap:"1rem"},children:n.map(b=>l.jsxs("div",{style:{background:"white",padding:"1rem",borderRadius:"8px",border:"1px solid #e2e8f0",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[l.jsxs("div",{style:{display:"flex",gap:"1.5rem",alignItems:"center"},children:[l.jsxs("div",{style:{background:"#eff6ff",padding:"0.8rem",borderRadius:"8px",textAlign:"center",minWidth:"80px"},children:[l.jsx("div",{style:{fontSize:"0.8rem",color:"#64748b",textTransform:"uppercase"},children:"Ms/Ano"}),l.jsxs("div",{style:{fontWeight:"bold",color:"#1e40af"},children:[b.ref_month,"/",b.ref_year]})]}),l.jsxs("div",{children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"0.3rem"},children:[l.jsx("span",{style:{fontSize:"0.7rem",textTransform:"uppercase",fontWeight:"bold",padding:"0.2rem 0.5rem",borderRadius:"99px",background:b.status==="fechado"?"#dcfce7":"#ffedd5",color:b.status==="fechado"?"#166534":"#9a3412"},children:b.status}),l.jsxs("span",{style:{fontSize:"0.8rem",color:"#94a3b8"},children:["Criado em ",new Date(b.created_at).toLocaleDateString()]})]}),l.jsxs("div",{style:{fontSize:"0.9rem",color:"#475569"},children:["Faturas: ",l.jsx("strong",{children:x(b.faturas_pagas_base)})," | Despesas: ",l.jsx("strong",{children:x(b.total_despesas)})]})]})]}),l.jsxs("div",{style:{textAlign:"right"},children:[l.jsx("div",{style:{fontSize:"0.8rem",color:"#64748b"},children:"Saldo Lquido"}),l.jsx("div",{style:{fontSize:"1.2rem",fontWeight:"bold",color:b.saldo_liquido<0?"#ef4444":"#166534"},children:x(b.saldo_liquido)}),l.jsx("button",{onClick:()=>h(b.id),style:{marginTop:"0.5rem",background:"none",border:"none",color:"#3b82f6",fontSize:"0.85rem",cursor:"pointer",textDecoration:"underline"},children:"Ver Detalhes"})]})]},b.id))})})]})]})}function vee(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return p.useMemo(()=>n=>{t.forEach(a=>a(n))},t)}const Qm=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function rl(e){const t=Object.prototype.toString.call(e);return t==="[object Window]"||t==="[object global]"}function Xx(e){return"nodeType"in e}function Xt(e){var t,r;return e?rl(e)?e:Xx(e)&&(t=(r=e.ownerDocument)==null?void 0:r.defaultView)!=null?t:window:window}function Zx(e){const{Document:t}=Xt(e);return e instanceof t}function Cu(e){return rl(e)?!1:e instanceof Xt(e).HTMLElement}function cM(e){return e instanceof Xt(e).SVGElement}function nl(e){return e?rl(e)?e.document:Xx(e)?Zx(e)?e:Cu(e)||cM(e)?e.ownerDocument:document:document:document}const dn=Qm?p.useLayoutEffect:p.useEffect;function ep(e){const t=p.useRef(e);return dn(()=>{t.current=e}),p.useCallback(function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return t.current==null?void 0:t.current(...n)},[])}function yee(){const e=p.useRef(null),t=p.useCallback((n,a)=>{e.current=setInterval(n,a)},[]),r=p.useCallback(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[t,r]}function zc(e,t){t===void 0&&(t=[e]);const r=p.useRef(e);return dn(()=>{r.current!==e&&(r.current=e)},t),r}function Eu(e,t){const r=p.useRef();return p.useMemo(()=>{const n=e(r.current);return r.current=n,n},[...t])}function yh(e){const t=ep(e),r=p.useRef(null),n=p.useCallback(a=>{a!==r.current&&(t==null||t(a,r.current)),r.current=a},[]);return[r,n]}function bh(e){const t=p.useRef();return p.useEffect(()=>{t.current=e},[e]),t.current}let Og={};function Ou(e,t){return p.useMemo(()=>{if(t)return t;const r=Og[e]==null?0:Og[e]+1;return Og[e]=r,e+"-"+r},[e,t])}function uM(e){return function(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),a=1;a<r;a++)n[a-1]=arguments[a];return n.reduce((i,o)=>{const s=Object.entries(o);for(const[c,u]of s){const d=i[c];d!=null&&(i[c]=d+e*u)}return i},{...t})}}const cs=uM(1),xh=uM(-1);function bee(e){return"clientX"in e&&"clientY"in e}function tp(e){if(!e)return!1;const{KeyboardEvent:t}=Xt(e.target);return t&&e instanceof t}function xee(e){if(!e)return!1;const{TouchEvent:t}=Xt(e.target);return t&&e instanceof t}function wh(e){if(xee(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:r}=e.touches[0];return{x:t,y:r}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:r}=e.changedTouches[0];return{x:t,y:r}}}return bee(e)?{x:e.clientX,y:e.clientY}:null}const pa=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:r}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(r?Math.round(r):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:r}=e;return"scaleX("+t+") scaleY("+r+")"}},Transform:{toString(e){if(e)return[pa.Translate.toString(e),pa.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:r,easing:n}=e;return t+" "+r+"ms "+n}}}),WC="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function wee(e){return e.matches(WC)?e:e.querySelector(WC)}const _ee={display:"none"};function See(e){let{id:t,value:r}=e;return Ce.createElement("div",{id:t,style:_ee},r)}function jee(e){let{id:t,announcement:r,ariaLiveType:n="assertive"}=e;const a={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return Ce.createElement("div",{id:t,style:a,role:"status","aria-live":n,"aria-atomic":!0},r)}function Cee(){const[e,t]=p.useState("");return{announce:p.useCallback(n=>{n!=null&&t(n)},[]),announcement:e}}const dM=p.createContext(null);function Eee(e){const t=p.useContext(dM);p.useEffect(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(e)},[e,t])}function Oee(){const[e]=p.useState(()=>new Set),t=p.useCallback(n=>(e.add(n),()=>e.delete(n)),[e]);return[p.useCallback(n=>{let{type:a,event:i}=n;e.forEach(o=>{var s;return(s=o[a])==null?void 0:s.call(o,i)})},[e]),t]}const Aee={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},kee={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:r}=e;return r?"Draggable item "+t.id+" was moved over droppable area "+r.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:r}=e;return r?"Draggable item "+t.id+" was dropped over droppable area "+r.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function Tee(e){let{announcements:t=kee,container:r,hiddenTextDescribedById:n,screenReaderInstructions:a=Aee}=e;const{announce:i,announcement:o}=Cee(),s=Ou("DndLiveRegion"),[c,u]=p.useState(!1);if(p.useEffect(()=>{u(!0)},[]),Eee(p.useMemo(()=>({onDragStart(f){let{active:h}=f;i(t.onDragStart({active:h}))},onDragMove(f){let{active:h,over:m}=f;t.onDragMove&&i(t.onDragMove({active:h,over:m}))},onDragOver(f){let{active:h,over:m}=f;i(t.onDragOver({active:h,over:m}))},onDragEnd(f){let{active:h,over:m}=f;i(t.onDragEnd({active:h,over:m}))},onDragCancel(f){let{active:h,over:m}=f;i(t.onDragCancel({active:h,over:m}))}}),[i,t])),!c)return null;const d=Ce.createElement(Ce.Fragment,null,Ce.createElement(See,{id:n,value:a.draggable}),Ce.createElement(jee,{id:s,announcement:o}));return r?Ha.createPortal(d,r):d}var ct;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(ct||(ct={}));function _h(){}function fM(e,t){return p.useMemo(()=>({sensor:e,options:t??{}}),[e,t])}function hM(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return p.useMemo(()=>[...t].filter(n=>n!=null),[...t])}const fn=Object.freeze({x:0,y:0});function Nee(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function Ree(e,t){const r=wh(e);if(!r)return"0 0";const n={x:(r.x-t.left)/t.width*100,y:(r.y-t.top)/t.height*100};return n.x+"% "+n.y+"%"}function Dee(e,t){let{data:{value:r}}=e,{data:{value:n}}=t;return r-n}function Pee(e,t){let{data:{value:r}}=e,{data:{value:n}}=t;return n-r}function HC(e){let{left:t,top:r,height:n,width:a}=e;return[{x:t,y:r},{x:t+a,y:r},{x:t,y:r+n},{x:t+a,y:r+n}]}function Mee(e,t){if(!e||e.length===0)return null;const[r]=e;return r[t]}const mM=e=>{let{collisionRect:t,droppableRects:r,droppableContainers:n}=e;const a=HC(t),i=[];for(const o of n){const{id:s}=o,c=r.get(s);if(c){const u=HC(c),d=a.reduce((h,m,v)=>h+Nee(u[v],m),0),f=Number((d/4).toFixed(4));i.push({id:s,data:{droppableContainer:o,value:f}})}}return i.sort(Dee)};function zee(e,t){const r=Math.max(t.top,e.top),n=Math.max(t.left,e.left),a=Math.min(t.left+t.width,e.left+e.width),i=Math.min(t.top+t.height,e.top+e.height),o=a-n,s=i-r;if(n<a&&r<i){const c=t.width*t.height,u=e.width*e.height,d=o*s,f=d/(c+u-d);return Number(f.toFixed(4))}return 0}const Bee=e=>{let{collisionRect:t,droppableRects:r,droppableContainers:n}=e;const a=[];for(const i of n){const{id:o}=i,s=r.get(o);if(s){const c=zee(s,t);c>0&&a.push({id:o,data:{droppableContainer:i,value:c}})}}return a.sort(Pee)};function Iee(e,t,r){return{...e,scaleX:t&&r?t.width/r.width:1,scaleY:t&&r?t.height/r.height:1}}function pM(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:fn}function $ee(e){return function(r){for(var n=arguments.length,a=new Array(n>1?n-1:0),i=1;i<n;i++)a[i-1]=arguments[i];return a.reduce((o,s)=>({...o,top:o.top+e*s.y,bottom:o.bottom+e*s.y,left:o.left+e*s.x,right:o.right+e*s.x}),{...r})}}const Lee=$ee(1);function gM(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function Uee(e,t,r){const n=gM(t);if(!n)return e;const{scaleX:a,scaleY:i,x:o,y:s}=n,c=e.left-o-(1-a)*parseFloat(r),u=e.top-s-(1-i)*parseFloat(r.slice(r.indexOf(" ")+1)),d=a?e.width/a:e.width,f=i?e.height/i:e.height;return{width:d,height:f,top:u,right:c+d,bottom:u+f,left:c}}const qee={ignoreTransform:!1};function al(e,t){t===void 0&&(t=qee);let r=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:u,transformOrigin:d}=Xt(e).getComputedStyle(e);u&&(r=Uee(r,u,d))}const{top:n,left:a,width:i,height:o,bottom:s,right:c}=r;return{top:n,left:a,width:i,height:o,bottom:s,right:c}}function FC(e){return al(e,{ignoreTransform:!0})}function Wee(e){const t=e.innerWidth,r=e.innerHeight;return{top:0,left:0,right:t,bottom:r,width:t,height:r}}function Hee(e,t){return t===void 0&&(t=Xt(e).getComputedStyle(e)),t.position==="fixed"}function Fee(e,t){t===void 0&&(t=Xt(e).getComputedStyle(e));const r=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(a=>{const i=t[a];return typeof i=="string"?r.test(i):!1})}function Jx(e,t){const r=[];function n(a){if(t!=null&&r.length>=t||!a)return r;if(Zx(a)&&a.scrollingElement!=null&&!r.includes(a.scrollingElement))return r.push(a.scrollingElement),r;if(!Cu(a)||cM(a)||r.includes(a))return r;const i=Xt(e).getComputedStyle(a);return a!==e&&Fee(a,i)&&r.push(a),Hee(a,i)?r:n(a.parentNode)}return e?n(e):r}function vM(e){const[t]=Jx(e,1);return t??null}function Ag(e){return!Qm||!e?null:rl(e)?e:Xx(e)?Zx(e)||e===nl(e).scrollingElement?window:Cu(e)?e:null:null}function yM(e){return rl(e)?e.scrollX:e.scrollLeft}function bM(e){return rl(e)?e.scrollY:e.scrollTop}function qy(e){return{x:yM(e),y:bM(e)}}var xt;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(xt||(xt={}));function xM(e){return!Qm||!e?!1:e===document.scrollingElement}function wM(e){const t={x:0,y:0},r=xM(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},n={x:e.scrollWidth-r.width,y:e.scrollHeight-r.height},a=e.scrollTop<=t.y,i=e.scrollLeft<=t.x,o=e.scrollTop>=n.y,s=e.scrollLeft>=n.x;return{isTop:a,isLeft:i,isBottom:o,isRight:s,maxScroll:n,minScroll:t}}const Vee={x:.2,y:.2};function Kee(e,t,r,n,a){let{top:i,left:o,right:s,bottom:c}=r;n===void 0&&(n=10),a===void 0&&(a=Vee);const{isTop:u,isBottom:d,isLeft:f,isRight:h}=wM(e),m={x:0,y:0},v={x:0,y:0},x={height:t.height*a.y,width:t.width*a.x};return!u&&i<=t.top+x.height?(m.y=xt.Backward,v.y=n*Math.abs((t.top+x.height-i)/x.height)):!d&&c>=t.bottom-x.height&&(m.y=xt.Forward,v.y=n*Math.abs((t.bottom-x.height-c)/x.height)),!h&&s>=t.right-x.width?(m.x=xt.Forward,v.x=n*Math.abs((t.right-x.width-s)/x.width)):!f&&o<=t.left+x.width&&(m.x=xt.Backward,v.x=n*Math.abs((t.left+x.width-o)/x.width)),{direction:m,speed:v}}function Gee(e){if(e===document.scrollingElement){const{innerWidth:i,innerHeight:o}=window;return{top:0,left:0,right:i,bottom:o,width:i,height:o}}const{top:t,left:r,right:n,bottom:a}=e.getBoundingClientRect();return{top:t,left:r,right:n,bottom:a,width:e.clientWidth,height:e.clientHeight}}function _M(e){return e.reduce((t,r)=>cs(t,qy(r)),fn)}function Yee(e){return e.reduce((t,r)=>t+yM(r),0)}function Xee(e){return e.reduce((t,r)=>t+bM(r),0)}function SM(e,t){if(t===void 0&&(t=al),!e)return;const{top:r,left:n,bottom:a,right:i}=t(e);vM(e)&&(a<=0||i<=0||r>=window.innerHeight||n>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const Zee=[["x",["left","right"],Yee],["y",["top","bottom"],Xee]];class Qx{constructor(t,r){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const n=Jx(r),a=_M(n);this.rect={...t},this.width=t.width,this.height=t.height;for(const[i,o,s]of Zee)for(const c of o)Object.defineProperty(this,c,{get:()=>{const u=s(n),d=a[i]-u;return this.rect[c]+d},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class Zl{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(r=>{var n;return(n=this.target)==null?void 0:n.removeEventListener(...r)})},this.target=t}add(t,r,n){var a;(a=this.target)==null||a.addEventListener(t,r,n),this.listeners.push([t,r,n])}}function Jee(e){const{EventTarget:t}=Xt(e);return e instanceof t?e:nl(e)}function kg(e,t){const r=Math.abs(e.x),n=Math.abs(e.y);return typeof t=="number"?Math.sqrt(r**2+n**2)>t:"x"in t&&"y"in t?r>t.x&&n>t.y:"x"in t?r>t.x:"y"in t?n>t.y:!1}var Pr;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(Pr||(Pr={}));function VC(e){e.preventDefault()}function Qee(e){e.stopPropagation()}var ge;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"})(ge||(ge={}));const jM={start:[ge.Space,ge.Enter],cancel:[ge.Esc],end:[ge.Space,ge.Enter,ge.Tab]},ete=(e,t)=>{let{currentCoordinates:r}=t;switch(e.code){case ge.Right:return{...r,x:r.x+25};case ge.Left:return{...r,x:r.x-25};case ge.Down:return{...r,y:r.y+25};case ge.Up:return{...r,y:r.y-25}}};class CM{constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;const{event:{target:r}}=t;this.props=t,this.listeners=new Zl(nl(r)),this.windowListeners=new Zl(Xt(r)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(Pr.Resize,this.handleCancel),this.windowListeners.add(Pr.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(Pr.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:t,onStart:r}=this.props,n=t.node.current;n&&SM(n),r(fn)}handleKeyDown(t){if(tp(t)){const{active:r,context:n,options:a}=this.props,{keyboardCodes:i=jM,coordinateGetter:o=ete,scrollBehavior:s="smooth"}=a,{code:c}=t;if(i.end.includes(c)){this.handleEnd(t);return}if(i.cancel.includes(c)){this.handleCancel(t);return}const{collisionRect:u}=n.current,d=u?{x:u.left,y:u.top}:fn;this.referenceCoordinates||(this.referenceCoordinates=d);const f=o(t,{active:r,context:n.current,currentCoordinates:d});if(f){const h=xh(f,d),m={x:0,y:0},{scrollableAncestors:v}=n.current;for(const x of v){const b=t.code,{isTop:y,isRight:g,isLeft:w,isBottom:_,maxScroll:S,minScroll:j}=wM(x),C=Gee(x),E={x:Math.min(b===ge.Right?C.right-C.width/2:C.right,Math.max(b===ge.Right?C.left:C.left+C.width/2,f.x)),y:Math.min(b===ge.Down?C.bottom-C.height/2:C.bottom,Math.max(b===ge.Down?C.top:C.top+C.height/2,f.y))},k=b===ge.Right&&!g||b===ge.Left&&!w,A=b===ge.Down&&!_||b===ge.Up&&!y;if(k&&E.x!==f.x){const N=x.scrollLeft+h.x,T=b===ge.Right&&N<=S.x||b===ge.Left&&N>=j.x;if(T&&!h.y){x.scrollTo({left:N,behavior:s});return}T?m.x=x.scrollLeft-N:m.x=b===ge.Right?x.scrollLeft-S.x:x.scrollLeft-j.x,m.x&&x.scrollBy({left:-m.x,behavior:s});break}else if(A&&E.y!==f.y){const N=x.scrollTop+h.y,T=b===ge.Down&&N<=S.y||b===ge.Up&&N>=j.y;if(T&&!h.x){x.scrollTo({top:N,behavior:s});return}T?m.y=x.scrollTop-N:m.y=b===ge.Down?x.scrollTop-S.y:x.scrollTop-j.y,m.y&&x.scrollBy({top:-m.y,behavior:s});break}}this.handleMove(t,cs(xh(f,this.referenceCoordinates),m))}}}handleMove(t,r){const{onMove:n}=this.props;t.preventDefault(),n(r)}handleEnd(t){const{onEnd:r}=this.props;t.preventDefault(),this.detach(),r()}handleCancel(t){const{onCancel:r}=this.props;t.preventDefault(),this.detach(),r()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}CM.activators=[{eventName:"onKeyDown",handler:(e,t,r)=>{let{keyboardCodes:n=jM,onActivation:a}=t,{active:i}=r;const{code:o}=e.nativeEvent;if(n.start.includes(o)){const s=i.activatorNode.current;return s&&e.target!==s?!1:(e.preventDefault(),a==null||a({event:e.nativeEvent}),!0)}return!1}}];function KC(e){return!!(e&&"distance"in e)}function GC(e){return!!(e&&"delay"in e)}class e1{constructor(t,r,n){var a;n===void 0&&(n=Jee(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=r;const{event:i}=t,{target:o}=i;this.props=t,this.events=r,this.document=nl(o),this.documentListeners=new Zl(this.document),this.listeners=new Zl(n),this.windowListeners=new Zl(Xt(o)),this.initialCoordinates=(a=wh(i))!=null?a:fn,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:t,props:{options:{activationConstraint:r,bypassActivationConstraint:n}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),t.cancel&&this.listeners.add(t.cancel.name,this.handleCancel),this.windowListeners.add(Pr.Resize,this.handleCancel),this.windowListeners.add(Pr.DragStart,VC),this.windowListeners.add(Pr.VisibilityChange,this.handleCancel),this.windowListeners.add(Pr.ContextMenu,VC),this.documentListeners.add(Pr.Keydown,this.handleKeydown),r){if(n!=null&&n({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(GC(r)){this.timeoutId=setTimeout(this.handleStart,r.delay),this.handlePending(r);return}if(KC(r)){this.handlePending(r);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(t,r){const{active:n,onPending:a}=this.props;a(n,t,this.initialCoordinates,r)}handleStart(){const{initialCoordinates:t}=this,{onStart:r}=this.props;t&&(this.activated=!0,this.documentListeners.add(Pr.Click,Qee,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(Pr.SelectionChange,this.removeTextSelection),r(t))}handleMove(t){var r;const{activated:n,initialCoordinates:a,props:i}=this,{onMove:o,options:{activationConstraint:s}}=i;if(!a)return;const c=(r=wh(t))!=null?r:fn,u=xh(a,c);if(!n&&s){if(KC(s)){if(s.tolerance!=null&&kg(u,s.tolerance))return this.handleCancel();if(kg(u,s.distance))return this.handleStart()}if(GC(s)&&kg(u,s.tolerance))return this.handleCancel();this.handlePending(s,u);return}t.cancelable&&t.preventDefault(),o(c)}handleEnd(){const{onAbort:t,onEnd:r}=this.props;this.detach(),this.activated||t(this.props.active),r()}handleCancel(){const{onAbort:t,onCancel:r}=this.props;this.detach(),this.activated||t(this.props.active),r()}handleKeydown(t){t.code===ge.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}}const tte={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class rp extends e1{constructor(t){const{event:r}=t,n=nl(r.target);super(t,tte,n)}}rp.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:r}=e,{onActivation:n}=t;return!r.isPrimary||r.button!==0?!1:(n==null||n({event:r}),!0)}}];const rte={move:{name:"mousemove"},end:{name:"mouseup"}};var Wy;(function(e){e[e.RightClick=2]="RightClick"})(Wy||(Wy={}));class nte extends e1{constructor(t){super(t,rte,nl(t.event.target))}}nte.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:r}=e,{onActivation:n}=t;return r.button===Wy.RightClick?!1:(n==null||n({event:r}),!0)}}];const Tg={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class ate extends e1{constructor(t){super(t,Tg)}static setup(){return window.addEventListener(Tg.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(Tg.move.name,t)};function t(){}}}ate.activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:r}=e,{onActivation:n}=t;const{touches:a}=r;return a.length>1?!1:(n==null||n({event:r}),!0)}}];var Jl;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(Jl||(Jl={}));var Sh;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(Sh||(Sh={}));function ite(e){let{acceleration:t,activator:r=Jl.Pointer,canScroll:n,draggingRect:a,enabled:i,interval:o=5,order:s=Sh.TreeOrder,pointerCoordinates:c,scrollableAncestors:u,scrollableAncestorRects:d,delta:f,threshold:h}=e;const m=ste({delta:f,disabled:!i}),[v,x]=yee(),b=p.useRef({x:0,y:0}),y=p.useRef({x:0,y:0}),g=p.useMemo(()=>{switch(r){case Jl.Pointer:return c?{top:c.y,bottom:c.y,left:c.x,right:c.x}:null;case Jl.DraggableRect:return a}},[r,a,c]),w=p.useRef(null),_=p.useCallback(()=>{const j=w.current;if(!j)return;const C=b.current.x*y.current.x,E=b.current.y*y.current.y;j.scrollBy(C,E)},[]),S=p.useMemo(()=>s===Sh.TreeOrder?[...u].reverse():u,[s,u]);p.useEffect(()=>{if(!i||!u.length||!g){x();return}for(const j of S){if((n==null?void 0:n(j))===!1)continue;const C=u.indexOf(j),E=d[C];if(!E)continue;const{direction:k,speed:A}=Kee(j,E,g,t,h);for(const N of["x","y"])m[N][k[N]]||(A[N]=0,k[N]=0);if(A.x>0||A.y>0){x(),w.current=j,v(_,o),b.current=A,y.current=k;return}}b.current={x:0,y:0},y.current={x:0,y:0},x()},[t,_,n,x,i,o,JSON.stringify(g),JSON.stringify(m),v,u,S,d,JSON.stringify(h)])}const ote={x:{[xt.Backward]:!1,[xt.Forward]:!1},y:{[xt.Backward]:!1,[xt.Forward]:!1}};function ste(e){let{delta:t,disabled:r}=e;const n=bh(t);return Eu(a=>{if(r||!n||!a)return ote;const i={x:Math.sign(t.x-n.x),y:Math.sign(t.y-n.y)};return{x:{[xt.Backward]:a.x[xt.Backward]||i.x===-1,[xt.Forward]:a.x[xt.Forward]||i.x===1},y:{[xt.Backward]:a.y[xt.Backward]||i.y===-1,[xt.Forward]:a.y[xt.Forward]||i.y===1}}},[r,t,n])}function lte(e,t){const r=t!=null?e.get(t):void 0,n=r?r.node.current:null;return Eu(a=>{var i;return t==null?null:(i=n??a)!=null?i:null},[n,t])}function cte(e,t){return p.useMemo(()=>e.reduce((r,n)=>{const{sensor:a}=n,i=a.activators.map(o=>({eventName:o.eventName,handler:t(o.handler,n)}));return[...r,...i]},[]),[e,t])}var Bc;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(Bc||(Bc={}));var Hy;(function(e){e.Optimized="optimized"})(Hy||(Hy={}));const YC=new Map;function ute(e,t){let{dragging:r,dependencies:n,config:a}=t;const[i,o]=p.useState(null),{frequency:s,measure:c,strategy:u}=a,d=p.useRef(e),f=b(),h=zc(f),m=p.useCallback(function(y){y===void 0&&(y=[]),!h.current&&o(g=>g===null?y:g.concat(y.filter(w=>!g.includes(w))))},[h]),v=p.useRef(null),x=Eu(y=>{if(f&&!r)return YC;if(!y||y===YC||d.current!==e||i!=null){const g=new Map;for(let w of e){if(!w)continue;if(i&&i.length>0&&!i.includes(w.id)&&w.rect.current){g.set(w.id,w.rect.current);continue}const _=w.node.current,S=_?new Qx(c(_),_):null;w.rect.current=S,S&&g.set(w.id,S)}return g}return y},[e,i,r,f,c]);return p.useEffect(()=>{d.current=e},[e]),p.useEffect(()=>{f||m()},[r,f]),p.useEffect(()=>{i&&i.length>0&&o(null)},[JSON.stringify(i)]),p.useEffect(()=>{f||typeof s!="number"||v.current!==null||(v.current=setTimeout(()=>{m(),v.current=null},s))},[s,f,m,...n]),{droppableRects:x,measureDroppableContainers:m,measuringScheduled:i!=null};function b(){switch(u){case Bc.Always:return!1;case Bc.BeforeDragging:return r;default:return!r}}}function t1(e,t){return Eu(r=>e?r||(typeof t=="function"?t(e):e):null,[t,e])}function dte(e,t){return t1(e,t)}function fte(e){let{callback:t,disabled:r}=e;const n=ep(t),a=p.useMemo(()=>{if(r||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:i}=window;return new i(n)},[n,r]);return p.useEffect(()=>()=>a==null?void 0:a.disconnect(),[a]),a}function np(e){let{callback:t,disabled:r}=e;const n=ep(t),a=p.useMemo(()=>{if(r||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:i}=window;return new i(n)},[r]);return p.useEffect(()=>()=>a==null?void 0:a.disconnect(),[a]),a}function hte(e){return new Qx(al(e),e)}function XC(e,t,r){t===void 0&&(t=hte);const[n,a]=p.useState(null);function i(){a(c=>{if(!e)return null;if(e.isConnected===!1){var u;return(u=c??r)!=null?u:null}const d=t(e);return JSON.stringify(c)===JSON.stringify(d)?c:d})}const o=fte({callback(c){if(e)for(const u of c){const{type:d,target:f}=u;if(d==="childList"&&f instanceof HTMLElement&&f.contains(e)){i();break}}}}),s=np({callback:i});return dn(()=>{i(),e?(s==null||s.observe(e),o==null||o.observe(document.body,{childList:!0,subtree:!0})):(s==null||s.disconnect(),o==null||o.disconnect())},[e]),n}function mte(e){const t=t1(e);return pM(e,t)}const ZC=[];function pte(e){const t=p.useRef(e),r=Eu(n=>e?n&&n!==ZC&&e&&t.current&&e.parentNode===t.current.parentNode?n:Jx(e):ZC,[e]);return p.useEffect(()=>{t.current=e},[e]),r}function gte(e){const[t,r]=p.useState(null),n=p.useRef(e),a=p.useCallback(i=>{const o=Ag(i.target);o&&r(s=>s?(s.set(o,qy(o)),new Map(s)):null)},[]);return p.useEffect(()=>{const i=n.current;if(e!==i){o(i);const s=e.map(c=>{const u=Ag(c);return u?(u.addEventListener("scroll",a,{passive:!0}),[u,qy(u)]):null}).filter(c=>c!=null);r(s.length?new Map(s):null),n.current=e}return()=>{o(e),o(i)};function o(s){s.forEach(c=>{const u=Ag(c);u==null||u.removeEventListener("scroll",a)})}},[a,e]),p.useMemo(()=>e.length?t?Array.from(t.values()).reduce((i,o)=>cs(i,o),fn):_M(e):fn,[e,t])}function JC(e,t){t===void 0&&(t=[]);const r=p.useRef(null);return p.useEffect(()=>{r.current=null},t),p.useEffect(()=>{const n=e!==fn;n&&!r.current&&(r.current=e),!n&&r.current&&(r.current=null)},[e]),r.current?xh(e,r.current):fn}function vte(e){p.useEffect(()=>{if(!Qm)return;const t=e.map(r=>{let{sensor:n}=r;return n.setup==null?void 0:n.setup()});return()=>{for(const r of t)r==null||r()}},e.map(t=>{let{sensor:r}=t;return r}))}function yte(e,t){return p.useMemo(()=>e.reduce((r,n)=>{let{eventName:a,handler:i}=n;return r[a]=o=>{i(o,t)},r},{}),[e,t])}function EM(e){return p.useMemo(()=>e?Wee(e):null,[e])}const QC=[];function bte(e,t){t===void 0&&(t=al);const[r]=e,n=EM(r?Xt(r):null),[a,i]=p.useState(QC);function o(){i(()=>e.length?e.map(c=>xM(c)?n:new Qx(t(c),c)):QC)}const s=np({callback:o});return dn(()=>{s==null||s.disconnect(),o(),e.forEach(c=>s==null?void 0:s.observe(c))},[e]),a}function OM(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return Cu(t)?t:e}function xte(e){let{measure:t}=e;const[r,n]=p.useState(null),a=p.useCallback(u=>{for(const{target:d}of u)if(Cu(d)){n(f=>{const h=t(d);return f?{...f,width:h.width,height:h.height}:h});break}},[t]),i=np({callback:a}),o=p.useCallback(u=>{const d=OM(u);i==null||i.disconnect(),d&&(i==null||i.observe(d)),n(d?t(d):null)},[t,i]),[s,c]=yh(o);return p.useMemo(()=>({nodeRef:s,rect:r,setRef:c}),[r,s,c])}const wte=[{sensor:rp,options:{}},{sensor:CM,options:{}}],_te={current:{}},Wd={draggable:{measure:FC},droppable:{measure:FC,strategy:Bc.WhileDragging,frequency:Hy.Optimized},dragOverlay:{measure:al}};class Ql extends Map{get(t){var r;return t!=null&&(r=super.get(t))!=null?r:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(t=>{let{disabled:r}=t;return!r})}getNodeFor(t){var r,n;return(r=(n=this.get(t))==null?void 0:n.node.current)!=null?r:void 0}}const Ste={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Ql,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:_h},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:Wd,measureDroppableContainers:_h,windowRect:null,measuringScheduled:!1},AM={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:_h,draggableNodes:new Map,over:null,measureDroppableContainers:_h},Au=p.createContext(AM),kM=p.createContext(Ste);function jte(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Ql}}}function Cte(e,t){switch(t.type){case ct.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case ct.DragMove:return e.draggable.active==null?e:{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}};case ct.DragEnd:case ct.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case ct.RegisterDroppable:{const{element:r}=t,{id:n}=r,a=new Ql(e.droppable.containers);return a.set(n,r),{...e,droppable:{...e.droppable,containers:a}}}case ct.SetDroppableDisabled:{const{id:r,key:n,disabled:a}=t,i=e.droppable.containers.get(r);if(!i||n!==i.key)return e;const o=new Ql(e.droppable.containers);return o.set(r,{...i,disabled:a}),{...e,droppable:{...e.droppable,containers:o}}}case ct.UnregisterDroppable:{const{id:r,key:n}=t,a=e.droppable.containers.get(r);if(!a||n!==a.key)return e;const i=new Ql(e.droppable.containers);return i.delete(r),{...e,droppable:{...e.droppable,containers:i}}}default:return e}}function Ete(e){let{disabled:t}=e;const{active:r,activatorEvent:n,draggableNodes:a}=p.useContext(Au),i=bh(n),o=bh(r==null?void 0:r.id);return p.useEffect(()=>{if(!t&&!n&&i&&o!=null){if(!tp(i)||document.activeElement===i.target)return;const s=a.get(o);if(!s)return;const{activatorNode:c,node:u}=s;if(!c.current&&!u.current)return;requestAnimationFrame(()=>{for(const d of[c.current,u.current]){if(!d)continue;const f=wee(d);if(f){f.focus();break}}})}},[n,t,a,o,i]),null}function TM(e,t){let{transform:r,...n}=t;return e!=null&&e.length?e.reduce((a,i)=>i({transform:a,...n}),r):r}function Ote(e){return p.useMemo(()=>({draggable:{...Wd.draggable,...e==null?void 0:e.draggable},droppable:{...Wd.droppable,...e==null?void 0:e.droppable},dragOverlay:{...Wd.dragOverlay,...e==null?void 0:e.dragOverlay}}),[e==null?void 0:e.draggable,e==null?void 0:e.droppable,e==null?void 0:e.dragOverlay])}function Ate(e){let{activeNode:t,measure:r,initialRect:n,config:a=!0}=e;const i=p.useRef(!1),{x:o,y:s}=typeof a=="boolean"?{x:a,y:a}:a;dn(()=>{if(!o&&!s||!t){i.current=!1;return}if(i.current||!n)return;const u=t==null?void 0:t.node.current;if(!u||u.isConnected===!1)return;const d=r(u),f=pM(d,n);if(o||(f.x=0),s||(f.y=0),i.current=!0,Math.abs(f.x)>0||Math.abs(f.y)>0){const h=vM(u);h&&h.scrollBy({top:f.y,left:f.x})}},[t,o,s,n,r])}const ap=p.createContext({...fn,scaleX:1,scaleY:1});var Ba;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(Ba||(Ba={}));const NM=p.memo(function(t){var r,n,a,i;let{id:o,accessibility:s,autoScroll:c=!0,children:u,sensors:d=wte,collisionDetection:f=Bee,measuring:h,modifiers:m,...v}=t;const x=p.useReducer(Cte,void 0,jte),[b,y]=x,[g,w]=Oee(),[_,S]=p.useState(Ba.Uninitialized),j=_===Ba.Initialized,{draggable:{active:C,nodes:E,translate:k},droppable:{containers:A}}=b,N=C!=null?E.get(C):null,T=p.useRef({initial:null,translated:null}),I=p.useMemo(()=>{var Bt;return C!=null?{id:C,data:(Bt=N==null?void 0:N.data)!=null?Bt:_te,rect:T}:null},[C,N]),L=p.useRef(null),[H,O]=p.useState(null),[R,D]=p.useState(null),P=zc(v,Object.values(v)),U=Ou("DndDescribedBy",o),G=p.useMemo(()=>A.getEnabled(),[A]),K=Ote(h),{droppableRects:Q,measureDroppableContainers:ee,measuringScheduled:ne}=ute(G,{dragging:j,dependencies:[k.x,k.y],config:K.droppable}),B=lte(E,C),F=p.useMemo(()=>R?wh(R):null,[R]),oe=ZM(),M=dte(B,K.draggable.measure);Ate({activeNode:C!=null?E.get(C):null,config:oe.layoutShiftCompensation,initialRect:M,measure:K.draggable.measure});const V=XC(B,K.draggable.measure,M),re=XC(B?B.parentElement:null),W=p.useRef({activatorEvent:null,active:null,activeNode:B,collisionRect:null,collisions:null,droppableRects:Q,draggableNodes:E,draggingNode:null,draggingNodeRect:null,droppableContainers:A,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),Ve=A.getNodeFor((r=W.current.over)==null?void 0:r.id),fe=xte({measure:K.dragOverlay.measure}),Ze=(n=fe.nodeRef.current)!=null?n:B,Je=j?(a=fe.rect)!=null?a:V:null,vn=!!(fe.nodeRef.current&&fe.rect),il=mte(vn?null:V),ip=EM(Ze?Xt(Ze):null),Ea=pte(j?Ve??B:null),ku=bte(Ea),Tu=TM(m,{transform:{x:k.x-il.x,y:k.y-il.y,scaleX:1,scaleY:1},activatorEvent:R,active:I,activeNodeRect:V,containerNodeRect:re,draggingNodeRect:Je,over:W.current.over,overlayNodeRect:fe.rect,scrollableAncestors:Ea,scrollableAncestorRects:ku,windowRect:ip}),n1=F?cs(F,k):null,a1=gte(Ea),HM=JC(a1),FM=JC(a1,[V]),xo=cs(Tu,HM),wo=Je?Lee(Je,Tu):null,ol=I&&wo?f({active:I,collisionRect:wo,droppableRects:Q,droppableContainers:G,pointerCoordinates:n1}):null,i1=Mee(ol,"id"),[Oa,o1]=p.useState(null),VM=vn?Tu:cs(Tu,FM),KM=Iee(VM,(i=Oa==null?void 0:Oa.rect)!=null?i:null,V),op=p.useRef(null),s1=p.useCallback((Bt,lr)=>{let{sensor:cr,options:Aa}=lr;if(L.current==null)return;const kr=E.get(L.current);if(!kr)return;const ur=Bt.nativeEvent,yn=new cr({active:L.current,activeNode:kr,event:ur,options:Aa,context:W,onAbort(Et){if(!E.get(Et))return;const{onDragAbort:bn}=P.current,Dn={id:Et};bn==null||bn(Dn),g({type:"onDragAbort",event:Dn})},onPending(Et,ka,bn,Dn){if(!E.get(Et))return;const{onDragPending:ll}=P.current,Ta={id:Et,constraint:ka,initialCoordinates:bn,offset:Dn};ll==null||ll(Ta),g({type:"onDragPending",event:Ta})},onStart(Et){const ka=L.current;if(ka==null)return;const bn=E.get(ka);if(!bn)return;const{onDragStart:Dn}=P.current,sl={activatorEvent:ur,active:{id:ka,data:bn.data,rect:T}};Ha.unstable_batchedUpdates(()=>{Dn==null||Dn(sl),S(Ba.Initializing),y({type:ct.DragStart,initialCoordinates:Et,active:ka}),g({type:"onDragStart",event:sl}),O(op.current),D(ur)})},onMove(Et){y({type:ct.DragMove,coordinates:Et})},onEnd:_o(ct.DragEnd),onCancel:_o(ct.DragCancel)});op.current=yn;function _o(Et){return async function(){const{active:bn,collisions:Dn,over:sl,scrollAdjustedTranslate:ll}=W.current;let Ta=null;if(bn&&ll){const{cancelDrop:cl}=P.current;Ta={activatorEvent:ur,active:bn,collisions:Dn,delta:ll,over:sl},Et===ct.DragEnd&&typeof cl=="function"&&await Promise.resolve(cl(Ta))&&(Et=ct.DragCancel)}L.current=null,Ha.unstable_batchedUpdates(()=>{y({type:Et}),S(Ba.Uninitialized),o1(null),O(null),D(null),op.current=null;const cl=Et===ct.DragEnd?"onDragEnd":"onDragCancel";if(Ta){const sp=P.current[cl];sp==null||sp(Ta),g({type:cl,event:Ta})}})}}},[E]),GM=p.useCallback((Bt,lr)=>(cr,Aa)=>{const kr=cr.nativeEvent,ur=E.get(Aa);if(L.current!==null||!ur||kr.dndKit||kr.defaultPrevented)return;const yn={active:ur};Bt(cr,lr.options,yn)===!0&&(kr.dndKit={capturedBy:lr.sensor},L.current=Aa,s1(cr,lr))},[E,s1]),l1=cte(d,GM);vte(d),dn(()=>{V&&_===Ba.Initializing&&S(Ba.Initialized)},[V,_]),p.useEffect(()=>{const{onDragMove:Bt}=P.current,{active:lr,activatorEvent:cr,collisions:Aa,over:kr}=W.current;if(!lr||!cr)return;const ur={active:lr,activatorEvent:cr,collisions:Aa,delta:{x:xo.x,y:xo.y},over:kr};Ha.unstable_batchedUpdates(()=>{Bt==null||Bt(ur),g({type:"onDragMove",event:ur})})},[xo.x,xo.y]),p.useEffect(()=>{const{active:Bt,activatorEvent:lr,collisions:cr,droppableContainers:Aa,scrollAdjustedTranslate:kr}=W.current;if(!Bt||L.current==null||!lr||!kr)return;const{onDragOver:ur}=P.current,yn=Aa.get(i1),_o=yn&&yn.rect.current?{id:yn.id,rect:yn.rect.current,data:yn.data,disabled:yn.disabled}:null,Et={active:Bt,activatorEvent:lr,collisions:cr,delta:{x:kr.x,y:kr.y},over:_o};Ha.unstable_batchedUpdates(()=>{o1(_o),ur==null||ur(Et),g({type:"onDragOver",event:Et})})},[i1]),dn(()=>{W.current={activatorEvent:R,active:I,activeNode:B,collisionRect:wo,collisions:ol,droppableRects:Q,draggableNodes:E,draggingNode:Ze,draggingNodeRect:Je,droppableContainers:A,over:Oa,scrollableAncestors:Ea,scrollAdjustedTranslate:xo},T.current={initial:Je,translated:wo}},[I,B,ol,wo,E,Ze,Je,Q,A,Oa,Ea,xo]),ite({...oe,delta:k,draggingRect:wo,pointerCoordinates:n1,scrollableAncestors:Ea,scrollableAncestorRects:ku});const YM=p.useMemo(()=>({active:I,activeNode:B,activeNodeRect:V,activatorEvent:R,collisions:ol,containerNodeRect:re,dragOverlay:fe,draggableNodes:E,droppableContainers:A,droppableRects:Q,over:Oa,measureDroppableContainers:ee,scrollableAncestors:Ea,scrollableAncestorRects:ku,measuringConfiguration:K,measuringScheduled:ne,windowRect:ip}),[I,B,V,R,ol,re,fe,E,A,Q,Oa,ee,Ea,ku,K,ne,ip]),XM=p.useMemo(()=>({activatorEvent:R,activators:l1,active:I,activeNodeRect:V,ariaDescribedById:{draggable:U},dispatch:y,draggableNodes:E,over:Oa,measureDroppableContainers:ee}),[R,l1,I,V,y,U,E,Oa,ee]);return Ce.createElement(dM.Provider,{value:w},Ce.createElement(Au.Provider,{value:XM},Ce.createElement(kM.Provider,{value:YM},Ce.createElement(ap.Provider,{value:KM},u)),Ce.createElement(Ete,{disabled:(s==null?void 0:s.restoreFocus)===!1})),Ce.createElement(Tee,{...s,hiddenTextDescribedById:U}));function ZM(){const Bt=(H==null?void 0:H.autoScrollEnabled)===!1,lr=typeof c=="object"?c.enabled===!1:c===!1,cr=j&&!Bt&&!lr;return typeof c=="object"?{...c,enabled:cr}:{enabled:cr}}}),kte=p.createContext(null),eE="button",Tte="Draggable";function Nte(e){let{id:t,data:r,disabled:n=!1,attributes:a}=e;const i=Ou(Tte),{activators:o,activatorEvent:s,active:c,activeNodeRect:u,ariaDescribedById:d,draggableNodes:f,over:h}=p.useContext(Au),{role:m=eE,roleDescription:v="draggable",tabIndex:x=0}=a??{},b=(c==null?void 0:c.id)===t,y=p.useContext(b?ap:kte),[g,w]=yh(),[_,S]=yh(),j=yte(o,t),C=zc(r);dn(()=>(f.set(t,{id:t,key:i,node:g,activatorNode:_,data:C}),()=>{const k=f.get(t);k&&k.key===i&&f.delete(t)}),[f,t]);const E=p.useMemo(()=>({role:m,tabIndex:x,"aria-disabled":n,"aria-pressed":b&&m===eE?!0:void 0,"aria-roledescription":v,"aria-describedby":d.draggable}),[n,m,x,b,v,d.draggable]);return{active:c,activatorEvent:s,activeNodeRect:u,attributes:E,isDragging:b,listeners:n?void 0:j,node:g,over:h,setNodeRef:w,setActivatorNodeRef:S,transform:y}}function RM(){return p.useContext(kM)}const Rte="Droppable",Dte={timeout:25};function r1(e){let{data:t,disabled:r=!1,id:n,resizeObserverConfig:a}=e;const i=Ou(Rte),{active:o,dispatch:s,over:c,measureDroppableContainers:u}=p.useContext(Au),d=p.useRef({disabled:r}),f=p.useRef(!1),h=p.useRef(null),m=p.useRef(null),{disabled:v,updateMeasurementsFor:x,timeout:b}={...Dte,...a},y=zc(x??n),g=p.useCallback(()=>{if(!f.current){f.current=!0;return}m.current!=null&&clearTimeout(m.current),m.current=setTimeout(()=>{u(Array.isArray(y.current)?y.current:[y.current]),m.current=null},b)},[b]),w=np({callback:g,disabled:v||!o}),_=p.useCallback((E,k)=>{w&&(k&&(w.unobserve(k),f.current=!1),E&&w.observe(E))},[w]),[S,j]=yh(_),C=zc(t);return p.useEffect(()=>{!w||!S.current||(w.disconnect(),f.current=!1,w.observe(S.current))},[S,w]),p.useEffect(()=>(s({type:ct.RegisterDroppable,element:{id:n,key:i,disabled:r,node:S,rect:h,data:C}}),()=>s({type:ct.UnregisterDroppable,key:i,id:n})),[n]),p.useEffect(()=>{r!==d.current.disabled&&(s({type:ct.SetDroppableDisabled,id:n,key:i,disabled:r}),d.current.disabled=r)},[n,i,r,s]),{active:o,rect:h,isOver:(c==null?void 0:c.id)===n,node:S,over:c,setNodeRef:j}}function Pte(e){let{animation:t,children:r}=e;const[n,a]=p.useState(null),[i,o]=p.useState(null),s=bh(r);return!r&&!n&&s&&a(s),dn(()=>{if(!i)return;const c=n==null?void 0:n.key,u=n==null?void 0:n.props.id;if(c==null||u==null){a(null);return}Promise.resolve(t(u,i)).then(()=>{a(null)})},[t,n,i]),Ce.createElement(Ce.Fragment,null,r,n?p.cloneElement(n,{ref:o}):null)}const Mte={x:0,y:0,scaleX:1,scaleY:1};function zte(e){let{children:t}=e;return Ce.createElement(Au.Provider,{value:AM},Ce.createElement(ap.Provider,{value:Mte},t))}const Bte={position:"fixed",touchAction:"none"},Ite=e=>tp(e)?"transform 250ms ease":void 0,$te=p.forwardRef((e,t)=>{let{as:r,activatorEvent:n,adjustScale:a,children:i,className:o,rect:s,style:c,transform:u,transition:d=Ite}=e;if(!s)return null;const f=a?u:{...u,scaleX:1,scaleY:1},h={...Bte,width:s.width,height:s.height,top:s.top,left:s.left,transform:pa.Transform.toString(f),transformOrigin:a&&n?Ree(n,s):void 0,transition:typeof d=="function"?d(n):d,...c};return Ce.createElement(r,{className:o,style:h,ref:t},i)}),Lte=e=>t=>{let{active:r,dragOverlay:n}=t;const a={},{styles:i,className:o}=e;if(i!=null&&i.active)for(const[s,c]of Object.entries(i.active))c!==void 0&&(a[s]=r.node.style.getPropertyValue(s),r.node.style.setProperty(s,c));if(i!=null&&i.dragOverlay)for(const[s,c]of Object.entries(i.dragOverlay))c!==void 0&&n.node.style.setProperty(s,c);return o!=null&&o.active&&r.node.classList.add(o.active),o!=null&&o.dragOverlay&&n.node.classList.add(o.dragOverlay),function(){for(const[c,u]of Object.entries(a))r.node.style.setProperty(c,u);o!=null&&o.active&&r.node.classList.remove(o.active)}},Ute=e=>{let{transform:{initial:t,final:r}}=e;return[{transform:pa.Transform.toString(t)},{transform:pa.Transform.toString(r)}]},qte={duration:250,easing:"ease",keyframes:Ute,sideEffects:Lte({styles:{active:{opacity:"0"}}})};function Wte(e){let{config:t,draggableNodes:r,droppableContainers:n,measuringConfiguration:a}=e;return ep((i,o)=>{if(t===null)return;const s=r.get(i);if(!s)return;const c=s.node.current;if(!c)return;const u=OM(o);if(!u)return;const{transform:d}=Xt(o).getComputedStyle(o),f=gM(d);if(!f)return;const h=typeof t=="function"?t:Hte(t);return SM(c,a.draggable.measure),h({active:{id:i,data:s.data,node:c,rect:a.draggable.measure(c)},draggableNodes:r,dragOverlay:{node:o,rect:a.dragOverlay.measure(u)},droppableContainers:n,measuringConfiguration:a,transform:f})})}function Hte(e){const{duration:t,easing:r,sideEffects:n,keyframes:a}={...qte,...e};return i=>{let{active:o,dragOverlay:s,transform:c,...u}=i;if(!t)return;const d={x:s.rect.left-o.rect.left,y:s.rect.top-o.rect.top},f={scaleX:c.scaleX!==1?o.rect.width*c.scaleX/s.rect.width:1,scaleY:c.scaleY!==1?o.rect.height*c.scaleY/s.rect.height:1},h={x:c.x-d.x,y:c.y-d.y,...f},m=a({...u,active:o,dragOverlay:s,transform:{initial:c,final:h}}),[v]=m,x=m[m.length-1];if(JSON.stringify(v)===JSON.stringify(x))return;const b=n==null?void 0:n({active:o,dragOverlay:s,...u}),y=s.node.animate(m,{duration:t,easing:r,fill:"forwards"});return new Promise(g=>{y.onfinish=()=>{b==null||b(),g()}})}}let tE=0;function Fte(e){return p.useMemo(()=>{if(e!=null)return tE++,tE},[e])}const DM=Ce.memo(e=>{let{adjustScale:t=!1,children:r,dropAnimation:n,style:a,transition:i,modifiers:o,wrapperElement:s="div",className:c,zIndex:u=999}=e;const{activatorEvent:d,active:f,activeNodeRect:h,containerNodeRect:m,draggableNodes:v,droppableContainers:x,dragOverlay:b,over:y,measuringConfiguration:g,scrollableAncestors:w,scrollableAncestorRects:_,windowRect:S}=RM(),j=p.useContext(ap),C=Fte(f==null?void 0:f.id),E=TM(o,{activatorEvent:d,active:f,activeNodeRect:h,containerNodeRect:m,draggingNodeRect:b.rect,over:y,overlayNodeRect:b.rect,scrollableAncestors:w,scrollableAncestorRects:_,transform:j,windowRect:S}),k=t1(h),A=Wte({config:n,draggableNodes:v,droppableContainers:x,measuringConfiguration:g}),N=k?b.setRef:void 0;return Ce.createElement(zte,null,Ce.createElement(Pte,{animation:A},f&&C?Ce.createElement($te,{key:C,id:f.id,ref:N,as:s,activatorEvent:d,adjustScale:t,className:c,transition:i,rect:k,style:{zIndex:u,...a},transform:E},r):null))});function PM(e,t,r){const n=e.slice();return n.splice(r<0?n.length+r:r,0,n.splice(t,1)[0]),n}function Vte(e,t){return e.reduce((r,n,a)=>{const i=t.get(n);return i&&(r[a]=i),r},Array(e.length))}function wd(e){return e!==null&&e>=0}function Kte(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}function Gte(e){return typeof e=="boolean"?{draggable:e,droppable:e}:e}const MM=e=>{let{rects:t,activeIndex:r,overIndex:n,index:a}=e;const i=PM(t,n,r),o=t[a],s=i[a];return!s||!o?null:{x:s.left-o.left,y:s.top-o.top,scaleX:s.width/o.width,scaleY:s.height/o.height}},_d={scaleX:1,scaleY:1},zM=e=>{var t;let{activeIndex:r,activeNodeRect:n,index:a,rects:i,overIndex:o}=e;const s=(t=i[r])!=null?t:n;if(!s)return null;if(a===r){const u=i[o];return u?{x:0,y:r<o?u.top+u.height-(s.top+s.height):u.top-s.top,..._d}:null}const c=Yte(i,a,r);return a>r&&a<=o?{x:0,y:-s.height-c,..._d}:a<r&&a>=o?{x:0,y:s.height+c,..._d}:{x:0,y:0,..._d}};function Yte(e,t,r){const n=e[t],a=e[t-1],i=e[t+1];return n?r<t?a?n.top-(a.top+a.height):i?i.top-(n.top+n.height):0:i?i.top-(n.top+n.height):a?n.top-(a.top+a.height):0:0}const BM="Sortable",IM=Ce.createContext({activeIndex:-1,containerId:BM,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:MM,disabled:{draggable:!1,droppable:!1}});function $M(e){let{children:t,id:r,items:n,strategy:a=MM,disabled:i=!1}=e;const{active:o,dragOverlay:s,droppableRects:c,over:u,measureDroppableContainers:d}=RM(),f=Ou(BM,r),h=s.rect!==null,m=p.useMemo(()=>n.map(j=>typeof j=="object"&&"id"in j?j.id:j),[n]),v=o!=null,x=o?m.indexOf(o.id):-1,b=u?m.indexOf(u.id):-1,y=p.useRef(m),g=!Kte(m,y.current),w=b!==-1&&x===-1||g,_=Gte(i);dn(()=>{g&&v&&d(m)},[g,m,v,d]),p.useEffect(()=>{y.current=m},[m]);const S=p.useMemo(()=>({activeIndex:x,containerId:f,disabled:_,disableTransforms:w,items:m,overIndex:b,useDragOverlay:h,sortedRects:Vte(m,c),strategy:a}),[x,f,_.draggable,_.droppable,w,m,b,c,h,a]);return Ce.createElement(IM.Provider,{value:S},t)}const Xte=e=>{let{id:t,items:r,activeIndex:n,overIndex:a}=e;return PM(r,n,a).indexOf(t)},Zte=e=>{let{containerId:t,isSorting:r,wasDragging:n,index:a,items:i,newIndex:o,previousItems:s,previousContainerId:c,transition:u}=e;return!u||!n||s!==i&&a===o?!1:r?!0:o!==a&&t===c},Jte={duration:200,easing:"ease"},LM="transform",Qte=pa.Transition.toString({property:LM,duration:0,easing:"linear"}),ere={roleDescription:"sortable"};function tre(e){let{disabled:t,index:r,node:n,rect:a}=e;const[i,o]=p.useState(null),s=p.useRef(r);return dn(()=>{if(!t&&r!==s.current&&n.current){const c=a.current;if(c){const u=al(n.current,{ignoreTransform:!0}),d={x:c.left-u.left,y:c.top-u.top,scaleX:c.width/u.width,scaleY:c.height/u.height};(d.x||d.y)&&o(d)}}r!==s.current&&(s.current=r)},[t,r,n,a]),p.useEffect(()=>{i&&o(null)},[i]),i}function UM(e){let{animateLayoutChanges:t=Zte,attributes:r,disabled:n,data:a,getNewIndex:i=Xte,id:o,strategy:s,resizeObserverConfig:c,transition:u=Jte}=e;const{items:d,containerId:f,activeIndex:h,disabled:m,disableTransforms:v,sortedRects:x,overIndex:b,useDragOverlay:y,strategy:g}=p.useContext(IM),w=rre(n,m),_=d.indexOf(o),S=p.useMemo(()=>({sortable:{containerId:f,index:_,items:d},...a}),[f,a,_,d]),j=p.useMemo(()=>d.slice(d.indexOf(o)),[d,o]),{rect:C,node:E,isOver:k,setNodeRef:A}=r1({id:o,data:S,disabled:w.droppable,resizeObserverConfig:{updateMeasurementsFor:j,...c}}),{active:N,activatorEvent:T,activeNodeRect:I,attributes:L,setNodeRef:H,listeners:O,isDragging:R,over:D,setActivatorNodeRef:P,transform:U}=Nte({id:o,data:S,attributes:{...ere,...r},disabled:w.draggable}),G=vee(A,H),K=!!N,Q=K&&!v&&wd(h)&&wd(b),ee=!y&&R,ne=ee&&Q?U:null,F=Q?ne??(s??g)({rects:x,activeNodeRect:I,activeIndex:h,overIndex:b,index:_}):null,oe=wd(h)&&wd(b)?i({id:o,items:d,activeIndex:h,overIndex:b}):_,M=N==null?void 0:N.id,V=p.useRef({activeId:M,items:d,newIndex:oe,containerId:f}),re=d!==V.current.items,W=t({active:N,containerId:f,isDragging:R,isSorting:K,id:o,index:_,items:d,newIndex:V.current.newIndex,previousItems:V.current.items,previousContainerId:V.current.containerId,transition:u,wasDragging:V.current.activeId!=null}),Ve=tre({disabled:!W,index:_,node:E,rect:C});return p.useEffect(()=>{K&&V.current.newIndex!==oe&&(V.current.newIndex=oe),f!==V.current.containerId&&(V.current.containerId=f),d!==V.current.items&&(V.current.items=d)},[K,oe,f,d]),p.useEffect(()=>{if(M===V.current.activeId)return;if(M!=null&&V.current.activeId==null){V.current.activeId=M;return}const Ze=setTimeout(()=>{V.current.activeId=M},50);return()=>clearTimeout(Ze)},[M]),{active:N,activeIndex:h,attributes:L,data:S,rect:C,index:_,newIndex:oe,items:d,isOver:k,isSorting:K,isDragging:R,listeners:O,node:E,overIndex:b,over:D,setNodeRef:G,setActivatorNodeRef:P,setDroppableNodeRef:A,setDraggableNodeRef:H,transform:Ve??F,transition:fe()};function fe(){if(Ve||re&&V.current.newIndex===_)return Qte;if(!(ee&&!tp(T)||!u)&&(K||W))return pa.Transition.toString({...u,property:LM})}}function rre(e,t){var r,n;return typeof e=="boolean"?{draggable:e,droppable:!1}:{draggable:(r=e==null?void 0:e.draggable)!=null?r:t.draggable,droppable:(n=e==null?void 0:e.droppable)!=null?n:t.droppable}}ge.Down,ge.Right,ge.Up,ge.Left;const ec=[{status:"em_conexao",label:"Em Conexo",color:"#9a3412",bg:"#ffedd5"},{status:"gerando",label:"Gerando",color:"#166534",bg:"#dcfce7"},{status:"manutencao",label:"Manuteno",color:"#991b1b",bg:"#fee2e2"},{status:"inativa",label:"Inativa",color:"#64748b",bg:"#f1f5f9"},{status:"cancelada",label:"Cancelada",color:"#94a3b8",bg:"#f1f5f9"}];function qM({plant:e,onClick:t,onClosingsClick:r,isOverlay:n}){var h,m,v,x;const{attributes:a,listeners:i,setNodeRef:o,transform:s,transition:c,isDragging:u}=UM({id:e.id,disabled:!!n}),d=ec.find(b=>b.status===e.status)||ec[0],f={transform:pa.Transform.toString(s),transition:c,opacity:u?.3:1,background:"white",padding:"1rem",borderRadius:"var(--radius-sm)",boxShadow:n?"var(--shadow-lg)":"var(--shadow-sm)",cursor:n?"grabbing":"grab",border:"1px solid transparent",zIndex:u?1e3:1,position:"relative",overflow:"hidden",width:n?"300px":"auto"};return l.jsxs("div",{ref:o,style:f,...n?{}:a,...n?{}:i,onClick:()=>!n&&t(e),children:[l.jsx("div",{style:{display:"inline-block",padding:"0.2rem 0.6rem",borderRadius:"4px",fontSize:"0.7rem",fontWeight:"bold",textTransform:"uppercase",background:d.bg,color:d.color,marginBottom:"0.5rem"},children:(h=e.status)==null?void 0:h.replace("_"," ")}),l.jsx("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"0.5rem",alignItems:"flex-start"},children:l.jsx("span",{style:{fontWeight:"bold",fontSize:"1rem",color:"var(--color-text-dark)",lineHeight:"1.2"},children:e.name})}),l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"0.5rem",flexWrap:"wrap"},children:[l.jsx("span",{style:{fontSize:"0.75rem",color:"var(--color-blue)",background:"#eff6ff",padding:"0.1rem 0.4rem",borderRadius:"4px"},children:e.concessionaria||"Sem conc."}),l.jsx("span",{style:{fontSize:"0.75rem",color:"#666",background:"#f3f4f6",padding:"0.1rem 0.4rem",borderRadius:"4px"},children:((m=e.supplier)==null?void 0:m.name)||"Sem Fornecedor"})]}),l.jsxs("div",{style:{display:"flex",gap:"0.5rem",marginTop:"0.8rem",marginBottom:"0.5rem"},children:[l.jsxs("div",{style:{background:"var(--color-bg-light)",padding:"0.3rem 0.5rem",borderRadius:"4px",fontSize:"0.75rem",flex:1},children:[l.jsx("div",{style:{color:"var(--color-text-light)",fontSize:"0.65rem"},children:"Potncia"}),l.jsxs("div",{style:{fontWeight:"bold"},children:[e.potencia_kwp," kWp"]})]}),l.jsxs("div",{style:{background:"var(--color-bg-light)",padding:"0.3rem 0.5rem",borderRadius:"4px",fontSize:"0.75rem",flex:1},children:[l.jsx("div",{style:{color:"var(--color-text-light)",fontSize:"0.65rem"},children:"Gerao Est."}),l.jsxs("div",{style:{fontWeight:"bold",color:"var(--color-success)"},children:[e.geracao_estimada_kwh," kWh"]})]})]}),l.jsxs("div",{style:{fontSize:"0.8rem",color:"var(--color-text-light)",display:"flex",justifyContent:"space-between",marginTop:"0.5rem"},children:[l.jsxs("span",{children:[(v=e.address)==null?void 0:v.cidade,"/",(x=e.address)==null?void 0:x.uf]}),l.jsxs("button",{onClick:b=>{b.stopPropagation(),r(e)},style:{background:"none",border:"none",color:"#3b82f6",fontSize:"0.8rem",cursor:"pointer",display:"flex",alignItems:"center",gap:"0.2rem"},children:[l.jsx(fi,{size:14})," Fechamentos"]})]})]})}function nre({status:e,label:t,color:r,bg:n,plants:a,onCardClick:i,onClosingsClick:o}){const{setNodeRef:s,isOver:c}=r1({id:e});return l.jsxs("div",{ref:s,style:{minWidth:"300px",flex:1,background:c?"#e2e8f0":"var(--color-bg-light)",borderRadius:"var(--radius-md)",padding:"0.5rem",borderTop:`4px solid ${r}`,boxShadow:"var(--shadow-sm)",transition:"background 0.2s ease"},children:[l.jsxs("h4",{style:{padding:"0.8rem",borderBottom:"1px solid var(--color-border)",background:"white",borderRadius:"var(--radius-sm)",display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0.5rem",color:r},children:[l.jsx("span",{style:{textTransform:"uppercase",fontSize:"0.85rem",fontWeight:"bold"},children:t}),l.jsx("span",{style:{fontSize:"0.8rem",background:r,color:"white",padding:"0.1rem 0.5rem",borderRadius:"99px"},children:a.length})]}),l.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem",minHeight:"100px"},children:l.jsx($M,{items:a.map(u=>u.id),strategy:zM,children:a.map(u=>l.jsx(qM,{plant:u,onClick:i,onClosingsClick:o},u.id))})})]})}function are(){const[e,t]=p.useState([]),[r,n]=p.useState(!0),[a,i]=p.useState(!1),[o,s]=p.useState(null),[c,u]=p.useState(!1),[d,f]=p.useState(null),[h,m]=p.useState(""),[v,x]=p.useState("kanban"),[b,y]=p.useState(null),g=hM(fM(rp,{activationConstraint:{distance:8}})),w=e.filter(A=>{var T,I,L,H,O,R,D;if(!h)return!0;const N=h.toLowerCase();return((T=A.name)==null?void 0:T.toLowerCase().includes(N))||((I=A.concessionaria)==null?void 0:I.toLowerCase().includes(N))||((H=(L=A.supplier)==null?void 0:L.name)==null?void 0:H.toLowerCase().includes(N))||((O=A.status)==null?void 0:O.toLowerCase().includes(N))||((D=(R=A.address)==null?void 0:R.cidade)==null?void 0:D.toLowerCase().includes(N))});p.useEffect(()=>{_()},[]);const _=async()=>{n(!0);try{const{data:A,error:N}=await $.from("usinas").select(`
                    *,
                    supplier:supplier_id (name)
                `).order("created_at",{ascending:!1});if(N)throw N;t(A||[])}catch(A){console.error("Erro usinas",A)}finally{n(!1)}},S=()=>{_(),i(!1)},j=A=>{t(e.filter(N=>N.id!==A)),i(!1)},C=A=>{y(A.active.id)},E=async A=>{const{active:N,over:T}=A;if(y(null),!T)return;const I=N.id,L=T.id;let H=L;if(!ec.some(D=>D.status===L)){const D=e.find(P=>P.id===L);H=D==null?void 0:D.status}if(!H)return;const R=e.find(D=>D.id===I);if(R&&R.status!==H){t(D=>D.map(P=>P.id===I?{...P,status:H}:P));try{const{error:D}=await $.from("usinas").update({status:H}).eq("id",I);if(D)throw D}catch(D){console.error("Error updating status:",D),_()}}},k=A=>{const N=ec.find(T=>T.status===A)||{bg:"#f1f5f9",color:"#64748b"};return{bg:N.bg,color:N.color}};return l.jsxs("div",{children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"2rem"},children:[l.jsx("h2",{children:"Usinas Geradoras"}),l.jsx("button",{onClick:()=>{s(null),i(!0)},className:"btn btn-primary",children:"+ Nova Usina"})]}),l.jsx("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.5rem",flexWrap:"wrap",gap:"1rem"},children:l.jsxs("div",{style:{display:"flex",gap:"1rem",flex:1,alignItems:"center"},children:[l.jsx("input",{placeholder:"Buscar por Nome, Fornecedor, Concessionria ou Status...",value:h,onChange:A=>m(A.target.value),className:"input",style:{maxWidth:"400px"}}),l.jsxs("div",{className:"btn-group",style:{display:"flex",border:"1px solid var(--color-border)",borderRadius:"var(--radius-sm)",overflow:"hidden"},children:[l.jsx("button",{onClick:()=>x("list"),className:`btn ${v==="list"?"btn-primary":"btn-secondary"}`,style:{borderRadius:0,border:"none"},children:"Lista"}),l.jsx("button",{onClick:()=>x("kanban"),className:`btn ${v==="kanban"?"btn-primary":"btn-secondary"}`,style:{borderRadius:0,border:"none"},children:"Kanban"})]})]})}),r?l.jsx("p",{children:"Carregando..."}):l.jsx(l.Fragment,{children:v==="list"?l.jsx("div",{className:"card",style:{padding:0,overflow:"hidden"},children:l.jsx("div",{className:"table-container",children:w.length===0?l.jsx("p",{style:{padding:"2rem",textAlign:"center",color:"var(--color-text-light)"},children:"Nenhuma usina cadastrada."}):l.jsxs("table",{className:"table",children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{children:"Nome / Concessionria"}),l.jsx("th",{children:"Fornecedor"}),l.jsx("th",{children:"Cidade"}),l.jsx("th",{children:"Gerao / Potncia"}),l.jsx("th",{children:"Status"}),l.jsx("th",{children:"Aes"})]})}),l.jsx("tbody",{children:w.map(A=>{var T,I,L,H;const N=k(A.status);return l.jsxs("tr",{children:[l.jsxs("td",{style:{fontWeight:"bold"},children:[l.jsx("div",{children:A.name}),l.jsx("div",{style:{fontSize:"0.85rem",color:"var(--color-blue)",fontWeight:"normal",marginTop:"4px"},children:A.concessionaria||"-"})]}),l.jsx("td",{children:((T=A.supplier)==null?void 0:T.name)||"-"}),l.jsxs("td",{children:[(I=A.address)==null?void 0:I.cidade,"/",(L=A.address)==null?void 0:L.uf]}),l.jsxs("td",{children:[l.jsx("div",{style:{fontWeight:"bold",color:"var(--color-success)",fontSize:"1.05rem"},children:A.geracao_estimada_kwh?`${A.geracao_estimada_kwh} kWh/ms`:"-"}),l.jsxs("div",{style:{fontSize:"0.8rem",color:"var(--color-text-medium)"},children:["Potncia: ",A.potencia_kwp," kWp"]})]}),l.jsx("td",{children:l.jsx("span",{style:{padding:"0.3rem 0.8rem",borderRadius:"99px",fontSize:"0.75rem",fontWeight:"bold",background:N.bg,color:N.color,textTransform:"uppercase"},children:(H=A.status)==null?void 0:H.replace("_"," ")})}),l.jsxs("td",{children:[l.jsx("button",{onClick:()=>{s(A),i(!0)},className:"btn btn-secondary",style:{padding:"0.3rem 0.6rem",fontSize:"0.8rem",marginRight:"0.5rem"},children:"Editar"}),l.jsx("button",{onClick:()=>{f(A),u(!0)},className:"btn btn-secondary",style:{padding:"0.3rem 0.6rem",fontSize:"0.8rem",background:"#e0f2fe",color:"#0369a1",border:"1px solid #bae6fd"},children:l.jsx(fi,{size:14})})]})]},A.id)})})]})})}):l.jsxs(NM,{sensors:g,collisionDetection:mM,onDragStart:C,onDragEnd:E,onDragCancel:()=>y(null),children:[l.jsx("div",{style:{display:"flex",gap:"1rem",overflowX:"auto",paddingBottom:"1rem"},children:ec.map(({status:A,label:N,color:T,bg:I})=>{const L=w.filter(H=>H.status===A);return l.jsx(nre,{status:A,label:N,color:T,bg:I,plants:L,onCardClick:H=>{s(H),i(!0)},onClosingsClick:H=>{f(H),u(!0)}},A)})}),l.jsx(DM,{adjustScale:!0,children:b?l.jsx(qM,{plant:e.find(A=>A.id===b),isOverlay:!0}):null})]})}),a&&l.jsx(mee,{usina:o,onClose:()=>i(!1),onSave:S,onDelete:j}),c&&l.jsx(gee,{usina:d,onClose:()=>u(!1)})]})}function ire(){const{showAlert:e,showConfirm:t}=Gr(),[r,n]=p.useState([]),[a,i]=p.useState([]),[o,s]=p.useState(!0),[c,u]=p.useState("kanban"),[d,f]=p.useState(null),[h,m]=p.useState(!1),[v,x]=p.useState(new Date().toISOString().substring(0,7)),[b,y]=p.useState(""),[g,w]=p.useState(""),[_,S]=p.useState(null),j=r.filter(O=>{var R,D,P,U,G,K,Q;if(b&&O.status!==b)return!1;if(g){const ee=g.toLowerCase(),ne=((D=(R=O.consumer_units)==null?void 0:R.titular_conta)==null?void 0:D.toLowerCase())||"",B=((G=(U=(P=O.consumer_units)==null?void 0:P.subscribers)==null?void 0:U.name)==null?void 0:G.toLowerCase())||"",F=((Q=(K=O.consumer_units)==null?void 0:K.numero_uc)==null?void 0:Q.toLowerCase())||"";if(!ne.includes(ee)&&!B.includes(ee)&&!F.includes(ee))return!1}return!0});p.useEffect(()=>{C(),E()},[v]);const C=async()=>{s(!0);try{const[O,R]=v.split("-"),D=`${O}-${R}-01`,P=new Date(O,R,0).getDate(),U=`${O}-${R}-${P}`,{data:G,error:K}=await $.from("invoices").select(`
                    *,
                    consumer_units (
                        numero_uc,
                        titular_conta,
                        concessionaria,
                        subscribers ( name )
                    )
                `).gte("mes_referencia",D).lte("mes_referencia",U).order("vencimento",{ascending:!0});if(K)throw K;n(G||[])}catch(O){console.error("Error fetching invoices:",O),e("Erro ao carregar faturas.","error")}finally{s(!1)}},E=async()=>{const{data:O,error:R}=await $.from("consumer_units").select("id, numero_uc, concessionaria, titular_conta, tarifa_concessionaria, desconto_assinante, tipo_ligacao").eq("status","ativo").order("titular_conta");R||i(O||[])},k=()=>{f(null),m(!0)},A=O=>{f(O),m(!0)},N=()=>{C(),m(!1)},T=async O=>{var D;if(await t(`Gerar boleto Asaas para a fatura de ${(D=O.consumer_units)==null?void 0:D.titular_conta}?`)){S(O.id);try{const P=await Kh(O.id);P.url&&(e("Boleto gerado com sucesso!","success"),window.open(P.url,"_blank"),C())}catch(P){console.error(P),e("Erro ao gerar boleto: "+P.message,"error")}finally{S(null)}}},I=async O=>{if(await t("Tem certeza que deseja excluir esta fatura?"))try{const{error:D}=await $.from("invoices").delete().eq("id",O);if(D)throw D;C()}catch(D){console.error("Erro ao excluir fatura:",D),e("Erro ao excluir fatura: "+D.message,"error")}},L=O=>Number(O||0).toLocaleString("pt-BR",{style:"currency",currency:"BRL"}),H=O=>{const R={pago:{color:"#166534",bg:"#dcfce7",label:"Pago",icon:Tk},a_vencer:{color:"#854d0e",bg:"#fef9c3",label:"A Vencer",icon:KI},atrasado:{color:"#991b1b",bg:"#fee2e2",label:"Atrasado",icon:kk}},D=R[O]||R.a_vencer,P=D.icon;return l.jsxs("span",{style:{display:"flex",alignItems:"center",gap:"0.3rem",padding:"0.2rem 0.6rem",background:D.bg,color:D.color,borderRadius:"99px",fontSize:"0.8rem",width:"fit-content"},children:[l.jsx(P,{size:12})," ",D.label]})};return l.jsxs("div",{style:{padding:"2rem",maxWidth:"1200px",margin:"0 auto"},children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"2rem"},children:[l.jsxs("div",{children:[l.jsx("h2",{style:{color:"var(--color-blue)",fontSize:"1.8rem",fontWeight:"bold"},children:"Faturas"}),l.jsx("p",{style:{color:"#64748b"},children:"Gerencie os lanamentos mensais das Unidades Consumidoras"})]}),l.jsxs("button",{onClick:k,style:{background:"var(--color-orange)",color:"white",padding:"0.8rem 1.5rem",borderRadius:"4px",border:"none",cursor:"pointer",fontWeight:"bold",display:"flex",alignItems:"center",gap:"0.5rem"},children:[l.jsx(Vs,{size:18})," Nova Fatura"]})]}),l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.5rem",flexWrap:"wrap",gap:"1rem"},children:[l.jsxs("div",{style:{background:"white",padding:"0.5rem 1rem",borderRadius:"8px",boxShadow:"0 1px 3px rgba(0,0,0,0.1)",display:"flex",gap:"1rem",alignItems:"center"},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",color:"#64748b"},children:[l.jsx(o8,{size:18}),l.jsx("span",{style:{fontWeight:"bold"},children:"Ms:"})]}),l.jsx("input",{type:"month",value:v,onChange:O=>x(O.target.value),style:{padding:"0.5rem",border:"1px solid #e2e8f0",borderRadius:"4px"}}),l.jsx("div",{style:{width:"1px",height:"20px",background:"#e2e8f0"}}),l.jsx("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",color:"#64748b"},children:l.jsx("span",{style:{fontWeight:"bold"},children:"Status:"})}),l.jsxs("select",{value:b,onChange:O=>y(O.target.value),style:{padding:"0.5rem",border:"1px solid #e2e8f0",borderRadius:"4px"},children:[l.jsx("option",{value:"",children:"Todos"}),l.jsx("option",{value:"a_vencer",children:"A Vencer"}),l.jsx("option",{value:"atrasado",children:"Atrasado"}),l.jsx("option",{value:"pago",children:"Pago"})]}),l.jsx("div",{style:{width:"1px",height:"20px",background:"#e2e8f0"}}),l.jsx("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",color:"#64748b"},children:l.jsx(sb,{size:18})}),l.jsx("input",{placeholder:"Buscar por Nome...",value:g,onChange:O=>w(O.target.value),style:{padding:"0.5rem",border:"1px solid #e2e8f0",borderRadius:"4px",minWidth:"200px"}})]}),l.jsxs("div",{className:"btn-group",style:{display:"flex",border:"1px solid var(--color-border)",borderRadius:"var(--radius-sm)",overflow:"hidden"},children:[l.jsx("button",{onClick:()=>u("list"),className:`btn ${c==="list"?"btn-primary":"btn-secondary"}`,style:{borderRadius:0,border:"none"},children:"Lista"}),l.jsx("button",{onClick:()=>u("kanban"),className:`btn ${c==="kanban"?"btn-primary":"btn-secondary"}`,style:{borderRadius:0,border:"none"},children:"Kanban"})]})]}),o?l.jsx("p",{children:"Carregando..."}):l.jsx(l.Fragment,{children:c==="list"?l.jsx("div",{style:{background:"white",borderRadius:"8px",boxShadow:"0 4px 6px -1px rgba(0,0,0,0.1)",overflow:"hidden"},children:l.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[l.jsx("thead",{style:{background:"#f8fafc"},children:l.jsxs("tr",{children:[l.jsx("th",{style:{padding:"1rem",textAlign:"left",color:"#64748b",fontSize:"0.8rem",textTransform:"uppercase"},children:"Status"}),l.jsx("th",{style:{padding:"1rem",textAlign:"left",color:"#64748b",fontSize:"0.8rem",textTransform:"uppercase"},children:"Vencimento"}),l.jsx("th",{style:{padding:"1rem",textAlign:"left",color:"#64748b",fontSize:"0.8rem",textTransform:"uppercase"},children:"Unidade Consumidora"}),l.jsx("th",{style:{padding:"1rem",textAlign:"left",color:"#64748b",fontSize:"0.8rem",textTransform:"uppercase"},children:"Consumo"}),l.jsx("th",{style:{padding:"1rem",textAlign:"left",color:"#64748b",fontSize:"0.8rem",textTransform:"uppercase"},children:"Valor"}),l.jsx("th",{style:{padding:"1rem",textAlign:"right",color:"#64748b",fontSize:"0.8rem",textTransform:"uppercase"},children:"Aes"})]})}),l.jsx("tbody",{children:j.length===0?l.jsx("tr",{children:l.jsx("td",{colSpan:"6",style:{padding:"2rem",textAlign:"center",color:"#94a3b8"},children:"Nenhuma fatura encontrada para este ms."})}):j.map(O=>{var R,D,P;return l.jsxs("tr",{style:{borderBottom:"1px solid #f1f5f9"},children:[l.jsx("td",{style:{padding:"1rem"},children:H(O.status)}),l.jsx("td",{style:{padding:"1rem",color:"#334155"},children:O.vencimento?new Date(O.vencimento).toLocaleDateString("pt-BR"):"-"}),l.jsxs("td",{style:{padding:"1rem"},children:[l.jsx("div",{style:{fontWeight:"bold",color:"#1e293b"},children:((R=O.consumer_units)==null?void 0:R.numero_uc)||"N/A"}),l.jsxs("div",{style:{fontSize:"0.8rem",color:"#64748b"},children:[(D=O.consumer_units)==null?void 0:D.titular_conta," (",(P=O.consumer_units)==null?void 0:P.concessionaria,")"]})]}),l.jsxs("td",{style:{padding:"1rem",color:"#334155"},children:[Number(O.consumo_kwh).toLocaleString("pt-BR")," kWh"]}),l.jsx("td",{style:{padding:"1rem",fontWeight:"bold",color:"#0f172a"},children:L(O.valor_a_pagar)}),l.jsx("td",{style:{padding:"1rem",textAlign:"right"},children:l.jsxs("div",{style:{display:"flex",gap:"0.5rem",justifyContent:"flex-end"},children:[O.asaas_boleto_url?l.jsxs("a",{href:O.asaas_boleto_url,target:"_blank",rel:"noopener noreferrer",style:{background:"#dcfce7",color:"#166534",border:"1px solid #bbf7d0",padding:"0.4rem 0.8rem",borderRadius:"4px",textDecoration:"none",fontSize:"0.8rem",display:"flex",alignItems:"center",gap:"0.3rem"},title:"Ver Boleto",children:[l.jsx(fi,{size:14})," Boleto"]}):l.jsx("button",{onClick:()=>T(O),disabled:_===O.id,style:{background:_===O.id?"#f1f5f9":"#fff7ed",color:_===O.id?"#94a3b8":"#c2410c",border:_===O.id?"1px solid #cbd5e1":"1px solid #ffedd5",padding:"0.4rem 0.8rem",borderRadius:"4px",cursor:"pointer",fontSize:"0.8rem",display:"flex",alignItems:"center",gap:"0.3rem"},children:_===O.id?"Gerando...":l.jsxs(l.Fragment,{children:[l.jsx(eu,{size:14})," Emitir"]})}),l.jsx("button",{onClick:()=>A(O),style:{background:"none",border:"1px solid #e2e8f0",padding:"0.4rem 0.8rem",borderRadius:"4px",cursor:"pointer",color:"#475569",fontSize:"0.8rem"},title:"Editar",children:"Editar"}),l.jsx("button",{onClick:()=>I(O.id),style:{background:"#fee2e2",border:"1px solid #fecaca",padding:"0.4rem",borderRadius:"4px",cursor:"pointer",color:"#dc2626",display:"flex",alignItems:"center"},title:"Excluir",children:l.jsx(tu,{size:16})})]})})]},O.id)})})]})}):l.jsx("div",{style:{display:"flex",gap:"1rem",overflowX:"auto",paddingBottom:"1rem"},children:["a_vencer","atrasado","pago"].map(O=>{const R=j.filter(U=>U.status===O),D={pago:{color:"#166534",bg:"#dcfce7",label:"Pago"},a_vencer:{color:"#854d0e",bg:"#fef9c3",label:"A Vencer"},atrasado:{color:"#991b1b",bg:"#fee2e2",label:"Atrasado"}},P=D[O]||D.a_vencer;return l.jsxs("div",{style:{minWidth:"320px",flex:1,background:"var(--color-bg-light)",borderRadius:"var(--radius-md)",padding:"0.5rem",borderTop:`4px solid ${P.color}`,boxShadow:"var(--shadow-sm)"},children:[l.jsxs("h4",{style:{padding:"0.8rem",borderBottom:"1px solid var(--color-border)",background:"white",borderRadius:"var(--radius-sm)",display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0.5rem",color:P.color},children:[l.jsx("span",{style:{textTransform:"uppercase",fontSize:"0.85rem",fontWeight:"bold"},children:P.label}),l.jsx("span",{style:{fontSize:"0.8rem",background:P.color,color:"white",padding:"0.1rem 0.5rem",borderRadius:"99px"},children:L(R.reduce((U,G)=>U+(Number(G.valor_a_pagar)||0),0))})]}),l.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem"},children:R.map(U=>{var G,K;return l.jsxs("div",{onClick:()=>A(U),style:{background:"white",padding:"1rem",borderRadius:"var(--radius-sm)",boxShadow:"var(--shadow-sm)",cursor:"pointer",border:"1px solid transparent",transition:"0.2s"},onMouseEnter:Q=>Q.currentTarget.style.borderColor="var(--color-blue)",onMouseLeave:Q=>Q.currentTarget.style.borderColor="transparent",children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"0.5rem"},children:[l.jsx("span",{style:{fontWeight:"bold",fontSize:"1rem",color:"var(--color-text-dark)"},children:(G=U.consumer_units)==null?void 0:G.numero_uc}),l.jsxs("span",{style:{fontSize:"0.75rem",color:"var(--color-text-medium)"},children:["Venc: ",U.vencimento?new Date(U.vencimento).toLocaleDateString("pt-BR"):"-"]})]}),l.jsx("div",{style:{fontSize:"0.85rem",color:"var(--color-text-medium)",marginBottom:"0.5rem"},children:(K=U.consumer_units)==null?void 0:K.titular_conta}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"0.5rem",fontSize:"0.85rem",color:"var(--color-text-medium)",marginBottom:"0.8rem"},children:[l.jsxs("div",{children:[l.jsx("div",{style:{fontSize:"0.7rem",color:"var(--color-text-light)"},children:"Consumo"}),l.jsxs("div",{children:[Number(U.consumo_kwh).toLocaleString("pt-BR")," kWh"]})]}),l.jsxs("div",{children:[l.jsx("div",{style:{fontSize:"0.7rem",color:"var(--color-text-light)"},children:"Valor"}),l.jsx("div",{style:{fontWeight:"bold",color:"var(--color-blue)"},children:L(U.valor_a_pagar)})]})]}),l.jsx("div",{style:{display:"flex",justifyContent:"flex-end",gap:"0.5rem"},children:U.asaas_boleto_url?l.jsxs("a",{href:U.asaas_boleto_url,target:"_blank",rel:"noopener noreferrer",onClick:Q=>Q.stopPropagation(),style:{background:"#dcfce7",color:"#166534",border:"1px solid #bbf7d0",padding:"0.4rem 0.8rem",borderRadius:"4px",textDecoration:"none",fontSize:"0.8rem",display:"flex",alignItems:"center",gap:"0.3rem"},title:"Ver Boleto",children:[l.jsx(fi,{size:14})," Boleto"]}):l.jsx("button",{onClick:Q=>{Q.stopPropagation(),T(U)},className:"btn",disabled:_===U.id,style:{padding:"0.2rem 0.5rem",fontSize:"0.75rem",color:"#c2410c",borderColor:"#ffedd5",background:"#fff7ed",fontWeight:"bold"},children:_===U.id?"...":"Emitir"})})]},U.id)})})]},O)})})}),h&&l.jsx(zk,{invoice:d,ucs:a,onClose:()=>m(!1),onSave:N})]})}const rE=[{status:"em_ativacao",label:"Em Ativao",color:"#3b82f6"},{status:"aguardando_conexao",label:"Aguardando Conexo",color:"#eab308"},{status:"ativo",label:"Ativo",color:"#22c55e"},{status:"sem_geracao",label:"Sem Gerao",color:"#64748b"},{status:"em_atraso",label:"Em Atraso",color:"#f97316"},{status:"cancelado",label:"Cancelado",color:"#ef4444"},{status:"cancelado_inadimplente",label:"Cancelado (Inad.)",color:"#991b1b"}];function WM({uc:e,onClick:t,isOverlay:r}){var d,f,h;const{attributes:n,listeners:a,setNodeRef:i,transform:o,transition:s,isDragging:c}=UM({id:e.id,disabled:!!r}),u={transform:pa.Transform.toString(o),transition:s,opacity:c?.3:1,background:"white",padding:"1rem",borderRadius:"var(--radius-sm)",boxShadow:r?"var(--shadow-lg)":"var(--shadow-sm)",cursor:r?"grabbing":"grab",border:"1px solid transparent",zIndex:c?1e3:1,position:"relative",width:r?"300px":"auto"};return l.jsxs("div",{ref:i,style:u,...r?{}:n,...r?{}:a,onClick:()=>!r&&t(e),children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"0.5rem"},children:[l.jsx("span",{style:{fontWeight:"bold",fontSize:"1rem",color:"var(--color-text-dark)"},children:e.numero_uc}),l.jsx("span",{style:{fontSize:"0.75rem",color:"var(--color-blue)",background:"#eff6ff",padding:"0.1rem 0.4rem",borderRadius:"4px"},children:e.concessionaria})]}),l.jsx("div",{style:{fontSize:"0.9rem",color:"var(--color-text-medium)",marginBottom:"0.2rem"},children:((d=e.subscriber)==null?void 0:d.name)||"Sem Assinante"}),l.jsxs("div",{style:{fontSize:"0.8rem",color:"var(--color-text-light)",display:"flex",justifyContent:"space-between",marginTop:"0.5rem"},children:[l.jsxs("span",{children:[(f=e.address)==null?void 0:f.cidade,"/",(h=e.address)==null?void 0:h.uf]}),l.jsx("span",{children:e.franquia?`${Number(e.franquia).toLocaleString("pt-BR")} kWh`:""})]})]})}function ore({status:e,label:t,color:r,units:n,onCardClick:a}){const{setNodeRef:i,isOver:o}=r1({id:e});return l.jsxs("div",{ref:i,style:{minWidth:"300px",flex:1,background:o?"#e2e8f0":"var(--color-bg-light)",borderRadius:"var(--radius-md)",padding:"0.5rem",borderTop:`4px solid ${r}`,boxShadow:"var(--shadow-sm)",transition:"background 0.2s ease"},children:[l.jsxs("h4",{style:{padding:"0.8rem",borderBottom:"1px solid var(--color-border)",background:"white",borderRadius:"var(--radius-sm)",display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0.5rem",color:r},children:[l.jsx("span",{style:{textTransform:"uppercase",fontSize:"0.85rem",fontWeight:"bold"},children:t}),l.jsx("span",{style:{fontSize:"0.8rem",background:r,color:"white",padding:"0.1rem 0.5rem",borderRadius:"99px"},children:n.length})]}),l.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem",minHeight:"100px"},children:l.jsx($M,{items:n.map(s=>s.id),strategy:zM,children:n.map(s=>l.jsx(WM,{uc:s,onClick:a},s.id))})})]})}function sre(){const[e,t]=p.useState([]),[r,n]=p.useState(!0),[a,i]=p.useState(""),[o,s]=p.useState("kanban"),[c,u]=p.useState(!1),[d,f]=p.useState(null),[h,m]=p.useState(null),v=hM(fM(rp,{activationConstraint:{distance:8}})),x=e.filter(S=>{var C,E,k,A,N,T,I;if(!a)return!0;const j=a.toLowerCase();return((C=S.numero_uc)==null?void 0:C.toLowerCase().includes(j))||((k=(E=S.subscriber)==null?void 0:E.name)==null?void 0:k.toLowerCase().includes(j))||((A=S.concessionaria)==null?void 0:A.toLowerCase().includes(j))||((T=(N=S.address)==null?void 0:N.cidade)==null?void 0:T.toLowerCase().includes(j))||((I=S.status)==null?void 0:I.toLowerCase().includes(j))});p.useEffect(()=>{b()},[]);const b=async()=>{n(!0);try{const{data:S,error:j}=await $.from("consumer_units").select(`
                    *,
                    subscriber:subscriber_id (name, cpf_cnpj)
                `).order("created_at",{ascending:!1});if(j)throw j;t(S||[])}catch(S){console.error("Error fetching UCs:",S)}finally{n(!1)}},y=S=>{b(),u(!1)},g=S=>{t(e.filter(j=>j.id!==S)),u(!1)},w=S=>{m(S.active.id)},_=async S=>{const{active:j,over:C}=S;if(m(null),!C)return;const E=j.id,k=C.id;let A=k;if(!rE.some(I=>I.status===k)){const I=e.find(L=>L.id===k);A=I==null?void 0:I.status}if(!A)return;const T=e.find(I=>I.id===E);if(T&&T.status!==A){t(I=>I.map(L=>L.id===E?{...L,status:A}:L));try{const{error:I}=await $.from("consumer_units").update({status:A}).eq("id",E);if(I)throw I}catch(I){console.error("Error updating status:",I),b()}}};return l.jsxs("div",{children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"2rem"},children:[l.jsx("h2",{children:"Gesto de Unidades Consumidoras (UCs)"}),l.jsx("button",{onClick:()=>{f(null),u(!0)},style:{padding:"0.6rem 1.2rem",background:"var(--color-blue)",color:"white",borderRadius:"4px",fontWeight:"bold",cursor:"pointer"},children:"+ Nova UC"})]}),l.jsx("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.5rem",flexWrap:"wrap",gap:"1rem"},children:l.jsxs("div",{style:{display:"flex",gap:"1rem",flex:1,alignItems:"center"},children:[l.jsx("input",{placeholder:"Buscar por UC, Assinante, Concessionria ou Status...",value:a,onChange:S=>i(S.target.value),className:"input",style:{maxWidth:"400px"}}),l.jsxs("div",{className:"btn-group",style:{display:"flex",border:"1px solid var(--color-border)",borderRadius:"var(--radius-sm)",overflow:"hidden"},children:[l.jsx("button",{onClick:()=>s("list"),className:`btn ${o==="list"?"btn-primary":"btn-secondary"}`,style:{borderRadius:0,border:"none"},children:"Lista"}),l.jsx("button",{onClick:()=>s("kanban"),className:`btn ${o==="kanban"?"btn-primary":"btn-secondary"}`,style:{borderRadius:0,border:"none"},children:"Kanban"})]})]})}),r?l.jsx("p",{children:"Carregando..."}):l.jsx(l.Fragment,{children:o==="list"?l.jsx("div",{className:"card",style:{padding:0,overflow:"hidden"},children:l.jsx("div",{className:"table-container",children:x.length===0?l.jsx("p",{style:{padding:"2rem",textAlign:"center",color:"var(--color-text-light)"},children:"Nenhuma UC encontrada."}):l.jsxs("table",{className:"table",children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{children:"UC"}),l.jsx("th",{children:"Concessionria"}),l.jsx("th",{children:"Assinante"}),l.jsx("th",{children:"Franquia"}),l.jsx("th",{children:"Status"}),l.jsx("th",{children:"Cidade"}),l.jsx("th",{children:"Aes"})]})}),l.jsx("tbody",{children:x.map(S=>{var j,C,E,k,A;return l.jsxs("tr",{children:[l.jsx("td",{style:{fontWeight:"bold"},children:S.numero_uc}),l.jsx("td",{style:{color:"var(--color-text-medium)"},children:S.concessionaria||"-"}),l.jsxs("td",{children:[l.jsx("div",{style:{fontWeight:"bold"},children:((j=S.subscriber)==null?void 0:j.name)||"-"}),l.jsx("div",{style:{fontSize:"0.8rem",color:"var(--color-text-medium)"},children:(C=S.subscriber)==null?void 0:C.cpf_cnpj})]}),l.jsx("td",{children:S.franquia?`${Number(S.franquia).toLocaleString("pt-BR")} kWh`:"-"}),l.jsx("td",{children:l.jsx("span",{className:"badge",style:{background:S.status==="ativo"?"var(--color-success-light)":S.status==="em_atraso"||S.status==="cancelado_inadimplente"?"#fee2e2":"var(--color-bg-light)",color:S.status==="ativo"?"var(--color-success)":S.status==="em_atraso"||S.status==="cancelado_inadimplente"?"#dc2626":"var(--color-text-light)"},children:(E=S.status)==null?void 0:E.replace("_"," ").toUpperCase()})}),l.jsxs("td",{children:[(k=S.address)==null?void 0:k.cidade," / ",(A=S.address)==null?void 0:A.uf]}),l.jsx("td",{children:l.jsx("button",{onClick:()=>{f(S),u(!0)},className:"btn btn-secondary",style:{padding:"0.3rem 0.6rem",fontSize:"0.8rem"},children:"Editar"})})]},S.id)})})]})})}):l.jsxs(NM,{sensors:v,collisionDetection:mM,onDragStart:w,onDragEnd:_,onDragCancel:()=>m(null),children:[l.jsx("div",{style:{display:"flex",gap:"1rem",overflowX:"auto",paddingBottom:"1rem"},children:rE.map(({status:S,label:j,color:C})=>{const E=x.filter(k=>(k.status||"em_ativacao")===S);return l.jsx(ore,{status:S,label:j,color:C,units:E,onCardClick:k=>{f(k),u(!0)}},S)})}),l.jsx(DM,{adjustScale:!0,children:h?l.jsx(WM,{uc:e.find(S=>S.id===h),isOverlay:!0}):null})]})}),c&&l.jsx(cb,{consumerUnit:d,onClose:()=>u(!1),onSave:y,onDelete:g})]})}function lre({billing:e,onClose:t,onSave:r}){const[n,a]=p.useState([]),[i,o]=p.useState(!1),[s,c]=p.useState(!1),[u,d]=p.useState({usina_id:"",status:"em_producao",mes_referencia:new Date().toISOString().substring(0,7),fechamento:new Date().toISOString().substring(0,10),geracao_mensal_kwh:"",energia_compensada:"",faturamento_mensal:"",faturas_pagas:"",custo_disponibilidade:"",manutencao:"",gestao_reais:"",arrendamento:"",servicos:"",total_despesas:"",saldo_receber:""}),[f,h]=p.useState(0),m=["em_producao","fechado","liquidado"],v=C=>{if(!C&&C!==0)return"";const E=Number(C);return isNaN(E)?"":E.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})},x=C=>{if(!C||typeof C!="string")return 0;const E=C.replace(/\D/g,"");return Number(E)/100},b=(C,E)=>{const k=E.replace(/\D/g,""),N=(Number(k)/100).toLocaleString("pt-BR",{style:"currency",currency:"BRL"});d(T=>({...T,[C]:N}))};p.useEffect(()=>{y(),e&&(d({usina_id:e.usina_id,status:e.status||"em_producao",mes_referencia:e.mes_referencia?e.mes_referencia.substring(0,7):"",fechamento:e.fechamento||"",geracao_mensal_kwh:e.geracao_mensal_kwh||"",energia_compensada:e.energia_compensada||"",faturamento_mensal:v(e.faturamento_mensal),faturas_pagas:v(e.faturas_pagas),custo_disponibilidade:v(e.custo_disponibilidade),manutencao:v(e.manutencao),gestao_reais:v(e.gestao_reais),arrendamento:v(e.arrendamento),servicos:v(e.servicos),total_despesas:v(e.total_despesas),saldo_receber:v(e.saldo_receber)}),g(e.usina_id))},[e]),p.useEffect(()=>{_()},[u.faturas_pagas,u.custo_disponibilidade,u.manutencao,u.arrendamento,u.servicos,f]);const y=async()=>{const{data:C}=await $.from("usinas").select("id, name");a(C||[])},g=async C=>{if(!C)return;const{data:E}=await $.from("usinas").select("gestao_percentual").eq("id",C).single();E&&h(Number(E.gestao_percentual)||0)},w=async C=>{const E=C.target.value;d(k=>({...k,usina_id:E})),await g(E)},_=()=>{const C=x(u.faturas_pagas),E=x(u.custo_disponibilidade),k=x(u.manutencao),A=x(u.arrendamento),N=x(u.servicos);let T=0;f>0&&(T=C*(f/100));const I=E+k+T+A+N,L=C-I,H=x(u.gestao_reais),O=x(u.total_despesas),R=x(u.saldo_receber);Math.abs(H-T)<.01&&Math.abs(O-I)<.01&&Math.abs(R-L)<.01||d(D=>({...D,gestao_reais:v(T),total_despesas:v(I),saldo_receber:v(L)}))},S=async()=>{if(!u.usina_id||!u.mes_referencia){alert("Selecione uma Usina e um Ms de Referncia.");return}c(!0);try{const{data:C,error:E}=await $.from("consumer_units").select("id").eq("usina_id",u.usina_id);if(E)throw E;if(!C||C.length===0){alert("Nenhuma UC vinculada a esta usina."),c(!1);return}const k=C.map(P=>P.id),[A,N]=u.mes_referencia.split("-"),T=`${A}-${N}-01`,I=new Date(A,N,0).getDate(),L=`${A}-${N}-${I}`,{data:H,error:O}=await $.from("invoices").select("valor_a_pagar, status").in("uc_id",k).gte("mes_referencia",T).lte("mes_referencia",L);if(O)throw O;let R=0,D=0;H.forEach(P=>{const U=Number(P.valor_a_pagar)||0;R+=U,P.status==="pago"&&(D+=U)}),d(P=>({...P,faturamento_mensal:v(R),faturas_pagas:v(D)}))}catch(C){console.error("Reconciliation error:",C),alert("Erro ao buscar faturas: "+C.message)}finally{c(!1)}},j=async C=>{C.preventDefault(),o(!0);try{const E={usina_id:u.usina_id,status:u.status,mes_referencia:`${u.mes_referencia}-01`,fechamento:u.fechamento,geracao_mensal_kwh:Number(u.geracao_mensal_kwh),energia_compensada:Number(u.energia_compensada),faturamento_mensal:x(u.faturamento_mensal),faturas_pagas:x(u.faturas_pagas),custo_disponibilidade:x(u.custo_disponibilidade),manutencao:x(u.manutencao),gestao_reais:x(u.gestao_reais),arrendamento:x(u.arrendamento),servicos:x(u.servicos),total_despesas:x(u.total_despesas),saldo_receber:x(u.saldo_receber)};let k;if(e!=null&&e.id?k=await $.from("generation_production").update(E).eq("id",e.id):k=await $.from("generation_production").insert(E),k.error)throw k.error;r(),t()}catch(E){console.error("Save error:",E),alert("Erro ao salvar: "+(E.message||JSON.stringify(E)))}finally{o(!1)}};return l.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},children:l.jsxs("div",{style:{background:"white",padding:"2rem",borderRadius:"8px",width:"90%",maxWidth:"900px",maxHeight:"90vh",overflowY:"auto"},children:[l.jsx("h3",{style:{marginBottom:"1.5rem",borderBottom:"1px solid #eee",paddingBottom:"0.5rem"},children:e?"Editar Fechamento":"Novo Fechamento"}),l.jsxs("form",{onSubmit:j,style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:[l.jsxs("div",{style:{gridColumn:"1 / -1",display:"flex",gap:"1rem",background:"#f8fafc",padding:"1rem",borderRadius:"4px"},children:[l.jsxs("div",{style:{flex:1},children:[l.jsx("label",{style:{display:"block",fontSize:"0.8rem",marginBottom:"0.2rem"},children:"Usina"}),l.jsxs("select",{required:!0,value:u.usina_id,onChange:w,style:{width:"100%",padding:"0.5rem",borderRadius:"4px",border:"1px solid #ddd"},children:[l.jsx("option",{value:"",children:"Selecione..."}),n.map(C=>l.jsx("option",{value:C.id,children:C.name},C.id))]})]}),l.jsxs("div",{style:{width:"220px",display:"flex",gap:"0.5rem"},children:[l.jsxs("div",{style:{flex:1},children:[l.jsx("label",{style:{display:"block",fontSize:"0.8rem",marginBottom:"0.2rem"},children:"Ms Ref."}),l.jsx("select",{value:u.mes_referencia.split("-")[1],onChange:C=>{const E=u.mes_referencia.split("-")[0];d({...u,mes_referencia:`${E}-${C.target.value}`})},style:{width:"100%",padding:"0.4rem",border:"1px solid #ddd",borderRadius:"4px"},children:["01","02","03","04","05","06","07","08","09","10","11","12"].map((C,E)=>l.jsx("option",{value:C,children:["Janeiro","Fevereiro","Maro","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"][E]},C))})]}),l.jsxs("div",{style:{width:"80px"},children:[l.jsx("label",{style:{display:"block",fontSize:"0.8rem",marginBottom:"0.2rem"},children:"Ano"}),l.jsx("select",{value:u.mes_referencia.split("-")[0],onChange:C=>{const E=u.mes_referencia.split("-")[1];d({...u,mes_referencia:`${C.target.value}-${E}`})},style:{width:"100%",padding:"0.4rem",border:"1px solid #ddd",borderRadius:"4px"},children:Array.from({length:10},(C,E)=>new Date().getFullYear()-2+E).map(C=>l.jsx("option",{value:C,children:C},C))})]})]}),l.jsxs("div",{style:{width:"150px"},children:[l.jsx("label",{style:{display:"block",fontSize:"0.8rem",marginBottom:"0.2rem"},children:"Data Fechamento"}),l.jsx("input",{type:"date",required:!0,value:u.fechamento,onChange:C=>d({...u,fechamento:C.target.value}),style:{width:"100%",padding:"0.4rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),l.jsxs("div",{style:{width:"120px"},children:[l.jsx("label",{style:{display:"block",fontSize:"0.8rem",marginBottom:"0.2rem"},children:"Status"}),l.jsx("select",{value:u.status,onChange:C=>d({...u,status:C.target.value}),style:{width:"100%",padding:"0.5rem",borderRadius:"4px",border:"1px solid #ddd"},children:m.map(C=>l.jsx("option",{value:C,children:C.replace("_"," ").toUpperCase()},C))})]}),l.jsx("div",{style:{display:"flex",alignItems:"flex-end"},children:l.jsx("button",{type:"button",onClick:S,disabled:s||!u.usina_id,style:{padding:"0.5rem 1rem",background:"var(--color-blue)",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",opacity:s?.7:1},children:s?"Buscando...":"Buscar Faturas"})})]}),l.jsx("div",{style:{gridColumn:"1 / -1",fontWeight:"bold",marginTop:"0.5rem",color:"var(--color-blue)"},children:"Produo e Receita"}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem"},children:"Gerao Mensal (kWh)"}),l.jsx("input",{type:"number",required:!0,value:u.geracao_mensal_kwh,onChange:C=>d({...u,geracao_mensal_kwh:C.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem"},children:"Energia Compensada (kWh)"}),l.jsx("input",{type:"number",value:u.energia_compensada,onChange:C=>d({...u,energia_compensada:C.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem"},children:"Faturamento Mensal (R$ Total)"}),l.jsx("input",{type:"text",value:u.faturamento_mensal,onChange:C=>b("faturamento_mensal",C.target.value),placeholder:"R$ 0,00",style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),l.jsxs("div",{style:{gridColumn:"1 / -1",background:"#ecfdf5",padding:"1rem",borderRadius:"4px",border:"1px solid #d1fae5"},children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",color:"#047857",fontWeight:"bold"},children:"Faturas Pagas (Base de Clculo) - R$"}),l.jsx("input",{type:"text",value:u.faturas_pagas,onChange:C=>b("faturas_pagas",C.target.value),placeholder:"R$ 0,00",style:{width:"100%",padding:"0.5rem",border:"1px solid #10b981",borderRadius:"4px",fontSize:"1.2rem",fontWeight:"bold",color:"#047857"}}),l.jsx("span",{style:{fontSize:"0.8rem",color:"#059669"},children:"Valor efetivamente recebido dos assinantes."})]}),l.jsx("div",{style:{gridColumn:"1 / -1",fontWeight:"bold",marginTop:"0.5rem",color:"var(--color-blue)"},children:"Despesas Operacionais"}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem"},children:"Custo Disp. (R$)"}),l.jsx("input",{type:"text",value:u.custo_disponibilidade,onChange:C=>b("custo_disponibilidade",C.target.value),placeholder:"R$ 0,00",style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem"},children:"Manuteno (R$)"}),l.jsx("input",{type:"text",value:u.manutencao,onChange:C=>b("manutencao",C.target.value),placeholder:"R$ 0,00",style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem"},children:"Arrendamento (R$)"}),l.jsx("input",{type:"text",value:u.arrendamento,onChange:C=>b("arrendamento",C.target.value),placeholder:"R$ 0,00",style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem"},children:"Servios (R$)"}),l.jsx("input",{type:"text",value:u.servicos,onChange:C=>b("servicos",C.target.value),placeholder:"R$ 0,00",style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),l.jsxs("div",{style:{gridColumn:"1 / -1",background:"#fef3c7",padding:"1rem",borderRadius:"4px",marginTop:"0.5rem",display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem",border:"1px solid #fcd34d"},children:[l.jsxs("div",{children:[l.jsxs("label",{style:{display:"block",fontSize:"0.9rem",color:"#b45309"},children:["Taxa de Gesto (",f,"%)"]}),l.jsx("input",{disabled:!0,value:u.gestao_reais,style:{width:"100%",padding:"0.5rem",border:"1px solid #fbbf24",borderRadius:"4px",background:"white"}})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",color:"#b45309",fontWeight:"bold"},children:"Total Despesas"}),l.jsx("input",{disabled:!0,value:u.total_despesas,style:{width:"100%",padding:"0.5rem",border:"1px solid #fbbf24",borderRadius:"4px",background:"white",fontWeight:"bold"}})]})]}),l.jsxs("div",{style:{gridColumn:"1 / -1",background:"#eff6ff",padding:"1.5rem",borderRadius:"4px",border:"1px solid #bfdbfe",marginTop:"1rem",textAlign:"center"},children:[l.jsx("label",{style:{display:"block",fontSize:"1rem",color:"#1e40af",marginBottom:"0.5rem"},children:"Saldo Lquido a Receber"}),l.jsx("div",{style:{fontSize:"2rem",fontWeight:"bold",color:"#1e3a8a"},children:u.saldo_receber}),l.jsx("span",{style:{fontSize:"0.8rem",color:"#60a5fa"},children:"Faturas Pagas - Total Despesas"})]}),l.jsxs("div",{style:{gridColumn:"1 / -1",display:"flex",justifyContent:"flex-end",gap:"1rem",marginTop:"1rem"},children:[l.jsx("button",{type:"button",onClick:t,style:{padding:"0.8rem 1.5rem",background:"#ccc",borderRadius:"4px",border:"none",cursor:"pointer"},children:"Cancelar"}),l.jsx("button",{type:"submit",disabled:i,style:{padding:"0.8rem 1.5rem",background:"var(--color-blue)",color:"white",borderRadius:"4px",border:"none",cursor:"pointer",fontWeight:"bold"},children:i?"Salvando...":"Confirmar Fechamento"})]})]})]})})}function cre(){const[e,t]=p.useState([]),[r,n]=p.useState(!0),[a,i]=p.useState("kanban"),[o,s]=p.useState(!1),[c,u]=p.useState(null);p.useEffect(()=>{d()},[]);const d=async()=>{n(!0);const{data:g,error:w}=await $.from("generation_production").select(`
                *,
                usinas ( name )
            `).order("mes_referencia",{ascending:!1});w?console.error("Error fetching billing:",w):t(g||[]),n(!1)},f=g=>{u(g),s(!0)},h=()=>{u(null),s(!0)},m=async g=>{if(!confirm("Tem certeza que deseja excluir este fechamento?"))return;const{error:w}=await $.from("generation_production").delete().eq("id",g);w?alert("Erro ao excluir"):d()},v=async g=>{var w;if(!g.saldo_receber||g.saldo_receber<=0){alert("Saldo a receber deve ser maior que zero.");return}if(confirm(`Deseja enviar R$ ${g.saldo_receber} via Pix para esta usina/fornecedor?`)){n(!0);try{const{data:_,error:S}=await $.from("usinas").select("supplier:suppliers ( pix_key, pix_key_type, name )").eq("id",g.usina_id).single();if(S||!_||!_.supplier)throw new Error("Fornecedor/Pix no encontrado para esta usina.");const j=_.supplier;if(!j.pix_key)throw new Error("Fornecedor sem Chave Pix cadastrada.");const{data:C,error:E}=await $.functions.invoke("transfer-asaas-pix",{body:{value:g.saldo_receber,pix_key:j.pix_key,pix_key_type:j.pix_key_type,description:`Pagamento Energia - ${g.mes_referencia} - ${_.name}`,operationType:"PIX"}});if(E)throw E;if(!C.success)throw new Error(C.error||"Erro desconhecido na transferncia");alert("Pagamento enviado com sucesso! ID: "+((w=C.data)==null?void 0:w.id)),d(),await $.from("generation_production").update({status:"liquidado"}).eq("id",g.id),d()}catch(_){console.error("Payment Error:",_),alert("Erro no pagamento: "+_.message)}finally{n(!1)}}},x=()=>{d(),s(!1)},b=g=>{if(!g)return"-";const[w,_]=g.split("-"),S=["Janeiro","Fevereiro","Maro","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],j=parseInt(_,10)-1;return`${S[j]||"-"} ${w}`},y=g=>Number(g||0).toLocaleString("pt-BR",{style:"currency",currency:"BRL"});return l.jsxs("div",{style:{padding:"2rem"},children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"2rem"},children:[l.jsx("h2",{style:{color:"var(--color-blue)",fontSize:"1.5rem",fontWeight:"bold"},children:"Fechamento Mensal"}),l.jsx("button",{onClick:h,style:{background:"var(--color-orange)",color:"white",padding:"0.8rem 1.5rem",borderRadius:"4px",border:"none",cursor:"pointer",fontWeight:"bold"},children:"Novo Fechamento"})]}),l.jsx("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.5rem"},children:l.jsxs("div",{className:"btn-group",style:{display:"flex",border:"1px solid var(--color-border)",borderRadius:"var(--radius-sm)",overflow:"hidden"},children:[l.jsx("button",{onClick:()=>i("list"),className:`btn ${a==="list"?"btn-primary":"btn-secondary"}`,style:{borderRadius:0,border:"none"},children:"Lista"}),l.jsx("button",{onClick:()=>i("kanban"),className:`btn ${a==="kanban"?"btn-primary":"btn-secondary"}`,style:{borderRadius:0,border:"none"},children:"Kanban"})]})}),r?l.jsx("p",{children:"Carregando..."}):l.jsx(l.Fragment,{children:a==="list"?l.jsx("div",{className:"card",style:{padding:0,overflow:"hidden"},children:l.jsx("div",{className:"table-container",children:l.jsxs("table",{className:"table",children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{children:"Ms Ref."}),l.jsx("th",{children:"Usina"}),l.jsx("th",{children:"Status"}),l.jsx("th",{children:"Gerao (kWh)"}),l.jsx("th",{children:"Compensado (kWh)"}),l.jsx("th",{children:"Faturado (R$)"}),l.jsx("th",{children:"Saldo a Receber (R$)"}),l.jsx("th",{children:"Aes"})]})}),l.jsx("tbody",{children:e.map(g=>{var w;return l.jsxs("tr",{children:[l.jsx("td",{children:b(g.mes_referencia)}),l.jsx("td",{children:((w=g.usinas)==null?void 0:w.name)||"-"}),l.jsx("td",{children:l.jsx("span",{className:"badge",style:{background:g.status==="liquidado"?"#dcfce7":g.status==="fechado"?"#e0f2fe":"#fef9c3",color:g.status==="liquidado"?"#166534":g.status==="fechado"?"#0369a1":"#854d0e"},children:g.status})}),l.jsxs("td",{children:[Number(g.geracao_mensal_kwh).toLocaleString("pt-BR")," kWh"]}),l.jsxs("td",{children:[Number(g.energia_compensada||0).toLocaleString("pt-BR")," kWh"]}),l.jsx("td",{children:y(g.faturamento_mensal)}),l.jsx("td",{style:{fontWeight:"bold",color:"var(--color-blue)"},children:y(g.saldo_receber)}),l.jsx("td",{children:l.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[l.jsx("button",{onClick:()=>f(g),className:"btn btn-secondary",style:{padding:"0.3rem 0.6rem",fontSize:"0.8rem"},children:"Editar"}),l.jsx("button",{onClick:()=>m(g.id),className:"btn btn-secondary",style:{padding:"0.3rem 0.6rem",fontSize:"0.8rem",color:"#ef4444",borderColor:"#fee2e2",background:"#fef2f2"},children:"Excluir"}),l.jsx("button",{onClick:()=>v(g),className:"btn",style:{padding:"0.3rem 0.6rem",fontSize:"0.8rem",color:"#059669",borderColor:"#d1fae5",background:"#ecfdf5",fontWeight:"bold"},children:" Pagar"})]})})]},g.id)})})]})})}):l.jsx("div",{style:{display:"flex",gap:"1rem",overflowX:"auto",paddingBottom:"1rem"},children:["aberto","fechado","liquidado"].map(g=>{const w=e.filter(j=>j.status===g),S={aberto:"#eab308",fechado:"#0ea5e9",liquidado:"#22c55e"}[g]||"#64748b";return l.jsxs("div",{style:{minWidth:"320px",flex:1,background:"var(--color-bg-light)",borderRadius:"var(--radius-md)",padding:"0.5rem",borderTop:`4px solid ${S}`,boxShadow:"var(--shadow-sm)"},children:[l.jsxs("h4",{style:{padding:"0.8rem",borderBottom:"1px solid var(--color-border)",background:"white",borderRadius:"var(--radius-sm)",display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0.5rem",color:S},children:[l.jsx("span",{style:{textTransform:"uppercase",fontSize:"0.85rem",fontWeight:"bold"},children:g}),l.jsx("span",{style:{fontSize:"0.8rem",background:S,color:"white",padding:"0.1rem 0.5rem",borderRadius:"99px"},children:y(w.reduce((j,C)=>j+(Number(C.saldo_receber)||0),0))})]}),l.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem"},children:w.map(j=>{var C;return l.jsxs("div",{onClick:()=>f(j),style:{background:"white",padding:"1rem",borderRadius:"var(--radius-sm)",boxShadow:"var(--shadow-sm)",cursor:"pointer",border:"1px solid transparent",transition:"0.2s"},onMouseEnter:E=>E.currentTarget.style.borderColor="var(--color-blue)",onMouseLeave:E=>E.currentTarget.style.borderColor="transparent",children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"0.5rem"},children:[l.jsx("span",{style:{fontWeight:"bold",fontSize:"1rem",color:"var(--color-text-dark)"},children:(C=j.usinas)==null?void 0:C.name}),l.jsx("span",{style:{fontSize:"0.75rem",color:"var(--color-text-medium)"},children:b(j.mes_referencia)})]}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"0.5rem",fontSize:"0.85rem",color:"var(--color-text-medium)",marginBottom:"0.8rem"},children:[l.jsxs("div",{children:[l.jsx("div",{style:{fontSize:"0.7rem",color:"var(--color-text-light)"},children:"Gerao"}),l.jsxs("div",{children:[Number(j.geracao_mensal_kwh).toLocaleString("pt-BR")," kWh"]})]}),l.jsxs("div",{children:[l.jsx("div",{style:{fontSize:"0.7rem",color:"var(--color-text-light)"},children:"Saldo"}),l.jsx("div",{style:{fontWeight:"bold",color:"var(--color-blue)"},children:y(j.saldo_receber)})]})]}),l.jsx("div",{style:{display:"flex",justifyContent:"flex-end",gap:"0.5rem"},children:j.status!=="liquidado"&&l.jsx("button",{onClick:E=>{E.stopPropagation(),v(j)},className:"btn",style:{padding:"0.2rem 0.5rem",fontSize:"0.75rem",color:"#059669",borderColor:"#d1fae5",background:"#ecfdf5",fontWeight:"bold"},children:" Pagar"})})]},j.id)})})]},g)})})}),o&&l.jsx(lre,{billing:c,onClose:()=>s(!1),onSave:x})]})}function ure(){const[e,t]=p.useState([]),[r,n]=p.useState(!0),[a,i]=p.useState("all"),[o,s]=p.useState(""),[c,u]=p.useState(null),d=[{id:"all",label:"Todos",color:"#64748b"},{id:"super_admin",label:"Super Admin",color:"#0f172a"},{id:"admin",label:"Admin",color:"#1e293b"},{id:"manager",label:"Gerente",color:"#334155"},{id:"coordinator",label:"Coord.",color:"#475569"},{id:"supplier",label:"Fornecedor",color:"#ea580c"},{id:"originator",label:"Originador",color:"#059669"},{id:"subscriber",label:"Assinante",color:"#2563eb"},{id:"lead",label:"Lead",color:"#94a3b8"}],f=g=>{var w;return((w=d.find(_=>_.id===g))==null?void 0:w.label)||g},h=g=>{var w;return((w=d.find(_=>_.id===g))==null?void 0:w.color)||"#94a3b8"};p.useEffect(()=>{m()},[]);const m=async()=>{n(!0);const{data:g}=await $.from("profiles").select("*").order("name");g&&t(g),n(!1)},v=g=>{t(e.map(w=>w.id===g.id?g:w))},x=e.filter(g=>{var S,j;const w=(((S=g.name)==null?void 0:S.toLowerCase())||"").includes(o.toLowerCase())||(((j=g.email)==null?void 0:j.toLowerCase())||"").includes(o.toLowerCase()),_=a==="all"?!0:g.role===a;return w&&_}),b=e.length,y=e.filter(g=>g.role!=="lead").length;return l.jsxs("div",{children:[l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"1rem",marginBottom:"2rem"},children:[l.jsxs("div",{style:{background:"white",padding:"1.5rem",borderRadius:"12px",border:"1px solid #e2e8f0",display:"flex",alignItems:"center",gap:"1rem"},children:[l.jsx("div",{style:{background:"#eff6ff",padding:"0.8rem",borderRadius:"8px",color:"#2563eb"},children:l.jsx(lb,{size:24})}),l.jsxs("div",{children:[l.jsx("div",{style:{fontSize:"2rem",fontWeight:"bold",color:"#1e293b",lineHeight:1},children:b}),l.jsx("div",{style:{fontSize:"0.85rem",color:"#64748b"},children:"Total de Usurios"})]})]}),l.jsxs("div",{style:{background:"white",padding:"1.5rem",borderRadius:"12px",border:"1px solid #e2e8f0",display:"flex",alignItems:"center",gap:"1rem"},children:[l.jsx("div",{style:{background:"#f0fdf4",padding:"0.8rem",borderRadius:"8px",color:"#16a34a"},children:l.jsx(Rk,{size:24})}),l.jsxs("div",{children:[l.jsx("div",{style:{fontSize:"2rem",fontWeight:"bold",color:"#1e293b",lineHeight:1},children:y}),l.jsx("div",{style:{fontSize:"0.85rem",color:"#64748b"},children:"Perfis Ativos"})]})]})]}),l.jsxs("div",{style:{background:"white",borderRadius:"12px",border:"1px solid #e2e8f0",overflow:"hidden"},children:[l.jsxs("div",{style:{borderBottom:"1px solid #e2e8f0"},children:[l.jsxs("div",{style:{padding:"1rem",display:"flex",justifyContent:"space-between",alignItems:"center",background:"#f8fafc"},children:[l.jsx("h3",{style:{margin:0,fontSize:"1rem",color:"#334155"},children:"Lista de Usurios"}),l.jsxs("div",{style:{position:"relative"},children:[l.jsx(sb,{size:16,style:{position:"absolute",left:"10px",top:"50%",transform:"translateY(-50%)",color:"#94a3b8"}}),l.jsx("input",{placeholder:"Buscar usurio...",value:o,onChange:g=>s(g.target.value),style:{padding:"0.5rem 1rem 0.5rem 2.2rem",borderRadius:"6px",border:"1px solid #cbd5e1",fontSize:"0.9rem",width:"250px"}})]})]}),l.jsx("div",{style:{display:"flex",gap:"2rem",padding:"0 1rem",overflowX:"auto"},children:d.map(g=>l.jsxs("button",{onClick:()=>i(g.id),style:{background:"none",border:"none",padding:"1rem 0",color:a===g.id?"#0284c7":"#64748b",fontWeight:a===g.id?600:400,borderBottom:a===g.id?"2px solid #0284c7":"2px solid transparent",cursor:"pointer",whiteSpace:"nowrap",fontSize:"0.9rem"},children:[g.label,l.jsx("span",{style:{marginLeft:"6px",background:a===g.id?"#e0f2fe":"#f1f5f9",padding:"2px 6px",borderRadius:"99px",fontSize:"0.75rem"},children:g.id==="all"?e.length:e.filter(w=>w.role===g.id).length})]},g.id))})]}),l.jsx("div",{style:{overflowX:"auto"},children:l.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",textAlign:"left"},children:[l.jsx("thead",{style:{background:"#f8fafc",borderBottom:"1px solid #e2e8f0",fontSize:"0.8rem",textTransform:"uppercase",color:"#64748b"},children:l.jsxs("tr",{children:[l.jsx("th",{style:{padding:"1rem"},children:"Usurio"}),l.jsx("th",{style:{padding:"1rem"},children:"Perfil (Role)"}),l.jsx("th",{style:{padding:"1rem"},children:"Contato"}),l.jsx("th",{style:{padding:"1rem"},children:"Comisses"}),l.jsx("th",{style:{padding:"1rem",textAlign:"right"},children:"Aes"})]})}),l.jsx("tbody",{children:r?l.jsx("tr",{children:l.jsx("td",{colSpan:"5",style:{padding:"2rem",textAlign:"center"},children:"Carregando..."})}):x.length===0?l.jsx("tr",{children:l.jsx("td",{colSpan:"5",style:{padding:"2rem",textAlign:"center",color:"#94a3b8"},children:"Nenhum usurio encontrado."})}):x.map(g=>{var w;return l.jsxs("tr",{style:{borderBottom:"1px solid #f1f5f9"},children:[l.jsx("td",{style:{padding:"1rem"},children:l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.8rem"},children:[l.jsx("div",{style:{width:36,height:36,borderRadius:"50%",background:"#e2e8f0",display:"flex",alignItems:"center",justifyContent:"center",color:"#64748b",fontWeight:"bold"},children:((w=g.name)==null?void 0:w.charAt(0).toUpperCase())||"?"}),l.jsxs("div",{children:[l.jsx("div",{style:{fontWeight:600,color:"#1e293b"},children:g.name||"Sem Nome"}),l.jsx("div",{style:{fontSize:"0.8rem",color:"#64748b"},children:g.email})]})]})}),l.jsx("td",{style:{padding:"1rem"},children:l.jsx("span",{style:{padding:"0.3rem 0.8rem",borderRadius:"99px",fontSize:"0.75rem",fontWeight:600,background:h(g.role)+"20",color:h(g.role),border:`1px solid ${h(g.role)}40`},children:f(g.role)})}),l.jsx("td",{style:{padding:"1rem",fontSize:"0.9rem",color:"#475569"},children:g.phone||"-"}),l.jsx("td",{style:{padding:"1rem",fontSize:"0.85rem"},children:g.commission_split?l.jsxs("div",{style:{display:"flex",gap:"1rem"},children:[l.jsxs("div",{children:[l.jsx("span",{style:{color:"#94a3b8"},children:"Start:"})," ",l.jsxs("strong",{children:[g.commission_split.start,"%"]})]}),l.jsxs("div",{children:[l.jsx("span",{style:{color:"#94a3b8"},children:"Rec.:"})," ",l.jsxs("strong",{children:[g.commission_split.recorrente,"%"]})]})]}):"-"}),l.jsx("td",{style:{padding:"1rem",textAlign:"right"},children:l.jsxs("button",{onClick:()=>u(g),style:{background:"white",border:"1px solid #cbd5e1",borderRadius:"6px",padding:"0.4rem 0.8rem",cursor:"pointer",display:"inline-flex",alignItems:"center",gap:"0.4rem",color:"#475569",fontSize:"0.8rem",fontWeight:500},children:[l.jsx(w8,{size:14})," Editar"]})})]},g.id)})})]})})]}),c&&l.jsx(Mk,{user:c,onClose:()=>u(null),onSave:v})]})}function nE({serviceName:e,title:t,description:r}){var E,k;const{showAlert:n}=Gr(),[a,i]=p.useState(!1),[o,s]=p.useState(!1),[c,u]=p.useState({endpoint_url:"",api_key:"",secret_key:"",variables:[]});p.useEffect(()=>{d()},[e]);const d=async()=>{i(!0);const{data:A,error:N}=await $.from("integrations_config").select("*").eq("service_name",e).single();if(A){const T=A.variables?Object.entries(A.variables).map(([I,L])=>({key:I,value:L})):[];u({endpoint_url:A.endpoint_url||"",api_key:A.api_key||"",secret_key:A.secret_key||"",variables:T})}else N&&N.code!=="PGRST116"&&console.error("Error fetching config:",N);i(!1)},f=async A=>{A.preventDefault(),i(!0);const N=c.variables.reduce((L,H)=>(H.key&&(L[H.key]=H.value),L),{}),T={service_name:e,endpoint_url:c.endpoint_url,api_key:c.api_key,secret_key:c.secret_key,variables:N,updated_at:new Date().toISOString()},{error:I}=await $.from("integrations_config").upsert(T,{onConflict:"service_name"});i(!1),I?n("Erro ao salvar configuraes: "+I.message,"error"):n("Configuraes salvas com sucesso!","success")},h=()=>{u(A=>({...A,variables:[...A.variables,{key:"",value:""}]}))},m=A=>{u(N=>({...N,variables:N.variables.filter((T,I)=>I!==A)}))},v=(A,N,T)=>{const I=[...c.variables];I[A][N]=T,u(L=>({...L,variables:I}))},[x,b]=p.useState(""),[y,g]=p.useState("Teste de conexo Evolution API"),[w,_]=p.useState(""),[S,j]=p.useState(!1),C=async()=>{if(!x){n("Informe um nmero de telefone para teste.","error");return}j(!0);try{const{data:A,error:N}=await $.functions.invoke("send-whatsapp",{body:{text:y,phone:x,mediaUrl:w}});if(N)throw new Error(N.message);if(A!=null&&A.error)throw new Error(A.error);n("Mensagem de teste enviada com sucesso!","success")}catch(A){console.error(A),n("Falha no teste: "+A.message,"error")}finally{j(!1)}};return l.jsxs("div",{style:{background:"white",borderRadius:"12px",border:"1px solid #e2e8f0",overflow:"hidden"},children:[l.jsx("div",{style:{padding:"1.5rem",borderBottom:"1px solid #e2e8f0",background:"#f8fafc"},children:l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem"},children:[l.jsx("div",{style:{padding:"0.5rem",background:"#fff",borderRadius:"6px",border:"1px solid #cbd5e1"},children:l.jsx(E8,{size:20,color:"#475569"})}),l.jsxs("div",{children:[l.jsx("h3",{style:{margin:0,fontSize:"1.1rem",color:"#1e293b"},children:t}),l.jsx("p",{style:{margin:0,fontSize:"0.9rem",color:"#64748b"},children:r})]})]})}),l.jsxs("form",{onSubmit:f,style:{padding:"2rem"},children:[l.jsxs("div",{style:{marginBottom:"1.5rem"},children:[l.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:600,color:"#334155",fontSize:"0.9rem"},children:"Endpoint URL"}),l.jsx("input",{type:"url",placeholder:"https://api.exemplo.com/v1",value:c.endpoint_url,onChange:A=>u({...c,endpoint_url:A.target.value}),style:{width:"100%",padding:"0.7rem",borderRadius:"6px",border:"1px solid #cbd5e1",fontSize:"0.95rem"}})]}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1.5rem",marginBottom:"1.5rem"},children:[l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:600,color:"#334155",fontSize:"0.9rem"},children:"API Key / Token"}),l.jsxs("div",{style:{position:"relative"},children:[l.jsx("input",{type:o?"text":"password",value:c.api_key,onChange:A=>u({...c,api_key:A.target.value}),style:{width:"100%",padding:"0.7rem",borderRadius:"6px",border:"1px solid #cbd5e1",fontSize:"0.95rem"}}),l.jsx("button",{type:"button",onClick:()=>s(!o),style:{position:"absolute",right:"10px",top:"50%",transform:"translateY(-50%)",background:"none",border:"none",cursor:"pointer",color:"#94a3b8"},children:o?l.jsx(t8,{size:18}):l.jsx(n8,{size:18})})]})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:600,color:"#334155",fontSize:"0.9rem"},children:"Secret Key (Opcional)"}),l.jsx("input",{type:"password",value:c.secret_key,onChange:A=>u({...c,secret_key:A.target.value}),style:{width:"100%",padding:"0.7rem",borderRadius:"6px",border:"1px solid #cbd5e1",fontSize:"0.95rem"}})]})]}),e==="evolution_api"&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{style:{marginBottom:"1.5rem"},children:[l.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:600,color:"#334155",fontSize:"0.9rem"},children:"Nome da Instncia"}),l.jsx("input",{placeholder:"Nome da Instncia (ex: minha-instancia)",value:((E=c.variables.find(A=>A.key==="instance_name"))==null?void 0:E.value)||"",onChange:A=>{const N=A.target.value;u(T=>{const I=T.variables.some(H=>H.key==="instance_name");let L;return I?L=T.variables.map(H=>H.key==="instance_name"?{...H,value:N}:H):L=[...T.variables,{key:"instance_name",value:N}],{...T,variables:L}})},style:{width:"100%",padding:"0.7rem",borderRadius:"6px",border:"1px solid #cbd5e1",fontSize:"0.95rem"}}),l.jsx("p",{style:{margin:"0.5rem 0 0 0",fontSize:"0.8rem",color:"#64748b"},children:"Nome da instncia criada na Evolution API."})]}),l.jsxs("div",{style:{marginBottom:"1.5rem"},children:[l.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:600,color:"#334155",fontSize:"0.9rem"},children:"URL da Mdia (Convite)"}),l.jsx("input",{type:"url",placeholder:"https://exemplo.com/imagem.png",value:((k=c.variables.find(A=>A.key==="invite_media_url"))==null?void 0:k.value)||"",onChange:A=>{const N=A.target.value;u(T=>{const I=T.variables.some(H=>H.key==="invite_media_url");let L;return I?L=T.variables.map(H=>H.key==="invite_media_url"?{...H,value:N}:H):L=[...T.variables,{key:"invite_media_url",value:N}],{...T,variables:L}})},style:{width:"100%",padding:"0.7rem",borderRadius:"6px",border:"1px solid #cbd5e1",fontSize:"0.95rem"}}),l.jsx("p",{style:{margin:"0.5rem 0 0 0",fontSize:"0.8rem",color:"#64748b"},children:"Imagem enviada junto com o convite."})]})]}),l.jsxs("div",{style:{borderTop:"1px solid #e2e8f0",paddingTop:"1.5rem",marginBottom:"1.5rem"},children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[l.jsx("label",{style:{fontWeight:600,color:"#334155",fontSize:"0.9rem"},children:"Variveis de Ambiente / Parmetros Extras"}),l.jsxs("button",{type:"button",onClick:h,style:{display:"flex",alignItems:"center",gap:"0.5rem",fontSize:"0.8rem",color:"#2563eb",background:"#eff6ff",padding:"0.4rem 0.8rem",borderRadius:"99px",border:"none",cursor:"pointer",fontWeight:600},children:[l.jsx(Vs,{size:14})," Adicionar Varivel"]})]}),c.variables.length===0&&l.jsx("div",{style:{padding:"1rem",background:"#f8fafc",borderRadius:"6px",textAlign:"center",color:"#94a3b8",fontSize:"0.9rem",border:"1px dashed #cbd5e1"},children:"Nenhuma varivel configurada."}),l.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.8rem"},children:c.variables.map((A,N)=>e==="evolution_api"&&(A.key==="instance_name"||A.key==="invite_media_url")?null:l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr auto",gap:"1rem",alignItems:"center"},children:[l.jsx("input",{placeholder:"Nome da Varivel (ex: instance_name)",value:A.key,onChange:T=>v(N,"key",T.target.value),style:{padding:"0.6rem",borderRadius:"6px",border:"1px solid #cbd5e1",fontSize:"0.9rem"}}),l.jsx("input",{placeholder:"Valor",value:A.value,onChange:T=>v(N,"value",T.target.value),style:{padding:"0.6rem",borderRadius:"6px",border:"1px solid #cbd5e1",fontSize:"0.9rem"}}),l.jsx("button",{type:"button",onClick:()=>m(N),style:{color:"#ef4444",background:"none",border:"none",cursor:"pointer",padding:"0.4rem"},title:"Remover",children:l.jsx(tu,{size:18})})]},N))})]}),l.jsx("div",{style:{display:"flex",justifyContent:"flex-end",marginBottom:"2rem"},children:l.jsx("button",{type:"submit",disabled:a,style:{display:"flex",alignItems:"center",gap:"0.5rem",padding:"0.8rem 2rem",background:"#0284c7",color:"white",border:"none",borderRadius:"6px",fontWeight:"bold",cursor:"pointer",boxShadow:"0 4px 6px -1px rgba(2, 132, 199, 0.2)"},children:a?"Salvando...":l.jsxs(l.Fragment,{children:[l.jsx(ob,{size:18})," Salvar Configuraes"]})})}),e==="evolution_api"&&l.jsxs("div",{style:{borderTop:"2px dashed #cbd5e1",paddingTop:"2rem"},children:[l.jsx("h4",{style:{margin:"0 0 1rem 0",color:"#334155"},children:"Teste de Conexo"}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 2fr auto",gap:"1rem",alignItems:"end"},children:[l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",marginBottom:"0.4rem",fontSize:"0.85rem",color:"#64748b"},children:"Nmero (com DDI)"}),l.jsx("input",{placeholder:"5511999999999",value:x,onChange:A=>b(A.target.value.replace(/\D/g,"")),style:{width:"100%",padding:"0.6rem",borderRadius:"6px",border:"1px solid #cbd5e1"}})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",marginBottom:"0.4rem",fontSize:"0.85rem",color:"#64748b"},children:"URL da Mdia (Opcional)"}),l.jsx("input",{placeholder:"https://...",value:w,onChange:A=>_(A.target.value),style:{width:"100%",padding:"0.6rem",borderRadius:"6px",border:"1px solid #cbd5e1"}})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",marginBottom:"0.4rem",fontSize:"0.85rem",color:"#64748b"},children:"Mensagem / Legenda"}),l.jsx("input",{value:y,onChange:A=>g(A.target.value),style:{width:"100%",padding:"0.6rem",borderRadius:"6px",border:"1px solid #cbd5e1"}})]}),l.jsx("button",{type:"button",onClick:C,disabled:S||!x,style:{padding:"0.7rem 1.5rem",background:S?"#94a3b8":"#10b981",color:"white",border:"none",borderRadius:"6px",cursor:S?"default":"pointer",fontWeight:600},children:S?"Enviando...":"Enviar Teste"})]})]}),e==="financial_api"&&l.jsx("div",{style:{borderTop:"2px dashed #cbd5e1",paddingTop:"2rem"},children:l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[l.jsxs("div",{children:[l.jsx("h4",{style:{margin:"0 0 0.5rem 0",color:"#334155"},children:"Teste de Conexo (Asaas)"}),l.jsx("p",{style:{margin:0,fontSize:"0.85rem",color:"#64748b"},children:"Verifica se o endpoint e o token esto corretos."})]}),l.jsx("button",{type:"button",onClick:async()=>{var A;i(!0);try{const{data:N,error:T}=await $.functions.invoke("manage-asaas-customer",{body:{test:!0}});if(T){let I=T.message;try{const L=await((A=T.context)==null?void 0:A.json());L&&L.error&&(I=L.error)}catch{}throw new Error(I)}if(N!=null&&N.success)n(N.message||"Conexo OK!","success");else throw new Error((N==null?void 0:N.error)||"Erro desconhecido")}catch(N){console.error(N),n("Falha na conexo: "+N.message,"error")}finally{i(!1)}},disabled:a||!c.api_key||!c.endpoint_url,style:{padding:"0.7rem 1.5rem",background:a?"#94a3b8":"#6366f1",color:"white",border:"none",borderRadius:"6px",cursor:a?"default":"pointer",fontWeight:600},children:a?"Testando...":"Testar Conexo"})]})})]})]})}function dre(){const[e,t]=p.useState("users"),r=[{id:"users",label:"Perfil de Usurios",icon:lb,desc:"Gerenciar usurios e acesso"},{id:"evolution",label:"Evolution API",icon:YI,desc:"Configurao da API WhatsApp"},{id:"financial",label:"Integrao Financeira",icon:eu,desc:"Gateways de Pagamento"}],n=()=>{switch(e){case"users":return l.jsx(ure,{});case"evolution":return l.jsx(nE,{serviceName:"evolution_api",title:"Evolution API",description:"Configurao da API de WhatsApp"});case"financial":return l.jsx(nE,{serviceName:"financial_api",title:"Integrao Financeira",description:"Gateways de Pagamento (Asaas, etc)"});default:return null}};return l.jsxs("div",{style:{padding:"2rem",height:"100%"},children:[l.jsx("h2",{style:{marginBottom:"0.5rem",color:"#1e293b"},children:"Configuraes"}),l.jsx("p",{style:{color:"#64748b",marginBottom:"2rem"},children:"Gerencie as configuraes gerais e integraes do sistema."}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"260px 1fr",gap:"2rem",alignItems:"start"},children:[l.jsxs("div",{style:{background:"white",borderRadius:"12px",border:"1px solid #e2e8f0",overflow:"hidden"},children:[l.jsx("div",{style:{padding:"1rem",borderBottom:"1px solid #f1f5f9",background:"#f8fafc"},children:l.jsx("span",{style:{fontSize:"0.75rem",fontWeight:"bold",color:"#94a3b8",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Menu"})}),l.jsx("div",{children:r.map(a=>l.jsxs("button",{onClick:()=>t(a.id),style:{width:"100%",display:"flex",alignItems:"center",gap:"0.75rem",padding:"1rem 1.5rem",border:"none",textAlign:"left",cursor:"pointer",color:e===a.id?"#0284c7":"#475569",background:e===a.id?"#f0f9ff":"transparent",borderLeft:e===a.id?"3px solid #0284c7":"3px solid transparent",transition:"all 0.2s"},children:[l.jsx(a.icon,{size:18}),l.jsxs("div",{children:[l.jsx("div",{style:{fontWeight:600,fontSize:"0.9rem"},children:a.label}),l.jsx("div",{style:{fontSize:"0.75rem",color:"#94a3b8"},children:a.desc})]})]},a.id))})]}),l.jsx("div",{style:{minHeight:"500px"},children:n()})]})]})}function fre(){var m;const{profile:e,signOut:t}=pn(),r=yi(),[n,a]=p.useState("default"),[i,o]=p.useState(!1),[s,c]=p.useState(!1);p.useEffect(()=>{e&&n==="default"&&(e.role==="subscriber"?a("subscriber_dashboard"):e.role==="supplier"?a("supplier_dashboard"):a("leads"))},[e,n]);const u=async()=>{await t(),r("/login")},f=(v=>{if(!v)return[];const x=[];v!=="subscriber"&&x.push({id:"leads",label:"Leads",icon:v8}),["originator","coordinator","manager","admin","super_admin"].includes(v)&&(v==="originator"?(x.push({id:"originator_dashboard",label:"Minhas Comisses",icon:rg}),x.push({id:"originators_list",label:"Equipe",icon:w_})):x.push({id:"originators_list",label:"Originadores",icon:w_})),v!=="lead"&&(v==="subscriber"?x.push({id:"subscriber_dashboard",label:"Meu Painel",icon:rg}):x.push({id:"subscribers_list",label:"Assinantes",icon:Rk})),v!=="lead"&&v!=="subscriber"&&x.push({id:"consumer_units",label:"Unidades Consumidoras",icon:l8}),x.push({id:"invoices",label:"Faturas",icon:fi});const y=["supplier","manager","admin","super_admin"];return y.includes(v)&&(v==="supplier"?x.push({id:"supplier_dashboard",label:"Meu Painel",icon:rg}):x.push({id:"suppliers_list",label:"Fornecedores",icon:R8})),y.includes(v)&&x.push({id:"power_plants",label:"Usinas",icon:Xh}),["supplier","manager","admin","super_admin"].includes(v)&&x.push({id:"billing",label:"Billing",icon:Gh}),["admin","super_admin"].includes(v)&&x.push({id:"settings",label:"Configuraes",icon:Nk}),x})(e==null?void 0:e.role),h=()=>{if(!e)return l.jsx("p",{children:"Carregando perfil..."});switch(n){case"admin":return l.jsx(X8,{});case"subscriber_dashboard":return l.jsx(Z8,{});case"originator_dashboard":return l.jsx(J8,{});case"supplier_dashboard":return l.jsx(Q8,{});case"leads":return l.jsx(t$,{});case"subscribers_list":return l.jsx(r$,{});case"originators_list":return l.jsx(a$,{});case"suppliers_list":return l.jsx(o$,{});case"power_plants":return l.jsx(are,{});case"consumer_units":return l.jsx(sre,{});case"invoices":return l.jsx(ire,{});case"billing":return l.jsx(cre,{});case"settings":return l.jsx(dre,{});default:return l.jsxs("div",{style:{padding:"2rem"},children:[l.jsxs("h2",{children:["Bem-vindo, ",e==null?void 0:e.name]}),l.jsx("p",{children:"Selecione uma opo no menu."})]})}};return l.jsxs("div",{className:"dashboard-container",children:[l.jsx("button",{className:"menu-toggle",onClick:()=>o(!i),children:l.jsx(b8,{size:24})}),i&&l.jsx("div",{className:"modal-overlay",style:{zIndex:999,backdropFilter:"none"},onClick:()=>o(!1)}),l.jsxs("aside",{className:`sidebar ${i?"open":""} ${s?"collapsed":""}`,children:[l.jsxs("div",{className:"sidebar-header",style:{justifyContent:s?"center":"space-between"},children:[!s&&l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[l.jsx("img",{src:"https://b2wenergia.com.br/wp-content/uploads/2025/12/Logo-Laranja-estreito.png",alt:"B2W Energia",style:{height:"35px",objectFit:"contain"}}),l.jsx("span",{style:{color:"white",fontWeight:"bold",fontSize:"1.2rem"},children:"B2W Energia"})]}),l.jsx("button",{onClick:()=>c(!s),style:{background:"transparent",color:"white",border:"none",cursor:"pointer",display:i?"none":"block"},className:"desktop-only-btn",children:s?l.jsx(LI,{size:20}):l.jsx(II,{size:20})})]}),l.jsx("nav",{style:{flex:1,overflowY:"auto"},children:l.jsx("ul",{style:{listStyle:"none"},children:f.map(v=>{const x=v.icon;return l.jsx("li",{style:{marginBottom:"0.25rem"},children:l.jsxs("button",{onClick:()=>{a(v.id),o(!1)},title:s?v.label:"",className:`sidebar-link ${n===v.id?"active":""}`,style:{justifyContent:s?"center":"flex-start"},children:[l.jsx(x,{size:20,style:{marginRight:s?0:"0.75rem",flexShrink:0}}),!s&&l.jsx("span",{children:v.label})]})},v.id)})})}),l.jsxs("div",{className:"sidebar-footer",children:[!s&&l.jsxs("div",{style:{marginBottom:"1rem",padding:"0 0.5rem"},children:[l.jsx("p",{style:{fontWeight:"bold",fontSize:"0.9rem"},children:e==null?void 0:e.name}),l.jsx("p",{style:{opacity:.7,fontSize:"0.75rem"},children:(m=e==null?void 0:e.role)==null?void 0:m.replace("_"," ").toUpperCase()})]}),l.jsxs("button",{onClick:u,title:"Sair",className:"sidebar-footer-btn",style:{justifyContent:s?"center":"flex-start"},children:[l.jsx(h8,{size:20,style:{marginRight:s?0:"0.5rem"}}),!s&&l.jsx("span",{children:"Sair"})]})]})]}),l.jsx("main",{className:"main-content",children:h()})]})}function hre(){const[e]=G0(),t=yi(),r=e.get("id"),[n,a]=p.useState("simulation"),[i,o]=p.useState(!1),[s,c]=p.useState(null),[u,d]=p.useState(null),[f,h]=p.useState(null),[m,v]=p.useState({cep:"",nome:"",email:"",telefone:"",consumo:"",rua:"",numero:"",bairro:"",cidade:"",uf:"",cpf_cnpj:"",numero_uc:""}),x=async()=>{if(m.cep.length>=8)try{o(!0);const g=await mn(m.cep);if(v(w=>({...w,rua:g.rua||"",bairro:g.bairro||"",cidade:g.cidade||"",uf:g.uf||""})),g.ibge){const w=await Qc(g.ibge);d(w)}}catch(g){console.error(g),alert("Erro ao buscar CEP")}finally{o(!1)}},b=async g=>{if(g.preventDefault(),!eo(m.telefone)){alert("Telefone invlido! Digite o DDD + 9 dgitos.");return}o(!0);try{const w=u&&u["Tarifa Concessionaria"]||.85,_=u&&u["Desconto Assinante"]||.1,S=parseFloat(m.consumo)*w,j=S*_;c({contaAtual:S,economiaMensal:j,anual:j*12});const{data:C,error:E}=await $.from("leads").insert({name:m.nome,email:m.email,phone:m.telefone,address:{cep:m.cep,rua:m.rua,cidade:m.cidade,uf:m.uf},consumo_kwh:parseFloat(m.consumo),concessionaria:u==null?void 0:u.Concessionaria,tarifa_concessionaria:w,desconto_assinante:_,originator_id:r,status:"indicado"}).select().single();if(E)throw E;h(C.id),a("signup")}catch(w){alert("Erro na simulao: "+w.message)}finally{o(!1)}},y=async g=>{if(g.preventDefault(),!nu(m.cpf_cnpj)){alert("CPF/CNPJ invlido!");return}if(!eo(m.telefone)){alert("Telefone invlido!");return}o(!0);try{const{data:w,error:_}=await $.from("subscribers").insert({name:m.nome,cpf_cnpj:m.cpf_cnpj,email:m.email,phone:m.telefone,status:"ativacao",originator_id:r}).select().single();if(_)throw _;const{error:S}=await $.from("consumer_units").insert({subscriber_id:w.id,numero_uc:m.numero_uc,concessionaria:u==null?void 0:u.Concessionaria,status:"ativacao",address:{cep:m.cep,rua:m.rua,numero:m.numero,bairro:m.bairro,cidade:m.cidade,uf:m.uf},titular_conta:m.nome});if(S)throw S;f&&await $.from("leads").update({status:"convertido"}).eq("id",f),alert("Cadastro realizado com sucesso! Em breve entraremos em contato."),t("/login")}catch(w){alert("Erro ao finalizar cadastro: "+w.message)}finally{o(!1)}};return l.jsx("div",{style:{minHeight:"100vh",padding:"2rem",backgroundColor:"#f3f4f6",display:"flex",justifyContent:"center"},children:l.jsxs("div",{style:{maxWidth:"600px",width:"100%",background:"white",padding:"2rem",borderRadius:"8px",boxShadow:"0 4px 10px rgba(0,0,0,0.1)"},children:[l.jsxs("div",{style:{textAlign:"center",marginBottom:"2rem"},children:[l.jsx("h1",{style:{color:"var(--color-blue)",marginBottom:"0.5rem"},children:"B2W Energia"}),l.jsx("p",{style:{color:"#666"},children:"Economize na sua conta de luz sem investimento."})]}),n==="simulation"?l.jsxs("form",{onSubmit:b,children:[l.jsx("h2",{style:{marginBottom:"1.5rem",fontSize:"1.2rem",color:"#333"},children:"Simule sua Economia"}),l.jsxs("div",{style:{marginBottom:"1rem"},children:[l.jsx("label",{style:{display:"block",marginBottom:"0.3rem",fontSize:"0.9rem"},children:"CEP"}),l.jsx("input",{value:m.cep,onChange:g=>v({...m,cep:g.target.value}),onBlur:x,placeholder:"00000-000",style:{width:"100%",padding:"0.75rem",borderRadius:"4px",border:"1px solid #ddd"},required:!0})]}),m.cidade&&l.jsxs("div",{style:{marginBottom:"1rem",padding:"0.75rem",background:"#ecfdf5",borderRadius:"4px",color:"#065f46",fontSize:"0.9rem"},children:[" ",m.cidade," - ",m.uf,u&&l.jsxs("span",{style:{display:"block",fontWeight:"bold"},children:[" ",u.Concessionaria]})]}),l.jsxs("div",{style:{marginBottom:"1rem"},children:[l.jsx("label",{style:{display:"block",marginBottom:"0.3rem",fontSize:"0.9rem"},children:"Nome Completo"}),l.jsx("input",{value:m.nome,onChange:g=>v({...m,nome:g.target.value}),style:{width:"100%",padding:"0.75rem",borderRadius:"4px",border:"1px solid #ddd"},required:!0})]}),l.jsxs("div",{style:{marginBottom:"1rem"},children:[l.jsx("label",{style:{display:"block",marginBottom:"0.3rem",fontSize:"0.9rem"},children:"Email"}),l.jsx("input",{type:"email",value:m.email,onChange:g=>v({...m,email:g.target.value}),style:{width:"100%",padding:"0.75rem",borderRadius:"4px",border:"1px solid #ddd"},required:!0})]}),l.jsxs("div",{style:{marginBottom:"1rem"},children:[l.jsx("label",{style:{display:"block",marginBottom:"0.3rem",fontSize:"0.9rem"},children:"Telefone"}),l.jsx("input",{value:m.telefone,onChange:g=>v({...m,telefone:hi(g.target.value)}),placeholder:"(00) 00000-0000",style:{width:"100%",padding:"0.75rem",borderRadius:"4px",border:"1px solid #ddd"},required:!0})]}),l.jsxs("div",{style:{marginBottom:"1.5rem"},children:[l.jsx("label",{style:{display:"block",marginBottom:"0.3rem",fontSize:"0.9rem"},children:"Mdia de Consumo (kWh)"}),l.jsx("input",{type:"number",value:m.consumo,onChange:g=>v({...m,consumo:g.target.value}),placeholder:"Ex: 500",style:{width:"100%",padding:"0.75rem",borderRadius:"4px",border:"1px solid #ddd"},required:!0})]}),l.jsx("button",{type:"submit",disabled:i,style:{width:"100%",padding:"1rem",background:"var(--color-orange)",color:"white",border:"none",borderRadius:"4px",fontSize:"1rem",fontWeight:"bold",cursor:"pointer"},children:i?"Calculando...":"VER MINHA ECONOMIA"})]}):l.jsxs("form",{onSubmit:y,children:[s&&l.jsxs("div",{style:{textAlign:"center",marginBottom:"2rem",padding:"1.5rem",background:"#ecfdf5",borderRadius:"8px",border:"1px solid #a7f3d0"},children:[l.jsx("div",{style:{fontSize:"0.9rem",color:"#065f46"},children:"Economia Anual Estimada"}),l.jsxs("div",{style:{fontSize:"2rem",fontWeight:"bold",color:"#059669"},children:["R$ ",s.anual.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),l.jsx("h2",{style:{marginBottom:"1.5rem",fontSize:"1.2rem",color:"#333"},children:"Finalizar Cadastro"}),l.jsxs("div",{style:{marginBottom:"1rem"},children:[l.jsx("label",{style:{display:"block",marginBottom:"0.3rem",fontSize:"0.9rem"},children:"CPF / CNPJ"}),l.jsx("input",{value:m.cpf_cnpj,onChange:g=>v({...m,cpf_cnpj:ru(g.target.value)}),placeholder:"000.000.000-00",style:{width:"100%",padding:"0.75rem",borderRadius:"4px",border:"1px solid #ddd"},required:!0})]}),l.jsxs("div",{style:{marginBottom:"1rem"},children:[l.jsx("label",{style:{display:"block",marginBottom:"0.3rem",fontSize:"0.9rem"},children:"Confirme seu Nome"}),l.jsx("input",{value:m.nome,onChange:g=>v({...m,nome:g.target.value}),style:{width:"100%",padding:"0.75rem",borderRadius:"4px",border:"1px solid #ddd"},required:!0})]}),l.jsxs("div",{style:{marginBottom:"1rem"},children:[l.jsx("label",{style:{display:"block",marginBottom:"0.3rem",fontSize:"0.9rem"},children:"Confirme seu Email"}),l.jsx("input",{type:"email",value:m.email,onChange:g=>v({...m,email:g.target.value}),style:{width:"100%",padding:"0.75rem",borderRadius:"4px",border:"1px solid #ddd"},required:!0})]}),l.jsxs("div",{style:{marginBottom:"1rem"},children:[l.jsx("label",{style:{display:"block",marginBottom:"0.3rem",fontSize:"0.9rem"},children:"Confirme seu Telefone"}),l.jsx("input",{value:m.telefone,onChange:g=>v({...m,telefone:hi(g.target.value)}),style:{width:"100%",padding:"0.75rem",borderRadius:"4px",border:"1px solid #ddd"},required:!0})]}),l.jsxs("div",{style:{marginBottom:"1rem",display:"flex",gap:"1rem"},children:[l.jsxs("div",{style:{flex:1},children:[l.jsx("label",{style:{display:"block",marginBottom:"0.3rem",fontSize:"0.9rem"},children:"Rua"}),l.jsx("input",{value:m.rua,disabled:!0,style:{width:"100%",padding:"0.75rem",background:"#f9f9f9",border:"1px solid #eee"}})]}),l.jsxs("div",{style:{width:"100px"},children:[l.jsx("label",{style:{display:"block",marginBottom:"0.3rem",fontSize:"0.9rem"},children:"Nmero"}),l.jsx("input",{value:m.numero,onChange:g=>v({...m,numero:g.target.value}),style:{width:"100%",padding:"0.75rem",borderRadius:"4px",border:"1px solid #ddd"},required:!0})]})]}),l.jsxs("div",{style:{marginBottom:"1.5rem"},children:[l.jsx("label",{style:{display:"block",marginBottom:"0.3rem",fontSize:"0.9rem"},children:"Nmero da UC (Instalao)"}),l.jsx("input",{value:m.numero_uc,onChange:g=>v({...m,numero_uc:g.target.value}),placeholder:"Encontrado na sua conta de luz",style:{width:"100%",padding:"0.75rem",borderRadius:"4px",border:"1px solid #ddd"},required:!0})]}),l.jsx("button",{type:"submit",disabled:i,style:{width:"100%",padding:"1rem",background:"var(--color-blue)",color:"white",border:"none",borderRadius:"4px",fontSize:"1rem",fontWeight:"bold",cursor:"pointer"},children:i?"Finalizando...":"FINALIZAR ASSINATURA"})]})]})})}const mre=()=>{const{user:e}=pn();return e?l.jsx(U3,{}):l.jsx(w2,{to:"/login",replace:!0})};function pre(){return l.jsx(K3,{children:l.jsx(B8,{children:l.jsx(Y8,{children:l.jsxs(W3,{children:[l.jsx(wn,{path:"/login",element:l.jsx(wI,{})}),l.jsx(wn,{path:"/simulacao",element:l.jsx($8,{})}),l.jsx(wn,{path:"/cadastro-parceiro",element:l.jsx(q8,{})}),l.jsx(wn,{path:"/assine",element:l.jsx(G8,{})}),l.jsx(wn,{path:"/originador",element:l.jsx(hre,{})}),l.jsx(wn,{path:"/contrato",element:l.jsx(K8,{})}),l.jsx(wn,{element:l.jsx(mre,{}),children:l.jsx(wn,{path:"/dashboard",element:l.jsx(fre,{})})}),l.jsx(wn,{path:"/",element:l.jsx(w2,{to:"/login",replace:!0})})]})})})})}Yz.createRoot(document.getElementById("root")).render(l.jsx(p.StrictMode,{children:l.jsx(pre,{})}));
