var e5=Object.defineProperty;var t5=(e,t,r)=>t in e?e5(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var cp=(e,t,r)=>t5(e,typeof t!="symbol"?t+"":t,r);function hE(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(n,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();function ga(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function mE(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var a=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,a.get?a:{enumerable:!0,get:function(){return e[n]}})}),r}var pE={exports:{}},Ch={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r5=Symbol.for("react.transitional.element"),n5=Symbol.for("react.fragment");function gE(e,t,r){var n=null;if(r!==void 0&&(n=""+r),t.key!==void 0&&(n=""+t.key),"key"in t){r={};for(var a in t)a!=="key"&&(r[a]=t[a])}else r=t;return t=r.ref,{$$typeof:r5,type:e,key:n,ref:t!==void 0?t:null,props:r}}Ch.Fragment=n5;Ch.jsx=gE;Ch.jsxs=gE;pE.exports=Ch;var l=pE.exports,vE={exports:{}},oe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vy=Symbol.for("react.transitional.element"),a5=Symbol.for("react.portal"),i5=Symbol.for("react.fragment"),o5=Symbol.for("react.strict_mode"),s5=Symbol.for("react.profiler"),l5=Symbol.for("react.consumer"),c5=Symbol.for("react.context"),u5=Symbol.for("react.forward_ref"),d5=Symbol.for("react.suspense"),f5=Symbol.for("react.memo"),yE=Symbol.for("react.lazy"),h5=Symbol.for("react.activity"),v1=Symbol.iterator;function m5(e){return e===null||typeof e!="object"?null:(e=v1&&e[v1]||e["@@iterator"],typeof e=="function"?e:null)}var bE={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},xE=Object.assign,wE={};function Ds(e,t,r){this.props=e,this.context=t,this.refs=wE,this.updater=r||bE}Ds.prototype.isReactComponent={};Ds.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Ds.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function _E(){}_E.prototype=Ds.prototype;function Ky(e,t,r){this.props=e,this.context=t,this.refs=wE,this.updater=r||bE}var Gy=Ky.prototype=new _E;Gy.constructor=Ky;xE(Gy,Ds.prototype);Gy.isPureReactComponent=!0;var y1=Array.isArray;function Rg(){}var ze={H:null,A:null,T:null,S:null},jE=Object.prototype.hasOwnProperty;function Yy(e,t,r){var n=r.ref;return{$$typeof:Vy,type:e,key:t,ref:n!==void 0?n:null,props:r}}function p5(e,t){return Yy(e.type,t,e.props)}function Xy(e){return typeof e=="object"&&e!==null&&e.$$typeof===Vy}function g5(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var b1=/\/+/g;function up(e,t){return typeof e=="object"&&e!==null&&e.key!=null?g5(""+e.key):t.toString(36)}function v5(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch(typeof e.status=="string"?e.then(Rg,Rg):(e.status="pending",e.then(function(t){e.status==="pending"&&(e.status="fulfilled",e.value=t)},function(t){e.status==="pending"&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}function Do(e,t,r,n,a){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var o=!1;if(e===null)o=!0;else switch(i){case"bigint":case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case Vy:case a5:o=!0;break;case yE:return o=e._init,Do(o(e._payload),t,r,n,a)}}if(o)return a=a(e),o=n===""?"."+up(e,0):n,y1(a)?(r="",o!=null&&(r=o.replace(b1,"$&/")+"/"),Do(a,t,r,"",function(u){return u})):a!=null&&(Xy(a)&&(a=p5(a,r+(a.key==null||e&&e.key===a.key?"":(""+a.key).replace(b1,"$&/")+"/")+o)),t.push(a)),1;o=0;var s=n===""?".":n+":";if(y1(e))for(var c=0;c<e.length;c++)n=e[c],i=s+up(n,c),o+=Do(n,t,r,i,a);else if(c=m5(e),typeof c=="function")for(e=c.call(e),c=0;!(n=e.next()).done;)n=n.value,i=s+up(n,c++),o+=Do(n,t,r,i,a);else if(i==="object"){if(typeof e.then=="function")return Do(v5(e),t,r,n,a);throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return o}function Ru(e,t,r){if(e==null)return e;var n=[],a=0;return Do(e,n,"","",function(i){return t.call(r,i,a++)}),n}function y5(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var x1=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},b5={map:Ru,forEach:function(e,t,r){Ru(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Ru(e,function(){t++}),t},toArray:function(e){return Ru(e,function(t){return t})||[]},only:function(e){if(!Xy(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};oe.Activity=h5;oe.Children=b5;oe.Component=Ds;oe.Fragment=i5;oe.Profiler=s5;oe.PureComponent=Ky;oe.StrictMode=o5;oe.Suspense=d5;oe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ze;oe.__COMPILER_RUNTIME={__proto__:null,c:function(e){return ze.H.useMemoCache(e)}};oe.cache=function(e){return function(){return e.apply(null,arguments)}};oe.cacheSignal=function(){return null};oe.cloneElement=function(e,t,r){if(e==null)throw Error("The argument must be a React element, but you passed "+e+".");var n=xE({},e.props),a=e.key;if(t!=null)for(i in t.key!==void 0&&(a=""+t.key),t)!jE.call(t,i)||i==="key"||i==="__self"||i==="__source"||i==="ref"&&t.ref===void 0||(n[i]=t[i]);var i=arguments.length-2;if(i===1)n.children=r;else if(1<i){for(var o=Array(i),s=0;s<i;s++)o[s]=arguments[s+2];n.children=o}return Yy(e.type,a,n)};oe.createContext=function(e){return e={$$typeof:c5,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider=e,e.Consumer={$$typeof:l5,_context:e},e};oe.createElement=function(e,t,r){var n,a={},i=null;if(t!=null)for(n in t.key!==void 0&&(i=""+t.key),t)jE.call(t,n)&&n!=="key"&&n!=="__self"&&n!=="__source"&&(a[n]=t[n]);var o=arguments.length-2;if(o===1)a.children=r;else if(1<o){for(var s=Array(o),c=0;c<o;c++)s[c]=arguments[c+2];a.children=s}if(e&&e.defaultProps)for(n in o=e.defaultProps,o)a[n]===void 0&&(a[n]=o[n]);return Yy(e,i,a)};oe.createRef=function(){return{current:null}};oe.forwardRef=function(e){return{$$typeof:u5,render:e}};oe.isValidElement=Xy;oe.lazy=function(e){return{$$typeof:yE,_payload:{_status:-1,_result:e},_init:y5}};oe.memo=function(e,t){return{$$typeof:f5,type:e,compare:t===void 0?null:t}};oe.startTransition=function(e){var t=ze.T,r={};ze.T=r;try{var n=e(),a=ze.S;a!==null&&a(r,n),typeof n=="object"&&n!==null&&typeof n.then=="function"&&n.then(Rg,x1)}catch(i){x1(i)}finally{t!==null&&r.types!==null&&(t.types=r.types),ze.T=t}};oe.unstable_useCacheRefresh=function(){return ze.H.useCacheRefresh()};oe.use=function(e){return ze.H.use(e)};oe.useActionState=function(e,t,r){return ze.H.useActionState(e,t,r)};oe.useCallback=function(e,t){return ze.H.useCallback(e,t)};oe.useContext=function(e){return ze.H.useContext(e)};oe.useDebugValue=function(){};oe.useDeferredValue=function(e,t){return ze.H.useDeferredValue(e,t)};oe.useEffect=function(e,t){return ze.H.useEffect(e,t)};oe.useEffectEvent=function(e){return ze.H.useEffectEvent(e)};oe.useId=function(){return ze.H.useId()};oe.useImperativeHandle=function(e,t,r){return ze.H.useImperativeHandle(e,t,r)};oe.useInsertionEffect=function(e,t){return ze.H.useInsertionEffect(e,t)};oe.useLayoutEffect=function(e,t){return ze.H.useLayoutEffect(e,t)};oe.useMemo=function(e,t){return ze.H.useMemo(e,t)};oe.useOptimistic=function(e,t){return ze.H.useOptimistic(e,t)};oe.useReducer=function(e,t,r){return ze.H.useReducer(e,t,r)};oe.useRef=function(e){return ze.H.useRef(e)};oe.useState=function(e){return ze.H.useState(e)};oe.useSyncExternalStore=function(e,t,r){return ze.H.useSyncExternalStore(e,t,r)};oe.useTransition=function(){return ze.H.useTransition()};oe.version="19.2.3";vE.exports=oe;var p=vE.exports;const Ce=ga(p),SE=hE({__proto__:null,default:Ce},[p]);var CE={exports:{}},Eh={},EE={exports:{}},OE={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(O,N){var D=O.length;O.push(N);e:for(;0<D;){var M=D-1>>>1,L=O[M];if(0<a(L,N))O[M]=N,O[D]=L,D=M;else break e}}function r(O){return O.length===0?null:O[0]}function n(O){if(O.length===0)return null;var N=O[0],D=O.pop();if(D!==N){O[0]=D;e:for(var M=0,L=O.length,V=L>>>1;M<V;){var K=2*(M+1)-1,Q=O[K],ee=K+1,re=O[ee];if(0>a(Q,D))ee<L&&0>a(re,Q)?(O[M]=re,O[ee]=D,M=ee):(O[M]=Q,O[K]=D,M=K);else if(ee<L&&0>a(re,D))O[M]=re,O[ee]=D,M=ee;else break e}}return N}function a(O,N){var D=O.sortIndex-N.sortIndex;return D!==0?D:O.id-N.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var o=Date,s=o.now();e.unstable_now=function(){return o.now()-s}}var c=[],u=[],d=1,f=null,h=3,m=!1,v=!1,x=!1,b=!1,y=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;function _(O){for(var N=r(u);N!==null;){if(N.callback===null)n(u);else if(N.startTime<=O)n(u),N.sortIndex=N.expirationTime,t(c,N);else break;N=r(u)}}function j(O){if(x=!1,_(O),!v)if(r(c)!==null)v=!0,S||(S=!0,k());else{var N=r(u);N!==null&&H(j,N.startTime-O)}}var S=!1,C=-1,E=5,T=-1;function A(){return b?!0:!(e.unstable_now()-T<E)}function R(){if(b=!1,S){var O=e.unstable_now();T=O;var N=!0;try{e:{v=!1,x&&(x=!1,g(C),C=-1),m=!0;var D=h;try{t:{for(_(O),f=r(c);f!==null&&!(f.expirationTime>O&&A());){var M=f.callback;if(typeof M=="function"){f.callback=null,h=f.priorityLevel;var L=M(f.expirationTime<=O);if(O=e.unstable_now(),typeof L=="function"){f.callback=L,_(O),N=!0;break t}f===r(c)&&n(c),_(O)}else n(c);f=r(c)}if(f!==null)N=!0;else{var V=r(u);V!==null&&H(j,V.startTime-O),N=!1}}break e}finally{f=null,h=D,m=!1}N=void 0}}finally{N?k():S=!1}}}var k;if(typeof w=="function")k=function(){w(R)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,$=z.port2;z.port1.onmessage=R,k=function(){$.postMessage(null)}}else k=function(){y(R,0)};function H(O,N){C=y(function(){O(e.unstable_now())},N)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(O){O.callback=null},e.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<O?Math.floor(1e3/O):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_next=function(O){switch(h){case 1:case 2:case 3:var N=3;break;default:N=h}var D=h;h=N;try{return O()}finally{h=D}},e.unstable_requestPaint=function(){b=!0},e.unstable_runWithPriority=function(O,N){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var D=h;h=O;try{return N()}finally{h=D}},e.unstable_scheduleCallback=function(O,N,D){var M=e.unstable_now();switch(typeof D=="object"&&D!==null?(D=D.delay,D=typeof D=="number"&&0<D?M+D:M):D=M,O){case 1:var L=-1;break;case 2:L=250;break;case 5:L=1073741823;break;case 4:L=1e4;break;default:L=5e3}return L=D+L,O={id:d++,callback:N,priorityLevel:O,startTime:D,expirationTime:L,sortIndex:-1},D>M?(O.sortIndex=D,t(u,O),r(c)===null&&O===r(u)&&(x?(g(C),C=-1):x=!0,H(j,D-M))):(O.sortIndex=L,t(c,O),v||m||(v=!0,S||(S=!0,k()))),O},e.unstable_shouldYield=A,e.unstable_wrapCallback=function(O){var N=h;return function(){var D=h;h=N;try{return O.apply(this,arguments)}finally{h=D}}}})(OE);EE.exports=OE;var x5=EE.exports,AE={exports:{}},Gt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var w5=p;function kE(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Na(){}var Ht={d:{f:Na,r:function(){throw Error(kE(522))},D:Na,C:Na,L:Na,m:Na,X:Na,S:Na,M:Na},p:0,findDOMNode:null},_5=Symbol.for("react.portal");function j5(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:_5,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}var Dl=w5.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function Oh(e,t){if(e==="font")return"";if(typeof t=="string")return t==="use-credentials"?t:""}Gt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Ht;Gt.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)throw Error(kE(299));return j5(e,t,null,r)};Gt.flushSync=function(e){var t=Dl.T,r=Ht.p;try{if(Dl.T=null,Ht.p=2,e)return e()}finally{Dl.T=t,Ht.p=r,Ht.d.f()}};Gt.preconnect=function(e,t){typeof e=="string"&&(t?(t=t.crossOrigin,t=typeof t=="string"?t==="use-credentials"?t:"":void 0):t=null,Ht.d.C(e,t))};Gt.prefetchDNS=function(e){typeof e=="string"&&Ht.d.D(e)};Gt.preinit=function(e,t){if(typeof e=="string"&&t&&typeof t.as=="string"){var r=t.as,n=Oh(r,t.crossOrigin),a=typeof t.integrity=="string"?t.integrity:void 0,i=typeof t.fetchPriority=="string"?t.fetchPriority:void 0;r==="style"?Ht.d.S(e,typeof t.precedence=="string"?t.precedence:void 0,{crossOrigin:n,integrity:a,fetchPriority:i}):r==="script"&&Ht.d.X(e,{crossOrigin:n,integrity:a,fetchPriority:i,nonce:typeof t.nonce=="string"?t.nonce:void 0})}};Gt.preinitModule=function(e,t){if(typeof e=="string")if(typeof t=="object"&&t!==null){if(t.as==null||t.as==="script"){var r=Oh(t.as,t.crossOrigin);Ht.d.M(e,{crossOrigin:r,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0})}}else t==null&&Ht.d.M(e)};Gt.preload=function(e,t){if(typeof e=="string"&&typeof t=="object"&&t!==null&&typeof t.as=="string"){var r=t.as,n=Oh(r,t.crossOrigin);Ht.d.L(e,r,{crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0,type:typeof t.type=="string"?t.type:void 0,fetchPriority:typeof t.fetchPriority=="string"?t.fetchPriority:void 0,referrerPolicy:typeof t.referrerPolicy=="string"?t.referrerPolicy:void 0,imageSrcSet:typeof t.imageSrcSet=="string"?t.imageSrcSet:void 0,imageSizes:typeof t.imageSizes=="string"?t.imageSizes:void 0,media:typeof t.media=="string"?t.media:void 0})}};Gt.preloadModule=function(e,t){if(typeof e=="string")if(t){var r=Oh(t.as,t.crossOrigin);Ht.d.m(e,{as:typeof t.as=="string"&&t.as!=="script"?t.as:void 0,crossOrigin:r,integrity:typeof t.integrity=="string"?t.integrity:void 0})}else Ht.d.m(e)};Gt.requestFormReset=function(e){Ht.d.r(e)};Gt.unstable_batchedUpdates=function(e,t){return e(t)};Gt.useFormState=function(e,t,r){return Dl.H.useFormState(e,t,r)};Gt.useFormStatus=function(){return Dl.H.useHostTransitionStatus()};Gt.version="19.2.3";function TE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(TE)}catch(e){console.error(e)}}TE(),AE.exports=Gt;var Ha=AE.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dt=x5,NE=p,S5=Ha;function W(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function RE(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Ic(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function DE(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function PE(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function w1(e){if(Ic(e)!==e)throw Error(W(188))}function C5(e){var t=e.alternate;if(!t){if(t=Ic(e),t===null)throw Error(W(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(a===null)break;var i=a.alternate;if(i===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===r)return w1(a),e;if(i===n)return w1(a),t;i=i.sibling}throw Error(W(188))}if(r.return!==n.return)r=a,n=i;else{for(var o=!1,s=a.child;s;){if(s===r){o=!0,r=a,n=i;break}if(s===n){o=!0,n=a,r=i;break}s=s.sibling}if(!o){for(s=i.child;s;){if(s===r){o=!0,r=i,n=a;break}if(s===n){o=!0,n=i,r=a;break}s=s.sibling}if(!o)throw Error(W(189))}}if(r.alternate!==n)throw Error(W(190))}if(r.tag!==3)throw Error(W(188));return r.stateNode.current===r?e:t}function ME(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=ME(e),t!==null)return t;e=e.sibling}return null}var Be=Object.assign,E5=Symbol.for("react.element"),Du=Symbol.for("react.transitional.element"),Cl=Symbol.for("react.portal"),$o=Symbol.for("react.fragment"),zE=Symbol.for("react.strict_mode"),Dg=Symbol.for("react.profiler"),BE=Symbol.for("react.consumer"),Vn=Symbol.for("react.context"),Zy=Symbol.for("react.forward_ref"),Pg=Symbol.for("react.suspense"),Mg=Symbol.for("react.suspense_list"),Jy=Symbol.for("react.memo"),Da=Symbol.for("react.lazy"),zg=Symbol.for("react.activity"),O5=Symbol.for("react.memo_cache_sentinel"),_1=Symbol.iterator;function ul(e){return e===null||typeof e!="object"?null:(e=_1&&e[_1]||e["@@iterator"],typeof e=="function"?e:null)}var A5=Symbol.for("react.client.reference");function Bg(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===A5?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case $o:return"Fragment";case Dg:return"Profiler";case zE:return"StrictMode";case Pg:return"Suspense";case Mg:return"SuspenseList";case zg:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case Cl:return"Portal";case Vn:return e.displayName||"Context";case BE:return(e._context.displayName||"Context")+".Consumer";case Zy:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Jy:return t=e.displayName||null,t!==null?t:Bg(e.type)||"Memo";case Da:t=e._payload,e=e._init;try{return Bg(e(t))}catch{}}return null}var El=Array.isArray,ae=NE.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ve=S5.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Li={pending:!1,data:null,method:null,action:null},Ig=[],Lo=-1;function Rn(e){return{current:e}}function _t(e){0>Lo||(e.current=Ig[Lo],Ig[Lo]=null,Lo--)}function Ne(e,t){Lo++,Ig[Lo]=e.current,e.current=t}var En=Rn(null),tc=Rn(null),Ja=Rn(null),Fd=Rn(null);function Vd(e,t){switch(Ne(Ja,t),Ne(tc,e),Ne(En,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Aw(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Aw(t),e=n2(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}_t(En),Ne(En,e)}function us(){_t(En),_t(tc),_t(Ja)}function $g(e){e.memoizedState!==null&&Ne(Fd,e);var t=En.current,r=n2(t,e.type);t!==r&&(Ne(tc,e),Ne(En,r))}function Kd(e){tc.current===e&&(_t(En),_t(tc)),Fd.current===e&&(_t(Fd),fc._currentValue=Li)}var dp,j1;function Ci(e){if(dp===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);dp=t&&t[1]||"",j1=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+dp+e+j1}var fp=!1;function hp(e,t){if(!e||fp)return"";fp=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var n={DetermineComponentFrameRoot:function(){try{if(t){var f=function(){throw Error()};if(Object.defineProperty(f.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(f,[])}catch(m){var h=m}Reflect.construct(e,[],f)}else{try{f.call()}catch(m){h=m}e.call(f.prototype)}}else{try{throw Error()}catch(m){h=m}(f=e())&&typeof f.catch=="function"&&f.catch(function(){})}}catch(m){if(m&&h&&typeof m.stack=="string")return[m.stack,h.stack]}return[null,null]}};n.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var a=Object.getOwnPropertyDescriptor(n.DetermineComponentFrameRoot,"name");a&&a.configurable&&Object.defineProperty(n.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var i=n.DetermineComponentFrameRoot(),o=i[0],s=i[1];if(o&&s){var c=o.split(`
`),u=s.split(`
`);for(a=n=0;n<c.length&&!c[n].includes("DetermineComponentFrameRoot");)n++;for(;a<u.length&&!u[a].includes("DetermineComponentFrameRoot");)a++;if(n===c.length||a===u.length)for(n=c.length-1,a=u.length-1;1<=n&&0<=a&&c[n]!==u[a];)a--;for(;1<=n&&0<=a;n--,a--)if(c[n]!==u[a]){if(n!==1||a!==1)do if(n--,a--,0>a||c[n]!==u[a]){var d=`
`+c[n].replace(" at new "," at ");return e.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",e.displayName)),d}while(1<=n&&0<=a);break}}}finally{fp=!1,Error.prepareStackTrace=r}return(r=e?e.displayName||e.name:"")?Ci(r):""}function k5(e,t){switch(e.tag){case 26:case 27:case 5:return Ci(e.type);case 16:return Ci("Lazy");case 13:return e.child!==t&&t!==null?Ci("Suspense Fallback"):Ci("Suspense");case 19:return Ci("SuspenseList");case 0:case 15:return hp(e.type,!1);case 11:return hp(e.type.render,!1);case 1:return hp(e.type,!0);case 31:return Ci("Activity");default:return""}}function S1(e){try{var t="",r=null;do t+=k5(e,r),r=e,e=e.return;while(e);return t}catch(n){return`
Error generating stack: `+n.message+`
`+n.stack}}var Lg=Object.prototype.hasOwnProperty,Qy=dt.unstable_scheduleCallback,mp=dt.unstable_cancelCallback,T5=dt.unstable_shouldYield,N5=dt.unstable_requestPaint,xr=dt.unstable_now,R5=dt.unstable_getCurrentPriorityLevel,IE=dt.unstable_ImmediatePriority,$E=dt.unstable_UserBlockingPriority,Gd=dt.unstable_NormalPriority,D5=dt.unstable_LowPriority,LE=dt.unstable_IdlePriority,P5=dt.log,M5=dt.unstable_setDisableYieldValue,$c=null,wr=null;function Fa(e){if(typeof P5=="function"&&M5(e),wr&&typeof wr.setStrictMode=="function")try{wr.setStrictMode($c,e)}catch{}}var _r=Math.clz32?Math.clz32:I5,z5=Math.log,B5=Math.LN2;function I5(e){return e>>>=0,e===0?32:31-(z5(e)/B5|0)|0}var Pu=256,Mu=262144,zu=4194304;function Ei(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Ah(e,t,r){var n=e.pendingLanes;if(n===0)return 0;var a=0,i=e.suspendedLanes,o=e.pingedLanes;e=e.warmLanes;var s=n&134217727;return s!==0?(n=s&~i,n!==0?a=Ei(n):(o&=s,o!==0?a=Ei(o):r||(r=s&~e,r!==0&&(a=Ei(r))))):(s=n&~i,s!==0?a=Ei(s):o!==0?a=Ei(o):r||(r=n&~e,r!==0&&(a=Ei(r)))),a===0?0:t!==0&&t!==a&&!(t&i)&&(i=a&-a,r=t&-t,i>=r||i===32&&(r&4194048)!==0)?t:a}function Lc(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function $5(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function UE(){var e=zu;return zu<<=1,!(zu&62914560)&&(zu=4194304),e}function pp(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Uc(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function L5(e,t,r,n,a,i){var o=e.pendingLanes;e.pendingLanes=r,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=r,e.entangledLanes&=r,e.errorRecoveryDisabledLanes&=r,e.shellSuspendCounter=0;var s=e.entanglements,c=e.expirationTimes,u=e.hiddenUpdates;for(r=o&~r;0<r;){var d=31-_r(r),f=1<<d;s[d]=0,c[d]=-1;var h=u[d];if(h!==null)for(u[d]=null,d=0;d<h.length;d++){var m=h[d];m!==null&&(m.lane&=-536870913)}r&=~f}n!==0&&qE(e,n,0),i!==0&&a===0&&e.tag!==0&&(e.suspendedLanes|=i&~(o&~t))}function qE(e,t,r){e.pendingLanes|=t,e.suspendedLanes&=~t;var n=31-_r(t);e.entangledLanes|=t,e.entanglements[n]=e.entanglements[n]|1073741824|r&261930}function WE(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-_r(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}function HE(e,t){var r=t&-t;return r=r&42?1:e0(r),r&(e.suspendedLanes|t)?0:r}function e0(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function t0(e){return e&=-e,2<e?8<e?e&134217727?32:268435456:8:2}function FE(){var e=ve.p;return e!==0?e:(e=window.event,e===void 0?32:m2(e.type))}function C1(e,t){var r=ve.p;try{return ve.p=e,t()}finally{ve.p=r}}var pi=Math.random().toString(36).slice(2),Nt="__reactFiber$"+pi,ar="__reactProps$"+pi,Ps="__reactContainer$"+pi,Ug="__reactEvents$"+pi,U5="__reactListeners$"+pi,q5="__reactHandles$"+pi,E1="__reactResources$"+pi,qc="__reactMarker$"+pi;function r0(e){delete e[Nt],delete e[ar],delete e[Ug],delete e[U5],delete e[q5]}function Uo(e){var t=e[Nt];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Ps]||r[Nt]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Dw(e);e!==null;){if(r=e[Nt])return r;e=Dw(e)}return t}e=r,r=e.parentNode}return null}function Ms(e){if(e=e[Nt]||e[Ps]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function Ol(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(W(33))}function Qo(e){var t=e[E1];return t||(t=e[E1]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function wt(e){e[qc]=!0}var VE=new Set,KE={};function lo(e,t){ds(e,t),ds(e+"Capture",t)}function ds(e,t){for(KE[e]=t,e=0;e<t.length;e++)VE.add(t[e])}var W5=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),O1={},A1={};function H5(e){return Lg.call(A1,e)?!0:Lg.call(O1,e)?!1:W5.test(e)?A1[e]=!0:(O1[e]=!0,!1)}function Sd(e,t,r){if(H5(t))if(r===null)e.removeAttribute(t);else{switch(typeof r){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var n=t.toLowerCase().slice(0,5);if(n!=="data-"&&n!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+r)}}function Bu(e,t,r){if(r===null)e.removeAttribute(t);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+r)}}function Mn(e,t,r,n){if(n===null)e.removeAttribute(r);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(r);return}e.setAttributeNS(t,r,""+n)}}function Mr(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function GE(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function F5(e,t,r){var n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var a=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function qg(e){if(!e._valueTracker){var t=GE(e)?"checked":"value";e._valueTracker=F5(e,t,""+e[t])}}function YE(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=GE(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Yd(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var V5=/[\n"\\]/g;function Ir(e){return e.replace(V5,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Wg(e,t,r,n,a,i,o,s){e.name="",o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"?e.type=o:e.removeAttribute("type"),t!=null?o==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Mr(t)):e.value!==""+Mr(t)&&(e.value=""+Mr(t)):o!=="submit"&&o!=="reset"||e.removeAttribute("value"),t!=null?Hg(e,o,Mr(t)):r!=null?Hg(e,o,Mr(r)):n!=null&&e.removeAttribute("value"),a==null&&i!=null&&(e.defaultChecked=!!i),a!=null&&(e.checked=a&&typeof a!="function"&&typeof a!="symbol"),s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"?e.name=""+Mr(s):e.removeAttribute("name")}function XE(e,t,r,n,a,i,o,s){if(i!=null&&typeof i!="function"&&typeof i!="symbol"&&typeof i!="boolean"&&(e.type=i),t!=null||r!=null){if(!(i!=="submit"&&i!=="reset"||t!=null)){qg(e);return}r=r!=null?""+Mr(r):"",t=t!=null?""+Mr(t):r,s||t===e.value||(e.value=t),e.defaultValue=t}n=n??a,n=typeof n!="function"&&typeof n!="symbol"&&!!n,e.checked=s?e.checked:!!n,e.defaultChecked=!!n,o!=null&&typeof o!="function"&&typeof o!="symbol"&&typeof o!="boolean"&&(e.name=o),qg(e)}function Hg(e,t,r){t==="number"&&Yd(e.ownerDocument)===e||e.defaultValue===""+r||(e.defaultValue=""+r)}function es(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Mr(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,n&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function ZE(e,t,r){if(t!=null&&(t=""+Mr(t),t!==e.value&&(e.value=t),r==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=r!=null?""+Mr(r):""}function JE(e,t,r,n){if(t==null){if(n!=null){if(r!=null)throw Error(W(92));if(El(n)){if(1<n.length)throw Error(W(93));n=n[0]}r=n}r==null&&(r=""),t=r}r=Mr(t),e.defaultValue=r,n=e.textContent,n===r&&n!==""&&n!==null&&(e.value=n),qg(e)}function fs(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var K5=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function k1(e,t,r){var n=t.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?n?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":n?e.setProperty(t,r):typeof r!="number"||r===0||K5.has(t)?t==="float"?e.cssFloat=r:e[t]=(""+r).trim():e[t]=r+"px"}function QE(e,t,r){if(t!=null&&typeof t!="object")throw Error(W(62));if(e=e.style,r!=null){for(var n in r)!r.hasOwnProperty(n)||t!=null&&t.hasOwnProperty(n)||(n.indexOf("--")===0?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="");for(var a in t)n=t[a],t.hasOwnProperty(a)&&r[a]!==n&&k1(e,a,n)}else for(var i in t)t.hasOwnProperty(i)&&k1(e,i,t[i])}function n0(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var G5=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Y5=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Cd(e){return Y5.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Kn(){}var Fg=null;function a0(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var qo=null,ts=null;function T1(e){var t=Ms(e);if(t&&(e=t.stateNode)){var r=e[ar]||null;e:switch(e=t.stateNode,t.type){case"input":if(Wg(e,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+Ir(""+t)+'"][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=n[ar]||null;if(!a)throw Error(W(90));Wg(n,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name)}}for(t=0;t<r.length;t++)n=r[t],n.form===e.form&&YE(n)}break e;case"textarea":ZE(e,r.value,r.defaultValue);break e;case"select":t=r.value,t!=null&&es(e,!!r.multiple,t,!1)}}}var gp=!1;function eO(e,t,r){if(gp)return e(t,r);gp=!0;try{var n=e(t);return n}finally{if(gp=!1,(qo!==null||ts!==null)&&(Lh(),qo&&(t=qo,e=ts,ts=qo=null,T1(t),e)))for(t=0;t<e.length;t++)T1(e[t])}}function rc(e,t){var r=e.stateNode;if(r===null)return null;var n=r[ar]||null;if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(W(231,t,typeof r));return r}var ra=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Vg=!1;if(ra)try{var dl={};Object.defineProperty(dl,"passive",{get:function(){Vg=!0}}),window.addEventListener("test",dl,dl),window.removeEventListener("test",dl,dl)}catch{Vg=!1}var Va=null,i0=null,Ed=null;function tO(){if(Ed)return Ed;var e,t=i0,r=t.length,n,a="value"in Va?Va.value:Va.textContent,i=a.length;for(e=0;e<r&&t[e]===a[e];e++);var o=r-e;for(n=1;n<=o&&t[r-n]===a[i-n];n++);return Ed=a.slice(e,1<n?1-n:void 0)}function Od(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Iu(){return!0}function N1(){return!1}function ir(e){function t(r,n,a,i,o){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var s in e)e.hasOwnProperty(s)&&(r=e[s],this[s]=r?r(i):i[s]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Iu:N1,this.isPropagationStopped=N1,this}return Be(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Iu)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Iu)},persist:function(){},isPersistent:Iu}),t}var co={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},kh=ir(co),Wc=Be({},co,{view:0,detail:0}),X5=ir(Wc),vp,yp,fl,Th=Be({},Wc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:o0,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==fl&&(fl&&e.type==="mousemove"?(vp=e.screenX-fl.screenX,yp=e.screenY-fl.screenY):yp=vp=0,fl=e),vp)},movementY:function(e){return"movementY"in e?e.movementY:yp}}),R1=ir(Th),Z5=Be({},Th,{dataTransfer:0}),J5=ir(Z5),Q5=Be({},Wc,{relatedTarget:0}),bp=ir(Q5),e4=Be({},co,{animationName:0,elapsedTime:0,pseudoElement:0}),t4=ir(e4),r4=Be({},co,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),n4=ir(r4),a4=Be({},co,{data:0}),D1=ir(a4),i4={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},o4={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},s4={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function l4(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=s4[e])?!!t[e]:!1}function o0(){return l4}var c4=Be({},Wc,{key:function(e){if(e.key){var t=i4[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Od(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?o4[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:o0,charCode:function(e){return e.type==="keypress"?Od(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Od(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),u4=ir(c4),d4=Be({},Th,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),P1=ir(d4),f4=Be({},Wc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:o0}),h4=ir(f4),m4=Be({},co,{propertyName:0,elapsedTime:0,pseudoElement:0}),p4=ir(m4),g4=Be({},Th,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),v4=ir(g4),y4=Be({},co,{newState:0,oldState:0}),b4=ir(y4),x4=[9,13,27,32],s0=ra&&"CompositionEvent"in window,Pl=null;ra&&"documentMode"in document&&(Pl=document.documentMode);var w4=ra&&"TextEvent"in window&&!Pl,rO=ra&&(!s0||Pl&&8<Pl&&11>=Pl),M1=" ",z1=!1;function nO(e,t){switch(e){case"keyup":return x4.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function aO(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Wo=!1;function _4(e,t){switch(e){case"compositionend":return aO(t);case"keypress":return t.which!==32?null:(z1=!0,M1);case"textInput":return e=t.data,e===M1&&z1?null:e;default:return null}}function j4(e,t){if(Wo)return e==="compositionend"||!s0&&nO(e,t)?(e=tO(),Ed=i0=Va=null,Wo=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return rO&&t.locale!=="ko"?null:t.data;default:return null}}var S4={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function B1(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!S4[e.type]:t==="textarea"}function iO(e,t,r,n){qo?ts?ts.push(n):ts=[n]:qo=n,t=mf(t,"onChange"),0<t.length&&(r=new kh("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Ml=null,nc=null;function C4(e){e2(e,0)}function Nh(e){var t=Ol(e);if(YE(t))return e}function I1(e,t){if(e==="change")return t}var oO=!1;if(ra){var xp;if(ra){var wp="oninput"in document;if(!wp){var $1=document.createElement("div");$1.setAttribute("oninput","return;"),wp=typeof $1.oninput=="function"}xp=wp}else xp=!1;oO=xp&&(!document.documentMode||9<document.documentMode)}function L1(){Ml&&(Ml.detachEvent("onpropertychange",sO),nc=Ml=null)}function sO(e){if(e.propertyName==="value"&&Nh(nc)){var t=[];iO(t,nc,e,a0(e)),eO(C4,t)}}function E4(e,t,r){e==="focusin"?(L1(),Ml=t,nc=r,Ml.attachEvent("onpropertychange",sO)):e==="focusout"&&L1()}function O4(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Nh(nc)}function A4(e,t){if(e==="click")return Nh(t)}function k4(e,t){if(e==="input"||e==="change")return Nh(t)}function T4(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Cr=typeof Object.is=="function"?Object.is:T4;function ac(e,t){if(Cr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!Lg.call(t,a)||!Cr(e[a],t[a]))return!1}return!0}function U1(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function q1(e,t){var r=U1(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=U1(r)}}function lO(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?lO(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function cO(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Yd(e.document);t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Yd(e.document)}return t}function l0(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var N4=ra&&"documentMode"in document&&11>=document.documentMode,Ho=null,Kg=null,zl=null,Gg=!1;function W1(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Gg||Ho==null||Ho!==Yd(n)||(n=Ho,"selectionStart"in n&&l0(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),zl&&ac(zl,n)||(zl=n,n=mf(Kg,"onSelect"),0<n.length&&(t=new kh("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Ho)))}function _i(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Fo={animationend:_i("Animation","AnimationEnd"),animationiteration:_i("Animation","AnimationIteration"),animationstart:_i("Animation","AnimationStart"),transitionrun:_i("Transition","TransitionRun"),transitionstart:_i("Transition","TransitionStart"),transitioncancel:_i("Transition","TransitionCancel"),transitionend:_i("Transition","TransitionEnd")},_p={},uO={};ra&&(uO=document.createElement("div").style,"AnimationEvent"in window||(delete Fo.animationend.animation,delete Fo.animationiteration.animation,delete Fo.animationstart.animation),"TransitionEvent"in window||delete Fo.transitionend.transition);function uo(e){if(_p[e])return _p[e];if(!Fo[e])return e;var t=Fo[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in uO)return _p[e]=t[r];return e}var dO=uo("animationend"),fO=uo("animationiteration"),hO=uo("animationstart"),R4=uo("transitionrun"),D4=uo("transitionstart"),P4=uo("transitioncancel"),mO=uo("transitionend"),pO=new Map,Yg="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Yg.push("scrollEnd");function hn(e,t){pO.set(e,t),lo(t,[e])}var Xd=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Dr=[],Vo=0,c0=0;function Rh(){for(var e=Vo,t=c0=Vo=0;t<e;){var r=Dr[t];Dr[t++]=null;var n=Dr[t];Dr[t++]=null;var a=Dr[t];Dr[t++]=null;var i=Dr[t];if(Dr[t++]=null,n!==null&&a!==null){var o=n.pending;o===null?a.next=a:(a.next=o.next,o.next=a),n.pending=a}i!==0&&gO(r,a,i)}}function Dh(e,t,r,n){Dr[Vo++]=e,Dr[Vo++]=t,Dr[Vo++]=r,Dr[Vo++]=n,c0|=n,e.lanes|=n,e=e.alternate,e!==null&&(e.lanes|=n)}function u0(e,t,r,n){return Dh(e,t,r,n),Zd(e)}function fo(e,t){return Dh(e,null,null,t),Zd(e)}function gO(e,t,r){e.lanes|=r;var n=e.alternate;n!==null&&(n.lanes|=r);for(var a=!1,i=e.return;i!==null;)i.childLanes|=r,n=i.alternate,n!==null&&(n.childLanes|=r),i.tag===22&&(e=i.stateNode,e===null||e._visibility&1||(a=!0)),e=i,i=i.return;return e.tag===3?(i=e.stateNode,a&&t!==null&&(a=31-_r(r),e=i.hiddenUpdates,n=e[a],n===null?e[a]=[t]:n.push(t),t.lane=r|536870912),i):null}function Zd(e){if(50<Fl)throw Fl=0,gv=null,Error(W(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Ko={};function M4(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function mr(e,t,r,n){return new M4(e,t,r,n)}function d0(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Zn(e,t){var r=e.alternate;return r===null?(r=mr(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&65011712,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r.refCleanup=e.refCleanup,r}function vO(e,t){e.flags&=65011714;var r=e.alternate;return r===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=r.childLanes,e.lanes=r.lanes,e.child=r.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=r.memoizedProps,e.memoizedState=r.memoizedState,e.updateQueue=r.updateQueue,e.type=r.type,t=r.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Ad(e,t,r,n,a,i){var o=0;if(n=e,typeof e=="function")d0(e)&&(o=1);else if(typeof e=="string")o=Lz(e,r,En.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case zg:return e=mr(31,r,t,a),e.elementType=zg,e.lanes=i,e;case $o:return Ui(r.children,a,i,t);case zE:o=8,a|=24;break;case Dg:return e=mr(12,r,t,a|2),e.elementType=Dg,e.lanes=i,e;case Pg:return e=mr(13,r,t,a),e.elementType=Pg,e.lanes=i,e;case Mg:return e=mr(19,r,t,a),e.elementType=Mg,e.lanes=i,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Vn:o=10;break e;case BE:o=9;break e;case Zy:o=11;break e;case Jy:o=14;break e;case Da:o=16,n=null;break e}o=29,r=Error(W(130,e===null?"null":typeof e,"")),n=null}return t=mr(o,r,t,a),t.elementType=e,t.type=n,t.lanes=i,t}function Ui(e,t,r,n){return e=mr(7,e,n,t),e.lanes=r,e}function jp(e,t,r){return e=mr(6,e,null,t),e.lanes=r,e}function yO(e){var t=mr(18,null,null,0);return t.stateNode=e,t}function Sp(e,t,r){return t=mr(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var H1=new WeakMap;function $r(e,t){if(typeof e=="object"&&e!==null){var r=H1.get(e);return r!==void 0?r:(t={value:e,source:t,stack:S1(t)},H1.set(e,t),t)}return{value:e,source:t,stack:S1(t)}}var Go=[],Yo=0,Jd=null,ic=0,zr=[],Br=0,li=null,_n=1,jn="";function Un(e,t){Go[Yo++]=ic,Go[Yo++]=Jd,Jd=e,ic=t}function bO(e,t,r){zr[Br++]=_n,zr[Br++]=jn,zr[Br++]=li,li=e;var n=_n;e=jn;var a=32-_r(n)-1;n&=~(1<<a),r+=1;var i=32-_r(t)+a;if(30<i){var o=a-a%5;i=(n&(1<<o)-1).toString(32),n>>=o,a-=o,_n=1<<32-_r(t)+a|r<<a|n,jn=i+e}else _n=1<<i|r<<a|n,jn=e}function f0(e){e.return!==null&&(Un(e,1),bO(e,1,0))}function h0(e){for(;e===Jd;)Jd=Go[--Yo],Go[Yo]=null,ic=Go[--Yo],Go[Yo]=null;for(;e===li;)li=zr[--Br],zr[Br]=null,jn=zr[--Br],zr[Br]=null,_n=zr[--Br],zr[Br]=null}function xO(e,t){zr[Br++]=_n,zr[Br++]=jn,zr[Br++]=li,_n=t.id,jn=t.overflow,li=e}var Rt=null,Me=null,fe=!1,Qa=null,Lr=!1,Xg=Error(W(519));function ci(e){var t=Error(W(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw oc($r(t,e)),Xg}function F1(e){var t=e.stateNode,r=e.type,n=e.memoizedProps;switch(t[Nt]=e,t[ar]=n,r){case"dialog":ce("cancel",t),ce("close",t);break;case"iframe":case"object":case"embed":ce("load",t);break;case"video":case"audio":for(r=0;r<uc.length;r++)ce(uc[r],t);break;case"source":ce("error",t);break;case"img":case"image":case"link":ce("error",t),ce("load",t);break;case"details":ce("toggle",t);break;case"input":ce("invalid",t),XE(t,n.value,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name,!0);break;case"select":ce("invalid",t);break;case"textarea":ce("invalid",t),JE(t,n.value,n.defaultValue,n.children)}r=n.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||t.textContent===""+r||n.suppressHydrationWarning===!0||r2(t.textContent,r)?(n.popover!=null&&(ce("beforetoggle",t),ce("toggle",t)),n.onScroll!=null&&ce("scroll",t),n.onScrollEnd!=null&&ce("scrollend",t),n.onClick!=null&&(t.onclick=Kn),t=!0):t=!1,t||ci(e,!0)}function V1(e){for(Rt=e.return;Rt;)switch(Rt.tag){case 5:case 31:case 13:Lr=!1;return;case 27:case 3:Lr=!0;return;default:Rt=Rt.return}}function jo(e){if(e!==Rt)return!1;if(!fe)return V1(e),fe=!0,!1;var t=e.tag,r;if((r=t!==3&&t!==27)&&((r=t===5)&&(r=e.type,r=!(r!=="form"&&r!=="button")||wv(e.type,e.memoizedProps)),r=!r),r&&Me&&ci(e),V1(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(W(317));Me=Rw(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(W(317));Me=Rw(e)}else t===27?(t=Me,gi(e.type)?(e=Cv,Cv=null,Me=e):Me=t):Me=Rt?Wr(e.stateNode.nextSibling):null;return!0}function Yi(){Me=Rt=null,fe=!1}function Cp(){var e=Qa;return e!==null&&(er===null?er=e:er.push.apply(er,e),Qa=null),e}function oc(e){Qa===null?Qa=[e]:Qa.push(e)}var Zg=Rn(null),ho=null,Gn=null;function Ia(e,t,r){Ne(Zg,t._currentValue),t._currentValue=r}function Jn(e){e._currentValue=Zg.current,_t(Zg)}function Jg(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Qg(e,t,r,n){var a=e.child;for(a!==null&&(a.return=e);a!==null;){var i=a.dependencies;if(i!==null){var o=a.child;i=i.firstContext;e:for(;i!==null;){var s=i;i=a;for(var c=0;c<t.length;c++)if(s.context===t[c]){i.lanes|=r,s=i.alternate,s!==null&&(s.lanes|=r),Jg(i.return,r,e),n||(o=null);break e}i=s.next}}else if(a.tag===18){if(o=a.return,o===null)throw Error(W(341));o.lanes|=r,i=o.alternate,i!==null&&(i.lanes|=r),Jg(o,r,e),o=null}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===e){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}}function zs(e,t,r,n){e=null;for(var a=t,i=!1;a!==null;){if(!i){if(a.flags&524288)i=!0;else if(a.flags&262144)break}if(a.tag===10){var o=a.alternate;if(o===null)throw Error(W(387));if(o=o.memoizedProps,o!==null){var s=a.type;Cr(a.pendingProps.value,o.value)||(e!==null?e.push(s):e=[s])}}else if(a===Fd.current){if(o=a.alternate,o===null)throw Error(W(387));o.memoizedState.memoizedState!==a.memoizedState.memoizedState&&(e!==null?e.push(fc):e=[fc])}a=a.return}e!==null&&Qg(t,e,r,n),t.flags|=262144}function Qd(e){for(e=e.firstContext;e!==null;){if(!Cr(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Xi(e){ho=e,Gn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Dt(e){return wO(ho,e)}function $u(e,t){return ho===null&&Xi(e),wO(e,t)}function wO(e,t){var r=t._currentValue;if(t={context:t,memoizedValue:r,next:null},Gn===null){if(e===null)throw Error(W(308));Gn=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Gn=Gn.next=t;return r}var z4=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(r,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(r){return r()})}},B4=dt.unstable_scheduleCallback,I4=dt.unstable_NormalPriority,nt={$$typeof:Vn,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function m0(){return{controller:new z4,data:new Map,refCount:0}}function Hc(e){e.refCount--,e.refCount===0&&B4(I4,function(){e.controller.abort()})}var Bl=null,ev=0,hs=0,rs=null;function $4(e,t){if(Bl===null){var r=Bl=[];ev=0,hs=$0(),rs={status:"pending",value:void 0,then:function(n){r.push(n)}}}return ev++,t.then(K1,K1),t}function K1(){if(--ev===0&&Bl!==null){rs!==null&&(rs.status="fulfilled");var e=Bl;Bl=null,hs=0,rs=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function L4(e,t){var r=[],n={status:"pending",value:null,reason:null,then:function(a){r.push(a)}};return e.then(function(){n.status="fulfilled",n.value=t;for(var a=0;a<r.length;a++)(0,r[a])(t)},function(a){for(n.status="rejected",n.reason=a,a=0;a<r.length;a++)(0,r[a])(void 0)}),n}var G1=ae.S;ae.S=function(e,t){MA=xr(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&$4(e,t),G1!==null&&G1(e,t)};var qi=Rn(null);function p0(){var e=qi.current;return e!==null?e:Oe.pooledCache}function kd(e,t){t===null?Ne(qi,qi.current):Ne(qi,t.pool)}function _O(){var e=p0();return e===null?null:{parent:nt._currentValue,pool:e}}var Bs=Error(W(460)),g0=Error(W(474)),Ph=Error(W(542)),ef={then:function(){}};function Y1(e){return e=e.status,e==="fulfilled"||e==="rejected"}function jO(e,t,r){switch(r=e[r],r===void 0?e.push(t):r!==t&&(t.then(Kn,Kn),t=r),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Z1(e),e;default:if(typeof t.status=="string")t.then(Kn,Kn);else{if(e=Oe,e!==null&&100<e.shellSuspendCounter)throw Error(W(482));e=t,e.status="pending",e.then(function(n){if(t.status==="pending"){var a=t;a.status="fulfilled",a.value=n}},function(n){if(t.status==="pending"){var a=t;a.status="rejected",a.reason=n}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Z1(e),e}throw Wi=t,Bs}}function Oi(e){try{var t=e._init;return t(e._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(Wi=r,Bs):r}}var Wi=null;function X1(){if(Wi===null)throw Error(W(459));var e=Wi;return Wi=null,e}function Z1(e){if(e===Bs||e===Ph)throw Error(W(483))}var ns=null,sc=0;function Lu(e){var t=sc;return sc+=1,ns===null&&(ns=[]),jO(ns,e,t)}function hl(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Uu(e,t){throw t.$$typeof===E5?Error(W(525)):(e=Object.prototype.toString.call(t),Error(W(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function SO(e){function t(y,g){if(e){var w=y.deletions;w===null?(y.deletions=[g],y.flags|=16):w.push(g)}}function r(y,g){if(!e)return null;for(;g!==null;)t(y,g),g=g.sibling;return null}function n(y){for(var g=new Map;y!==null;)y.key!==null?g.set(y.key,y):g.set(y.index,y),y=y.sibling;return g}function a(y,g){return y=Zn(y,g),y.index=0,y.sibling=null,y}function i(y,g,w){return y.index=w,e?(w=y.alternate,w!==null?(w=w.index,w<g?(y.flags|=67108866,g):w):(y.flags|=67108866,g)):(y.flags|=1048576,g)}function o(y){return e&&y.alternate===null&&(y.flags|=67108866),y}function s(y,g,w,_){return g===null||g.tag!==6?(g=jp(w,y.mode,_),g.return=y,g):(g=a(g,w),g.return=y,g)}function c(y,g,w,_){var j=w.type;return j===$o?d(y,g,w.props.children,_,w.key):g!==null&&(g.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Da&&Oi(j)===g.type)?(g=a(g,w.props),hl(g,w),g.return=y,g):(g=Ad(w.type,w.key,w.props,null,y.mode,_),hl(g,w),g.return=y,g)}function u(y,g,w,_){return g===null||g.tag!==4||g.stateNode.containerInfo!==w.containerInfo||g.stateNode.implementation!==w.implementation?(g=Sp(w,y.mode,_),g.return=y,g):(g=a(g,w.children||[]),g.return=y,g)}function d(y,g,w,_,j){return g===null||g.tag!==7?(g=Ui(w,y.mode,_,j),g.return=y,g):(g=a(g,w),g.return=y,g)}function f(y,g,w){if(typeof g=="string"&&g!==""||typeof g=="number"||typeof g=="bigint")return g=jp(""+g,y.mode,w),g.return=y,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Du:return w=Ad(g.type,g.key,g.props,null,y.mode,w),hl(w,g),w.return=y,w;case Cl:return g=Sp(g,y.mode,w),g.return=y,g;case Da:return g=Oi(g),f(y,g,w)}if(El(g)||ul(g))return g=Ui(g,y.mode,w,null),g.return=y,g;if(typeof g.then=="function")return f(y,Lu(g),w);if(g.$$typeof===Vn)return f(y,$u(y,g),w);Uu(y,g)}return null}function h(y,g,w,_){var j=g!==null?g.key:null;if(typeof w=="string"&&w!==""||typeof w=="number"||typeof w=="bigint")return j!==null?null:s(y,g,""+w,_);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Du:return w.key===j?c(y,g,w,_):null;case Cl:return w.key===j?u(y,g,w,_):null;case Da:return w=Oi(w),h(y,g,w,_)}if(El(w)||ul(w))return j!==null?null:d(y,g,w,_,null);if(typeof w.then=="function")return h(y,g,Lu(w),_);if(w.$$typeof===Vn)return h(y,g,$u(y,w),_);Uu(y,w)}return null}function m(y,g,w,_,j){if(typeof _=="string"&&_!==""||typeof _=="number"||typeof _=="bigint")return y=y.get(w)||null,s(g,y,""+_,j);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Du:return y=y.get(_.key===null?w:_.key)||null,c(g,y,_,j);case Cl:return y=y.get(_.key===null?w:_.key)||null,u(g,y,_,j);case Da:return _=Oi(_),m(y,g,w,_,j)}if(El(_)||ul(_))return y=y.get(w)||null,d(g,y,_,j,null);if(typeof _.then=="function")return m(y,g,w,Lu(_),j);if(_.$$typeof===Vn)return m(y,g,w,$u(g,_),j);Uu(g,_)}return null}function v(y,g,w,_){for(var j=null,S=null,C=g,E=g=0,T=null;C!==null&&E<w.length;E++){C.index>E?(T=C,C=null):T=C.sibling;var A=h(y,C,w[E],_);if(A===null){C===null&&(C=T);break}e&&C&&A.alternate===null&&t(y,C),g=i(A,g,E),S===null?j=A:S.sibling=A,S=A,C=T}if(E===w.length)return r(y,C),fe&&Un(y,E),j;if(C===null){for(;E<w.length;E++)C=f(y,w[E],_),C!==null&&(g=i(C,g,E),S===null?j=C:S.sibling=C,S=C);return fe&&Un(y,E),j}for(C=n(C);E<w.length;E++)T=m(C,y,E,w[E],_),T!==null&&(e&&T.alternate!==null&&C.delete(T.key===null?E:T.key),g=i(T,g,E),S===null?j=T:S.sibling=T,S=T);return e&&C.forEach(function(R){return t(y,R)}),fe&&Un(y,E),j}function x(y,g,w,_){if(w==null)throw Error(W(151));for(var j=null,S=null,C=g,E=g=0,T=null,A=w.next();C!==null&&!A.done;E++,A=w.next()){C.index>E?(T=C,C=null):T=C.sibling;var R=h(y,C,A.value,_);if(R===null){C===null&&(C=T);break}e&&C&&R.alternate===null&&t(y,C),g=i(R,g,E),S===null?j=R:S.sibling=R,S=R,C=T}if(A.done)return r(y,C),fe&&Un(y,E),j;if(C===null){for(;!A.done;E++,A=w.next())A=f(y,A.value,_),A!==null&&(g=i(A,g,E),S===null?j=A:S.sibling=A,S=A);return fe&&Un(y,E),j}for(C=n(C);!A.done;E++,A=w.next())A=m(C,y,E,A.value,_),A!==null&&(e&&A.alternate!==null&&C.delete(A.key===null?E:A.key),g=i(A,g,E),S===null?j=A:S.sibling=A,S=A);return e&&C.forEach(function(k){return t(y,k)}),fe&&Un(y,E),j}function b(y,g,w,_){if(typeof w=="object"&&w!==null&&w.type===$o&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Du:e:{for(var j=w.key;g!==null;){if(g.key===j){if(j=w.type,j===$o){if(g.tag===7){r(y,g.sibling),_=a(g,w.props.children),_.return=y,y=_;break e}}else if(g.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Da&&Oi(j)===g.type){r(y,g.sibling),_=a(g,w.props),hl(_,w),_.return=y,y=_;break e}r(y,g);break}else t(y,g);g=g.sibling}w.type===$o?(_=Ui(w.props.children,y.mode,_,w.key),_.return=y,y=_):(_=Ad(w.type,w.key,w.props,null,y.mode,_),hl(_,w),_.return=y,y=_)}return o(y);case Cl:e:{for(j=w.key;g!==null;){if(g.key===j)if(g.tag===4&&g.stateNode.containerInfo===w.containerInfo&&g.stateNode.implementation===w.implementation){r(y,g.sibling),_=a(g,w.children||[]),_.return=y,y=_;break e}else{r(y,g);break}else t(y,g);g=g.sibling}_=Sp(w,y.mode,_),_.return=y,y=_}return o(y);case Da:return w=Oi(w),b(y,g,w,_)}if(El(w))return v(y,g,w,_);if(ul(w)){if(j=ul(w),typeof j!="function")throw Error(W(150));return w=j.call(w),x(y,g,w,_)}if(typeof w.then=="function")return b(y,g,Lu(w),_);if(w.$$typeof===Vn)return b(y,g,$u(y,w),_);Uu(y,w)}return typeof w=="string"&&w!==""||typeof w=="number"||typeof w=="bigint"?(w=""+w,g!==null&&g.tag===6?(r(y,g.sibling),_=a(g,w),_.return=y,y=_):(r(y,g),_=jp(w,y.mode,_),_.return=y,y=_),o(y)):r(y,g)}return function(y,g,w,_){try{sc=0;var j=b(y,g,w,_);return ns=null,j}catch(C){if(C===Bs||C===Ph)throw C;var S=mr(29,C,null,y.mode);return S.lanes=_,S.return=y,S}finally{}}}var Zi=SO(!0),CO=SO(!1),Pa=!1;function v0(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function tv(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ei(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ti(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,ge&2){var a=n.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),n.pending=t,t=Zd(e),gO(e,null,r),t}return Dh(e,n,t,r),Zd(e)}function Il(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194048)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,WE(e,r)}}function Ep(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};i===null?a=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?a=i=t:i=i.next=t}else a=i=t;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:n.shared,callbacks:n.callbacks},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}var rv=!1;function $l(){if(rv){var e=rs;if(e!==null)throw e}}function Ll(e,t,r,n){rv=!1;var a=e.updateQueue;Pa=!1;var i=a.firstBaseUpdate,o=a.lastBaseUpdate,s=a.shared.pending;if(s!==null){a.shared.pending=null;var c=s,u=c.next;c.next=null,o===null?i=u:o.next=u,o=c;var d=e.alternate;d!==null&&(d=d.updateQueue,s=d.lastBaseUpdate,s!==o&&(s===null?d.firstBaseUpdate=u:s.next=u,d.lastBaseUpdate=c))}if(i!==null){var f=a.baseState;o=0,d=u=c=null,s=i;do{var h=s.lane&-536870913,m=h!==s.lane;if(m?(de&h)===h:(n&h)===h){h!==0&&h===hs&&(rv=!0),d!==null&&(d=d.next={lane:0,tag:s.tag,payload:s.payload,callback:null,next:null});e:{var v=e,x=s;h=t;var b=r;switch(x.tag){case 1:if(v=x.payload,typeof v=="function"){f=v.call(b,f,h);break e}f=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=x.payload,h=typeof v=="function"?v.call(b,f,h):v,h==null)break e;f=Be({},f,h);break e;case 2:Pa=!0}}h=s.callback,h!==null&&(e.flags|=64,m&&(e.flags|=8192),m=a.callbacks,m===null?a.callbacks=[h]:m.push(h))}else m={lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},d===null?(u=d=m,c=f):d=d.next=m,o|=h;if(s=s.next,s===null){if(s=a.shared.pending,s===null)break;m=s,s=m.next,m.next=null,a.lastBaseUpdate=m,a.shared.pending=null}}while(!0);d===null&&(c=f),a.baseState=c,a.firstBaseUpdate=u,a.lastBaseUpdate=d,i===null&&(a.shared.lanes=0),di|=o,e.lanes=o,e.memoizedState=f}}function EO(e,t){if(typeof e!="function")throw Error(W(191,e));e.call(t)}function OO(e,t){var r=e.callbacks;if(r!==null)for(e.callbacks=null,e=0;e<r.length;e++)EO(r[e],t)}var ms=Rn(null),tf=Rn(0);function J1(e,t){e=oa,Ne(tf,e),Ne(ms,t),oa=e|t.baseLanes}function nv(){Ne(tf,oa),Ne(ms,ms.current)}function y0(){oa=tf.current,_t(ms),_t(tf)}var Er=Rn(null),qr=null;function $a(e){var t=e.alternate;Ne(Ge,Ge.current&1),Ne(Er,e),qr===null&&(t===null||ms.current!==null||t.memoizedState!==null)&&(qr=e)}function av(e){Ne(Ge,Ge.current),Ne(Er,e),qr===null&&(qr=e)}function AO(e){e.tag===22?(Ne(Ge,Ge.current),Ne(Er,e),qr===null&&(qr=e)):La()}function La(){Ne(Ge,Ge.current),Ne(Er,Er.current)}function hr(e){_t(Er),qr===e&&(qr=null),_t(Ge)}var Ge=Rn(0);function rf(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||jv(r)||Sv(r)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var na=0,se=null,je=null,tt=null,nf=!1,as=!1,Ji=!1,af=0,lc=0,is=null,U4=0;function He(){throw Error(W(321))}function b0(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Cr(e[r],t[r]))return!1;return!0}function x0(e,t,r,n,a,i){return na=i,se=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ae.H=e===null||e.memoizedState===null?iA:N0,Ji=!1,i=r(n,a),Ji=!1,as&&(i=TO(t,r,n,a)),kO(e),i}function kO(e){ae.H=cc;var t=je!==null&&je.next!==null;if(na=0,tt=je=se=null,nf=!1,lc=0,is=null,t)throw Error(W(300));e===null||at||(e=e.dependencies,e!==null&&Qd(e)&&(at=!0))}function TO(e,t,r,n){se=e;var a=0;do{if(as&&(is=null),lc=0,as=!1,25<=a)throw Error(W(301));if(a+=1,tt=je=null,e.updateQueue!=null){var i=e.updateQueue;i.lastEffect=null,i.events=null,i.stores=null,i.memoCache!=null&&(i.memoCache.index=0)}ae.H=oA,i=t(r,n)}while(as);return i}function q4(){var e=ae.H,t=e.useState()[0];return t=typeof t.then=="function"?Fc(t):t,e=e.useState()[0],(je!==null?je.memoizedState:null)!==e&&(se.flags|=1024),t}function w0(){var e=af!==0;return af=0,e}function _0(e,t,r){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r}function j0(e){if(nf){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}nf=!1}na=0,tt=je=se=null,as=!1,lc=af=0,is=null}function Ut(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return tt===null?se.memoizedState=tt=e:tt=tt.next=e,tt}function Ye(){if(je===null){var e=se.alternate;e=e!==null?e.memoizedState:null}else e=je.next;var t=tt===null?se.memoizedState:tt.next;if(t!==null)tt=t,je=e;else{if(e===null)throw se.alternate===null?Error(W(467)):Error(W(310));je=e,e={memoizedState:je.memoizedState,baseState:je.baseState,baseQueue:je.baseQueue,queue:je.queue,next:null},tt===null?se.memoizedState=tt=e:tt=tt.next=e}return tt}function Mh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Fc(e){var t=lc;return lc+=1,is===null&&(is=[]),e=jO(is,e,t),t=se,(tt===null?t.memoizedState:tt.next)===null&&(t=t.alternate,ae.H=t===null||t.memoizedState===null?iA:N0),e}function zh(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Fc(e);if(e.$$typeof===Vn)return Dt(e)}throw Error(W(438,String(e)))}function S0(e){var t=null,r=se.updateQueue;if(r!==null&&(t=r.memoCache),t==null){var n=se.alternate;n!==null&&(n=n.updateQueue,n!==null&&(n=n.memoCache,n!=null&&(t={data:n.data.map(function(a){return a.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),r===null&&(r=Mh(),se.updateQueue=r),r.memoCache=t,r=t.data[t.index],r===void 0)for(r=t.data[t.index]=Array(e),n=0;n<e;n++)r[n]=O5;return t.index++,r}function aa(e,t){return typeof t=="function"?t(e):t}function Td(e){var t=Ye();return C0(t,je,e)}function C0(e,t,r){var n=e.queue;if(n===null)throw Error(W(311));n.lastRenderedReducer=r;var a=e.baseQueue,i=n.pending;if(i!==null){if(a!==null){var o=a.next;a.next=i.next,i.next=o}t.baseQueue=a=i,n.pending=null}if(i=e.baseState,a===null)e.memoizedState=i;else{t=a.next;var s=o=null,c=null,u=t,d=!1;do{var f=u.lane&-536870913;if(f!==u.lane?(de&f)===f:(na&f)===f){var h=u.revertLane;if(h===0)c!==null&&(c=c.next={lane:0,revertLane:0,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),f===hs&&(d=!0);else if((na&h)===h){u=u.next,h===hs&&(d=!0);continue}else f={lane:0,revertLane:u.revertLane,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},c===null?(s=c=f,o=i):c=c.next=f,se.lanes|=h,di|=h;f=u.action,Ji&&r(i,f),i=u.hasEagerState?u.eagerState:r(i,f)}else h={lane:f,revertLane:u.revertLane,gesture:u.gesture,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},c===null?(s=c=h,o=i):c=c.next=h,se.lanes|=f,di|=f;u=u.next}while(u!==null&&u!==t);if(c===null?o=i:c.next=s,!Cr(i,e.memoizedState)&&(at=!0,d&&(r=rs,r!==null)))throw r;e.memoizedState=i,e.baseState=o,e.baseQueue=c,n.lastRenderedState=i}return a===null&&(n.lanes=0),[e.memoizedState,n.dispatch]}function Op(e){var t=Ye(),r=t.queue;if(r===null)throw Error(W(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,i=t.memoizedState;if(a!==null){r.pending=null;var o=a=a.next;do i=e(i,o.action),o=o.next;while(o!==a);Cr(i,t.memoizedState)||(at=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),r.lastRenderedState=i}return[i,n]}function NO(e,t,r){var n=se,a=Ye(),i=fe;if(i){if(r===void 0)throw Error(W(407));r=r()}else r=t();var o=!Cr((je||a).memoizedState,r);if(o&&(a.memoizedState=r,at=!0),a=a.queue,E0(PO.bind(null,n,a,e),[e]),a.getSnapshot!==t||o||tt!==null&&tt.memoizedState.tag&1){if(n.flags|=2048,ps(9,{destroy:void 0},DO.bind(null,n,a,r,t),null),Oe===null)throw Error(W(349));i||na&127||RO(n,t,r)}return r}function RO(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=se.updateQueue,t===null?(t=Mh(),se.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function DO(e,t,r,n){t.value=r,t.getSnapshot=n,MO(t)&&zO(e)}function PO(e,t,r){return r(function(){MO(t)&&zO(e)})}function MO(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Cr(e,r)}catch{return!0}}function zO(e){var t=fo(e,2);t!==null&&nr(t,e,2)}function iv(e){var t=Ut();if(typeof e=="function"){var r=e;if(e=r(),Ji){Fa(!0);try{r()}finally{Fa(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:aa,lastRenderedState:e},t}function BO(e,t,r,n){return e.baseState=r,C0(e,je,typeof n=="function"?n:aa)}function W4(e,t,r,n,a){if(Ih(e))throw Error(W(485));if(e=t.action,e!==null){var i={payload:a,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(o){i.listeners.push(o)}};ae.T!==null?r(!0):i.isTransition=!1,n(i),r=t.pending,r===null?(i.next=t.pending=i,IO(t,i)):(i.next=r.next,t.pending=r.next=i)}}function IO(e,t){var r=t.action,n=t.payload,a=e.state;if(t.isTransition){var i=ae.T,o={};ae.T=o;try{var s=r(a,n),c=ae.S;c!==null&&c(o,s),Q1(e,t,s)}catch(u){ov(e,t,u)}finally{i!==null&&o.types!==null&&(i.types=o.types),ae.T=i}}else try{i=r(a,n),Q1(e,t,i)}catch(u){ov(e,t,u)}}function Q1(e,t,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(n){ew(e,t,n)},function(n){return ov(e,t,n)}):ew(e,t,r)}function ew(e,t,r){t.status="fulfilled",t.value=r,$O(t),e.state=r,t=e.pending,t!==null&&(r=t.next,r===t?e.pending=null:(r=r.next,t.next=r,IO(e,r)))}function ov(e,t,r){var n=e.pending;if(e.pending=null,n!==null){n=n.next;do t.status="rejected",t.reason=r,$O(t),t=t.next;while(t!==n)}e.action=null}function $O(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function LO(e,t){return t}function tw(e,t){if(fe){var r=Oe.formState;if(r!==null){e:{var n=se;if(fe){if(Me){t:{for(var a=Me,i=Lr;a.nodeType!==8;){if(!i){a=null;break t}if(a=Wr(a.nextSibling),a===null){a=null;break t}}i=a.data,a=i==="F!"||i==="F"?a:null}if(a){Me=Wr(a.nextSibling),n=a.data==="F!";break e}}ci(n)}n=!1}n&&(t=r[0])}}return r=Ut(),r.memoizedState=r.baseState=t,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:LO,lastRenderedState:t},r.queue=n,r=rA.bind(null,se,n),n.dispatch=r,n=iv(!1),i=T0.bind(null,se,!1,n.queue),n=Ut(),a={state:t,dispatch:null,action:e,pending:null},n.queue=a,r=W4.bind(null,se,a,i,r),a.dispatch=r,n.memoizedState=e,[t,r,!1]}function rw(e){var t=Ye();return UO(t,je,e)}function UO(e,t,r){if(t=C0(e,t,LO)[0],e=Td(aa)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var n=Fc(t)}catch(o){throw o===Bs?Ph:o}else n=t;t=Ye();var a=t.queue,i=a.dispatch;return r!==t.memoizedState&&(se.flags|=2048,ps(9,{destroy:void 0},H4.bind(null,a,r),null)),[n,i,e]}function H4(e,t){e.action=t}function nw(e){var t=Ye(),r=je;if(r!==null)return UO(t,r,e);Ye(),t=t.memoizedState,r=Ye();var n=r.queue.dispatch;return r.memoizedState=e,[t,n,!1]}function ps(e,t,r,n){return e={tag:e,create:r,deps:n,inst:t,next:null},t=se.updateQueue,t===null&&(t=Mh(),se.updateQueue=t),r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e),e}function qO(){return Ye().memoizedState}function Nd(e,t,r,n){var a=Ut();se.flags|=e,a.memoizedState=ps(1|t,{destroy:void 0},r,n===void 0?null:n)}function Bh(e,t,r,n){var a=Ye();n=n===void 0?null:n;var i=a.memoizedState.inst;je!==null&&n!==null&&b0(n,je.memoizedState.deps)?a.memoizedState=ps(t,i,r,n):(se.flags|=e,a.memoizedState=ps(1|t,i,r,n))}function aw(e,t){Nd(8390656,8,e,t)}function E0(e,t){Bh(2048,8,e,t)}function F4(e){se.flags|=4;var t=se.updateQueue;if(t===null)t=Mh(),se.updateQueue=t,t.events=[e];else{var r=t.events;r===null?t.events=[e]:r.push(e)}}function WO(e){var t=Ye().memoizedState;return F4({ref:t,nextImpl:e}),function(){if(ge&2)throw Error(W(440));return t.impl.apply(void 0,arguments)}}function HO(e,t){return Bh(4,2,e,t)}function FO(e,t){return Bh(4,4,e,t)}function VO(e,t){if(typeof t=="function"){e=e();var r=t(e);return function(){typeof r=="function"?r():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function KO(e,t,r){r=r!=null?r.concat([e]):null,Bh(4,4,VO.bind(null,t,e),r)}function O0(){}function GO(e,t){var r=Ye();t=t===void 0?null:t;var n=r.memoizedState;return t!==null&&b0(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function YO(e,t){var r=Ye();t=t===void 0?null:t;var n=r.memoizedState;if(t!==null&&b0(t,n[1]))return n[0];if(n=e(),Ji){Fa(!0);try{e()}finally{Fa(!1)}}return r.memoizedState=[n,t],n}function A0(e,t,r){return r===void 0||na&1073741824&&!(de&261930)?e.memoizedState=t:(e.memoizedState=r,e=BA(),se.lanes|=e,di|=e,r)}function XO(e,t,r,n){return Cr(r,t)?r:ms.current!==null?(e=A0(e,r,n),Cr(e,t)||(at=!0),e):!(na&42)||na&1073741824&&!(de&261930)?(at=!0,e.memoizedState=r):(e=BA(),se.lanes|=e,di|=e,t)}function ZO(e,t,r,n,a){var i=ve.p;ve.p=i!==0&&8>i?i:8;var o=ae.T,s={};ae.T=s,T0(e,!1,t,r);try{var c=a(),u=ae.S;if(u!==null&&u(s,c),c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=L4(c,n);Ul(e,t,d,jr(e))}else Ul(e,t,n,jr(e))}catch(f){Ul(e,t,{then:function(){},status:"rejected",reason:f},jr())}finally{ve.p=i,o!==null&&s.types!==null&&(o.types=s.types),ae.T=o}}function V4(){}function sv(e,t,r,n){if(e.tag!==5)throw Error(W(476));var a=JO(e).queue;ZO(e,a,t,Li,r===null?V4:function(){return QO(e),r(n)})}function JO(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:Li,baseState:Li,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:aa,lastRenderedState:Li},next:null};var r={};return t.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:aa,lastRenderedState:r},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function QO(e){var t=JO(e);t.next===null&&(t=e.alternate.memoizedState),Ul(e,t.next.queue,{},jr())}function k0(){return Dt(fc)}function eA(){return Ye().memoizedState}function tA(){return Ye().memoizedState}function K4(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var r=jr();e=ei(r);var n=ti(t,e,r);n!==null&&(nr(n,t,r),Il(n,t,r)),t={cache:m0()},e.payload=t;return}t=t.return}}function G4(e,t,r){var n=jr();r={lane:n,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},Ih(e)?nA(t,r):(r=u0(e,t,r,n),r!==null&&(nr(r,e,n),aA(r,t,n)))}function rA(e,t,r){var n=jr();Ul(e,t,r,n)}function Ul(e,t,r,n){var a={lane:n,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(Ih(e))nA(t,a);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var o=t.lastRenderedState,s=i(o,r);if(a.hasEagerState=!0,a.eagerState=s,Cr(s,o))return Dh(e,t,a,0),Oe===null&&Rh(),!1}catch{}finally{}if(r=u0(e,t,a,n),r!==null)return nr(r,e,n),aA(r,t,n),!0}return!1}function T0(e,t,r,n){if(n={lane:2,revertLane:$0(),gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},Ih(e)){if(t)throw Error(W(479))}else t=u0(e,r,n,2),t!==null&&nr(t,e,2)}function Ih(e){var t=e.alternate;return e===se||t!==null&&t===se}function nA(e,t){as=nf=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function aA(e,t,r){if(r&4194048){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,WE(e,r)}}var cc={readContext:Dt,use:zh,useCallback:He,useContext:He,useEffect:He,useImperativeHandle:He,useLayoutEffect:He,useInsertionEffect:He,useMemo:He,useReducer:He,useRef:He,useState:He,useDebugValue:He,useDeferredValue:He,useTransition:He,useSyncExternalStore:He,useId:He,useHostTransitionStatus:He,useFormState:He,useActionState:He,useOptimistic:He,useMemoCache:He,useCacheRefresh:He};cc.useEffectEvent=He;var iA={readContext:Dt,use:zh,useCallback:function(e,t){return Ut().memoizedState=[e,t===void 0?null:t],e},useContext:Dt,useEffect:aw,useImperativeHandle:function(e,t,r){r=r!=null?r.concat([e]):null,Nd(4194308,4,VO.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Nd(4194308,4,e,t)},useInsertionEffect:function(e,t){Nd(4,2,e,t)},useMemo:function(e,t){var r=Ut();t=t===void 0?null:t;var n=e();if(Ji){Fa(!0);try{e()}finally{Fa(!1)}}return r.memoizedState=[n,t],n},useReducer:function(e,t,r){var n=Ut();if(r!==void 0){var a=r(t);if(Ji){Fa(!0);try{r(t)}finally{Fa(!1)}}}else a=t;return n.memoizedState=n.baseState=a,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:a},n.queue=e,e=e.dispatch=G4.bind(null,se,e),[n.memoizedState,e]},useRef:function(e){var t=Ut();return e={current:e},t.memoizedState=e},useState:function(e){e=iv(e);var t=e.queue,r=rA.bind(null,se,t);return t.dispatch=r,[e.memoizedState,r]},useDebugValue:O0,useDeferredValue:function(e,t){var r=Ut();return A0(r,e,t)},useTransition:function(){var e=iv(!1);return e=ZO.bind(null,se,e.queue,!0,!1),Ut().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,r){var n=se,a=Ut();if(fe){if(r===void 0)throw Error(W(407));r=r()}else{if(r=t(),Oe===null)throw Error(W(349));de&127||RO(n,t,r)}a.memoizedState=r;var i={value:r,getSnapshot:t};return a.queue=i,aw(PO.bind(null,n,i,e),[e]),n.flags|=2048,ps(9,{destroy:void 0},DO.bind(null,n,i,r,t),null),r},useId:function(){var e=Ut(),t=Oe.identifierPrefix;if(fe){var r=jn,n=_n;r=(n&~(1<<32-_r(n)-1)).toString(32)+r,t="_"+t+"R_"+r,r=af++,0<r&&(t+="H"+r.toString(32)),t+="_"}else r=U4++,t="_"+t+"r_"+r.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:k0,useFormState:tw,useActionState:tw,useOptimistic:function(e){var t=Ut();t.memoizedState=t.baseState=e;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=r,t=T0.bind(null,se,!0,r),r.dispatch=t,[e,t]},useMemoCache:S0,useCacheRefresh:function(){return Ut().memoizedState=K4.bind(null,se)},useEffectEvent:function(e){var t=Ut(),r={impl:e};return t.memoizedState=r,function(){if(ge&2)throw Error(W(440));return r.impl.apply(void 0,arguments)}}},N0={readContext:Dt,use:zh,useCallback:GO,useContext:Dt,useEffect:E0,useImperativeHandle:KO,useInsertionEffect:HO,useLayoutEffect:FO,useMemo:YO,useReducer:Td,useRef:qO,useState:function(){return Td(aa)},useDebugValue:O0,useDeferredValue:function(e,t){var r=Ye();return XO(r,je.memoizedState,e,t)},useTransition:function(){var e=Td(aa)[0],t=Ye().memoizedState;return[typeof e=="boolean"?e:Fc(e),t]},useSyncExternalStore:NO,useId:eA,useHostTransitionStatus:k0,useFormState:rw,useActionState:rw,useOptimistic:function(e,t){var r=Ye();return BO(r,je,e,t)},useMemoCache:S0,useCacheRefresh:tA};N0.useEffectEvent=WO;var oA={readContext:Dt,use:zh,useCallback:GO,useContext:Dt,useEffect:E0,useImperativeHandle:KO,useInsertionEffect:HO,useLayoutEffect:FO,useMemo:YO,useReducer:Op,useRef:qO,useState:function(){return Op(aa)},useDebugValue:O0,useDeferredValue:function(e,t){var r=Ye();return je===null?A0(r,e,t):XO(r,je.memoizedState,e,t)},useTransition:function(){var e=Op(aa)[0],t=Ye().memoizedState;return[typeof e=="boolean"?e:Fc(e),t]},useSyncExternalStore:NO,useId:eA,useHostTransitionStatus:k0,useFormState:nw,useActionState:nw,useOptimistic:function(e,t){var r=Ye();return je!==null?BO(r,je,e,t):(r.baseState=e,[e,r.queue.dispatch])},useMemoCache:S0,useCacheRefresh:tA};oA.useEffectEvent=WO;function Ap(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Be({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var lv={enqueueSetState:function(e,t,r){e=e._reactInternals;var n=jr(),a=ei(n);a.payload=t,r!=null&&(a.callback=r),t=ti(e,a,n),t!==null&&(nr(t,e,n),Il(t,e,n))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=jr(),a=ei(n);a.tag=1,a.payload=t,r!=null&&(a.callback=r),t=ti(e,a,n),t!==null&&(nr(t,e,n),Il(t,e,n))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=jr(),n=ei(r);n.tag=2,t!=null&&(n.callback=t),t=ti(e,n,r),t!==null&&(nr(t,e,r),Il(t,e,r))}};function iw(e,t,r,n,a,i,o){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,i,o):t.prototype&&t.prototype.isPureReactComponent?!ac(r,n)||!ac(a,i):!0}function ow(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&lv.enqueueReplaceState(t,t.state,null)}function Qi(e,t){var r=t;if("ref"in t){r={};for(var n in t)n!=="ref"&&(r[n]=t[n])}if(e=e.defaultProps){r===t&&(r=Be({},r));for(var a in e)r[a]===void 0&&(r[a]=e[a])}return r}function sA(e){Xd(e)}function lA(e){console.error(e)}function cA(e){Xd(e)}function of(e,t){try{var r=e.onUncaughtError;r(t.value,{componentStack:t.stack})}catch(n){setTimeout(function(){throw n})}}function sw(e,t,r){try{var n=e.onCaughtError;n(r.value,{componentStack:r.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(a){setTimeout(function(){throw a})}}function cv(e,t,r){return r=ei(r),r.tag=3,r.payload={element:null},r.callback=function(){of(e,t)},r}function uA(e){return e=ei(e),e.tag=3,e}function dA(e,t,r,n){var a=r.type.getDerivedStateFromError;if(typeof a=="function"){var i=n.value;e.payload=function(){return a(i)},e.callback=function(){sw(t,r,n)}}var o=r.stateNode;o!==null&&typeof o.componentDidCatch=="function"&&(e.callback=function(){sw(t,r,n),typeof a!="function"&&(ri===null?ri=new Set([this]):ri.add(this));var s=n.stack;this.componentDidCatch(n.value,{componentStack:s!==null?s:""})})}function Y4(e,t,r,n,a){if(r.flags|=32768,n!==null&&typeof n=="object"&&typeof n.then=="function"){if(t=r.alternate,t!==null&&zs(t,r,a,!0),r=Er.current,r!==null){switch(r.tag){case 31:case 13:return qr===null?df():r.alternate===null&&Ve===0&&(Ve=3),r.flags&=-257,r.flags|=65536,r.lanes=a,n===ef?r.flags|=16384:(t=r.updateQueue,t===null?r.updateQueue=new Set([n]):t.add(n),$p(e,n,a)),!1;case 22:return r.flags|=65536,n===ef?r.flags|=16384:(t=r.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([n])},r.updateQueue=t):(r=t.retryQueue,r===null?t.retryQueue=new Set([n]):r.add(n)),$p(e,n,a)),!1}throw Error(W(435,r.tag))}return $p(e,n,a),df(),!1}if(fe)return t=Er.current,t!==null?(!(t.flags&65536)&&(t.flags|=256),t.flags|=65536,t.lanes=a,n!==Xg&&(e=Error(W(422),{cause:n}),oc($r(e,r)))):(n!==Xg&&(t=Error(W(423),{cause:n}),oc($r(t,r))),e=e.current.alternate,e.flags|=65536,a&=-a,e.lanes|=a,n=$r(n,r),a=cv(e.stateNode,n,a),Ep(e,a),Ve!==4&&(Ve=2)),!1;var i=Error(W(520),{cause:n});if(i=$r(i,r),Hl===null?Hl=[i]:Hl.push(i),Ve!==4&&(Ve=2),t===null)return!0;n=$r(n,r),r=t;do{switch(r.tag){case 3:return r.flags|=65536,e=a&-a,r.lanes|=e,e=cv(r.stateNode,n,e),Ep(r,e),!1;case 1:if(t=r.type,i=r.stateNode,(r.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||i!==null&&typeof i.componentDidCatch=="function"&&(ri===null||!ri.has(i))))return r.flags|=65536,a&=-a,r.lanes|=a,a=uA(a),dA(a,e,r,n),Ep(r,a),!1}r=r.return}while(r!==null);return!1}var R0=Error(W(461)),at=!1;function At(e,t,r,n){t.child=e===null?CO(t,null,r,n):Zi(t,e.child,r,n)}function lw(e,t,r,n,a){r=r.render;var i=t.ref;if("ref"in n){var o={};for(var s in n)s!=="ref"&&(o[s]=n[s])}else o=n;return Xi(t),n=x0(e,t,r,o,i,a),s=w0(),e!==null&&!at?(_0(e,t,a),ia(e,t,a)):(fe&&s&&f0(t),t.flags|=1,At(e,t,n,a),t.child)}function cw(e,t,r,n,a){if(e===null){var i=r.type;return typeof i=="function"&&!d0(i)&&i.defaultProps===void 0&&r.compare===null?(t.tag=15,t.type=i,fA(e,t,i,n,a)):(e=Ad(r.type,null,n,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!D0(e,a)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:ac,r(o,n)&&e.ref===t.ref)return ia(e,t,a)}return t.flags|=1,e=Zn(i,n),e.ref=t.ref,e.return=t,t.child=e}function fA(e,t,r,n,a){if(e!==null){var i=e.memoizedProps;if(ac(i,n)&&e.ref===t.ref)if(at=!1,t.pendingProps=n=i,D0(e,a))e.flags&131072&&(at=!0);else return t.lanes=e.lanes,ia(e,t,a)}return uv(e,t,r,n,a)}function hA(e,t,r,n){var a=n.children,i=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.mode==="hidden"){if(t.flags&128){if(i=i!==null?i.baseLanes|r:r,e!==null){for(n=t.child=e.child,a=0;n!==null;)a=a|n.lanes|n.childLanes,n=n.sibling;n=a&~i}else n=0,t.child=null;return uw(e,t,i,r,n)}if(r&536870912)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&kd(t,i!==null?i.cachePool:null),i!==null?J1(t,i):nv(),AO(t);else return n=t.lanes=536870912,uw(e,t,i!==null?i.baseLanes|r:r,r,n)}else i!==null?(kd(t,i.cachePool),J1(t,i),La(),t.memoizedState=null):(e!==null&&kd(t,null),nv(),La());return At(e,t,a,r),t.child}function Al(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function uw(e,t,r,n,a){var i=p0();return i=i===null?null:{parent:nt._currentValue,pool:i},t.memoizedState={baseLanes:r,cachePool:i},e!==null&&kd(t,null),nv(),AO(t),e!==null&&zs(e,t,n,!0),t.childLanes=a,null}function Rd(e,t){return t=sf({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function dw(e,t,r){return Zi(t,e.child,null,r),e=Rd(t,t.pendingProps),e.flags|=2,hr(t),t.memoizedState=null,e}function X4(e,t,r){var n=t.pendingProps,a=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(fe){if(n.mode==="hidden")return e=Rd(t,n),t.lanes=536870912,Al(null,e);if(av(t),(e=Me)?(e=i2(e,Lr),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:li!==null?{id:_n,overflow:jn}:null,retryLane:536870912,hydrationErrors:null},r=yO(e),r.return=t,t.child=r,Rt=t,Me=null)):e=null,e===null)throw ci(t);return t.lanes=536870912,null}return Rd(t,n)}var i=e.memoizedState;if(i!==null){var o=i.dehydrated;if(av(t),a)if(t.flags&256)t.flags&=-257,t=dw(e,t,r);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(W(558));else if(at||zs(e,t,r,!1),a=(r&e.childLanes)!==0,at||a){if(n=Oe,n!==null&&(o=HE(n,r),o!==0&&o!==i.retryLane))throw i.retryLane=o,fo(e,o),nr(n,e,o),R0;df(),t=dw(e,t,r)}else e=i.treeContext,Me=Wr(o.nextSibling),Rt=t,fe=!0,Qa=null,Lr=!1,e!==null&&xO(t,e),t=Rd(t,n),t.flags|=4096;return t}return e=Zn(e.child,{mode:n.mode,children:n.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Dd(e,t){var r=t.ref;if(r===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(W(284));(e===null||e.ref!==r)&&(t.flags|=4194816)}}function uv(e,t,r,n,a){return Xi(t),r=x0(e,t,r,n,void 0,a),n=w0(),e!==null&&!at?(_0(e,t,a),ia(e,t,a)):(fe&&n&&f0(t),t.flags|=1,At(e,t,r,a),t.child)}function fw(e,t,r,n,a,i){return Xi(t),t.updateQueue=null,r=TO(t,n,r,a),kO(e),n=w0(),e!==null&&!at?(_0(e,t,i),ia(e,t,i)):(fe&&n&&f0(t),t.flags|=1,At(e,t,r,i),t.child)}function hw(e,t,r,n,a){if(Xi(t),t.stateNode===null){var i=Ko,o=r.contextType;typeof o=="object"&&o!==null&&(i=Dt(o)),i=new r(n,i),t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=lv,t.stateNode=i,i._reactInternals=t,i=t.stateNode,i.props=n,i.state=t.memoizedState,i.refs={},v0(t),o=r.contextType,i.context=typeof o=="object"&&o!==null?Dt(o):Ko,i.state=t.memoizedState,o=r.getDerivedStateFromProps,typeof o=="function"&&(Ap(t,r,o,n),i.state=t.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(o=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),o!==i.state&&lv.enqueueReplaceState(i,i.state,null),Ll(t,n,i,a),$l(),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308),n=!0}else if(e===null){i=t.stateNode;var s=t.memoizedProps,c=Qi(r,s);i.props=c;var u=i.context,d=r.contextType;o=Ko,typeof d=="object"&&d!==null&&(o=Dt(d));var f=r.getDerivedStateFromProps;d=typeof f=="function"||typeof i.getSnapshotBeforeUpdate=="function",s=t.pendingProps!==s,d||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(s||u!==o)&&ow(t,i,n,o),Pa=!1;var h=t.memoizedState;i.state=h,Ll(t,n,i,a),$l(),u=t.memoizedState,s||h!==u||Pa?(typeof f=="function"&&(Ap(t,r,f,n),u=t.memoizedState),(c=Pa||iw(t,r,c,n,h,u,o))?(d||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=u),i.props=n,i.state=u,i.context=o,n=c):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{i=t.stateNode,tv(e,t),o=t.memoizedProps,d=Qi(r,o),i.props=d,f=t.pendingProps,h=i.context,u=r.contextType,c=Ko,typeof u=="object"&&u!==null&&(c=Dt(u)),s=r.getDerivedStateFromProps,(u=typeof s=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(o!==f||h!==c)&&ow(t,i,n,c),Pa=!1,h=t.memoizedState,i.state=h,Ll(t,n,i,a),$l();var m=t.memoizedState;o!==f||h!==m||Pa||e!==null&&e.dependencies!==null&&Qd(e.dependencies)?(typeof s=="function"&&(Ap(t,r,s,n),m=t.memoizedState),(d=Pa||iw(t,r,d,n,h,m,c)||e!==null&&e.dependencies!==null&&Qd(e.dependencies))?(u||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(n,m,c),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(n,m,c)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=m),i.props=n,i.state=m,i.context=c,n=d):(typeof i.componentDidUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return i=n,Dd(e,t),n=(t.flags&128)!==0,i||n?(i=t.stateNode,r=n&&typeof r.getDerivedStateFromError!="function"?null:i.render(),t.flags|=1,e!==null&&n?(t.child=Zi(t,e.child,null,a),t.child=Zi(t,null,r,a)):At(e,t,r,a),t.memoizedState=i.state,e=t.child):e=ia(e,t,a),e}function mw(e,t,r,n){return Yi(),t.flags|=256,At(e,t,r,n),t.child}var kp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Tp(e){return{baseLanes:e,cachePool:_O()}}function Np(e,t,r){return e=e!==null?e.childLanes&~r:0,t&&(e|=yr),e}function mA(e,t,r){var n=t.pendingProps,a=!1,i=(t.flags&128)!==0,o;if((o=i)||(o=e!==null&&e.memoizedState===null?!1:(Ge.current&2)!==0),o&&(a=!0,t.flags&=-129),o=(t.flags&32)!==0,t.flags&=-33,e===null){if(fe){if(a?$a(t):La(),(e=Me)?(e=i2(e,Lr),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:li!==null?{id:_n,overflow:jn}:null,retryLane:536870912,hydrationErrors:null},r=yO(e),r.return=t,t.child=r,Rt=t,Me=null)):e=null,e===null)throw ci(t);return Sv(e)?t.lanes=32:t.lanes=536870912,null}var s=n.children;return n=n.fallback,a?(La(),a=t.mode,s=sf({mode:"hidden",children:s},a),n=Ui(n,a,r,null),s.return=t,n.return=t,s.sibling=n,t.child=s,n=t.child,n.memoizedState=Tp(r),n.childLanes=Np(e,o,r),t.memoizedState=kp,Al(null,n)):($a(t),dv(t,s))}var c=e.memoizedState;if(c!==null&&(s=c.dehydrated,s!==null)){if(i)t.flags&256?($a(t),t.flags&=-257,t=Rp(e,t,r)):t.memoizedState!==null?(La(),t.child=e.child,t.flags|=128,t=null):(La(),s=n.fallback,a=t.mode,n=sf({mode:"visible",children:n.children},a),s=Ui(s,a,r,null),s.flags|=2,n.return=t,s.return=t,n.sibling=s,t.child=n,Zi(t,e.child,null,r),n=t.child,n.memoizedState=Tp(r),n.childLanes=Np(e,o,r),t.memoizedState=kp,t=Al(null,n));else if($a(t),Sv(s)){if(o=s.nextSibling&&s.nextSibling.dataset,o)var u=o.dgst;o=u,n=Error(W(419)),n.stack="",n.digest=o,oc({value:n,source:null,stack:null}),t=Rp(e,t,r)}else if(at||zs(e,t,r,!1),o=(r&e.childLanes)!==0,at||o){if(o=Oe,o!==null&&(n=HE(o,r),n!==0&&n!==c.retryLane))throw c.retryLane=n,fo(e,n),nr(o,e,n),R0;jv(s)||df(),t=Rp(e,t,r)}else jv(s)?(t.flags|=192,t.child=e.child,t=null):(e=c.treeContext,Me=Wr(s.nextSibling),Rt=t,fe=!0,Qa=null,Lr=!1,e!==null&&xO(t,e),t=dv(t,n.children),t.flags|=4096);return t}return a?(La(),s=n.fallback,a=t.mode,c=e.child,u=c.sibling,n=Zn(c,{mode:"hidden",children:n.children}),n.subtreeFlags=c.subtreeFlags&65011712,u!==null?s=Zn(u,s):(s=Ui(s,a,r,null),s.flags|=2),s.return=t,n.return=t,n.sibling=s,t.child=n,Al(null,n),n=t.child,s=e.child.memoizedState,s===null?s=Tp(r):(a=s.cachePool,a!==null?(c=nt._currentValue,a=a.parent!==c?{parent:c,pool:c}:a):a=_O(),s={baseLanes:s.baseLanes|r,cachePool:a}),n.memoizedState=s,n.childLanes=Np(e,o,r),t.memoizedState=kp,Al(e.child,n)):($a(t),r=e.child,e=r.sibling,r=Zn(r,{mode:"visible",children:n.children}),r.return=t,r.sibling=null,e!==null&&(o=t.deletions,o===null?(t.deletions=[e],t.flags|=16):o.push(e)),t.child=r,t.memoizedState=null,r)}function dv(e,t){return t=sf({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function sf(e,t){return e=mr(22,e,null,t),e.lanes=0,e}function Rp(e,t,r){return Zi(t,e.child,null,r),e=dv(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function pw(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Jg(e.return,t,r)}function Dp(e,t,r,n,a,i){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a,treeForkCount:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=n,o.tail=r,o.tailMode=a,o.treeForkCount=i)}function pA(e,t,r){var n=t.pendingProps,a=n.revealOrder,i=n.tail;n=n.children;var o=Ge.current,s=(o&2)!==0;if(s?(o=o&1|2,t.flags|=128):o&=1,Ne(Ge,o),At(e,t,n,r),n=fe?ic:0,!s&&e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&pw(e,r,t);else if(e.tag===19)pw(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&rf(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),Dp(t,!1,a,r,i,n);break;case"backwards":case"unstable_legacy-backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&rf(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}Dp(t,!0,r,null,i,n);break;case"together":Dp(t,!1,null,null,void 0,n);break;default:t.memoizedState=null}return t.child}function ia(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),di|=t.lanes,!(r&t.childLanes))if(e!==null){if(zs(e,t,r,!1),(r&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(W(153));if(t.child!==null){for(e=t.child,r=Zn(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Zn(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function D0(e,t){return e.lanes&t?!0:(e=e.dependencies,!!(e!==null&&Qd(e)))}function Z4(e,t,r){switch(t.tag){case 3:Vd(t,t.stateNode.containerInfo),Ia(t,nt,e.memoizedState.cache),Yi();break;case 27:case 5:$g(t);break;case 4:Vd(t,t.stateNode.containerInfo);break;case 10:Ia(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,av(t),null;break;case 13:var n=t.memoizedState;if(n!==null)return n.dehydrated!==null?($a(t),t.flags|=128,null):r&t.child.childLanes?mA(e,t,r):($a(t),e=ia(e,t,r),e!==null?e.sibling:null);$a(t);break;case 19:var a=(e.flags&128)!==0;if(n=(r&t.childLanes)!==0,n||(zs(e,t,r,!1),n=(r&t.childLanes)!==0),a){if(n)return pA(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),Ne(Ge,Ge.current),n)break;return null;case 22:return t.lanes=0,hA(e,t,r,t.pendingProps);case 24:Ia(t,nt,e.memoizedState.cache)}return ia(e,t,r)}function gA(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps)at=!0;else{if(!D0(e,r)&&!(t.flags&128))return at=!1,Z4(e,t,r);at=!!(e.flags&131072)}else at=!1,fe&&t.flags&1048576&&bO(t,ic,t.index);switch(t.lanes=0,t.tag){case 16:e:{var n=t.pendingProps;if(e=Oi(t.elementType),t.type=e,typeof e=="function")d0(e)?(n=Qi(e,n),t.tag=1,t=hw(null,t,e,n,r)):(t.tag=0,t=uv(null,t,e,n,r));else{if(e!=null){var a=e.$$typeof;if(a===Zy){t.tag=11,t=lw(null,t,e,n,r);break e}else if(a===Jy){t.tag=14,t=cw(null,t,e,n,r);break e}}throw t=Bg(e)||e,Error(W(306,t,""))}}return t;case 0:return uv(e,t,t.type,t.pendingProps,r);case 1:return n=t.type,a=Qi(n,t.pendingProps),hw(e,t,n,a,r);case 3:e:{if(Vd(t,t.stateNode.containerInfo),e===null)throw Error(W(387));n=t.pendingProps;var i=t.memoizedState;a=i.element,tv(e,t),Ll(t,n,null,r);var o=t.memoizedState;if(n=o.cache,Ia(t,nt,n),n!==i.cache&&Qg(t,[nt],r,!0),$l(),n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){t=mw(e,t,n,r);break e}else if(n!==a){a=$r(Error(W(424)),t),oc(a),t=mw(e,t,n,r);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Me=Wr(e.firstChild),Rt=t,fe=!0,Qa=null,Lr=!0,r=CO(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(Yi(),n===a){t=ia(e,t,r);break e}At(e,t,n,r)}t=t.child}return t;case 26:return Dd(e,t),e===null?(r=Mw(t.type,null,t.pendingProps,null))?t.memoizedState=r:fe||(r=t.type,e=t.pendingProps,n=pf(Ja.current).createElement(r),n[Nt]=t,n[ar]=e,Mt(n,r,e),wt(n),t.stateNode=n):t.memoizedState=Mw(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return $g(t),e===null&&fe&&(n=t.stateNode=o2(t.type,t.pendingProps,Ja.current),Rt=t,Lr=!0,a=Me,gi(t.type)?(Cv=a,Me=Wr(n.firstChild)):Me=a),At(e,t,t.pendingProps.children,r),Dd(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&fe&&((a=n=Me)&&(n=Oz(n,t.type,t.pendingProps,Lr),n!==null?(t.stateNode=n,Rt=t,Me=Wr(n.firstChild),Lr=!1,a=!0):a=!1),a||ci(t)),$g(t),a=t.type,i=t.pendingProps,o=e!==null?e.memoizedProps:null,n=i.children,wv(a,i)?n=null:o!==null&&wv(a,o)&&(t.flags|=32),t.memoizedState!==null&&(a=x0(e,t,q4,null,null,r),fc._currentValue=a),Dd(e,t),At(e,t,n,r),t.child;case 6:return e===null&&fe&&((e=r=Me)&&(r=Az(r,t.pendingProps,Lr),r!==null?(t.stateNode=r,Rt=t,Me=null,e=!0):e=!1),e||ci(t)),null;case 13:return mA(e,t,r);case 4:return Vd(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Zi(t,null,n,r):At(e,t,n,r),t.child;case 11:return lw(e,t,t.type,t.pendingProps,r);case 7:return At(e,t,t.pendingProps,r),t.child;case 8:return At(e,t,t.pendingProps.children,r),t.child;case 12:return At(e,t,t.pendingProps.children,r),t.child;case 10:return n=t.pendingProps,Ia(t,t.type,n.value),At(e,t,n.children,r),t.child;case 9:return a=t.type._context,n=t.pendingProps.children,Xi(t),a=Dt(a),n=n(a),t.flags|=1,At(e,t,n,r),t.child;case 14:return cw(e,t,t.type,t.pendingProps,r);case 15:return fA(e,t,t.type,t.pendingProps,r);case 19:return pA(e,t,r);case 31:return X4(e,t,r);case 22:return hA(e,t,r,t.pendingProps);case 24:return Xi(t),n=Dt(nt),e===null?(a=p0(),a===null&&(a=Oe,i=m0(),a.pooledCache=i,i.refCount++,i!==null&&(a.pooledCacheLanes|=r),a=i),t.memoizedState={parent:n,cache:a},v0(t),Ia(t,nt,a)):(e.lanes&r&&(tv(e,t),Ll(t,null,null,r),$l()),a=e.memoizedState,i=t.memoizedState,a.parent!==n?(a={parent:n,cache:n},t.memoizedState=a,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=a),Ia(t,nt,n)):(n=i.cache,Ia(t,nt,n),n!==a.cache&&Qg(t,[nt],r,!0))),At(e,t,t.pendingProps.children,r),t.child;case 29:throw t.pendingProps}throw Error(W(156,t.tag))}function zn(e){e.flags|=4}function Pp(e,t,r,n,a){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(a&335544128)===a)if(e.stateNode.complete)e.flags|=8192;else if(LA())e.flags|=8192;else throw Wi=ef,g0}else e.flags&=-16777217}function gw(e,t){if(t.type!=="stylesheet"||t.state.loading&4)e.flags&=-16777217;else if(e.flags|=16777216,!c2(t))if(LA())e.flags|=8192;else throw Wi=ef,g0}function qu(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?UE():536870912,e.lanes|=t,gs|=t)}function ml(e,t){if(!fe)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function De(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&65011712,n|=a.flags&65011712,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function J4(e,t,r){var n=t.pendingProps;switch(h0(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return De(t),null;case 1:return De(t),null;case 3:return r=t.stateNode,n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),Jn(nt),us(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(jo(t)?zn(t):e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Cp())),De(t),null;case 26:var a=t.type,i=t.memoizedState;return e===null?(zn(t),i!==null?(De(t),gw(t,i)):(De(t),Pp(t,a,null,n,r))):i?i!==e.memoizedState?(zn(t),De(t),gw(t,i)):(De(t),t.flags&=-16777217):(e=e.memoizedProps,e!==n&&zn(t),De(t),Pp(t,a,e,n,r)),null;case 27:if(Kd(t),r=Ja.current,a=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==n&&zn(t);else{if(!n){if(t.stateNode===null)throw Error(W(166));return De(t),null}e=En.current,jo(t)?F1(t):(e=o2(a,n,r),t.stateNode=e,zn(t))}return De(t),null;case 5:if(Kd(t),a=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==n&&zn(t);else{if(!n){if(t.stateNode===null)throw Error(W(166));return De(t),null}if(i=En.current,jo(t))F1(t);else{var o=pf(Ja.current);switch(i){case 1:i=o.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:i=o.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":i=o.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":i=o.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":i=o.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof n.is=="string"?o.createElement("select",{is:n.is}):o.createElement("select"),n.multiple?i.multiple=!0:n.size&&(i.size=n.size);break;default:i=typeof n.is=="string"?o.createElement(a,{is:n.is}):o.createElement(a)}}i[Nt]=t,i[ar]=n;e:for(o=t.child;o!==null;){if(o.tag===5||o.tag===6)i.appendChild(o.stateNode);else if(o.tag!==4&&o.tag!==27&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===t)break e;for(;o.sibling===null;){if(o.return===null||o.return===t)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}t.stateNode=i;e:switch(Mt(i,a,n),a){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}n&&zn(t)}}return De(t),Pp(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,r),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==n&&zn(t);else{if(typeof n!="string"&&t.stateNode===null)throw Error(W(166));if(e=Ja.current,jo(t)){if(e=t.stateNode,r=t.memoizedProps,n=null,a=Rt,a!==null)switch(a.tag){case 27:case 5:n=a.memoizedProps}e[Nt]=t,e=!!(e.nodeValue===r||n!==null&&n.suppressHydrationWarning===!0||r2(e.nodeValue,r)),e||ci(t,!0)}else e=pf(e).createTextNode(n),e[Nt]=t,t.stateNode=e}return De(t),null;case 31:if(r=t.memoizedState,e===null||e.memoizedState!==null){if(n=jo(t),r!==null){if(e===null){if(!n)throw Error(W(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(W(557));e[Nt]=t}else Yi(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;De(t),e=!1}else r=Cp(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=r),e=!0;if(!e)return t.flags&256?(hr(t),t):(hr(t),null);if(t.flags&128)throw Error(W(558))}return De(t),null;case 13:if(n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(a=jo(t),n!==null&&n.dehydrated!==null){if(e===null){if(!a)throw Error(W(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(W(317));a[Nt]=t}else Yi(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;De(t),a=!1}else a=Cp(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),a=!0;if(!a)return t.flags&256?(hr(t),t):(hr(t),null)}return hr(t),t.flags&128?(t.lanes=r,t):(r=n!==null,e=e!==null&&e.memoizedState!==null,r&&(n=t.child,a=null,n.alternate!==null&&n.alternate.memoizedState!==null&&n.alternate.memoizedState.cachePool!==null&&(a=n.alternate.memoizedState.cachePool.pool),i=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(i=n.memoizedState.cachePool.pool),i!==a&&(n.flags|=2048)),r!==e&&r&&(t.child.flags|=8192),qu(t,t.updateQueue),De(t),null);case 4:return us(),e===null&&L0(t.stateNode.containerInfo),De(t),null;case 10:return Jn(t.type),De(t),null;case 19:if(_t(Ge),n=t.memoizedState,n===null)return De(t),null;if(a=(t.flags&128)!==0,i=n.rendering,i===null)if(a)ml(n,!1);else{if(Ve!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=rf(e),i!==null){for(t.flags|=128,ml(n,!1),e=i.updateQueue,t.updateQueue=e,qu(t,e),t.subtreeFlags=0,e=r,r=t.child;r!==null;)vO(r,e),r=r.sibling;return Ne(Ge,Ge.current&1|2),fe&&Un(t,n.treeForkCount),t.child}e=e.sibling}n.tail!==null&&xr()>cf&&(t.flags|=128,a=!0,ml(n,!1),t.lanes=4194304)}else{if(!a)if(e=rf(i),e!==null){if(t.flags|=128,a=!0,e=e.updateQueue,t.updateQueue=e,qu(t,e),ml(n,!0),n.tail===null&&n.tailMode==="hidden"&&!i.alternate&&!fe)return De(t),null}else 2*xr()-n.renderingStartTime>cf&&r!==536870912&&(t.flags|=128,a=!0,ml(n,!1),t.lanes=4194304);n.isBackwards?(i.sibling=t.child,t.child=i):(e=n.last,e!==null?e.sibling=i:t.child=i,n.last=i)}return n.tail!==null?(e=n.tail,n.rendering=e,n.tail=e.sibling,n.renderingStartTime=xr(),e.sibling=null,r=Ge.current,Ne(Ge,a?r&1|2:r&1),fe&&Un(t,n.treeForkCount),e):(De(t),null);case 22:case 23:return hr(t),y0(),n=t.memoizedState!==null,e!==null?e.memoizedState!==null!==n&&(t.flags|=8192):n&&(t.flags|=8192),n?r&536870912&&!(t.flags&128)&&(De(t),t.subtreeFlags&6&&(t.flags|=8192)):De(t),r=t.updateQueue,r!==null&&qu(t,r.retryQueue),r=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),n=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),n!==r&&(t.flags|=2048),e!==null&&_t(qi),null;case 24:return r=null,e!==null&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),Jn(nt),De(t),null;case 25:return null;case 30:return null}throw Error(W(156,t.tag))}function Q4(e,t){switch(h0(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Jn(nt),us(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Kd(t),null;case 31:if(t.memoizedState!==null){if(hr(t),t.alternate===null)throw Error(W(340));Yi()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(hr(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(W(340));Yi()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return _t(Ge),null;case 4:return us(),null;case 10:return Jn(t.type),null;case 22:case 23:return hr(t),y0(),e!==null&&_t(qi),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Jn(nt),null;case 25:return null;default:return null}}function vA(e,t){switch(h0(t),t.tag){case 3:Jn(nt),us();break;case 26:case 27:case 5:Kd(t);break;case 4:us();break;case 31:t.memoizedState!==null&&hr(t);break;case 13:hr(t);break;case 19:_t(Ge);break;case 10:Jn(t.type);break;case 22:case 23:hr(t),y0(),e!==null&&_t(qi);break;case 24:Jn(nt)}}function Vc(e,t){try{var r=t.updateQueue,n=r!==null?r.lastEffect:null;if(n!==null){var a=n.next;r=a;do{if((r.tag&e)===e){n=void 0;var i=r.create,o=r.inst;n=i(),o.destroy=n}r=r.next}while(r!==a)}}catch(s){xe(t,t.return,s)}}function ui(e,t,r){try{var n=t.updateQueue,a=n!==null?n.lastEffect:null;if(a!==null){var i=a.next;n=i;do{if((n.tag&e)===e){var o=n.inst,s=o.destroy;if(s!==void 0){o.destroy=void 0,a=t;var c=r,u=s;try{u()}catch(d){xe(a,c,d)}}}n=n.next}while(n!==i)}}catch(d){xe(t,t.return,d)}}function yA(e){var t=e.updateQueue;if(t!==null){var r=e.stateNode;try{OO(t,r)}catch(n){xe(e,e.return,n)}}}function bA(e,t,r){r.props=Qi(e.type,e.memoizedProps),r.state=e.memoizedState;try{r.componentWillUnmount()}catch(n){xe(e,t,n)}}function ql(e,t){try{var r=e.ref;if(r!==null){switch(e.tag){case 26:case 27:case 5:var n=e.stateNode;break;case 30:n=e.stateNode;break;default:n=e.stateNode}typeof r=="function"?e.refCleanup=r(n):r.current=n}}catch(a){xe(e,t,a)}}function Sn(e,t){var r=e.ref,n=e.refCleanup;if(r!==null)if(typeof n=="function")try{n()}catch(a){xe(e,t,a)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(a){xe(e,t,a)}else r.current=null}function xA(e){var t=e.type,r=e.memoizedProps,n=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":r.autoFocus&&n.focus();break e;case"img":r.src?n.src=r.src:r.srcSet&&(n.srcset=r.srcSet)}}catch(a){xe(e,e.return,a)}}function Mp(e,t,r){try{var n=e.stateNode;wz(n,e.type,r,t),n[ar]=t}catch(a){xe(e,e.return,a)}}function wA(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&gi(e.type)||e.tag===4}function zp(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||wA(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&gi(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function fv(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(e,t):(t=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,t.appendChild(e),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Kn));else if(n!==4&&(n===27&&gi(e.type)&&(r=e.stateNode,t=null),e=e.child,e!==null))for(fv(e,t,r),e=e.sibling;e!==null;)fv(e,t,r),e=e.sibling}function lf(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(n===27&&gi(e.type)&&(r=e.stateNode),e=e.child,e!==null))for(lf(e,t,r),e=e.sibling;e!==null;)lf(e,t,r),e=e.sibling}function _A(e){var t=e.stateNode,r=e.memoizedProps;try{for(var n=e.type,a=t.attributes;a.length;)t.removeAttributeNode(a[0]);Mt(t,n,r),t[Nt]=e,t[ar]=r}catch(i){xe(e,e.return,i)}}var Wn=!1,rt=!1,Bp=!1,vw=typeof WeakSet=="function"?WeakSet:Set,bt=null;function ez(e,t){if(e=e.containerInfo,bv=bf,e=cO(e),l0(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,s=-1,c=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var m;f!==r||a!==0&&f.nodeType!==3||(s=o+a),f!==i||n!==0&&f.nodeType!==3||(c=o+n),f.nodeType===3&&(o+=f.nodeValue.length),(m=f.firstChild)!==null;)h=f,f=m;for(;;){if(f===e)break t;if(h===r&&++u===a&&(s=o),h===i&&++d===n&&(c=o),(m=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=m}r=s===-1||c===-1?null:{start:s,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(xv={focusedElem:e,selectionRange:r},bf=!1,bt=t;bt!==null;)if(t=bt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,bt=e;else for(;bt!==null;){switch(t=bt,i=t.alternate,e=t.flags,t.tag){case 0:if(e&4&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(r=0;r<e.length;r++)a=e[r],a.ref.impl=a.nextImpl;break;case 11:case 15:break;case 1:if(e&1024&&i!==null){e=void 0,r=t,a=i.memoizedProps,i=i.memoizedState,n=r.stateNode;try{var v=Qi(r.type,a);e=n.getSnapshotBeforeUpdate(v,i),n.__reactInternalSnapshotBeforeUpdate=e}catch(x){xe(r,r.return,x)}}break;case 3:if(e&1024){if(e=t.stateNode.containerInfo,r=e.nodeType,r===9)_v(e);else if(r===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":_v(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(e&1024)throw Error(W(163))}if(e=t.sibling,e!==null){e.return=t.return,bt=e;break}bt=t.return}}function jA(e,t,r){var n=r.flags;switch(r.tag){case 0:case 11:case 15:In(e,r),n&4&&Vc(5,r);break;case 1:if(In(e,r),n&4)if(e=r.stateNode,t===null)try{e.componentDidMount()}catch(o){xe(r,r.return,o)}else{var a=Qi(r.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(a,t,e.__reactInternalSnapshotBeforeUpdate)}catch(o){xe(r,r.return,o)}}n&64&&yA(r),n&512&&ql(r,r.return);break;case 3:if(In(e,r),n&64&&(e=r.updateQueue,e!==null)){if(t=null,r.child!==null)switch(r.child.tag){case 27:case 5:t=r.child.stateNode;break;case 1:t=r.child.stateNode}try{OO(e,t)}catch(o){xe(r,r.return,o)}}break;case 27:t===null&&n&4&&_A(r);case 26:case 5:In(e,r),t===null&&n&4&&xA(r),n&512&&ql(r,r.return);break;case 12:In(e,r);break;case 31:In(e,r),n&4&&EA(e,r);break;case 13:In(e,r),n&4&&OA(e,r),n&64&&(e=r.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(r=cz.bind(null,r),kz(e,r))));break;case 22:if(n=r.memoizedState!==null||Wn,!n){t=t!==null&&t.memoizedState!==null||rt,a=Wn;var i=rt;Wn=n,(rt=t)&&!i?$n(e,r,(r.subtreeFlags&8772)!==0):In(e,r),Wn=a,rt=i}break;case 30:break;default:In(e,r)}}function SA(e){var t=e.alternate;t!==null&&(e.alternate=null,SA(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&r0(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var $e=null,Qt=!1;function Bn(e,t,r){for(r=r.child;r!==null;)CA(e,t,r),r=r.sibling}function CA(e,t,r){if(wr&&typeof wr.onCommitFiberUnmount=="function")try{wr.onCommitFiberUnmount($c,r)}catch{}switch(r.tag){case 26:rt||Sn(r,t),Bn(e,t,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:rt||Sn(r,t);var n=$e,a=Qt;gi(r.type)&&($e=r.stateNode,Qt=!1),Bn(e,t,r),Vl(r.stateNode),$e=n,Qt=a;break;case 5:rt||Sn(r,t);case 6:if(n=$e,a=Qt,$e=null,Bn(e,t,r),$e=n,Qt=a,$e!==null)if(Qt)try{($e.nodeType===9?$e.body:$e.nodeName==="HTML"?$e.ownerDocument.body:$e).removeChild(r.stateNode)}catch(i){xe(r,t,i)}else try{$e.removeChild(r.stateNode)}catch(i){xe(r,t,i)}break;case 18:$e!==null&&(Qt?(e=$e,Tw(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,r.stateNode),xs(e)):Tw($e,r.stateNode));break;case 4:n=$e,a=Qt,$e=r.stateNode.containerInfo,Qt=!0,Bn(e,t,r),$e=n,Qt=a;break;case 0:case 11:case 14:case 15:ui(2,r,t),rt||ui(4,r,t),Bn(e,t,r);break;case 1:rt||(Sn(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"&&bA(r,t,n)),Bn(e,t,r);break;case 21:Bn(e,t,r);break;case 22:rt=(n=rt)||r.memoizedState!==null,Bn(e,t,r),rt=n;break;default:Bn(e,t,r)}}function EA(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{xs(e)}catch(r){xe(t,t.return,r)}}}function OA(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{xs(e)}catch(r){xe(t,t.return,r)}}function tz(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new vw),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new vw),t;default:throw Error(W(435,e.tag))}}function Wu(e,t){var r=tz(e);t.forEach(function(n){if(!r.has(n)){r.add(n);var a=uz.bind(null,e,n);n.then(a,a)}})}function Zt(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n],i=e,o=t,s=o;e:for(;s!==null;){switch(s.tag){case 27:if(gi(s.type)){$e=s.stateNode,Qt=!1;break e}break;case 5:$e=s.stateNode,Qt=!1;break e;case 3:case 4:$e=s.stateNode.containerInfo,Qt=!0;break e}s=s.return}if($e===null)throw Error(W(160));CA(i,o,a),$e=null,Qt=!1,i=a.alternate,i!==null&&(i.return=null),a.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)AA(t,e),t=t.sibling}var tn=null;function AA(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Zt(t,e),Jt(e),n&4&&(ui(3,e,e.return),Vc(3,e),ui(5,e,e.return));break;case 1:Zt(t,e),Jt(e),n&512&&(rt||r===null||Sn(r,r.return)),n&64&&Wn&&(e=e.updateQueue,e!==null&&(n=e.callbacks,n!==null&&(r=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=r===null?n:r.concat(n))));break;case 26:var a=tn;if(Zt(t,e),Jt(e),n&512&&(rt||r===null||Sn(r,r.return)),n&4){var i=r!==null?r.memoizedState:null;if(n=e.memoizedState,r===null)if(n===null)if(e.stateNode===null){e:{n=e.type,r=e.memoizedProps,a=a.ownerDocument||a;t:switch(n){case"title":i=a.getElementsByTagName("title")[0],(!i||i[qc]||i[Nt]||i.namespaceURI==="http://www.w3.org/2000/svg"||i.hasAttribute("itemprop"))&&(i=a.createElement(n),a.head.insertBefore(i,a.querySelector("head > title"))),Mt(i,n,r),i[Nt]=e,wt(i),n=i;break e;case"link":var o=Bw("link","href",a).get(n+(r.href||""));if(o){for(var s=0;s<o.length;s++)if(i=o[s],i.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&i.getAttribute("rel")===(r.rel==null?null:r.rel)&&i.getAttribute("title")===(r.title==null?null:r.title)&&i.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){o.splice(s,1);break t}}i=a.createElement(n),Mt(i,n,r),a.head.appendChild(i);break;case"meta":if(o=Bw("meta","content",a).get(n+(r.content||""))){for(s=0;s<o.length;s++)if(i=o[s],i.getAttribute("content")===(r.content==null?null:""+r.content)&&i.getAttribute("name")===(r.name==null?null:r.name)&&i.getAttribute("property")===(r.property==null?null:r.property)&&i.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&i.getAttribute("charset")===(r.charSet==null?null:r.charSet)){o.splice(s,1);break t}}i=a.createElement(n),Mt(i,n,r),a.head.appendChild(i);break;default:throw Error(W(468,n))}i[Nt]=e,wt(i),n=i}e.stateNode=n}else Iw(a,e.type,e.stateNode);else e.stateNode=zw(a,n,e.memoizedProps);else i!==n?(i===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):i.count--,n===null?Iw(a,e.type,e.stateNode):zw(a,n,e.memoizedProps)):n===null&&e.stateNode!==null&&Mp(e,e.memoizedProps,r.memoizedProps)}break;case 27:Zt(t,e),Jt(e),n&512&&(rt||r===null||Sn(r,r.return)),r!==null&&n&4&&Mp(e,e.memoizedProps,r.memoizedProps);break;case 5:if(Zt(t,e),Jt(e),n&512&&(rt||r===null||Sn(r,r.return)),e.flags&32){a=e.stateNode;try{fs(a,"")}catch(v){xe(e,e.return,v)}}n&4&&e.stateNode!=null&&(a=e.memoizedProps,Mp(e,a,r!==null?r.memoizedProps:a)),n&1024&&(Bp=!0);break;case 6:if(Zt(t,e),Jt(e),n&4){if(e.stateNode===null)throw Error(W(162));n=e.memoizedProps,r=e.stateNode;try{r.nodeValue=n}catch(v){xe(e,e.return,v)}}break;case 3:if(zd=null,a=tn,tn=gf(t.containerInfo),Zt(t,e),tn=a,Jt(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{xs(t.containerInfo)}catch(v){xe(e,e.return,v)}Bp&&(Bp=!1,kA(e));break;case 4:n=tn,tn=gf(e.stateNode.containerInfo),Zt(t,e),Jt(e),tn=n;break;case 12:Zt(t,e),Jt(e);break;case 31:Zt(t,e),Jt(e),n&4&&(n=e.updateQueue,n!==null&&(e.updateQueue=null,Wu(e,n)));break;case 13:Zt(t,e),Jt(e),e.child.flags&8192&&e.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&($h=xr()),n&4&&(n=e.updateQueue,n!==null&&(e.updateQueue=null,Wu(e,n)));break;case 22:a=e.memoizedState!==null;var c=r!==null&&r.memoizedState!==null,u=Wn,d=rt;if(Wn=u||a,rt=d||c,Zt(t,e),rt=d,Wn=u,Jt(e),n&8192)e:for(t=e.stateNode,t._visibility=a?t._visibility&-2:t._visibility|1,a&&(r===null||c||Wn||rt||Ai(e)),r=null,t=e;;){if(t.tag===5||t.tag===26){if(r===null){c=r=t;try{if(i=c.stateNode,a)o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none";else{s=c.stateNode;var f=c.memoizedProps.style,h=f!=null&&f.hasOwnProperty("display")?f.display:null;s.style.display=h==null||typeof h=="boolean"?"":(""+h).trim()}}catch(v){xe(c,c.return,v)}}}else if(t.tag===6){if(r===null){c=t;try{c.stateNode.nodeValue=a?"":c.memoizedProps}catch(v){xe(c,c.return,v)}}}else if(t.tag===18){if(r===null){c=t;try{var m=c.stateNode;a?Nw(m,!0):Nw(c.stateNode,!1)}catch(v){xe(c,c.return,v)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;r===t&&(r=null),t=t.return}r===t&&(r=null),t.sibling.return=t.return,t=t.sibling}n&4&&(n=e.updateQueue,n!==null&&(r=n.retryQueue,r!==null&&(n.retryQueue=null,Wu(e,r))));break;case 19:Zt(t,e),Jt(e),n&4&&(n=e.updateQueue,n!==null&&(e.updateQueue=null,Wu(e,n)));break;case 30:break;case 21:break;default:Zt(t,e),Jt(e)}}function Jt(e){var t=e.flags;if(t&2){try{for(var r,n=e.return;n!==null;){if(wA(n)){r=n;break}n=n.return}if(r==null)throw Error(W(160));switch(r.tag){case 27:var a=r.stateNode,i=zp(e);lf(e,i,a);break;case 5:var o=r.stateNode;r.flags&32&&(fs(o,""),r.flags&=-33);var s=zp(e);lf(e,s,o);break;case 3:case 4:var c=r.stateNode.containerInfo,u=zp(e);fv(e,u,c);break;default:throw Error(W(161))}}catch(d){xe(e,e.return,d)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function kA(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;kA(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function In(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)jA(e,t.alternate,t),t=t.sibling}function Ai(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:ui(4,t,t.return),Ai(t);break;case 1:Sn(t,t.return);var r=t.stateNode;typeof r.componentWillUnmount=="function"&&bA(t,t.return,r),Ai(t);break;case 27:Vl(t.stateNode);case 26:case 5:Sn(t,t.return),Ai(t);break;case 22:t.memoizedState===null&&Ai(t);break;case 30:Ai(t);break;default:Ai(t)}e=e.sibling}}function $n(e,t,r){for(r=r&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var n=t.alternate,a=e,i=t,o=i.flags;switch(i.tag){case 0:case 11:case 15:$n(a,i,r),Vc(4,i);break;case 1:if($n(a,i,r),n=i,a=n.stateNode,typeof a.componentDidMount=="function")try{a.componentDidMount()}catch(u){xe(n,n.return,u)}if(n=i,a=n.updateQueue,a!==null){var s=n.stateNode;try{var c=a.shared.hiddenCallbacks;if(c!==null)for(a.shared.hiddenCallbacks=null,a=0;a<c.length;a++)EO(c[a],s)}catch(u){xe(n,n.return,u)}}r&&o&64&&yA(i),ql(i,i.return);break;case 27:_A(i);case 26:case 5:$n(a,i,r),r&&n===null&&o&4&&xA(i),ql(i,i.return);break;case 12:$n(a,i,r);break;case 31:$n(a,i,r),r&&o&4&&EA(a,i);break;case 13:$n(a,i,r),r&&o&4&&OA(a,i);break;case 22:i.memoizedState===null&&$n(a,i,r),ql(i,i.return);break;case 30:break;default:$n(a,i,r)}t=t.sibling}}function P0(e,t){var r=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==r&&(e!=null&&e.refCount++,r!=null&&Hc(r))}function M0(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Hc(e))}function Zr(e,t,r,n){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)TA(e,t,r,n),t=t.sibling}function TA(e,t,r,n){var a=t.flags;switch(t.tag){case 0:case 11:case 15:Zr(e,t,r,n),a&2048&&Vc(9,t);break;case 1:Zr(e,t,r,n);break;case 3:Zr(e,t,r,n),a&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Hc(e)));break;case 12:if(a&2048){Zr(e,t,r,n),e=t.stateNode;try{var i=t.memoizedProps,o=i.id,s=i.onPostCommit;typeof s=="function"&&s(o,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(c){xe(t,t.return,c)}}else Zr(e,t,r,n);break;case 31:Zr(e,t,r,n);break;case 13:Zr(e,t,r,n);break;case 23:break;case 22:i=t.stateNode,o=t.alternate,t.memoizedState!==null?i._visibility&2?Zr(e,t,r,n):Wl(e,t):i._visibility&2?Zr(e,t,r,n):(i._visibility|=2,Po(e,t,r,n,(t.subtreeFlags&10256)!==0||!1)),a&2048&&P0(o,t);break;case 24:Zr(e,t,r,n),a&2048&&M0(t.alternate,t);break;default:Zr(e,t,r,n)}}function Po(e,t,r,n,a){for(a=a&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var i=e,o=t,s=r,c=n,u=o.flags;switch(o.tag){case 0:case 11:case 15:Po(i,o,s,c,a),Vc(8,o);break;case 23:break;case 22:var d=o.stateNode;o.memoizedState!==null?d._visibility&2?Po(i,o,s,c,a):Wl(i,o):(d._visibility|=2,Po(i,o,s,c,a)),a&&u&2048&&P0(o.alternate,o);break;case 24:Po(i,o,s,c,a),a&&u&2048&&M0(o.alternate,o);break;default:Po(i,o,s,c,a)}t=t.sibling}}function Wl(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var r=e,n=t,a=n.flags;switch(n.tag){case 22:Wl(r,n),a&2048&&P0(n.alternate,n);break;case 24:Wl(r,n),a&2048&&M0(n.alternate,n);break;default:Wl(r,n)}t=t.sibling}}var kl=8192;function So(e,t,r){if(e.subtreeFlags&kl)for(e=e.child;e!==null;)NA(e,t,r),e=e.sibling}function NA(e,t,r){switch(e.tag){case 26:So(e,t,r),e.flags&kl&&e.memoizedState!==null&&Uz(r,tn,e.memoizedState,e.memoizedProps);break;case 5:So(e,t,r);break;case 3:case 4:var n=tn;tn=gf(e.stateNode.containerInfo),So(e,t,r),tn=n;break;case 22:e.memoizedState===null&&(n=e.alternate,n!==null&&n.memoizedState!==null?(n=kl,kl=16777216,So(e,t,r),kl=n):So(e,t,r));break;default:So(e,t,r)}}function RA(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function pl(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var r=0;r<t.length;r++){var n=t[r];bt=n,PA(n,e)}RA(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)DA(e),e=e.sibling}function DA(e){switch(e.tag){case 0:case 11:case 15:pl(e),e.flags&2048&&ui(9,e,e.return);break;case 3:pl(e);break;case 12:pl(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Pd(e)):pl(e);break;default:pl(e)}}function Pd(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var r=0;r<t.length;r++){var n=t[r];bt=n,PA(n,e)}RA(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:ui(8,t,t.return),Pd(t);break;case 22:r=t.stateNode,r._visibility&2&&(r._visibility&=-3,Pd(t));break;default:Pd(t)}e=e.sibling}}function PA(e,t){for(;bt!==null;){var r=bt;switch(r.tag){case 0:case 11:case 15:ui(8,r,t);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var n=r.memoizedState.cachePool.pool;n!=null&&n.refCount++}break;case 24:Hc(r.memoizedState.cache)}if(n=r.child,n!==null)n.return=r,bt=n;else e:for(r=e;bt!==null;){n=bt;var a=n.sibling,i=n.return;if(SA(n),n===r){bt=null;break e}if(a!==null){a.return=i,bt=a;break e}bt=i}}}var rz={getCacheForType:function(e){var t=Dt(nt),r=t.data.get(e);return r===void 0&&(r=e(),t.data.set(e,r)),r},cacheSignal:function(){return Dt(nt).controller.signal}},nz=typeof WeakMap=="function"?WeakMap:Map,ge=0,Oe=null,ue=null,de=0,ye=0,dr=null,Ka=!1,Is=!1,z0=!1,oa=0,Ve=0,di=0,Hi=0,B0=0,yr=0,gs=0,Hl=null,er=null,hv=!1,$h=0,MA=0,cf=1/0,uf=null,ri=null,ut=0,ni=null,vs=null,Qn=0,mv=0,pv=null,zA=null,Fl=0,gv=null;function jr(){return ge&2&&de!==0?de&-de:ae.T!==null?$0():FE()}function BA(){if(yr===0)if(!(de&536870912)||fe){var e=Mu;Mu<<=1,!(Mu&3932160)&&(Mu=262144),yr=e}else yr=536870912;return e=Er.current,e!==null&&(e.flags|=32),yr}function nr(e,t,r){(e===Oe&&(ye===2||ye===9)||e.cancelPendingCommit!==null)&&(ys(e,0),Ga(e,de,yr,!1)),Uc(e,r),(!(ge&2)||e!==Oe)&&(e===Oe&&(!(ge&2)&&(Hi|=r),Ve===4&&Ga(e,de,yr,!1)),Dn(e))}function IA(e,t,r){if(ge&6)throw Error(W(327));var n=!r&&(t&127)===0&&(t&e.expiredLanes)===0||Lc(e,t),a=n?oz(e,t):Ip(e,t,!0),i=n;do{if(a===0){Is&&!n&&Ga(e,t,0,!1);break}else{if(r=e.current.alternate,i&&!az(r)){a=Ip(e,t,!1),i=!1;continue}if(a===2){if(i=t,e.errorRecoveryDisabledLanes&i)var o=0;else o=e.pendingLanes&-536870913,o=o!==0?o:o&536870912?536870912:0;if(o!==0){t=o;e:{var s=e;a=Hl;var c=s.current.memoizedState.isDehydrated;if(c&&(ys(s,o).flags|=256),o=Ip(s,o,!1),o!==2){if(z0&&!c){s.errorRecoveryDisabledLanes|=i,Hi|=i,a=4;break e}i=er,er=a,i!==null&&(er===null?er=i:er.push.apply(er,i))}a=o}if(i=!1,a!==2)continue}}if(a===1){ys(e,0),Ga(e,t,0,!0);break}e:{switch(n=e,i=a,i){case 0:case 1:throw Error(W(345));case 4:if((t&4194048)!==t)break;case 6:Ga(n,t,yr,!Ka);break e;case 2:er=null;break;case 3:case 5:break;default:throw Error(W(329))}if((t&62914560)===t&&(a=$h+300-xr(),10<a)){if(Ga(n,t,yr,!Ka),Ah(n,0,!0)!==0)break e;Qn=t,n.timeoutHandle=a2(yw.bind(null,n,r,er,uf,hv,t,yr,Hi,gs,Ka,i,"Throttled",-0,0),a);break e}yw(n,r,er,uf,hv,t,yr,Hi,gs,Ka,i,null,-0,0)}}break}while(!0);Dn(e)}function yw(e,t,r,n,a,i,o,s,c,u,d,f,h,m){if(e.timeoutHandle=-1,f=t.subtreeFlags,f&8192||(f&16785408)===16785408){f={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Kn},NA(t,i,f);var v=(i&62914560)===i?$h-xr():(i&4194048)===i?MA-xr():0;if(v=qz(f,v),v!==null){Qn=i,e.cancelPendingCommit=v(xw.bind(null,e,t,i,r,n,a,o,s,c,d,f,null,h,m)),Ga(e,i,o,!u);return}}xw(e,t,i,r,n,a,o,s,c)}function az(e){for(var t=e;;){var r=t.tag;if((r===0||r===11||r===15)&&t.flags&16384&&(r=t.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var n=0;n<r.length;n++){var a=r[n],i=a.getSnapshot;a=a.value;try{if(!Cr(i(),a))return!1}catch{return!1}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ga(e,t,r,n){t&=~B0,t&=~Hi,e.suspendedLanes|=t,e.pingedLanes&=~t,n&&(e.warmLanes|=t),n=e.expirationTimes;for(var a=t;0<a;){var i=31-_r(a),o=1<<i;n[i]=-1,a&=~o}r!==0&&qE(e,r,t)}function Lh(){return ge&6?!0:(Kc(0),!1)}function I0(){if(ue!==null){if(ye===0)var e=ue.return;else e=ue,Gn=ho=null,j0(e),ns=null,sc=0,e=ue;for(;e!==null;)vA(e.alternate,e),e=e.return;ue=null}}function ys(e,t){var r=e.timeoutHandle;r!==-1&&(e.timeoutHandle=-1,Sz(r)),r=e.cancelPendingCommit,r!==null&&(e.cancelPendingCommit=null,r()),Qn=0,I0(),Oe=e,ue=r=Zn(e.current,null),de=t,ye=0,dr=null,Ka=!1,Is=Lc(e,t),z0=!1,gs=yr=B0=Hi=di=Ve=0,er=Hl=null,hv=!1,t&8&&(t|=t&32);var n=e.entangledLanes;if(n!==0)for(e=e.entanglements,n&=t;0<n;){var a=31-_r(n),i=1<<a;t|=e[a],n&=~i}return oa=t,Rh(),r}function $A(e,t){se=null,ae.H=cc,t===Bs||t===Ph?(t=X1(),ye=3):t===g0?(t=X1(),ye=4):ye=t===R0?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,dr=t,ue===null&&(Ve=1,of(e,$r(t,e.current)))}function LA(){var e=Er.current;return e===null?!0:(de&4194048)===de?qr===null:(de&62914560)===de||de&536870912?e===qr:!1}function UA(){var e=ae.H;return ae.H=cc,e===null?cc:e}function qA(){var e=ae.A;return ae.A=rz,e}function df(){Ve=4,Ka||(de&4194048)!==de&&Er.current!==null||(Is=!0),!(di&134217727)&&!(Hi&134217727)||Oe===null||Ga(Oe,de,yr,!1)}function Ip(e,t,r){var n=ge;ge|=2;var a=UA(),i=qA();(Oe!==e||de!==t)&&(uf=null,ys(e,t)),t=!1;var o=Ve;e:do try{if(ye!==0&&ue!==null){var s=ue,c=dr;switch(ye){case 8:I0(),o=6;break e;case 3:case 2:case 9:case 6:Er.current===null&&(t=!0);var u=ye;if(ye=0,dr=null,Xo(e,s,c,u),r&&Is){o=0;break e}break;default:u=ye,ye=0,dr=null,Xo(e,s,c,u)}}iz(),o=Ve;break}catch(d){$A(e,d)}while(!0);return t&&e.shellSuspendCounter++,Gn=ho=null,ge=n,ae.H=a,ae.A=i,ue===null&&(Oe=null,de=0,Rh()),o}function iz(){for(;ue!==null;)WA(ue)}function oz(e,t){var r=ge;ge|=2;var n=UA(),a=qA();Oe!==e||de!==t?(uf=null,cf=xr()+500,ys(e,t)):Is=Lc(e,t);e:do try{if(ye!==0&&ue!==null){t=ue;var i=dr;t:switch(ye){case 1:ye=0,dr=null,Xo(e,t,i,1);break;case 2:case 9:if(Y1(i)){ye=0,dr=null,bw(t);break}t=function(){ye!==2&&ye!==9||Oe!==e||(ye=7),Dn(e)},i.then(t,t);break e;case 3:ye=7;break e;case 4:ye=5;break e;case 7:Y1(i)?(ye=0,dr=null,bw(t)):(ye=0,dr=null,Xo(e,t,i,7));break;case 5:var o=null;switch(ue.tag){case 26:o=ue.memoizedState;case 5:case 27:var s=ue;if(o?c2(o):s.stateNode.complete){ye=0,dr=null;var c=s.sibling;if(c!==null)ue=c;else{var u=s.return;u!==null?(ue=u,Uh(u)):ue=null}break t}}ye=0,dr=null,Xo(e,t,i,5);break;case 6:ye=0,dr=null,Xo(e,t,i,6);break;case 8:I0(),Ve=6;break e;default:throw Error(W(462))}}sz();break}catch(d){$A(e,d)}while(!0);return Gn=ho=null,ae.H=n,ae.A=a,ge=r,ue!==null?0:(Oe=null,de=0,Rh(),Ve)}function sz(){for(;ue!==null&&!T5();)WA(ue)}function WA(e){var t=gA(e.alternate,e,oa);e.memoizedProps=e.pendingProps,t===null?Uh(e):ue=t}function bw(e){var t=e,r=t.alternate;switch(t.tag){case 15:case 0:t=fw(r,t,t.pendingProps,t.type,void 0,de);break;case 11:t=fw(r,t,t.pendingProps,t.type.render,t.ref,de);break;case 5:j0(t);default:vA(r,t),t=ue=vO(t,oa),t=gA(r,t,oa)}e.memoizedProps=e.pendingProps,t===null?Uh(e):ue=t}function Xo(e,t,r,n){Gn=ho=null,j0(t),ns=null,sc=0;var a=t.return;try{if(Y4(e,a,t,r,de)){Ve=1,of(e,$r(r,e.current)),ue=null;return}}catch(i){if(a!==null)throw ue=a,i;Ve=1,of(e,$r(r,e.current)),ue=null;return}t.flags&32768?(fe||n===1?e=!0:Is||de&536870912?e=!1:(Ka=e=!0,(n===2||n===9||n===3||n===6)&&(n=Er.current,n!==null&&n.tag===13&&(n.flags|=16384))),HA(t,e)):Uh(t)}function Uh(e){var t=e;do{if(t.flags&32768){HA(t,Ka);return}e=t.return;var r=J4(t.alternate,t,oa);if(r!==null){ue=r;return}if(t=t.sibling,t!==null){ue=t;return}ue=t=e}while(t!==null);Ve===0&&(Ve=5)}function HA(e,t){do{var r=Q4(e.alternate,e);if(r!==null){r.flags&=32767,ue=r;return}if(r=e.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!t&&(e=e.sibling,e!==null)){ue=e;return}ue=e=r}while(e!==null);Ve=6,ue=null}function xw(e,t,r,n,a,i,o,s,c){e.cancelPendingCommit=null;do qh();while(ut!==0);if(ge&6)throw Error(W(327));if(t!==null){if(t===e.current)throw Error(W(177));if(i=t.lanes|t.childLanes,i|=c0,L5(e,r,i,o,s,c),e===Oe&&(ue=Oe=null,de=0),vs=t,ni=e,Qn=r,mv=i,pv=a,zA=n,t.subtreeFlags&10256||t.flags&10256?(e.callbackNode=null,e.callbackPriority=0,dz(Gd,function(){return YA(),null})):(e.callbackNode=null,e.callbackPriority=0),n=(t.flags&13878)!==0,t.subtreeFlags&13878||n){n=ae.T,ae.T=null,a=ve.p,ve.p=2,o=ge,ge|=4;try{ez(e,t,r)}finally{ge=o,ve.p=a,ae.T=n}}ut=1,FA(),VA(),KA()}}function FA(){if(ut===1){ut=0;var e=ni,t=vs,r=(t.flags&13878)!==0;if(t.subtreeFlags&13878||r){r=ae.T,ae.T=null;var n=ve.p;ve.p=2;var a=ge;ge|=4;try{AA(t,e);var i=xv,o=cO(e.containerInfo),s=i.focusedElem,c=i.selectionRange;if(o!==s&&s&&s.ownerDocument&&lO(s.ownerDocument.documentElement,s)){if(c!==null&&l0(s)){var u=c.start,d=c.end;if(d===void 0&&(d=u),"selectionStart"in s)s.selectionStart=u,s.selectionEnd=Math.min(d,s.value.length);else{var f=s.ownerDocument||document,h=f&&f.defaultView||window;if(h.getSelection){var m=h.getSelection(),v=s.textContent.length,x=Math.min(c.start,v),b=c.end===void 0?x:Math.min(c.end,v);!m.extend&&x>b&&(o=b,b=x,x=o);var y=q1(s,x),g=q1(s,b);if(y&&g&&(m.rangeCount!==1||m.anchorNode!==y.node||m.anchorOffset!==y.offset||m.focusNode!==g.node||m.focusOffset!==g.offset)){var w=f.createRange();w.setStart(y.node,y.offset),m.removeAllRanges(),x>b?(m.addRange(w),m.extend(g.node,g.offset)):(w.setEnd(g.node,g.offset),m.addRange(w))}}}}for(f=[],m=s;m=m.parentNode;)m.nodeType===1&&f.push({element:m,left:m.scrollLeft,top:m.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<f.length;s++){var _=f[s];_.element.scrollLeft=_.left,_.element.scrollTop=_.top}}bf=!!bv,xv=bv=null}finally{ge=a,ve.p=n,ae.T=r}}e.current=t,ut=2}}function VA(){if(ut===2){ut=0;var e=ni,t=vs,r=(t.flags&8772)!==0;if(t.subtreeFlags&8772||r){r=ae.T,ae.T=null;var n=ve.p;ve.p=2;var a=ge;ge|=4;try{jA(e,t.alternate,t)}finally{ge=a,ve.p=n,ae.T=r}}ut=3}}function KA(){if(ut===4||ut===3){ut=0,N5();var e=ni,t=vs,r=Qn,n=zA;t.subtreeFlags&10256||t.flags&10256?ut=5:(ut=0,vs=ni=null,GA(e,e.pendingLanes));var a=e.pendingLanes;if(a===0&&(ri=null),t0(r),t=t.stateNode,wr&&typeof wr.onCommitFiberRoot=="function")try{wr.onCommitFiberRoot($c,t,void 0,(t.current.flags&128)===128)}catch{}if(n!==null){t=ae.T,a=ve.p,ve.p=2,ae.T=null;try{for(var i=e.onRecoverableError,o=0;o<n.length;o++){var s=n[o];i(s.value,{componentStack:s.stack})}}finally{ae.T=t,ve.p=a}}Qn&3&&qh(),Dn(e),a=e.pendingLanes,r&261930&&a&42?e===gv?Fl++:(Fl=0,gv=e):Fl=0,Kc(0)}}function GA(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Hc(t)))}function qh(){return FA(),VA(),KA(),YA()}function YA(){if(ut!==5)return!1;var e=ni,t=mv;mv=0;var r=t0(Qn),n=ae.T,a=ve.p;try{ve.p=32>r?32:r,ae.T=null,r=pv,pv=null;var i=ni,o=Qn;if(ut=0,vs=ni=null,Qn=0,ge&6)throw Error(W(331));var s=ge;if(ge|=4,DA(i.current),TA(i,i.current,o,r),ge=s,Kc(0,!1),wr&&typeof wr.onPostCommitFiberRoot=="function")try{wr.onPostCommitFiberRoot($c,i)}catch{}return!0}finally{ve.p=a,ae.T=n,GA(e,t)}}function ww(e,t,r){t=$r(r,t),t=cv(e.stateNode,t,2),e=ti(e,t,2),e!==null&&(Uc(e,2),Dn(e))}function xe(e,t,r){if(e.tag===3)ww(e,e,r);else for(;t!==null;){if(t.tag===3){ww(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(ri===null||!ri.has(n))){e=$r(r,e),r=uA(2),n=ti(t,r,2),n!==null&&(dA(r,n,t,e),Uc(n,2),Dn(n));break}}t=t.return}}function $p(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new nz;var a=new Set;n.set(t,a)}else a=n.get(t),a===void 0&&(a=new Set,n.set(t,a));a.has(r)||(z0=!0,a.add(r),e=lz.bind(null,e,t,r),t.then(e,e))}function lz(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),e.pingedLanes|=e.suspendedLanes&r,e.warmLanes&=~r,Oe===e&&(de&r)===r&&(Ve===4||Ve===3&&(de&62914560)===de&&300>xr()-$h?!(ge&2)&&ys(e,0):B0|=r,gs===de&&(gs=0)),Dn(e)}function XA(e,t){t===0&&(t=UE()),e=fo(e,t),e!==null&&(Uc(e,t),Dn(e))}function cz(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),XA(e,r)}function uz(e,t){var r=0;switch(e.tag){case 31:case 13:var n=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=e.stateNode;break;case 22:n=e.stateNode._retryCache;break;default:throw Error(W(314))}n!==null&&n.delete(t),XA(e,r)}function dz(e,t){return Qy(e,t)}var ff=null,Mo=null,vv=!1,hf=!1,Lp=!1,Ya=0;function Dn(e){e!==Mo&&e.next===null&&(Mo===null?ff=Mo=e:Mo=Mo.next=e),hf=!0,vv||(vv=!0,hz())}function Kc(e,t){if(!Lp&&hf){Lp=!0;do for(var r=!1,n=ff;n!==null;){if(e!==0){var a=n.pendingLanes;if(a===0)var i=0;else{var o=n.suspendedLanes,s=n.pingedLanes;i=(1<<31-_r(42|e)+1)-1,i&=a&~(o&~s),i=i&201326741?i&201326741|1:i?i|2:0}i!==0&&(r=!0,_w(n,i))}else i=de,i=Ah(n,n===Oe?i:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),!(i&3)||Lc(n,i)||(r=!0,_w(n,i));n=n.next}while(r);Lp=!1}}function fz(){ZA()}function ZA(){hf=vv=!1;var e=0;Ya!==0&&jz()&&(e=Ya);for(var t=xr(),r=null,n=ff;n!==null;){var a=n.next,i=JA(n,t);i===0?(n.next=null,r===null?ff=a:r.next=a,a===null&&(Mo=r)):(r=n,(e!==0||i&3)&&(hf=!0)),n=a}ut!==0&&ut!==5||Kc(e),Ya!==0&&(Ya=0)}function JA(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes&-62914561;0<i;){var o=31-_r(i),s=1<<o,c=a[o];c===-1?(!(s&r)||s&n)&&(a[o]=$5(s,t)):c<=t&&(e.expiredLanes|=s),i&=~s}if(t=Oe,r=de,r=Ah(e,e===t?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),n=e.callbackNode,r===0||e===t&&(ye===2||ye===9)||e.cancelPendingCommit!==null)return n!==null&&n!==null&&mp(n),e.callbackNode=null,e.callbackPriority=0;if(!(r&3)||Lc(e,r)){if(t=r&-r,t===e.callbackPriority)return t;switch(n!==null&&mp(n),t0(r)){case 2:case 8:r=$E;break;case 32:r=Gd;break;case 268435456:r=LE;break;default:r=Gd}return n=QA.bind(null,e),r=Qy(r,n),e.callbackPriority=t,e.callbackNode=r,t}return n!==null&&n!==null&&mp(n),e.callbackPriority=2,e.callbackNode=null,2}function QA(e,t){if(ut!==0&&ut!==5)return e.callbackNode=null,e.callbackPriority=0,null;var r=e.callbackNode;if(qh()&&e.callbackNode!==r)return null;var n=de;return n=Ah(e,e===Oe?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),n===0?null:(IA(e,n,t),JA(e,xr()),e.callbackNode!=null&&e.callbackNode===r?QA.bind(null,e):null)}function _w(e,t){if(qh())return null;IA(e,t,!0)}function hz(){Cz(function(){ge&6?Qy(IE,fz):ZA()})}function $0(){if(Ya===0){var e=hs;e===0&&(e=Pu,Pu<<=1,!(Pu&261888)&&(Pu=256)),Ya=e}return Ya}function jw(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Cd(""+e)}function Sw(e,t){var r=t.ownerDocument.createElement("input");return r.name=t.name,r.value=t.value,e.id&&r.setAttribute("form",e.id),t.parentNode.insertBefore(r,t),e=new FormData(e),r.parentNode.removeChild(r),e}function mz(e,t,r,n,a){if(t==="submit"&&r&&r.stateNode===a){var i=jw((a[ar]||null).action),o=n.submitter;o&&(t=(t=o[ar]||null)?jw(t.formAction):o.getAttribute("formAction"),t!==null&&(i=t,o=null));var s=new kh("action","action",null,n,a);e.push({event:s,listeners:[{instance:null,listener:function(){if(n.defaultPrevented){if(Ya!==0){var c=o?Sw(a,o):new FormData(a);sv(r,{pending:!0,data:c,method:a.method,action:i},null,c)}}else typeof i=="function"&&(s.preventDefault(),c=o?Sw(a,o):new FormData(a),sv(r,{pending:!0,data:c,method:a.method,action:i},i,c))},currentTarget:a}]})}}for(var Up=0;Up<Yg.length;Up++){var qp=Yg[Up],pz=qp.toLowerCase(),gz=qp[0].toUpperCase()+qp.slice(1);hn(pz,"on"+gz)}hn(dO,"onAnimationEnd");hn(fO,"onAnimationIteration");hn(hO,"onAnimationStart");hn("dblclick","onDoubleClick");hn("focusin","onFocus");hn("focusout","onBlur");hn(R4,"onTransitionRun");hn(D4,"onTransitionStart");hn(P4,"onTransitionCancel");hn(mO,"onTransitionEnd");ds("onMouseEnter",["mouseout","mouseover"]);ds("onMouseLeave",["mouseout","mouseover"]);ds("onPointerEnter",["pointerout","pointerover"]);ds("onPointerLeave",["pointerout","pointerover"]);lo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));lo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));lo("onBeforeInput",["compositionend","keypress","textInput","paste"]);lo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));lo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));lo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var uc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),vz=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(uc));function e2(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var i=void 0;if(t)for(var o=n.length-1;0<=o;o--){var s=n[o],c=s.instance,u=s.currentTarget;if(s=s.listener,c!==i&&a.isPropagationStopped())break e;i=s,a.currentTarget=u;try{i(a)}catch(d){Xd(d)}a.currentTarget=null,i=c}else for(o=0;o<n.length;o++){if(s=n[o],c=s.instance,u=s.currentTarget,s=s.listener,c!==i&&a.isPropagationStopped())break e;i=s,a.currentTarget=u;try{i(a)}catch(d){Xd(d)}a.currentTarget=null,i=c}}}}function ce(e,t){var r=t[Ug];r===void 0&&(r=t[Ug]=new Set);var n=e+"__bubble";r.has(n)||(t2(t,e,2,!1),r.add(n))}function Wp(e,t,r){var n=0;t&&(n|=4),t2(r,e,n,t)}var Hu="_reactListening"+Math.random().toString(36).slice(2);function L0(e){if(!e[Hu]){e[Hu]=!0,VE.forEach(function(r){r!=="selectionchange"&&(vz.has(r)||Wp(r,!1,e),Wp(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Hu]||(t[Hu]=!0,Wp("selectionchange",!1,t))}}function t2(e,t,r,n){switch(m2(t)){case 2:var a=Fz;break;case 8:a=Vz;break;default:a=H0}r=a.bind(null,t,r,e),a=void 0,!Vg||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),n?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function Hp(e,t,r,n,a){var i=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var s=n.stateNode.containerInfo;if(s===a)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&o.stateNode.containerInfo===a)return;o=o.return}for(;s!==null;){if(o=Uo(s),o===null)return;if(c=o.tag,c===5||c===6||c===26||c===27){n=i=o;continue e}s=s.parentNode}}n=n.return}eO(function(){var u=i,d=a0(r),f=[];e:{var h=pO.get(e);if(h!==void 0){var m=kh,v=e;switch(e){case"keypress":if(Od(r)===0)break e;case"keydown":case"keyup":m=u4;break;case"focusin":v="focus",m=bp;break;case"focusout":v="blur",m=bp;break;case"beforeblur":case"afterblur":m=bp;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=R1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=J5;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=h4;break;case dO:case fO:case hO:m=t4;break;case mO:m=p4;break;case"scroll":case"scrollend":m=X5;break;case"wheel":m=v4;break;case"copy":case"cut":case"paste":m=n4;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=P1;break;case"toggle":case"beforetoggle":m=b4}var x=(t&4)!==0,b=!x&&(e==="scroll"||e==="scrollend"),y=x?h!==null?h+"Capture":null:h;x=[];for(var g=u,w;g!==null;){var _=g;if(w=_.stateNode,_=_.tag,_!==5&&_!==26&&_!==27||w===null||y===null||(_=rc(g,y),_!=null&&x.push(dc(g,_,w))),b)break;g=g.return}0<x.length&&(h=new m(h,v,null,r,d),f.push({event:h,listeners:x}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",h&&r!==Fg&&(v=r.relatedTarget||r.fromElement)&&(Uo(v)||v[Ps]))break e;if((m||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,m?(v=r.relatedTarget||r.toElement,m=u,v=v?Uo(v):null,v!==null&&(b=Ic(v),x=v.tag,v!==b||x!==5&&x!==27&&x!==6)&&(v=null)):(m=null,v=u),m!==v)){if(x=R1,_="onMouseLeave",y="onMouseEnter",g="mouse",(e==="pointerout"||e==="pointerover")&&(x=P1,_="onPointerLeave",y="onPointerEnter",g="pointer"),b=m==null?h:Ol(m),w=v==null?h:Ol(v),h=new x(_,g+"leave",m,r,d),h.target=b,h.relatedTarget=w,_=null,Uo(d)===u&&(x=new x(y,g+"enter",v,r,d),x.target=w,x.relatedTarget=b,_=x),b=_,m&&v)t:{for(x=yz,y=m,g=v,w=0,_=y;_;_=x(_))w++;_=0;for(var j=g;j;j=x(j))_++;for(;0<w-_;)y=x(y),w--;for(;0<_-w;)g=x(g),_--;for(;w--;){if(y===g||g!==null&&y===g.alternate){x=y;break t}y=x(y),g=x(g)}x=null}else x=null;m!==null&&Cw(f,h,m,x,!1),v!==null&&b!==null&&Cw(f,b,v,x,!0)}}e:{if(h=u?Ol(u):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var S=I1;else if(B1(h))if(oO)S=k4;else{S=O4;var C=E4}else m=h.nodeName,!m||m.toLowerCase()!=="input"||h.type!=="checkbox"&&h.type!=="radio"?u&&n0(u.elementType)&&(S=I1):S=A4;if(S&&(S=S(e,u))){iO(f,S,r,d);break e}C&&C(e,h,u),e==="focusout"&&u&&h.type==="number"&&u.memoizedProps.value!=null&&Hg(h,"number",h.value)}switch(C=u?Ol(u):window,e){case"focusin":(B1(C)||C.contentEditable==="true")&&(Ho=C,Kg=u,zl=null);break;case"focusout":zl=Kg=Ho=null;break;case"mousedown":Gg=!0;break;case"contextmenu":case"mouseup":case"dragend":Gg=!1,W1(f,r,d);break;case"selectionchange":if(N4)break;case"keydown":case"keyup":W1(f,r,d)}var E;if(s0)e:{switch(e){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else Wo?nO(e,r)&&(T="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(T="onCompositionStart");T&&(rO&&r.locale!=="ko"&&(Wo||T!=="onCompositionStart"?T==="onCompositionEnd"&&Wo&&(E=tO()):(Va=d,i0="value"in Va?Va.value:Va.textContent,Wo=!0)),C=mf(u,T),0<C.length&&(T=new D1(T,e,null,r,d),f.push({event:T,listeners:C}),E?T.data=E:(E=aO(r),E!==null&&(T.data=E)))),(E=w4?_4(e,r):j4(e,r))&&(T=mf(u,"onBeforeInput"),0<T.length&&(C=new D1("onBeforeInput","beforeinput",null,r,d),f.push({event:C,listeners:T}),C.data=E)),mz(f,e,u,r,d)}e2(f,t)})}function dc(e,t,r){return{instance:e,listener:t,currentTarget:r}}function mf(e,t){for(var r=t+"Capture",n=[];e!==null;){var a=e,i=a.stateNode;if(a=a.tag,a!==5&&a!==26&&a!==27||i===null||(a=rc(e,r),a!=null&&n.unshift(dc(e,a,i)),a=rc(e,t),a!=null&&n.push(dc(e,a,i))),e.tag===3)return n;e=e.return}return[]}function yz(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Cw(e,t,r,n,a){for(var i=t._reactName,o=[];r!==null&&r!==n;){var s=r,c=s.alternate,u=s.stateNode;if(s=s.tag,c!==null&&c===n)break;s!==5&&s!==26&&s!==27||u===null||(c=u,a?(u=rc(r,i),u!=null&&o.unshift(dc(r,u,c))):a||(u=rc(r,i),u!=null&&o.push(dc(r,u,c)))),r=r.return}o.length!==0&&e.push({event:t,listeners:o})}var bz=/\r\n?/g,xz=/\u0000|\uFFFD/g;function Ew(e){return(typeof e=="string"?e:""+e).replace(bz,`
`).replace(xz,"")}function r2(e,t){return t=Ew(t),Ew(e)===t}function _e(e,t,r,n,a,i){switch(r){case"children":typeof n=="string"?t==="body"||t==="textarea"&&n===""||fs(e,n):(typeof n=="number"||typeof n=="bigint")&&t!=="body"&&fs(e,""+n);break;case"className":Bu(e,"class",n);break;case"tabIndex":Bu(e,"tabindex",n);break;case"dir":case"role":case"viewBox":case"width":case"height":Bu(e,r,n);break;case"style":QE(e,n,i);break;case"data":if(t!=="object"){Bu(e,"data",n);break}case"src":case"href":if(n===""&&(t!=="a"||r!=="href")){e.removeAttribute(r);break}if(n==null||typeof n=="function"||typeof n=="symbol"||typeof n=="boolean"){e.removeAttribute(r);break}n=Cd(""+n),e.setAttribute(r,n);break;case"action":case"formAction":if(typeof n=="function"){e.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof i=="function"&&(r==="formAction"?(t!=="input"&&_e(e,t,"name",a.name,a,null),_e(e,t,"formEncType",a.formEncType,a,null),_e(e,t,"formMethod",a.formMethod,a,null),_e(e,t,"formTarget",a.formTarget,a,null)):(_e(e,t,"encType",a.encType,a,null),_e(e,t,"method",a.method,a,null),_e(e,t,"target",a.target,a,null)));if(n==null||typeof n=="symbol"||typeof n=="boolean"){e.removeAttribute(r);break}n=Cd(""+n),e.setAttribute(r,n);break;case"onClick":n!=null&&(e.onclick=Kn);break;case"onScroll":n!=null&&ce("scroll",e);break;case"onScrollEnd":n!=null&&ce("scrollend",e);break;case"dangerouslySetInnerHTML":if(n!=null){if(typeof n!="object"||!("__html"in n))throw Error(W(61));if(r=n.__html,r!=null){if(a.children!=null)throw Error(W(60));e.innerHTML=r}}break;case"multiple":e.multiple=n&&typeof n!="function"&&typeof n!="symbol";break;case"muted":e.muted=n&&typeof n!="function"&&typeof n!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(n==null||typeof n=="function"||typeof n=="boolean"||typeof n=="symbol"){e.removeAttribute("xlink:href");break}r=Cd(""+n),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":n!=null&&typeof n!="function"&&typeof n!="symbol"?e.setAttribute(r,""+n):e.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":n&&typeof n!="function"&&typeof n!="symbol"?e.setAttribute(r,""):e.removeAttribute(r);break;case"capture":case"download":n===!0?e.setAttribute(r,""):n!==!1&&n!=null&&typeof n!="function"&&typeof n!="symbol"?e.setAttribute(r,n):e.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":n!=null&&typeof n!="function"&&typeof n!="symbol"&&!isNaN(n)&&1<=n?e.setAttribute(r,n):e.removeAttribute(r);break;case"rowSpan":case"start":n==null||typeof n=="function"||typeof n=="symbol"||isNaN(n)?e.removeAttribute(r):e.setAttribute(r,n);break;case"popover":ce("beforetoggle",e),ce("toggle",e),Sd(e,"popover",n);break;case"xlinkActuate":Mn(e,"http://www.w3.org/1999/xlink","xlink:actuate",n);break;case"xlinkArcrole":Mn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",n);break;case"xlinkRole":Mn(e,"http://www.w3.org/1999/xlink","xlink:role",n);break;case"xlinkShow":Mn(e,"http://www.w3.org/1999/xlink","xlink:show",n);break;case"xlinkTitle":Mn(e,"http://www.w3.org/1999/xlink","xlink:title",n);break;case"xlinkType":Mn(e,"http://www.w3.org/1999/xlink","xlink:type",n);break;case"xmlBase":Mn(e,"http://www.w3.org/XML/1998/namespace","xml:base",n);break;case"xmlLang":Mn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",n);break;case"xmlSpace":Mn(e,"http://www.w3.org/XML/1998/namespace","xml:space",n);break;case"is":Sd(e,"is",n);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=G5.get(r)||r,Sd(e,r,n))}}function yv(e,t,r,n,a,i){switch(r){case"style":QE(e,n,i);break;case"dangerouslySetInnerHTML":if(n!=null){if(typeof n!="object"||!("__html"in n))throw Error(W(61));if(r=n.__html,r!=null){if(a.children!=null)throw Error(W(60));e.innerHTML=r}}break;case"children":typeof n=="string"?fs(e,n):(typeof n=="number"||typeof n=="bigint")&&fs(e,""+n);break;case"onScroll":n!=null&&ce("scroll",e);break;case"onScrollEnd":n!=null&&ce("scrollend",e);break;case"onClick":n!=null&&(e.onclick=Kn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!KE.hasOwnProperty(r))e:{if(r[0]==="o"&&r[1]==="n"&&(a=r.endsWith("Capture"),t=r.slice(2,a?r.length-7:void 0),i=e[ar]||null,i=i!=null?i[r]:null,typeof i=="function"&&e.removeEventListener(t,i,a),typeof n=="function")){typeof i!="function"&&i!==null&&(r in e?e[r]=null:e.hasAttribute(r)&&e.removeAttribute(r)),e.addEventListener(t,n,a);break e}r in e?e[r]=n:n===!0?e.setAttribute(r,""):Sd(e,r,n)}}}function Mt(e,t,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ce("error",e),ce("load",e);var n=!1,a=!1,i;for(i in r)if(r.hasOwnProperty(i)){var o=r[i];if(o!=null)switch(i){case"src":n=!0;break;case"srcSet":a=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(W(137,t));default:_e(e,t,i,o,r,null)}}a&&_e(e,t,"srcSet",r.srcSet,r,null),n&&_e(e,t,"src",r.src,r,null);return;case"input":ce("invalid",e);var s=i=o=a=null,c=null,u=null;for(n in r)if(r.hasOwnProperty(n)){var d=r[n];if(d!=null)switch(n){case"name":a=d;break;case"type":o=d;break;case"checked":c=d;break;case"defaultChecked":u=d;break;case"value":i=d;break;case"defaultValue":s=d;break;case"children":case"dangerouslySetInnerHTML":if(d!=null)throw Error(W(137,t));break;default:_e(e,t,n,d,r,null)}}XE(e,i,s,c,u,o,a,!1);return;case"select":ce("invalid",e),n=o=i=null;for(a in r)if(r.hasOwnProperty(a)&&(s=r[a],s!=null))switch(a){case"value":i=s;break;case"defaultValue":o=s;break;case"multiple":n=s;default:_e(e,t,a,s,r,null)}t=i,r=o,e.multiple=!!n,t!=null?es(e,!!n,t,!1):r!=null&&es(e,!!n,r,!0);return;case"textarea":ce("invalid",e),i=a=n=null;for(o in r)if(r.hasOwnProperty(o)&&(s=r[o],s!=null))switch(o){case"value":n=s;break;case"defaultValue":a=s;break;case"children":i=s;break;case"dangerouslySetInnerHTML":if(s!=null)throw Error(W(91));break;default:_e(e,t,o,s,r,null)}JE(e,n,a,i);return;case"option":for(c in r)if(r.hasOwnProperty(c)&&(n=r[c],n!=null))switch(c){case"selected":e.selected=n&&typeof n!="function"&&typeof n!="symbol";break;default:_e(e,t,c,n,r,null)}return;case"dialog":ce("beforetoggle",e),ce("toggle",e),ce("cancel",e),ce("close",e);break;case"iframe":case"object":ce("load",e);break;case"video":case"audio":for(n=0;n<uc.length;n++)ce(uc[n],e);break;case"image":ce("error",e),ce("load",e);break;case"details":ce("toggle",e);break;case"embed":case"source":case"link":ce("error",e),ce("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in r)if(r.hasOwnProperty(u)&&(n=r[u],n!=null))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(W(137,t));default:_e(e,t,u,n,r,null)}return;default:if(n0(t)){for(d in r)r.hasOwnProperty(d)&&(n=r[d],n!==void 0&&yv(e,t,d,n,r,void 0));return}}for(s in r)r.hasOwnProperty(s)&&(n=r[s],n!=null&&_e(e,t,s,n,r,null))}function wz(e,t,r,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var a=null,i=null,o=null,s=null,c=null,u=null,d=null;for(m in r){var f=r[m];if(r.hasOwnProperty(m)&&f!=null)switch(m){case"checked":break;case"value":break;case"defaultValue":c=f;default:n.hasOwnProperty(m)||_e(e,t,m,null,n,f)}}for(var h in n){var m=n[h];if(f=r[h],n.hasOwnProperty(h)&&(m!=null||f!=null))switch(h){case"type":i=m;break;case"name":a=m;break;case"checked":u=m;break;case"defaultChecked":d=m;break;case"value":o=m;break;case"defaultValue":s=m;break;case"children":case"dangerouslySetInnerHTML":if(m!=null)throw Error(W(137,t));break;default:m!==f&&_e(e,t,h,m,n,f)}}Wg(e,o,s,c,u,d,i,a);return;case"select":m=o=s=h=null;for(i in r)if(c=r[i],r.hasOwnProperty(i)&&c!=null)switch(i){case"value":break;case"multiple":m=c;default:n.hasOwnProperty(i)||_e(e,t,i,null,n,c)}for(a in n)if(i=n[a],c=r[a],n.hasOwnProperty(a)&&(i!=null||c!=null))switch(a){case"value":h=i;break;case"defaultValue":s=i;break;case"multiple":o=i;default:i!==c&&_e(e,t,a,i,n,c)}t=s,r=o,n=m,h!=null?es(e,!!r,h,!1):!!n!=!!r&&(t!=null?es(e,!!r,t,!0):es(e,!!r,r?[]:"",!1));return;case"textarea":m=h=null;for(s in r)if(a=r[s],r.hasOwnProperty(s)&&a!=null&&!n.hasOwnProperty(s))switch(s){case"value":break;case"children":break;default:_e(e,t,s,null,n,a)}for(o in n)if(a=n[o],i=r[o],n.hasOwnProperty(o)&&(a!=null||i!=null))switch(o){case"value":h=a;break;case"defaultValue":m=a;break;case"children":break;case"dangerouslySetInnerHTML":if(a!=null)throw Error(W(91));break;default:a!==i&&_e(e,t,o,a,n,i)}ZE(e,h,m);return;case"option":for(var v in r)if(h=r[v],r.hasOwnProperty(v)&&h!=null&&!n.hasOwnProperty(v))switch(v){case"selected":e.selected=!1;break;default:_e(e,t,v,null,n,h)}for(c in n)if(h=n[c],m=r[c],n.hasOwnProperty(c)&&h!==m&&(h!=null||m!=null))switch(c){case"selected":e.selected=h&&typeof h!="function"&&typeof h!="symbol";break;default:_e(e,t,c,h,n,m)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var x in r)h=r[x],r.hasOwnProperty(x)&&h!=null&&!n.hasOwnProperty(x)&&_e(e,t,x,null,n,h);for(u in n)if(h=n[u],m=r[u],n.hasOwnProperty(u)&&h!==m&&(h!=null||m!=null))switch(u){case"children":case"dangerouslySetInnerHTML":if(h!=null)throw Error(W(137,t));break;default:_e(e,t,u,h,n,m)}return;default:if(n0(t)){for(var b in r)h=r[b],r.hasOwnProperty(b)&&h!==void 0&&!n.hasOwnProperty(b)&&yv(e,t,b,void 0,n,h);for(d in n)h=n[d],m=r[d],!n.hasOwnProperty(d)||h===m||h===void 0&&m===void 0||yv(e,t,d,h,n,m);return}}for(var y in r)h=r[y],r.hasOwnProperty(y)&&h!=null&&!n.hasOwnProperty(y)&&_e(e,t,y,null,n,h);for(f in n)h=n[f],m=r[f],!n.hasOwnProperty(f)||h===m||h==null&&m==null||_e(e,t,f,h,n,m)}function Ow(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function _z(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,r=performance.getEntriesByType("resource"),n=0;n<r.length;n++){var a=r[n],i=a.transferSize,o=a.initiatorType,s=a.duration;if(i&&s&&Ow(o)){for(o=0,s=a.responseEnd,n+=1;n<r.length;n++){var c=r[n],u=c.startTime;if(u>s)break;var d=c.transferSize,f=c.initiatorType;d&&Ow(f)&&(c=c.responseEnd,o+=d*(c<s?1:(s-u)/(c-u)))}if(--n,t+=8*(i+o)/(a.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var bv=null,xv=null;function pf(e){return e.nodeType===9?e:e.ownerDocument}function Aw(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function n2(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function wv(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Fp=null;function jz(){var e=window.event;return e&&e.type==="popstate"?e===Fp?!1:(Fp=e,!0):(Fp=null,!1)}var a2=typeof setTimeout=="function"?setTimeout:void 0,Sz=typeof clearTimeout=="function"?clearTimeout:void 0,kw=typeof Promise=="function"?Promise:void 0,Cz=typeof queueMicrotask=="function"?queueMicrotask:typeof kw<"u"?function(e){return kw.resolve(null).then(e).catch(Ez)}:a2;function Ez(e){setTimeout(function(){throw e})}function gi(e){return e==="head"}function Tw(e,t){var r=t,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"||r==="/&"){if(n===0){e.removeChild(a),xs(t);return}n--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")n++;else if(r==="html")Vl(e.ownerDocument.documentElement);else if(r==="head"){r=e.ownerDocument.head,Vl(r);for(var i=r.firstChild;i;){var o=i.nextSibling,s=i.nodeName;i[qc]||s==="SCRIPT"||s==="STYLE"||s==="LINK"&&i.rel.toLowerCase()==="stylesheet"||r.removeChild(i),i=o}}else r==="body"&&Vl(e.ownerDocument.body);r=a}while(r);xs(t)}function Nw(e,t){var r=e;e=0;do{var n=r.nextSibling;if(r.nodeType===1?t?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(t?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),n&&n.nodeType===8)if(r=n.data,r==="/$"){if(e===0)break;e--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||e++;r=n}while(r)}function _v(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var r=t;switch(t=t.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":_v(r),r0(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}e.removeChild(r)}}function Oz(e,t,r,n){for(;e.nodeType===1;){var a=r;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!n&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(n){if(!e[qc])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(i=e.getAttribute("rel"),i==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(i!==a.rel||e.getAttribute("href")!==(a.href==null||a.href===""?null:a.href)||e.getAttribute("crossorigin")!==(a.crossOrigin==null?null:a.crossOrigin)||e.getAttribute("title")!==(a.title==null?null:a.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(i=e.getAttribute("src"),(i!==(a.src==null?null:a.src)||e.getAttribute("type")!==(a.type==null?null:a.type)||e.getAttribute("crossorigin")!==(a.crossOrigin==null?null:a.crossOrigin))&&i&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var i=a.name==null?null:""+a.name;if(a.type==="hidden"&&e.getAttribute("name")===i)return e}else return e;if(e=Wr(e.nextSibling),e===null)break}return null}function Az(e,t,r){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!r||(e=Wr(e.nextSibling),e===null))return null;return e}function i2(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Wr(e.nextSibling),e===null))return null;return e}function jv(e){return e.data==="$?"||e.data==="$~"}function Sv(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function kz(e,t){var r=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||r.readyState!=="loading")t();else{var n=function(){t(),r.removeEventListener("DOMContentLoaded",n)};r.addEventListener("DOMContentLoaded",n),e._reactRetry=n}}function Wr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var Cv=null;function Rw(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"||r==="/&"){if(t===0)return Wr(e.nextSibling);t--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||t++}e=e.nextSibling}return null}function Dw(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(t===0)return e;t--}else r!=="/$"&&r!=="/&"||t++}e=e.previousSibling}return null}function o2(e,t,r){switch(t=pf(r),e){case"html":if(e=t.documentElement,!e)throw Error(W(452));return e;case"head":if(e=t.head,!e)throw Error(W(453));return e;case"body":if(e=t.body,!e)throw Error(W(454));return e;default:throw Error(W(451))}}function Vl(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);r0(e)}var Hr=new Map,Pw=new Set;function gf(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var va=ve.d;ve.d={f:Tz,r:Nz,D:Rz,C:Dz,L:Pz,m:Mz,X:Bz,S:zz,M:Iz};function Tz(){var e=va.f(),t=Lh();return e||t}function Nz(e){var t=Ms(e);t!==null&&t.tag===5&&t.type==="form"?QO(t):va.r(e)}var $s=typeof document>"u"?null:document;function s2(e,t,r){var n=$s;if(n&&typeof t=="string"&&t){var a=Ir(t);a='link[rel="'+e+'"][href="'+a+'"]',typeof r=="string"&&(a+='[crossorigin="'+r+'"]'),Pw.has(a)||(Pw.add(a),e={rel:e,crossOrigin:r,href:t},n.querySelector(a)===null&&(t=n.createElement("link"),Mt(t,"link",e),wt(t),n.head.appendChild(t)))}}function Rz(e){va.D(e),s2("dns-prefetch",e,null)}function Dz(e,t){va.C(e,t),s2("preconnect",e,t)}function Pz(e,t,r){va.L(e,t,r);var n=$s;if(n&&e&&t){var a='link[rel="preload"][as="'+Ir(t)+'"]';t==="image"&&r&&r.imageSrcSet?(a+='[imagesrcset="'+Ir(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(a+='[imagesizes="'+Ir(r.imageSizes)+'"]')):a+='[href="'+Ir(e)+'"]';var i=a;switch(t){case"style":i=bs(e);break;case"script":i=Ls(e)}Hr.has(i)||(e=Be({rel:"preload",href:t==="image"&&r&&r.imageSrcSet?void 0:e,as:t},r),Hr.set(i,e),n.querySelector(a)!==null||t==="style"&&n.querySelector(Gc(i))||t==="script"&&n.querySelector(Yc(i))||(t=n.createElement("link"),Mt(t,"link",e),wt(t),n.head.appendChild(t)))}}function Mz(e,t){va.m(e,t);var r=$s;if(r&&e){var n=t&&typeof t.as=="string"?t.as:"script",a='link[rel="modulepreload"][as="'+Ir(n)+'"][href="'+Ir(e)+'"]',i=a;switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":i=Ls(e)}if(!Hr.has(i)&&(e=Be({rel:"modulepreload",href:e},t),Hr.set(i,e),r.querySelector(a)===null)){switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(Yc(i)))return}n=r.createElement("link"),Mt(n,"link",e),wt(n),r.head.appendChild(n)}}}function zz(e,t,r){va.S(e,t,r);var n=$s;if(n&&e){var a=Qo(n).hoistableStyles,i=bs(e);t=t||"default";var o=a.get(i);if(!o){var s={loading:0,preload:null};if(o=n.querySelector(Gc(i)))s.loading=5;else{e=Be({rel:"stylesheet",href:e,"data-precedence":t},r),(r=Hr.get(i))&&U0(e,r);var c=o=n.createElement("link");wt(c),Mt(c,"link",e),c._p=new Promise(function(u,d){c.onload=u,c.onerror=d}),c.addEventListener("load",function(){s.loading|=1}),c.addEventListener("error",function(){s.loading|=2}),s.loading|=4,Md(o,t,n)}o={type:"stylesheet",instance:o,count:1,state:s},a.set(i,o)}}}function Bz(e,t){va.X(e,t);var r=$s;if(r&&e){var n=Qo(r).hoistableScripts,a=Ls(e),i=n.get(a);i||(i=r.querySelector(Yc(a)),i||(e=Be({src:e,async:!0},t),(t=Hr.get(a))&&q0(e,t),i=r.createElement("script"),wt(i),Mt(i,"link",e),r.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},n.set(a,i))}}function Iz(e,t){va.M(e,t);var r=$s;if(r&&e){var n=Qo(r).hoistableScripts,a=Ls(e),i=n.get(a);i||(i=r.querySelector(Yc(a)),i||(e=Be({src:e,async:!0,type:"module"},t),(t=Hr.get(a))&&q0(e,t),i=r.createElement("script"),wt(i),Mt(i,"link",e),r.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},n.set(a,i))}}function Mw(e,t,r,n){var a=(a=Ja.current)?gf(a):null;if(!a)throw Error(W(446));switch(e){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(t=bs(r.href),r=Qo(a).hoistableStyles,n=r.get(t),n||(n={type:"style",instance:null,count:0,state:null},r.set(t,n)),n):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){e=bs(r.href);var i=Qo(a).hoistableStyles,o=i.get(e);if(o||(a=a.ownerDocument||a,o={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},i.set(e,o),(i=a.querySelector(Gc(e)))&&!i._p&&(o.instance=i,o.state.loading=5),Hr.has(e)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Hr.set(e,r),i||$z(a,e,r,o.state))),t&&n===null)throw Error(W(528,""));return o}if(t&&n!==null)throw Error(W(529,""));return null;case"script":return t=r.async,r=r.src,typeof r=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Ls(r),r=Qo(a).hoistableScripts,n=r.get(t),n||(n={type:"script",instance:null,count:0,state:null},r.set(t,n)),n):{type:"void",instance:null,count:0,state:null};default:throw Error(W(444,e))}}function bs(e){return'href="'+Ir(e)+'"'}function Gc(e){return'link[rel="stylesheet"]['+e+"]"}function l2(e){return Be({},e,{"data-precedence":e.precedence,precedence:null})}function $z(e,t,r,n){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?n.loading=1:(t=e.createElement("link"),n.preload=t,t.addEventListener("load",function(){return n.loading|=1}),t.addEventListener("error",function(){return n.loading|=2}),Mt(t,"link",r),wt(t),e.head.appendChild(t))}function Ls(e){return'[src="'+Ir(e)+'"]'}function Yc(e){return"script[async]"+e}function zw(e,t,r){if(t.count++,t.instance===null)switch(t.type){case"style":var n=e.querySelector('style[data-href~="'+Ir(r.href)+'"]');if(n)return t.instance=n,wt(n),n;var a=Be({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return n=(e.ownerDocument||e).createElement("style"),wt(n),Mt(n,"style",a),Md(n,r.precedence,e),t.instance=n;case"stylesheet":a=bs(r.href);var i=e.querySelector(Gc(a));if(i)return t.state.loading|=4,t.instance=i,wt(i),i;n=l2(r),(a=Hr.get(a))&&U0(n,a),i=(e.ownerDocument||e).createElement("link"),wt(i);var o=i;return o._p=new Promise(function(s,c){o.onload=s,o.onerror=c}),Mt(i,"link",n),t.state.loading|=4,Md(i,r.precedence,e),t.instance=i;case"script":return i=Ls(r.src),(a=e.querySelector(Yc(i)))?(t.instance=a,wt(a),a):(n=r,(a=Hr.get(i))&&(n=Be({},r),q0(n,a)),e=e.ownerDocument||e,a=e.createElement("script"),wt(a),Mt(a,"link",n),e.head.appendChild(a),t.instance=a);case"void":return null;default:throw Error(W(443,t.type))}else t.type==="stylesheet"&&!(t.state.loading&4)&&(n=t.instance,t.state.loading|=4,Md(n,r.precedence,e));return t.instance}function Md(e,t,r){for(var n=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),a=n.length?n[n.length-1]:null,i=a,o=0;o<n.length;o++){var s=n[o];if(s.dataset.precedence===t)i=s;else if(i!==a)break}i?i.parentNode.insertBefore(e,i.nextSibling):(t=r.nodeType===9?r.head:r,t.insertBefore(e,t.firstChild))}function U0(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function q0(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var zd=null;function Bw(e,t,r){if(zd===null){var n=new Map,a=zd=new Map;a.set(r,n)}else a=zd,n=a.get(r),n||(n=new Map,a.set(r,n));if(n.has(e))return n;for(n.set(e,null),r=r.getElementsByTagName(e),a=0;a<r.length;a++){var i=r[a];if(!(i[qc]||i[Nt]||e==="link"&&i.getAttribute("rel")==="stylesheet")&&i.namespaceURI!=="http://www.w3.org/2000/svg"){var o=i.getAttribute(t)||"";o=e+o;var s=n.get(o);s?s.push(i):n.set(o,[i])}}return n}function Iw(e,t,r){e=e.ownerDocument||e,e.head.insertBefore(r,t==="title"?e.querySelector("head > title"):null)}function Lz(e,t,r){if(r===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function c2(e){return!(e.type==="stylesheet"&&!(e.state.loading&3))}function Uz(e,t,r,n){if(r.type==="stylesheet"&&(typeof n.media!="string"||matchMedia(n.media).matches!==!1)&&!(r.state.loading&4)){if(r.instance===null){var a=bs(n.href),i=t.querySelector(Gc(a));if(i){t=i._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=vf.bind(e),t.then(e,e)),r.state.loading|=4,r.instance=i,wt(i);return}i=t.ownerDocument||t,n=l2(n),(a=Hr.get(a))&&U0(n,a),i=i.createElement("link"),wt(i);var o=i;o._p=new Promise(function(s,c){o.onload=s,o.onerror=c}),Mt(i,"link",n),r.instance=i}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(r,t),(t=r.state.preload)&&!(r.state.loading&3)&&(e.count++,r=vf.bind(e),t.addEventListener("load",r),t.addEventListener("error",r))}}var Vp=0;function qz(e,t){return e.stylesheets&&e.count===0&&Bd(e,e.stylesheets),0<e.count||0<e.imgCount?function(r){var n=setTimeout(function(){if(e.stylesheets&&Bd(e,e.stylesheets),e.unsuspend){var i=e.unsuspend;e.unsuspend=null,i()}},6e4+t);0<e.imgBytes&&Vp===0&&(Vp=62500*_z());var a=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Bd(e,e.stylesheets),e.unsuspend)){var i=e.unsuspend;e.unsuspend=null,i()}},(e.imgBytes>Vp?50:800)+t);return e.unsuspend=r,function(){e.unsuspend=null,clearTimeout(n),clearTimeout(a)}}:null}function vf(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Bd(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var yf=null;function Bd(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,yf=new Map,t.forEach(Wz,e),yf=null,vf.call(e))}function Wz(e,t){if(!(t.state.loading&4)){var r=yf.get(e);if(r)var n=r.get(null);else{r=new Map,yf.set(e,r);for(var a=e.querySelectorAll("link[data-precedence],style[data-precedence]"),i=0;i<a.length;i++){var o=a[i];(o.nodeName==="LINK"||o.getAttribute("media")!=="not all")&&(r.set(o.dataset.precedence,o),n=o)}n&&r.set(null,n)}a=t.instance,o=a.getAttribute("data-precedence"),i=r.get(o)||n,i===n&&r.set(null,a),r.set(o,a),this.count++,n=vf.bind(this),a.addEventListener("load",n),a.addEventListener("error",n),i?i.parentNode.insertBefore(a,i.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(a,e.firstChild)),t.state.loading|=4}}var fc={$$typeof:Vn,Provider:null,Consumer:null,_currentValue:Li,_currentValue2:Li,_threadCount:0};function Hz(e,t,r,n,a,i,o,s,c){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=pp(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=pp(0),this.hiddenUpdates=pp(null),this.identifierPrefix=n,this.onUncaughtError=a,this.onCaughtError=i,this.onRecoverableError=o,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=c,this.incompleteTransitions=new Map}function u2(e,t,r,n,a,i,o,s,c,u,d,f){return e=new Hz(e,t,r,o,c,u,d,f,s),t=1,i===!0&&(t|=24),i=mr(3,null,null,t),e.current=i,i.stateNode=e,t=m0(),t.refCount++,e.pooledCache=t,t.refCount++,i.memoizedState={element:n,isDehydrated:r,cache:t},v0(i),e}function d2(e){return e?(e=Ko,e):Ko}function f2(e,t,r,n,a,i){a=d2(a),n.context===null?n.context=a:n.pendingContext=a,n=ei(t),n.payload={element:r},i=i===void 0?null:i,i!==null&&(n.callback=i),r=ti(e,n,t),r!==null&&(nr(r,e,t),Il(r,e,t))}function $w(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function W0(e,t){$w(e,t),(e=e.alternate)&&$w(e,t)}function h2(e){if(e.tag===13||e.tag===31){var t=fo(e,67108864);t!==null&&nr(t,e,67108864),W0(e,67108864)}}function Lw(e){if(e.tag===13||e.tag===31){var t=jr();t=e0(t);var r=fo(e,t);r!==null&&nr(r,e,t),W0(e,t)}}var bf=!0;function Fz(e,t,r,n){var a=ae.T;ae.T=null;var i=ve.p;try{ve.p=2,H0(e,t,r,n)}finally{ve.p=i,ae.T=a}}function Vz(e,t,r,n){var a=ae.T;ae.T=null;var i=ve.p;try{ve.p=8,H0(e,t,r,n)}finally{ve.p=i,ae.T=a}}function H0(e,t,r,n){if(bf){var a=Ev(n);if(a===null)Hp(e,t,n,xf,r),Uw(e,n);else if(Gz(a,e,t,r,n))n.stopPropagation();else if(Uw(e,n),t&4&&-1<Kz.indexOf(e)){for(;a!==null;){var i=Ms(a);if(i!==null)switch(i.tag){case 3:if(i=i.stateNode,i.current.memoizedState.isDehydrated){var o=Ei(i.pendingLanes);if(o!==0){var s=i;for(s.pendingLanes|=2,s.entangledLanes|=2;o;){var c=1<<31-_r(o);s.entanglements[1]|=c,o&=~c}Dn(i),!(ge&6)&&(cf=xr()+500,Kc(0))}}break;case 31:case 13:s=fo(i,2),s!==null&&nr(s,i,2),Lh(),W0(i,2)}if(i=Ev(n),i===null&&Hp(e,t,n,xf,r),i===a)break;a=i}a!==null&&n.stopPropagation()}else Hp(e,t,n,null,r)}}function Ev(e){return e=a0(e),F0(e)}var xf=null;function F0(e){if(xf=null,e=Uo(e),e!==null){var t=Ic(e);if(t===null)e=null;else{var r=t.tag;if(r===13){if(e=DE(t),e!==null)return e;e=null}else if(r===31){if(e=PE(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return xf=e,null}function m2(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(R5()){case IE:return 2;case $E:return 8;case Gd:case D5:return 32;case LE:return 268435456;default:return 32}default:return 32}}var Ov=!1,ai=null,ii=null,oi=null,hc=new Map,mc=new Map,Ua=[],Kz="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Uw(e,t){switch(e){case"focusin":case"focusout":ai=null;break;case"dragenter":case"dragleave":ii=null;break;case"mouseover":case"mouseout":oi=null;break;case"pointerover":case"pointerout":hc.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":mc.delete(t.pointerId)}}function gl(e,t,r,n,a,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[a]},t!==null&&(t=Ms(t),t!==null&&h2(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function Gz(e,t,r,n,a){switch(t){case"focusin":return ai=gl(ai,e,t,r,n,a),!0;case"dragenter":return ii=gl(ii,e,t,r,n,a),!0;case"mouseover":return oi=gl(oi,e,t,r,n,a),!0;case"pointerover":var i=a.pointerId;return hc.set(i,gl(hc.get(i)||null,e,t,r,n,a)),!0;case"gotpointercapture":return i=a.pointerId,mc.set(i,gl(mc.get(i)||null,e,t,r,n,a)),!0}return!1}function p2(e){var t=Uo(e.target);if(t!==null){var r=Ic(t);if(r!==null){if(t=r.tag,t===13){if(t=DE(r),t!==null){e.blockedOn=t,C1(e.priority,function(){Lw(r)});return}}else if(t===31){if(t=PE(r),t!==null){e.blockedOn=t,C1(e.priority,function(){Lw(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Id(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Ev(e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Fg=n,r.target.dispatchEvent(n),Fg=null}else return t=Ms(r),t!==null&&h2(t),e.blockedOn=r,!1;t.shift()}return!0}function qw(e,t,r){Id(e)&&r.delete(t)}function Yz(){Ov=!1,ai!==null&&Id(ai)&&(ai=null),ii!==null&&Id(ii)&&(ii=null),oi!==null&&Id(oi)&&(oi=null),hc.forEach(qw),mc.forEach(qw)}function Fu(e,t){e.blockedOn===t&&(e.blockedOn=null,Ov||(Ov=!0,dt.unstable_scheduleCallback(dt.unstable_NormalPriority,Yz)))}var Vu=null;function Ww(e){Vu!==e&&(Vu=e,dt.unstable_scheduleCallback(dt.unstable_NormalPriority,function(){Vu===e&&(Vu=null);for(var t=0;t<e.length;t+=3){var r=e[t],n=e[t+1],a=e[t+2];if(typeof n!="function"){if(F0(n||r)===null)continue;break}var i=Ms(r);i!==null&&(e.splice(t,3),t-=3,sv(i,{pending:!0,data:a,method:r.method,action:n},n,a))}}))}function xs(e){function t(c){return Fu(c,e)}ai!==null&&Fu(ai,e),ii!==null&&Fu(ii,e),oi!==null&&Fu(oi,e),hc.forEach(t),mc.forEach(t);for(var r=0;r<Ua.length;r++){var n=Ua[r];n.blockedOn===e&&(n.blockedOn=null)}for(;0<Ua.length&&(r=Ua[0],r.blockedOn===null);)p2(r),r.blockedOn===null&&Ua.shift();if(r=(e.ownerDocument||e).$$reactFormReplay,r!=null)for(n=0;n<r.length;n+=3){var a=r[n],i=r[n+1],o=a[ar]||null;if(typeof i=="function")o||Ww(r);else if(o){var s=null;if(i&&i.hasAttribute("formAction")){if(a=i,o=i[ar]||null)s=o.formAction;else if(F0(a)!==null)continue}else s=o.action;typeof s=="function"?r[n+1]=s:(r.splice(n,3),n-=3),Ww(r)}}}function g2(){function e(i){i.canIntercept&&i.info==="react-transition"&&i.intercept({handler:function(){return new Promise(function(o){return a=o})},focusReset:"manual",scroll:"manual"})}function t(){a!==null&&(a(),a=null),n||setTimeout(r,20)}function r(){if(!n&&!navigation.transition){var i=navigation.currentEntry;i&&i.url!=null&&navigation.navigate(i.url,{state:i.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var n=!1,a=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(r,100),function(){n=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),a!==null&&(a(),a=null)}}}function V0(e){this._internalRoot=e}Wh.prototype.render=V0.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(W(409));var r=t.current,n=jr();f2(r,n,e,t,null,null)};Wh.prototype.unmount=V0.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;f2(e.current,2,null,e,null,null),Lh(),t[Ps]=null}};function Wh(e){this._internalRoot=e}Wh.prototype.unstable_scheduleHydration=function(e){if(e){var t=FE();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Ua.length&&t!==0&&t<Ua[r].priority;r++);Ua.splice(r,0,e),r===0&&p2(e)}};var Hw=NE.version;if(Hw!=="19.2.3")throw Error(W(527,Hw,"19.2.3"));ve.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(W(188)):(e=Object.keys(e).join(","),Error(W(268,e)));return e=C5(t),e=e!==null?ME(e):null,e=e===null?null:e.stateNode,e};var Xz={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:ae,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ku=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ku.isDisabled&&Ku.supportsFiber)try{$c=Ku.inject(Xz),wr=Ku}catch{}}Eh.createRoot=function(e,t){if(!RE(e))throw Error(W(299));var r=!1,n="",a=sA,i=lA,o=cA;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onUncaughtError!==void 0&&(a=t.onUncaughtError),t.onCaughtError!==void 0&&(i=t.onCaughtError),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),t=u2(e,1,!1,null,null,r,n,null,a,i,o,g2),e[Ps]=t.current,L0(e),new V0(t)};Eh.hydrateRoot=function(e,t,r){if(!RE(e))throw Error(W(299));var n=!1,a="",i=sA,o=lA,s=cA,c=null;return r!=null&&(r.unstable_strictMode===!0&&(n=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onUncaughtError!==void 0&&(i=r.onUncaughtError),r.onCaughtError!==void 0&&(o=r.onCaughtError),r.onRecoverableError!==void 0&&(s=r.onRecoverableError),r.formState!==void 0&&(c=r.formState)),t=u2(e,1,!0,t,r??null,n,a,c,i,o,s,g2),t.context=d2(null),r=t.current,n=jr(),n=e0(n),a=ei(n),a.callback=null,ti(r,a,n),r=n,t.current.lanes=r,Uc(t,r),Dn(t),e[Ps]=t.current,L0(e),new Wh(t)};Eh.version="19.2.3";function v2(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(v2)}catch(e){console.error(e)}}v2(),CE.exports=Eh;var Zz=CE.exports;/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function pc(){return pc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},pc.apply(this,arguments)}var Xa;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Xa||(Xa={}));const Fw="popstate";function Jz(e){e===void 0&&(e={});function t(n,a){let{pathname:i,search:o,hash:s}=n.location;return Av("",{pathname:i,search:o,hash:s},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:y2(a)}return e3(t,r,null,e)}function it(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function K0(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Qz(){return Math.random().toString(36).substr(2,8)}function Vw(e,t){return{usr:e.state,key:e.key,idx:t}}function Av(e,t,r,n){return r===void 0&&(r=null),pc({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Us(t):t,{state:r,key:t&&t.key||n||Qz()})}function y2(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Us(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function e3(e,t,r,n){n===void 0&&(n={});let{window:a=document.defaultView,v5Compat:i=!1}=n,o=a.history,s=Xa.Pop,c=null,u=d();u==null&&(u=0,o.replaceState(pc({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function f(){s=Xa.Pop;let b=d(),y=b==null?null:b-u;u=b,c&&c({action:s,location:x.location,delta:y})}function h(b,y){s=Xa.Push;let g=Av(x.location,b,y);u=d()+1;let w=Vw(g,u),_=x.createHref(g);try{o.pushState(w,"",_)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;a.location.assign(_)}i&&c&&c({action:s,location:x.location,delta:1})}function m(b,y){s=Xa.Replace;let g=Av(x.location,b,y);u=d();let w=Vw(g,u),_=x.createHref(g);o.replaceState(w,"",_),i&&c&&c({action:s,location:x.location,delta:0})}function v(b){let y=a.location.origin!=="null"?a.location.origin:a.location.href,g=typeof b=="string"?b:y2(b);return g=g.replace(/ $/,"%20"),it(y,"No window.location.(origin|href) available to create URL for href: "+g),new URL(g,y)}let x={get action(){return s},get location(){return e(a,o)},listen(b){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(Fw,f),c=b,()=>{a.removeEventListener(Fw,f),c=null}},createHref(b){return t(a,b)},createURL:v,encodeLocation(b){let y=v(b);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:h,replace:m,go(b){return o.go(b)}};return x}var Kw;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Kw||(Kw={}));function t3(e,t,r){return r===void 0&&(r="/"),r3(e,t,r)}function r3(e,t,r,n){let a=typeof t=="string"?Us(t):t,i=w2(a.pathname||"/",r);if(i==null)return null;let o=b2(e);n3(o);let s=null;for(let c=0;s==null&&c<o.length;++c){let u=p3(i);s=f3(o[c],u)}return s}function b2(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let a=(i,o,s)=>{let c={relativePath:s===void 0?i.path||"":s,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(it(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=Fi([n,c.relativePath]),d=r.concat(c);i.children&&i.children.length>0&&(it(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),b2(i.children,t,d,u)),!(i.path==null&&!i.index)&&t.push({path:u,score:u3(u,i.index),routesMeta:d})};return e.forEach((i,o)=>{var s;if(i.path===""||!((s=i.path)!=null&&s.includes("?")))a(i,o);else for(let c of x2(i.path))a(i,o,c)}),t}function x2(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,a=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return a?[i,""]:[i];let o=x2(n.join("/")),s=[];return s.push(...o.map(c=>c===""?i:[i,c].join("/"))),a&&s.push(...o),s.map(c=>e.startsWith("/")&&c===""?"/":c)}function n3(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:d3(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const a3=/^:[\w-]+$/,i3=3,o3=2,s3=1,l3=10,c3=-2,Gw=e=>e==="*";function u3(e,t){let r=e.split("/"),n=r.length;return r.some(Gw)&&(n+=c3),t&&(n+=o3),r.filter(a=>!Gw(a)).reduce((a,i)=>a+(a3.test(i)?i3:i===""?s3:l3),n)}function d3(e,t){return e.length===t.length&&e.slice(0,-1).every((n,a)=>n===t[a])?e[e.length-1]-t[t.length-1]:0}function f3(e,t,r){let{routesMeta:n}=e,a={},i="/",o=[];for(let s=0;s<n.length;++s){let c=n[s],u=s===n.length-1,d=i==="/"?t:t.slice(i.length)||"/",f=h3({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),h=c.route;if(!f)return null;Object.assign(a,f.params),o.push({params:a,pathname:Fi([i,f.pathname]),pathnameBase:x3(Fi([i,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(i=Fi([i,f.pathnameBase]))}return o}function h3(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=m3(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let i=a[0],o=i.replace(/(.)\/+$/,"$1"),s=a.slice(1);return{params:n.reduce((u,d,f)=>{let{paramName:h,isOptional:m}=d;if(h==="*"){let x=s[f]||"";o=i.slice(0,i.length-x.length).replace(/(.)\/+$/,"$1")}const v=s[f];return m&&!v?u[h]=void 0:u[h]=(v||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:e}}function m3(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),K0(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,s,c)=>(n.push({paramName:s,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function p3(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return K0(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function w2(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}const g3=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,v3=e=>g3.test(e);function y3(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:a=""}=typeof e=="string"?Us(e):e,i;if(r)if(v3(r))i=r;else{if(r.includes("//")){let o=r;r=r.replace(/\/\/+/g,"/"),K0(!1,"Pathnames cannot have embedded double slashes - normalizing "+(o+" -> "+r))}r.startsWith("/")?i=Yw(r.substring(1),"/"):i=Yw(r,t)}else i=t;return{pathname:i,search:w3(n),hash:_3(a)}}function Yw(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function Kp(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function b3(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function _2(e,t){let r=b3(e);return t?r.map((n,a)=>a===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function j2(e,t,r,n){n===void 0&&(n=!1);let a;typeof e=="string"?a=Us(e):(a=pc({},e),it(!a.pathname||!a.pathname.includes("?"),Kp("?","pathname","search",a)),it(!a.pathname||!a.pathname.includes("#"),Kp("#","pathname","hash",a)),it(!a.search||!a.search.includes("#"),Kp("#","search","hash",a)));let i=e===""||a.pathname==="",o=i?"/":a.pathname,s;if(o==null)s=r;else{let f=t.length-1;if(!n&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),f-=1;a.pathname=h.join("/")}s=f>=0?t[f]:"/"}let c=y3(a,s),u=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const Fi=e=>e.join("/").replace(/\/\/+/g,"/"),x3=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),w3=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,_3=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function j3(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const S2=["post","put","patch","delete"];new Set(S2);const S3=["get",...S2];new Set(S3);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function gc(){return gc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gc.apply(this,arguments)}const G0=p.createContext(null),C3=p.createContext(null),Xc=p.createContext(null),Hh=p.createContext(null),vi=p.createContext({outlet:null,matches:[],isDataRoute:!1}),C2=p.createContext(null);function Zc(){return p.useContext(Hh)!=null}function Fh(){return Zc()||it(!1),p.useContext(Hh).location}function E2(e){p.useContext(Xc).static||p.useLayoutEffect(e)}function yi(){let{isDataRoute:e}=p.useContext(vi);return e?L3():E3()}function E3(){Zc()||it(!1);let e=p.useContext(G0),{basename:t,future:r,navigator:n}=p.useContext(Xc),{matches:a}=p.useContext(vi),{pathname:i}=Fh(),o=JSON.stringify(_2(a,r.v7_relativeSplatPath)),s=p.useRef(!1);return E2(()=>{s.current=!0}),p.useCallback(function(u,d){if(d===void 0&&(d={}),!s.current)return;if(typeof u=="number"){n.go(u);return}let f=j2(u,JSON.parse(o),i,d.relative==="path");e==null&&t!=="/"&&(f.pathname=f.pathname==="/"?t:Fi([t,f.pathname])),(d.replace?n.replace:n.push)(f,d.state,d)},[t,n,o,i,e])}const O3=p.createContext(null);function A3(e){let t=p.useContext(vi).outlet;return t&&p.createElement(O3.Provider,{value:e},t)}function k3(e,t){return T3(e,t)}function T3(e,t,r,n){Zc()||it(!1);let{navigator:a}=p.useContext(Xc),{matches:i}=p.useContext(vi),o=i[i.length-1],s=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=Fh(),d;if(t){var f;let b=typeof t=="string"?Us(t):t;c==="/"||(f=b.pathname)!=null&&f.startsWith(c)||it(!1),d=b}else d=u;let h=d.pathname||"/",m=h;if(c!=="/"){let b=c.replace(/^\//,"").split("/");m="/"+h.replace(/^\//,"").split("/").slice(b.length).join("/")}let v=t3(e,{pathname:m}),x=M3(v&&v.map(b=>Object.assign({},b,{params:Object.assign({},s,b.params),pathname:Fi([c,a.encodeLocation?a.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?c:Fi([c,a.encodeLocation?a.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),i,r,n);return t&&x?p.createElement(Hh.Provider,{value:{location:gc({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Xa.Pop}},x):x}function N3(){let e=$3(),t=j3(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return p.createElement(p.Fragment,null,p.createElement("h2",null,"Unexpected Application Error!"),p.createElement("h3",{style:{fontStyle:"italic"}},t),r?p.createElement("pre",{style:a},r):null,null)}const R3=p.createElement(N3,null);class D3 extends p.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?p.createElement(vi.Provider,{value:this.props.routeContext},p.createElement(C2.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function P3(e){let{routeContext:t,match:r,children:n}=e,a=p.useContext(G0);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),p.createElement(vi.Provider,{value:t},n)}function M3(e,t,r,n){var a;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var i;if(!r)return null;if(r.errors)e=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,s=(a=r)==null?void 0:a.errors;if(s!=null){let d=o.findIndex(f=>f.route.id&&(s==null?void 0:s[f.route.id])!==void 0);d>=0||it(!1),o=o.slice(0,Math.min(o.length,d+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<o.length;d++){let f=o[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:h,errors:m}=r,v=f.route.loader&&h[f.route.id]===void 0&&(!m||m[f.route.id]===void 0);if(f.route.lazy||v){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,f,h)=>{let m,v=!1,x=null,b=null;r&&(m=s&&f.route.id?s[f.route.id]:void 0,x=f.route.errorElement||R3,c&&(u<0&&h===0?(U3("route-fallback"),v=!0,b=null):u===h&&(v=!0,b=f.route.hydrateFallbackElement||null)));let y=t.concat(o.slice(0,h+1)),g=()=>{let w;return m?w=x:v?w=b:f.route.Component?w=p.createElement(f.route.Component,null):f.route.element?w=f.route.element:w=d,p.createElement(P3,{match:f,routeContext:{outlet:d,matches:y,isDataRoute:r!=null},children:w})};return r&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?p.createElement(D3,{location:r.location,revalidation:r.revalidation,component:x,error:m,children:g(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):g()},null)}var O2=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(O2||{}),A2=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(A2||{});function z3(e){let t=p.useContext(G0);return t||it(!1),t}function B3(e){let t=p.useContext(C3);return t||it(!1),t}function I3(e){let t=p.useContext(vi);return t||it(!1),t}function k2(e){let t=I3(),r=t.matches[t.matches.length-1];return r.route.id||it(!1),r.route.id}function $3(){var e;let t=p.useContext(C2),r=B3(),n=k2();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function L3(){let{router:e}=z3(O2.UseNavigateStable),t=k2(A2.UseNavigateStable),r=p.useRef(!1);return E2(()=>{r.current=!0}),p.useCallback(function(a,i){i===void 0&&(i={}),r.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,gc({fromRouteId:t},i)))},[e,t])}const Xw={};function U3(e,t,r){Xw[e]||(Xw[e]=!0)}function q3(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function T2(e){let{to:t,replace:r,state:n,relative:a}=e;Zc()||it(!1);let{future:i,static:o}=p.useContext(Xc),{matches:s}=p.useContext(vi),{pathname:c}=Fh(),u=yi(),d=j2(t,_2(s,i.v7_relativeSplatPath),c,a==="path"),f=JSON.stringify(d);return p.useEffect(()=>u(JSON.parse(f),{replace:r,state:n,relative:a}),[u,f,a,r,n]),null}function W3(e){return A3(e.context)}function wn(e){it(!1)}function H3(e){let{basename:t="/",children:r=null,location:n,navigationType:a=Xa.Pop,navigator:i,static:o=!1,future:s}=e;Zc()&&it(!1);let c=t.replace(/^\/*/,"/"),u=p.useMemo(()=>({basename:c,navigator:i,static:o,future:gc({v7_relativeSplatPath:!1},s)}),[c,s,i,o]);typeof n=="string"&&(n=Us(n));let{pathname:d="/",search:f="",hash:h="",state:m=null,key:v="default"}=n,x=p.useMemo(()=>{let b=w2(d,c);return b==null?null:{location:{pathname:b,search:f,hash:h,state:m,key:v},navigationType:a}},[c,d,f,h,m,v,a]);return x==null?null:p.createElement(Xc.Provider,{value:u},p.createElement(Hh.Provider,{children:r,value:x}))}function F3(e){let{children:t,location:r}=e;return k3(kv(t),r)}new Promise(()=>{});function kv(e,t){t===void 0&&(t=[]);let r=[];return p.Children.forEach(e,(n,a)=>{if(!p.isValidElement(n))return;let i=[...t,a];if(n.type===p.Fragment){r.push.apply(r,kv(n.props.children,i));return}n.type!==wn&&it(!1),!n.props.index||!n.props.children||it(!1);let o={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=kv(n.props.children,i)),r.push(o)}),r}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Tv(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(a=>[r,a]):[[r,n]])},[]))}function V3(e,t){let r=Tv(e);return t&&t.forEach((n,a)=>{r.has(a)||t.getAll(a).forEach(i=>{r.append(a,i)})}),r}const K3="6";try{window.__reactRouterVersion=K3}catch{}const G3="startTransition",Zw=SE[G3];function Y3(e){let{basename:t,children:r,future:n,window:a}=e,i=p.useRef();i.current==null&&(i.current=Jz({window:a,v5Compat:!0}));let o=i.current,[s,c]=p.useState({action:o.action,location:o.location}),{v7_startTransition:u}=n||{},d=p.useCallback(f=>{u&&Zw?Zw(()=>c(f)):c(f)},[c,u]);return p.useLayoutEffect(()=>o.listen(d),[o,d]),p.useEffect(()=>q3(n),[n]),p.createElement(H3,{basename:t,children:r,location:s.location,navigationType:s.action,navigator:o,future:n})}var Jw;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Jw||(Jw={}));var Qw;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Qw||(Qw={}));function Y0(e){let t=p.useRef(Tv(e)),r=p.useRef(!1),n=Fh(),a=p.useMemo(()=>V3(n.search,r.current?null:t.current),[n.search]),i=yi(),o=p.useCallback((s,c)=>{const u=Tv(typeof s=="function"?s(a):s);r.current=!0,i("?"+u,c)},[i,a]);return[a,o]}var Nv=function(e,t){return Nv=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])},Nv(e,t)};function N2(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Nv(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var wf=function(){return wf=Object.assign||function(t){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},wf.apply(this,arguments)};function qs(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}function R2(e,t,r,n){var a=arguments.length,i=a<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,r,n);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(i=(a<3?o(i):a>3?o(t,r,i):o(t,r))||i);return a>3&&i&&Object.defineProperty(t,r,i),i}function D2(e,t){return function(r,n){t(r,n,e)}}function P2(e,t,r,n,a,i){function o(y){if(y!==void 0&&typeof y!="function")throw new TypeError("Function expected");return y}for(var s=n.kind,c=s==="getter"?"get":s==="setter"?"set":"value",u=!t&&e?n.static?e:e.prototype:null,d=t||(u?Object.getOwnPropertyDescriptor(u,n.name):{}),f,h=!1,m=r.length-1;m>=0;m--){var v={};for(var x in n)v[x]=x==="access"?{}:n[x];for(var x in n.access)v.access[x]=n.access[x];v.addInitializer=function(y){if(h)throw new TypeError("Cannot add initializers after decoration has completed");i.push(o(y||null))};var b=(0,r[m])(s==="accessor"?{get:d.get,set:d.set}:d[c],v);if(s==="accessor"){if(b===void 0)continue;if(b===null||typeof b!="object")throw new TypeError("Object expected");(f=o(b.get))&&(d.get=f),(f=o(b.set))&&(d.set=f),(f=o(b.init))&&a.unshift(f)}else(f=o(b))&&(s==="field"?a.unshift(f):d[c]=f)}u&&Object.defineProperty(u,n.name,d),h=!0}function M2(e,t,r){for(var n=arguments.length>2,a=0;a<t.length;a++)r=n?t[a].call(e,r):t[a].call(e);return n?r:void 0}function z2(e){return typeof e=="symbol"?e:"".concat(e)}function B2(e,t,r){return typeof t=="symbol"&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:r?"".concat(r," ",t):t})}function I2(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function X(e,t,r,n){function a(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function s(d){try{u(n.next(d))}catch(f){o(f)}}function c(d){try{u(n.throw(d))}catch(f){o(f)}}function u(d){d.done?i(d.value):a(d.value).then(s,c)}u((n=n.apply(e,t||[])).next())})}function $2(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,a,i,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=s(0),o.throw=s(1),o.return=s(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function s(u){return function(d){return c([u,d])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(r=0)),r;)try{if(n=1,a&&(i=u[0]&2?a.return:u[0]?a.throw||((i=a.return)&&i.call(a),0):a.next)&&!(i=i.call(a,u[1])).done)return i;switch(a=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,a=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=t.call(e,r)}catch(d){u=[6,d],a=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}var Vh=Object.create?function(e,t,r,n){n===void 0&&(n=r);var a=Object.getOwnPropertyDescriptor(t,r);(!a||("get"in a?!t.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,a)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]};function L2(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&Vh(t,e,r)}function _f(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function X0(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),a,i=[],o;try{for(;(t===void 0||t-- >0)&&!(a=n.next()).done;)i.push(a.value)}catch(s){o={error:s}}finally{try{a&&!a.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return i}function U2(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(X0(arguments[t]));return e}function q2(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),a=0,t=0;t<r;t++)for(var i=arguments[t],o=0,s=i.length;o<s;o++,a++)n[a]=i[o];return n}function W2(e,t,r){if(r||arguments.length===2)for(var n=0,a=t.length,i;n<a;n++)(i||!(n in t))&&(i||(i=Array.prototype.slice.call(t,0,n)),i[n]=t[n]);return e.concat(i||Array.prototype.slice.call(t))}function ws(e){return this instanceof ws?(this.v=e,this):new ws(e)}function H2(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),a,i=[];return a=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),s("next"),s("throw"),s("return",o),a[Symbol.asyncIterator]=function(){return this},a;function o(m){return function(v){return Promise.resolve(v).then(m,f)}}function s(m,v){n[m]&&(a[m]=function(x){return new Promise(function(b,y){i.push([m,x,b,y])>1||c(m,x)})},v&&(a[m]=v(a[m])))}function c(m,v){try{u(n[m](v))}catch(x){h(i[0][3],x)}}function u(m){m.value instanceof ws?Promise.resolve(m.value.v).then(d,f):h(i[0][2],m)}function d(m){c("next",m)}function f(m){c("throw",m)}function h(m,v){m(v),i.shift(),i.length&&c(i[0][0],i[0][1])}}function F2(e){var t,r;return t={},n("next"),n("throw",function(a){throw a}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(a,i){t[a]=e[a]?function(o){return(r=!r)?{value:ws(e[a](o)),done:!1}:i?i(o):o}:i}}function V2(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof _f=="function"?_f(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(i){r[i]=e[i]&&function(o){return new Promise(function(s,c){o=e[i](o),a(s,c,o.done,o.value)})}}function a(i,o,s,c){Promise.resolve(c).then(function(u){i({value:u,done:s})},o)}}function K2(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var X3=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t},Rv=function(e){return Rv=Object.getOwnPropertyNames||function(t){var r=[];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[r.length]=n);return r},Rv(e)};function G2(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r=Rv(e),n=0;n<r.length;n++)r[n]!=="default"&&Vh(t,e,r[n]);return X3(t,e),t}function Y2(e){return e&&e.__esModule?e:{default:e}}function X2(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)}function Z2(e,t,r,n,a){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!a)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!a:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?a.call(e,r):a?a.value=r:t.set(e,r),r}function J2(e,t){if(t===null||typeof t!="object"&&typeof t!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?t===e:e.has(t)}function Q2(e,t,r){if(t!=null){if(typeof t!="object"&&typeof t!="function")throw new TypeError("Object expected.");var n,a;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=t[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=t[Symbol.dispose],r&&(a=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");a&&(n=function(){try{a.call(this)}catch(i){return Promise.reject(i)}}),e.stack.push({value:t,dispose:n,async:r})}else r&&e.stack.push({async:!0});return t}var Z3=typeof SuppressedError=="function"?SuppressedError:function(e,t,r){var n=new Error(r);return n.name="SuppressedError",n.error=e,n.suppressed=t,n};function ek(e){function t(i){e.error=e.hasError?new Z3(i,e.error,"An error was suppressed during disposal."):i,e.hasError=!0}var r,n=0;function a(){for(;r=e.stack.pop();)try{if(!r.async&&n===1)return n=0,e.stack.push(r),Promise.resolve().then(a);if(r.dispose){var i=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(i).then(a,function(o){return t(o),a()})}else n|=1}catch(o){t(o)}if(n===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return a()}function tk(e,t){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,n,a,i,o){return n?t?".jsx":".js":a&&(!i||!o)?r:a+i+"."+o.toLowerCase()+"js"}):e}const J3={__extends:N2,__assign:wf,__rest:qs,__decorate:R2,__param:D2,__esDecorate:P2,__runInitializers:M2,__propKey:z2,__setFunctionName:B2,__metadata:I2,__awaiter:X,__generator:$2,__createBinding:Vh,__exportStar:L2,__values:_f,__read:X0,__spread:U2,__spreadArrays:q2,__spreadArray:W2,__await:ws,__asyncGenerator:H2,__asyncDelegator:F2,__asyncValues:V2,__makeTemplateObject:K2,__importStar:G2,__importDefault:Y2,__classPrivateFieldGet:X2,__classPrivateFieldSet:Z2,__classPrivateFieldIn:J2,__addDisposableResource:Q2,__disposeResources:ek,__rewriteRelativeImportExtension:tk},Q3=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:Q2,get __assign(){return wf},__asyncDelegator:F2,__asyncGenerator:H2,__asyncValues:V2,__await:ws,__awaiter:X,__classPrivateFieldGet:X2,__classPrivateFieldIn:J2,__classPrivateFieldSet:Z2,__createBinding:Vh,__decorate:R2,__disposeResources:ek,__esDecorate:P2,__exportStar:L2,__extends:N2,__generator:$2,__importDefault:Y2,__importStar:G2,__makeTemplateObject:K2,__metadata:I2,__param:D2,__propKey:z2,__read:X0,__rest:qs,__rewriteRelativeImportExtension:tk,__runInitializers:M2,__setFunctionName:B2,__spread:U2,__spreadArray:W2,__spreadArrays:q2,__values:_f,default:J3},Symbol.toStringTag,{value:"Module"})),e6="modulepreload",t6=function(e){return"/"+e},e_={},Ws=function(t,r,n){let a=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),s=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));a=Promise.allSettled(r.map(c=>{if(c=t6(c),c in e_)return;e_[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":e6,u||(f.as="script"),f.crossOrigin="",f.href=c,s&&f.setAttribute("nonce",s),document.head.appendChild(f),u)return new Promise((h,m)=>{f.addEventListener("load",h),f.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(o){const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=o,window.dispatchEvent(s),!s.defaultPrevented)throw o}return a.then(o=>{for(const s of o||[])s.status==="rejected"&&i(s.reason);return t().catch(i)})},r6=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Ws(async()=>{const{default:n}=await Promise.resolve().then(()=>mo);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class Z0 extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class t_ extends Z0{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class r_ extends Z0{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class n_ extends Z0{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Dv;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Dv||(Dv={}));class n6{constructor(t,{headers:r={},customFetch:n,region:a=Dv.Any}={}){this.url=t,this.headers=r,this.region=a,this.fetch=r6(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return X(this,arguments,void 0,function*(r,n={}){var a;try{const{headers:i,method:o,body:s,signal:c}=n;let u={},{region:d}=n;d||(d=this.region);const f=new URL(`${this.url}/${r}`);d&&d!=="any"&&(u["x-region"]=d,f.searchParams.set("forceFunctionRegion",d));let h;s&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)?typeof Blob<"u"&&s instanceof Blob||s instanceof ArrayBuffer?(u["Content-Type"]="application/octet-stream",h=s):typeof s=="string"?(u["Content-Type"]="text/plain",h=s):typeof FormData<"u"&&s instanceof FormData?h=s:(u["Content-Type"]="application/json",h=JSON.stringify(s)):h=s;const m=yield this.fetch(f.toString(),{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},u),this.headers),i),body:h,signal:c}).catch(y=>{throw y.name==="AbortError"?y:new t_(y)}),v=m.headers.get("x-relay-error");if(v&&v==="true")throw new r_(m);if(!m.ok)throw new n_(m);let x=((a=m.headers.get("Content-Type"))!==null&&a!==void 0?a:"text/plain").split(";")[0].trim(),b;return x==="application/json"?b=yield m.json():x==="application/octet-stream"||x==="application/pdf"?b=yield m.blob():x==="text/event-stream"?b=m:x==="multipart/form-data"?b=yield m.formData():b=yield m.text(),{data:b,error:null,response:m}}catch(i){return i instanceof Error&&i.name==="AbortError"?{data:null,error:new t_(i)}:{data:null,error:i,response:i instanceof n_||i instanceof r_?i.context:void 0}}})}}var qt={};const Hs=mE(Q3);var Gu={},Yu={},Xu={},Zu={},Ju={},a6=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},_s=a6();const i6=_s.fetch,rk=_s.fetch.bind(_s),nk=_s.Headers,o6=_s.Request,s6=_s.Response,mo=Object.freeze(Object.defineProperty({__proto__:null,Headers:nk,Request:o6,Response:s6,default:rk,fetch:i6},Symbol.toStringTag,{value:"Module"})),l6=mE(mo);var Qu={},a_;function ak(){if(a_)return Qu;a_=1,Object.defineProperty(Qu,"__esModule",{value:!0});class e extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return Qu.default=e,Qu}var i_;function ik(){if(i_)return Ju;i_=1,Object.defineProperty(Ju,"__esModule",{value:!0});const e=Hs,t=e.__importDefault(l6),r=e.__importDefault(ak());class n{constructor(i){var o,s;this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=new Headers(i.headers),this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=(o=i.shouldThrowOnError)!==null&&o!==void 0?o:!1,this.signal=i.signal,this.isMaybeSingle=(s=i.isMaybeSingle)!==null&&s!==void 0?s:!1,i.fetch?this.fetch=i.fetch:typeof fetch>"u"?this.fetch=t.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,o){return this.headers=new Headers(this.headers),this.headers.set(i,o),this}then(i,o){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const s=this.fetch;let c=s(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async u=>{var d,f,h,m;let v=null,x=null,b=null,y=u.status,g=u.statusText;if(u.ok){if(this.method!=="HEAD"){const S=await u.text();S===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((d=this.headers.get("Accept"))===null||d===void 0)&&d.includes("application/vnd.pgrst.plan+text"))?x=S:x=JSON.parse(S))}const _=(f=this.headers.get("Prefer"))===null||f===void 0?void 0:f.match(/count=(exact|planned|estimated)/),j=(h=u.headers.get("content-range"))===null||h===void 0?void 0:h.split("/");_&&j&&j.length>1&&(b=parseInt(j[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(x)&&(x.length>1?(v={code:"PGRST116",details:`Results contain ${x.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},x=null,b=null,y=406,g="Not Acceptable"):x.length===1?x=x[0]:x=null)}else{const _=await u.text();try{v=JSON.parse(_),Array.isArray(v)&&u.status===404&&(x=[],v=null,y=200,g="OK")}catch{u.status===404&&_===""?(y=204,g="No Content"):v={message:_}}if(v&&this.isMaybeSingle&&(!((m=v==null?void 0:v.details)===null||m===void 0)&&m.includes("0 rows"))&&(v=null,y=200,g="OK"),v&&this.shouldThrowOnError)throw new r.default(v)}return{error:v,data:x,count:b,status:y,statusText:g}});return this.shouldThrowOnError||(c=c.catch(u=>{var d,f,h;return{error:{message:`${(d=u==null?void 0:u.name)!==null&&d!==void 0?d:"FetchError"}: ${u==null?void 0:u.message}`,details:`${(f=u==null?void 0:u.stack)!==null&&f!==void 0?f:""}`,hint:"",code:`${(h=u==null?void 0:u.code)!==null&&h!==void 0?h:""}`},data:null,count:null,status:0,statusText:""}})),c.then(i,o)}returns(){return this}overrideTypes(){return this}}return Ju.default=n,Ju}var o_;function ok(){if(o_)return Zu;o_=1,Object.defineProperty(Zu,"__esModule",{value:!0});const t=Hs.__importDefault(ik());class r extends t.default{select(a){let i=!1;const o=(a??"*").split("").map(s=>/\s/.test(s)&&!i?"":(s==='"'&&(i=!i),s)).join("");return this.url.searchParams.set("select",o),this.headers.append("Prefer","return=representation"),this}order(a,{ascending:i=!0,nullsFirst:o,foreignTable:s,referencedTable:c=s}={}){const u=c?`${c}.order`:"order",d=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${d?`${d},`:""}${a}.${i?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(a,{foreignTable:i,referencedTable:o=i}={}){const s=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(s,`${a}`),this}range(a,i,{foreignTable:o,referencedTable:s=o}={}){const c=typeof s>"u"?"offset":`${s}.offset`,u=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(c,`${a}`),this.url.searchParams.set(u,`${i-a+1}`),this}abortSignal(a){return this.signal=a,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:a=!1,verbose:i=!1,settings:o=!1,buffers:s=!1,wal:c=!1,format:u="text"}={}){var d;const f=[a?"analyze":null,i?"verbose":null,o?"settings":null,s?"buffers":null,c?"wal":null].filter(Boolean).join("|"),h=(d=this.headers.get("Accept"))!==null&&d!==void 0?d:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${u}; for="${h}"; options=${f};`),u==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(a){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${a}`),this}}return Zu.default=r,Zu}var s_;function J0(){if(s_)return Xu;s_=1,Object.defineProperty(Xu,"__esModule",{value:!0});const t=Hs.__importDefault(ok()),r=new RegExp("[,()]");class n extends t.default{eq(i,o){return this.url.searchParams.append(i,`eq.${o}`),this}neq(i,o){return this.url.searchParams.append(i,`neq.${o}`),this}gt(i,o){return this.url.searchParams.append(i,`gt.${o}`),this}gte(i,o){return this.url.searchParams.append(i,`gte.${o}`),this}lt(i,o){return this.url.searchParams.append(i,`lt.${o}`),this}lte(i,o){return this.url.searchParams.append(i,`lte.${o}`),this}like(i,o){return this.url.searchParams.append(i,`like.${o}`),this}likeAllOf(i,o){return this.url.searchParams.append(i,`like(all).{${o.join(",")}}`),this}likeAnyOf(i,o){return this.url.searchParams.append(i,`like(any).{${o.join(",")}}`),this}ilike(i,o){return this.url.searchParams.append(i,`ilike.${o}`),this}ilikeAllOf(i,o){return this.url.searchParams.append(i,`ilike(all).{${o.join(",")}}`),this}ilikeAnyOf(i,o){return this.url.searchParams.append(i,`ilike(any).{${o.join(",")}}`),this}is(i,o){return this.url.searchParams.append(i,`is.${o}`),this}in(i,o){const s=Array.from(new Set(o)).map(c=>typeof c=="string"&&r.test(c)?`"${c}"`:`${c}`).join(",");return this.url.searchParams.append(i,`in.(${s})`),this}contains(i,o){return typeof o=="string"?this.url.searchParams.append(i,`cs.${o}`):Array.isArray(o)?this.url.searchParams.append(i,`cs.{${o.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(o)}`),this}containedBy(i,o){return typeof o=="string"?this.url.searchParams.append(i,`cd.${o}`):Array.isArray(o)?this.url.searchParams.append(i,`cd.{${o.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(o)}`),this}rangeGt(i,o){return this.url.searchParams.append(i,`sr.${o}`),this}rangeGte(i,o){return this.url.searchParams.append(i,`nxl.${o}`),this}rangeLt(i,o){return this.url.searchParams.append(i,`sl.${o}`),this}rangeLte(i,o){return this.url.searchParams.append(i,`nxr.${o}`),this}rangeAdjacent(i,o){return this.url.searchParams.append(i,`adj.${o}`),this}overlaps(i,o){return typeof o=="string"?this.url.searchParams.append(i,`ov.${o}`):this.url.searchParams.append(i,`ov.{${o.join(",")}}`),this}textSearch(i,o,{config:s,type:c}={}){let u="";c==="plain"?u="pl":c==="phrase"?u="ph":c==="websearch"&&(u="w");const d=s===void 0?"":`(${s})`;return this.url.searchParams.append(i,`${u}fts${d}.${o}`),this}match(i){return Object.entries(i).forEach(([o,s])=>{this.url.searchParams.append(o,`eq.${s}`)}),this}not(i,o,s){return this.url.searchParams.append(i,`not.${o}.${s}`),this}or(i,{foreignTable:o,referencedTable:s=o}={}){const c=s?`${s}.or`:"or";return this.url.searchParams.append(c,`(${i})`),this}filter(i,o,s){return this.url.searchParams.append(i,`${o}.${s}`),this}}return Xu.default=n,Xu}var l_;function sk(){if(l_)return Yu;l_=1,Object.defineProperty(Yu,"__esModule",{value:!0});const t=Hs.__importDefault(J0());class r{constructor(a,{headers:i={},schema:o,fetch:s}){this.url=a,this.headers=new Headers(i),this.schema=o,this.fetch=s}select(a,i){const{head:o=!1,count:s}=i??{},c=o?"HEAD":"GET";let u=!1;const d=(a??"*").split("").map(f=>/\s/.test(f)&&!u?"":(f==='"'&&(u=!u),f)).join("");return this.url.searchParams.set("select",d),s&&this.headers.append("Prefer",`count=${s}`),new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(a,{count:i,defaultToNull:o=!0}={}){var s;const c="POST";if(i&&this.headers.append("Prefer",`count=${i}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(a)){const u=a.reduce((d,f)=>d.concat(Object.keys(f)),[]);if(u.length>0){const d=[...new Set(u)].map(f=>`"${f}"`);this.url.searchParams.set("columns",d.join(","))}}return new t.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}upsert(a,{onConflict:i,ignoreDuplicates:o=!1,count:s,defaultToNull:c=!0}={}){var u;const d="POST";if(this.headers.append("Prefer",`resolution=${o?"ignore":"merge"}-duplicates`),i!==void 0&&this.url.searchParams.set("on_conflict",i),s&&this.headers.append("Prefer",`count=${s}`),c||this.headers.append("Prefer","missing=default"),Array.isArray(a)){const f=a.reduce((h,m)=>h.concat(Object.keys(m)),[]);if(f.length>0){const h=[...new Set(f)].map(m=>`"${m}"`);this.url.searchParams.set("columns",h.join(","))}}return new t.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}update(a,{count:i}={}){var o;const s="PATCH";return i&&this.headers.append("Prefer",`count=${i}`),new t.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:a,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}delete({count:a}={}){var i;const o="DELETE";return a&&this.headers.append("Prefer",`count=${a}`),new t.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}}return Yu.default=r,Yu}var c_;function c6(){if(c_)return Gu;c_=1,Object.defineProperty(Gu,"__esModule",{value:!0});const e=Hs,t=e.__importDefault(sk()),r=e.__importDefault(J0());class n{constructor(i,{headers:o={},schema:s,fetch:c}={}){this.url=i,this.headers=new Headers(o),this.schemaName=s,this.fetch=c}from(i){const o=new URL(`${this.url}/${i}`);return new t.default(o,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(i){return new n(this.url,{headers:this.headers,schema:i,fetch:this.fetch})}rpc(i,o={},{head:s=!1,get:c=!1,count:u}={}){var d;let f;const h=new URL(`${this.url}/rpc/${i}`);let m;s||c?(f=s?"HEAD":"GET",Object.entries(o).filter(([x,b])=>b!==void 0).map(([x,b])=>[x,Array.isArray(b)?`{${b.join(",")}}`:`${b}`]).forEach(([x,b])=>{h.searchParams.append(x,b)})):(f="POST",m=o);const v=new Headers(this.headers);return u&&v.set("Prefer",`count=${u}`),new r.default({method:f,url:h,headers:v,schema:this.schemaName,body:m,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}}return Gu.default=n,Gu}Object.defineProperty(qt,"__esModule",{value:!0});var lk=qt.PostgrestError=yk=qt.PostgrestBuilder=gk=qt.PostgrestTransformBuilder=mk=qt.PostgrestFilterBuilder=fk=qt.PostgrestQueryBuilder=uk=qt.PostgrestClient=void 0;const Fs=Hs,ck=Fs.__importDefault(c6());var uk=qt.PostgrestClient=ck.default;const dk=Fs.__importDefault(sk());var fk=qt.PostgrestQueryBuilder=dk.default;const hk=Fs.__importDefault(J0());var mk=qt.PostgrestFilterBuilder=hk.default;const pk=Fs.__importDefault(ok());var gk=qt.PostgrestTransformBuilder=pk.default;const vk=Fs.__importDefault(ik());var yk=qt.PostgrestBuilder=vk.default;const bk=Fs.__importDefault(ak());lk=qt.PostgrestError=bk.default;var xk=qt.default={PostgrestClient:ck.default,PostgrestQueryBuilder:dk.default,PostgrestFilterBuilder:hk.default,PostgrestTransformBuilder:pk.default,PostgrestBuilder:vk.default,PostgrestError:bk.default};const u6=hE({__proto__:null,get PostgrestBuilder(){return yk},get PostgrestClient(){return uk},get PostgrestError(){return lk},get PostgrestFilterBuilder(){return mk},get PostgrestQueryBuilder(){return fk},get PostgrestTransformBuilder(){return gk},default:xk},[qt]),{PostgrestClient:d6,PostgrestQueryBuilder:xre,PostgrestFilterBuilder:wre,PostgrestTransformBuilder:_re,PostgrestBuilder:jre,PostgrestError:Sre}=xk||u6;class f6{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,a=parseInt(n.replace(/^v/,"").split(".")[0]);return a>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${a} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${a} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const h6="2.78.0",m6=`realtime-js/${h6}`,p6="1.0.0",Pv=1e4,g6=1e3,v6=100;var Kl;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Kl||(Kl={}));var st;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(st||(st={}));var rn;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(rn||(rn={}));var Mv;(function(e){e.websocket="websocket"})(Mv||(Mv={}));var Di;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Di||(Di={}));class y6{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const a=r.getUint8(1),i=r.getUint8(2);let o=this.HEADER_LENGTH+2;const s=n.decode(t.slice(o,o+a));o=o+a;const c=n.decode(t.slice(o,o+i));o=o+i;const u=JSON.parse(n.decode(t.slice(o,t.byteLength)));return{ref:null,topic:s,event:c,payload:u}}}class wk{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ke;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(ke||(ke={}));const u_=(e,t,r={})=>{var n;const a=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((i,o)=>(i[o]=b6(o,e,t,a),i),{}):{}},b6=(e,t,r,n)=>{const a=t.find(s=>s.name===e),i=a==null?void 0:a.type,o=r[e];return i&&!n.includes(i)?_k(i,o):zv(o)},_k=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return j6(t,r)}switch(e){case ke.bool:return x6(t);case ke.float4:case ke.float8:case ke.int2:case ke.int4:case ke.int8:case ke.numeric:case ke.oid:return w6(t);case ke.json:case ke.jsonb:return _6(t);case ke.timestamp:return S6(t);case ke.abstime:case ke.date:case ke.daterange:case ke.int4range:case ke.int8range:case ke.money:case ke.reltime:case ke.text:case ke.time:case ke.timestamptz:case ke.timetz:case ke.tsrange:case ke.tstzrange:return zv(t);default:return zv(t)}},zv=e=>e,x6=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},w6=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},_6=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},j6=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const o=e.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(s=>_k(t,s))}return e},S6=e=>typeof e=="string"?e.replace(" ","T"):e,jk=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class Gp{constructor(t,r,n={},a=Pv){this.channel=t,this.event=r,this.payload=n,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var d_;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(d_||(d_={}));class Gl{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},a=>{const{onJoin:i,onLeave:o,onSync:s}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Gl.syncState(this.state,a,i,o),this.pendingDiffs.forEach(c=>{this.state=Gl.syncDiff(this.state,c,i,o)}),this.pendingDiffs=[],s()}),this.channel._on(n.diff,{},a=>{const{onJoin:i,onLeave:o,onSync:s}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=Gl.syncDiff(this.state,a,i,o),s())}),this.onJoin((a,i,o)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:i,newPresences:o})}),this.onLeave((a,i,o)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,a){const i=this.cloneDeep(t),o=this.transformState(r),s={},c={};return this.map(i,(u,d)=>{o[u]||(c[u]=d)}),this.map(o,(u,d)=>{const f=i[u];if(f){const h=d.map(b=>b.presence_ref),m=f.map(b=>b.presence_ref),v=d.filter(b=>m.indexOf(b.presence_ref)<0),x=f.filter(b=>h.indexOf(b.presence_ref)<0);v.length>0&&(s[u]=v),x.length>0&&(c[u]=x)}else s[u]=d}),this.syncDiff(i,{joins:s,leaves:c},n,a)}static syncDiff(t,r,n,a){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),a||(a=()=>{}),this.map(i,(s,c)=>{var u;const d=(u=t[s])!==null&&u!==void 0?u:[];if(t[s]=this.cloneDeep(c),d.length>0){const f=t[s].map(m=>m.presence_ref),h=d.filter(m=>f.indexOf(m.presence_ref)<0);t[s].unshift(...h)}n(s,d,c)}),this.map(o,(s,c)=>{let u=t[s];if(!u)return;const d=c.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),t[s]=u,a(s,u,c),u.length===0&&delete t[s]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const a=t[n];return"metas"in a?r[n]=a.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=a,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var f_;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(f_||(f_={}));var Yl;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Yl||(Yl={}));var Ln;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Ln||(Ln={}));class Q0{constructor(t,r={config:{}},n){var a,i;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=st.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Gp(this,rn.join,this.params,this.timeout),this.rejoinTimer=new wk(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=st.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=st.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=st.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=st.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=st.errored,this.rejoinTimer.scheduleTimeout())}),this._on(rn.reply,{},(o,s)=>{this._trigger(this._replyEventName(s),o)}),this.presence=new Gl(this),this.broadcastEndpointURL=jk(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(a=this.params.config)===null||a===void 0?void 0:a.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,a,i;if(this.socket.isConnected()||this.socket.connect(),this.state==st.closed){const{config:{broadcast:o,presence:s,private:c}}=this.params,u=(a=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(m=>m.filter))!==null&&a!==void 0?a:[],d=!!this.bindings[Yl.PRESENCE]&&this.bindings[Yl.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,f={},h={broadcast:o,presence:Object.assign(Object.assign({},s),{enabled:d}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(m=>t==null?void 0:t(Ln.CHANNEL_ERROR,m)),this._onClose(()=>t==null?void 0:t(Ln.CLOSED)),this.updateJoinPayload(Object.assign({config:h},f)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:m})=>{var v;if(this.socket.setAuth(),m===void 0){t==null||t(Ln.SUBSCRIBED);return}else{const x=this.bindings.postgres_changes,b=(v=x==null?void 0:x.length)!==null&&v!==void 0?v:0,y=[];for(let g=0;g<b;g++){const w=x[g],{filter:{event:_,schema:j,table:S,filter:C}}=w,E=m&&m[g];if(E&&E.event===_&&E.schema===j&&E.table===S&&E.filter===C)y.push(Object.assign(Object.assign({},w),{id:E.id}));else{this.unsubscribe(),this.state=st.errored,t==null||t(Ln.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=y,t&&t(Ln.SUBSCRIBED);return}}).receive("error",m=>{this.state=st.errored,t==null||t(Ln.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(m).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Ln.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===st.joined&&t===Yl.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,r,n)}async httpSend(t,r,n={}){var a;const i=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const o={method:"POST",headers:{Authorization:i,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},s=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(a=n.timeout)!==null&&a!==void 0?a:this.timeout);if(s.status===202)return{success:!0};let c=s.statusText;try{const u=await s.json();c=u.error||u.message||c}catch{}return Promise.reject(new Error(c))}async send(t,r={}){var n,a;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:o}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((a=u.body)===null||a===void 0?void 0:a.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,s,c;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(s=(o=this.params)===null||o===void 0?void 0:o.config)===null||s===void 0?void 0:s.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=st.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(rn.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(a=>{n=new Gp(this,rn.leave,{},t),n.receive("ok",()=>{r(),a("ok")}).receive("timeout",()=>{r(),a("timed out")}).receive("error",()=>{a("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=st.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const a=new AbortController,i=setTimeout(()=>a.abort(),n),o=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:a.signal}));return clearTimeout(i),o}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new Gp(this,t,r,n);return this._canPush()?a.send():this._addToPushBuffer(a),a}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>v6){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var a,i;const o=t.toLocaleLowerCase(),{close:s,error:c,leave:u,join:d}=rn;if(n&&[s,c,u,d].indexOf(o)>=0&&n!==this._joinRef())return;let h=this._onMessage(o,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(m=>{var v,x,b;return((v=m.filter)===null||v===void 0?void 0:v.event)==="*"||((b=(x=m.filter)===null||x===void 0?void 0:x.event)===null||b===void 0?void 0:b.toLocaleLowerCase())===o}).map(m=>m.callback(h,n)):(i=this.bindings[o])===null||i===void 0||i.filter(m=>{var v,x,b,y,g,w;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in m){const _=m.id,j=(v=m.filter)===null||v===void 0?void 0:v.event;return _&&((x=r.ids)===null||x===void 0?void 0:x.includes(_))&&(j==="*"||(j==null?void 0:j.toLocaleLowerCase())===((b=r.data)===null||b===void 0?void 0:b.type.toLocaleLowerCase()))}else{const _=(g=(y=m==null?void 0:m.filter)===null||y===void 0?void 0:y.event)===null||g===void 0?void 0:g.toLocaleLowerCase();return _==="*"||_===((w=r==null?void 0:r.event)===null||w===void 0?void 0:w.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===o}).map(m=>{if(typeof h=="object"&&"ids"in h){const v=h.data,{schema:x,table:b,commit_timestamp:y,type:g,errors:w}=v;h=Object.assign(Object.assign({},{schema:x,table:b,commit_timestamp:y,eventType:g,new:{},old:{},errors:w}),this._getPayloadRecords(v))}m.callback(h,n)})}_isClosed(){return this.state===st.closed}_isJoined(){return this.state===st.joined}_isJoining(){return this.state===st.joining}_isLeaving(){return this.state===st.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const a=t.toLocaleLowerCase(),i={type:a,filter:r,callback:n};return this.bindings[a]?this.bindings[a].push(i):this.bindings[a]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(a=>{var i;return!(((i=a.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&Q0.isEqual(a.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(rn.close,{},t)}_onError(t){this._on(rn.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=st.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=u_(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=u_(t.columns,t.old_record)),r}}const Yp=()=>{},ed={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},C6=[1e3,2e3,5e3,1e4],E6=1e4,O6=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class A6{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Pv,this.transport=null,this.heartbeatIntervalMs=ed.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Yp,this.ref=0,this.reconnectTimer=null,this.logger=Yp,this.conn=null,this.sendBuffer=[],this.serializer=new y6,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=a=>{let i;return a?i=a:typeof fetch>"u"?i=(...o)=>Ws(async()=>{const{default:s}=await Promise.resolve().then(()=>mo);return{default:s}},void 0).then(({default:s})=>s(...o)).catch(s=>{throw new Error(`Failed to load @supabase/node-fetch: ${s.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):i=fetch,(...o)=>i(...o)},!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${Mv.websocket}`,this.httpEndpoint=jk(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=f6.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:p6}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},t?this.conn.close(t,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Kl.connecting:return Di.Connecting;case Kl.open:return Di.Open;case Kl.closing:return Di.Closing;default:return Di.Closed}}isConnected(){return this.connectionState()===Di.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,a=this.getChannels().find(i=>i.topic===n);if(a)return a;{const i=new Q0(`realtime:${t}`,r,this);return this.channels.push(i),i}}push(t){const{topic:r,event:n,payload:a,ref:i}=t,o=()=>{this.encode(t,s=>{var c;(c=this.conn)===null||c===void 0||c.send(s)})};this.log("push",`${r} ${n} (${i})`,a),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(g6,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},ed.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:a,payload:i,ref:o}=r,s=o?`(${o})`:"",c=i.status||"";this.log("receive",`${c} ${n} ${a} ${s}`.trim(),i),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(a,i,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(rn.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",a=new URLSearchParams(r);return`${t}${n}${a}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([O6],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r;t?r=t:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const a={access_token:r,version:m6};r&&n.updateJoinPayload(a),n.joinedOnce&&n._isJoined()&&n._push(rn.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(a){this.log("error",`error in ${t} callback`,a)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new wk(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},ed.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,a,i,o,s,c,u,d;if(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:Pv,this.heartbeatIntervalMs=(a=t==null?void 0:t.heartbeatIntervalMs)!==null&&a!==void 0?a:ed.HEARTBEAT_INTERVAL,this.worker=(i=t==null?void 0:t.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=t==null?void 0:t.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(s=t==null?void 0:t.heartbeatCallback)!==null&&s!==void 0?s:Yp,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=t==null?void 0:t.reconnectAfterMs)!==null&&c!==void 0?c:f=>C6[f-1]||E6,this.encode=(u=t==null?void 0:t.encode)!==null&&u!==void 0?u:(f,h)=>h(JSON.stringify(f)),this.decode=(d=t==null?void 0:t.decode)!==null&&d!==void 0?d:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class eb extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function qe(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class k6 extends eb{constructor(t,r,n){super(t),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Bv extends eb{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}const tb=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Ws(async()=>{const{default:n}=await Promise.resolve().then(()=>mo);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},T6=()=>X(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Ws(()=>Promise.resolve().then(()=>mo),void 0)).Response:Response}),Iv=e=>{if(Array.isArray(e))return e.map(r=>Iv(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const a=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[a]=Iv(n)}),t},N6=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Xp=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},R6=(e,t,r)=>X(void 0,void 0,void 0,function*(){const n=yield T6();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(a=>{const i=e.status||500,o=(a==null?void 0:a.statusCode)||i+"";t(new k6(Xp(a),i,o))}).catch(a=>{t(new Bv(Xp(a),a))}):t(new Bv(Xp(e),e))}),D6=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!n?a:(N6(n)?(a.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),a.body=JSON.stringify(n)):a.body=n,t!=null&&t.duplex&&(a.duplex=t.duplex),Object.assign(Object.assign({},a),r))};function Jc(e,t,r,n,a,i){return X(this,void 0,void 0,function*(){return new Promise((o,s)=>{e(r,D6(t,n,a,i)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>R6(c,s,n))})})}function vc(e,t,r,n){return X(this,void 0,void 0,function*(){return Jc(e,"GET",t,r,n)})}function en(e,t,r,n,a){return X(this,void 0,void 0,function*(){return Jc(e,"POST",t,n,a,r)})}function $v(e,t,r,n,a){return X(this,void 0,void 0,function*(){return Jc(e,"PUT",t,n,a,r)})}function P6(e,t,r,n){return X(this,void 0,void 0,function*(){return Jc(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function rb(e,t,r,n,a){return X(this,void 0,void 0,function*(){return Jc(e,"DELETE",t,n,a,r)})}class M6{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r}then(t,r){return this.execute().then(t,r)}execute(){return X(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(qe(t))return{data:null,error:t};throw t}})}}var Sk;class z6{constructor(t,r){this.downloadFn=t,this.shouldThrowOnError=r,this[Sk]="BlobDownloadBuilder",this.promise=null}asStream(){return new M6(this.downloadFn,this.shouldThrowOnError)}then(t,r){return this.getPromise().then(t,r)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return X(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(qe(t))return{data:null,error:t};throw t}})}}Sk=Symbol.toStringTag;const B6={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},h_={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class I6{constructor(t,r={},n,a){this.shouldThrowOnError=!1,this.url=t,this.headers=r,this.bucketId=n,this.fetch=tb(a)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,r,n,a){return X(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},h_),a);let s=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c))):(i=n,s["cache-control"]=`max-age=${o.cacheControl}`,s["content-type"]=o.contentType,c&&(s["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),a!=null&&a.headers&&(s=Object.assign(Object.assign({},s),a.headers));const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),f=yield(t=="PUT"?$v:en)(this.fetch,`${this.url}/object/${d}`,i,Object.assign({headers:s},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:u,id:f.Id,fullPath:f.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(qe(i))return{data:null,error:i};throw i}})}upload(t,r,n){return X(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,a){return X(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(t),o=this._getFinalPath(i),s=new URL(this.url+`/object/upload/sign/${o}`);s.searchParams.set("token",r);try{let c;const u=Object.assign({upsert:h_.upsert},a),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",u.cacheControl)):(c=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const f=yield $v(this.fetch,s.toString(),c,{headers:d});return{data:{path:i,fullPath:f.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(qe(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,r){return X(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const a=Object.assign({},this.headers);r!=null&&r.upsert&&(a["x-upsert"]="true");const i=yield en(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:a}),o=new URL(this.url+i.url),s=o.searchParams.get("token");if(!s)throw new eb("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:s},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(qe(n))return{data:null,error:n};throw n}})}update(t,r,n){return X(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return X(this,void 0,void 0,function*(){try{return{data:yield en(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(qe(a))return{data:null,error:a};throw a}})}copy(t,r,n){return X(this,void 0,void 0,function*(){try{return{data:{path:(yield en(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(qe(a))return{data:null,error:a};throw a}})}createSignedUrl(t,r,n){return X(this,void 0,void 0,function*(){try{let a=this._getFinalPath(t),i=yield en(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(qe(a))return{data:null,error:a};throw a}})}createSignedUrls(t,r,n){return X(this,void 0,void 0,function*(){try{const a=yield en(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:a.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(qe(a))return{data:null,error:a};throw a}})}download(t,r){const a=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=i?`?${i}`:"",s=this._getFinalPath(t),c=()=>vc(this.fetch,`${this.url}/${a}/${s}${o}`,{headers:this.headers,noResolveJson:!0});return new z6(c,this.shouldThrowOnError)}info(t){return X(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield vc(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Iv(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(qe(n))return{data:null,error:n};throw n}})}exists(t){return X(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield P6(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(qe(n)&&n instanceof Bv){const a=n.originalError;if([400,404].includes(a==null?void 0:a.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),a=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&a.push(i);const s=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&a.push(c);let u=a.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${s}/public/${n}${u}`)}}}remove(t){return X(this,void 0,void 0,function*(){try{return{data:yield rb(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(qe(r))return{data:null,error:r};throw r}})}list(t,r,n){return X(this,void 0,void 0,function*(){try{const a=Object.assign(Object.assign(Object.assign({},B6),r),{prefix:t||""});return{data:yield en(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},n),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(qe(a))return{data:null,error:a};throw a}})}listV2(t,r){return X(this,void 0,void 0,function*(){try{const n=Object.assign({},t);return{data:yield en(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(qe(n))return{data:null,error:n};throw n}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const Ck="2.78.0",Ek={"X-Client-Info":`storage-js/${Ck}`};class $6{constructor(t,r={},n,a){this.shouldThrowOnError=!1;const i=new URL(t);a!=null&&a.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Ek),r),this.fetch=tb(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(t){return X(this,void 0,void 0,function*(){try{const r=this.listBucketOptionsToQueryString(t);return{data:yield vc(this.fetch,`${this.url}/bucket${r}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(qe(r))return{data:null,error:r};throw r}})}getBucket(t){return X(this,void 0,void 0,function*(){try{return{data:yield vc(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(qe(r))return{data:null,error:r};throw r}})}createBucket(t){return X(this,arguments,void 0,function*(r,n={public:!1}){try{return{data:yield en(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(qe(a))return{data:null,error:a};throw a}})}updateBucket(t,r){return X(this,void 0,void 0,function*(){try{return{data:yield $v(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(qe(n))return{data:null,error:n};throw n}})}emptyBucket(t){return X(this,void 0,void 0,function*(){try{return{data:yield en(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(qe(r))return{data:null,error:r};throw r}})}deleteBucket(t){return X(this,void 0,void 0,function*(){try{return{data:yield rb(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(qe(r))return{data:null,error:r};throw r}})}listBucketOptionsToQueryString(t){const r={};return t&&("limit"in t&&(r.limit=String(t.limit)),"offset"in t&&(r.offset=String(t.offset)),t.search&&(r.search=t.search),t.sortColumn&&(r.sortColumn=t.sortColumn),t.sortOrder&&(r.sortOrder=t.sortOrder)),Object.keys(r).length>0?"?"+new URLSearchParams(r).toString():""}}class L6{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Ek),r),this.fetch=tb(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return X(this,void 0,void 0,function*(){try{return{data:yield en(this.fetch,`${this.url}/bucket`,{name:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(qe(r))return{data:null,error:r};throw r}})}listBuckets(t){return X(this,void 0,void 0,function*(){try{const r=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&r.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&r.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&r.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&r.set("sortOrder",t.sortOrder),t!=null&&t.search&&r.set("search",t.search);const n=r.toString(),a=n?`${this.url}/bucket?${n}`:`${this.url}/bucket`;return{data:yield vc(this.fetch,a,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(qe(r))return{data:null,error:r};throw r}})}deleteBucket(t){return X(this,void 0,void 0,function*(){try{return{data:yield rb(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(qe(r))return{data:null,error:r};throw r}})}}const nb={"X-Client-Info":`storage-js/${Ck}`,"Content-Type":"application/json"};class Ok extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function pr(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}class Zp extends Ok{constructor(t,r,n){super(t),this.name="StorageVectorsApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class U6 extends Ok{constructor(t,r){super(t),this.name="StorageVectorsUnknownError",this.originalError=r}}var m_;(function(e){e.InternalError="InternalError",e.S3VectorConflictException="S3VectorConflictException",e.S3VectorNotFoundException="S3VectorNotFoundException",e.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",e.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",e.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(m_||(m_={}));const ab=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Ws(async()=>{const{default:n}=await Promise.resolve().then(()=>mo);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},q6=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},p_=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),W6=(e,t,r)=>X(void 0,void 0,void 0,function*(){if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(r!=null&&r.noResolveJson)){const a=e.status||500,i=e;if(typeof i.json=="function")i.json().then(o=>{const s=(o==null?void 0:o.statusCode)||(o==null?void 0:o.code)||a+"";t(new Zp(p_(o),a,s))}).catch(()=>{const o=a+"",s=i.statusText||`HTTP ${a} error`;t(new Zp(s,a,o))});else{const o=a+"",s=i.statusText||`HTTP ${a} error`;t(new Zp(s,a,o))}}else t(new U6(p_(e),e))}),H6=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return n?(q6(n)?(a.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),a.body=JSON.stringify(n)):a.body=n,Object.assign(Object.assign({},a),r)):a};function F6(e,t,r,n,a,i){return X(this,void 0,void 0,function*(){return new Promise((o,s)=>{e(r,H6(t,n,a,i)).then(c=>{if(!c.ok)throw c;if(n!=null&&n.noResolveJson)return c;const u=c.headers.get("content-type");return!u||!u.includes("application/json")?{}:c.json()}).then(c=>o(c)).catch(c=>W6(c,s,n))})})}function gr(e,t,r,n,a){return X(this,void 0,void 0,function*(){return F6(e,"POST",t,n,a,r)})}class V6{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},nb),r),this.fetch=ab(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(t){return X(this,void 0,void 0,function*(){try{return{data:(yield gr(this.fetch,`${this.url}/CreateIndex`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(pr(r))return{data:null,error:r};throw r}})}getIndex(t,r){return X(this,void 0,void 0,function*(){try{return{data:yield gr(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(pr(n))return{data:null,error:n};throw n}})}listIndexes(t){return X(this,void 0,void 0,function*(){try{return{data:yield gr(this.fetch,`${this.url}/ListIndexes`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(pr(r))return{data:null,error:r};throw r}})}deleteIndex(t,r){return X(this,void 0,void 0,function*(){try{return{data:(yield gr(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:t,indexName:r},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(pr(n))return{data:null,error:n};throw n}})}}class K6{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},nb),r),this.fetch=ab(n)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(t){return X(this,void 0,void 0,function*(){try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield gr(this.fetch,`${this.url}/PutVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(pr(r))return{data:null,error:r};throw r}})}getVectors(t){return X(this,void 0,void 0,function*(){try{return{data:yield gr(this.fetch,`${this.url}/GetVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(pr(r))return{data:null,error:r};throw r}})}listVectors(t){return X(this,void 0,void 0,function*(){try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:yield gr(this.fetch,`${this.url}/ListVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(pr(r))return{data:null,error:r};throw r}})}queryVectors(t){return X(this,void 0,void 0,function*(){try{return{data:yield gr(this.fetch,`${this.url}/QueryVectors`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(pr(r))return{data:null,error:r};throw r}})}deleteVectors(t){return X(this,void 0,void 0,function*(){try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield gr(this.fetch,`${this.url}/DeleteVectors`,t,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(pr(r))return{data:null,error:r};throw r}})}}class G6{constructor(t,r={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},nb),r),this.fetch=ab(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return X(this,void 0,void 0,function*(){try{return{data:(yield gr(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(pr(r))return{data:null,error:r};throw r}})}getBucket(t){return X(this,void 0,void 0,function*(){try{return{data:yield gr(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(pr(r))return{data:null,error:r};throw r}})}listBuckets(){return X(this,arguments,void 0,function*(t={}){try{return{data:yield gr(this.fetch,`${this.url}/ListVectorBuckets`,t,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(pr(r))return{data:null,error:r};throw r}})}deleteBucket(t){return X(this,void 0,void 0,function*(){try{return{data:(yield gr(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(pr(r))return{data:null,error:r};throw r}})}}class Y6 extends G6{constructor(t,r={}){super(t,r.headers||{},r.fetch)}from(t){return new X6(this.url,this.headers,t,this.fetch)}}class X6 extends V6{constructor(t,r,n,a){super(t,r,a),this.vectorBucketName=n}createIndex(t){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return X(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const t=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return X(this,arguments,void 0,function*(r={}){return t.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(t){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return X(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,t)})}deleteIndex(t){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return X(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,t)})}index(t){return new Z6(this.url,this.headers,this.vectorBucketName,t,this.fetch)}}class Z6 extends K6{constructor(t,r,n,a,i){super(t,r,i),this.vectorBucketName=n,this.indexName=a}putVectors(t){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return X(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(t){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return X(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const t=Object.create(null,{listVectors:{get:()=>super.listVectors}});return X(this,arguments,void 0,function*(r={}){return t.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(t){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return X(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(t){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return X(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class J6 extends $6{constructor(t,r={},n,a){super(t,r,n,a)}from(t){return new I6(this.url,this.headers,t,this.fetch)}get vectors(){return new Y6(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new L6(this.url+"/iceberg",this.headers,this.fetch)}}const Q6="2.78.0";let Tl="";typeof Deno<"u"?Tl="deno":typeof document<"u"?Tl="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Tl="react-native":Tl="node";const eB={"X-Client-Info":`supabase-js-${Tl}/${Q6}`},tB={headers:eB},rB={schema:"public"},nB={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},aB={},iB=e=>{let t;return e?t=e:typeof fetch>"u"?t=rk:t=fetch,(...r)=>t(...r)},oB=()=>typeof Headers>"u"?nk:Headers,sB=(e,t,r)=>{const n=iB(r),a=oB();return async(i,o)=>{var s;const c=(s=await t())!==null&&s!==void 0?s:e;let u=new a(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(i,Object.assign(Object.assign({},o),{headers:u}))}};function lB(e){return e.endsWith("/")?e:e+"/"}function cB(e,t){var r,n;const{db:a,auth:i,realtime:o,global:s}=e,{db:c,auth:u,realtime:d,global:f}=t,h={db:Object.assign(Object.assign({},c),a),auth:Object.assign(Object.assign({},u),i),realtime:Object.assign(Object.assign({},d),o),storage:{},global:Object.assign(Object.assign(Object.assign({},f),s),{headers:Object.assign(Object.assign({},(r=f==null?void 0:f.headers)!==null&&r!==void 0?r:{}),(n=s==null?void 0:s.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}function uB(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(lB(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const Ak="2.78.0",zo=30*1e3,Lv=3,Jp=Lv*zo,dB="http://localhost:9999",fB="supabase.auth.token",hB={"X-Client-Info":`gotrue-js/${Ak}`},Uv="X-Supabase-Api-Version",kk={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},mB=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,pB=10*60*1e3;class yc extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function J(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class gB extends yc{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function vB(e){return J(e)&&e.name==="AuthApiError"}class Pi extends yc{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class bi extends yc{constructor(t,r,n,a){super(t,n,a),this.name=r,this.status=n}}class Jr extends bi{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function yB(e){return J(e)&&e.name==="AuthSessionMissingError"}class Co extends bi{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class td extends bi{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class rd extends bi{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function bB(e){return J(e)&&e.name==="AuthImplicitGrantRedirectError"}class g_ extends bi{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class qv extends bi{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function Qp(e){return J(e)&&e.name==="AuthRetryableFetchError"}class v_ extends bi{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class Wv extends bi{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const jf="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),y_=` 	
\r=`.split(""),xB=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<y_.length;t+=1)e[y_[t].charCodeAt(0)]=-2;for(let t=0;t<jf.length;t+=1)e[jf[t].charCodeAt(0)]=t;return e})();function b_(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(jf[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(jf[n]),t.queuedBits-=6}}function Tk(e,t,r){const n=xB[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function x_(e){const t=[],r=o=>{t.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},i=o=>{jB(o,n,r)};for(let o=0;o<e.length;o+=1)Tk(e.charCodeAt(o),a,i);return t.join("")}function wB(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function _B(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const a=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|a)+65536,r+=1}wB(n,t)}}function jB(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function os(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};for(let a=0;a<e.length;a+=1)Tk(e.charCodeAt(a),r,n);return new Uint8Array(t)}function SB(e){const t=[];return _B(e,r=>t.push(r)),new Uint8Array(t)}function Mi(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};return e.forEach(a=>b_(a,r,n)),b_(null,r,n),t.join("")}function CB(e){return Math.round(Date.now()/1e3)+e}function EB(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Lt=()=>typeof window<"u"&&typeof document<"u",ji={tested:!1,writable:!1},Nk=()=>{if(!Lt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ji.tested)return ji.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),ji.tested=!0,ji.writable=!0}catch{ji.tested=!0,ji.writable=!1}return ji.writable};function OB(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((a,i)=>{t[i]=a})}catch{}return r.searchParams.forEach((n,a)=>{t[a]=n}),t}const Rk=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Ws(async()=>{const{default:n}=await Promise.resolve().then(()=>mo);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},AB=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Bo=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},Si=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Ra=async(e,t)=>{await e.removeItem(t)};class Kh{constructor(){this.promise=new Kh.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}Kh.promiseConstructor=Promise;function eg(e){const t=e.split(".");if(t.length!==3)throw new Wv("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!mB.test(t[n]))throw new Wv("JWT not in base64url format");return{header:JSON.parse(x_(t[0])),payload:JSON.parse(x_(t[1])),signature:os(t[2]),raw:{header:t[0],payload:t[1]}}}async function kB(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function TB(e,t){return new Promise((n,a)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await e(i);if(!t(i,null,o)){n(o);return}}catch(o){if(!t(i,o)){a(o);return}}})()})}function NB(e){return("0"+e.toString(16)).substr(-2)}function RB(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let a="";for(let i=0;i<56;i++)a+=r.charAt(Math.floor(Math.random()*n));return a}return crypto.getRandomValues(t),Array.from(t,NB).join("")}async function DB(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),a=new Uint8Array(n);return Array.from(a).map(i=>String.fromCharCode(i)).join("")}async function PB(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await DB(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Eo(e,t,r=!1){const n=RB();let a=n;r&&(a+="/PASSWORD_RECOVERY"),await Bo(e,`${t}-code-verifier`,a);const i=await PB(n);return[i,n===i?"plain":"s256"]}const MB=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function zB(e){const t=e.headers.get(Uv);if(!t||!t.match(MB))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function BB(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function IB(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const $B=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Oo(e){if(!$B.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function tg(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function LB(e,t){return new Proxy(e,{get:(r,n,a)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const i=n.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,a)}return!t.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(r,n,a)}})}function w_(e){return JSON.parse(JSON.stringify(e))}const ki=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),UB=[502,503,504];async function __(e){var t;if(!AB(e))throw new qv(ki(e),0);if(UB.includes(e.status))throw new qv(ki(e),e.status);let r;try{r=await e.json()}catch(i){throw new Pi(ki(i),i)}let n;const a=zB(e);if(a&&a.getTime()>=kk["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new v_(ki(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new Jr}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new v_(ki(r),e.status,r.weak_password.reasons);throw new gB(ki(r),e.status||500,n)}const qB=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),a.body=JSON.stringify(n),Object.assign(Object.assign({},a),r))};async function ne(e,t,r,n){var a;const i=Object.assign({},n==null?void 0:n.headers);i[Uv]||(i[Uv]=kk["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(a=n==null?void 0:n.query)!==null&&a!==void 0?a:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const s=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await WB(e,t,r+s,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function WB(e,t,r,n,a,i){const o=qB(t,n,a,i);let s;try{s=await e(r,Object.assign({},o))}catch(c){throw console.error(c),new qv(ki(c),0)}if(s.ok||await __(s),n!=null&&n.noResolveJson)return s;try{return await s.json()}catch(c){await __(c)}}function Qr(e){var t;let r=null;VB(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=CB(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function j_(e){const t=Qr(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function qa(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function HB(e){return{data:e,error:null}}function FB(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i}=e,o=qs(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),s={action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i},c=Object.assign({},o);return{data:{properties:s,user:c},error:null}}function S_(e){return e}function VB(e){return e.access_token&&e.refresh_token&&e.expires_in}const rg=["global","local","others"];class KB{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=Rk(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=rg[0]){if(rg.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${rg.join(", ")}`);try{return await ne(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(J(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await ne(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:qa})}catch(n){if(J(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=qs(t,["options"]),a=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(a.new_email=n==null?void 0:n.newEmail,delete a.newEmail),await ne(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:FB,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(J(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await ne(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:qa})}catch(r){if(J(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,a,i,o,s,c;try{const u={nextPage:null,lastPage:0,total:0},d=await ne(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(a=t==null?void 0:t.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:S_});if(d.error)throw d.error;const f=await d.json(),h=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,m=(c=(s=d.headers.get("link"))===null||s===void 0?void 0:s.split(","))!==null&&c!==void 0?c:[];return m.length>0&&(m.forEach(v=>{const x=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(v.split(";")[1].split("=")[1]);u[`${b}Page`]=x}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(J(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){Oo(t);try{return await ne(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:qa})}catch(r){if(J(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){Oo(t);try{return await ne(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:qa})}catch(n){if(J(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){Oo(t);try{return await ne(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:qa})}catch(n){if(J(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){Oo(t.userId);try{const{data:r,error:n}=await ne(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:r,error:n}}catch(r){if(J(r))return{data:null,error:r};throw r}}async _deleteFactor(t){Oo(t.userId),Oo(t.id);try{return{data:await ne(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(J(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,n,a,i,o,s,c;try{const u={nextPage:null,lastPage:0,total:0},d=await ne(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(a=t==null?void 0:t.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:S_});if(d.error)throw d.error;const f=await d.json(),h=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,m=(c=(s=d.headers.get("link"))===null||s===void 0?void 0:s.split(","))!==null&&c!==void 0?c:[];return m.length>0&&(m.forEach(v=>{const x=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(v.split(";")[1].split("=")[1]);u[`${b}Page`]=x}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(J(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(t){try{return await ne(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(J(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await ne(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(J(r))return{data:null,error:r};throw r}}async _updateOAuthClient(t,r){try{return await ne(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(J(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await ne(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(J(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await ne(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(J(r))return{data:null,error:r};throw r}}}function C_(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const Ao={debug:!!(globalThis&&Nk()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Dk extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class GB extends Dk{}async function YB(e,t,r){Ao.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Ao.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async a=>{if(a){Ao.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,a.name);try{return await r()}finally{Ao.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,a.name)}}else{if(t===0)throw Ao.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new GB(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Ao.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function XB(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Pk(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function ZB(e){return parseInt(e,16)}function JB(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function QB(e){var t;const{chainId:r,domain:n,expirationTime:a,issuedAt:i=new Date,nonce:o,notBefore:s,requestId:c,resources:u,scheme:d,uri:f,version:h}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!f)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(h!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${h}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const m=Pk(e.address),v=d?`${d}://${n}`:n,x=e.statement?`${e.statement}
`:"",b=`${v} wants you to sign in with your Ethereum account:
${m}

${x}`;let y=`URI: ${f}
Version: ${h}
Chain ID: ${r}${o?`
Nonce: ${o}`:""}
Issued At: ${i.toISOString()}`;if(a&&(y+=`
Expiration Time: ${a.toISOString()}`),s&&(y+=`
Not Before: ${s.toISOString()}`),c&&(y+=`
Request ID: ${c}`),u){let g=`
Resources:`;for(const w of u){if(!w||typeof w!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${w}`);g+=`
- ${w}`}y+=g}return`${b}
${y}`}class Qe extends Error{constructor({message:t,code:r,cause:n,name:a}){var i;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(i=a??(n instanceof Error?n.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=r}}class Sf extends Qe{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function eI({error:e,options:t}){var r,n,a;const{publicKey:i}=t;if(!i)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Qe({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=i.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new Qe({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=i.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new Qe({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((a=i.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new Qe({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new Qe({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new Qe({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return i.pubKeyCredParams.filter(s=>s.type==="public-key").length===0?new Qe({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new Qe({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const o=window.location.hostname;if(Mk(o)){if(i.rp.id!==o)return new Qe({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Qe({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new Qe({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new Qe({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Qe({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function tI({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new Qe({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new Qe({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(Mk(n)){if(r.rpId!==n)return new Qe({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new Qe({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new Qe({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new Qe({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class rI{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const nI=new rI;function aI(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,a=qs(e,["challenge","user","excludeCredentials"]),i=os(t).buffer,o=Object.assign(Object.assign({},r),{id:os(r.id).buffer}),s=Object.assign(Object.assign({},a),{challenge:i,user:o});if(n&&n.length>0){s.excludeCredentials=new Array(n.length);for(let c=0;c<n.length;c++){const u=n[c];s.excludeCredentials[c]=Object.assign(Object.assign({},u),{id:os(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return s}function iI(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=qs(e,["challenge","allowCredentials"]),a=os(t).buffer,i=Object.assign(Object.assign({},n),{challenge:a});if(r&&r.length>0){i.allowCredentials=new Array(r.length);for(let o=0;o<r.length;o++){const s=r[o];i.allowCredentials[o]=Object.assign(Object.assign({},s),{id:os(s.id).buffer,type:s.type||"public-key",transports:s.transports})}}return i}function oI(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:Mi(new Uint8Array(e.response.attestationObject)),clientDataJSON:Mi(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function sI(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,n=e.getClientExtensionResults(),a=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:Mi(new Uint8Array(a.authenticatorData)),clientDataJSON:Mi(new Uint8Array(a.clientDataJSON)),signature:Mi(new Uint8Array(a.signature)),userHandle:a.userHandle?Mi(new Uint8Array(a.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function Mk(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function E_(){var e,t;return!!(Lt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function lI(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Sf("Browser returned unexpected credential type",t)}:{data:null,error:new Sf("Empty credential response",t)}}catch(t){return{data:null,error:eI({error:t,options:e})}}}async function cI(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new Sf("Browser returned unexpected credential type",t)}:{data:null,error:new Sf("Empty credential response",t)}}catch(t){return{data:null,error:tI({error:t,options:e})}}}const uI={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},dI={userVerification:"preferred",hints:["security-key"]};function Cf(...e){const t=a=>a!==null&&typeof a=="object"&&!Array.isArray(a),r=a=>a instanceof ArrayBuffer||ArrayBuffer.isView(a),n={};for(const a of e)if(a)for(const i in a){const o=a[i];if(o!==void 0)if(Array.isArray(o))n[i]=o;else if(r(o))n[i]=o;else if(t(o)){const s=n[i];t(s)?n[i]=Cf(s,o):n[i]=Cf(o)}else n[i]=o}return n}function fI(e,t){return Cf(uI,e,t||{})}function hI(e,t){return Cf(dI,e,t||{})}class mI{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:n,signal:a},i){try{const{data:o,error:s}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!o)return{data:null,error:s};const c=a??nI.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:u}=o.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${n}`),u.displayName||(u.displayName=u.name)}switch(o.webauthn.type){case"create":{const u=fI(o.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:d,error:f}=await lI({publicKey:u,signal:c});return d?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}case"request":{const u=hI(o.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:d,error:f}=await cI(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:u,signal:c}));return d?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}}}catch(o){return J(o)?{data:null,error:o}:{data:null,error:new Pi("Unexpected error in challenge",o)}}}async _verify({challengeId:t,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:a}},i){if(!r)return{data:null,error:new yc("rpId is required for WebAuthn authentication")};try{if(!E_())return{data:null,error:new Pi("Browser does not support WebAuthn",null)};const{data:o,error:s}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:n},signal:a},{request:i});if(!o)return{data:null,error:s};const{webauthn:c}=o;return this._verify({factorId:t,challengeId:o.challengeId,webauthn:{type:c.type,rpId:r,rpOrigins:n,credential_response:c.credential_response}})}catch(o){return J(o)?{data:null,error:o}:{data:null,error:new Pi("Unexpected error in authenticate",o)}}}async _register({friendlyName:t,rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:a},i){if(!r)return{data:null,error:new yc("rpId is required for WebAuthn registration")};try{if(!E_())return{data:null,error:new Pi("Browser does not support WebAuthn",null)};const{data:o,error:s}=await this._enroll({friendlyName:t});if(!o)return await this.client.mfa.listFactors().then(d=>{var f;return(f=d.data)===null||f===void 0?void 0:f.all.find(h=>h.factor_type==="webauthn"&&h.friendly_name===t&&h.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d==null?void 0:d.id}):void 0),{data:null,error:s};const{data:c,error:u}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:a},{create:i});return c?this._verify({factorId:o.id,challengeId:c.challengeId,webauthn:{rpId:r,rpOrigins:n,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:u}}catch(o){return J(o)?{data:null,error:o}:{data:null,error:new Pi("Unexpected error in register",o)}}}}XB();const pI={url:dB,storageKey:fB,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:hB,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function O_(e,t,r){return await r()}const ko={};class bc{get jwks(){var t,r;return(r=(t=ko[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){ko[this.storageKey]=Object.assign(Object.assign({},ko[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=ko[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){ko[this.storageKey]=Object.assign(Object.assign({},ko[this.storageKey]),{cachedAt:t})}constructor(t){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=bc.nextInstanceID,bc.nextInstanceID+=1,this.instanceID>0&&Lt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const a=Object.assign(Object.assign({},pI),t);if(this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.persistSession=a.persistSession,this.storageKey=a.storageKey,this.autoRefreshToken=a.autoRefreshToken,this.admin=new KB({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=Rk(a.fetch),this.lock=a.lock||O_,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,a.lock?this.lock=a.lock:Lt()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=YB:this.lock=O_,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new mI(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:Nk()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=C_(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=C_(this.memoryStorage)),Lt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Ak}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=OB(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),Lt()&&this.detectSessionInUrl&&n!=="none"){const{data:a,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),bB(i)){const c=(t=i.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:s}=a;return this._debug("#_initialize()","detected session in URL",o,"redirect type",s),await this._saveSession(o),setTimeout(async()=>{s==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return J(r)?{error:r}:{error:new Pi("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,a;try{const i=await ne(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(a=t==null?void 0:t.options)===null||a===void 0?void 0:a.captchaToken}},xform:Qr}),{data:o,error:s}=i;if(s||!o)return{data:{user:null,session:null},error:s};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(J(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(t){var r,n,a;try{let i;if("email"in t){const{email:d,password:f,options:h}=t;let m=null,v=null;this.flowType==="pkce"&&([m,v]=await Eo(this.storage,this.storageKey)),i=await ne(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:m,code_challenge_method:v},xform:Qr})}else if("phone"in t){const{phone:d,password:f,options:h}=t;i=await ne(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(a=h==null?void 0:h.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Qr})}else throw new td("You must provide either an email or phone number and a password");const{data:o,error:s}=i;if(s||!o)return{data:{user:null,session:null},error:s};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(J(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:o,options:s}=t;r=await ne(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:j_})}else if("phone"in t){const{phone:i,password:o,options:s}=t;r=await ne(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:j_})}else throw new td("You must provide either an email or phone number and a password");const{data:n,error:a}=r;return a?{data:{user:null,session:null},error:a}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new Co}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:a})}catch(r){if(J(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,a,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(a=t.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,a,i,o,s,c,u,d,f,h;let m,v;if("message"in t)m=t.message,v=t.signature;else{const{chain:x,wallet:b,statement:y,options:g}=t;let w;if(Lt())if(typeof b=="object")w=b;else{const T=window;if("ethereum"in T&&typeof T.ethereum=="object"&&"request"in T.ethereum&&typeof T.ethereum.request=="function")w=T.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof b!="object"||!(g!=null&&g.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");w=b}const _=new URL((r=g==null?void 0:g.url)!==null&&r!==void 0?r:window.location.href),j=await w.request({method:"eth_requestAccounts"}).then(T=>T).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!j||j.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const S=Pk(j[0]);let C=(n=g==null?void 0:g.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!C){const T=await w.request({method:"eth_chainId"});C=ZB(T)}const E={domain:_.host,address:S,statement:y,uri:_.href,version:"1",chainId:C,nonce:(a=g==null?void 0:g.signInWithEthereum)===null||a===void 0?void 0:a.nonce,issuedAt:(o=(i=g==null?void 0:g.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(s=g==null?void 0:g.signInWithEthereum)===null||s===void 0?void 0:s.expirationTime,notBefore:(c=g==null?void 0:g.signInWithEthereum)===null||c===void 0?void 0:c.notBefore,requestId:(u=g==null?void 0:g.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(d=g==null?void 0:g.signInWithEthereum)===null||d===void 0?void 0:d.resources};m=QB(E),v=await w.request({method:"personal_sign",params:[JB(m),S]})}try{const{data:x,error:b}=await ne(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:m,signature:v},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(h=t.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:Qr});if(b)throw b;return!x||!x.session||!x.user?{data:{user:null,session:null},error:new Co}:(x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("SIGNED_IN",x.session)),{data:Object.assign({},x),error:b})}catch(x){if(J(x))return{data:{user:null,session:null},error:x};throw x}}async signInWithSolana(t){var r,n,a,i,o,s,c,u,d,f,h,m;let v,x;if("message"in t)v=t.message,x=t.signature;else{const{chain:b,wallet:y,statement:g,options:w}=t;let _;if(Lt())if(typeof y=="object")_=y;else{const S=window;if("solana"in S&&typeof S.solana=="object"&&("signIn"in S.solana&&typeof S.solana.signIn=="function"||"signMessage"in S.solana&&typeof S.solana.signMessage=="function"))_=S.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!(w!=null&&w.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=y}const j=new URL((r=w==null?void 0:w.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in _&&_.signIn){const S=await _.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},w==null?void 0:w.signInWithSolana),{version:"1",domain:j.host,uri:j.href}),g?{statement:g}:null));let C;if(Array.isArray(S)&&S[0]&&typeof S[0]=="object")C=S[0];else if(S&&typeof S=="object"&&"signedMessage"in S&&"signature"in S)C=S;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in C&&"signature"in C&&(typeof C.signedMessage=="string"||C.signedMessage instanceof Uint8Array)&&C.signature instanceof Uint8Array)v=typeof C.signedMessage=="string"?C.signedMessage:new TextDecoder().decode(C.signedMessage),x=C.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in _)||typeof _.signMessage!="function"||!("publicKey"in _)||typeof _!="object"||!_.publicKey||!("toBase58"in _.publicKey)||typeof _.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");v=[`${j.host} wants you to sign in with your Solana account:`,_.publicKey.toBase58(),...g?["",g,""]:[""],"Version: 1",`URI: ${j.href}`,`Issued At: ${(a=(n=w==null?void 0:w.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((i=w==null?void 0:w.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${w.signInWithSolana.notBefore}`]:[],...!((o=w==null?void 0:w.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${w.signInWithSolana.expirationTime}`]:[],...!((s=w==null?void 0:w.signInWithSolana)===null||s===void 0)&&s.chainId?[`Chain ID: ${w.signInWithSolana.chainId}`]:[],...!((c=w==null?void 0:w.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${w.signInWithSolana.nonce}`]:[],...!((u=w==null?void 0:w.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${w.signInWithSolana.requestId}`]:[],...!((f=(d=w==null?void 0:w.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...w.signInWithSolana.resources.map(C=>`- ${C}`)]:[]].join(`
`);const S=await _.signMessage(new TextEncoder().encode(v),"utf8");if(!S||!(S instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");x=S}}try{const{data:b,error:y}=await ne(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:v,signature:Mi(x)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(m=t.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:Qr});if(y)throw y;return!b||!b.session||!b.user?{data:{user:null,session:null},error:new Co}:(b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),{data:Object.assign({},b),error:y})}catch(b){if(J(b))return{data:{user:null,session:null},error:b};throw b}}async _exchangeCodeForSession(t){const r=await Si(this.storage,`${this.storageKey}-code-verifier`),[n,a]=(r??"").split("/");try{const{data:i,error:o}=await ne(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:Qr});if(await Ra(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Co}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:a??null}),error:o})}catch(i){if(J(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(t){try{const{options:r,provider:n,token:a,access_token:i,nonce:o}=t,s=await ne(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:a,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Qr}),{data:c,error:u}=s;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new Co}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(r){if(J(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,a,i,o;try{if("email"in t){const{email:s,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await Eo(this.storage,this.storageKey));const{error:f}=await ne(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:s,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in t){const{phone:s,options:c}=t,{data:u,error:d}=await ne(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:s,data:(a=c==null?void 0:c.data)!==null&&a!==void 0?a:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new td("You must provide either an email or phone number.")}catch(s){if(J(s))return{data:{user:null,session:null},error:s};throw s}}async verifyOtp(t){var r,n;try{let a,i;"options"in t&&(a=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:s}=await ne(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:a,xform:Qr});if(s)throw s;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,u=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(a){if(J(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithSSO(t){var r,n,a;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await Eo(this.storage,this.storageKey)),await ne(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((a=t==null?void 0:t.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:HB})}catch(i){if(J(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new Jr;const{error:a}=await ne(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:a}})}catch(t){if(J(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:a,options:i}=t,{error:o}=await ne(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in t){const{phone:n,type:a,options:i}=t,{data:o,error:s}=await ne(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:s}}throw new td("You must provide either an email or phone number and a type")}catch(r){if(J(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await Si(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<Jp:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const o=await Si(this.userStorage,this.storageKey+"-user");o!=null&&o.user?t.user=o.user:t.user=tg()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};t.user=LB(t.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:a},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await ne(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:qa}):await this._useSession(async r=>{var n,a,i;const{data:o,error:s}=r;if(s)throw s;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Jr}:await ne(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(a=o.session)===null||a===void 0?void 0:a.access_token)!==null&&i!==void 0?i:void 0,xform:qa})})}catch(r){if(J(r))return yB(r)&&(await this._removeSession(),await Ra(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:a,error:i}=n;if(i)throw i;if(!a.session)throw new Jr;const o=a.session;let s=null,c=null;this.flowType==="pkce"&&t.email!=null&&([s,c]=await Eo(this.storage,this.storageKey));const{data:u,error:d}=await ne(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:s,code_challenge_method:c}),jwt:o.access_token,xform:qa});if(d)throw d;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if(J(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Jr;const r=Date.now()/1e3;let n=r,a=!0,i=null;const{payload:o}=eg(t.access_token);if(o.exp&&(n=o.exp,a=n<=r),a){const{data:s,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!s)return{data:{user:null,session:null},error:null};i=s}else{const{data:s,error:c}=await this._getUser(t.access_token);if(c)throw c;i={access_token:t.access_token,refresh_token:t.refresh_token,user:s.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(J(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:o,error:s}=r;if(s)throw s;t=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new Jr;const{data:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:a?{data:{user:a.user,session:a},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(J(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!Lt())throw new rd("No browser detected.");if(t.error||t.error_description||t.error_code)throw new rd(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new g_("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new rd("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new g_("No code detected.");const{data:g,error:w}=await this._exchangeCodeForSession(t.code);if(w)throw w;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:g.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:a,access_token:i,refresh_token:o,expires_in:s,expires_at:c,token_type:u}=t;if(!i||!s||!o||!u)throw new rd("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(s);let h=d+f;c&&(h=parseInt(c));const m=h-d;m*1e3<=zo&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${f}s`);const v=h-f;d-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,h,d):d-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,h,d);const{data:x,error:b}=await this._getUser(i);if(b)throw b;const y={provider_token:n,provider_refresh_token:a,access_token:i,expires_in:f,expires_at:h,refresh_token:o,token_type:u,user:x.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:y,redirectType:t.type},error:null}}catch(n){if(J(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await Si(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return{error:i};const o=(n=a.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:s}=await this.admin.signOut(o,t);if(s&&!(vB(s)&&(s.status===404||s.status===401||s.status===403)))return{error:s}}return t!=="others"&&(await this._removeSession(),await Ra(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=EB(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,a;try{const{data:{session:i},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,a=null;this.flowType==="pkce"&&([n,a]=await Eo(this.storage,this.storageKey,!0));try{return await ne(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:a,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(J(i))return{data:null,error:i};throw i}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(J(r))return{data:null,error:r};throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:n,error:a}=await this._useSession(async i=>{var o,s,c,u,d;const{data:f,error:h}=i;if(h)throw h;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(o=t.options)===null||o===void 0?void 0:o.redirectTo,scopes:(s=t.options)===null||s===void 0?void 0:s.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await ne(this.fetch,"GET",m,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(a)throw a;return Lt()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(J(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var n;try{const{error:a,data:{session:i}}=r;if(a)throw a;const{options:o,provider:s,token:c,access_token:u,nonce:d}=t,f=await ne(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=i==null?void 0:i.access_token)!==null&&n!==void 0?n:void 0,body:{provider:s,id_token:c,access_token:u,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:Qr}),{data:h,error:m}=f;return m?{data:{user:null,session:null},error:m}:!h||!h.session||!h.user?{data:{user:null,session:null},error:new Co}:(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("USER_UPDATED",h.session)),{data:h,error:m})}catch(a){if(J(a))return{data:{user:null,session:null},error:a};throw a}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,a;const{data:i,error:o}=r;if(o)throw o;return await ne(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(a=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&a!==void 0?a:void 0})})}catch(r){if(J(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await TB(async a=>(a>0&&await kB(200*Math.pow(2,a-1)),this._debug(r,"refreshing attempt",a),await ne(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Qr})),(a,i)=>{const o=200*Math.pow(2,a);return i&&Qp(i)&&Date.now()+o-n<zo})}catch(n){if(this._debug(r,"error",n),J(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),Lt()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const a=await Si(this.storage,this.storageKey);if(a&&this.userStorage){let o=await Si(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:a.user},await Bo(this.userStorage,this.storageKey+"-user",o)),a.user=(t=o==null?void 0:o.user)!==null&&t!==void 0?t:tg()}else if(a&&!a.user&&!a.user){const o=await Si(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(a.user=o.user,await Ra(this.storage,this.storageKey+"-user"),await Bo(this.storage,this.storageKey,a)):a.user=tg()}if(this._debug(n,"session from storage",a),!this._isValidSession(a)){this._debug(n,"session is not valid"),a!==null&&await this._removeSession();return}const i=((r=a.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Jp;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${Jp}s`),i){if(this.autoRefreshToken&&a.refresh_token){const{error:o}=await this._callRefreshToken(a.refresh_token);o&&(console.error(o),Qp(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:s}=await this._getUser(a.access_token);!s&&(o!=null&&o.user)?(a.user=o.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(n,"error",a),console.error(a);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new Jr;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new Kh;const{data:i,error:o}=await this._refreshAccessToken(t);if(o)throw o;if(!i.session)throw new Jr;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const s={data:i.session,error:null};return this.refreshingDeferred.resolve(s),s}catch(i){if(this._debug(a,"error",i),J(i)){const o={data:null,error:i};return Qp(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(t,r,n=!0){const a=`#_notifyAllSubscribers(${t})`;this._debug(a,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async s=>{try{await s.callback(t,r)}catch(c){i.push(c)}});if(await Promise.all(o),i.length>0){for(let s=0;s<i.length;s+=1)console.error(i[s]);throw i[0]}}finally{this._debug(a,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Bo(this.userStorage,this.storageKey+"-user",{user:r.user});const a=Object.assign({},r);delete a.user;const i=w_(a);await Bo(this.storage,this.storageKey,i)}else{const a=w_(r);await Bo(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),await Ra(this.storage,this.storageKey),await Ra(this.storage,this.storageKey+"-code-verifier"),await Ra(this.storage,this.storageKey+"-user"),this.userStorage&&await Ra(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Lt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),zo);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((n.expires_at*1e3-t)/zo);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${zo}ms, refresh threshold is ${Lv} ticks`),a<=Lv&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Dk)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Lt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const a=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&a.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&a.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await Eo(this.storage,this.storageKey),s=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});a.push(s.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);a.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&a.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${a.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;return i?{data:null,error:i}:await ne(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(J(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,a;const{data:i,error:o}=r;if(o)return{data:null,error:o};const s=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:c,error:u}=await ne(this.fetch,"POST",`${this.url}/factors`,{body:s,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&c.type==="totp"&&(!((a=c==null?void 0:c.totp)===null||a===void 0)&&a.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if(J(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return{data:null,error:i};const o=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?oI(t.webauthn.credential_response):sI(t.webauthn.credential_response)})}:{code:t.code}),{data:s,error:c}=await ne(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:o,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return c?{data:null,error:c}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+s.expires_in},s)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",s),{data:s,error:c})})}catch(r){if(J(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return{data:null,error:i};const o=await ne(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});if(o.error)return o;const{data:s}=o;if(s.type!=="webauthn")return{data:s,error:null};switch(s.webauthn.type){case"create":return{data:Object.assign(Object.assign({},s),{webauthn:Object.assign(Object.assign({},s.webauthn),{credential_options:Object.assign(Object.assign({},s.webauthn.credential_options),{publicKey:aI(s.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},s),{webauthn:Object.assign(Object.assign({},s.webauthn),{credential_options:Object.assign(Object.assign({},s.webauthn.credential_options),{publicKey:iI(s.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(J(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const a={all:[],phone:[],totp:[],webauthn:[]};for(const i of(t=r==null?void 0:r.factors)!==null&&t!==void 0?t:[])a.all.push(i),i.status==="verified"&&a[i.factor_type].push(i);return{data:a,error:null}}async _getAuthenticatorAssuranceLevel(){var t,r;const{data:{session:n},error:a}=await this.getSession();if(a)return{data:null,error:a};if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=eg(n.access_token);let o=null;i.aal&&(o=i.aal);let s=o;((r=(t=n.user.factors)===null||t===void 0?void 0:t.filter(d=>d.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(s="aal2");const u=i.amr||[];return{data:{currentLevel:o,nextLevel:s,currentAuthenticationMethods:u},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async r=>{const{data:{session:n},error:a}=r;return a?{data:null,error:a}:n?await ne(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):{data:null,error:new Jr}})}catch(r){if(J(r))return{data:null,error:r};throw r}}async _approveAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:a},error:i}=n;if(i)return{data:null,error:i};if(!a)return{data:null,error:new Jr};const o=await ne(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"approve"},xform:s=>({data:s,error:null})});return o.data&&o.data.redirect_url&&Lt()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(n){if(J(n))return{data:null,error:n};throw n}}async _denyAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:a},error:i}=n;if(i)return{data:null,error:i};if(!a)return{data:null,error:new Jr};const o=await ne(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"deny"},xform:s=>({data:s,error:null})});return o.data&&o.data.redirect_url&&Lt()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(n){if(J(n))return{data:null,error:n};throw n}}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(s=>s.kid===t);if(n)return n;const a=Date.now();if(n=this.jwks.keys.find(s=>s.kid===t),n&&this.jwks_cached_at+pB>a)return n;const{data:i,error:o}=await ne(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=a,n=i.keys.find(s=>s.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:m,error:v}=await this.getSession();if(v||!m.session)return{data:null,error:v};n=m.session.access_token}const{header:a,payload:i,signature:o,raw:{header:s,payload:c}}=eg(n);r!=null&&r.allowExpired||BB(i.exp);const u=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:m}=await this.getUser(n);if(m)throw m;return{data:{claims:i,header:a,signature:o},error:null}}const d=IB(a.alg),f=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,o,SB(`${s}.${c}`)))throw new Wv("Invalid JWT signature");return{data:{claims:i,header:a,signature:o},error:null}}catch(n){if(J(n))return{data:null,error:n};throw n}}}bc.nextInstanceID=0;const gI=bc;class vI extends gI{constructor(t){super(t)}}class yI{constructor(t,r,n){var a,i,o;this.supabaseUrl=t,this.supabaseKey=r;const s=uB(t);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",s),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",s),this.storageUrl=new URL("storage/v1",s),this.functionsUrl=new URL("functions/v1",s);const c=`sb-${s.hostname.split(".")[0]}-auth-token`,u={db:rB,realtime:aB,auth:Object.assign(Object.assign({},nB),{storageKey:c}),global:tB},d=cB(n??{},u);this.storageKey=(a=d.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(f,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=d.auth)!==null&&o!==void 0?o:{},this.headers,d.global.fetch),this.fetch=sB(r,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new d6(new URL("rest/v1",s).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new J6(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new n6(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t,r;if(this.accessToken)return await this.accessToken();const{data:n}=await this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:a,userStorage:i,storageKey:o,flowType:s,lock:c,debug:u},d,f){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new vI({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),d),storageKey:o,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:a,userStorage:i,flowType:s,lock:c,debug:u,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(m=>m.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new A6(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const bI=(e,t,r)=>new yI(e,t,r);function xI(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}xI()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const wI="https://abbysvxnnhwvvzhftoms.supabase.co",_I="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImFiYnlzdnhubmh3dnZ6aGZ0b21zIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njg2NTcwNzcsImV4cCI6MjA4NDIzMzA3N30.omP9h4ZqFbDX4FMO_lkd5Q3Iv99xgbs5bVz6beIpqfo",I=bI(wI,_I);function jI(){const[e,t]=p.useState(""),[r,n]=p.useState(""),[a,i]=p.useState(!1),[o,s]=p.useState(!1),[c,u]=p.useState(""),[d,f]=p.useState(""),h=yi();p.useEffect(()=>{const{data:{subscription:x}}=I.auth.onAuthStateChange(async(b,y)=>{b==="PASSWORD_RECOVERY"&&s(!0)});return window.location.search.includes("reset=true")&&s(!0),()=>x.unsubscribe()},[]);const m=async x=>{if(x.preventDefault(),c!==d){alert("As senhas no coincidem!");return}i(!0);try{const{error:b}=await I.auth.updateUser({password:c});if(b)throw b;alert("Senha atualizada com sucesso! Agora voc pode fazer login."),s(!1),u(""),f(""),h("/login")}catch(b){alert("Erro ao atualizar senha: "+b.message)}finally{i(!1)}},v=async x=>{x.preventDefault(),i(!0);const{error:b}=await I.auth.signInWithPassword({email:e,password:r});b?b.message.includes("Email not confirmed")?alert("Email no confirmado, vc deve antes confirmar o email SupaBase Auth com o titulo Confirm Your Singup"):alert(b.message):h("/dashboard"),i(!1)};return l.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",backgroundColor:"var(--color-blue)"},children:o?l.jsxs("form",{onSubmit:m,className:"card",style:{width:"100%",maxWidth:"400px",padding:"2.5rem"},children:[l.jsxs("div",{style:{textAlign:"center",marginBottom:"2rem"},children:[l.jsx("img",{src:"https://b2wenergia.com.br/wp-content/uploads/2025/12/Logo-B2W-Escuro.png",alt:"B2W Energia",style:{height:"60px",objectFit:"contain",marginBottom:"1rem"}}),l.jsx("p",{style:{color:"var(--color-text-medium)"},children:"Defina sua nova senha"})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"label",children:"Nova Senha"}),l.jsx("input",{type:"password",value:c,onChange:x=>u(x.target.value),className:"input",placeholder:"",required:!0,minLength:6})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"label",children:"Confirmar Nova Senha"}),l.jsx("input",{type:"password",value:d,onChange:x=>f(x.target.value),className:"input",placeholder:"",required:!0,minLength:6})]}),l.jsx("button",{type:"submit",disabled:a,className:"btn btn-accent",style:{width:"100%",padding:"0.75rem",justifyContent:"center",fontSize:"1rem",marginTop:"1rem"},children:a?"Carregando...":"Atualizar Senha"}),l.jsx("button",{type:"button",onClick:()=>s(!1),style:{background:"none",border:"none",color:"var(--color-primary)",width:"100%",marginTop:"1rem",cursor:"pointer"},children:"Cancelar"})]}):l.jsxs("form",{onSubmit:v,className:"card",style:{width:"100%",maxWidth:"400px",padding:"2.5rem"},children:[l.jsxs("div",{style:{textAlign:"center",marginBottom:"2rem"},children:[l.jsx("img",{src:"https://b2wenergia.com.br/wp-content/uploads/2025/12/Logo-B2W-Escuro.png",alt:"B2W Energia",style:{height:"60px",objectFit:"contain",marginBottom:"1rem"},onError:x=>{x.target.onerror=null,x.target.style.display="none",x.target.nextSibling.style.display="block"}}),l.jsx("h2",{style:{color:"var(--color-blue)",display:"none"},children:"B2W Energia"}),l.jsx("p",{style:{color:"var(--color-text-medium)"},children:"Faa login para continuar"})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{htmlFor:"email",className:"label",children:"Email"}),l.jsx("input",{id:"email",type:"email",value:e,onChange:x=>t(x.target.value),className:"input",placeholder:"seu@email.com",required:!0})]}),l.jsxs("div",{className:"form-group",children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[l.jsx("label",{htmlFor:"password",className:"label",children:"Senha"}),l.jsx("button",{type:"button",onClick:async()=>{if(!e){alert("Digite seu email para recuperar a senha.");return}i(!0);const{error:x}=await I.auth.resetPasswordForEmail(e,{redirectTo:window.location.origin+"/login?reset=true"});i(!1),alert(x?"Erro ao enviar email: "+x.message:"Email de recuperao enviado! Verifique sua caixa de entrada.")},style:{background:"none",border:"none",color:"var(--color-primary)",fontSize:"0.8rem",cursor:"pointer",padding:0},children:"Esqueci minha senha"})]}),l.jsx("input",{id:"password",type:"password",value:r,onChange:x=>n(x.target.value),className:"input",placeholder:"",required:!0})]}),l.jsx("button",{type:"submit",disabled:a,className:"btn btn-accent",style:{width:"100%",padding:"0.75rem",justifyContent:"center",fontSize:"1rem",marginTop:"1rem"},children:a?"Carregando...":"Entrar"}),l.jsxs("div",{style:{marginTop:"1.5rem",textAlign:"center"},children:[l.jsx("span",{style:{color:"var(--color-text-medium)",fontSize:"0.9rem"},children:"No tem uma conta? "}),l.jsx("button",{type:"button",onClick:()=>h("/cadastro-parceiro"),style:{background:"none",border:"none",color:"var(--color-primary)",fontWeight:"bold",fontSize:"0.9rem",cursor:"pointer",padding:0},children:"Criar conta"})]})]})})}const mn=async e=>{const t=e.replace(/\D/g,"");if(t.length!==8)throw new Error("CEP invlido");const n=await(await fetch(`https://viacep.com.br/ws/${t}/json/`)).json();if(n.erro)throw new Error("CEP no encontrado");return{rua:n.logradouro,bairro:n.bairro,cidade:n.localidade,uf:n.uf,cep:n.cep,ibge:n.ibge}},xc=async e=>{var n,a,i;const t=e.replace(/\D/g,"");if(t.length>11)try{const o=await fetch(`https://publica.cnpj.ws/cnpj/${t}`);if(!o.ok)throw new Error("Erro ao buscar CNPJ");const s=await o.json(),c=s.estabelecimento||{},u=s.socios&&s.socios.length>0?s.socios[0]:null;return{nome:s.razao_social,fantasia:c.nome_fantasia,doc:t,email:c.email,telefone:c.ddd1&&c.telefone1?`(${c.ddd1}) ${c.telefone1}`:"",address:{logradouro:c.tipo_logradouro?`${c.tipo_logradouro} ${c.logradouro}`:c.logradouro,numero:c.numero,complemento:c.complemento,bairro:c.bairro,cep:c.cep,uf:(n=c.estado)==null?void 0:n.sigla,municipio:(a=c.cidade)==null?void 0:a.nome,cidade:(i=c.cidade)==null?void 0:i.nome},legal_partner:u?{nome:u.nome,cpf:u.cpf_cnpj_socio}:{nome:"",cpf:""},raw:s}}catch(o){throw console.error("Erro CNPJ (publica.cnpj.ws)",o),o}else return console.warn("Busca de CPF desabilitada temporariamente (Plano API no ativo)."),{nome:"",doc:t}},zk=async e=>{var t;try{const{data:r,error:n}=await I.functions.invoke("manage-asaas-customer",{body:e});if(n){let a=n.message;try{const i=await((t=n.context)==null?void 0:t.json());i!=null&&i.error&&(a=i.error)}catch(i){console.warn("Could not parse error body:",i)}throw new Error(a)}return r}catch(r){throw console.error("Erro Asaas Customer:",r),r}},Qc=async e=>{const{data:t,error:r}=await I.from("Concessionaria").select("*").eq('"Cod. Ibge"',e).single();return r?null:t},Gh=async(e,t="invoice")=>{var i;const r=t==="invoice"?{invoice_id:e}:{subscriber_id:e},{data:n,error:a}=await I.functions.invoke("create-asaas-charge",{body:r});if(a){let o=a.message;try{const s=await((i=a.context)==null?void 0:i.json());s!=null&&s.error&&(o=s.error)}catch{}throw new Error(o)}return n},Hv=async(e,t,r,n)=>{var a;try{const{data:i,error:o}=await I.functions.invoke("send-whatsapp",{body:{phone:e?e.replace(/\D/g,""):"",text:t,mediaUrl:r,instanceName:n}});if(o){let s=o.message;try{const c=await((a=o.context)==null?void 0:a.json());c!=null&&c.error&&(s=c.error)}catch{}throw new Error(s)}if(i!=null&&i.error)throw new Error(i.error);return i}catch(i){throw console.error("Erro ao enviar WhatsApp:",i),i}};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SI=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),CI=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,r,n)=>n?n.toUpperCase():r.toLowerCase()),A_=e=>{const t=CI(e);return t.charAt(0).toUpperCase()+t.slice(1)},Bk=(...e)=>e.filter((t,r,n)=>!!t&&t.trim()!==""&&n.indexOf(t)===r).join(" ").trim(),EI=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var OI={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AI=p.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:i,iconNode:o,...s},c)=>p.createElement("svg",{ref:c,...OI,width:t,height:t,stroke:e,strokeWidth:n?Number(r)*24/Number(t):r,className:Bk("lucide",a),...!i&&!EI(s)&&{"aria-hidden":"true"},...s},[...o.map(([u,d])=>p.createElement(u,d)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const le=(e,t)=>{const r=p.forwardRef(({className:n,...a},i)=>p.createElement(AI,{ref:i,iconNode:t,className:Bk(`lucide-${SI(A_(e))}`,`lucide-${e}`,n),...a}));return r.displayName=A_(e),r};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kI=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],TI=le("arrow-right",kI);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NI=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],k_=le("briefcase",NI);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RI=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],DI=le("calculator",RI);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PI=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],MI=le("calendar",PI);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zI=[["path",{d:"M5 21v-6",key:"1hz6c0"}],["path",{d:"M12 21V9",key:"uvy0l4"}],["path",{d:"M19 21V3",key:"11j9sm"}]],BI=le("chart-no-axes-column-increasing",zI);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const II=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],ib=le("chevron-down",II);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $I=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],LI=le("chevron-left",$I);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UI=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],qI=le("chevron-right",UI);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WI=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],ob=le("chevron-up",WI);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HI=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Ik=le("circle-alert",HI);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FI=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],$k=le("circle-check-big",FI);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VI=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],KI=le("circle-question-mark",VI);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GI=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],YI=le("clock",GI);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XI=[["path",{d:"m16 18 6-6-6-6",key:"eg8j8"}],["path",{d:"m8 6-6 6 6 6",key:"ppft3o"}]],ZI=le("code",XI);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JI=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],QI=le("copy",JI);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e8=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],eu=le("credit-card",e8);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t8=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],Yh=le("dollar-sign",t8);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r8=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],n8=le("eye-off",r8);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a8=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],i8=le("eye",a8);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o8=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],fi=le("file-text",o8);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s8=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],l8=le("funnel",s8);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c8=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],u8=le("house",c8);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d8=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],f8=le("info",d8);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h8=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],ng=le("layout-dashboard",h8);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m8=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],p8=le("log-out",m8);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g8=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],v8=le("map-pin",g8);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y8=[["path",{d:"M11 6a13 13 0 0 0 8.4-2.8A1 1 0 0 1 21 4v12a1 1 0 0 1-1.6.8A13 13 0 0 0 11 14H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2z",key:"q8bfy3"}],["path",{d:"M6 14a12 12 0 0 0 2.4 7.2 2 2 0 0 0 3.2-2.4A8 8 0 0 1 10 14",key:"1853fq"}],["path",{d:"M8 6v8",key:"15ugcq"}]],b8=le("megaphone",y8);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x8=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],w8=le("menu",x8);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _8=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],j8=le("pen",_8);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S8=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Vs=le("plus",S8);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C8=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],sb=le("save",C8);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E8=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],lb=le("search",E8);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O8=[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]],A8=le("server",O8);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k8=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Lk=le("settings",k8);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T8=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],N8=le("square-pen",T8);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R8=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],tu=le("trash-2",R8);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D8=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],P8=le("truck",D8);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M8=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Uk=le("user-check",M8);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z8=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],cb=le("users",z8);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B8=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Xh=le("x",B8);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I8=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Zh=le("zap",I8),qk=p.createContext(),Gr=()=>{const e=p.useContext(qk);if(!e)throw new Error("useUI must be used within a UIProvider");return e},$8=({children:e})=>{const[t,r]=p.useState({isOpen:!1,type:"alert",variant:"info",title:"",message:"",confirmText:"Confirmar",cancelText:"Cancelar",onConfirm:()=>{},onCancel:()=>{}}),n=p.useRef(null),a=()=>{r(u=>({...u,isOpen:!1})),n.current&&(n.current(!1),n.current=null)},i=()=>{r(u=>({...u,isOpen:!1})),t.onConfirm&&t.onConfirm(),n.current&&(n.current(!0),n.current=null)},o=(u,d="info",f="")=>{if(!f)switch(d){case"error":f="Erro";break;case"success":f="Sucesso";break;case"warning":f="Ateno";break;default:f="Informao"}r({isOpen:!0,type:"alert",variant:d,title:f,message:u,confirmText:"OK",onConfirm:()=>{},onCancel:()=>{}})},s=(u,d="Confirmao",f="Confirmar",h="Cancelar")=>new Promise(m=>{n.current=m,r({isOpen:!0,type:"confirm",variant:"warning",title:d,message:u,confirmText:f,cancelText:h,onConfirm:()=>{},onCancel:()=>{}})}),c=()=>{switch(t.variant){case"error":return l.jsx(Ik,{size:32,color:"#ef4444"});case"success":return l.jsx($k,{size:32,color:"#22c55e"});case"warning":return l.jsx(KI,{size:32,color:"#f59e0b"});default:return l.jsx(f8,{size:32,color:"#3b82f6"})}};return l.jsxs(qk.Provider,{value:{showAlert:o,showConfirm:s},children:[e,t.isOpen&&l.jsxs("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.4)",backdropFilter:"blur(2px)",zIndex:9999,display:"flex",justifyContent:"center",alignItems:"center",animation:"fadeIn 0.2s ease-out"},children:[l.jsxs("div",{style:{background:"white",borderRadius:"12px",padding:"24px",width:"90%",maxWidth:"400px",boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1), 0 8px 10px -6px rgba(0, 0, 0, 0.1)",animation:"slideUp 0.3s cubic-bezier(0.16, 1, 0.3, 1)",display:"flex",flexDirection:"column",gap:"16px"},children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[l.jsxs("div",{style:{display:"flex",gap:"12px",alignItems:"center"},children:[l.jsx("div",{style:{padding:"8px",borderRadius:"50%",background:t.variant==="error"?"#fee2e2":t.variant==="success"?"#dcfce7":t.variant==="warning"?"#fef3c7":"#dbeafe"},children:c()}),l.jsx("h3",{style:{margin:0,fontSize:"1.25rem",fontWeight:"600",color:"#1f2937"},children:t.title})]}),l.jsx("button",{onClick:a,style:{background:"transparent",border:"none",cursor:"pointer",color:"#9ca3af"},children:l.jsx(Xh,{size:20})})]}),l.jsx("p",{style:{margin:0,color:"#4b5563",fontSize:"1rem",lineHeight:"1.5"},children:t.message}),l.jsxs("div",{style:{display:"flex",justifyContent:"flex-end",gap:"12px",marginTop:"8px"},children:[t.type==="confirm"&&l.jsx("button",{onClick:a,style:{padding:"8px 16px",borderRadius:"6px",border:"1px solid #e5e7eb",background:"white",color:"#374151",fontWeight:"500",cursor:"pointer",transition:"background 0.2s"},onMouseOver:u=>u.currentTarget.style.background="#f9fafb",onMouseOut:u=>u.currentTarget.style.background="white",children:t.cancelText}),l.jsx("button",{onClick:i,style:{padding:"8px 16px",borderRadius:"6px",border:"none",background:t.variant==="error"?"#dc2626":"var(--color-blue)",color:"white",fontWeight:"500",cursor:"pointer",boxShadow:"0 1px 2px 0 rgba(0, 0, 0, 0.05)",transition:"filter 0.2s"},onMouseOver:u=>u.currentTarget.style.filter="brightness(0.9)",onMouseOut:u=>u.currentTarget.style.filter="brightness(1)",children:t.confirmText})]})]}),l.jsx("style",{children:`
                        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
                        @keyframes slideUp { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
                    `})]})]})};function L8(){const[e]=Y0();yi();const{showAlert:t}=Gr(),[r,n]=p.useState(!1),[a,i]=p.useState(!1),[o,s]=p.useState(null),c=e.get("id");e.get("originador");const[u,d]=p.useState({name:"",email:"",phone:"",cep:"",concessionaria:"",consumo:500,uf:"",city:"",neighborhood:"",street:"",number:""}),[f,h]=p.useState(null),m=async()=>{const j=u.cep.replace(/\D/g,"");if(j.length===8){n(!0);try{const S=await mn(j);if(d(C=>({...C,street:S.rua,neighborhood:S.bairro,city:S.cidade,uf:S.uf})),S.ibge){const C=await Qc(S.ibge);C?(h(C),d(E=>({...E,concessionaria:C.Concessionaria||""}))):(h(null),d(E=>({...E,concessionaria:""})))}}catch(S){console.error("Error fetching CEP:",S)}finally{n(!1)}}},v=()=>{if(!f)return 0;const j=Number(f["Tarifa Concessionaria"])||0;let C=Number(f["Desconto Assinante"])||0;return C>1&&(C=C/100),u.consumo*j*C},x=async j=>{j.preventDefault(),n(!0);try{const S=v(),E=c&&/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(c)?c:null,T={name:u.name,email:u.email,phone:u.phone,cep:u.cep,concessionaria:u.concessionaria,consumo_kwh:u.consumo,calculated_discount:S,rua:u.street,numero:u.number,bairro:u.neighborhood,cidade:u.city,uf:u.uf,tarifa_concessionaria:Number(f==null?void 0:f["Tarifa Concessionaria"])||0,desconto_assinante:Number(f==null?void 0:f["Desconto Assinante"])||0,status:"simulacao",originator_id:E},{data:A,error:R}=await I.from("leads").insert(T).select().single();if(R)throw R;A&&s(A),i(!0)}catch(S){console.error("Error saving lead:",S);const C=S.message||"Erro ao processar simulao. Tente novamente.";t(C,"error")}finally{n(!1)}},b=()=>{const S=v()*12;let C=Number(f==null?void 0:f["Desconto Assinante"])||0;C<1&&C>0&&(C=C*100);const E=new URLSearchParams;E.append("name",u.name),E.append("email",u.email),E.append("phone",u.phone),E.append("cep",u.cep),E.append("consumo",u.consumo),c&&E.append("originator_id",c),E.append("discount_percent",C.toFixed(0)),E.append("savings_annual",S.toFixed(2));const T=`https://www.b2wenergia.com.br/contrato?${E.toString()}`;window.open(T,"_blank"),i(!1)},y=j=>j.toLocaleString("pt-BR",{style:"currency",currency:"BRL"}),g={primary:"#003366",accent:"#FF6600"},w={wrapper:{backgroundColor:"white",borderRadius:"24px",border:"1px solid #f1f5f9",padding:"2rem",boxShadow:"0 32px 64px -16px rgba(0, 51, 102, 0.12)",maxWidth:"42rem",margin:"0 auto",fontFamily:"Inter, sans-serif"},header:{fontSize:"1.5rem",fontWeight:"bold",textAlign:"center",marginBottom:"2rem",color:g.primary},formSpace:{display:"flex",flexDirection:"column",gap:"1.5rem"},grid:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(240px, 1fr))",gap:"1.5rem"},label:{display:"block",fontSize:"0.75rem",fontWeight:"bold",textTransform:"uppercase",color:"#6b7280",marginBottom:"0.25rem"},input:{width:"100%",padding:"0.75rem 1rem",borderRadius:"0.75rem",border:"1px solid #e2e8f0",backgroundColor:"#f8fafc",outline:"none",transition:"all 0.2s",fontSize:"1rem"},button:{width:"100%",padding:"1rem",marginTop:"1.5rem",borderRadius:"0.75rem",fontWeight:"800",color:"white",textTransform:"uppercase",fontSize:"1.125rem",letterSpacing:"0.025em",border:"none",cursor:r?"wait":"pointer",opacity:r?.7:1,backgroundColor:g.accent,boxShadow:"0 4px 14px 0 rgba(255, 102, 0, 0.39)",transition:"opacity 0.2s"},rangeContainer:{paddingTop:"1rem"},rangeLabelRow:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0.5rem"},rangeInput:{width:"100%",height:"0.5rem",backgroundColor:"#e5e7eb",borderRadius:"0.5rem",appearance:"none",cursor:"pointer",accentColor:g.accent},rangeTicks:{display:"flex",justifyContent:"space-between",fontSize:"0.75rem",color:"#9ca3af",marginTop:"0.25rem"}},_=v();return l.jsxs(l.Fragment,{children:[l.jsxs("div",{style:w.wrapper,children:[l.jsx("h2",{style:w.header,children:"Saiba o valor do seu desconto"}),l.jsxs("form",{onSubmit:x,style:w.formSpace,children:[l.jsx("div",{style:w.grid,children:l.jsxs("div",{style:{gridColumn:"1 / -1"},children:[l.jsx("label",{style:w.label,children:"CEP"}),l.jsx("input",{type:"text",maxLength:"9",value:u.cep,onChange:j=>{let S=j.target.value.replace(/\D/g,"");S.length>5&&(S=S.replace(/^(\d{5})(\d)/,"$1-$2")),d({...u,cep:S})},onBlur:m,style:w.input,placeholder:"00000-000",required:!0})]})}),l.jsxs("div",{children:[l.jsx("label",{style:w.label,children:"Nome Completo"}),l.jsx("input",{type:"text",value:u.name,onChange:j=>d({...u,name:j.target.value}),style:w.input,placeholder:"Como devemos te chamar?",required:!0})]}),l.jsxs("div",{style:w.grid,children:[l.jsxs("div",{children:[l.jsx("label",{style:w.label,children:"E-mail"}),l.jsx("input",{type:"email",value:u.email,onChange:j=>d({...u,email:j.target.value}),style:w.input,placeholder:"exemplo@email.com",required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{style:w.label,children:"WhatsApp"}),l.jsx("input",{type:"tel",maxLength:"15",value:u.phone,onChange:j=>{let S=j.target.value.replace(/\D/g,"");S=S.replace(/^(\d{2})(\d)/g,"($1) $2"),S=S.replace(/(\d)(\d{4})$/,"$1-$2"),d({...u,phone:S})},style:w.input,placeholder:"(00) 00000-0000",required:!0})]})]}),l.jsxs("div",{style:w.rangeContainer,children:[l.jsxs("div",{style:w.rangeLabelRow,children:[l.jsx("label",{style:w.label,children:"Mdia de Gasto Mensal (kWh)"}),l.jsxs("span",{style:{fontSize:"1.25rem",fontWeight:"bold",color:g.accent},children:[u.consumo," kWh"]})]}),l.jsx("input",{type:"range",min:"0",max:"10000",step:"50",value:u.consumo,onChange:j=>d({...u,consumo:Number(j.target.value)}),style:w.rangeInput}),l.jsxs("div",{style:w.rangeTicks,children:[l.jsx("span",{children:"0 kWh"}),l.jsx("span",{children:"10.000+ kWh"})]})]}),l.jsx("button",{type:"submit",disabled:r,style:w.button,children:r?"Calculando...":"Ver o Desconto"})]})]}),a&&l.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,zIndex:9999,display:"flex",alignItems:"center",justifyContent:"center",padding:"1rem",backgroundColor:"rgba(0,0,0,0.6)",backdropFilter:"blur(4px)"},children:l.jsxs("div",{style:{backgroundColor:"white",borderRadius:"24px",padding:"2rem",maxWidth:"28rem",width:"100%",position:"relative",boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.25)"},children:[l.jsx("button",{onClick:()=>i(!1),style:{position:"absolute",top:"1rem",right:"1rem",background:"none",border:"none",cursor:"pointer",color:"#9ca3af",padding:"0.25rem"},children:l.jsx("svg",{style:{width:"24px",height:"24px"},fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),l.jsx("h3",{style:{fontSize:"1.5rem",fontWeight:"bold",textAlign:"center",marginBottom:"0.5rem",color:"#dc2626"},children:"Seu desconto"}),l.jsx("p",{style:{textAlign:"center",color:"#6b7280",marginBottom:"1.5rem",fontSize:"0.875rem"},children:"Agora  s prosseguir com o cadastro para garantir o seu desconto"}),l.jsxs("div",{style:{border:"1px dashed #d1d5db",borderRadius:"0.75rem",padding:"1.5rem",position:"relative",backgroundColor:"#f9fafb"},children:[l.jsx("div",{style:{position:"absolute",top:"-0.75rem",left:"1rem",backgroundColor:"#3b82f6",color:"white",fontSize:"0.75rem",fontWeight:"bold",padding:"0.25rem 0.75rem",borderRadius:"9999px"},children:"Garantir desconto"}),l.jsxs("div",{style:{marginTop:"0.5rem",display:"flex",flexDirection:"column",gap:"0.75rem"},children:[l.jsxs("div",{children:[l.jsx("p",{style:{fontSize:"0.875rem",fontWeight:"bold",color:"#4f46e5"},children:"Nome do cliente"}),l.jsx("p",{style:{fontSize:"1.125rem",fontWeight:"600",color:"#1f2937"},children:u.name})]}),l.jsxs("div",{children:[l.jsx("p",{style:{fontSize:"0.875rem",fontWeight:"bold",color:"#16a34a"},children:"Concessionria"}),l.jsx("p",{style:{fontSize:"1.125rem",fontWeight:"600",color:"#1f2937"},children:u.concessionaria})]}),l.jsxs("div",{children:[l.jsx("p",{style:{fontSize:"0.875rem",fontWeight:"bold",color:"#FF6600"},children:"Valor do Desconto"}),l.jsxs("p",{style:{fontSize:"1.875rem",fontWeight:"bold",color:"#FF6600"},children:[y((o==null?void 0:o.calculated_discount)||_),l.jsx("span",{style:{fontSize:"0.875rem",color:"#6b7280",fontWeight:"normal",marginLeft:"0.25rem"},children:"/ms"})]})]})]})]}),l.jsx("button",{onClick:b,style:{width:"100%",padding:"0.75rem",marginTop:"1.5rem",borderRadius:"0.75rem",fontWeight:"bold",color:"white",textTransform:"uppercase",border:"none",cursor:"pointer",backgroundColor:g.accent,boxShadow:"0 4px 14px 0 rgba(255, 102, 0, 0.39)"},children:"Garantir Desconto"})]})})]})}function U8(){return l.jsx("div",{style:{minHeight:"100vh",backgroundColor:"#f9fafb",display:"flex",alignItems:"center",justifyContent:"center",padding:"1rem"},children:l.jsx("div",{style:{width:"100%",maxWidth:"42rem"},children:l.jsx(L8,{})})})}function q8(){const{showAlert:e}=Gr(),[t,r]=p.useState(!1),[n,a]=p.useState(1),[i,o]=p.useState(null);Ce.useEffect(()=>{console.log("DEBUG: OriginatorSignupForm Mounted v1.0")},[]);const[s,c]=p.useState({name:"",email:"",phone:"",password:"",cep:"",uf:"",city:"",neighborhood:"",street:"",number:"",complement:"",profession:"",cpf:"",pix_key:"",pix_key_type:"cpf"}),[u,d]=p.useState(!1),f=()=>l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[l.jsx("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),l.jsx("circle",{cx:"12",cy:"12",r:"3"})]}),h=()=>l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[l.jsx("path",{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"}),l.jsx("line",{x1:"1",y1:"1",x2:"23",y2:"23"})]}),m=async()=>{const g=s.cep.replace(/\D/g,"");if(g.length===8){r(!0);try{const w=await mn(g);c(_=>({..._,street:w.rua,neighborhood:w.bairro,city:w.cidade,uf:w.uf}))}catch(w){console.error("Error fetching CEP:",w)}finally{r(!1)}}},v=async g=>{g.preventDefault(),r(!0);try{const{data:w,error:_}=await I.auth.signUp({email:s.email,password:s.password,options:{data:{name:s.name,phone:s.phone}}});if(_)throw _;w!=null&&w.user&&(o(w.user.id),a(2))}catch(w){console.error("Error signing up:",w),e(w.message||"Erro ao realizar cadastro.","error")}finally{r(!1)}},x=async g=>{g.preventDefault(),r(!0);try{const w={id:i,name:s.name,email:s.email,phone:s.phone,cpf_cnpj:s.cpf,pix_key:s.pix_key,pix_key_type:s.pix_key_type,profession:s.profession,address:{cep:s.cep,street:s.street,number:s.number,neighborhood:s.neighborhood,city:s.city,uf:s.uf,complement:s.complement}},{error:_}=await I.from("originators_v2").insert(w);if(_)throw _;a(3)}catch(w){console.error("Error saving profile:",w),e(w.message||"Erro ao salvar perfil.","error")}finally{r(!1)}},b={primary:"#003366",accent:"#FF6600"},y={wrapper:{backgroundColor:"white",borderRadius:"24px",border:"1px solid #f1f5f9",padding:"2rem",boxShadow:"0 32px 64px -16px rgba(0, 51, 102, 0.12)",maxWidth:"42rem",margin:"0 auto",fontFamily:"Inter, sans-serif"},header:{fontSize:"1.5rem",fontWeight:"bold",textAlign:"center",marginBottom:"2rem",color:b.primary},formSpace:{display:"flex",flexDirection:"column",gap:"1.5rem"},grid:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(240px, 1fr))",gap:"1.5rem"},label:{display:"block",fontSize:"0.75rem",fontWeight:"bold",textTransform:"uppercase",color:"#6b7280",marginBottom:"0.25rem"},input:{width:"100%",padding:"0.75rem 1rem",borderRadius:"0.75rem",border:"1px solid #e2e8f0",backgroundColor:"#f8fafc",outline:"none",transition:"all 0.2s",fontSize:"1rem"},button:{width:"100%",padding:"1rem",marginTop:"1.5rem",borderRadius:"0.75rem",fontWeight:"800",color:"white",textTransform:"uppercase",fontSize:"1.125rem",letterSpacing:"0.025em",border:"none",cursor:t?"wait":"pointer",opacity:t?.7:1,backgroundColor:b.accent,boxShadow:"0 4px 14px 0 rgba(255, 102, 0, 0.39)",transition:"opacity 0.2s"}};return n===1?l.jsxs("div",{style:y.wrapper,children:[l.jsx("h2",{style:y.header,children:"Seja um Parceiro B2W"}),l.jsxs("form",{onSubmit:v,style:y.formSpace,children:[l.jsxs("div",{children:[l.jsx("label",{style:y.label,children:"Nome Completo"}),l.jsx("input",{type:"text",value:s.name,onChange:g=>c({...s,name:g.target.value}),style:y.input,required:!0})]}),l.jsxs("div",{style:y.grid,children:[l.jsxs("div",{children:[l.jsx("label",{style:y.label,children:"E-mail"}),l.jsx("input",{type:"email",value:s.email,onChange:g=>c({...s,email:g.target.value}),style:y.input,required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{style:y.label,children:"WhatsApp"}),l.jsx("input",{type:"tel",maxLength:"15",value:s.phone,onChange:g=>{let w=g.target.value.replace(/\D/g,"");w=w.replace(/^(\d{2})(\d)/g,"($1) $2"),w=w.replace(/(\d)(\d{4})$/,"$1-$2"),c({...s,phone:w})},style:y.input,required:!0})]})]}),l.jsxs("div",{style:{position:"relative"},children:[l.jsx("label",{style:y.label,children:"Senha"}),l.jsx("input",{type:u?"text":"password",value:s.password,onChange:g=>c({...s,password:g.target.value}),style:{...y.input,paddingRight:"2.5rem"},required:!0,minLength:6}),l.jsx("button",{type:"button",onClick:()=>d(!u),style:{position:"absolute",right:"0.75rem",top:"1.75rem",background:"none",border:"none",cursor:"pointer",color:"#6b7280",display:"flex",alignItems:"center"},children:u?l.jsx(h,{}):l.jsx(f,{})})]}),l.jsx("button",{type:"submit",disabled:t,style:y.button,children:t?"Cadastrando...":"Quero ser Parceiro"})]})]}):l.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,zIndex:9999,display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"rgba(0,0,0,0.6)",backdropFilter:"blur(4px)",padding:"1rem"},children:l.jsxs("div",{style:{backgroundColor:"white",borderRadius:"24px",padding:"2rem",maxWidth:"32rem",width:"100%",position:"relative",boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.25)",maxHeight:"90vh",overflowY:"auto"},children:[n===2&&l.jsxs("form",{onSubmit:x,style:y.formSpace,children:[l.jsx("h3",{style:{...y.header,marginBottom:"1rem",fontSize:"1.25rem"},children:"Complete seu Perfil"}),l.jsx("div",{style:y.grid,children:l.jsxs("div",{style:{gridColumn:"1 / -1"},children:[l.jsx("label",{style:y.label,children:"CEP"}),l.jsx("input",{type:"text",maxLength:"9",value:s.cep,onChange:g=>{let w=g.target.value.replace(/\D/g,"");w.length>5&&(w=w.replace(/^(\d{5})(\d)/,"$1-$2")),c({...s,cep:w})},onBlur:m,style:y.input,required:!0})]})}),l.jsxs("div",{style:y.grid,children:[l.jsxs("div",{style:{gridColumn:"1 / -1"},children:[l.jsx("label",{style:y.label,children:"Rua"}),l.jsx("input",{value:s.street,style:y.input,readOnly:!0})]}),l.jsxs("div",{children:[l.jsx("label",{style:y.label,children:"Bairro"}),l.jsx("input",{value:s.neighborhood,style:y.input,readOnly:!0})]}),l.jsxs("div",{children:[l.jsx("label",{style:y.label,children:"Cidade / UF"}),l.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[l.jsx("input",{value:s.city,style:{...y.input,flex:2},readOnly:!0}),l.jsx("input",{value:s.uf,style:{...y.input,flex:1},readOnly:!0})]})]}),l.jsxs("div",{children:[l.jsx("label",{style:y.label,children:"Nmero"}),l.jsx("input",{value:s.number,onChange:g=>c({...s,number:g.target.value}),style:y.input,required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{style:y.label,children:"Complemento"}),l.jsx("input",{value:s.complement,onChange:g=>c({...s,complement:g.target.value}),style:y.input,placeholder:"Ap 101, Bloco B"})]})]}),l.jsxs("div",{children:[l.jsx("label",{style:y.label,children:"Profisso"}),l.jsx("input",{type:"text",value:s.profession,onChange:g=>c({...s,profession:g.target.value}),style:y.input,required:!0,placeholder:"Corretor de Seguros, Consorcios e Contador"})]}),l.jsxs("div",{style:y.grid,children:[l.jsxs("div",{children:[l.jsx("label",{style:y.label,children:"CPF (Chave PIX)"}),l.jsx("input",{type:"text",value:s.cpf,onChange:g=>{let w=g.target.value.replace(/\D/g,"");w.length>11&&(w=w.substring(0,11)),w=w.replace(/(\d{3})(\d)/,"$1.$2"),w=w.replace(/(\d{3})(\d)/,"$1.$2"),w=w.replace(/(\d{3})(\d{1,2})$/,"$1-$2"),c(_=>({..._,cpf:w,pix_key:_.pix_key_type==="cpf"?w:_.pix_key}))},style:y.input,required:!0,placeholder:"000.000.000-00"})]}),l.jsxs("div",{children:[l.jsx("label",{style:y.label,children:"Tipo Chave PIX"}),l.jsxs("select",{value:s.pix_key_type,onChange:g=>{const w=g.target.value;c(_=>({..._,pix_key_type:w,pix_key:w==="cpf"?_.cpf:""}))},style:y.input,children:[l.jsx("option",{value:"cpf",children:"CPF"}),l.jsx("option",{value:"email",children:"E-mail"}),l.jsx("option",{value:"phone",children:"Telefone"}),l.jsx("option",{value:"random",children:"Aleatria"})]})]})]}),s.pix_key_type!=="cpf"&&l.jsxs("div",{children:[l.jsx("label",{style:y.label,children:"Chave PIX"}),l.jsx("input",{value:s.pix_key,onChange:g=>c({...s,pix_key:g.target.value}),style:y.input,required:!0})]}),l.jsx("button",{type:"submit",disabled:t,style:y.button,children:t?"Salvando...":"Finalizar Cadastro"})]}),n===3&&l.jsxs("div",{style:{textAlign:"center"},children:[l.jsx("svg",{style:{width:"64px",height:"64px",color:"#16a34a",margin:"0 auto 1rem"},fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),l.jsx("h3",{style:{...y.header,marginBottom:"0.5rem"},children:"Cadastro Realizado!"}),l.jsx("p",{style:{color:"#6b7280",marginBottom:"1.5rem"},children:"Verifique seu e-mail para confirmar sua conta."}),l.jsx("button",{onClick:()=>window.location.href="https://app.b2wenergia.com.br/login",style:y.button,children:"Ir para Login"})]})]})})}class W8 extends Ce.Component{constructor(t){super(t),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(t){return{hasError:!0}}componentDidCatch(t,r){console.error("ErrorBoundary caught an error",t,r),this.setState({error:t,errorInfo:r})}render(){return this.state.hasError?l.jsxs("div",{style:{padding:"2rem",color:"red",backgroundColor:"#fee2e2",border:"1px solid red",borderRadius:"8px"},children:[l.jsx("h2",{children:"Algo deu errado."}),l.jsxs("details",{style:{whiteSpace:"pre-wrap"},children:[this.state.error&&this.state.error.toString(),l.jsx("br",{}),this.state.errorInfo&&this.state.errorInfo.componentStack]})]}):this.props.children}}function H8(){return Ce.useEffect(()=>{console.log("DEBUG: OriginatorLanding Mounted v1.1 - With ErrorBoundary")},[]),l.jsx("div",{style:{minHeight:"100vh",backgroundColor:"#f9fafb",display:"flex",alignItems:"center",justifyContent:"center",padding:"1rem"},children:l.jsx("div",{style:{width:"100%",maxWidth:"42rem"},children:l.jsx(W8,{children:l.jsx(q8,{})})})})}const Ks=e=>e?e.replace(/\D/g,""):"",ru=e=>{const t=Ks(e);return t.length<=11?t.replace(/(\d{3})(\d)/,"$1.$2").replace(/(\d{3})(\d)/,"$1.$2").replace(/(\d{3})(\d{1,2})/,"$1-$2").replace(/(-\d{2})\d+?$/,"$1"):t.replace(/(\d{2})(\d)/,"$1.$2").replace(/(\d{3})(\d)/,"$1.$2").replace(/(\d{3})(\d)/,"$1/$2").replace(/(\d{4})(\d)/,"$1-$2").replace(/(-\d{2})\d+?$/,"$1")},hi=e=>Ks(e).replace(/(\d{2})(\d)/,"($1) $2").replace(/(\d{5})(\d)/,"$1-$2").replace(/(-\d{4})\d+?$/,"$1"),F8=e=>{const t=Ks(e);if(t.length!==11||t==="00000000000"||t==="11111111111"||t==="22222222222"||t==="33333333333"||t==="44444444444"||t==="55555555555"||t==="66666666666"||t==="77777777777"||t==="88888888888"||t==="99999999999")return!1;let r,n,a,i,o,s,c;try{for(a=0,c=10,i=0;i<9;i++)s=parseInt(t.charAt(i)),a=a+s*c,c=c-1;for(o=11-a%11,o===10||o===11?r="0":r=String.fromCharCode(o+48),a=0,c=11,i=0;i<10;i++)s=parseInt(t.charAt(i)),a=a+s*c,c=c-1;return o=11-a%11,o===10||o===11?n="0":n=String.fromCharCode(o+48),r===t.charAt(9)&&n===t.charAt(10)}catch{return!1}},V8=e=>{const t=Ks(e);if(t.length!==14||/^(\d)\1{13}$/.test(t))return!1;let r=t.length-2,n=t.substring(0,r),a=t.substring(r),i=0,o=r-7;for(let c=r;c>=1;c--)i+=n.charAt(r-c)*o--,o<2&&(o=9);let s=i%11<2?0:11-i%11;if(s!=a.charAt(0))return!1;r=r+1,n=t.substring(0,r),i=0,o=r-7;for(let c=r;c>=1;c--)i+=n.charAt(r-c)*o--,o<2&&(o=9);return s=i%11<2?0:11-i%11,s==a.charAt(1)},eo=e=>Ks(e).length===11,nu=e=>{const t=Ks(e);return t.length<=11?F8(t):V8(t)},nd=({title:e,children:t,defaultOpen:r=!1})=>{const[n,a]=p.useState(r);return l.jsxs("div",{style:{gridColumn:"1 / -1",border:"1px solid var(--color-border)",borderRadius:"var(--radius-sm)",overflow:"hidden",marginBottom:"1rem"},children:[l.jsxs("div",{onClick:()=>a(!n),style:{background:"var(--color-bg-light)",padding:"0.75rem 1rem",cursor:"pointer",display:"flex",justifyContent:"space-between",alignItems:"center",fontWeight:600,color:"var(--color-text)"},children:[l.jsx("span",{children:e}),n?l.jsx(ob,{size:18}):l.jsx(ib,{size:18})]}),n&&l.jsx("div",{style:{padding:"1rem",borderTop:"1px solid var(--color-border)",display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:t})]})};function ub({consumerUnit:e,onClose:t,onSave:r,onDelete:n}){var H;const{showAlert:a,showConfirm:i}=Gr(),[o,s]=p.useState([]),[c,u]=p.useState([]),[d,f]=p.useState(!1),[h,m]=p.useState(!1),v=O=>{if(!O&&O!==0)return"";const N=Number(O);return isNaN(N)?"":N.toLocaleString("pt-BR",{style:"currency",currency:"BRL",minimumFractionDigits:4})},x=O=>{if(!O||typeof O!="string")return 0;const N=O.replace(/\D/g,"");return Number(N)/1e4},b=(O,N)=>{const D=N.replace(/\D/g,""),L=(Number(D)/1e4).toLocaleString("pt-BR",{style:"currency",currency:"BRL",minimumFractionDigits:4});C(V=>({...V,[O]:L}))},y=O=>O.replace(/\D/g,"").replace(/^(\d{5})(\d)/,"$1-$2").substring(0,9),g=[{value:"em_ativacao",label:"Em Ativao"},{value:"aguardando_conexao",label:"Aguardando Conexo"},{value:"ativo",label:"Ativo"},{value:"sem_geracao",label:"Sem Gerao"},{value:"em_atraso",label:"Em Atraso"},{value:"cancelado",label:"Cancelado"},{value:"cancelado_inadimplente",label:"Cancelado (Inadimplente)"}],w=[{value:"auto_consumo_remoto",label:"Auto Consumo Remoto"},{value:"geracao_compartilhada",label:"Gerao Compartilhada"}],_=[{value:"monofasico",label:"Monofsico"},{value:"bifasico",label:"Bifsico"},{value:"trifasico",label:"Trifsico"}],j=[1,5,10,15,20,25,30],[S,C]=p.useState({subscriber_id:"",usina_id:"",status:"em_ativacao",numero_uc:"",titular_conta:"",modalidade:"geracao_compartilhada",concessionaria:"",tipo_ligacao:"trifasico",franquia:"",tarifa_concessionaria:"",te:"",tusd:"",fio_b:"",tarifa_minima:"",desconto_assinante:"",dia_vencimento:10,cep:"",rua:"",numero:"",complemento:"",bairro:"",cidade:"",uf:""});p.useEffect(()=>{E(),T()},[]),p.useEffect(()=>{var O,N,D,M,L,V,K;e&&C({subscriber_id:e.subscriber_id||"",usina_id:e.usina_id||"",status:e.status||"em_ativacao",numero_uc:e.numero_uc||"",titular_conta:e.titular_conta||"",modalidade:e.modalidade||"geracao_compartilhada",concessionaria:e.concessionaria||"",tipo_ligacao:e.tipo_ligacao||"trifasico",franquia:e.franquia||"",tarifa_concessionaria:v(e.tarifa_concessionaria),te:v(e.te),tusd:v(e.tusd),fio_b:v(e.fio_b),tarifa_minima:"",desconto_assinante:e.desconto_assinante||"",dia_vencimento:e.dia_vencimento||10,cep:y(((O=e.address)==null?void 0:O.cep)||""),rua:((N=e.address)==null?void 0:N.rua)||"",numero:((D=e.address)==null?void 0:D.numero)||"",complemento:((M=e.address)==null?void 0:M.complemento)||"",bairro:((L=e.address)==null?void 0:L.bairro)||"",cidade:((V=e.address)==null?void 0:V.cidade)||"",uf:((K=e.address)==null?void 0:K.uf)||""})},[e==null?void 0:e.id,e==null?void 0:e.subscriber_id]),p.useEffect(()=>{const O=x(S.tarifa_concessionaria);let N=30;S.tipo_ligacao==="trifasico"?N=100:S.tipo_ligacao==="bifasico"&&(N=50);const M=(O*N).toLocaleString("pt-BR",{style:"currency",currency:"BRL",minimumFractionDigits:2,maximumFractionDigits:2});C(L=>({...L,tarifa_minima:M}))},[S.tarifa_concessionaria,S.tipo_ligacao]);const E=async()=>{const{data:O}=await I.from("subscribers").select("id, name, cpf_cnpj").order("name");s(O||[])},T=async()=>{const{data:O}=await I.from("usinas").select("id, name").order("name");u(O||[])},A=O=>{const N=y(O.target.value);C(D=>({...D,cep:N}))},R=async()=>{const O=S.cep.replace(/\D/g,"");if(O.length===8){m(!0);try{const N=await mn(O);if(C(D=>({...D,rua:N.rua||"",bairro:N.bairro||"",cidade:N.cidade||"",uf:N.uf||"",concessionaria:D.concessionaria||""})),N.ibge){const D=await Qc(N.ibge);if(D){let M=D["Desconto Assinante"]||0;M>1||(M=M*100),C(L=>({...L,rua:N.rua||"",bairro:N.bairro||"",cidade:N.cidade||"",uf:N.uf||"",concessionaria:D.Concessionaria||L.concessionaria,tarifa_concessionaria:D["Tarifa Concessionaria"]?v(D["Tarifa Concessionaria"]):L.tarifa_concessionaria,te:D.TE?v(D.TE):L.te,tusd:D.TUSD?v(D.TUSD):L.tusd,fio_b:D["Fio B"]?v(D["Fio B"]):L.fio_b,desconto_assinante:M.toFixed(2)}))}}}catch(N){console.error("Erro CEP",N),a("Erro ao buscar CEP/Ofertas: "+(N.message||"No encontrado"),"error")}finally{m(!1)}}},k=async O=>{O.preventDefault(),f(!0);try{const N={subscriber_id:S.subscriber_id||null,usina_id:S.usina_id||null,status:S.status,numero_uc:S.numero_uc,titular_conta:S.titular_conta,modalidade:S.modalidade,concessionaria:S.concessionaria,tipo_ligacao:S.tipo_ligacao,franquia:Number(S.franquia),tarifa_concessionaria:x(S.tarifa_concessionaria),te:x(S.te),tusd:x(S.tusd),fio_b:x(S.fio_b),desconto_assinante:Number(S.desconto_assinante),dia_vencimento:Number(S.dia_vencimento),address:{cep:S.cep.replace(/\D/g,""),rua:S.rua,numero:S.numero,complemento:S.complemento,bairro:S.bairro,cidade:S.cidade,uf:S.uf}};if(!N.subscriber_id)throw new Error("Assinante  obrigatrio.");let D;if(e!=null&&e.id?D=await I.from("consumer_units").update(N).eq("id",e.id).select().single():D=await I.from("consumer_units").insert(N).select().single(),D.error)throw D.error;r(D.data),t()}catch(N){a("Erro ao salvar UC: "+N.message,"error")}finally{f(!1)}},z=async()=>{if(await i("Excluir esta Unidade Consumidora?")){f(!0);try{const{error:N}=await I.from("consumer_units").delete().eq("id",e.id);if(N)throw N;n&&n(e.id),t()}catch(N){a("Erro ao excluir: "+N.message,"error")}finally{f(!1)}}},$=((H=o.find(O=>O.id===S.subscriber_id))==null?void 0:H.name)||"";return l.jsx("div",{className:"modal-overlay",children:l.jsxs("div",{className:"modal-content",style:{maxWidth:"900px"},children:[l.jsxs("div",{className:"modal-header",children:[l.jsx("h3",{children:e?$?`Editar UC - ${$}`:"Editar UC":"Nova Unidade Consumidora"}),l.jsx("button",{onClick:t,className:"modal-close",children:""})]}),l.jsxs("form",{onSubmit:k,style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:[l.jsxs("div",{className:"form-group",style:{gridColumn:"1 / -1",background:"var(--color-bg-light)",padding:"1rem",borderRadius:"var(--radius-sm)"},children:[l.jsx("label",{className:"label",children:"Status da Unidade"}),l.jsx("select",{value:S.status,onChange:O=>C({...S,status:O.target.value}),className:"select",style:{maxWidth:"300px"},children:g.map(O=>l.jsx("option",{value:O.value,children:O.label},O.value))})]}),l.jsxs(nd,{title:"Vnculos",defaultOpen:!0,children:[l.jsxs("div",{className:"form-group",children:[l.jsxs("label",{className:"label",children:["Assinante ",l.jsx("span",{style:{color:"var(--color-error)"},children:"*"})]}),l.jsxs("select",{required:!0,value:S.subscriber_id,onChange:O=>C({...S,subscriber_id:O.target.value}),className:"select",children:[l.jsx("option",{value:"",children:"Selecione..."}),o.map(O=>l.jsxs("option",{value:O.id,children:[O.name," (",O.cpf_cnpj,")"]},O.id))]})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"label",children:"Usina (Opcional)"}),l.jsxs("select",{value:S.usina_id,onChange:O=>C({...S,usina_id:O.target.value}),className:"select",children:[l.jsx("option",{value:"",children:"Selecione..."}),c.map(O=>l.jsx("option",{value:O.id,children:O.name},O.id))]})]})]}),l.jsxs(nd,{title:"Endereo de Instalao",defaultOpen:!0,children:[l.jsxs("div",{style:{gridColumn:"1 / -1",display:"flex",gap:"1rem"},children:[l.jsxs("div",{style:{width:"150px"},children:[l.jsx("label",{className:"label",children:"CEP"}),l.jsxs("div",{style:{position:"relative"},children:[l.jsx("input",{value:S.cep,onChange:A,onBlur:R,placeholder:"00000-000",maxLength:9,className:"input"}),h&&l.jsx("span",{style:{position:"absolute",right:"10px",top:"10px",fontSize:"0.7rem",color:"var(--color-text-light)"},children:"..."})]})]}),l.jsxs("div",{style:{flex:1},children:[l.jsx("label",{className:"label",children:"Concessionria (Auto)"}),l.jsx("input",{value:S.concessionaria,onChange:O=>C({...S,concessionaria:O.target.value}),className:"input",readOnly:!0,style:{background:"var(--color-bg-light)"}})]})]}),l.jsxs("div",{style:{display:"flex",gap:"1rem",gridColumn:"1 / -1"},children:[l.jsxs("div",{style:{flex:1},children:[l.jsx("label",{className:"label",children:"Rua"}),l.jsx("input",{value:S.rua,onChange:O=>C({...S,rua:O.target.value}),className:"input"})]}),l.jsxs("div",{style:{width:"100px"},children:[l.jsx("label",{className:"label",children:"Nmero"}),l.jsx("input",{value:S.numero,onChange:O=>C({...S,numero:O.target.value}),className:"input"})]})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"label",children:"Bairro"}),l.jsx("input",{value:S.bairro,onChange:O=>C({...S,bairro:O.target.value}),className:"input"})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"label",children:"Complemento"}),l.jsx("input",{value:S.complemento,onChange:O=>C({...S,complemento:O.target.value}),className:"input"})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"label",children:"Cidade"}),l.jsx("input",{value:S.cidade,onChange:O=>C({...S,cidade:O.target.value}),className:"input"})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"label",children:"UF"}),l.jsx("input",{value:S.uf,onChange:O=>C({...S,uf:O.target.value}),className:"input"})]})]}),l.jsxs(nd,{title:"Dados da Unidade",defaultOpen:!0,children:[l.jsxs("div",{className:"form-group",children:[l.jsxs("label",{className:"label",children:["Nmero da UC ",l.jsx("span",{style:{color:"var(--color-error)"},children:"*"})]}),l.jsx("input",{required:!0,value:S.numero_uc,onChange:O=>C({...S,numero_uc:O.target.value}),placeholder:"Ex: 7204400277",className:"input"})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"label",children:"Titular da Conta (Na Fatura)"}),l.jsx("input",{required:!0,value:S.titular_conta,onChange:O=>C({...S,titular_conta:O.target.value}),placeholder:"Nome Completo / Razo Social",className:"input"})]})]}),l.jsxs(nd,{title:"Dados Tcnicos e Comerciais",defaultOpen:!0,children:[l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"label",children:"Tipo de Ligao"}),l.jsx("select",{value:S.tipo_ligacao,onChange:O=>C({...S,tipo_ligacao:O.target.value}),className:"select",children:_.map(O=>l.jsx("option",{value:O.value,children:O.label},O.value))})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"label",children:"Modalidade"}),l.jsx("select",{value:S.modalidade,onChange:O=>C({...S,modalidade:O.target.value}),className:"select",children:w.map(O=>l.jsx("option",{value:O.value,children:O.label},O.value))})]}),l.jsxs("div",{style:{gridColumn:"1 / -1",background:"#e0f2fe",padding:"1rem",borderRadius:"var(--radius-md)",border:"1px solid #bae6fd",display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:[l.jsx("div",{style:{gridColumn:"1 / -1",fontSize:"0.9rem",fontWeight:"bold",color:"#0369a1",marginBottom:"0.5rem"},children:"Componentes Tarifrios"}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"label",style:{color:"#075985"},children:"Tarifa Concessionria (R$/kWh)"}),l.jsx("input",{type:"text",value:S.tarifa_concessionaria,onChange:O=>b("tarifa_concessionaria",O.target.value),placeholder:"R$ 0,0000",className:"input",style:{borderColor:"#7dd3fc"}})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"label",style:{color:"#075985"},children:"TE (Energia) - R$/kWh"}),l.jsx("input",{type:"text",value:S.te,onChange:O=>b("te",O.target.value),placeholder:"R$ 0,0000",className:"input",style:{borderColor:"#7dd3fc"}})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"label",style:{color:"#075985"},children:"TUSD (Distribuio) - R$/kWh"}),l.jsx("input",{type:"text",value:S.tusd,onChange:O=>b("tusd",O.target.value),placeholder:"R$ 0,0000",className:"input",style:{borderColor:"#7dd3fc"}})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"label",style:{color:"#075985"},children:"Fio B - R$/kWh"}),l.jsx("input",{type:"text",value:S.fio_b,onChange:O=>b("fio_b",O.target.value),placeholder:"R$ 0,0000",className:"input",style:{borderColor:"#7dd3fc"}})]})]}),l.jsxs("div",{style:{background:"var(--color-warning-bg)",padding:"0.8rem",borderRadius:"var(--radius-sm)",border:"1px solid var(--color-warning)"},children:[l.jsx("label",{className:"label",style:{color:"var(--color-warning)",fontWeight:"bold"},children:"Tarifa Mnima Estimada (R$)"}),l.jsx("div",{style:{fontSize:"1.2rem",fontWeight:"bold",color:"var(--color-warning)"},children:S.tarifa_minima||"R$ 0,00"}),l.jsxs("span",{style:{fontSize:"0.7rem",color:"var(--color-warning)"},children:["Baseada no Tipo de Ligao (",S.tipo_ligacao,") x Tarifa."]})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"label",children:"Desconto Assinante (%)"}),l.jsx("input",{type:"number",step:"0.01",value:S.desconto_assinante,onChange:O=>C({...S,desconto_assinante:O.target.value}),placeholder:"%",className:"input"})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"label",children:"Franquia / Consumo Min (kWh)"}),l.jsx("input",{type:"number",value:S.franquia,onChange:O=>C({...S,franquia:O.target.value}),className:"input"})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"label",children:"Dia de Vencimento"}),l.jsx("select",{value:S.dia_vencimento,onChange:O=>C({...S,dia_vencimento:O.target.value}),className:"select",children:j.map(O=>l.jsx("option",{value:O,children:O},O))})]})]}),l.jsxs("div",{className:"modal-footer",style:{gridColumn:"1 / -1"},children:[e&&n&&l.jsx("button",{type:"button",onClick:z,className:"btn btn-danger",style:{marginRight:"auto"},children:"Excluir UC"}),l.jsx("button",{type:"button",onClick:t,className:"btn btn-secondary",children:"Cancelar"}),l.jsx("button",{type:"submit",disabled:d,className:"btn btn-primary",children:d?"Salvando...":"Salvar UC"})]})]})]})})}const K8=({title:e,children:t,defaultOpen:r=!1})=>{const[n,a]=p.useState(r);return l.jsxs("div",{style:{gridColumn:"1 / -1",border:"1px solid var(--color-border)",borderRadius:"var(--radius-sm)",overflow:"hidden",marginBottom:"1rem"},children:[l.jsxs("div",{onClick:()=>a(!n),style:{background:"var(--color-bg-light)",padding:"0.75rem 1rem",cursor:"pointer",display:"flex",justifyContent:"space-between",alignItems:"center",fontWeight:600,color:"var(--color-text)"},children:[l.jsx("span",{children:e}),n?l.jsx(ob,{size:18}):l.jsx(ib,{size:18})]}),n&&l.jsx("div",{style:{padding:"1rem",borderTop:"1px solid var(--color-border)",display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:t})]})};function G8({consumerUnit:e,subscriberId:t,concessionariaDefault:r,onClose:n,onSave:a}){const{showAlert:i,showConfirm:o}=Gr(),[s,c]=p.useState(!1),[u,d]=p.useState(!1),[f,h]=p.useState({subscriber_id:t||"",status:"em_ativacao",numero_uc:"",titular_conta:"",concessionaria:r||"",modalidade:"geracao_compartilhada",tipo_ligacao:"monofasico",usina_id:null,cep:"",rua:"",numero:"",complemento:"",bairro:"",cidade:"",uf:""});p.useEffect(()=>{e&&h(y=>{var g,w,_,j,S,C,E;return{...y,...e,address:void 0,cep:m(((g=e.address)==null?void 0:g.cep)||""),rua:((w=e.address)==null?void 0:w.rua)||"",numero:((_=e.address)==null?void 0:_.numero)||"",complemento:((j=e.address)==null?void 0:j.complemento)||"",bairro:((S=e.address)==null?void 0:S.bairro)||"",cidade:((C=e.address)==null?void 0:C.cidade)||"",uf:((E=e.address)==null?void 0:E.uf)||""}}),r&&h(y=>({...y,concessionaria:r}))},[e,r]);const m=y=>y.replace(/\D/g,"").replace(/^(\d{5})(\d)/,"$1-$2").substring(0,9),v=y=>{const g=m(y.target.value);h(w=>({...w,cep:g}))},x=async()=>{const y=f.cep.replace(/\D/g,"");if(y.length===8){d(!0);try{const g=await mn(y);h(w=>({...w,rua:g.rua||"",bairro:g.bairro||"",cidade:g.cidade||"",uf:g.uf||""}))}catch(g){console.error("Erro CEP",g)}finally{d(!1)}}},b=async y=>{y.preventDefault(),c(!0);try{const g={subscriber_id:f.subscriber_id,status:f.status,numero_uc:f.numero_uc,titular_conta:f.titular_conta,concessionaria:f.concessionaria,modalidade:f.modalidade,tipo_ligacao:f.tipo_ligacao,address:{cep:f.cep.replace(/\D/g,""),rua:f.rua,numero:f.numero,complemento:f.complemento,bairro:f.bairro,cidade:f.cidade,uf:f.uf}};if(!g.subscriber_id)throw new Error("Erro: Assinante no identificado.");if(!g.numero_uc)throw new Error("Nmero da UC  obrigatrio.");let w;if(e!=null&&e.id?w=await I.from("consumer_units").update(g).eq("id",e.id).select().single():w=await I.from("consumer_units").insert(g).select().single(),w.error)throw w.error;a(w.data),n()}catch(g){i("Erro ao salvar UC: "+g.message,"error")}finally{c(!1)}};return l.jsx("div",{className:"modal-overlay",children:l.jsxs("div",{className:"modal-content",style:{maxWidth:"600px"},children:[l.jsxs("div",{className:"modal-header",children:[l.jsx("h3",{children:e?"Editar Unidade Consumidora":"Nova Unidade Consumidora"}),l.jsx("button",{onClick:n,className:"modal-close",children:""})]}),l.jsxs("form",{onSubmit:b,style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:[l.jsxs("div",{style:{gridColumn:"1 / -1",background:"#f0f9ff",padding:"1rem",borderRadius:"var(--radius-sm)",border:"1px solid #bae6fd"},children:[l.jsxs("div",{style:{marginBottom:"1rem"},children:[l.jsxs("label",{className:"label",children:["Nmero da UC ",l.jsx("span",{style:{color:"var(--color-error)"},children:"*"})]}),l.jsx("input",{required:!0,value:f.numero_uc,onChange:y=>h({...f,numero_uc:y.target.value}),placeholder:"Ex: 7204400277",className:"input",style:{fontSize:"1.1rem",fontWeight:"bold"}})]}),l.jsxs("div",{style:{marginBottom:"1rem"},children:[l.jsx("label",{className:"label",children:"Titular da Conta (Conforme Fatura)"}),l.jsx("input",{required:!0,value:f.titular_conta,onChange:y=>h({...f,titular_conta:y.target.value}),placeholder:"Nome Completo / Razo Social",className:"input"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"label",children:"Concessionria"}),l.jsx("input",{value:f.concessionaria,readOnly:!0,className:"input",style:{background:"#e0e0e0",color:"#555"}})]})]}),l.jsxs(K8,{title:"Endereo de Instalao",defaultOpen:!0,children:[l.jsxs("div",{style:{gridColumn:"1 / -1",display:"flex",gap:"1rem"},children:[l.jsxs("div",{style:{width:"140px"},children:[l.jsx("label",{className:"label",children:"CEP"}),l.jsxs("div",{style:{position:"relative"},children:[l.jsx("input",{value:f.cep,onChange:v,onBlur:x,placeholder:"00000-000",maxLength:9,className:"input"}),u&&l.jsx("span",{style:{position:"absolute",right:"10px",top:"10px",fontSize:"0.7rem"},children:"..."})]})]}),l.jsxs("div",{style:{flex:1},children:[l.jsx("label",{className:"label",children:"Rua"}),l.jsx("input",{value:f.rua,onChange:y=>h({...f,rua:y.target.value}),className:"input"})]})]}),l.jsxs("div",{style:{display:"flex",gap:"1rem",gridColumn:"1 / -1"},children:[l.jsxs("div",{style:{width:"100px"},children:[l.jsx("label",{className:"label",children:"Nmero"}),l.jsx("input",{value:f.numero,onChange:y=>h({...f,numero:y.target.value}),className:"input"})]}),l.jsxs("div",{style:{flex:1},children:[l.jsx("label",{className:"label",children:"Bairro"}),l.jsx("input",{value:f.bairro,onChange:y=>h({...f,bairro:y.target.value}),className:"input"})]})]}),l.jsx("div",{style:{display:"flex",gap:"1rem",gridColumn:"1 / -1"},children:l.jsxs("div",{style:{flex:1},children:[l.jsx("label",{className:"label",children:"Complemento"}),l.jsx("input",{value:f.complemento,onChange:y=>h({...f,complemento:y.target.value}),className:"input"})]})}),l.jsxs("div",{style:{display:"flex",gap:"1rem",gridColumn:"1 / -1"},children:[l.jsxs("div",{style:{flex:1},children:[l.jsx("label",{className:"label",children:"Cidade"}),l.jsx("input",{value:f.cidade,readOnly:!0,className:"input",style:{background:"#f5f5f5"}})]}),l.jsxs("div",{style:{width:"60px"},children:[l.jsx("label",{className:"label",children:"UF"}),l.jsx("input",{value:f.uf,readOnly:!0,className:"input",style:{background:"#f5f5f5"}})]})]})]}),l.jsxs("div",{className:"modal-footer",style:{gridColumn:"1 / -1",marginTop:"1rem"},children:[l.jsx("button",{type:"button",onClick:n,className:"btn btn-secondary",children:"Cancelar"}),l.jsx("button",{type:"submit",disabled:s,className:"btn btn-primary",style:{minWidth:"150px"},children:s?"Adicionando...":"Adicionar UC"})]})]})]})})}function Y8(){const[e]=Y0(),t=yi(),{showAlert:r,showConfirm:n}=Gr(),a=e.get("name")||"",i=e.get("email")||"",o=e.get("phone")||"",s=e.get("cep")||"",c=e.get("originator_id")||"",u=e.get("discount_percent")||"0",d=e.get("savings_annual")||"0",f=e.get("concessionaria")||"",[h,m]=p.useState(!1),[v,x]=p.useState(!1),[b,y]=p.useState(null),[g,w]=p.useState([]),[_,j]=p.useState({name:a,cpf_cnpj:"",status:"ativacao",phone:o,email:i,cep:s,rua:"",numero:"",complemento:"",bairro:"",cidade:"",uf:"",originator_id:c}),[S,C]=p.useState(!1),[E,T]=p.useState(!1);p.useEffect(()=>{s&&A(s)},[s]);const A=async M=>{const L=(M||_.cep).replace(/\D/g,"");if(L.length===8){C(!0);try{const V=await mn(L);j(K=>({...K,cep:$(L),rua:V.rua||"",bairro:V.bairro||"",cidade:V.cidade||"",uf:V.uf||""}))}catch(V){console.error("Erro CEP:",V)}finally{C(!1)}}},R=async()=>{const M=_.cpf_cnpj.replace(/\D/g,"");if(M.length>=11){T(!0);try{const L=await xc(M);L.nome&&j(V=>({...V,name:L.nome}))}catch(L){console.error("Erro Doc:",L)}finally{T(!1)}}},k=g.reduce((M,L)=>M+(Number(L.franquia)||0),0),z=g.length>0?k:e.get("consumo")||0,$=M=>M.replace(/\D/g,"").replace(/^(\d{5})(\d)/,"$1-$2").substr(0,9),H=async()=>{if(!nu(_.cpf_cnpj))throw new Error("CPF/CNPJ invlido!");if(!_.name)throw new Error("Nome  obrigatrio");if(_.cpf_cnpj.replace(/\D/g,""),!b){const{data:K}=await I.from("subscribers").select("id").eq("cpf_cnpj",_.cpf_cnpj).single();if(K)throw new Error("J existe um assinante com este CPF/CNPJ.")}let M=b==null?void 0:b.asaas_customer_id;try{const K=await zk({id:M,name:_.name,cpfCnpj:_.cpf_cnpj,email:_.email,phone:_.phone,postalCode:_.cep,addressNumber:_.numero,address:_.rua,province:_.bairro});K!=null&&K.success&&(M=K.asaas_id)}catch(K){if(console.error("Asaas Sync Error:",K),!await n(`Aviso: No foi possvel sincronizar com o Asaas (${K.message}).
Deseja finalizar o cadastro apenas localmente?`,"Erro de Sincronizao","Sim, Finalizar Local","No, Vou Corrigir"))throw new Error("Operao cancelada para correo de dados.")}const L={..._,asaas_customer_id:M};L.originator_id||(L.originator_id=null);let V;if(b!=null&&b.id?V=await I.from("subscribers").update(L).eq("id",b.id).select().single():V=await I.from("subscribers").insert(L).select().single(),V.error)throw V.error;return y(V.data),V.data},O=async()=>{if(b)x(!0);else try{if(!_.cpf_cnpj||!_.name)return r("Preencha os dados do assinante (CPF e Nome) antes de adicionar UCs.","warning");m(!0),await H(),m(!1),x(!0)}catch(M){m(!1),r(M.message,"error")}},N=async()=>{var M,L;m(!0);try{const V=await H();if(g.length===0&&!await n("Nenhuma Unidade Consumidora (UC) foi cadastrada. Deseja finalizar mesmo assim?")){m(!1);return}if(c){const{data:K}=await I.from("originators_v2").select("phone").eq("id",c).single();if(K!=null&&K.phone){const Q=` Novo Cliente Cadastrado!

${V.name} acabou de completar o cadastro.
Verifique no CRM.`;let ee="default";try{const{data:re}=await I.from("integrations_config").select("variables").eq("service_name","evolution_api").single();(M=re==null?void 0:re.variables)!=null&&M.instance_name&&(ee=re.variables.instance_name)}catch(re){console.error("Error fetching integration config:",re)}await Hv(K.phone,Q,null,ee)}}if(V.phone){const K=`Ol, ${V.name}! 

Seu cadastro na B2W Energia foi recebido com sucesso e est em fase de ativao.

Para acompanhar o processo, acesse seu email e crie seu login.`;let Q="default";try{const{data:ee}=await I.from("integrations_config").select("variables").eq("service_name","evolution_api").single();(L=ee==null?void 0:ee.variables)!=null&&L.instance_name&&(Q=ee.variables.instance_name)}catch(ee){console.error("Error fetching integration config:",ee)}await Hv(V.phone,K,null,Q)}r("Cadastro realizado com sucesso!","success"),t("/login")}catch(V){console.error(V),r("Erro ao finalizar: "+V.message,"error")}finally{m(!1)}},D=async()=>{if(!(b!=null&&b.id))return;const{data:M}=await I.from("consumer_units").select("*").eq("subscriber_id",b.id);w(M||[])};return p.useEffect(()=>{b&&D()},[b]),l.jsxs("div",{className:"min-h-screen bg-slate-50 font-inter",children:[l.jsx("div",{className:"bg-white border-b border-slate-200",children:l.jsxs("div",{className:"max-w-5xl mx-auto px-4 py-6",children:[l.jsx("h1",{className:"text-3xl font-bold",style:{color:"#003366"},children:_.name||"Novo Assinante"}),l.jsx("p",{className:"text-slate-500 mt-2 text-lg",children:"Confira os detalhes da sua economia e finalize sua adeso abaixo."})]})}),l.jsxs("div",{className:"max-w-5xl mx-auto px-4 py-8 space-y-8",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[l.jsxs("div",{className:"bg-white p-4 rounded-xl border border-slate-200 shadow-sm",children:[l.jsx("p",{className:"text-xs font-bold text-slate-500 uppercase tracking-wide mb-1",children:"Concessionria"}),l.jsx("p",{className:"font-semibold text-slate-900",children:"Distribuidora Local"})]}),l.jsxs("div",{className:"bg-white p-4 rounded-xl border border-slate-200 shadow-sm",children:[l.jsx("p",{className:"text-xs font-bold text-slate-500 uppercase tracking-wide mb-1",children:"Mdia de Consumo"}),l.jsxs("p",{className:"font-semibold text-slate-900",children:[Number(z).toLocaleString("pt-BR")," kWh"]})]}),l.jsxs("div",{className:"bg-white p-4 rounded-xl border border-slate-200 shadow-sm",children:[l.jsx("p",{className:"text-xs font-bold text-slate-500 uppercase tracking-wide mb-1",children:"Endereo da Instalao"}),l.jsx("p",{className:"font-semibold text-slate-900 truncate",title:`${_.rua}, ${_.numero}`,children:_.rua?`${_.rua}, ${_.numero}`:"Endereo no informado"})]})]}),l.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-100 overflow-hidden",children:[l.jsxs("div",{className:"p-6 border-b border-slate-100 flex items-center gap-2",children:[l.jsx(Zh,{className:"text-orange-500 fill-orange-500",size:24}),l.jsx("h2",{className:"text-xl font-bold text-slate-800",children:"Economia esperada com a B2W Energia"})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2",children:[l.jsxs("div",{className:"p-8 text-center text-white flex flex-col justify-center items-center",style:{backgroundColor:"#003366"},children:[l.jsx("p",{className:"text-sm font-medium opacity-90 mb-2 uppercase tracking-wider",children:"Desconto Garantido"}),l.jsxs("p",{className:"text-6xl font-bold mb-2",children:[u,"%"]}),l.jsx("p",{className:"text-xs opacity-75",children:"Sobre a tarifa de energia"})]}),l.jsxs("div",{className:"p-8 text-center text-white flex flex-col justify-center items-center",style:{backgroundColor:"#FF6600"},children:[l.jsx("p",{className:"text-sm font-medium opacity-90 mb-2 uppercase tracking-wider",children:"Economia Anual Estimada"}),l.jsx("p",{className:"text-5xl font-bold mb-2",children:Number(d).toLocaleString("pt-BR",{style:"currency",currency:"BRL"})}),l.jsx("p",{className:"text-xs opacity-75",children:"Mais dinheiro no seu bolso"})]})]}),l.jsx("div",{className:"bg-slate-50 p-3 text-center text-xs text-slate-500",children:"* Estimativa baseada no seu histrico de consumo mdio mensal informado."})]}),l.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-slate-100 p-6 md:p-10",children:[l.jsxs("h2",{className:"text-2xl font-bold mb-8 flex items-center gap-2",style:{color:"#003366"},children:[l.jsx("div",{className:"w-1 h-8 bg-[#FF6600] rounded-full"}),"Dados do Assinante"]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wide mb-2",children:"CPF ou CNPJ"}),l.jsxs("div",{className:"relative",children:[l.jsx("input",{type:"text",value:_.cpf_cnpj,onChange:M=>j({..._,cpf_cnpj:ru(M.target.value)}),onBlur:R,className:`w-full px-4 py-4 rounded-xl border ${E?"bg-blue-50 border-blue-200":"bg-white border-slate-200"} focus:outline-none focus:ring-2 focus:ring-[#FF6600] focus:border-transparent transition-all shadow-sm font-medium text-slate-700`,placeholder:"000.000.000-00"}),E&&l.jsx("span",{className:"absolute right-3 top-4 text-xs text-[#003366] font-bold",children:"Buscando..."})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wide mb-2",children:"Nome Completo / Razo Social"}),l.jsx("input",{type:"text",value:_.name,onChange:M=>j({..._,name:M.target.value}),className:"w-full px-4 py-4 rounded-xl border border-slate-200 bg-white focus:outline-none focus:ring-2 focus:ring-[#FF6600] focus:border-transparent transition-all shadow-sm font-medium text-slate-700",placeholder:"Seu nome"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wide mb-2",children:"E-mail"}),l.jsx("input",{type:"email",value:_.email,onChange:M=>j({..._,email:M.target.value}),className:"w-full px-4 py-4 rounded-xl border border-slate-200 bg-white focus:outline-none focus:ring-2 focus:ring-[#FF6600] focus:border-transparent transition-all shadow-sm font-medium text-slate-700"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wide mb-2",children:"WhatsApp"}),l.jsx("input",{type:"tel",value:_.phone,onChange:M=>j({..._,phone:hi(M.target.value)}),className:"w-full px-4 py-4 rounded-xl border border-slate-200 bg-white focus:outline-none focus:ring-2 focus:ring-[#FF6600] focus:border-transparent transition-all shadow-sm font-medium text-slate-700"})]}),l.jsx("div",{className:"md:col-span-2 pt-6 border-t border-slate-100 mt-2",children:l.jsxs("h3",{className:"text-lg font-bold mb-6 flex items-center gap-2",style:{color:"#003366"},children:[l.jsx("div",{className:"w-1 h-6 bg-[#FF6600] rounded-full"}),"Endereo"]})}),l.jsxs("div",{className:"grid grid-cols-3 gap-6 md:col-span-2",children:[l.jsxs("div",{className:"col-span-1",children:[l.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wide mb-2",children:"CEP"}),l.jsx("input",{type:"text",value:_.cep,onChange:M=>j({..._,cep:$(M.target.value)}),onBlur:M=>A(M.target.value),className:`w-full px-4 py-4 rounded-xl border ${S?"bg-blue-50":"bg-white"} border-slate-200 focus:outline-none focus:ring-2 focus:ring-[#FF6600] focus:border-transparent transition-all shadow-sm font-medium text-slate-700`})]}),l.jsxs("div",{className:"col-span-2",children:[l.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wide mb-2",children:"Rua"}),l.jsx("input",{type:"text",value:_.rua,onChange:M=>j({..._,rua:M.target.value}),className:"w-full px-4 py-4 rounded-xl border border-slate-200 bg-white focus:outline-none focus:ring-2 focus:ring-[#FF6600] focus:border-transparent transition-all shadow-sm font-medium text-slate-700"})]})]}),l.jsxs("div",{className:"md:col-span-2 grid grid-cols-2 md:grid-cols-4 gap-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wide mb-2",children:"Nmero"}),l.jsx("input",{type:"text",value:_.numero,onChange:M=>j({..._,numero:M.target.value}),className:"w-full px-4 py-4 rounded-xl border border-slate-200 bg-white focus:outline-none focus:ring-2 focus:ring-[#FF6600] focus:border-transparent transition-all shadow-sm font-medium text-slate-700"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wide mb-2",children:"Comp."}),l.jsx("input",{type:"text",value:_.complemento,onChange:M=>j({..._,complemento:M.target.value}),className:"w-full px-4 py-4 rounded-xl border border-slate-200 bg-white focus:outline-none focus:ring-2 focus:ring-[#FF6600] focus:border-transparent transition-all shadow-sm font-medium text-slate-700"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wide mb-2",children:"Bairro"}),l.jsx("input",{type:"text",value:_.bairro,onChange:M=>j({..._,bairro:M.target.value}),className:"w-full px-4 py-4 rounded-xl border border-slate-200 bg-white focus:outline-none focus:ring-2 focus:ring-[#FF6600] focus:border-transparent transition-all shadow-sm font-medium text-slate-700"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase tracking-wide mb-2",children:"Cidade/UF"}),l.jsx("input",{type:"text",value:`${_.cidade}-${_.uf}`,readOnly:!0,className:"w-full px-4 py-4 rounded-xl border border-slate-200 bg-slate-50 text-slate-500 cursor-not-allowed font-medium"})]})]})]})]}),l.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-slate-200 p-6 md:p-10",children:[l.jsxs("div",{className:"flex justify-between items-center mb-6",children:[l.jsxs("h2",{className:"text-2xl font-bold flex items-center gap-2",style:{color:"#003366"},children:[l.jsx("div",{className:"w-1 h-8 bg-[#FF6600] rounded-full"}),"Unidades Consumidoras"]}),l.jsxs("button",{onClick:O,className:"flex items-center gap-2 bg-green-50 text-green-700 px-4 py-2 rounded-lg font-bold hover:bg-green-100 transition-colors border border-green-200",children:[l.jsx(Vs,{size:20}),"Adicionar UC"]})]}),g.length===0?l.jsx("div",{className:"text-center py-8 text-slate-500 bg-slate-50 rounded-xl border border-dashed border-slate-300",children:l.jsx("p",{children:"Nenhuma UC cadastrada. Adicione pelo menos uma para continuar."})}):l.jsx("div",{className:"space-y-3",children:g.map(M=>l.jsxs("div",{className:"flex justify-between items-center p-4 bg-slate-50 rounded-xl border border-slate-200",children:[l.jsxs("div",{children:[l.jsxs("p",{className:"font-bold text-slate-800",children:["UC: ",M.numero_uc]}),l.jsxs("p",{className:"text-sm text-slate-500",children:[M.concessionaria,"  ",Number(M.franquia)," kWh"]})]}),l.jsx("button",{className:"p-2 text-red-500 hover:bg-red-50 rounded-lg transition-colors",onClick:async()=>{await n("Remover esta UC?")&&(await I.from("consumer_units").delete().eq("id",M.id),D())},children:l.jsx(tu,{size:18})})]},M.id))})]}),l.jsx("button",{onClick:N,disabled:h,className:"w-full py-5 text-xl font-bold text-white uppercase tracking-wider rounded-xl shadow-xl transition-all transform active:scale-[0.99] flex justify-center items-center gap-3 hover:shadow-2xl",style:{backgroundColor:"#FF6600"},children:h?"Processando...":l.jsxs(l.Fragment,{children:["Finalizar Adeso ",l.jsx(TI,{size:24})]})})]}),v&&l.jsx(G8,{consumerUnit:null,subscriberId:b==null?void 0:b.id,concessionariaDefault:f,onClose:()=>x(!1),onSave:()=>{D(),x(!1)}})]})}function X8(){const e=yi(),[t,r]=p.useState(!1),[n,a]=p.useState(1),[i,o]=p.useState({cpf:"",nome:"",email:"",password:"",telefone:"",cep:"",rua:"",numero:"",complemento:"",bairro:"",cidade:"",uf:"",numero_uc:""}),s=async()=>{if(i.cpf.replace(/\D/g,"").length===11){r(!0);try{const f=await xc(i.cpf);o(h=>({...h,nome:f.nome}))}catch(f){console.error(f)}finally{r(!1)}}},c=async()=>{if(i.cep.length>=8){r(!0);try{const f=await mn(i.cep);o(h=>({...h,rua:f.rua,bairro:f.bairro,cidade:f.cidade,uf:f.uf}))}catch{alert("CEP no encontrado")}finally{r(!1)}}},u=async f=>{f.preventDefault(),a(2)},d=async f=>{f.preventDefault(),r(!0);try{const{data:h,error:m}=await I.auth.signUp({email:i.email,password:i.password,options:{data:{name:i.nome,role:"subscriber",cpf_cnpj:i.cpf,phone:i.telefone,address:{rua:i.rua,numero:i.numero,complemento:i.complemento,bairro:i.bairro,cidade:i.cidade,uf:i.uf,cep:i.cep}}}});if(m)throw m;const v=h.user.id,{error:x}=await I.from("profiles").upsert({id:v,name:i.nome,cpf_cnpj:i.cpf,email:i.email,phone:i.telefone,role:"subscriber",address:{rua:i.rua,numero:i.numero,complemento:i.complemento,bairro:i.bairro,cidade:i.cidade,uf:i.uf,cep:i.cep}});x&&console.error("Erro ao criar/atualizar perfil:",x);const{data:b,error:y}=await I.from("subscribers").insert({profile_id:v,name:i.nome,cpf_cnpj:i.cpf,email:i.email,phone:i.telefone,status:"ativacao"}).select().single();if(y)throw y;await I.from("consumer_units").insert({subscriber_id:b.id,numero_uc:i.numero_uc,status:"ativacao",address:{rua:i.rua,cep:i.cep}}),alert("Cadastro realizado com sucesso! Entre com o seu email e senha e faa login."),e("/login")}catch(h){alert("Erro ao cadastrar: "+h.message)}finally{r(!1)}};return l.jsx("div",{style:{minHeight:"100vh",padding:"2rem",backgroundColor:"var(--color-bg-light)"},children:l.jsxs("div",{style:{maxWidth:"600px",margin:"0 auto",background:"white",padding:"2rem",borderRadius:"8px"},children:[l.jsx("h1",{style:{textAlign:"center",marginBottom:"1rem"},children:"Assine Agora"}),n===1&&l.jsx("form",{onSubmit:u,children:l.jsxs("div",{style:{display:"grid",gap:"1rem"},children:[l.jsxs("div",{children:[l.jsx("label",{children:"CPF/CNPJ"}),l.jsx("input",{value:i.cpf,onChange:f=>o({...i,cpf:f.target.value}),onBlur:s,style:{width:"100%",padding:"0.5rem"},required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{children:"Nome Completo"}),l.jsx("input",{value:i.nome,onChange:f=>o({...i,nome:f.target.value}),style:{width:"100%",padding:"0.5rem"},required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{children:"Email"}),l.jsx("input",{type:"email",value:i.email,onChange:f=>o({...i,email:f.target.value}),style:{width:"100%",padding:"0.5rem"},required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{children:"Senha"}),l.jsx("input",{type:"password",value:i.password,onChange:f=>o({...i,password:f.target.value}),style:{width:"100%",padding:"0.5rem"},required:!0,minLength:6})]}),l.jsxs("div",{children:[l.jsx("label",{children:"Telefone"}),l.jsx("input",{value:i.telefone,onChange:f=>o({...i,telefone:f.target.value}),style:{width:"100%",padding:"0.5rem"},required:!0})]}),l.jsx("button",{type:"submit",style:{width:"100%",padding:"1rem",backgroundColor:"var(--color-blue)",color:"white"},children:"Prximo"})]})}),n===2&&l.jsx("form",{onSubmit:d,children:l.jsxs("div",{style:{display:"grid",gap:"1rem"},children:[l.jsxs("div",{children:[l.jsx("label",{children:"CEP da Unidade Consumidora"}),l.jsx("input",{value:i.cep,onChange:f=>o({...i,cep:f.target.value}),onBlur:c,style:{width:"100%",padding:"0.5rem"},required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{children:"Rua"}),l.jsx("input",{value:i.rua,onChange:f=>o({...i,rua:f.target.value}),style:{width:"100%",padding:"0.5rem"}})]}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:[l.jsx("input",{placeholder:"Nmero",value:i.numero,onChange:f=>o({...i,numero:f.target.value}),style:{width:"100%",padding:"0.5rem"}}),l.jsx("input",{placeholder:"Complemento",value:i.complemento,onChange:f=>o({...i,complemento:f.target.value}),style:{width:"100%",padding:"0.5rem"}})]}),l.jsxs("div",{children:[l.jsx("label",{children:"Nmero da Instalao (UC)"}),l.jsx("input",{value:i.numero_uc,onChange:f=>o({...i,numero_uc:f.target.value}),placeholder:"Cdigo na conta de luz",style:{width:"100%",padding:"0.5rem"},required:!0})]}),l.jsx("button",{type:"submit",disabled:t,style:{width:"100%",padding:"1rem",success:!0,backgroundColor:"var(--color-orange)",color:"white",fontWeight:"bold"},children:t?"Processando...":"Finalizar Cadastro"})]})})]})})}const Wk=p.createContext({}),pn=()=>p.useContext(Wk),Z8=({children:e})=>{const[t,r]=p.useState(null),[n,a]=p.useState(null),[i,o]=p.useState(!0);p.useEffect(()=>{I.auth.getSession().then(({data:{session:d}})=>{r((d==null?void 0:d.user)??null),d!=null&&d.user?s(d.user.id):o(!1)});const{data:{subscription:u}}=I.auth.onAuthStateChange(async(d,f)=>{r((f==null?void 0:f.user)??null),f!=null&&f.user?s(f.user.id):(a(null),o(!1))});return()=>u.unsubscribe()},[]);const s=async u=>{try{const{data:d,error:f}=await I.from("profiles").select("*").eq("id",u).single();f?console.error("Error fetching profile:",f):a(d)}catch(d){console.error("Unexpected error fetching profile:",d)}finally{o(!1)}},c={signUp:u=>I.auth.signUp(u),signIn:u=>I.auth.signInWithPassword(u),signOut:()=>I.auth.signOut(),user:t,profile:n,loading:i};return l.jsx(Wk.Provider,{value:c,children:!i&&e})};function Hk({user:e,onClose:t,onSave:r}){const[n,a]=p.useState({name:"",role:"lead",commission_start:0,commission_recorrente:0,phone:"",superior_id:""}),[i,o]=p.useState(!1),[s,c]=p.useState([]),u={super_admin:1,admin:2,manager:3,coordinator:4,supplier:5,originator:6,subscriber:7,lead:8};p.useEffect(()=>{var h,m;e&&(a({name:e.name||"",role:e.role||"lead",commission_start:((h=e.commission_split)==null?void 0:h.start)||0,commission_recorrente:((m=e.commission_split)==null?void 0:m.recorrente)||0,phone:e.phone||"",superior_id:e.superior_id||""}),d(e.role))},[e]);const d=async h=>{const{data:m}=await I.from("profiles").select("id, name, role").neq("id",e.id);if(m){const v=u[h]||99,x=m.filter(b=>(u[b.role]||99)<v);c(x)}},f=async h=>{if(h.preventDefault(),n.phone&&!eo(n.phone)){alert("Telefone invlido!");return}o(!0);try{const m={name:n.name,role:n.role,phone:n.phone,commission_split:{start:Number(n.commission_start),recorrente:Number(n.commission_recorrente)},superior_id:n.superior_id||null},{error:v}=await I.from("profiles").update(m).eq("id",e.id);if(v)throw v;r({...e,...m}),t()}catch(m){alert("Erro ao atualizar usurio: "+m.message)}finally{o(!1)}};return l.jsx("div",{className:"modal-overlay",children:l.jsxs("div",{className:"modal-content",style:{maxWidth:"500px"},children:[l.jsxs("div",{className:"modal-header",children:[l.jsx("h3",{children:"Editar Usurio"}),l.jsx("button",{onClick:t,className:"modal-close",children:""})]}),l.jsxs("form",{onSubmit:f,children:[l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"label",children:"Nome"}),l.jsx("input",{value:n.name,onChange:h=>a({...n,name:h.target.value}),className:"input"})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"label",children:"Telefone"}),l.jsx("input",{value:n.phone,onChange:h=>a({...n,phone:hi(h.target.value)}),className:"input"})]}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:[l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"label",children:"Funo (Role)"}),l.jsxs("select",{value:n.role,onChange:h=>{a({...n,role:h.target.value}),d(h.target.value)},className:"select",children:[l.jsx("option",{value:"lead",children:"Lead"}),l.jsx("option",{value:"subscriber",children:"Assinante"}),l.jsx("option",{value:"originator",children:"Originador"}),l.jsx("option",{value:"supplier",children:"Fornecedor"}),l.jsx("option",{value:"coordinator",children:"Coordenador"}),l.jsx("option",{value:"manager",children:"Gerente"}),l.jsx("option",{value:"admin",children:"Admin"}),l.jsx("option",{value:"super_admin",children:"Super Admin"})]})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"label",children:"Superior Imediato"}),l.jsxs("select",{value:n.superior_id,onChange:h=>a({...n,superior_id:h.target.value}),className:"select",children:[l.jsx("option",{value:"",children:"Sem superior"}),s.map(h=>l.jsxs("option",{value:h.id,children:[h.name," (",h.role,")"]},h.id))]})]})]}),l.jsxs("div",{style:{borderTop:"1px solid var(--color-border)",paddingTop:"1rem",marginTop:"0.5rem"},children:[l.jsx("h4",{style:{fontSize:"1rem",marginBottom:"0.5rem",color:"var(--color-text-medium)"},children:"Configurao de Comisses (%)"}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:[l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"label",style:{fontSize:"0.8rem"},children:"Start (1 Fatura)"}),l.jsx("input",{type:"number",step:"0.1",value:n.commission_start,onChange:h=>a({...n,commission_start:h.target.value}),className:"input"})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"label",style:{fontSize:"0.8rem"},children:"Recorrente (Mensal)"}),l.jsx("input",{type:"number",step:"0.1",value:n.commission_recorrente,onChange:h=>a({...n,commission_recorrente:h.target.value}),className:"input"})]})]})]}),l.jsxs("div",{className:"modal-footer",children:[l.jsx("button",{type:"button",onClick:t,className:"btn btn-secondary",children:"Cancelar"}),l.jsx("button",{type:"submit",disabled:i,className:"btn btn-primary",children:i?"Salvando...":"Salvar Alteraes"})]})]})]})})}function J8(){const{user:e}=pn(),[t,r]=p.useState([]),[n,a]=p.useState(!0),[i,o]=p.useState(null),[s,c]=p.useState(""),[u,d]=p.useState(""),f={super_admin:1,admin:2,manager:3,coordinator:4,supplier:5,originator:6,subscriber:7,lead:8},h=b=>f[b]||99;p.useEffect(()=>{m()},[]);const m=async()=>{try{const{data:b,error:y}=await I.from("profiles").select("*").order("name");if(y)throw y;r(b||[])}catch(b){console.error("Error fetching users:",b),alert("Erro ao buscar usurios")}finally{a(!1)}},v=b=>{r(t.map(y=>y.id===b.id?b:y)),alert("Perfil atualizado com sucesso!")},x=t.filter(b=>{var w,_;const y=(((w=b.name)==null?void 0:w.toLowerCase())||"").includes(s.toLowerCase())||(((_=b.email)==null?void 0:_.toLowerCase())||"").includes(s.toLowerCase()),g=u?b.role===u:!0;return y&&g}).sort((b,y)=>h(b.role)-h(y.role));return l.jsxs("div",{children:[l.jsx("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"2rem"},children:l.jsx("h2",{children:"Painel Administrativo"})}),l.jsxs("div",{className:"card",style:{padding:0,overflow:"hidden"},children:[l.jsxs("div",{style:{padding:"1.5rem",borderBottom:"1px solid var(--color-border)",display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:"1rem"},children:[l.jsx("h3",{style:{margin:0},children:"Gesto de Usurios"}),l.jsxs("div",{style:{display:"flex",gap:"0.5rem",flexWrap:"wrap"},children:[l.jsx("input",{placeholder:"Buscar por nome ou email...",value:s,onChange:b=>c(b.target.value),className:"input",style:{width:"250px"}}),l.jsxs("select",{value:u,onChange:b=>d(b.target.value),className:"select",style:{width:"auto"},children:[l.jsx("option",{value:"",children:"Todos os Perfis"}),l.jsx("option",{value:"super_admin",children:"Super Admin"}),l.jsx("option",{value:"admin",children:"Admin"}),l.jsx("option",{value:"manager",children:"Gerente"}),l.jsx("option",{value:"coordinator",children:"Coordenador"}),l.jsx("option",{value:"supplier",children:"Fornecedor"}),l.jsx("option",{value:"originator",children:"Originador"}),l.jsx("option",{value:"subscriber",children:"Assinante"}),l.jsx("option",{value:"lead",children:"Lead"})]})]})]}),n?l.jsx("p",{style:{padding:"1.5rem"},children:"Carregando..."}):l.jsx("div",{className:"table-container",children:l.jsxs("table",{className:"table",children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{children:"Hierarquia"}),l.jsx("th",{children:"Nome"}),l.jsx("th",{children:"Email"}),l.jsx("th",{children:"Perfil (Role)"}),l.jsx("th",{children:"Comisso (Start/Rec.)"}),l.jsx("th",{children:"Aes"})]})}),l.jsx("tbody",{children:x.map(b=>{var y,g;return l.jsxs("tr",{children:[l.jsxs("td",{style:{fontWeight:"bold",color:"var(--color-text-light)"},children:["#",h(b.role)]}),l.jsx("td",{children:b.name||"-"}),l.jsx("td",{children:b.email}),l.jsx("td",{children:l.jsx("span",{className:"badge badge-neutral",children:b.role})}),l.jsxs("td",{style:{fontSize:"0.9rem",color:"var(--color-text-medium)"},children:[((y=b.commission_split)==null?void 0:y.start)||0,"% / ",((g=b.commission_split)==null?void 0:g.recorrente)||0,"%"]}),l.jsx("td",{children:l.jsx("button",{onClick:()=>o(b),className:"btn btn-secondary",style:{padding:"0.3rem 0.6rem",fontSize:"0.8rem"},children:"Editar"})})]},b.id)})})]})})]}),i&&l.jsx(Hk,{user:i,onClose:()=>o(null),onSave:v})]})}function Fk({invoice:e,ucs:t,onClose:r,onSave:n}){const{profile:a}=pn(),i=["super_admin","admin","manager"].includes(a==null?void 0:a.role),[o,s]=p.useState({uc_id:"",mes_referencia:new Date().toISOString().substring(0,7),vencimento:"",consumo_kwh:"",iluminacao_publica:"",tarifa_minima:"",outros_lancamentos:"",status:"a_vencer",valor_a_pagar:"",economia_reais:"",consumo_reais:""}),[c,u]=p.useState(null),[d,f]=p.useState(!1),[h,m]=p.useState(!1),v=_=>!_&&_!==0?"R$ 0,00":Number(_).toLocaleString("pt-BR",{style:"currency",currency:"BRL"}),x=_=>_?typeof _=="number"?_:Number(_.replace(/\D/g,""))/100:0;p.useEffect(()=>{if(e){if(s({uc_id:e.uc_id,mes_referencia:e.mes_referencia?e.mes_referencia.substring(0,7):"",vencimento:e.vencimento?e.vencimento.split("T")[0]:"",consumo_kwh:e.consumo_kwh,iluminacao_publica:e.iluminacao_publica?v(e.iluminacao_publica):"",tarifa_minima:e.tarifa_minima?v(e.tarifa_minima):"",outros_lancamentos:e.outros_lancamentos?v(e.outros_lancamentos):"",valor_a_pagar:v(e.valor_a_pagar),economia_reais:v(e.economia_reais),consumo_reais:e.consumo_reais?v(e.consumo_reais):"",status:e.status}),t){const _=t.find(j=>j.id===e.uc_id);u(_)}}else t&&t.length>0&&(s(_=>({..._,uc_id:t[0].id})),u(t[0]))},[e,t]),p.useEffect(()=>{if(o.uc_id&&t){const _=t.find(j=>j.id===o.uc_id);u(_)}},[o.uc_id,t]),p.useEffect(()=>{if(o.consumo_kwh&&c){const _=Number(o.consumo_kwh);x(String(c.tarifa_concessionaria||"0"));const j=Number(c.tarifa_concessionaria)||0,S=Number(c.desconto_assinante)||0,C=_*j;let E=0;const T=S>1?S/100:S;E=C*T;const A=C-E,R=x(o.iluminacao_publica),k=x(o.tarifa_minima),z=x(o.outros_lancamentos),$=A+R+k+z;s(H=>({...H,economia_reais:v(E),consumo_reais:v(A),valor_a_pagar:v($)}))}},[o.consumo_kwh,o.iluminacao_publica,o.tarifa_minima,o.outros_lancamentos,c]);const b=(_,j)=>{const S=j.replace(/\D/g,""),E=(Number(S)/100).toLocaleString("pt-BR",{style:"currency",currency:"BRL"});s(T=>({...T,[_]:E}))},y=(_,j)=>{const S=o.mes_referencia.split("-");let C=S[0]||new Date().getFullYear(),E=S[1]||"01";_==="month"&&(E=j),_==="year"&&(C=j),s(T=>({...T,mes_referencia:`${C}-${E}`}))},g=async()=>{if(!(e!=null&&e.id)){alert("Salve a fatura antes de emitir o boleto.");return}if(confirm("Gerar boleto Asaas agora?")){m(!0);try{const _=await Gh(e.id);_.url&&(alert("Boleto gerado com sucesso!"),window.open(_.url,"_blank"),n(),r())}catch(_){console.error(_),alert("Erro ao gerar boleto: "+_.message)}finally{m(!1)}}},w=async _=>{_.preventDefault(),f(!0);try{const j={uc_id:o.uc_id,mes_referencia:`${o.mes_referencia}-01`,vencimento:o.vencimento,consumo_kwh:Number(o.consumo_kwh),consumo_reais:x(o.consumo_reais),iluminacao_publica:x(o.iluminacao_publica),tarifa_minima:x(o.tarifa_minima),outros_lancamentos:x(o.outros_lancamentos),valor_a_pagar:x(o.valor_a_pagar),economia_reais:x(o.economia_reais),status:o.status};if(!j.uc_id)throw new Error("Selecione uma Unidade Consumidora.");let S;if(e!=null&&e.id?S=await I.from("invoices").update(j).eq("id",e.id).select().single():S=await I.from("invoices").insert(j).select().single(),S.error)throw S.error;n(),r()}catch(j){alert("Erro ao salvar fatura: "+j.message)}finally{f(!1)}};return l.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.6)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3,backdropFilter:"blur(4px)"},children:l.jsxs("div",{style:{background:"#f8fafc",borderRadius:"12px",width:"95%",maxWidth:"800px",maxHeight:"95vh",overflowY:"auto",boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.25)"},children:[l.jsxs("div",{style:{padding:"1.5rem",background:"white",borderBottom:"1px solid #e2e8f0",display:"flex",justifyContent:"space-between",alignItems:"center",borderTopLeftRadius:"12px",borderTopRightRadius:"12px"},children:[l.jsxs("div",{children:[l.jsx("h3",{style:{fontSize:"1.25rem",color:"#1e293b",fontWeight:"bold"},children:e?"Editar Fatura":"Nova Fatura"}),l.jsx("p",{style:{color:"#64748b",fontSize:"0.9rem"},children:"Preencha os dados de consumo e valores"})]}),l.jsx("button",{onClick:r,style:{background:"none",border:"none",fontSize:"1.5rem",cursor:"pointer",color:"#94a3b8"},children:""})]}),l.jsxs("form",{onSubmit:w,style:{padding:"1.5rem"},children:[l.jsxs("div",{style:{marginBottom:"1.5rem"},children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.4rem",color:"#475569",fontWeight:600},children:"Unidade Consumidora"}),l.jsxs("select",{required:!0,value:o.uc_id,onChange:_=>s({...o,uc_id:_.target.value}),disabled:!!e,style:{width:"100%",padding:"0.7rem",border:"1px solid #cbd5e1",borderRadius:"6px",fontSize:"0.95rem",background:"white"},children:[l.jsx("option",{value:"",children:"Selecione a UC..."}),t&&t.map(_=>l.jsxs("option",{value:_.id,children:[_.numero_uc," - ",_.titular_conta]},_.id))]}),c&&l.jsxs("div",{style:{marginTop:"0.5rem",fontSize:"0.85rem",color:"#3b82f6",background:"#eff6ff",padding:"0.5rem",borderRadius:"4px",display:"inline-flex",gap:"1rem"},children:[l.jsxs("span",{children:[l.jsx("strong",{children:"Tarifa:"})," R$ ",Number(c.tarifa_concessionaria||0).toFixed(4)]}),l.jsxs("span",{children:[l.jsx("strong",{children:"Desconto:"})," ",c.desconto_assinante||0,"%"]})]})]}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"1rem",marginBottom:"1.5rem"},children:[l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.4rem",color:"#475569",fontWeight:600},children:"Ms Referncia"}),l.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[l.jsx("select",{value:o.mes_referencia.split("-")[1],onChange:_=>y("month",_.target.value),style:{flex:1,padding:"0.6rem",border:"1px solid #cbd5e1",borderRadius:"6px"},children:["01","02","03","04","05","06","07","08","09","10","11","12"].map((_,j)=>l.jsx("option",{value:_,children:["Jan","Fev","Mar","Abr","Mai","Jun","Jul","Ago","Set","Out","Nov","Dez"][j]},_))}),l.jsx("select",{value:o.mes_referencia.split("-")[0],onChange:_=>y("year",_.target.value),style:{width:"80px",padding:"0.6rem",border:"1px solid #cbd5e1",borderRadius:"6px"},children:Array.from({length:5},(_,j)=>new Date().getFullYear()-1+j).map(_=>l.jsx("option",{value:_,children:_},_))})]})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.4rem",color:"#475569",fontWeight:600},children:"Vencimento"}),l.jsx("input",{type:"date",required:!0,value:o.vencimento,onChange:_=>s({...o,vencimento:_.target.value}),style:{width:"100%",padding:"0.6rem",border:"1px solid #cbd5e1",borderRadius:"6px"}})]}),i&&l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.4rem",color:"#475569",fontWeight:600},children:"Status"}),l.jsxs("select",{value:o.status,onChange:_=>s({...o,status:_.target.value}),style:{width:"100%",padding:"0.6rem",border:"1px solid #cbd5e1",borderRadius:"6px"},children:[l.jsx("option",{value:"a_vencer",children:"A Vencer"}),l.jsx("option",{value:"pago",children:"Pago"}),l.jsx("option",{value:"atrasado",children:"Atrasado"})]})]})]}),l.jsx("div",{style:{height:"1px",background:"#e2e8f0",margin:"1rem 0"}}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"2rem"},children:[l.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:[l.jsxs("h4",{style:{color:"#334155",fontWeight:"bold",display:"flex",alignItems:"center",gap:"0.5rem"},children:[l.jsx(Zh,{size:18})," Dados de Consumo"]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.85rem",marginBottom:"0.3rem",color:"#64748b"},children:"Consumo (kWh)"}),l.jsx("input",{type:"number",step:"any",required:!0,value:o.consumo_kwh,onChange:_=>s({...o,consumo_kwh:_.target.value}),placeholder:"0",style:{width:"100%",padding:"0.6rem",border:"1px solid #cbd5e1",borderRadius:"6px"}})]}),l.jsxs("h4",{style:{color:"#334155",fontWeight:"bold",marginTop:"1rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:[l.jsx(Yh,{size:18})," Valores Adicionais"]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.85rem",marginBottom:"0.3rem",color:"#64748b"},children:"Iluminao Pblica (R$)"}),l.jsx("input",{type:"text",value:o.iluminacao_publica,onChange:_=>b("iluminacao_publica",_.target.value),placeholder:"R$ 0,00",style:{width:"100%",padding:"0.6rem",border:"1px solid #cbd5e1",borderRadius:"6px"}})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.85rem",marginBottom:"0.3rem",color:"#64748b"},children:"Tarifa Mnima (R$)"}),l.jsx("input",{type:"text",value:o.tarifa_minima,onChange:_=>b("tarifa_minima",_.target.value),placeholder:"R$ 0,00",style:{width:"100%",padding:"0.6rem",border:"1px solid #cbd5e1",borderRadius:"6px"}})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.85rem",marginBottom:"0.3rem",color:"#64748b"},children:"Outros Lanamentos (R$)"}),l.jsx("input",{type:"text",value:o.outros_lancamentos,onChange:_=>b("outros_lancamentos",_.target.value),placeholder:"R$ 0,00",style:{width:"100%",padding:"0.6rem",border:"1px solid #cbd5e1",borderRadius:"6px"}})]})]}),l.jsxs("div",{style:{background:"#f1f5f9",padding:"1.5rem",borderRadius:"8px",border:"1px solid #e2e8f0"},children:[l.jsxs("h4",{style:{color:"#334155",fontWeight:"bold",marginBottom:"1rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:[l.jsx(DI,{size:18})," Resumo do Clculo"]}),l.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"0.8rem"},children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"0.9rem"},children:[l.jsx("span",{style:{color:"#64748b"},children:"Consumo Bruto:"}),l.jsxs("span",{style:{fontWeight:600},children:["R$ ",(Number(o.consumo_kwh)*(Number(c==null?void 0:c.tarifa_concessionaria)||0)).toFixed(2).replace(".",",")]})]}),l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"0.9rem",color:"#166534",background:"#dcfce7",padding:"0.5rem",borderRadius:"4px"},children:[l.jsx("span",{children:"Economia Gerada:"}),l.jsxs("span",{style:{fontWeight:"bold"},children:["- ",o.economia_reais||"R$ 0,00"]})]}),l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"0.9rem"},children:[l.jsx("span",{style:{color:"#64748b"},children:"Consumo Lquido (R$):"}),l.jsx("span",{style:{fontWeight:600},children:o.consumo_reais||"R$ 0,00"})]}),l.jsx("div",{style:{height:"1px",background:"#cbd5e1",margin:"0.5rem 0"}}),l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"0.9rem"},children:[l.jsx("span",{style:{color:"#64748b"},children:"+ Ilum. Pblica:"}),l.jsx("span",{children:o.iluminacao_publica||"R$ 0,00"})]}),l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"0.9rem"},children:[l.jsx("span",{style:{color:"#64748b"},children:"+ Tarifa Mnima:"}),l.jsx("span",{children:o.tarifa_minima||"R$ 0,00"})]}),l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:"0.9rem"},children:[l.jsx("span",{style:{color:"#64748b"},children:"+ Outros:"}),l.jsx("span",{children:o.outros_lancamentos||"R$ 0,00"})]}),l.jsxs("div",{style:{marginTop:"1rem",paddingTop:"1rem",borderTop:"2px dashed #cbd5e1"},children:[l.jsx("label",{style:{display:"block",fontSize:"0.8rem",color:"#64748b",marginBottom:"0.2rem"},children:"Total a Pagar"}),l.jsx("div",{style:{fontSize:"1.8rem",fontWeight:"bold",color:"var(--color-blue)"},children:o.valor_a_pagar||"R$ 0,00"})]})]})]})]}),l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:"2rem",paddingTop:"1.5rem",borderTop:"1px solid #e2e8f0"},children:[l.jsxs("div",{children:[(e==null?void 0:e.id)&&!e.asaas_boleto_url&&l.jsx("button",{type:"button",onClick:g,disabled:h,style:{display:"flex",alignItems:"center",gap:"0.5rem",background:"#fff7ed",color:"#c2410c",border:"1px solid #ffedd5",padding:"0.6rem 1rem",borderRadius:"6px",cursor:"pointer",fontWeight:"bold",fontSize:"0.9rem"},children:h?"Gerando...":l.jsxs(l.Fragment,{children:[l.jsx(eu,{size:18})," Emitir Boleto Agora"]})}),(e==null?void 0:e.asaas_boleto_url)&&l.jsxs("a",{href:e.asaas_boleto_url,target:"_blank",rel:"noreferrer",style:{display:"flex",alignItems:"center",gap:"0.5rem",color:"#166534",fontWeight:"bold",textDecoration:"none"},children:[l.jsx(fi,{size:18})," Ver Boleto Emitido"]})]}),l.jsxs("div",{style:{display:"flex",gap:"1rem"},children:[l.jsx("button",{type:"button",onClick:r,style:{padding:"0.8rem 1.5rem",background:"white",border:"1px solid #cbd5e1",borderRadius:"6px",cursor:"pointer",color:"#475569",fontWeight:600},children:"Cancelar"}),l.jsx("button",{type:"submit",disabled:d,style:{padding:"0.8rem 2rem",background:"var(--color-blue)",color:"white",borderRadius:"6px",border:"none",cursor:"pointer",fontWeight:"bold",boxShadow:"0 4px 6px -1px rgba(37, 99, 235, 0.2)"},children:d?"Salvando...":"Salvar Fatura"})]})]})]})]})})}function Q8(){var j;const{user:e,profile:t}=pn(),[r,n]=p.useState([]),[a,i]=p.useState([]),[o,s]=p.useState(!0),[c,u]=p.useState(null),[d,f]=p.useState(!1),[h,m]=p.useState(null),[v,x]=p.useState(!1),b=["super_admin","admin","manager"].includes(t==null?void 0:t.role);p.useEffect(()=>{e&&y()},[e]);const y=async()=>{try{s(!0);let S;const{data:C}=await I.from("subscribers").select("id, name").eq("profile_id",e.id).single();if(C){S=C.id,u(C.id);const{data:E}=await I.from("consumer_units").select("*").eq("subscriber_id",S);if(n(E||[]),E&&E.length>0){const T=E.map(R=>R.id),{data:A}=await I.from("invoices").select("*").in("uc_id",T).order("vencimento",{ascending:!1});i(A||[])}}else if(b){const{data:E}=await I.from("consumer_units").select("*");if(n(E||[]),E&&E.length>0){const{data:T}=await I.from("invoices").select("*").order("vencimento",{ascending:!1}).limit(50);i(T||[])}}}catch(S){console.error("Error fetching dashboard data:",S)}finally{s(!1)}},g=S=>{const C=a.find(E=>E.id===S.id);i(C?a.map(E=>E.id===S.id?S:E):[S,...a]),alert("Fatura salva com sucesso!")},w=a.reduce((S,C)=>S+(C.economia_reais||0),0),_=a[0];return l.jsxs("div",{children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"2rem"},children:[l.jsx("h2",{children:"Viso Geral do Assinante"}),l.jsx("div",{style:{display:"flex",gap:"1rem"},children:b&&l.jsxs(l.Fragment,{children:[l.jsx("button",{onClick:()=>x(!0),className:"btn btn-secondary",children:"+ Cadastrar UC"}),l.jsx("button",{onClick:()=>{m(null),f(!0)},className:"btn btn-primary",children:"+ Nova Fatura"})]})})]}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:"1rem",marginBottom:"2rem"},children:[l.jsxs("div",{className:"card",children:[l.jsx("h3",{style:{fontSize:"0.9rem",color:"var(--color-text-medium)",marginBottom:"0.5rem"},children:"Economia Acumulada"}),l.jsxs("p",{style:{fontSize:"1.8rem",fontWeight:"bold",color:"var(--color-success)"},children:["R$ ",w.toFixed(2)]})]}),l.jsxs("div",{className:"card",children:[l.jsx("h3",{style:{fontSize:"0.9rem",color:"var(--color-text-medium)",marginBottom:"0.5rem"},children:"ltima Fatura"}),l.jsx("p",{style:{fontSize:"1.8rem",fontWeight:"bold",color:"var(--color-blue)"},children:_?`R$ ${(j=_.valor_a_pagar)==null?void 0:j.toFixed(2)}`:"-"}),l.jsx("small",{style:{color:"var(--color-text-light)"},children:_?new Date(_.vencimento).toLocaleDateString():""})]}),l.jsxs("div",{className:"card",children:[l.jsx("h3",{style:{fontSize:"0.9rem",color:"var(--color-text-medium)",marginBottom:"0.5rem"},children:"Unidades Consumidoras"}),l.jsx("p",{style:{fontSize:"1.8rem",fontWeight:"bold",color:"var(--color-text-dark)"},children:r.length})]})]}),l.jsx("h3",{children:"Minhas Faturas"}),l.jsx("div",{className:"card",style:{padding:0,overflow:"hidden"},children:a.length===0?l.jsx("p",{style:{padding:"2rem",textAlign:"center",color:"var(--color-text-light)"},children:"Nenhuma fatura encontrada."}):l.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[l.jsx("thead",{children:l.jsxs("tr",{style:{background:"var(--color-bg-light)",textAlign:"left"},children:[l.jsx("th",{style:{padding:"1rem",color:"var(--color-text-medium)",fontWeight:"600",fontSize:"0.85rem"},children:"Vencimento"}),l.jsx("th",{style:{padding:"1rem",color:"var(--color-text-medium)",fontWeight:"600",fontSize:"0.85rem"},children:"Consumo"}),l.jsx("th",{style:{padding:"1rem",color:"var(--color-text-medium)",fontWeight:"600",fontSize:"0.85rem"},children:"Valor"}),l.jsx("th",{style:{padding:"1rem",color:"var(--color-text-medium)",fontWeight:"600",fontSize:"0.85rem"},children:"Economia"}),l.jsx("th",{style:{padding:"1rem",color:"var(--color-text-medium)",fontWeight:"600",fontSize:"0.85rem"},children:"Status"}),l.jsx("th",{style:{padding:"1rem",color:"var(--color-text-medium)",fontWeight:"600",fontSize:"0.85rem"},children:"Ao"})]})}),l.jsx("tbody",{children:a.map(S=>{var C,E;return l.jsxs("tr",{style:{borderBottom:"1px solid var(--color-border)"},children:[l.jsx("td",{style:{padding:"1rem",fontSize:"0.9rem"},children:new Date(S.vencimento).toLocaleDateString()}),l.jsxs("td",{style:{padding:"1rem",fontSize:"0.9rem"},children:[S.consumo_kwh," kWh"]}),l.jsxs("td",{style:{padding:"1rem",fontWeight:"bold",fontSize:"0.9rem"},children:["R$ ",(C=S.valor_a_pagar)==null?void 0:C.toFixed(2)]}),l.jsxs("td",{style:{padding:"1rem",color:"var(--color-success)",fontWeight:"bold",fontSize:"0.9rem"},children:["R$ ",(E=S.economia_reais)==null?void 0:E.toFixed(2)]}),l.jsx("td",{style:{padding:"1rem"},children:l.jsx("span",{className:`badge ${S.status==="pago"?"badge-success":"badge-error"}`,children:S.status==="pago"?"Pago":"A Vencer"})}),l.jsx("td",{style:{padding:"1rem"},children:b?l.jsx("button",{onClick:()=>{m(S),f(!0)},className:"btn btn-secondary",style:{padding:"0.3rem 0.8rem",fontSize:"0.8rem"},children:"Editar"}):l.jsx("button",{className:"btn btn-secondary",style:{padding:"0.3rem 0.8rem",fontSize:"0.8rem"},children:"Ver Boleto"})})]},S.id)})})]})}),d&&l.jsx(Fk,{invoice:h,ucs:r,onClose:()=>f(!1),onSave:g}),v&&l.jsx(ub,{consumerUnit:{subscriber_id:c},onClose:()=>x(!1),onSave:()=>{y(),x(!1)}})]})}function e$(){const{user:e,profile:t}=pn(),[r,n]=p.useState([]),[a,i]=p.useState([]),o=`${window.location.origin}/simulacao?id=${t==null?void 0:t.id}`;p.useEffect(()=>{async function u(){const{data:d}=await I.from("originators_v2").select("id, name, pix_key, pix_key_type").eq("user_id",e.id).single();if(d){const{data:f}=await I.from("leads").select("*").eq("originator_id",d.id);n(f||[]);const{data:h,error:m}=await I.from("commissions").select("*").eq("originator_id",d.id).order("reference_month",{ascending:!1});m||i(h||[])}}e&&u()},[e]);const s=()=>{navigator.clipboard.writeText(o),alert("Link copiado!")},c=async u=>{var h;if(u.status==="paid")return;if((t==null?void 0:t.role)!=="admin"&&(t==null?void 0:t.role)!=="super_admin"){alert("Apenas administradores podem realizar pagamentos.");return}const{data:d,error:f}=await I.from("originators_v2").select("pix_key, pix_key_type, name").eq("id",u.originator_id).single();if(f||!d){alert("Erro ao buscar dados do originador.");return}if(!d.pix_key){alert("Originador sem Chave Pix cadastrada.");return}if(confirm(`Confirmar pagamento de ${Number(u.total_value).toLocaleString("pt-BR",{style:"currency",currency:"BRL"})} via PIX para ${d.name}?`))try{const{data:m,error:v}=await I.functions.invoke("transfer-asaas-pix",{body:{value:u.total_value,pix_key:d.pix_key,pix_key_type:d.pix_key_type,description:`Comisso - ${new Date(u.reference_month).toLocaleDateString()}`,operationType:"PIX"}});if(v)throw v;if(!m.success)throw new Error(m.error||"Erro no pagamento");alert("Pagamento enviado! ID: "+((h=m.data)==null?void 0:h.id)),await I.from("commissions").update({status:"paid",payment_id:m.data.id,payment_date:new Date}).eq("id",u.id),window.location.reload()}catch(m){console.error(m),alert("Erro: "+m.message)}};return l.jsxs("div",{children:[l.jsx("h2",{children:"Painel do Originador"}),l.jsxs("div",{className:"card",style:{marginBottom:"2rem"},children:[l.jsx("h3",{style:{color:"var(--color-text-dark)",fontSize:"1.1rem"},children:"Seu Link de Indicao"}),l.jsxs("div",{style:{display:"flex",gap:"1rem",marginTop:"1rem"},children:[l.jsx("input",{value:o,readOnly:!0,className:"input",style:{background:"var(--color-bg-light)",color:"var(--color-text-medium)"}}),l.jsx("button",{onClick:s,className:"btn btn-accent",children:"Copiar"})]})]}),l.jsx("h3",{style:{marginBottom:"1rem"},children:"Meus Leads"}),l.jsx("div",{className:"card",style:{padding:0,overflow:"hidden"},children:l.jsx("div",{className:"table-container",children:l.jsxs("table",{className:"table",children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{children:"Nome"}),l.jsx("th",{children:"Status"}),l.jsx("th",{children:"Data"})]})}),l.jsxs("tbody",{children:[r.map(u=>l.jsxs("tr",{children:[l.jsx("td",{children:u.name}),l.jsx("td",{children:l.jsx("span",{className:"badge badge-neutral",children:u.status})}),l.jsx("td",{children:new Date(u.created_at).toLocaleDateString()})]},u.id)),r.length===0&&l.jsx("tr",{children:l.jsx("td",{colSpan:"3",style:{textAlign:"center",color:"var(--color-text-light)"},children:"Nenhum lead encontrado."})})]})]})})}),l.jsx("h3",{style:{marginTop:"2rem",marginBottom:"1rem"},children:"Extrato Financeiro (Comisses)"}),l.jsx("div",{className:"card",style:{padding:0,overflow:"hidden"},children:l.jsx("div",{className:"table-container",children:l.jsxs("table",{className:"table",children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{children:"Ms Ref."}),l.jsx("th",{children:"Faturas Proc."}),l.jsx("th",{children:"Valor (R$)"}),l.jsx("th",{children:"Status"}),l.jsx("th",{children:"Data Pagt."}),l.jsx("th",{children:"Aes"})]})}),l.jsx("tbody",{children:a.length===0?l.jsx("tr",{children:l.jsx("td",{colSpan:"6",style:{textAlign:"center",color:"var(--color-text-light)"},children:"Nenhuma comisso registrada."})}):a.map(u=>l.jsxs("tr",{children:[l.jsx("td",{children:new Date(u.reference_month).toLocaleDateString()}),l.jsx("td",{children:u.total_invoices}),l.jsx("td",{style:{fontWeight:"bold",color:"var(--color-success)"},children:Number(u.total_value).toLocaleString("pt-BR",{style:"currency",currency:"BRL"})}),l.jsx("td",{children:l.jsx("span",{className:`badge ${u.status==="paid"?"badge-success":"badge-warning"}`,children:u.status==="paid"?"Pago":"Pendente"})}),l.jsx("td",{children:u.payment_date?new Date(u.payment_date).toLocaleDateString():"-"}),l.jsx("td",{children:u.status!=="paid"&&((t==null?void 0:t.role)==="admin"||(t==null?void 0:t.role)==="super_admin")&&l.jsx("button",{onClick:()=>c(u),className:"btn",style:{background:"var(--color-success)",color:"white",padding:"0.3rem 0.8rem",fontSize:"0.8rem"},children:"Pagar"})})]},u.id))})]})})})]})}function t$(){const{user:e}=pn(),[t,r]=p.useState([]);return p.useEffect(()=>{async function n(){const{data:a}=await I.from("suppliers").select("id").eq("profile_id",e.id).single();if(a){const{data:i}=await I.from("usinas").select("*").eq("supplier_id",a.id);r(i||[])}}n()},[e]),l.jsxs("div",{children:[l.jsx("h2",{children:"Painel do Fornecedor"}),l.jsxs("div",{style:{padding:"1.5rem",background:"white",borderRadius:"8px",marginBottom:"2rem"},children:[l.jsx("h3",{children:"Minhas Usinas"}),l.jsxs("p",{style:{fontSize:"1.2rem",color:"#666"},children:[t.length," Usinas cadastradas"]})]}),l.jsx("div",{style:{display:"grid",gap:"1rem"},children:t.map(n=>l.jsxs("div",{style:{padding:"1rem",background:"white",borderLeft:"4px solid var(--color-orange)",borderRadius:"4px"},children:[l.jsx("h4",{children:n.name}),l.jsxs("p",{children:["Status: ",l.jsx("strong",{children:n.status})]}),l.jsxs("p",{children:["Potncia: ",n.potencia_kwp," KWp"]})]},n.id))})]})}function r$({lead:e,onClose:t,onSave:r,onDelete:n,onConvert:a}){const{profile:i}=pn(),[o,s]=p.useState([]),c=[{value:"simulacao",label:"Simulao"},{value:"indicado",label:"Indicado"},{value:"em_negociacao",label:"Em Negociao"},{value:"negocio_perdido",label:"Negcio Perdido"},{value:"ativo",label:"Ativo"},{value:"pago",label:"Pago"},{value:"convertido",label:"Convertido (Legado)"}],[u,d]=p.useState({name:"",status:"simulacao",phone:"",email:"",cep:"",rua:"",numero:"",complemento:"",bairro:"",cidade:"",uf:"",concessionaria:"",tarifa_concessionaria:"",consumo_kwh:"",desconto_assinante:"",originator_id:""}),[f,h]=p.useState(!1),[m,v]=p.useState(!1);p.useEffect(()=>{x(),e?d({name:e.name,status:e.status||"simulacao",phone:e.phone||"",email:e.email||"",cep:e.cep||"",rua:e.rua||"",numero:e.numero||"",complemento:e.complemento||"",bairro:e.bairro||"",cidade:e.cidade||"",uf:e.uf||"",concessionaria:e.concessionaria||"",tarifa_concessionaria:e.tarifa_concessionaria||"",consumo_kwh:e.consumo_kwh||"",desconto_assinante:e.desconto_assinante||"",originator_id:e.originator_id||""}):(i==null?void 0:i.role)==="originator"&&d(w=>({...w,originator_id:i.id}))},[e,i]);const x=async()=>{const{data:w}=await I.from("originators_v2").select("id, name").order("name");s(w||[])},b=async()=>{const w=u.cep.replace(/\D/g,"");if(w.length===8){v(!0);try{const _=await mn(w);let j={};if(_.ibge)try{const S=await Qc(_.ibge);S&&(j=S)}catch(S){console.error("Erro na oferta",S)}d(S=>({...S,rua:_.rua||"",bairro:_.bairro||"",cidade:_.cidade||"",uf:_.uf||"",concessionaria:(j==null?void 0:j.Concessionaria)||S.concessionaria||"",tarifa_concessionaria:(j==null?void 0:j["Tarifa Concessionaria"])||S.tarifa_concessionaria||"",tarifa_concessionaria:(j==null?void 0:j["Tarifa Concessionaria"])||S.tarifa_concessionaria||"",desconto_assinante:(()=>{let C=(j==null?void 0:j["Desconto Assinante"])||S.desconto_assinante||"";return C&&!isNaN(C)&&Number(C)>0&&Number(C)<1?Number(C)*100:C})()}))}catch(_){console.error("Erro ao buscar CEP:",_),alert("Erro ao buscar CEP. Verifique se digitou corretamente.")}finally{v(!1)}}},y=async w=>{if(w.preventDefault(),u.phone&&!eo(u.phone)){alert("Telefone invlido!");return}h(!0);try{const _={...u};_.tarifa_concessionaria=_.tarifa_concessionaria?Number(_.tarifa_concessionaria):null,_.consumo_kwh=_.consumo_kwh?Number(_.consumo_kwh):null,_.desconto_assinante=_.desconto_assinante?Number(_.desconto_assinante):null,_.originator_id===""&&(_.originator_id=null);let j;if(e!=null&&e.id?j=await I.from("leads").update(_).eq("id",e.id).select().single():j=await I.from("leads").insert(_).select().single(),j.error)throw j.error;if(_.status==="ativo"&&(!e||e.status!=="ativo")){const S=_.originator_id;if(S)try{const{data:C}=await I.from("originators_v2").select("phone, split_commission, name").eq("id",S).maybeSingle();if(C&&C.phone){const E=Number(_.consumo_kwh)||0,T=Number(_.tarifa_concessionaria)||.85;let A=Number(_.desconto_assinante)||15;A<1&&A>0&&(A=A*100);const R=E*T,k=R*(A/100),z=R-k,$=Number(C.split_commission)||0,O=(z*($/100)).toLocaleString("pt-BR",{style:"currency",currency:"BRL"}),D=`${_.name||"O Lead"}, aceitou o convite e est proximo de concluir o cadastro, em breve vc receber o seu cashback ${O}`;await Hv(C.phone,D),console.log("Notificao de ativao enviada para:",C.name)}}catch(C){console.error("Erro ao enviar notificao de ativao:",C)}}r(j.data),t()}catch(_){alert("Erro ao salvar lead: "+_.message)}finally{h(!1)}},g=async()=>{if(e!=null&&e.id&&confirm("Tem certeza que deseja excluir este lead? Esta ao no pode ser desfeita.")){h(!0);try{const{error:w}=await I.from("leads").delete().eq("id",e.id);if(w)throw w;n&&n(e.id),t()}catch(w){alert("Erro ao excluir lead: "+w.message)}finally{h(!1)}}};return l.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},children:l.jsxs("div",{style:{background:"white",padding:"2rem",borderRadius:"8px",width:"90%",maxWidth:"800px",maxHeight:"90vh",overflowY:"auto"},children:[l.jsx("h3",{style:{marginBottom:"1.5rem",borderBottom:"1px solid #eee",paddingBottom:"0.5rem"},children:e?"Editar Lead":"Novo Lead"}),l.jsxs("form",{onSubmit:y,style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:[l.jsx("div",{style:{gridColumn:"1 / -1",fontWeight:"bold",marginTop:"0.5rem",color:"var(--color-blue)"},children:"Dados do Lead"}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Status"}),l.jsx("select",{value:u.status,onChange:w=>d({...u,status:w.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"},children:c.map(w=>l.jsx("option",{value:w.value,children:w.label},w.value))})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Originador"}),l.jsxs("select",{value:u.originator_id,onChange:w=>d({...u,originator_id:w.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"},children:[l.jsx("option",{value:"",children:"Selecione..."}),o.map(w=>l.jsx("option",{value:w.id,children:w.name},w.id))]})]}),l.jsxs("div",{style:{gridColumn:"1 / -1"},children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Nome Completo"}),l.jsx("input",{required:!0,value:u.name,onChange:w=>d({...u,name:w.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Telefone"}),l.jsx("input",{placeholder:"55 xx xxxxx xxxx",value:u.phone,onChange:w=>d({...u,phone:w.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Email"}),l.jsx("input",{type:"email",value:u.email,onChange:w=>d({...u,email:w.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),l.jsx("div",{style:{gridColumn:"1 / -1",fontWeight:"bold",marginTop:"1rem",borderTop:"1px solid #eee",paddingTop:"1rem",color:"var(--color-blue)"},children:"Endereo e Instalao"}),l.jsxs("div",{style:{gridColumn:"1 / -1",display:"flex",gap:"1rem"},children:[l.jsxs("div",{style:{flex:1},children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"CEP (Busca)"}),l.jsx("input",{placeholder:"00000-000",value:u.cep,onChange:w=>d({...u,cep:w.target.value}),onBlur:b,style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px",background:m?"#f0f9ff":"white"}})]}),l.jsxs("div",{style:{flex:2},children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Cidade/UF"}),l.jsx("input",{value:`${u.cidade} - ${u.uf} `,disabled:!0,style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px",background:"#f9fafb"}})]})]}),l.jsxs("div",{style:{gridColumn:"1 / -1"},children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Rua"}),l.jsx("input",{value:u.rua,onChange:w=>d({...u,rua:w.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Nmero"}),l.jsx("input",{value:u.numero,onChange:w=>d({...u,numero:w.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Complemento"}),l.jsx("input",{value:u.complemento,onChange:w=>d({...u,complemento:w.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Bairro"}),l.jsx("input",{value:u.bairro,onChange:w=>d({...u,bairro:w.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),l.jsx("div",{style:{gridColumn:"1 / -1",fontWeight:"bold",marginTop:"1rem",borderTop:"1px solid #eee",paddingTop:"1rem",color:"var(--color-blue)"},children:"Dados de Energia e Oferta"}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Consumo Mdio (kWh)"}),l.jsx("input",{type:"number",value:u.consumo_kwh,onChange:w=>d({...u,consumo_kwh:w.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Concessionria"}),l.jsx("input",{value:u.concessionaria,onChange:w=>d({...u,concessionaria:w.target.value}),placeholder:"Busca automtica...",style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px",background:"#f8fdfce"}})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Tarifa (R$)"}),l.jsx("input",{type:"number",step:"0.0001",value:u.tarifa_concessionaria,onChange:w=>d({...u,tarifa_concessionaria:w.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Desconto Oferta (%)"}),l.jsx("input",{type:"number",step:"0.01",value:u.desconto_assinante,onChange:w=>d({...u,desconto_assinante:w.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem",color:"green",fontWeight:"bold"},children:"Economia Mensal Estimada (R$)"}),l.jsx("input",{value:(()=>{const w=Number(u.consumo_kwh)||0,_=Number(u.tarifa_concessionaria)||0,j=Number(u.desconto_assinante)||0;if(w&&_&&j){const C=w*_*(j/100);return isNaN(C)?"R$ 0,00":C.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})}return"R$ 0,00"})(),disabled:!0,style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px",background:"#e6fffa",color:"#047857",fontWeight:"bold"}})]}),l.jsxs("div",{style:{gridColumn:"1 / -1",display:"flex",justifyContent:"space-between",marginTop:"1.5rem",paddingTop:"1rem",borderTop:"1px solid #eee"},children:[l.jsx("div",{children:e&&n&&l.jsx("button",{type:"button",onClick:g,style:{padding:"0.5rem 1rem",background:"#fee2e2",color:"#dc2626",borderRadius:"4px",border:"1px solid #fecaca"},children:"Excluir"})}),l.jsxs("div",{style:{display:"flex",gap:"1rem"},children:[e&&e.status!=="convertido"&&a&&l.jsx("button",{type:"button",onClick:()=>{a(e),t()},style:{padding:"0.5rem 1rem",background:"white",color:"green",border:"1px solid green",borderRadius:"4px"},children:"Converter em Assinante"}),l.jsx("button",{type:"button",onClick:t,style:{padding:"0.5rem 1rem",background:"#ccc",borderRadius:"4px"},children:"Cancelar"}),l.jsx("button",{type:"submit",disabled:f,style:{padding:"0.5rem 1rem",background:"var(--color-blue)",color:"white",borderRadius:"4px"},children:f?"Salvando...":"Salvar Lead"})]})]})]})]})})}function Vk({subscriber:e,onClose:t,onSave:r,onDelete:n}){const{showAlert:a,showConfirm:i}=Gr(),{profile:o}=pn(),[s,c]=p.useState([]),[u,d]=p.useState([]),[f,h]=p.useState(!1),[m,v]=p.useState(!1),x=[{value:"ativacao",label:"Em Ativao"},{value:"ativo",label:"Ativo"},{value:"ativo_inadimplente",label:"Ativo (Inadimplente)"},{value:"transferido",label:"Transferido"},{value:"cancelado",label:"Cancelado"},{value:"cancelado_inadimplente",label:"Cancelado (Inadimplente)"}],[b,y]=p.useState({name:"",cpf_cnpj:"",status:"ativacao",phone:"",email:"",cep:"",rua:"",numero:"",complemento:"",bairro:"",cidade:"",uf:"",originator_id:""}),[g,w]=p.useState(!1),[_,j]=p.useState(!1),[S,C]=p.useState(!1);p.useEffect(()=>{E()},[]),p.useEffect(()=>{e&&(y({name:e.name||"",cpf_cnpj:e.cpf_cnpj||"",status:e.status||"ativacao",phone:e.phone||"",email:e.email||"",cep:e.cep||"",rua:e.rua||"",numero:e.numero||"",complemento:e.complemento||"",bairro:e.bairro||"",cidade:e.cidade||"",uf:e.uf||"",originator_id:e.originator_id||""}),T(e.id))},[e==null?void 0:e.id]);const E=async()=>{const{data:O}=await I.from("originators_v2").select("id, name").order("name");c(O||[])},T=async O=>{const{data:N}=await I.from("consumer_units").select("*").eq("subscriber_id",O);d(N||[])},A=async()=>{const O=b.cep.replace(/\D/g,"");if(O.length===8){j(!0);try{const N=await mn(O);y(D=>({...D,rua:N.rua||"",bairro:N.bairro||"",cidade:N.cidade||"",uf:N.uf||""}))}catch(N){console.error("Erro ao buscar CEP:",N),alert("Erro ao buscar CEP. Verifique se digitou corretamente.")}finally{j(!1)}}},R=async()=>{const O=b.cpf_cnpj.replace(/\D/g,"");if(O.length>11){C(!0);try{const N=await xc(O);N.nome&&y(D=>{var M,L,V,K,Q,ee,re;return{...D,name:N.nome||D.name,email:N.email||D.email,phone:N.telefone?hi(N.telefone):D.phone,cep:((M=N.address)==null?void 0:M.cep)||D.cep,rua:((L=N.address)==null?void 0:L.logradouro)||D.rua,numero:((V=N.address)==null?void 0:V.numero)||D.numero,complemento:((K=N.address)==null?void 0:K.complemento)||D.complemento,bairro:((Q=N.address)==null?void 0:Q.bairro)||D.bairro,cidade:((ee=N.address)==null?void 0:ee.municipio)||D.cidade,uf:((re=N.address)==null?void 0:re.uf)||D.uf}})}catch(N){console.error("Erro buscar doc",N)}finally{C(!1)}}else if(O.length===11){C(!0);try{const N=await xc(O);N.nome&&y(D=>({...D,name:N.nome}))}catch(N){console.error("Erro buscar doc",N)}finally{C(!1)}}},k=async()=>{if(!(e!=null&&e.id)){a("Salve o assinante antes de gerar boletos.","warning");return}if(await i(`Gerar boleto CONSOLIDADO (todas as faturas pendentes) para ${b.name}?`)){h(!0);try{const N=await Gh(e.id,"subscriber");N.url&&(a("Boleto consolidado gerado com sucesso!","success"),window.open(N.url,"_blank"))}catch(N){console.error(N),a("Erro: "+(N.message||"Falha ao gerar boleto. Verifique se h faturas pendentes."),"error")}finally{h(!1)}}},z=async O=>{if(O.preventDefault(),!nu(b.cpf_cnpj)){a("CPF/CNPJ invlido!","warning");return}if(b.phone&&!eo(b.phone)){a("Telefone invlido!","warning");return}w(!0);try{const N=b.cpf_cnpj.replace(/\D/g,"");let D=I.from("subscribers").select("id").eq("cpf_cnpj",b.cpf_cnpj);e!=null&&e.id&&(D=D.neq("id",e.id));const{data:M,error:L}=await D;if(L)throw L;if(M&&M.length>0)throw new Error("J existe um assinante cadastrado com este CPF/CNPJ.");console.log("Syncing with Asaas...");let V=null,K=!1;try{const re=await zk({id:e==null?void 0:e.asaas_customer_id,name:b.name,cpfCnpj:b.cpf_cnpj,email:b.email,phone:b.phone,postalCode:b.cep,addressNumber:b.numero,address:b.rua,province:b.bairro});if(!re||!re.success)throw new Error((re==null?void 0:re.error)||"Erro desconhecido");V=re.asaas_id,K=!0}catch(re){if(console.error("Asaas Sync Error:",re),!await i(`Falha ao sincronizar com Asaas: ${re.message}.

Deseja salvar apenas no CRM (Localmente)?`,"Erro de Sincronizao","Salvar Localmente","Corrigir Dados")){w(!1);return}}const Q={...b};V&&(Q.asaas_customer_id=V),Q.originator_id===""&&(Q.originator_id=null);let ee;if(e!=null&&e.id?ee=await I.from("subscribers").update(Q).eq("id",e.id).select().single():ee=await I.from("subscribers").insert(Q).select().single(),ee.error)throw ee.error;K?a("Cliente salvo e sincronizado com Asaas!","success"):a("Cliente salvo APENAS LOCALMENTE (Erro Asaas ignorado).","warning");try{let re=null;if(Q.status==="ativacao"?re="em_negociacao":Q.status==="ativo"&&(re="ativo"),re&&Q.email){const{data:Se,error:Re}=await I.from("leads").select("id, status").eq("email",Q.email).order("created_at",{ascending:!1}).limit(1);if(!Re&&Se&&Se.length>0){const U=Se[0];if(U.status!==re){const{error:P}=await I.from("leads").update({status:re}).eq("id",U.id);P?console.error("Error auto-updating lead status:",P):console.log(`Lead ${U.id} auto-updated to ${re}`)}}}}catch(re){console.error("Lead sync error:",re)}r(ee.data),t()}catch(N){console.error(N),a("Erro ao salvar assinante: "+N.message,"error")}finally{w(!1)}},$=async()=>{if(!(!(e!=null&&e.id)||!await i("Tem certeza que deseja excluir este assinante?","Excluir Assinante","Excluir","Cancelar"))){w(!0);try{const{error:N}=await I.from("subscribers").delete().eq("id",e.id);if(N)throw N;n&&n(e.id),t()}catch(N){a("Erro ao excluir: "+N.message,"error")}finally{w(!1)}}},H=async O=>{if(await i("Deseja desvincular esta UC do assinante? A UC no ser excluda, apenas removida deste cliente.","Desvincular UC"))try{const{error:D}=await I.from("consumer_units").update({subscriber_id:null}).eq("id",O);if(D)throw D;T(e.id),a("UC desvinculada com sucesso!","success")}catch(D){console.error(D),a("Erro ao desvincular UC: "+D.message,"error")}};return l.jsxs("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},children:[l.jsxs("div",{style:{background:"white",padding:"2rem",borderRadius:"8px",width:"90%",maxWidth:"900px",maxHeight:"90vh",overflowY:"auto"},children:[l.jsx("h3",{style:{marginBottom:"1.5rem",borderBottom:"1px solid #eee",paddingBottom:"0.5rem"},children:e?"Editar Assinante":"Novo Assinante"}),l.jsxs("form",{onSubmit:z,style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:[l.jsx("div",{style:{gridColumn:"1 / -1",fontWeight:"bold",marginTop:"0.5rem",color:"var(--color-blue)"},children:"Dados Cadastrais"}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Status"}),l.jsx("select",{value:b.status,onChange:O=>y({...b,status:O.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"},children:x.map(O=>l.jsx("option",{value:O.value,children:O.label},O.value))})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Originador"}),l.jsxs("select",{value:b.originator_id,onChange:O=>y({...b,originator_id:O.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"},children:[l.jsx("option",{value:"",children:"Selecione..."}),s.map(O=>l.jsx("option",{value:O.id,children:O.name},O.id))]})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"CPF/CNPJ (Busca Automtica)"}),l.jsx("div",{style:{display:"flex",gap:"0.5rem"},children:l.jsx("input",{value:b.cpf_cnpj,onChange:O=>y({...b,cpf_cnpj:ru(O.target.value)}),onBlur:R,placeholder:"000.000.000-00",style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px",background:S?"#f0f9ff":"white"},required:!0})})]}),l.jsxs("div",{style:{gridColumn:"1 / -1"},children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Nome Completo / Razo Social"}),l.jsx("input",{required:!0,value:b.name,onChange:O=>y({...b,name:O.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Email"}),l.jsx("input",{type:"email",value:b.email,onChange:O=>y({...b,email:O.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"},required:!0})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Telefone"}),l.jsx("input",{value:b.phone,onChange:O=>y({...b,phone:hi(O.target.value)}),placeholder:"(00) 00000-0000",style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),l.jsx("div",{style:{gridColumn:"1 / -1",fontWeight:"bold",marginTop:"1rem",borderTop:"1px solid #eee",paddingTop:"1rem",color:"var(--color-blue)"},children:"Endereo"}),l.jsxs("div",{style:{gridColumn:"1 / -1",display:"flex",gap:"1rem"},children:[l.jsxs("div",{style:{flex:1},children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"CEP (Busca)"}),l.jsx("input",{value:b.cep,onChange:O=>y({...b,cep:O.target.value}),onBlur:A,style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px",background:_?"#f0f9ff":"white"}})]}),l.jsxs("div",{style:{flex:2},children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Cidade/UF"}),l.jsx("input",{value:`${b.cidade} - ${b.uf}`,disabled:!0,style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px",background:"#f9fafb"}})]})]}),l.jsxs("div",{style:{gridColumn:"1 / -1"},children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Rua"}),l.jsx("input",{value:b.rua,onChange:O=>y({...b,rua:O.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Nmero"}),l.jsx("input",{value:b.numero,onChange:O=>y({...b,numero:O.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Complemento"}),l.jsx("input",{value:b.complemento,onChange:O=>y({...b,complemento:O.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Bairro"}),l.jsx("input",{value:b.bairro,onChange:O=>y({...b,bairro:O.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),l.jsxs("div",{style:{gridColumn:"1 / -1",fontWeight:"bold",marginTop:"1rem",borderTop:"1px solid #eee",paddingTop:"1rem",color:"var(--color-blue)",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[l.jsx("span",{children:"Unidades Consumidoras (UCs)"}),(e==null?void 0:e.id)&&l.jsxs("button",{type:"button",onClick:()=>v(!0),style:{display:"flex",alignItems:"center",gap:"0.3rem",background:"#ecfdf5",color:"#059669",border:"1px solid #d1fae5",padding:"0.4rem 0.8rem",borderRadius:"4px",cursor:"pointer",fontSize:"0.8rem"},children:[l.jsx(Vs,{size:16})," Cadastrar UCs"]})]}),l.jsx("div",{style:{gridColumn:"1 / -1"},children:u.length>0?l.jsx("ul",{style:{listStyle:"none",padding:0},children:u.map(O=>{var N;return l.jsxs("li",{style:{background:"#f8fafc",padding:"0.5rem",marginBottom:"0.5rem",borderRadius:"4px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[l.jsxs("div",{style:{flex:1},children:[l.jsxs("span",{children:["UC: ",O.numero_uc," - ",O.concessionaria]}),l.jsx("span",{style:{display:"block",fontSize:"0.8rem",color:"#666"},children:(N=O.status)==null?void 0:N.replace("_"," ").toUpperCase()})]}),l.jsx("button",{type:"button",onClick:()=>H(O.id),style:{padding:"0.3rem",background:"transparent",border:"none",color:"#a1a1aa",cursor:"pointer"},title:"Desvincular UC",children:l.jsx(tu,{size:16})})]},O.id)})}):l.jsx("p",{style:{color:"#999",fontSize:"0.9rem"},children:'Nenhuma UC vinculada. Voc pode adicionar UCs na tela de "Unidades Consumidoras" aps salvar.'})}),l.jsxs("div",{style:{gridColumn:"1 / -1",display:"flex",justifyContent:"space-between",marginTop:"1.5rem",paddingTop:"1rem",borderTop:"1px solid #eee",alignItems:"center"},children:[l.jsx("div",{children:(e==null?void 0:e.id)&&l.jsx("button",{type:"button",onClick:k,disabled:f,style:{display:"flex",alignItems:"center",gap:"0.5rem",background:"#fff7ed",color:"#c2410c",border:"1px solid #ffedd5",padding:"0.6rem 1rem",borderRadius:"4px",cursor:"pointer",fontWeight:"bold"},children:f?"Processando...":l.jsxs(l.Fragment,{children:[l.jsx(eu,{size:18})," Emitir Fatura Consolidada"]})})}),l.jsxs("div",{style:{display:"flex",gap:"1rem",alignItems:"center"},children:[e&&n&&l.jsx("button",{type:"button",onClick:$,style:{padding:"0.5rem 1rem",background:"#fee2e2",color:"#dc2626",borderRadius:"4px",border:"1px solid #fecaca",height:"fit-content"},children:"Excluir"}),l.jsx("button",{type:"button",onClick:t,style:{padding:"0.5rem 1rem",background:"#ccc",borderRadius:"4px"},children:"Cancelar"}),l.jsx("button",{type:"submit",disabled:g,style:{padding:"0.5rem 1rem",background:"var(--color-blue)",color:"white",borderRadius:"4px"},children:g?"Salvando...":"Salvar Assinante"})]})]})]})]}),m&&e&&l.jsx(ub,{consumerUnit:{subscriber_id:e.id},onClose:()=>v(!1),onSave:()=>{T(e.id),v(!1)}})]})}function n$(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return p.useMemo(()=>n=>{t.forEach(a=>a(n))},t)}const Jh=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Gs(e){const t=Object.prototype.toString.call(e);return t==="[object Window]"||t==="[object global]"}function db(e){return"nodeType"in e}function Yt(e){var t,r;return e?Gs(e)?e:db(e)&&(t=(r=e.ownerDocument)==null?void 0:r.defaultView)!=null?t:window:window}function fb(e){const{Document:t}=Yt(e);return e instanceof t}function au(e){return Gs(e)?!1:e instanceof Yt(e).HTMLElement}function Kk(e){return e instanceof Yt(e).SVGElement}function Ys(e){return e?Gs(e)?e.document:db(e)?fb(e)?e:au(e)||Kk(e)?e.ownerDocument:document:document:document}const ln=Jh?p.useLayoutEffect:p.useEffect;function Qh(e){const t=p.useRef(e);return ln(()=>{t.current=e}),p.useCallback(function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return t.current==null?void 0:t.current(...n)},[])}function a$(){const e=p.useRef(null),t=p.useCallback((n,a)=>{e.current=setInterval(n,a)},[]),r=p.useCallback(()=>{e.current!==null&&(clearInterval(e.current),e.current=null)},[]);return[t,r]}function wc(e,t){t===void 0&&(t=[e]);const r=p.useRef(e);return ln(()=>{r.current!==e&&(r.current=e)},t),r}function iu(e,t){const r=p.useRef();return p.useMemo(()=>{const n=e(r.current);return r.current=n,n},[...t])}function Ef(e){const t=Qh(e),r=p.useRef(null),n=p.useCallback(a=>{a!==r.current&&(t==null||t(a,r.current)),r.current=a},[]);return[r,n]}function Of(e){const t=p.useRef();return p.useEffect(()=>{t.current=e},[e]),t.current}let ag={};function ou(e,t){return p.useMemo(()=>{if(t)return t;const r=ag[e]==null?0:ag[e]+1;return ag[e]=r,e+"-"+r},[e,t])}function Gk(e){return function(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),a=1;a<r;a++)n[a-1]=arguments[a];return n.reduce((i,o)=>{const s=Object.entries(o);for(const[c,u]of s){const d=i[c];d!=null&&(i[c]=d+e*u)}return i},{...t})}}const ss=Gk(1),Af=Gk(-1);function i$(e){return"clientX"in e&&"clientY"in e}function em(e){if(!e)return!1;const{KeyboardEvent:t}=Yt(e.target);return t&&e instanceof t}function o$(e){if(!e)return!1;const{TouchEvent:t}=Yt(e.target);return t&&e instanceof t}function kf(e){if(o$(e)){if(e.touches&&e.touches.length){const{clientX:t,clientY:r}=e.touches[0];return{x:t,y:r}}else if(e.changedTouches&&e.changedTouches.length){const{clientX:t,clientY:r}=e.changedTouches[0];return{x:t,y:r}}}return i$(e)?{x:e.clientX,y:e.clientY}:null}const An=Object.freeze({Translate:{toString(e){if(!e)return;const{x:t,y:r}=e;return"translate3d("+(t?Math.round(t):0)+"px, "+(r?Math.round(r):0)+"px, 0)"}},Scale:{toString(e){if(!e)return;const{scaleX:t,scaleY:r}=e;return"scaleX("+t+") scaleY("+r+")"}},Transform:{toString(e){if(e)return[An.Translate.toString(e),An.Scale.toString(e)].join(" ")}},Transition:{toString(e){let{property:t,duration:r,easing:n}=e;return t+" "+r+"ms "+n}}}),T_="a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";function s$(e){return e.matches(T_)?e:e.querySelector(T_)}const l$={display:"none"};function c$(e){let{id:t,value:r}=e;return Ce.createElement("div",{id:t,style:l$},r)}function u$(e){let{id:t,announcement:r,ariaLiveType:n="assertive"}=e;const a={position:"fixed",top:0,left:0,width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0 0 0 0)",clipPath:"inset(100%)",whiteSpace:"nowrap"};return Ce.createElement("div",{id:t,style:a,role:"status","aria-live":n,"aria-atomic":!0},r)}function d$(){const[e,t]=p.useState("");return{announce:p.useCallback(n=>{n!=null&&t(n)},[]),announcement:e}}const Yk=p.createContext(null);function f$(e){const t=p.useContext(Yk);p.useEffect(()=>{if(!t)throw new Error("useDndMonitor must be used within a children of <DndContext>");return t(e)},[e,t])}function h$(){const[e]=p.useState(()=>new Set),t=p.useCallback(n=>(e.add(n),()=>e.delete(n)),[e]);return[p.useCallback(n=>{let{type:a,event:i}=n;e.forEach(o=>{var s;return(s=o[a])==null?void 0:s.call(o,i)})},[e]),t]}const m$={draggable:`
    To pick up a draggable item, press the space bar.
    While dragging, use the arrow keys to move the item.
    Press space again to drop the item in its new position, or press escape to cancel.
  `},p$={onDragStart(e){let{active:t}=e;return"Picked up draggable item "+t.id+"."},onDragOver(e){let{active:t,over:r}=e;return r?"Draggable item "+t.id+" was moved over droppable area "+r.id+".":"Draggable item "+t.id+" is no longer over a droppable area."},onDragEnd(e){let{active:t,over:r}=e;return r?"Draggable item "+t.id+" was dropped over droppable area "+r.id:"Draggable item "+t.id+" was dropped."},onDragCancel(e){let{active:t}=e;return"Dragging was cancelled. Draggable item "+t.id+" was dropped."}};function g$(e){let{announcements:t=p$,container:r,hiddenTextDescribedById:n,screenReaderInstructions:a=m$}=e;const{announce:i,announcement:o}=d$(),s=ou("DndLiveRegion"),[c,u]=p.useState(!1);if(p.useEffect(()=>{u(!0)},[]),f$(p.useMemo(()=>({onDragStart(f){let{active:h}=f;i(t.onDragStart({active:h}))},onDragMove(f){let{active:h,over:m}=f;t.onDragMove&&i(t.onDragMove({active:h,over:m}))},onDragOver(f){let{active:h,over:m}=f;i(t.onDragOver({active:h,over:m}))},onDragEnd(f){let{active:h,over:m}=f;i(t.onDragEnd({active:h,over:m}))},onDragCancel(f){let{active:h,over:m}=f;i(t.onDragCancel({active:h,over:m}))}}),[i,t])),!c)return null;const d=Ce.createElement(Ce.Fragment,null,Ce.createElement(c$,{id:n,value:a.draggable}),Ce.createElement(u$,{id:s,announcement:o}));return r?Ha.createPortal(d,r):d}var ct;(function(e){e.DragStart="dragStart",e.DragMove="dragMove",e.DragEnd="dragEnd",e.DragCancel="dragCancel",e.DragOver="dragOver",e.RegisterDroppable="registerDroppable",e.SetDroppableDisabled="setDroppableDisabled",e.UnregisterDroppable="unregisterDroppable"})(ct||(ct={}));function Tf(){}function hb(e,t){return p.useMemo(()=>({sensor:e,options:t??{}}),[e,t])}function mb(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return p.useMemo(()=>[...t].filter(n=>n!=null),[...t])}const cn=Object.freeze({x:0,y:0});function v$(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function y$(e,t){const r=kf(e);if(!r)return"0 0";const n={x:(r.x-t.left)/t.width*100,y:(r.y-t.top)/t.height*100};return n.x+"% "+n.y+"%"}function b$(e,t){let{data:{value:r}}=e,{data:{value:n}}=t;return r-n}function x$(e,t){let{data:{value:r}}=e,{data:{value:n}}=t;return n-r}function N_(e){let{left:t,top:r,height:n,width:a}=e;return[{x:t,y:r},{x:t+a,y:r},{x:t,y:r+n},{x:t+a,y:r+n}]}function w$(e,t){if(!e||e.length===0)return null;const[r]=e;return r[t]}const pb=e=>{let{collisionRect:t,droppableRects:r,droppableContainers:n}=e;const a=N_(t),i=[];for(const o of n){const{id:s}=o,c=r.get(s);if(c){const u=N_(c),d=a.reduce((h,m,v)=>h+v$(u[v],m),0),f=Number((d/4).toFixed(4));i.push({id:s,data:{droppableContainer:o,value:f}})}}return i.sort(b$)};function _$(e,t){const r=Math.max(t.top,e.top),n=Math.max(t.left,e.left),a=Math.min(t.left+t.width,e.left+e.width),i=Math.min(t.top+t.height,e.top+e.height),o=a-n,s=i-r;if(n<a&&r<i){const c=t.width*t.height,u=e.width*e.height,d=o*s,f=d/(c+u-d);return Number(f.toFixed(4))}return 0}const j$=e=>{let{collisionRect:t,droppableRects:r,droppableContainers:n}=e;const a=[];for(const i of n){const{id:o}=i,s=r.get(o);if(s){const c=_$(s,t);c>0&&a.push({id:o,data:{droppableContainer:i,value:c}})}}return a.sort(x$)};function S$(e,t,r){return{...e,scaleX:t&&r?t.width/r.width:1,scaleY:t&&r?t.height/r.height:1}}function Xk(e,t){return e&&t?{x:e.left-t.left,y:e.top-t.top}:cn}function C$(e){return function(r){for(var n=arguments.length,a=new Array(n>1?n-1:0),i=1;i<n;i++)a[i-1]=arguments[i];return a.reduce((o,s)=>({...o,top:o.top+e*s.y,bottom:o.bottom+e*s.y,left:o.left+e*s.x,right:o.right+e*s.x}),{...r})}}const E$=C$(1);function Zk(e){if(e.startsWith("matrix3d(")){const t=e.slice(9,-1).split(/, /);return{x:+t[12],y:+t[13],scaleX:+t[0],scaleY:+t[5]}}else if(e.startsWith("matrix(")){const t=e.slice(7,-1).split(/, /);return{x:+t[4],y:+t[5],scaleX:+t[0],scaleY:+t[3]}}return null}function O$(e,t,r){const n=Zk(t);if(!n)return e;const{scaleX:a,scaleY:i,x:o,y:s}=n,c=e.left-o-(1-a)*parseFloat(r),u=e.top-s-(1-i)*parseFloat(r.slice(r.indexOf(" ")+1)),d=a?e.width/a:e.width,f=i?e.height/i:e.height;return{width:d,height:f,top:u,right:c+d,bottom:u+f,left:c}}const A$={ignoreTransform:!1};function Xs(e,t){t===void 0&&(t=A$);let r=e.getBoundingClientRect();if(t.ignoreTransform){const{transform:u,transformOrigin:d}=Yt(e).getComputedStyle(e);u&&(r=O$(r,u,d))}const{top:n,left:a,width:i,height:o,bottom:s,right:c}=r;return{top:n,left:a,width:i,height:o,bottom:s,right:c}}function R_(e){return Xs(e,{ignoreTransform:!0})}function k$(e){const t=e.innerWidth,r=e.innerHeight;return{top:0,left:0,right:t,bottom:r,width:t,height:r}}function T$(e,t){return t===void 0&&(t=Yt(e).getComputedStyle(e)),t.position==="fixed"}function N$(e,t){t===void 0&&(t=Yt(e).getComputedStyle(e));const r=/(auto|scroll|overlay)/;return["overflow","overflowX","overflowY"].some(a=>{const i=t[a];return typeof i=="string"?r.test(i):!1})}function gb(e,t){const r=[];function n(a){if(t!=null&&r.length>=t||!a)return r;if(fb(a)&&a.scrollingElement!=null&&!r.includes(a.scrollingElement))return r.push(a.scrollingElement),r;if(!au(a)||Kk(a)||r.includes(a))return r;const i=Yt(e).getComputedStyle(a);return a!==e&&N$(a,i)&&r.push(a),T$(a,i)?r:n(a.parentNode)}return e?n(e):r}function Jk(e){const[t]=gb(e,1);return t??null}function ig(e){return!Jh||!e?null:Gs(e)?e:db(e)?fb(e)||e===Ys(e).scrollingElement?window:au(e)?e:null:null}function Qk(e){return Gs(e)?e.scrollX:e.scrollLeft}function eT(e){return Gs(e)?e.scrollY:e.scrollTop}function Fv(e){return{x:Qk(e),y:eT(e)}}var xt;(function(e){e[e.Forward=1]="Forward",e[e.Backward=-1]="Backward"})(xt||(xt={}));function tT(e){return!Jh||!e?!1:e===document.scrollingElement}function rT(e){const t={x:0,y:0},r=tT(e)?{height:window.innerHeight,width:window.innerWidth}:{height:e.clientHeight,width:e.clientWidth},n={x:e.scrollWidth-r.width,y:e.scrollHeight-r.height},a=e.scrollTop<=t.y,i=e.scrollLeft<=t.x,o=e.scrollTop>=n.y,s=e.scrollLeft>=n.x;return{isTop:a,isLeft:i,isBottom:o,isRight:s,maxScroll:n,minScroll:t}}const R$={x:.2,y:.2};function D$(e,t,r,n,a){let{top:i,left:o,right:s,bottom:c}=r;n===void 0&&(n=10),a===void 0&&(a=R$);const{isTop:u,isBottom:d,isLeft:f,isRight:h}=rT(e),m={x:0,y:0},v={x:0,y:0},x={height:t.height*a.y,width:t.width*a.x};return!u&&i<=t.top+x.height?(m.y=xt.Backward,v.y=n*Math.abs((t.top+x.height-i)/x.height)):!d&&c>=t.bottom-x.height&&(m.y=xt.Forward,v.y=n*Math.abs((t.bottom-x.height-c)/x.height)),!h&&s>=t.right-x.width?(m.x=xt.Forward,v.x=n*Math.abs((t.right-x.width-s)/x.width)):!f&&o<=t.left+x.width&&(m.x=xt.Backward,v.x=n*Math.abs((t.left+x.width-o)/x.width)),{direction:m,speed:v}}function P$(e){if(e===document.scrollingElement){const{innerWidth:i,innerHeight:o}=window;return{top:0,left:0,right:i,bottom:o,width:i,height:o}}const{top:t,left:r,right:n,bottom:a}=e.getBoundingClientRect();return{top:t,left:r,right:n,bottom:a,width:e.clientWidth,height:e.clientHeight}}function nT(e){return e.reduce((t,r)=>ss(t,Fv(r)),cn)}function M$(e){return e.reduce((t,r)=>t+Qk(r),0)}function z$(e){return e.reduce((t,r)=>t+eT(r),0)}function aT(e,t){if(t===void 0&&(t=Xs),!e)return;const{top:r,left:n,bottom:a,right:i}=t(e);Jk(e)&&(a<=0||i<=0||r>=window.innerHeight||n>=window.innerWidth)&&e.scrollIntoView({block:"center",inline:"center"})}const B$=[["x",["left","right"],M$],["y",["top","bottom"],z$]];class vb{constructor(t,r){this.rect=void 0,this.width=void 0,this.height=void 0,this.top=void 0,this.bottom=void 0,this.right=void 0,this.left=void 0;const n=gb(r),a=nT(n);this.rect={...t},this.width=t.width,this.height=t.height;for(const[i,o,s]of B$)for(const c of o)Object.defineProperty(this,c,{get:()=>{const u=s(n),d=a[i]-u;return this.rect[c]+d},enumerable:!0});Object.defineProperty(this,"rect",{enumerable:!1})}}class Xl{constructor(t){this.target=void 0,this.listeners=[],this.removeAll=()=>{this.listeners.forEach(r=>{var n;return(n=this.target)==null?void 0:n.removeEventListener(...r)})},this.target=t}add(t,r,n){var a;(a=this.target)==null||a.addEventListener(t,r,n),this.listeners.push([t,r,n])}}function I$(e){const{EventTarget:t}=Yt(e);return e instanceof t?e:Ys(e)}function og(e,t){const r=Math.abs(e.x),n=Math.abs(e.y);return typeof t=="number"?Math.sqrt(r**2+n**2)>t:"x"in t&&"y"in t?r>t.x&&n>t.y:"x"in t?r>t.x:"y"in t?n>t.y:!1}var Pr;(function(e){e.Click="click",e.DragStart="dragstart",e.Keydown="keydown",e.ContextMenu="contextmenu",e.Resize="resize",e.SelectionChange="selectionchange",e.VisibilityChange="visibilitychange"})(Pr||(Pr={}));function D_(e){e.preventDefault()}function $$(e){e.stopPropagation()}var pe;(function(e){e.Space="Space",e.Down="ArrowDown",e.Right="ArrowRight",e.Left="ArrowLeft",e.Up="ArrowUp",e.Esc="Escape",e.Enter="Enter",e.Tab="Tab"})(pe||(pe={}));const iT={start:[pe.Space,pe.Enter],cancel:[pe.Esc],end:[pe.Space,pe.Enter,pe.Tab]},L$=(e,t)=>{let{currentCoordinates:r}=t;switch(e.code){case pe.Right:return{...r,x:r.x+25};case pe.Left:return{...r,x:r.x-25};case pe.Down:return{...r,y:r.y+25};case pe.Up:return{...r,y:r.y-25}}};class oT{constructor(t){this.props=void 0,this.autoScrollEnabled=!1,this.referenceCoordinates=void 0,this.listeners=void 0,this.windowListeners=void 0,this.props=t;const{event:{target:r}}=t;this.props=t,this.listeners=new Xl(Ys(r)),this.windowListeners=new Xl(Yt(r)),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleCancel=this.handleCancel.bind(this),this.attach()}attach(){this.handleStart(),this.windowListeners.add(Pr.Resize,this.handleCancel),this.windowListeners.add(Pr.VisibilityChange,this.handleCancel),setTimeout(()=>this.listeners.add(Pr.Keydown,this.handleKeyDown))}handleStart(){const{activeNode:t,onStart:r}=this.props,n=t.node.current;n&&aT(n),r(cn)}handleKeyDown(t){if(em(t)){const{active:r,context:n,options:a}=this.props,{keyboardCodes:i=iT,coordinateGetter:o=L$,scrollBehavior:s="smooth"}=a,{code:c}=t;if(i.end.includes(c)){this.handleEnd(t);return}if(i.cancel.includes(c)){this.handleCancel(t);return}const{collisionRect:u}=n.current,d=u?{x:u.left,y:u.top}:cn;this.referenceCoordinates||(this.referenceCoordinates=d);const f=o(t,{active:r,context:n.current,currentCoordinates:d});if(f){const h=Af(f,d),m={x:0,y:0},{scrollableAncestors:v}=n.current;for(const x of v){const b=t.code,{isTop:y,isRight:g,isLeft:w,isBottom:_,maxScroll:j,minScroll:S}=rT(x),C=P$(x),E={x:Math.min(b===pe.Right?C.right-C.width/2:C.right,Math.max(b===pe.Right?C.left:C.left+C.width/2,f.x)),y:Math.min(b===pe.Down?C.bottom-C.height/2:C.bottom,Math.max(b===pe.Down?C.top:C.top+C.height/2,f.y))},T=b===pe.Right&&!g||b===pe.Left&&!w,A=b===pe.Down&&!_||b===pe.Up&&!y;if(T&&E.x!==f.x){const R=x.scrollLeft+h.x,k=b===pe.Right&&R<=j.x||b===pe.Left&&R>=S.x;if(k&&!h.y){x.scrollTo({left:R,behavior:s});return}k?m.x=x.scrollLeft-R:m.x=b===pe.Right?x.scrollLeft-j.x:x.scrollLeft-S.x,m.x&&x.scrollBy({left:-m.x,behavior:s});break}else if(A&&E.y!==f.y){const R=x.scrollTop+h.y,k=b===pe.Down&&R<=j.y||b===pe.Up&&R>=S.y;if(k&&!h.x){x.scrollTo({top:R,behavior:s});return}k?m.y=x.scrollTop-R:m.y=b===pe.Down?x.scrollTop-j.y:x.scrollTop-S.y,m.y&&x.scrollBy({top:-m.y,behavior:s});break}}this.handleMove(t,ss(Af(f,this.referenceCoordinates),m))}}}handleMove(t,r){const{onMove:n}=this.props;t.preventDefault(),n(r)}handleEnd(t){const{onEnd:r}=this.props;t.preventDefault(),this.detach(),r()}handleCancel(t){const{onCancel:r}=this.props;t.preventDefault(),this.detach(),r()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll()}}oT.activators=[{eventName:"onKeyDown",handler:(e,t,r)=>{let{keyboardCodes:n=iT,onActivation:a}=t,{active:i}=r;const{code:o}=e.nativeEvent;if(n.start.includes(o)){const s=i.activatorNode.current;return s&&e.target!==s?!1:(e.preventDefault(),a==null||a({event:e.nativeEvent}),!0)}return!1}}];function P_(e){return!!(e&&"distance"in e)}function M_(e){return!!(e&&"delay"in e)}class yb{constructor(t,r,n){var a;n===void 0&&(n=I$(t.event.target)),this.props=void 0,this.events=void 0,this.autoScrollEnabled=!0,this.document=void 0,this.activated=!1,this.initialCoordinates=void 0,this.timeoutId=null,this.listeners=void 0,this.documentListeners=void 0,this.windowListeners=void 0,this.props=t,this.events=r;const{event:i}=t,{target:o}=i;this.props=t,this.events=r,this.document=Ys(o),this.documentListeners=new Xl(this.document),this.listeners=new Xl(n),this.windowListeners=new Xl(Yt(o)),this.initialCoordinates=(a=kf(i))!=null?a:cn,this.handleStart=this.handleStart.bind(this),this.handleMove=this.handleMove.bind(this),this.handleEnd=this.handleEnd.bind(this),this.handleCancel=this.handleCancel.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.removeTextSelection=this.removeTextSelection.bind(this),this.attach()}attach(){const{events:t,props:{options:{activationConstraint:r,bypassActivationConstraint:n}}}=this;if(this.listeners.add(t.move.name,this.handleMove,{passive:!1}),this.listeners.add(t.end.name,this.handleEnd),t.cancel&&this.listeners.add(t.cancel.name,this.handleCancel),this.windowListeners.add(Pr.Resize,this.handleCancel),this.windowListeners.add(Pr.DragStart,D_),this.windowListeners.add(Pr.VisibilityChange,this.handleCancel),this.windowListeners.add(Pr.ContextMenu,D_),this.documentListeners.add(Pr.Keydown,this.handleKeydown),r){if(n!=null&&n({event:this.props.event,activeNode:this.props.activeNode,options:this.props.options}))return this.handleStart();if(M_(r)){this.timeoutId=setTimeout(this.handleStart,r.delay),this.handlePending(r);return}if(P_(r)){this.handlePending(r);return}}this.handleStart()}detach(){this.listeners.removeAll(),this.windowListeners.removeAll(),setTimeout(this.documentListeners.removeAll,50),this.timeoutId!==null&&(clearTimeout(this.timeoutId),this.timeoutId=null)}handlePending(t,r){const{active:n,onPending:a}=this.props;a(n,t,this.initialCoordinates,r)}handleStart(){const{initialCoordinates:t}=this,{onStart:r}=this.props;t&&(this.activated=!0,this.documentListeners.add(Pr.Click,$$,{capture:!0}),this.removeTextSelection(),this.documentListeners.add(Pr.SelectionChange,this.removeTextSelection),r(t))}handleMove(t){var r;const{activated:n,initialCoordinates:a,props:i}=this,{onMove:o,options:{activationConstraint:s}}=i;if(!a)return;const c=(r=kf(t))!=null?r:cn,u=Af(a,c);if(!n&&s){if(P_(s)){if(s.tolerance!=null&&og(u,s.tolerance))return this.handleCancel();if(og(u,s.distance))return this.handleStart()}if(M_(s)&&og(u,s.tolerance))return this.handleCancel();this.handlePending(s,u);return}t.cancelable&&t.preventDefault(),o(c)}handleEnd(){const{onAbort:t,onEnd:r}=this.props;this.detach(),this.activated||t(this.props.active),r()}handleCancel(){const{onAbort:t,onCancel:r}=this.props;this.detach(),this.activated||t(this.props.active),r()}handleKeydown(t){t.code===pe.Esc&&this.handleCancel()}removeTextSelection(){var t;(t=this.document.getSelection())==null||t.removeAllRanges()}}const U$={cancel:{name:"pointercancel"},move:{name:"pointermove"},end:{name:"pointerup"}};class su extends yb{constructor(t){const{event:r}=t,n=Ys(r.target);super(t,U$,n)}}su.activators=[{eventName:"onPointerDown",handler:(e,t)=>{let{nativeEvent:r}=e,{onActivation:n}=t;return!r.isPrimary||r.button!==0?!1:(n==null||n({event:r}),!0)}}];const q$={move:{name:"mousemove"},end:{name:"mouseup"}};var Vv;(function(e){e[e.RightClick=2]="RightClick"})(Vv||(Vv={}));class W$ extends yb{constructor(t){super(t,q$,Ys(t.event.target))}}W$.activators=[{eventName:"onMouseDown",handler:(e,t)=>{let{nativeEvent:r}=e,{onActivation:n}=t;return r.button===Vv.RightClick?!1:(n==null||n({event:r}),!0)}}];const sg={cancel:{name:"touchcancel"},move:{name:"touchmove"},end:{name:"touchend"}};class H$ extends yb{constructor(t){super(t,sg)}static setup(){return window.addEventListener(sg.move.name,t,{capture:!1,passive:!1}),function(){window.removeEventListener(sg.move.name,t)};function t(){}}}H$.activators=[{eventName:"onTouchStart",handler:(e,t)=>{let{nativeEvent:r}=e,{onActivation:n}=t;const{touches:a}=r;return a.length>1?!1:(n==null||n({event:r}),!0)}}];var Zl;(function(e){e[e.Pointer=0]="Pointer",e[e.DraggableRect=1]="DraggableRect"})(Zl||(Zl={}));var Nf;(function(e){e[e.TreeOrder=0]="TreeOrder",e[e.ReversedTreeOrder=1]="ReversedTreeOrder"})(Nf||(Nf={}));function F$(e){let{acceleration:t,activator:r=Zl.Pointer,canScroll:n,draggingRect:a,enabled:i,interval:o=5,order:s=Nf.TreeOrder,pointerCoordinates:c,scrollableAncestors:u,scrollableAncestorRects:d,delta:f,threshold:h}=e;const m=K$({delta:f,disabled:!i}),[v,x]=a$(),b=p.useRef({x:0,y:0}),y=p.useRef({x:0,y:0}),g=p.useMemo(()=>{switch(r){case Zl.Pointer:return c?{top:c.y,bottom:c.y,left:c.x,right:c.x}:null;case Zl.DraggableRect:return a}},[r,a,c]),w=p.useRef(null),_=p.useCallback(()=>{const S=w.current;if(!S)return;const C=b.current.x*y.current.x,E=b.current.y*y.current.y;S.scrollBy(C,E)},[]),j=p.useMemo(()=>s===Nf.TreeOrder?[...u].reverse():u,[s,u]);p.useEffect(()=>{if(!i||!u.length||!g){x();return}for(const S of j){if((n==null?void 0:n(S))===!1)continue;const C=u.indexOf(S),E=d[C];if(!E)continue;const{direction:T,speed:A}=D$(S,E,g,t,h);for(const R of["x","y"])m[R][T[R]]||(A[R]=0,T[R]=0);if(A.x>0||A.y>0){x(),w.current=S,v(_,o),b.current=A,y.current=T;return}}b.current={x:0,y:0},y.current={x:0,y:0},x()},[t,_,n,x,i,o,JSON.stringify(g),JSON.stringify(m),v,u,j,d,JSON.stringify(h)])}const V$={x:{[xt.Backward]:!1,[xt.Forward]:!1},y:{[xt.Backward]:!1,[xt.Forward]:!1}};function K$(e){let{delta:t,disabled:r}=e;const n=Of(t);return iu(a=>{if(r||!n||!a)return V$;const i={x:Math.sign(t.x-n.x),y:Math.sign(t.y-n.y)};return{x:{[xt.Backward]:a.x[xt.Backward]||i.x===-1,[xt.Forward]:a.x[xt.Forward]||i.x===1},y:{[xt.Backward]:a.y[xt.Backward]||i.y===-1,[xt.Forward]:a.y[xt.Forward]||i.y===1}}},[r,t,n])}function G$(e,t){const r=t!=null?e.get(t):void 0,n=r?r.node.current:null;return iu(a=>{var i;return t==null?null:(i=n??a)!=null?i:null},[n,t])}function Y$(e,t){return p.useMemo(()=>e.reduce((r,n)=>{const{sensor:a}=n,i=a.activators.map(o=>({eventName:o.eventName,handler:t(o.handler,n)}));return[...r,...i]},[]),[e,t])}var _c;(function(e){e[e.Always=0]="Always",e[e.BeforeDragging=1]="BeforeDragging",e[e.WhileDragging=2]="WhileDragging"})(_c||(_c={}));var Kv;(function(e){e.Optimized="optimized"})(Kv||(Kv={}));const z_=new Map;function X$(e,t){let{dragging:r,dependencies:n,config:a}=t;const[i,o]=p.useState(null),{frequency:s,measure:c,strategy:u}=a,d=p.useRef(e),f=b(),h=wc(f),m=p.useCallback(function(y){y===void 0&&(y=[]),!h.current&&o(g=>g===null?y:g.concat(y.filter(w=>!g.includes(w))))},[h]),v=p.useRef(null),x=iu(y=>{if(f&&!r)return z_;if(!y||y===z_||d.current!==e||i!=null){const g=new Map;for(let w of e){if(!w)continue;if(i&&i.length>0&&!i.includes(w.id)&&w.rect.current){g.set(w.id,w.rect.current);continue}const _=w.node.current,j=_?new vb(c(_),_):null;w.rect.current=j,j&&g.set(w.id,j)}return g}return y},[e,i,r,f,c]);return p.useEffect(()=>{d.current=e},[e]),p.useEffect(()=>{f||m()},[r,f]),p.useEffect(()=>{i&&i.length>0&&o(null)},[JSON.stringify(i)]),p.useEffect(()=>{f||typeof s!="number"||v.current!==null||(v.current=setTimeout(()=>{m(),v.current=null},s))},[s,f,m,...n]),{droppableRects:x,measureDroppableContainers:m,measuringScheduled:i!=null};function b(){switch(u){case _c.Always:return!1;case _c.BeforeDragging:return r;default:return!r}}}function bb(e,t){return iu(r=>e?r||(typeof t=="function"?t(e):e):null,[t,e])}function Z$(e,t){return bb(e,t)}function J$(e){let{callback:t,disabled:r}=e;const n=Qh(t),a=p.useMemo(()=>{if(r||typeof window>"u"||typeof window.MutationObserver>"u")return;const{MutationObserver:i}=window;return new i(n)},[n,r]);return p.useEffect(()=>()=>a==null?void 0:a.disconnect(),[a]),a}function tm(e){let{callback:t,disabled:r}=e;const n=Qh(t),a=p.useMemo(()=>{if(r||typeof window>"u"||typeof window.ResizeObserver>"u")return;const{ResizeObserver:i}=window;return new i(n)},[r]);return p.useEffect(()=>()=>a==null?void 0:a.disconnect(),[a]),a}function Q$(e){return new vb(Xs(e),e)}function B_(e,t,r){t===void 0&&(t=Q$);const[n,a]=p.useState(null);function i(){a(c=>{if(!e)return null;if(e.isConnected===!1){var u;return(u=c??r)!=null?u:null}const d=t(e);return JSON.stringify(c)===JSON.stringify(d)?c:d})}const o=J$({callback(c){if(e)for(const u of c){const{type:d,target:f}=u;if(d==="childList"&&f instanceof HTMLElement&&f.contains(e)){i();break}}}}),s=tm({callback:i});return ln(()=>{i(),e?(s==null||s.observe(e),o==null||o.observe(document.body,{childList:!0,subtree:!0})):(s==null||s.disconnect(),o==null||o.disconnect())},[e]),n}function eL(e){const t=bb(e);return Xk(e,t)}const I_=[];function tL(e){const t=p.useRef(e),r=iu(n=>e?n&&n!==I_&&e&&t.current&&e.parentNode===t.current.parentNode?n:gb(e):I_,[e]);return p.useEffect(()=>{t.current=e},[e]),r}function rL(e){const[t,r]=p.useState(null),n=p.useRef(e),a=p.useCallback(i=>{const o=ig(i.target);o&&r(s=>s?(s.set(o,Fv(o)),new Map(s)):null)},[]);return p.useEffect(()=>{const i=n.current;if(e!==i){o(i);const s=e.map(c=>{const u=ig(c);return u?(u.addEventListener("scroll",a,{passive:!0}),[u,Fv(u)]):null}).filter(c=>c!=null);r(s.length?new Map(s):null),n.current=e}return()=>{o(e),o(i)};function o(s){s.forEach(c=>{const u=ig(c);u==null||u.removeEventListener("scroll",a)})}},[a,e]),p.useMemo(()=>e.length?t?Array.from(t.values()).reduce((i,o)=>ss(i,o),cn):nT(e):cn,[e,t])}function $_(e,t){t===void 0&&(t=[]);const r=p.useRef(null);return p.useEffect(()=>{r.current=null},t),p.useEffect(()=>{const n=e!==cn;n&&!r.current&&(r.current=e),!n&&r.current&&(r.current=null)},[e]),r.current?Af(e,r.current):cn}function nL(e){p.useEffect(()=>{if(!Jh)return;const t=e.map(r=>{let{sensor:n}=r;return n.setup==null?void 0:n.setup()});return()=>{for(const r of t)r==null||r()}},e.map(t=>{let{sensor:r}=t;return r}))}function aL(e,t){return p.useMemo(()=>e.reduce((r,n)=>{let{eventName:a,handler:i}=n;return r[a]=o=>{i(o,t)},r},{}),[e,t])}function sT(e){return p.useMemo(()=>e?k$(e):null,[e])}const L_=[];function iL(e,t){t===void 0&&(t=Xs);const[r]=e,n=sT(r?Yt(r):null),[a,i]=p.useState(L_);function o(){i(()=>e.length?e.map(c=>tT(c)?n:new vb(t(c),c)):L_)}const s=tm({callback:o});return ln(()=>{s==null||s.disconnect(),o(),e.forEach(c=>s==null?void 0:s.observe(c))},[e]),a}function lT(e){if(!e)return null;if(e.children.length>1)return e;const t=e.children[0];return au(t)?t:e}function oL(e){let{measure:t}=e;const[r,n]=p.useState(null),a=p.useCallback(u=>{for(const{target:d}of u)if(au(d)){n(f=>{const h=t(d);return f?{...f,width:h.width,height:h.height}:h});break}},[t]),i=tm({callback:a}),o=p.useCallback(u=>{const d=lT(u);i==null||i.disconnect(),d&&(i==null||i.observe(d)),n(d?t(d):null)},[t,i]),[s,c]=Ef(o);return p.useMemo(()=>({nodeRef:s,rect:r,setRef:c}),[r,s,c])}const sL=[{sensor:su,options:{}},{sensor:oT,options:{}}],lL={current:{}},$d={draggable:{measure:R_},droppable:{measure:R_,strategy:_c.WhileDragging,frequency:Kv.Optimized},dragOverlay:{measure:Xs}};class Jl extends Map{get(t){var r;return t!=null&&(r=super.get(t))!=null?r:void 0}toArray(){return Array.from(this.values())}getEnabled(){return this.toArray().filter(t=>{let{disabled:r}=t;return!r})}getNodeFor(t){var r,n;return(r=(n=this.get(t))==null?void 0:n.node.current)!=null?r:void 0}}const cL={activatorEvent:null,active:null,activeNode:null,activeNodeRect:null,collisions:null,containerNodeRect:null,draggableNodes:new Map,droppableRects:new Map,droppableContainers:new Jl,over:null,dragOverlay:{nodeRef:{current:null},rect:null,setRef:Tf},scrollableAncestors:[],scrollableAncestorRects:[],measuringConfiguration:$d,measureDroppableContainers:Tf,windowRect:null,measuringScheduled:!1},cT={activatorEvent:null,activators:[],active:null,activeNodeRect:null,ariaDescribedById:{draggable:""},dispatch:Tf,draggableNodes:new Map,over:null,measureDroppableContainers:Tf},lu=p.createContext(cT),uT=p.createContext(cL);function uL(){return{draggable:{active:null,initialCoordinates:{x:0,y:0},nodes:new Map,translate:{x:0,y:0}},droppable:{containers:new Jl}}}function dL(e,t){switch(t.type){case ct.DragStart:return{...e,draggable:{...e.draggable,initialCoordinates:t.initialCoordinates,active:t.active}};case ct.DragMove:return e.draggable.active==null?e:{...e,draggable:{...e.draggable,translate:{x:t.coordinates.x-e.draggable.initialCoordinates.x,y:t.coordinates.y-e.draggable.initialCoordinates.y}}};case ct.DragEnd:case ct.DragCancel:return{...e,draggable:{...e.draggable,active:null,initialCoordinates:{x:0,y:0},translate:{x:0,y:0}}};case ct.RegisterDroppable:{const{element:r}=t,{id:n}=r,a=new Jl(e.droppable.containers);return a.set(n,r),{...e,droppable:{...e.droppable,containers:a}}}case ct.SetDroppableDisabled:{const{id:r,key:n,disabled:a}=t,i=e.droppable.containers.get(r);if(!i||n!==i.key)return e;const o=new Jl(e.droppable.containers);return o.set(r,{...i,disabled:a}),{...e,droppable:{...e.droppable,containers:o}}}case ct.UnregisterDroppable:{const{id:r,key:n}=t,a=e.droppable.containers.get(r);if(!a||n!==a.key)return e;const i=new Jl(e.droppable.containers);return i.delete(r),{...e,droppable:{...e.droppable,containers:i}}}default:return e}}function fL(e){let{disabled:t}=e;const{active:r,activatorEvent:n,draggableNodes:a}=p.useContext(lu),i=Of(n),o=Of(r==null?void 0:r.id);return p.useEffect(()=>{if(!t&&!n&&i&&o!=null){if(!em(i)||document.activeElement===i.target)return;const s=a.get(o);if(!s)return;const{activatorNode:c,node:u}=s;if(!c.current&&!u.current)return;requestAnimationFrame(()=>{for(const d of[c.current,u.current]){if(!d)continue;const f=s$(d);if(f){f.focus();break}}})}},[n,t,a,o,i]),null}function dT(e,t){let{transform:r,...n}=t;return e!=null&&e.length?e.reduce((a,i)=>i({transform:a,...n}),r):r}function hL(e){return p.useMemo(()=>({draggable:{...$d.draggable,...e==null?void 0:e.draggable},droppable:{...$d.droppable,...e==null?void 0:e.droppable},dragOverlay:{...$d.dragOverlay,...e==null?void 0:e.dragOverlay}}),[e==null?void 0:e.draggable,e==null?void 0:e.droppable,e==null?void 0:e.dragOverlay])}function mL(e){let{activeNode:t,measure:r,initialRect:n,config:a=!0}=e;const i=p.useRef(!1),{x:o,y:s}=typeof a=="boolean"?{x:a,y:a}:a;ln(()=>{if(!o&&!s||!t){i.current=!1;return}if(i.current||!n)return;const u=t==null?void 0:t.node.current;if(!u||u.isConnected===!1)return;const d=r(u),f=Xk(d,n);if(o||(f.x=0),s||(f.y=0),i.current=!0,Math.abs(f.x)>0||Math.abs(f.y)>0){const h=Jk(u);h&&h.scrollBy({top:f.y,left:f.x})}},[t,o,s,n,r])}const rm=p.createContext({...cn,scaleX:1,scaleY:1});var Ma;(function(e){e[e.Uninitialized=0]="Uninitialized",e[e.Initializing=1]="Initializing",e[e.Initialized=2]="Initialized"})(Ma||(Ma={}));const xb=p.memo(function(t){var r,n,a,i;let{id:o,accessibility:s,autoScroll:c=!0,children:u,sensors:d=sL,collisionDetection:f=j$,measuring:h,modifiers:m,...v}=t;const x=p.useReducer(dL,void 0,uL),[b,y]=x,[g,w]=h$(),[_,j]=p.useState(Ma.Uninitialized),S=_===Ma.Initialized,{draggable:{active:C,nodes:E,translate:T},droppable:{containers:A}}=b,R=C!=null?E.get(C):null,k=p.useRef({initial:null,translated:null}),z=p.useMemo(()=>{var Bt;return C!=null?{id:C,data:(Bt=R==null?void 0:R.data)!=null?Bt:lL,rect:k}:null},[C,R]),$=p.useRef(null),[H,O]=p.useState(null),[N,D]=p.useState(null),M=wc(v,Object.values(v)),L=ou("DndDescribedBy",o),V=p.useMemo(()=>A.getEnabled(),[A]),K=hL(h),{droppableRects:Q,measureDroppableContainers:ee,measuringScheduled:re}=X$(V,{dragging:S,dependencies:[T.x,T.y],config:K.droppable}),Se=G$(E,C),Re=p.useMemo(()=>N?kf(N):null,[N]),U=QM(),P=Z$(Se,K.draggable.measure);mL({activeNode:C!=null?E.get(C):null,config:U.layoutShiftCompensation,initialRect:P,measure:K.draggable.measure});const F=B_(Se,K.draggable.measure,P),G=B_(Se?Se.parentElement:null),q=p.useRef({activatorEvent:null,active:null,activeNode:Se,collisionRect:null,collisions:null,droppableRects:Q,draggableNodes:E,draggingNode:null,draggingNodeRect:null,droppableContainers:A,over:null,scrollableAncestors:[],scrollAdjustedTranslate:null}),he=A.getNodeFor((r=q.current.over)==null?void 0:r.id),ie=oL({measure:K.dragOverlay.measure}),Ze=(n=ie.nodeRef.current)!=null?n:Se,Je=S?(a=ie.rect)!=null?a:F:null,vn=!!(ie.nodeRef.current&&ie.rect),il=eL(vn?null:F),op=sT(Ze?Yt(Ze):null),Ea=tL(S?he??Se:null),Tu=iL(Ea),Nu=dT(m,{transform:{x:T.x-il.x,y:T.y-il.y,scaleX:1,scaleY:1},activatorEvent:N,active:z,activeNodeRect:F,containerNodeRect:G,draggingNodeRect:Je,over:q.current.over,overlayNodeRect:ie.rect,scrollableAncestors:Ea,scrollableAncestorRects:Tu,windowRect:op}),d1=Re?ss(Re,T):null,f1=rL(Ea),VM=$_(f1),KM=$_(f1,[F]),xo=ss(Nu,VM),wo=Je?E$(Je,Nu):null,ol=z&&wo?f({active:z,collisionRect:wo,droppableRects:Q,droppableContainers:V,pointerCoordinates:d1}):null,h1=w$(ol,"id"),[Oa,m1]=p.useState(null),GM=vn?Nu:ss(Nu,KM),YM=S$(GM,(i=Oa==null?void 0:Oa.rect)!=null?i:null,F),sp=p.useRef(null),p1=p.useCallback((Bt,lr)=>{let{sensor:cr,options:Aa}=lr;if($.current==null)return;const kr=E.get($.current);if(!kr)return;const ur=Bt.nativeEvent,yn=new cr({active:$.current,activeNode:kr,event:ur,options:Aa,context:q,onAbort(Et){if(!E.get(Et))return;const{onDragAbort:bn}=M.current,Pn={id:Et};bn==null||bn(Pn),g({type:"onDragAbort",event:Pn})},onPending(Et,ka,bn,Pn){if(!E.get(Et))return;const{onDragPending:ll}=M.current,Ta={id:Et,constraint:ka,initialCoordinates:bn,offset:Pn};ll==null||ll(Ta),g({type:"onDragPending",event:Ta})},onStart(Et){const ka=$.current;if(ka==null)return;const bn=E.get(ka);if(!bn)return;const{onDragStart:Pn}=M.current,sl={activatorEvent:ur,active:{id:ka,data:bn.data,rect:k}};Ha.unstable_batchedUpdates(()=>{Pn==null||Pn(sl),j(Ma.Initializing),y({type:ct.DragStart,initialCoordinates:Et,active:ka}),g({type:"onDragStart",event:sl}),O(sp.current),D(ur)})},onMove(Et){y({type:ct.DragMove,coordinates:Et})},onEnd:_o(ct.DragEnd),onCancel:_o(ct.DragCancel)});sp.current=yn;function _o(Et){return async function(){const{active:bn,collisions:Pn,over:sl,scrollAdjustedTranslate:ll}=q.current;let Ta=null;if(bn&&ll){const{cancelDrop:cl}=M.current;Ta={activatorEvent:ur,active:bn,collisions:Pn,delta:ll,over:sl},Et===ct.DragEnd&&typeof cl=="function"&&await Promise.resolve(cl(Ta))&&(Et=ct.DragCancel)}$.current=null,Ha.unstable_batchedUpdates(()=>{y({type:Et}),j(Ma.Uninitialized),m1(null),O(null),D(null),sp.current=null;const cl=Et===ct.DragEnd?"onDragEnd":"onDragCancel";if(Ta){const lp=M.current[cl];lp==null||lp(Ta),g({type:cl,event:Ta})}})}}},[E]),XM=p.useCallback((Bt,lr)=>(cr,Aa)=>{const kr=cr.nativeEvent,ur=E.get(Aa);if($.current!==null||!ur||kr.dndKit||kr.defaultPrevented)return;const yn={active:ur};Bt(cr,lr.options,yn)===!0&&(kr.dndKit={capturedBy:lr.sensor},$.current=Aa,p1(cr,lr))},[E,p1]),g1=Y$(d,XM);nL(d),ln(()=>{F&&_===Ma.Initializing&&j(Ma.Initialized)},[F,_]),p.useEffect(()=>{const{onDragMove:Bt}=M.current,{active:lr,activatorEvent:cr,collisions:Aa,over:kr}=q.current;if(!lr||!cr)return;const ur={active:lr,activatorEvent:cr,collisions:Aa,delta:{x:xo.x,y:xo.y},over:kr};Ha.unstable_batchedUpdates(()=>{Bt==null||Bt(ur),g({type:"onDragMove",event:ur})})},[xo.x,xo.y]),p.useEffect(()=>{const{active:Bt,activatorEvent:lr,collisions:cr,droppableContainers:Aa,scrollAdjustedTranslate:kr}=q.current;if(!Bt||$.current==null||!lr||!kr)return;const{onDragOver:ur}=M.current,yn=Aa.get(h1),_o=yn&&yn.rect.current?{id:yn.id,rect:yn.rect.current,data:yn.data,disabled:yn.disabled}:null,Et={active:Bt,activatorEvent:lr,collisions:cr,delta:{x:kr.x,y:kr.y},over:_o};Ha.unstable_batchedUpdates(()=>{m1(_o),ur==null||ur(Et),g({type:"onDragOver",event:Et})})},[h1]),ln(()=>{q.current={activatorEvent:N,active:z,activeNode:Se,collisionRect:wo,collisions:ol,droppableRects:Q,draggableNodes:E,draggingNode:Ze,draggingNodeRect:Je,droppableContainers:A,over:Oa,scrollableAncestors:Ea,scrollAdjustedTranslate:xo},k.current={initial:Je,translated:wo}},[z,Se,ol,wo,E,Ze,Je,Q,A,Oa,Ea,xo]),F$({...U,delta:T,draggingRect:wo,pointerCoordinates:d1,scrollableAncestors:Ea,scrollableAncestorRects:Tu});const ZM=p.useMemo(()=>({active:z,activeNode:Se,activeNodeRect:F,activatorEvent:N,collisions:ol,containerNodeRect:G,dragOverlay:ie,draggableNodes:E,droppableContainers:A,droppableRects:Q,over:Oa,measureDroppableContainers:ee,scrollableAncestors:Ea,scrollableAncestorRects:Tu,measuringConfiguration:K,measuringScheduled:re,windowRect:op}),[z,Se,F,N,ol,G,ie,E,A,Q,Oa,ee,Ea,Tu,K,re,op]),JM=p.useMemo(()=>({activatorEvent:N,activators:g1,active:z,activeNodeRect:F,ariaDescribedById:{draggable:L},dispatch:y,draggableNodes:E,over:Oa,measureDroppableContainers:ee}),[N,g1,z,F,y,L,E,Oa,ee]);return Ce.createElement(Yk.Provider,{value:w},Ce.createElement(lu.Provider,{value:JM},Ce.createElement(uT.Provider,{value:ZM},Ce.createElement(rm.Provider,{value:YM},u)),Ce.createElement(fL,{disabled:(s==null?void 0:s.restoreFocus)===!1})),Ce.createElement(g$,{...s,hiddenTextDescribedById:L}));function QM(){const Bt=(H==null?void 0:H.autoScrollEnabled)===!1,lr=typeof c=="object"?c.enabled===!1:c===!1,cr=S&&!Bt&&!lr;return typeof c=="object"?{...c,enabled:cr}:{enabled:cr}}}),pL=p.createContext(null),U_="button",gL="Draggable";function vL(e){let{id:t,data:r,disabled:n=!1,attributes:a}=e;const i=ou(gL),{activators:o,activatorEvent:s,active:c,activeNodeRect:u,ariaDescribedById:d,draggableNodes:f,over:h}=p.useContext(lu),{role:m=U_,roleDescription:v="draggable",tabIndex:x=0}=a??{},b=(c==null?void 0:c.id)===t,y=p.useContext(b?rm:pL),[g,w]=Ef(),[_,j]=Ef(),S=aL(o,t),C=wc(r);ln(()=>(f.set(t,{id:t,key:i,node:g,activatorNode:_,data:C}),()=>{const T=f.get(t);T&&T.key===i&&f.delete(t)}),[f,t]);const E=p.useMemo(()=>({role:m,tabIndex:x,"aria-disabled":n,"aria-pressed":b&&m===U_?!0:void 0,"aria-roledescription":v,"aria-describedby":d.draggable}),[n,m,x,b,v,d.draggable]);return{active:c,activatorEvent:s,activeNodeRect:u,attributes:E,isDragging:b,listeners:n?void 0:S,node:g,over:h,setNodeRef:w,setActivatorNodeRef:j,transform:y}}function fT(){return p.useContext(uT)}const yL="Droppable",bL={timeout:25};function nm(e){let{data:t,disabled:r=!1,id:n,resizeObserverConfig:a}=e;const i=ou(yL),{active:o,dispatch:s,over:c,measureDroppableContainers:u}=p.useContext(lu),d=p.useRef({disabled:r}),f=p.useRef(!1),h=p.useRef(null),m=p.useRef(null),{disabled:v,updateMeasurementsFor:x,timeout:b}={...bL,...a},y=wc(x??n),g=p.useCallback(()=>{if(!f.current){f.current=!0;return}m.current!=null&&clearTimeout(m.current),m.current=setTimeout(()=>{u(Array.isArray(y.current)?y.current:[y.current]),m.current=null},b)},[b]),w=tm({callback:g,disabled:v||!o}),_=p.useCallback((E,T)=>{w&&(T&&(w.unobserve(T),f.current=!1),E&&w.observe(E))},[w]),[j,S]=Ef(_),C=wc(t);return p.useEffect(()=>{!w||!j.current||(w.disconnect(),f.current=!1,w.observe(j.current))},[j,w]),p.useEffect(()=>(s({type:ct.RegisterDroppable,element:{id:n,key:i,disabled:r,node:j,rect:h,data:C}}),()=>s({type:ct.UnregisterDroppable,key:i,id:n})),[n]),p.useEffect(()=>{r!==d.current.disabled&&(s({type:ct.SetDroppableDisabled,id:n,key:i,disabled:r}),d.current.disabled=r)},[n,i,r,s]),{active:o,rect:h,isOver:(c==null?void 0:c.id)===n,node:j,over:c,setNodeRef:S}}function xL(e){let{animation:t,children:r}=e;const[n,a]=p.useState(null),[i,o]=p.useState(null),s=Of(r);return!r&&!n&&s&&a(s),ln(()=>{if(!i)return;const c=n==null?void 0:n.key,u=n==null?void 0:n.props.id;if(c==null||u==null){a(null);return}Promise.resolve(t(u,i)).then(()=>{a(null)})},[t,n,i]),Ce.createElement(Ce.Fragment,null,r,n?p.cloneElement(n,{ref:o}):null)}const wL={x:0,y:0,scaleX:1,scaleY:1};function _L(e){let{children:t}=e;return Ce.createElement(lu.Provider,{value:cT},Ce.createElement(rm.Provider,{value:wL},t))}const jL={position:"fixed",touchAction:"none"},SL=e=>em(e)?"transform 250ms ease":void 0,CL=p.forwardRef((e,t)=>{let{as:r,activatorEvent:n,adjustScale:a,children:i,className:o,rect:s,style:c,transform:u,transition:d=SL}=e;if(!s)return null;const f=a?u:{...u,scaleX:1,scaleY:1},h={...jL,width:s.width,height:s.height,top:s.top,left:s.left,transform:An.Transform.toString(f),transformOrigin:a&&n?y$(n,s):void 0,transition:typeof d=="function"?d(n):d,...c};return Ce.createElement(r,{className:o,style:h,ref:t},i)}),EL=e=>t=>{let{active:r,dragOverlay:n}=t;const a={},{styles:i,className:o}=e;if(i!=null&&i.active)for(const[s,c]of Object.entries(i.active))c!==void 0&&(a[s]=r.node.style.getPropertyValue(s),r.node.style.setProperty(s,c));if(i!=null&&i.dragOverlay)for(const[s,c]of Object.entries(i.dragOverlay))c!==void 0&&n.node.style.setProperty(s,c);return o!=null&&o.active&&r.node.classList.add(o.active),o!=null&&o.dragOverlay&&n.node.classList.add(o.dragOverlay),function(){for(const[c,u]of Object.entries(a))r.node.style.setProperty(c,u);o!=null&&o.active&&r.node.classList.remove(o.active)}},OL=e=>{let{transform:{initial:t,final:r}}=e;return[{transform:An.Transform.toString(t)},{transform:An.Transform.toString(r)}]},AL={duration:250,easing:"ease",keyframes:OL,sideEffects:EL({styles:{active:{opacity:"0"}}})};function kL(e){let{config:t,draggableNodes:r,droppableContainers:n,measuringConfiguration:a}=e;return Qh((i,o)=>{if(t===null)return;const s=r.get(i);if(!s)return;const c=s.node.current;if(!c)return;const u=lT(o);if(!u)return;const{transform:d}=Yt(o).getComputedStyle(o),f=Zk(d);if(!f)return;const h=typeof t=="function"?t:TL(t);return aT(c,a.draggable.measure),h({active:{id:i,data:s.data,node:c,rect:a.draggable.measure(c)},draggableNodes:r,dragOverlay:{node:o,rect:a.dragOverlay.measure(u)},droppableContainers:n,measuringConfiguration:a,transform:f})})}function TL(e){const{duration:t,easing:r,sideEffects:n,keyframes:a}={...AL,...e};return i=>{let{active:o,dragOverlay:s,transform:c,...u}=i;if(!t)return;const d={x:s.rect.left-o.rect.left,y:s.rect.top-o.rect.top},f={scaleX:c.scaleX!==1?o.rect.width*c.scaleX/s.rect.width:1,scaleY:c.scaleY!==1?o.rect.height*c.scaleY/s.rect.height:1},h={x:c.x-d.x,y:c.y-d.y,...f},m=a({...u,active:o,dragOverlay:s,transform:{initial:c,final:h}}),[v]=m,x=m[m.length-1];if(JSON.stringify(v)===JSON.stringify(x))return;const b=n==null?void 0:n({active:o,dragOverlay:s,...u}),y=s.node.animate(m,{duration:t,easing:r,fill:"forwards"});return new Promise(g=>{y.onfinish=()=>{b==null||b(),g()}})}}let q_=0;function NL(e){return p.useMemo(()=>{if(e!=null)return q_++,q_},[e])}const wb=Ce.memo(e=>{let{adjustScale:t=!1,children:r,dropAnimation:n,style:a,transition:i,modifiers:o,wrapperElement:s="div",className:c,zIndex:u=999}=e;const{activatorEvent:d,active:f,activeNodeRect:h,containerNodeRect:m,draggableNodes:v,droppableContainers:x,dragOverlay:b,over:y,measuringConfiguration:g,scrollableAncestors:w,scrollableAncestorRects:_,windowRect:j}=fT(),S=p.useContext(rm),C=NL(f==null?void 0:f.id),E=dT(o,{activatorEvent:d,active:f,activeNodeRect:h,containerNodeRect:m,draggingNodeRect:b.rect,over:y,overlayNodeRect:b.rect,scrollableAncestors:w,scrollableAncestorRects:_,transform:S,windowRect:j}),T=bb(h),A=kL({config:n,draggableNodes:v,droppableContainers:x,measuringConfiguration:g}),R=T?b.setRef:void 0;return Ce.createElement(_L,null,Ce.createElement(xL,{animation:A},f&&C?Ce.createElement(CL,{key:C,id:f.id,ref:R,as:s,activatorEvent:d,adjustScale:t,className:c,transition:i,rect:T,style:{zIndex:u,...a},transform:E},r):null))});function hT(e,t,r){const n=e.slice();return n.splice(r<0?n.length+r:r,0,n.splice(t,1)[0]),n}function RL(e,t){return e.reduce((r,n,a)=>{const i=t.get(n);return i&&(r[a]=i),r},Array(e.length))}function ad(e){return e!==null&&e>=0}function DL(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}function PL(e){return typeof e=="boolean"?{draggable:e,droppable:e}:e}const mT=e=>{let{rects:t,activeIndex:r,overIndex:n,index:a}=e;const i=hT(t,n,r),o=t[a],s=i[a];return!s||!o?null:{x:s.left-o.left,y:s.top-o.top,scaleX:s.width/o.width,scaleY:s.height/o.height}},id={scaleX:1,scaleY:1},_b=e=>{var t;let{activeIndex:r,activeNodeRect:n,index:a,rects:i,overIndex:o}=e;const s=(t=i[r])!=null?t:n;if(!s)return null;if(a===r){const u=i[o];return u?{x:0,y:r<o?u.top+u.height-(s.top+s.height):u.top-s.top,...id}:null}const c=ML(i,a,r);return a>r&&a<=o?{x:0,y:-s.height-c,...id}:a<r&&a>=o?{x:0,y:s.height+c,...id}:{x:0,y:0,...id}};function ML(e,t,r){const n=e[t],a=e[t-1],i=e[t+1];return n?r<t?a?n.top-(a.top+a.height):i?i.top-(n.top+n.height):0:i?i.top-(n.top+n.height):a?n.top-(a.top+a.height):0:0}const pT="Sortable",gT=Ce.createContext({activeIndex:-1,containerId:pT,disableTransforms:!1,items:[],overIndex:-1,useDragOverlay:!1,sortedRects:[],strategy:mT,disabled:{draggable:!1,droppable:!1}});function jb(e){let{children:t,id:r,items:n,strategy:a=mT,disabled:i=!1}=e;const{active:o,dragOverlay:s,droppableRects:c,over:u,measureDroppableContainers:d}=fT(),f=ou(pT,r),h=s.rect!==null,m=p.useMemo(()=>n.map(S=>typeof S=="object"&&"id"in S?S.id:S),[n]),v=o!=null,x=o?m.indexOf(o.id):-1,b=u?m.indexOf(u.id):-1,y=p.useRef(m),g=!DL(m,y.current),w=b!==-1&&x===-1||g,_=PL(i);ln(()=>{g&&v&&d(m)},[g,m,v,d]),p.useEffect(()=>{y.current=m},[m]);const j=p.useMemo(()=>({activeIndex:x,containerId:f,disabled:_,disableTransforms:w,items:m,overIndex:b,useDragOverlay:h,sortedRects:RL(m,c),strategy:a}),[x,f,_.draggable,_.droppable,w,m,b,c,h,a]);return Ce.createElement(gT.Provider,{value:j},t)}const zL=e=>{let{id:t,items:r,activeIndex:n,overIndex:a}=e;return hT(r,n,a).indexOf(t)},BL=e=>{let{containerId:t,isSorting:r,wasDragging:n,index:a,items:i,newIndex:o,previousItems:s,previousContainerId:c,transition:u}=e;return!u||!n||s!==i&&a===o?!1:r?!0:o!==a&&t===c},IL={duration:200,easing:"ease"},vT="transform",$L=An.Transition.toString({property:vT,duration:0,easing:"linear"}),LL={roleDescription:"sortable"};function UL(e){let{disabled:t,index:r,node:n,rect:a}=e;const[i,o]=p.useState(null),s=p.useRef(r);return ln(()=>{if(!t&&r!==s.current&&n.current){const c=a.current;if(c){const u=Xs(n.current,{ignoreTransform:!0}),d={x:c.left-u.left,y:c.top-u.top,scaleX:c.width/u.width,scaleY:c.height/u.height};(d.x||d.y)&&o(d)}}r!==s.current&&(s.current=r)},[t,r,n,a]),p.useEffect(()=>{i&&o(null)},[i]),i}function Sb(e){let{animateLayoutChanges:t=BL,attributes:r,disabled:n,data:a,getNewIndex:i=zL,id:o,strategy:s,resizeObserverConfig:c,transition:u=IL}=e;const{items:d,containerId:f,activeIndex:h,disabled:m,disableTransforms:v,sortedRects:x,overIndex:b,useDragOverlay:y,strategy:g}=p.useContext(gT),w=qL(n,m),_=d.indexOf(o),j=p.useMemo(()=>({sortable:{containerId:f,index:_,items:d},...a}),[f,a,_,d]),S=p.useMemo(()=>d.slice(d.indexOf(o)),[d,o]),{rect:C,node:E,isOver:T,setNodeRef:A}=nm({id:o,data:j,disabled:w.droppable,resizeObserverConfig:{updateMeasurementsFor:S,...c}}),{active:R,activatorEvent:k,activeNodeRect:z,attributes:$,setNodeRef:H,listeners:O,isDragging:N,over:D,setActivatorNodeRef:M,transform:L}=vL({id:o,data:j,attributes:{...LL,...r},disabled:w.draggable}),V=n$(A,H),K=!!R,Q=K&&!v&&ad(h)&&ad(b),ee=!y&&N,re=ee&&Q?L:null,Re=Q?re??(s??g)({rects:x,activeNodeRect:z,activeIndex:h,overIndex:b,index:_}):null,U=ad(h)&&ad(b)?i({id:o,items:d,activeIndex:h,overIndex:b}):_,P=R==null?void 0:R.id,F=p.useRef({activeId:P,items:d,newIndex:U,containerId:f}),G=d!==F.current.items,q=t({active:R,containerId:f,isDragging:N,isSorting:K,id:o,index:_,items:d,newIndex:F.current.newIndex,previousItems:F.current.items,previousContainerId:F.current.containerId,transition:u,wasDragging:F.current.activeId!=null}),he=UL({disabled:!q,index:_,node:E,rect:C});return p.useEffect(()=>{K&&F.current.newIndex!==U&&(F.current.newIndex=U),f!==F.current.containerId&&(F.current.containerId=f),d!==F.current.items&&(F.current.items=d)},[K,U,f,d]),p.useEffect(()=>{if(P===F.current.activeId)return;if(P!=null&&F.current.activeId==null){F.current.activeId=P;return}const Ze=setTimeout(()=>{F.current.activeId=P},50);return()=>clearTimeout(Ze)},[P]),{active:R,activeIndex:h,attributes:$,data:j,rect:C,index:_,newIndex:U,items:d,isOver:T,isSorting:K,isDragging:N,listeners:O,node:E,overIndex:b,over:D,setNodeRef:V,setActivatorNodeRef:M,setDroppableNodeRef:A,setDraggableNodeRef:H,transform:he??Re,transition:ie()};function ie(){if(he||G&&F.current.newIndex===_)return $L;if(!(ee&&!em(k)||!u)&&(K||q))return An.Transition.toString({...u,property:vT})}}function qL(e,t){var r,n;return typeof e=="boolean"?{draggable:e,droppable:!1}:{draggable:(r=e==null?void 0:e.draggable)!=null?r:t.draggable,droppable:(n=e==null?void 0:e.droppable)!=null?n:t.droppable}}pe.Down,pe.Right,pe.Up,pe.Left;const W_=[{status:"simulacao",label:"Simulao",color:"#64748b"},{status:"indicado",label:"Indicado",color:"#0ea5e9"},{status:"em_negociacao",label:"Em Negociao",color:"#eab308"},{status:"ativo",label:"Ativo",color:"#22c55e"},{status:"negocio_perdido",label:"Negcio Perdido",color:"#ef4444"},{status:"pago",label:"Pago",color:"#8b5cf6"}];function yT({lead:e,onClick:t,isOverlay:r}){var d,f;const{attributes:n,listeners:a,setNodeRef:i,transform:o,transition:s,isDragging:c}=Sb({id:e.id,disabled:!!r}),u={transform:An.Transform.toString(o),transition:s,opacity:c?.3:1,background:"white",padding:"1rem",borderRadius:"var(--radius-sm)",boxShadow:r?"var(--shadow-lg)":"var(--shadow-sm)",cursor:r?"grabbing":"grab",border:"1px solid transparent",zIndex:c?1e3:1,position:"relative",width:r?"280px":"auto"};return l.jsxs("div",{ref:i,style:u,...r?{}:n,...r?{}:a,onClick:()=>!r&&t(e),children:[l.jsx("div",{style:{fontWeight:"bold",marginBottom:"0.3rem",color:"var(--color-text-dark)"},children:e.name}),l.jsxs("div",{style:{display:"flex",gap:"0.5rem",flexWrap:"wrap",marginBottom:"0.5rem"},children:[l.jsx("span",{style:{fontSize:"0.7rem",color:"var(--color-blue)",background:"#eff6ff",padding:"0.1rem 0.4rem",borderRadius:"4px"},children:e.concessionaria||"N/A"}),l.jsx("span",{style:{fontSize:"0.7rem",color:"#047857",background:"#ecfdf5",padding:"0.1rem 0.4rem",borderRadius:"4px"},children:e.consumo_kwh?`${Number(e.consumo_kwh).toLocaleString("pt-BR")} kWh`:"0 kWh"})]}),l.jsx("div",{style:{fontSize:"0.8rem",color:"var(--color-text-medium)",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:e.email}),l.jsx("div",{style:{fontSize:"0.8rem",color:"var(--color-text-medium)",marginTop:"0.2rem"},children:e.phone}),l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:"0.8rem",fontSize:"0.75rem",color:"var(--color-text-light)"},children:[l.jsx("span",{children:((f=(d=e.originator)==null?void 0:d.name)==null?void 0:f.split(" ")[0])||"-"}),l.jsx("span",{children:new Date(e.created_at).toLocaleDateString()})]})]})}function WL({status:e,label:t,color:r,leads:n,onCardClick:a}){const{setNodeRef:i,isOver:o}=nm({id:e});return l.jsxs("div",{ref:i,style:{minWidth:"280px",flex:1,background:o?"#e2e8f0":"var(--color-bg-light)",borderRadius:"var(--radius-md)",padding:"0.5rem",borderTop:`4px solid ${r}`,boxShadow:"var(--shadow-sm)",transition:"background 0.2s ease"},children:[l.jsxs("h4",{style:{padding:"0.8rem",borderBottom:"1px solid var(--color-border)",background:"white",borderRadius:"var(--radius-sm)",display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0.5rem",color:r},children:[l.jsx("span",{style:{textTransform:"uppercase",fontSize:"0.8rem",fontWeight:"bold"},children:t}),l.jsx("span",{style:{fontSize:"0.8rem",background:r,color:"white",padding:"0.1rem 0.5rem",borderRadius:"99px"},children:n.length})]}),l.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem",minHeight:"100px"},children:l.jsx(jb,{items:n.map(s=>s.id),strategy:_b,children:n.map(s=>l.jsx(yT,{lead:s,onClick:a},s.id))})})]})}function HL(){const{profile:e}=pn(),[t,r]=p.useState([]),[n,a]=p.useState(!0),[i,o]=p.useState(!1),[s,c]=p.useState(!1),[u,d]=p.useState(null),[f,h]=p.useState(null),[m,v]=p.useState("kanban"),[x,b]=p.useState(""),[y,g]=p.useState(null),w=mb(hb(su,{activationConstraint:{distance:8}})),_=t.filter(k=>{var $,H,O,N;if(!x)return!0;const z=x.toLowerCase();return(($=k.name)==null?void 0:$.toLowerCase().includes(z))||((H=k.email)==null?void 0:H.toLowerCase().includes(z))||((O=k.phone)==null?void 0:O.includes(z))||((N=k.concessionaria)==null?void 0:N.toLowerCase().includes(z))});p.useEffect(()=>{j()},[]);const j=async()=>{a(!0);try{const{data:k,error:z}=await I.from("leads").select(`
                    *,
                    originator:originator_id (name)
                `).order("created_at",{ascending:!1});if(z)throw z;r(k||[])}catch(k){console.error("Error fetching leads:",k)}finally{a(!1)}},S=k=>{j(),o(!1)},C=k=>{r(t.filter(z=>z.id!==k)),o(!1)},E=k=>{h(k),c(!0)},T=async k=>{try{await I.from("leads").update({status:"em_negociacao"}).eq("id",f.id),j(),alert('Lead convertido em Assinante! Status atualizado para "Em Negociao".')}catch(z){console.error("Erro ao atualizar status do lead",z)}},A=k=>{g(k.active.id)},R=async k=>{const{active:z,over:$}=k;if(g(null),!$)return;const H=z.id,O=$.id;let N=O;if(!W_.some(L=>L.status===O)){const L=t.find(V=>V.id===O);N=L==null?void 0:L.status}if(!N)return;const M=t.find(L=>L.id===H);if(M&&M.status!==N){r(L=>L.map(V=>V.id===H?{...V,status:N}:V));try{const{error:L}=await I.from("leads").update({status:N}).eq("id",H);if(L)throw L}catch(L){console.error("Error updating lead status:",L),j()}}};return l.jsxs("div",{children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"2rem"},children:[l.jsx("h2",{children:"Gesto de Leads"}),l.jsx("button",{onClick:()=>{d(null),o(!0)},className:"btn btn-primary",children:"+ Novo Lead"})]}),l.jsx("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.5rem",flexWrap:"wrap",gap:"1rem"},children:l.jsxs("div",{style:{display:"flex",gap:"1rem",flex:1,alignItems:"center"},children:[l.jsx("input",{type:"text",placeholder:"Buscar por nome, email, telefone ou concessionria...",value:x,onChange:k=>b(k.target.value),className:"input",style:{maxWidth:"400px"}}),l.jsxs("div",{className:"btn-group",style:{display:"flex",border:"1px solid var(--color-border)",borderRadius:"var(--radius-sm)",overflow:"hidden"},children:[l.jsx("button",{onClick:()=>v("list"),className:`btn ${m==="list"?"btn-primary":"btn-secondary"}`,style:{borderRadius:0,border:"none"},children:"Lista"}),l.jsx("button",{onClick:()=>v("kanban"),className:`btn ${m==="kanban"?"btn-primary":"btn-secondary"}`,style:{borderRadius:0,border:"none"},children:"Kanban"})]})]})}),n?l.jsx("p",{children:"Carregando..."}):l.jsx(l.Fragment,{children:m==="list"?l.jsx("div",{className:"card",style:{padding:0,overflow:"hidden"},children:l.jsx("div",{className:"table-container",children:_.length===0?l.jsx("p",{style:{padding:"2rem",textAlign:"center",color:"var(--color-text-light)"},children:"Nenhum lead encontrado."}):l.jsxs("table",{className:"table",children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{children:"Nome"}),l.jsx("th",{children:"Concessionria"}),l.jsx("th",{children:"Consumo (kWh)"}),l.jsx("th",{children:"Contato"}),l.jsx("th",{children:"Status"}),l.jsx("th",{children:"Originador"}),l.jsx("th",{children:"Aes"})]})}),l.jsx("tbody",{children:_.map(k=>{var z;return l.jsxs("tr",{children:[l.jsx("td",{style:{fontWeight:"bold"},children:k.name}),l.jsx("td",{children:k.concessionaria||"-"}),l.jsx("td",{children:k.consumo_kwh?`${Number(k.consumo_kwh).toLocaleString("pt-BR")} kWh`:"-"}),l.jsxs("td",{children:[l.jsx("div",{style:{fontSize:"0.9rem"},children:k.email}),l.jsx("div",{style:{fontSize:"0.8rem",color:"var(--color-text-medium)"},children:k.phone})]}),l.jsx("td",{children:l.jsx("span",{style:{padding:"0.25rem 0.75rem",borderRadius:"999px",fontSize:"0.85rem",fontWeight:"500",background:k.status==="simulacao"?"#f1f5f9":k.status==="em_negociacao"?"#fef9c3":k.status==="ativo"?"#dcfce7":"#f1f5f9",color:k.status==="simulacao"?"#64748b":k.status==="em_negociacao"?"#a16207":k.status==="ativo"?"#166534":"#64748b"},children:k.status.toUpperCase().replace("_"," ")})}),l.jsx("td",{children:((z=k.originator)==null?void 0:z.name)||"-"}),l.jsxs("td",{style:{display:"flex",gap:"0.5rem"},children:[l.jsx("button",{onClick:()=>{d(k),o(!0)},className:"btn btn-secondary",style:{padding:"0.3rem 0.6rem",fontSize:"0.8rem"},children:"Editar"}),k.status!=="convertido"&&l.jsx("button",{onClick:()=>E(k),className:"btn",style:{padding:"0.3rem 0.6rem",fontSize:"0.8rem",border:"1px solid var(--color-success)",color:"var(--color-success)",background:"white"},children:"Converter"})]})]},k.id)})})]})})}):l.jsxs(xb,{sensors:w,collisionDetection:pb,onDragStart:A,onDragEnd:R,onDragCancel:()=>g(null),children:[l.jsx("div",{style:{display:"flex",gap:"1rem",overflowX:"auto",paddingBottom:"1rem"},children:W_.map(({status:k,label:z,color:$})=>{const H=_.filter(O=>(O.status||"simulacao")===k);return l.jsx(WL,{status:k,label:z,color:$,leads:H,onCardClick:O=>{d(O),o(!0)}},k)})}),l.jsx(wb,{adjustScale:!0,children:y?l.jsx(yT,{lead:t.find(k=>k.id===y),isOverlay:!0}):null})]})}),i&&l.jsx(r$,{lead:u,onClose:()=>o(!1),onSave:S,onDelete:C,onConvert:E}),s&&l.jsx(Vk,{subscriber:f?{...f,id:null,status:"ativacao",originator_id:f.originator_id}:null,onClose:()=>c(!1),onSave:T})]})}function FL(){const{profile:e}=pn(),[t,r]=p.useState([]),[n,a]=p.useState(!0),[i,o]=p.useState(!1),[s,c]=p.useState(null),[u,d]=p.useState("list"),[f,h]=p.useState(""),[m,v]=p.useState(null),x=t.filter(j=>{var C,E,T,A;if(!f)return!0;const S=f.toLowerCase();return((C=j.name)==null?void 0:C.toLowerCase().includes(S))||((E=j.email)==null?void 0:E.toLowerCase().includes(S))||((T=j.phone)==null?void 0:T.includes(S))||((A=j.cpf_cnpj)==null?void 0:A.includes(S))});p.useEffect(()=>{b()},[]);const b=async()=>{a(!0);try{const{data:j,error:S}=await I.from("subscribers").select("*").order("created_at",{ascending:!1});if(S)throw S;r(j||[])}catch(j){console.error("Error fetching subscribers:",j)}finally{a(!1)}},y=j=>{const S=t.find(C=>C.id===j.id);r(S?t.map(C=>C.id===j.id?{...C,...j}:C):[j,...t])},g=async j=>{if(confirm(`Gerar boleto CONSOLIDADO (todas as faturas pendentes) para ${j.name}?`)){v(j.id);try{const S=await Gh(j.id,"subscriber");S.url&&(alert("Boleto consolidado gerado com sucesso!"),window.open(S.url,"_blank"))}catch(S){console.error(S),alert("Erro: "+(S.message||"Falha ao gerar boleto. Verifique se h faturas pendentes."))}finally{v(null)}}},w={ativacao:"#0ea5e9",ativo:"#22c55e",ativo_inadimplente:"#f59e0b",transferido:"#64748b",cancelado:"#ef4444",cancelado_inadimplente:"#b91c1c"},_=j=>{r(t.filter(S=>S.id!==j))};return l.jsxs("div",{children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"2rem"},children:[l.jsx("h2",{children:"Gesto de Assinantes"}),l.jsx("button",{onClick:()=>{c(null),o(!0)},style:{padding:"0.6rem 1.2rem",background:"var(--color-blue)",color:"white",borderRadius:"4px",fontWeight:"bold",cursor:"pointer"},children:"+ Novo Assinante"})]}),l.jsx("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.5rem",flexWrap:"wrap",gap:"1rem"},children:l.jsxs("div",{style:{display:"flex",gap:"1rem",flex:1},children:[l.jsx("input",{type:"text",placeholder:"Buscar por nome, email, telefone ou CPF...",value:f,onChange:j=>h(j.target.value),style:{padding:"0.6rem",width:"100%",maxWidth:"350px",border:"1px solid #ddd",borderRadius:"4px"}}),l.jsxs("div",{style:{display:"flex",border:"1px solid #ccc",borderRadius:"4px",overflow:"hidden"},children:[l.jsx("button",{onClick:()=>d("list"),style:{padding:"0.6rem 1rem",cursor:"pointer",border:"none",background:u==="list"?"var(--color-blue)":"white",color:u==="list"?"white":"#333"},children:"Lista"}),l.jsx("button",{onClick:()=>d("kanban"),style:{padding:"0.6rem 1rem",cursor:"pointer",border:"none",background:u==="kanban"?"var(--color-blue)":"white",color:u==="kanban"?"white":"#333"},children:"Kanban"})]})]})}),n?l.jsx("p",{children:"Carregando..."}):l.jsx(l.Fragment,{children:u==="list"?l.jsx("div",{style:{background:"white",borderRadius:"8px",boxShadow:"0 2px 4px rgba(0,0,0,0.1)",overflowX:"auto"},children:x.length===0?l.jsx("p",{style:{padding:"2rem",textAlign:"center",color:"#999"},children:"Nenhum assinante encontrado."}):l.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[l.jsx("thead",{children:l.jsxs("tr",{style:{background:"#f8fafc",textAlign:"left",borderBottom:"1px solid #e2e8f0"},children:[l.jsx("th",{style:{padding:"1rem",color:"#64748b"},children:"Nome/CPF"}),l.jsx("th",{style:{padding:"1rem",color:"#64748b"},children:"Contato"}),l.jsx("th",{style:{padding:"1rem",color:"#64748b"},children:"Status"}),l.jsx("th",{style:{padding:"1rem",color:"#64748b"},children:"Cidade"}),l.jsx("th",{style:{padding:"1rem",color:"#64748b"},children:"Aes"})]})}),l.jsx("tbody",{children:x.map(j=>{var S,C,E,T,A;return l.jsxs("tr",{style:{borderBottom:"1px solid #f1f5f9"},children:[l.jsxs("td",{style:{padding:"1rem"},children:[l.jsx("div",{style:{fontWeight:"bold"},children:j.name}),l.jsx("div",{style:{fontSize:"0.8rem",color:"#666"},children:j.cpf_cnpj})]}),l.jsxs("td",{style:{padding:"1rem"},children:[l.jsx("div",{style:{fontSize:"0.9rem"},children:j.email}),l.jsx("div",{style:{fontSize:"0.8rem",color:"#666"},children:j.phone})]}),l.jsx("td",{style:{padding:"1rem"},children:l.jsx("span",{style:{padding:"0.25rem 0.75rem",borderRadius:"999px",fontSize:"0.85rem",background:(S=j.status)!=null&&S.includes("ativo")?"#dcfce7":(C=j.status)!=null&&C.includes("cancelado")?"#fee2e2":"#dbeafe",color:(E=j.status)!=null&&E.includes("ativo")?"#166534":(T=j.status)!=null&&T.includes("cancelado")?"#dc2626":"#1e40af"},children:(A=j.status)==null?void 0:A.toUpperCase().replace("_"," ")})}),l.jsx("td",{style:{padding:"1rem"},children:j.cidade?`${j.cidade}/${j.uf}`:"-"}),l.jsx("td",{style:{padding:"1rem"},children:l.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[l.jsx("button",{onClick:()=>g(j),disabled:m===j.id,title:"Emitir Boleto Consolidado",style:{background:"#fff7ed",color:"#c2410c",border:"1px solid #ffedd5",padding:"0.4rem 0.6rem",borderRadius:"4px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"},children:m===j.id?"...":l.jsx(eu,{size:14})}),l.jsx("button",{onClick:()=>{c(j),o(!0)},style:{border:"1px solid #ccc",background:"white",padding:"0.4rem 0.8rem",borderRadius:"4px",cursor:"pointer"},children:"Editar"})]})})]},j.id)})})]})}):l.jsx("div",{style:{display:"flex",gap:"1rem",overflowX:"auto",paddingBottom:"1rem"},children:["ativacao","ativo","ativo_inadimplente","transferido","cancelado","cancelado_inadimplente"].map(j=>{const S=x.filter(E=>E.status===j),C=w[j]||"#64748b";return l.jsxs("div",{style:{minWidth:"280px",flex:1,background:"#f8fafc",borderRadius:"8px",padding:"0.5rem",borderTop:`4px solid ${C}`},children:[l.jsxs("h4",{style:{padding:"0.8rem",borderBottom:"1px solid #e2e8f0",background:"white",borderRadius:"4px",display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0.5rem",color:C},children:[l.jsx("span",{style:{textTransform:"uppercase",fontSize:"0.8rem",fontWeight:"bold"},children:j.replace("_"," ")}),l.jsx("span",{style:{fontSize:"0.8rem",background:C,color:"white",padding:"0.1rem 0.5rem",borderRadius:"99px"},children:S.length})]}),l.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem"},children:S.map(E=>l.jsxs("div",{onClick:()=>{c(E),o(!0)},style:{background:"white",padding:"1rem",borderRadius:"4px",boxShadow:"0 1px 2px rgba(0,0,0,0.05)",cursor:"pointer",border:"1px solid transparent",transition:"0.2s"},onMouseEnter:T=>T.currentTarget.style.borderColor="var(--color-blue)",onMouseLeave:T=>T.currentTarget.style.borderColor="transparent",children:[l.jsx("div",{style:{fontWeight:"bold",marginBottom:"0.3rem"},children:E.name}),l.jsx("div",{style:{fontSize:"0.8rem",color:"#666"},children:E.cpf_cnpj}),l.jsx("div",{style:{fontSize:"0.8rem",color:"#666"},children:E.email}),l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:"0.8rem",fontSize:"0.75rem",color:"#999"},children:[l.jsx("span",{children:E.cidade}),l.jsx("span",{children:new Date(E.created_at).toLocaleDateString()})]})]},E.id))})]},j)})})}),i&&l.jsx(Vk,{subscriber:s,onClose:()=>o(!1),onSave:y,onDelete:_})]})}function VL({originator:e,onClose:t,onSave:r,onDelete:n}){const[a,i]=p.useState(!1),[o,s]=p.useState(!1),[c,u]=p.useState({name:"",cpf_cnpj:"",email:"",phone:"",pix_key:"",pix_key_type:"cpf",split_start:0,split_recurrent:0,cep:"",rua:"",numero:"",complemento:"",bairro:"",cidade:"",uf:""});p.useEffect(()=>{var v,x,b,y,g,w,_,j,S;e&&u({name:e.name||"",cpf_cnpj:e.cpf_cnpj||"",email:e.email||"",phone:e.phone||"",pix_key:e.pix_key||"",pix_key_type:e.pix_key_type||"cpf",split_start:((v=e.split_commission)==null?void 0:v.start)||0,split_recurrent:((x=e.split_commission)==null?void 0:x.recurrent)||0,cep:((b=e.address)==null?void 0:b.cep)||"",rua:((y=e.address)==null?void 0:y.rua)||"",numero:((g=e.address)==null?void 0:g.numero)||"",complemento:((w=e.address)==null?void 0:w.complemento)||"",bairro:((_=e.address)==null?void 0:_.bairro)||"",cidade:((j=e.address)==null?void 0:j.cidade)||"",uf:((S=e.address)==null?void 0:S.uf)||""})},[e]);const d=async()=>{const v=c.cep.replace(/\D/g,"");if(v.length===8){s(!0);try{const x=await mn(v);u(b=>({...b,rua:x.rua||"",bairro:x.bairro||"",cidade:x.cidade||"",uf:x.uf||""}))}catch(x){console.error("Erro CEP",x),alert("Erro ao buscar CEP")}finally{s(!1)}}};p.useEffect(()=>{if(c.pix_key_type==="aleatoria")return;let v="";c.pix_key_type==="cpf"||c.pix_key_type==="cnpj"?v=c.cpf_cnpj:c.pix_key_type==="email"?v=c.email:c.pix_key_type==="telefone"&&(v=c.phone),v!==c.pix_key&&u(x=>({...x,pix_key:v}))},[c.pix_key_type,c.cpf_cnpj,c.email,c.phone]);const f=async v=>{if(v.preventDefault(),!nu(c.cpf_cnpj)){alert("CPF ou CNPJ invlido! Verifique o nmero digitado.");return}if(!eo(c.phone)){alert("Telefone invlido! Digite o DDD + 9 dgitos. Ex: (11) 99999-9999");return}i(!0);const x={name:c.name,cpf_cnpj:c.cpf_cnpj,email:c.email,phone:c.phone,pix_key:c.pix_key,pix_key_type:c.pix_key_type,split_commission:{start:Number(c.split_start)||0,recurrent:Number(c.split_recurrent)||0},address:{cep:c.cep,rua:c.rua,numero:c.numero,complemento:c.complemento,bairro:c.bairro,cidade:c.cidade,uf:c.uf}};try{let b;if(e!=null&&e.id?b=await I.from("originators_v2").update(x).eq("id",e.id).select().single():b=await I.from("originators_v2").insert(x).select().single(),b.error)throw b.error;r(b.data),t()}catch(b){alert("Erro ao salvar originador: "+b.message)}finally{i(!1)}},h=async()=>{if(confirm("Excluir este originador?")){i(!0);try{const{error:v}=await I.from("originators_v2").delete().eq("id",e.id);if(v)throw v;n&&n(e.id),t()}catch(v){alert("Erro ao excluir: "+v.message)}finally{i(!1)}}},m=e?`https://b2wenergia.com.br/convite?name=${encodeURIComponent(e.name)}&id=${e.id}`:"Salve para gerar URL";return l.jsx("div",{className:"modal-overlay",children:l.jsxs("div",{className:"modal-content",style:{maxWidth:"800px"},children:[l.jsxs("div",{className:"modal-header",children:[l.jsx("h2",{style:{fontSize:"1.25rem"},children:e?"Editar Originador":"Novo Originador"}),l.jsx("button",{onClick:t,className:"modal-close",children:""})]}),(e==null?void 0:e.id)&&l.jsxs("div",{style:{marginBottom:"1.5rem",padding:"1rem",background:"#e0f2fe",borderRadius:"var(--radius-md)",border:"1px solid #bae6fd"},children:[l.jsx("label",{className:"label",style:{color:"#0369a1"},children:"URL de Indicao"}),l.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[l.jsx("input",{value:`https://b2wenergia.com.br/convite?name=${encodeURIComponent(e.name)}&id=${e.id}`,className:"input",style:{color:"#0284c7"}}),l.jsx("button",{type:"button",onClick:()=>{navigator.clipboard.writeText(`https://b2wenergia.com.br/convite?name=${encodeURIComponent(e.name)}&id=${e.id}`),alert("Link copiado!")},className:"btn",style:{background:"#0ea5e9",color:"white"},children:"Copiar"})]})]}),l.jsxs("form",{onSubmit:f,style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:[l.jsx("div",{style:{gridColumn:"1 / -1"},children:l.jsx("h3",{style:{fontSize:"1rem",color:"var(--color-text-medium)",marginBottom:"1rem",borderBottom:"1px solid var(--color-border)",paddingBottom:"0.5rem"},children:"Dados Pessoais"})}),l.jsxs("div",{className:"form-group",style:{gridColumn:"1 / -1"},children:[l.jsx("label",{className:"label",children:"Nome Completo"}),l.jsx("input",{value:c.name,onChange:v=>u({...c,name:v.target.value}),className:"input",required:!0})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"label",children:"CPF/CNPJ"}),l.jsx("input",{value:c.cpf_cnpj,onChange:v=>u({...c,cpf_cnpj:ru(v.target.value)}),placeholder:"000.000.000-00",className:"input"})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"label",children:"Email"}),l.jsx("input",{type:"email",value:c.email,onChange:v=>u({...c,email:v.target.value}),className:"input"})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"label",children:"Telefone"}),l.jsx("input",{value:c.phone,onChange:v=>u({...c,phone:hi(v.target.value)}),placeholder:"(00) 00000-0000",className:"input"})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"label",children:"Tipo Chave PIX"}),l.jsxs("select",{value:c.pix_key_type,onChange:v=>u({...c,pix_key_type:v.target.value}),className:"select",children:[l.jsx("option",{value:"cpf",children:"CPF"}),l.jsx("option",{value:"cnpj",children:"CNPJ"}),l.jsx("option",{value:"email",children:"Email"}),l.jsx("option",{value:"telefone",children:"Telefone"}),l.jsx("option",{value:"aleatoria",children:"Aleatria"})]})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"label",children:"Chave PIX"}),l.jsx("input",{value:c.pix_key,onChange:v=>u({...c,pix_key:v.target.value}),className:"input"})]}),l.jsx("div",{style:{gridColumn:"1 / -1",marginTop:"1rem"},children:l.jsx("h3",{style:{fontSize:"1rem",color:"var(--color-text-medium)",marginBottom:"1rem",borderBottom:"1px solid var(--color-border)",paddingBottom:"0.5rem"},children:"Endereo"})}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"label",children:"CEP"}),l.jsxs("div",{style:{position:"relative"},children:[l.jsx("input",{value:c.cep,onChange:v=>u({...c,cep:v.target.value}),onBlur:d,placeholder:"00000-000",className:"input"}),o&&l.jsx("span",{style:{position:"absolute",right:"10px",top:"10px",fontSize:"0.7rem",color:"var(--color-text-light)"},children:"..."})]})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"label",children:"Rua"}),l.jsx("input",{value:c.rua,onChange:v=>u({...c,rua:v.target.value}),className:"input"})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"label",children:"Nmero"}),l.jsx("input",{value:c.numero,onChange:v=>u({...c,numero:v.target.value}),className:"input"})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"label",children:"Complemento"}),l.jsx("input",{value:c.complemento,onChange:v=>u({...c,complemento:v.target.value}),className:"input"})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"label",children:"Bairro"}),l.jsx("input",{value:c.bairro,onChange:v=>u({...c,bairro:v.target.value}),className:"input"})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"label",children:"Cidade"}),l.jsx("input",{value:c.cidade,onChange:v=>u({...c,cidade:v.target.value}),className:"input"})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"label",children:"UF"}),l.jsx("input",{value:c.uf,onChange:v=>u({...c,uf:v.target.value}),className:"input"})]}),l.jsx("div",{style:{gridColumn:"1 / -1",marginTop:"1rem"},children:l.jsx("h3",{style:{fontSize:"1rem",color:"var(--color-text-medium)",marginBottom:"1rem",borderBottom:"1px solid var(--color-border)",paddingBottom:"0.5rem"},children:"Split de Comisso (%)"})}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"label",children:"Start (Primeira Fatura)"}),l.jsx("input",{type:"number",step:"0.01",value:c.split_start,onChange:v=>u({...c,split_start:v.target.value}),className:"input"})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{className:"label",children:"Recorrente (Mensal)"}),l.jsx("input",{type:"number",step:"0.01",value:c.split_recurrent,onChange:v=>u({...c,split_recurrent:v.target.value}),className:"input"})]}),e&&l.jsxs("div",{style:{gridColumn:"1 / -1",marginTop:"1rem",padding:"1rem",background:"#ecfdf5",borderRadius:"var(--radius-md)",border:"1px solid #a7f3d0"},children:[l.jsx("label",{className:"label",style:{color:"#047857"},children:"URL de Indicao"}),l.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[l.jsx("input",{readOnly:!0,value:m,className:"input",style:{border:"1px solid #10b981"}}),l.jsx("button",{type:"button",onClick:()=>{navigator.clipboard.writeText(m),alert("Link copiado: "+m)},className:"btn",style:{background:"#10b981",color:"white"},children:"Copiar"})]})]}),l.jsxs("div",{className:"modal-footer",style:{gridColumn:"1 / -1"},children:[e&&n&&l.jsx("button",{type:"button",onClick:h,className:"btn btn-danger",style:{marginRight:"auto"},children:"Excluir"}),l.jsx("button",{type:"button",onClick:t,className:"btn btn-secondary",children:"Cancelar"}),l.jsx("button",{type:"submit",disabled:a,className:"btn btn-primary",children:a?"Salvando...":"Salvar Originador"})]})]})]})})}function KL(){const[e,t]=p.useState([]),[r,n]=p.useState(!0),[a,i]=p.useState(""),[o,s]=p.useState(!1),[c,u]=p.useState(null);p.useEffect(()=>{d()},[]);const d=async()=>{n(!0);const{data:g,error:w}=await I.from("originators_v2").select("*").order("name");w?console.error("Error fetching originators:",w):t(g||[]),n(!1)},f=async()=>{if(confirm("Deseja processar as comisses deste ms? Isso ir gerar registros financeiros para todas as faturas pagas.")){n(!0);try{const g=new Date().toISOString().split("T")[0],{data:w,error:_}=await I.rpc("generate_monthly_commissions",{target_date:g});if(_)throw _;alert(`Processamento concludo!
Faturas processadas: ${w.invoices_processed}
Valor total gerado: R$ ${w.total_commission_value}`)}catch(g){console.error("Error processing commissions:",g),alert("Erro ao processar comisses: "+(g.message||"Erro desconhecido"))}finally{n(!1)}}},h=g=>{u(g),s(!0)},m=()=>{u(null),s(!0)},v=g=>{d()},x=g=>{d()},b=g=>{const w=`${window.location.origin}/clientes?id=${g}`;navigator.clipboard.writeText(w),alert("Link copiado: "+w)},y=e.filter(g=>{var w,_;return((w=g.name)==null?void 0:w.toLowerCase().includes(a.toLowerCase()))||((_=g.email)==null?void 0:_.toLowerCase().includes(a.toLowerCase()))});return l.jsxs("div",{children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[l.jsx("h2",{children:"Gesto de Originadores"}),l.jsxs("div",{style:{display:"flex",gap:"1rem"},children:[l.jsx("button",{onClick:f,className:"btn",style:{background:"var(--color-success)",color:"white"},children:" Processar Comisses"}),l.jsxs("button",{onClick:m,className:"btn btn-accent",children:[l.jsx(Vs,{size:18})," Novo Originador"]})]})]}),l.jsxs("div",{style:{marginBottom:"1rem",position:"relative"},children:[l.jsx("input",{type:"text",placeholder:"Buscar originador...",value:a,onChange:g=>i(g.target.value),className:"input",style:{paddingLeft:"2.5rem"}}),l.jsx(lb,{size:18,style:{position:"absolute",left:"10px",top:"50%",transform:"translateY(-50%)",color:"var(--color-text-light)"}})]}),r?l.jsx("p",{children:"Carregando..."}):l.jsx("div",{className:"card",style:{padding:0,overflow:"hidden"},children:l.jsx("div",{className:"table-container",children:l.jsxs("table",{className:"table",children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{children:"Nome"}),l.jsx("th",{children:"Contato"}),l.jsx("th",{children:"Comisso (Start/Rec.)"}),l.jsx("th",{children:"Chave PIX"}),l.jsx("th",{children:"Link"}),l.jsx("th",{style:{textAlign:"right"},children:"Aes"})]})}),l.jsx("tbody",{children:y.length===0?l.jsx("tr",{children:l.jsx("td",{colSpan:"6",style:{padding:"1rem",textAlign:"center",color:"var(--color-text-light)"},children:"Nenhum originador encontrado."})}):y.map(g=>{var w,_;return l.jsxs("tr",{children:[l.jsxs("td",{children:[l.jsx("div",{style:{fontWeight:"bold",color:"var(--color-blue)"},children:g.name}),l.jsx("div",{style:{fontSize:"0.8rem",color:"var(--color-text-medium)"},children:g.cpf_cnpj})]}),l.jsxs("td",{children:[l.jsx("div",{style:{fontSize:"0.9rem"},children:g.email}),l.jsx("div",{style:{fontSize:"0.9rem"},children:g.phone})]}),l.jsx("td",{children:l.jsxs("span",{className:"badge badge-success",children:[((w=g.split_commission)==null?void 0:w.start)||0,"% / ",((_=g.split_commission)==null?void 0:_.recurrent)||0,"%"]})}),l.jsx("td",{style:{fontSize:"0.9rem"},children:g.pix_key||"-"}),l.jsx("td",{children:l.jsx("button",{onClick:()=>b(g.id),title:"Copiar Link de Indicao",className:"btn btn-secondary",style:{padding:"0.3rem",border:"none"},children:l.jsx(QI,{size:16,color:"var(--color-blue)"})})}),l.jsx("td",{style:{textAlign:"right"},children:l.jsx("button",{onClick:()=>h(g),className:"btn btn-secondary",style:{padding:"0.3rem",border:"none",color:"var(--color-text-medium)"},children:l.jsx(N8,{size:18})})})]},g.id)})})]})})}),o&&l.jsx(VL,{originator:c,onClose:()=>s(!1),onSave:v,onDelete:x})]})}function GL({supplier:e,onClose:t,onSave:r,onDelete:n}){const{showAlert:a,showConfirm:i}=Gr(),[o,s]=p.useState(!1),[c,u]=p.useState([]),[d,f]=p.useState({name:"",cnpj:"",email:"",phone:"",status:"ativacao",legal_partner_name:"",legal_partner_cpf:"",pix_key:"",pix_key_type:"cpf",cep:"",rua:"",numero:"",complemento:"",bairro:"",cidade:"",uf:""});p.useEffect(()=>{var y,g,w,_,j,S,C,E,T;e&&(f({name:e.name||"",cnpj:e.cnpj||"",email:e.email||"",phone:e.phone||"",status:e.status||"ativacao",legal_partner_name:e.legal_partner_name||"",legal_partner_cpf:e.legal_partner_cpf||"",pix_key:e.pix_key||"",pix_key_type:e.pix_key_type||"cpf",cep:((y=e.address)==null?void 0:y.cep)||"",rua:((g=e.address)==null?void 0:g.logradouro)||((w=e.address)==null?void 0:w.rua)||"",numero:((_=e.address)==null?void 0:_.numero)||"",complemento:((j=e.address)==null?void 0:j.complemento)||"",bairro:((S=e.address)==null?void 0:S.bairro)||"",cidade:((C=e.address)==null?void 0:C.municipio)||((E=e.address)==null?void 0:E.cidade)||"",uf:((T=e.address)==null?void 0:T.uf)||""}),h(e.id))},[e]);const h=async y=>{const{data:g}=await I.from("usinas").select("id, name, status").eq("supplier_id",y);u(g||[])},m=async()=>{const y=d.cnpj.replace(/\D/g,"");if(y.length===14){s(!0);try{const g=await xc(y);g&&f(w=>{var _,j,S,C,E,T,A,R,k;return{...w,name:g.nome||w.name,email:g.email||w.email,phone:g.telefone||w.phone,legal_partner_name:((_=g.legal_partner)==null?void 0:_.nome)||w.legal_partner_name,legal_partner_cpf:((j=g.legal_partner)==null?void 0:j.cpf)||w.legal_partner_cpf,cep:((S=g.address)==null?void 0:S.cep)||w.cep,rua:((C=g.address)==null?void 0:C.logradouro)||w.rua,numero:((E=g.address)==null?void 0:E.numero)||w.numero,complemento:((T=g.address)==null?void 0:T.complemento)||w.complemento,bairro:((A=g.address)==null?void 0:A.bairro)||w.bairro,cidade:((R=g.address)==null?void 0:R.municipio)||w.cidade,uf:((k=g.address)==null?void 0:k.uf)||w.uf}})}catch(g){console.error("Erro CNPJ",g),a("Erro ao buscar CNPJ. Verifique se o nmero est correto.","error")}finally{s(!1)}}},v=y=>{const g=y.target.value;let w=d.pix_key;switch(g){case"telefone":w=d.phone;break;case"email":w=d.email;break;case"cnpj":w=d.cnpj;break;case"cpf":d.legal_partner_cpf&&(w=d.legal_partner_cpf);break}f(_=>({..._,pix_key_type:g,pix_key:w}))},x=async y=>{if(y.preventDefault(),d.cnpj&&!nu(d.cnpj)){a("CNPJ invlido!","warning");return}if(d.phone&&!eo(d.phone)){a("Telefone invlido!","warning");return}s(!0);try{console.log("Submitting payload:",d);const g={name:d.name,cnpj:d.cnpj,email:d.email,phone:d.phone,status:d.status,legal_partner_name:d.legal_partner_name,legal_partner_cpf:d.legal_partner_cpf,pix_key:d.pix_key,pix_key_type:d.pix_key_type,address:{cep:d.cep,logradouro:d.rua,rua:d.rua,numero:d.numero,complemento:d.complemento,bairro:d.bairro,municipio:d.cidade,cidade:d.cidade,uf:d.uf}};console.log("Payload ready:",g);let w;if(e!=null&&e.id?w=await I.from("suppliers").update(g).eq("id",e.id).select().single():w=await I.from("suppliers").insert(g).select().single(),console.log("Supabase result:",w),w.error)throw w.error;r(w.data),t()}catch(g){console.error("Save error details:",g);const w=g.message||JSON.stringify(g);w.includes("JWT expired")?(a("Sua sesso expirou. Por favor, faa login novamente.","error"),await I.auth.signOut(),window.location.href="/login"):a("Erro ao salvar fornecedor: "+w,"error")}finally{s(!1)}},b=async()=>{if(c.length>0){a("No  possvel excluir fornecedor com usinas vinculadas.","warning");return}if(await i("Excluir este fornecedor?")){s(!0);try{const{error:g}=await I.from("suppliers").delete().eq("id",e.id);if(g)throw g;n&&n(e.id),t()}catch(g){a("Erro ao excluir: "+g.message,"error")}finally{s(!1)}}};return l.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},children:l.jsxs("div",{style:{background:"white",padding:"2rem",borderRadius:"8px",width:"90%",maxWidth:"800px",maxHeight:"90vh",overflowY:"auto"},children:[l.jsx("h3",{style:{marginBottom:"1.5rem",borderBottom:"1px solid #eee",paddingBottom:"0.5rem"},children:e?"Editar Fornecedor":"Novo Fornecedor"}),l.jsxs("form",{onSubmit:x,style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:[l.jsxs("div",{style:{gridColumn:"1 / -1"},children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"CNPJ * (Busca Automtica)"}),l.jsx("input",{value:d.cnpj,onChange:y=>f({...d,cnpj:y.target.value}),onBlur:m,placeholder:"00.000.000/0000-00",style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px",background:"#f8fafc"}})]}),l.jsxs("div",{style:{gridColumn:"1 / -1"},children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Razo Social / Nome *"}),l.jsx("input",{required:!0,value:d.name,onChange:y=>f({...d,name:y.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Nome Scio Adm"}),l.jsx("input",{value:d.legal_partner_name,onChange:y=>f({...d,legal_partner_name:y.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"CPF Scio Adm"}),l.jsx("input",{value:d.legal_partner_cpf,onChange:y=>f({...d,legal_partner_cpf:y.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),l.jsx("div",{style:{gridColumn:"1 / -1",fontWeight:"bold",marginTop:"0.5rem",color:"var(--color-blue)"},children:"Contato e Financeiro"}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"CPF/CNPJ"}),l.jsx("input",{value:d.cnpj,onChange:y=>f({...d,cnpj:ru(y.target.value)}),onBlur:m,placeholder:"00.000.000/0000-00",style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px",background:"#f8fafc"}})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Telefone"}),l.jsx("input",{value:d.phone,onChange:y=>f({...d,phone:hi(y.target.value)}),placeholder:"(00) 00000-0000",style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Email"}),l.jsx("input",{type:"email",value:d.email,onChange:y=>f({...d,email:y.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Tipo Chave Pix"}),l.jsxs("select",{value:d.pix_key_type,onChange:v,style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"},children:[l.jsx("option",{value:"cpf",children:"CPF"}),l.jsx("option",{value:"cnpj",children:"CNPJ"}),l.jsx("option",{value:"email",children:"Email"}),l.jsx("option",{value:"telefone",children:"Telefone"}),l.jsx("option",{value:"aleatoria",children:"Aleatria"})]})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Chave Pix"}),l.jsx("input",{value:d.pix_key,onChange:y=>f({...d,pix_key:y.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Status"}),l.jsxs("select",{value:d.status,onChange:y=>f({...d,status:y.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"},children:[l.jsx("option",{value:"ativacao",children:"Em Ativao"}),l.jsx("option",{value:"ativo",children:"Ativo"}),l.jsx("option",{value:"inativo",children:"Inativo"})]})]}),l.jsx("div",{style:{gridColumn:"1 / -1",fontWeight:"bold",marginTop:"0.5rem",color:"var(--color-blue)"},children:"Endereo"}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"CEP"}),l.jsx("input",{value:d.cep,onChange:y=>f({...d,cep:y.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Rua"}),l.jsx("input",{value:d.rua,onChange:y=>f({...d,rua:y.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Nmero"}),l.jsx("input",{value:d.numero,onChange:y=>f({...d,numero:y.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Complemento"}),l.jsx("input",{value:d.complemento,onChange:y=>f({...d,complemento:y.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Bairro"}),l.jsx("input",{value:d.bairro,onChange:y=>f({...d,bairro:y.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.3rem"},children:"Cidade/Estado"}),l.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[l.jsx("input",{value:d.cidade,onChange:y=>f({...d,cidade:y.target.value}),placeholder:"Cidade",style:{flex:2,padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}}),l.jsx("input",{value:d.uf,onChange:y=>f({...d,uf:y.target.value}),placeholder:"UF",style:{flex:1,padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]})]}),e&&c.length>0&&l.jsxs("div",{style:{gridColumn:"1 / -1",marginTop:"1rem",background:"#f0f9ff",padding:"1rem",borderRadius:"8px"},children:[l.jsx("h4",{style:{fontSize:"0.9rem",fontWeight:"bold",marginBottom:"0.5rem",color:"#0369a1"},children:"Usinas Vinculadas"}),l.jsx("ul",{style:{paddingLeft:"1.5rem",fontSize:"0.9rem"},children:c.map(y=>l.jsxs("li",{children:[y.name," - ",l.jsx("span",{style:{opacity:.7},children:y.status})]},y.id))})]}),l.jsxs("div",{style:{gridColumn:"1 / -1",display:"flex",justifyContent:"space-between",marginTop:"1rem",paddingTop:"1rem",borderTop:"1px solid #eee"},children:[l.jsx("div",{children:e&&n&&l.jsx("button",{type:"button",onClick:b,style:{padding:"0.5rem 1rem",background:"#fee2e2",color:"#dc2626",borderRadius:"4px",border:"1px solid #fecaca"},children:"Excluir"})}),l.jsxs("div",{style:{display:"flex",gap:"1rem"},children:[l.jsx("button",{type:"button",onClick:t,style:{padding:"0.5rem 1rem",background:"#ccc",borderRadius:"4px"},children:"Cancelar"}),l.jsx("button",{type:"submit",disabled:o,style:{padding:"0.5rem 1rem",background:"var(--color-blue)",color:"white",borderRadius:"4px"},children:o?"Salvando...":"Salvar"})]})]})]})]})})}function YL(){const[e,t]=p.useState([]),[r,n]=p.useState(!0),[a,i]=p.useState(!1),[o,s]=p.useState(null);p.useEffect(()=>{c()},[]);const c=async()=>{n(!0);try{const{data:f,error:h}=await I.from("suppliers").select("*").order("created_at",{ascending:!1});if(h)throw h;t(f||[])}catch(f){console.error("Erro suppliers",f)}finally{n(!1)}},u=()=>{c(),i(!1)},d=f=>{t(e.filter(h=>h.id!==f)),i(!1)};return l.jsxs("div",{children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"2rem"},children:[l.jsx("h2",{children:"Fornecedores (Geradores)"}),l.jsx("button",{onClick:()=>{s(null),i(!0)},className:"btn btn-primary",children:"+ Novo Fornecedor"})]}),r?l.jsx("p",{children:"Carregando..."}):l.jsx("div",{className:"card",style:{padding:0,overflow:"hidden"},children:l.jsx("div",{className:"table-container",children:e.length===0?l.jsx("p",{style:{padding:"2rem",textAlign:"center",color:"var(--color-text-light)"},children:"Nenhum fornecedor cadastrado."}):l.jsxs("table",{className:"table",children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{children:"Nome/Razo Social"}),l.jsx("th",{children:"CNPJ"}),l.jsx("th",{children:"Contato"}),l.jsx("th",{children:"Status"}),l.jsx("th",{children:"Aes"})]})}),l.jsx("tbody",{children:e.map(f=>{var h;return l.jsxs("tr",{children:[l.jsx("td",{style:{fontWeight:"bold"},children:f.name}),l.jsx("td",{children:f.cnpj}),l.jsxs("td",{children:[l.jsx("div",{children:f.email}),l.jsx("div",{style:{fontSize:"0.8rem",color:"var(--color-text-medium)"},children:f.phone})]}),l.jsx("td",{children:l.jsx("span",{style:{padding:"0.2rem 0.6rem",borderRadius:"99px",fontSize:"0.8rem",fontWeight:"500",background:f.status==="ativo"?"#dcfce7":f.status==="ativacao"?"#fef9c3":"#f1f5f9",color:f.status==="ativo"?"#166534":f.status==="ativacao"?"#854d0e":"#64748b"},children:f.status==="ativacao"?"ATIVAO":(h=f.status)==null?void 0:h.toUpperCase()})}),l.jsx("td",{children:l.jsx("button",{onClick:()=>{s(f),i(!0)},className:"btn btn-secondary",style:{padding:"0.3rem 0.6rem",fontSize:"0.8rem"},children:"Editar"})})]},f.id)})})]})})}),a&&l.jsx(GL,{supplier:o,onClose:()=>i(!1),onSave:u,onDelete:d})]})}function bT(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=bT(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Ie(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=bT(e))&&(n&&(n+=" "),n+=t);return n}var XL=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function Cb(e){if(typeof e!="string")return!1;var t=XL;return t.includes(e)}var ZL=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],JL=new Set(ZL);function xT(e){return typeof e!="string"?!1:JL.has(e)}function wT(e){return typeof e=="string"&&e.startsWith("data-")}function sa(e){if(typeof e!="object"||e===null)return{};var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(xT(r)||wT(r))&&(t[r]=e[r]);return t}function Eb(e){if(e==null)return null;if(p.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return sa(t)}return typeof e=="object"&&!Array.isArray(e)?sa(e):null}function Fr(e){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(xT(r)||wT(r)||Cb(r))&&(t[r]=e[r]);return t}var QL=["children","width","height","viewBox","className","style","title","desc"];function Gv(){return Gv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Gv.apply(null,arguments)}function eU(e,t){if(e==null)return{};var r,n,a=tU(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function tU(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var _T=p.forwardRef((e,t)=>{var{children:r,width:n,height:a,viewBox:i,className:o,style:s,title:c,desc:u}=e,d=eU(e,QL),f=i||{width:n,height:a,x:0,y:0},h=Ie("recharts-surface",o);return p.createElement("svg",Gv({},Fr(d),{className:h,width:n,height:a,style:s,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height),ref:t}),p.createElement("title",null,c),p.createElement("desc",null,u),r)}),rU=["children","className"];function Yv(){return Yv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Yv.apply(null,arguments)}function nU(e,t){if(e==null)return{};var r,n,a=aU(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function aU(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var la=p.forwardRef((e,t)=>{var{children:r,className:n}=e,a=nU(e,rU),i=Ie("recharts-layer",n);return p.createElement("g",Yv({className:i},Fr(a),{ref:t}),r)}),iU=p.createContext(null);function Te(e){return function(){return e}}const jT=Math.cos,Rf=Math.sin,gn=Math.sqrt,Df=Math.PI,am=2*Df,Xv=Math.PI,Zv=2*Xv,Ti=1e-6,oU=Zv-Ti;function ST(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function sU(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return ST;const r=10**t;return function(n){this._+=n[0];for(let a=1,i=n.length;a<i;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class lU{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?ST:sU(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,i,o){this._append`C${+t},${+r},${+n},${+a},${this._x1=+i},${this._y1=+o}`}arcTo(t,r,n,a,i){if(t=+t,r=+r,n=+n,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,s=this._y1,c=n-t,u=a-r,d=o-t,f=s-r,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(h>Ti)if(!(Math.abs(f*c-u*d)>Ti)||!i)this._append`L${this._x1=t},${this._y1=r}`;else{let m=n-o,v=a-s,x=c*c+u*u,b=m*m+v*v,y=Math.sqrt(x),g=Math.sqrt(h),w=i*Math.tan((Xv-Math.acos((x+h-b)/(2*y*g)))/2),_=w/g,j=w/y;Math.abs(_-1)>Ti&&this._append`L${t+_*d},${r+_*f}`,this._append`A${i},${i},0,0,${+(f*m>d*v)},${this._x1=t+j*c},${this._y1=r+j*u}`}}arc(t,r,n,a,i,o){if(t=+t,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let s=n*Math.cos(a),c=n*Math.sin(a),u=t+s,d=r+c,f=1^o,h=o?a-i:i-a;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>Ti||Math.abs(this._y1-d)>Ti)&&this._append`L${u},${d}`,n&&(h<0&&(h=h%Zv+Zv),h>oU?this._append`A${n},${n},0,1,${f},${t-s},${r-c}A${n},${n},0,1,${f},${this._x1=u},${this._y1=d}`:h>Ti&&this._append`A${n},${n},0,${+(h>=Xv)},${f},${this._x1=t+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function Ob(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new lU(t)}function Ab(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function CT(e){this._context=e}CT.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function im(e){return new CT(e)}function ET(e){return e[0]}function OT(e){return e[1]}function AT(e,t){var r=Te(!0),n=null,a=im,i=null,o=Ob(s);e=typeof e=="function"?e:e===void 0?ET:Te(e),t=typeof t=="function"?t:t===void 0?OT:Te(t);function s(c){var u,d=(c=Ab(c)).length,f,h=!1,m;for(n==null&&(i=a(m=o())),u=0;u<=d;++u)!(u<d&&r(f=c[u],u,c))===h&&((h=!h)?i.lineStart():i.lineEnd()),h&&i.point(+e(f,u,c),+t(f,u,c));if(m)return i=null,m+""||null}return s.x=function(c){return arguments.length?(e=typeof c=="function"?c:Te(+c),s):e},s.y=function(c){return arguments.length?(t=typeof c=="function"?c:Te(+c),s):t},s.defined=function(c){return arguments.length?(r=typeof c=="function"?c:Te(!!c),s):r},s.curve=function(c){return arguments.length?(a=c,n!=null&&(i=a(n)),s):a},s.context=function(c){return arguments.length?(c==null?n=i=null:i=a(n=c),s):n},s}function od(e,t,r){var n=null,a=Te(!0),i=null,o=im,s=null,c=Ob(u);e=typeof e=="function"?e:e===void 0?ET:Te(+e),t=typeof t=="function"?t:Te(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?OT:Te(+r);function u(f){var h,m,v,x=(f=Ab(f)).length,b,y=!1,g,w=new Array(x),_=new Array(x);for(i==null&&(s=o(g=c())),h=0;h<=x;++h){if(!(h<x&&a(b=f[h],h,f))===y)if(y=!y)m=h,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),v=h-1;v>=m;--v)s.point(w[v],_[v]);s.lineEnd(),s.areaEnd()}y&&(w[h]=+e(b,h,f),_[h]=+t(b,h,f),s.point(n?+n(b,h,f):w[h],r?+r(b,h,f):_[h]))}if(g)return s=null,g+""||null}function d(){return AT().defined(a).curve(o).context(i)}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:Te(+f),n=null,u):e},u.x0=function(f){return arguments.length?(e=typeof f=="function"?f:Te(+f),u):e},u.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Te(+f),u):n},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:Te(+f),r=null,u):t},u.y0=function(f){return arguments.length?(t=typeof f=="function"?f:Te(+f),u):t},u.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Te(+f),u):r},u.lineX0=u.lineY0=function(){return d().x(e).y(t)},u.lineY1=function(){return d().x(e).y(r)},u.lineX1=function(){return d().x(n).y(t)},u.defined=function(f){return arguments.length?(a=typeof f=="function"?f:Te(!!f),u):a},u.curve=function(f){return arguments.length?(o=f,i!=null&&(s=o(i)),u):o},u.context=function(f){return arguments.length?(f==null?i=s=null:s=o(i=f),u):i},u}class kT{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function cU(e){return new kT(e,!0)}function uU(e){return new kT(e,!1)}const kb={draw(e,t){const r=gn(t/Df);e.moveTo(r,0),e.arc(0,0,r,0,am)}},dU={draw(e,t){const r=gn(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},TT=gn(1/3),fU=TT*2,hU={draw(e,t){const r=gn(t/fU),n=r*TT;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},mU={draw(e,t){const r=gn(t),n=-r/2;e.rect(n,n,r,r)}},pU=.8908130915292852,NT=Rf(Df/10)/Rf(7*Df/10),gU=Rf(am/10)*NT,vU=-jT(am/10)*NT,yU={draw(e,t){const r=gn(t*pU),n=gU*r,a=vU*r;e.moveTo(0,-r),e.lineTo(n,a);for(let i=1;i<5;++i){const o=am*i/5,s=jT(o),c=Rf(o);e.lineTo(c*r,-s*r),e.lineTo(s*n-c*a,c*n+s*a)}e.closePath()}},lg=gn(3),bU={draw(e,t){const r=-gn(t/(lg*3));e.moveTo(0,r*2),e.lineTo(-lg*r,-r),e.lineTo(lg*r,-r),e.closePath()}},Tr=-.5,Nr=gn(3)/2,Jv=1/gn(12),xU=(Jv/2+1)*3,wU={draw(e,t){const r=gn(t/xU),n=r/2,a=r*Jv,i=n,o=r*Jv+r,s=-i,c=o;e.moveTo(n,a),e.lineTo(i,o),e.lineTo(s,c),e.lineTo(Tr*n-Nr*a,Nr*n+Tr*a),e.lineTo(Tr*i-Nr*o,Nr*i+Tr*o),e.lineTo(Tr*s-Nr*c,Nr*s+Tr*c),e.lineTo(Tr*n+Nr*a,Tr*a-Nr*n),e.lineTo(Tr*i+Nr*o,Tr*o-Nr*i),e.lineTo(Tr*s+Nr*c,Tr*c-Nr*s),e.closePath()}};function _U(e,t){let r=null,n=Ob(a);e=typeof e=="function"?e:Te(e||kb),t=typeof t=="function"?t:Te(t===void 0?64:+t);function a(){let i;if(r||(r=i=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),i)return r=null,i+""||null}return a.type=function(i){return arguments.length?(e=typeof i=="function"?i:Te(i),a):e},a.size=function(i){return arguments.length?(t=typeof i=="function"?i:Te(+i),a):t},a.context=function(i){return arguments.length?(r=i??null,a):r},a}function Pf(){}function Mf(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function RT(e){this._context=e}RT.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Mf(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Mf(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function jU(e){return new RT(e)}function DT(e){this._context=e}DT.prototype={areaStart:Pf,areaEnd:Pf,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Mf(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function SU(e){return new DT(e)}function PT(e){this._context=e}PT.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Mf(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function CU(e){return new PT(e)}function MT(e){this._context=e}MT.prototype={areaStart:Pf,areaEnd:Pf,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function EU(e){return new MT(e)}function H_(e){return e<0?-1:1}function F_(e,t,r){var n=e._x1-e._x0,a=t-e._x1,i=(e._y1-e._y0)/(n||a<0&&-0),o=(r-e._y1)/(a||n<0&&-0),s=(i*a+o*n)/(n+a);return(H_(i)+H_(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(s))||0}function V_(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function cg(e,t,r){var n=e._x0,a=e._y0,i=e._x1,o=e._y1,s=(i-n)/3;e._context.bezierCurveTo(n+s,a+s*t,i-s,o-s*r,i,o)}function zf(e){this._context=e}zf.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:cg(this,this._t0,V_(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,cg(this,V_(this,r=F_(this,e,t)),r);break;default:cg(this,this._t0,r=F_(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function zT(e){this._context=new BT(e)}(zT.prototype=Object.create(zf.prototype)).point=function(e,t){zf.prototype.point.call(this,t,e)};function BT(e){this._context=e}BT.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,a,i){this._context.bezierCurveTo(t,e,n,r,i,a)}};function OU(e){return new zf(e)}function AU(e){return new zT(e)}function IT(e){this._context=e}IT.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=K_(e),a=K_(t),i=0,o=1;o<r;++i,++o)this._context.bezierCurveTo(n[0][i],a[0][i],n[1][i],a[1][i],e[o],t[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function K_(e){var t,r=e.length-1,n,a=new Array(r),i=new Array(r),o=new Array(r);for(a[0]=0,i[0]=2,o[0]=e[0]+2*e[1],t=1;t<r-1;++t)a[t]=1,i[t]=4,o[t]=4*e[t]+2*e[t+1];for(a[r-1]=2,i[r-1]=7,o[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=a[t]/i[t-1],i[t]-=n,o[t]-=n*o[t-1];for(a[r-1]=o[r-1]/i[r-1],t=r-2;t>=0;--t)a[t]=(o[t]-a[t+1])/i[t];for(i[r-1]=(e[r]+a[r-1])/2,t=0;t<r-1;++t)i[t]=2*e[t+1]-a[t+1];return[a,i]}function kU(e){return new IT(e)}function om(e,t){this._context=e,this._t=t}om.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function TU(e){return new om(e,.5)}function NU(e){return new om(e,0)}function RU(e){return new om(e,1)}function to(e,t){if((o=e.length)>1)for(var r=1,n,a,i=e[t[0]],o,s=i.length;r<o;++r)for(a=i,i=e[t[r]],n=0;n<s;++n)i[n][1]+=i[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function Qv(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function DU(e,t){return e[t]}function PU(e){const t=[];return t.key=e,t}function MU(){var e=Te([]),t=Qv,r=to,n=DU;function a(i){var o=Array.from(e.apply(this,arguments),PU),s,c=o.length,u=-1,d;for(const f of i)for(s=0,++u;s<c;++s)(o[s][u]=[0,+n(f,o[s].key,u,i)]).data=f;for(s=0,d=Ab(t(o));s<c;++s)o[d[s]].index=s;return r(o,d),o}return a.keys=function(i){return arguments.length?(e=typeof i=="function"?i:Te(Array.from(i)),a):e},a.value=function(i){return arguments.length?(n=typeof i=="function"?i:Te(+i),a):n},a.order=function(i){return arguments.length?(t=i==null?Qv:typeof i=="function"?i:Te(Array.from(i)),a):t},a.offset=function(i){return arguments.length?(r=i??to,a):r},a}function zU(e,t){if((n=e.length)>0){for(var r,n,a=0,i=e[0].length,o;a<i;++a){for(o=r=0;r<n;++r)o+=e[r][a][1]||0;if(o)for(r=0;r<n;++r)e[r][a][1]/=o}to(e,t)}}function BU(e,t){if((a=e.length)>0){for(var r=0,n=e[t[0]],a,i=n.length;r<i;++r){for(var o=0,s=0;o<a;++o)s+=e[o][r][1]||0;n[r][1]+=n[r][0]=-s/2}to(e,t)}}function IU(e,t){if(!(!((o=e.length)>0)||!((i=(a=e[t[0]]).length)>0))){for(var r=0,n=1,a,i,o;n<i;++n){for(var s=0,c=0,u=0;s<o;++s){for(var d=e[t[s]],f=d[n][1]||0,h=d[n-1][1]||0,m=(f-h)/2,v=0;v<s;++v){var x=e[t[v]],b=x[n][1]||0,y=x[n-1][1]||0;m+=b-y}c+=f,u+=m*f}a[n-1][1]+=a[n-1][0]=r,c&&(r-=u/c)}a[n-1][1]+=a[n-1][0]=r,to(e,t)}}var sm={},$T={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==="__proto__"}e.isUnsafeProperty=t})($T);var Tb={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}e.isDeepKey=t})(Tb);var lm={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var n;return typeof r=="string"||typeof r=="symbol"?r:Object.is((n=r==null?void 0:r.valueOf)==null?void 0:n.call(r),-0)?"-0":String(r)}e.toKey=t})(lm);var cm={},LT={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(r==null)return"";if(typeof r=="string")return r;if(Array.isArray(r))return r.map(t).join(",");const n=String(r);return n==="0"&&Object.is(Number(r),-0)?"-0":n}e.toString=t})(LT);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=LT,r=lm;function n(a){if(Array.isArray(a))return a.map(r.toKey);if(typeof a=="symbol")return[a];a=t.toString(a);const i=[],o=a.length;if(o===0)return i;let s=0,c="",u="",d=!1;for(a.charCodeAt(0)===46&&(i.push(""),s++);s<o;){const f=a[s];u?f==="\\"&&s+1<o?(s++,c+=a[s]):f===u?u="":c+=f:d?f==='"'||f==="'"?u=f:f==="]"?(d=!1,i.push(c),c=""):c+=f:f==="["?(d=!0,c&&(i.push(c),c="")):f==="."?c&&(i.push(c),c=""):c+=f,s++}return c&&i.push(c),i}e.toPath=n})(cm);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=$T,r=Tb,n=lm,a=cm;function i(s,c,u){if(s==null)return u;switch(typeof c){case"string":{if(t.isUnsafeProperty(c))return u;const d=s[c];return d===void 0?r.isDeepKey(c)?i(s,a.toPath(c),u):u:d}case"number":case"symbol":{typeof c=="number"&&(c=n.toKey(c));const d=s[c];return d===void 0?u:d}default:{if(Array.isArray(c))return o(s,c,u);if(Object.is(c==null?void 0:c.valueOf(),-0)?c="-0":c=String(c),t.isUnsafeProperty(c))return u;const d=s[c];return d===void 0?u:d}}}function o(s,c,u){if(c.length===0)return u;let d=s;for(let f=0;f<c.length;f++){if(d==null||t.isUnsafeProperty(c[f]))return u;d=d[c[f]]}return d===void 0?u:d}e.get=i})(sm);var $U=sm.get;const js=ga($U);var LU=4;function Za(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:LU,r=10**t,n=Math.round(e*r)/r;return Object.is(n,-0)?0:n}function Fe(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return e.reduce((a,i,o)=>{var s=r[o-1];return typeof s=="string"?a+s+i:s!==void 0?a+Za(s)+i:a+i},"")}var tr=e=>e===0?0:e>0?1:-1,un=e=>typeof e=="number"&&e!=+e,ca=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,Z=e=>(typeof e=="number"||e instanceof Number)&&!un(e),kn=e=>Z(e)||typeof e=="string",UU=0,jc=e=>{var t=++UU;return"".concat(e||"").concat(t)},dn=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Z(t)&&typeof t!="string")return n;var i;if(ca(t)){if(r==null)return n;var o=t.indexOf("%");i=r*parseFloat(t.slice(0,o))/100}else i=+t;return un(i)&&(i=n),a&&r!=null&&i>r&&(i=r),i},UT=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++)if(!r[String(e[n])])r[String(e[n])]=!0;else return!0;return!1};function Tt(e,t,r){return Z(e)&&Z(t)?Za(e+r*(t-e)):t}function qU(e,t,r){if(!(!e||!e.length))return e.find(n=>n&&(typeof t=="function"?t(n):js(n,t))===r)}var jt=e=>e===null||typeof e>"u",cu=e=>jt(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function WU(e){return e!=null}function uu(){}var HU=["type","size","sizeType"];function ey(){return ey=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ey.apply(null,arguments)}function G_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Y_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?G_(Object(r),!0).forEach(function(n){FU(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):G_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function FU(e,t,r){return(t=VU(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function VU(e){var t=KU(e,"string");return typeof t=="symbol"?t:t+""}function KU(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function GU(e,t){if(e==null)return{};var r,n,a=YU(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function YU(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var qT={symbolCircle:kb,symbolCross:dU,symbolDiamond:hU,symbolSquare:mU,symbolStar:yU,symbolTriangle:bU,symbolWye:wU},XU=Math.PI/180,ZU=e=>{var t="symbol".concat(cu(e));return qT[t]||kb},JU=(e,t,r)=>{if(t==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var n=18*XU;return 1.25*e*e*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},QU=(e,t)=>{qT["symbol".concat(cu(e))]=t},WT=e=>{var{type:t="circle",size:r=64,sizeType:n="area"}=e,a=GU(e,HU),i=Y_(Y_({},a),{},{type:t,size:r,sizeType:n}),o="circle";typeof t=="string"&&(o=t);var s=()=>{var h=ZU(o),m=_U().type(h).size(JU(r,n,o)),v=m();if(v!==null)return v},{className:c,cx:u,cy:d}=i,f=Fr(i);return Z(u)&&Z(d)&&Z(r)?p.createElement("path",ey({},f,{className:Ie("recharts-symbols",c),transform:"translate(".concat(u,", ").concat(d,")"),d:s()})):null};WT.registerSymbol=QU;var HT=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,e9=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(p.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(a=>{Cb(a)&&(n[a]=i=>r[a](r,i))}),n},t9=(e,t,r)=>n=>(e(t,r,n),null),Nb=(e,t,r)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var n=null;return Object.keys(e).forEach(a=>{var i=e[a];Cb(a)&&typeof i=="function"&&(n||(n={}),n[a]=t9(i,t,r))}),n};function X_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function r9(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?X_(Object(r),!0).forEach(function(n){n9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):X_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function n9(e,t,r){return(t=a9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a9(e){var t=i9(e,"string");return typeof t=="symbol"?t:t+""}function i9(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ar(e,t){var r=r9({},e),n=t,a=Object.keys(t),i=a.reduce((o,s)=>(o[s]===void 0&&n[s]!==void 0&&(o[s]=n[s]),o),r);return i}var FT={},VT={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){const a=new Map;for(let i=0;i<r.length;i++){const o=r[i],s=n(o,i,r);a.has(s)||a.set(s,o)}return Array.from(a.values())}e.uniqBy=t})(VT);var KT={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return function(...a){return r.apply(this,a.slice(0,n))}}e.ary=t})(KT);var Rb={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r}e.identity=t})(Rb);var GT={},um={},YT={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Number.isSafeInteger(r)&&r>=0}e.isLength=t})(YT);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=YT;function r(n){return n!=null&&typeof n!="function"&&t.isLength(n.length)}e.isArrayLike=r})(um);var XT={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="object"&&r!==null}e.isObjectLike=t})(XT);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=um,r=XT;function n(a){return r.isObjectLike(a)&&t.isArrayLike(a)}e.isArrayLikeObject=n})(GT);var ZT={},JT={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=sm;function r(n){return function(a){return t.get(a,n)}}e.property=r})(JT);var QT={},Db={},eN={},Pb={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r!==null&&(typeof r=="object"||typeof r=="function")}e.isObject=t})(Pb);var Mb={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null||typeof r!="object"&&typeof r!="function"}e.isPrimitive=t})(Mb);var zb={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}e.isEqualsSameValueZero=t})(zb);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Pb,r=Mb,n=zb;function a(d,f,h){return typeof h!="function"?a(d,f,()=>{}):i(d,f,function m(v,x,b,y,g,w){const _=h(v,x,b,y,g,w);return _!==void 0?!!_:i(v,x,m,w)},new Map)}function i(d,f,h,m){if(f===d)return!0;switch(typeof f){case"object":return o(d,f,h,m);case"function":return Object.keys(f).length>0?i(d,{...f},h,m):n.isEqualsSameValueZero(d,f);default:return t.isObject(d)?typeof f=="string"?f==="":!0:n.isEqualsSameValueZero(d,f)}}function o(d,f,h,m){if(f==null)return!0;if(Array.isArray(f))return c(d,f,h,m);if(f instanceof Map)return s(d,f,h,m);if(f instanceof Set)return u(d,f,h,m);const v=Object.keys(f);if(d==null||r.isPrimitive(d))return v.length===0;if(v.length===0)return!0;if(m!=null&&m.has(f))return m.get(f)===d;m==null||m.set(f,d);try{for(let x=0;x<v.length;x++){const b=v[x];if(!r.isPrimitive(d)&&!(b in d)||f[b]===void 0&&d[b]!==void 0||f[b]===null&&d[b]!==null||!h(d[b],f[b],b,d,f,m))return!1}return!0}finally{m==null||m.delete(f)}}function s(d,f,h,m){if(f.size===0)return!0;if(!(d instanceof Map))return!1;for(const[v,x]of f.entries()){const b=d.get(v);if(h(b,x,v,d,f,m)===!1)return!1}return!0}function c(d,f,h,m){if(f.length===0)return!0;if(!Array.isArray(d))return!1;const v=new Set;for(let x=0;x<f.length;x++){const b=f[x];let y=!1;for(let g=0;g<d.length;g++){if(v.has(g))continue;const w=d[g];let _=!1;if(h(w,b,x,d,f,m)&&(_=!0),_){v.add(g),y=!0;break}}if(!y)return!1}return!0}function u(d,f,h,m){return f.size===0?!0:d instanceof Set?c([...d],[...f],h,m):!1}e.isMatchWith=a,e.isSetMatch=u})(eN);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=eN;function r(n,a){return t.isMatchWith(n,a,()=>{})}e.isMatch=r})(Db);var tN={},Bb={},rN={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}e.getSymbols=t})(rN);var dm={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}e.getTag=t})(dm);var Ib={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",r="[object String]",n="[object Number]",a="[object Boolean]",i="[object Arguments]",o="[object Symbol]",s="[object Date]",c="[object Map]",u="[object Set]",d="[object Array]",f="[object Function]",h="[object ArrayBuffer]",m="[object Object]",v="[object Error]",x="[object DataView]",b="[object Uint8Array]",y="[object Uint8ClampedArray]",g="[object Uint16Array]",w="[object Uint32Array]",_="[object BigUint64Array]",j="[object Int8Array]",S="[object Int16Array]",C="[object Int32Array]",E="[object BigInt64Array]",T="[object Float32Array]",A="[object Float64Array]";e.argumentsTag=i,e.arrayBufferTag=h,e.arrayTag=d,e.bigInt64ArrayTag=E,e.bigUint64ArrayTag=_,e.booleanTag=a,e.dataViewTag=x,e.dateTag=s,e.errorTag=v,e.float32ArrayTag=T,e.float64ArrayTag=A,e.functionTag=f,e.int16ArrayTag=S,e.int32ArrayTag=C,e.int8ArrayTag=j,e.mapTag=c,e.numberTag=n,e.objectTag=m,e.regexpTag=t,e.setTag=u,e.stringTag=r,e.symbolTag=o,e.uint16ArrayTag=g,e.uint32ArrayTag=w,e.uint8ArrayTag=b,e.uint8ClampedArrayTag=y})(Ib);var nN={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}e.isTypedArray=t})(nN);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=rN,r=dm,n=Ib,a=Mb,i=nN;function o(d,f){return s(d,void 0,d,new Map,f)}function s(d,f,h,m=new Map,v=void 0){const x=v==null?void 0:v(d,f,h,m);if(x!==void 0)return x;if(a.isPrimitive(d))return d;if(m.has(d))return m.get(d);if(Array.isArray(d)){const b=new Array(d.length);m.set(d,b);for(let y=0;y<d.length;y++)b[y]=s(d[y],y,h,m,v);return Object.hasOwn(d,"index")&&(b.index=d.index),Object.hasOwn(d,"input")&&(b.input=d.input),b}if(d instanceof Date)return new Date(d.getTime());if(d instanceof RegExp){const b=new RegExp(d.source,d.flags);return b.lastIndex=d.lastIndex,b}if(d instanceof Map){const b=new Map;m.set(d,b);for(const[y,g]of d)b.set(y,s(g,y,h,m,v));return b}if(d instanceof Set){const b=new Set;m.set(d,b);for(const y of d)b.add(s(y,void 0,h,m,v));return b}if(typeof Buffer<"u"&&Buffer.isBuffer(d))return d.subarray();if(i.isTypedArray(d)){const b=new(Object.getPrototypeOf(d)).constructor(d.length);m.set(d,b);for(let y=0;y<d.length;y++)b[y]=s(d[y],y,h,m,v);return b}if(d instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&d instanceof SharedArrayBuffer)return d.slice(0);if(d instanceof DataView){const b=new DataView(d.buffer.slice(0),d.byteOffset,d.byteLength);return m.set(d,b),c(b,d,h,m,v),b}if(typeof File<"u"&&d instanceof File){const b=new File([d],d.name,{type:d.type});return m.set(d,b),c(b,d,h,m,v),b}if(typeof Blob<"u"&&d instanceof Blob){const b=new Blob([d],{type:d.type});return m.set(d,b),c(b,d,h,m,v),b}if(d instanceof Error){const b=new d.constructor;return m.set(d,b),b.message=d.message,b.name=d.name,b.stack=d.stack,b.cause=d.cause,c(b,d,h,m,v),b}if(d instanceof Boolean){const b=new Boolean(d.valueOf());return m.set(d,b),c(b,d,h,m,v),b}if(d instanceof Number){const b=new Number(d.valueOf());return m.set(d,b),c(b,d,h,m,v),b}if(d instanceof String){const b=new String(d.valueOf());return m.set(d,b),c(b,d,h,m,v),b}if(typeof d=="object"&&u(d)){const b=Object.create(Object.getPrototypeOf(d));return m.set(d,b),c(b,d,h,m,v),b}return d}function c(d,f,h=d,m,v){const x=[...Object.keys(f),...t.getSymbols(f)];for(let b=0;b<x.length;b++){const y=x[b],g=Object.getOwnPropertyDescriptor(d,y);(g==null||g.writable)&&(d[y]=s(f[y],y,h,m,v))}}function u(d){switch(r.getTag(d)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=o,e.cloneDeepWithImpl=s,e.copyProperties=c})(Bb);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Bb;function r(n){return t.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}e.cloneDeep=r})(tN);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Db,r=tN;function n(a){return a=r.cloneDeep(a),i=>t.isMatch(i,a)}e.matches=n})(QT);var aN={},iN={},oN={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Bb,r=dm,n=Ib;function a(i,o){return t.cloneDeepWith(i,(s,c,u,d)=>{const f=o==null?void 0:o(s,c,u,d);if(f!==void 0)return f;if(typeof i=="object"){if(r.getTag(i)===n.objectTag&&typeof i.constructor!="function"){const h={};return d.set(i,h),t.copyProperties(h,i,u,d),h}switch(Object.prototype.toString.call(i)){case n.numberTag:case n.stringTag:case n.booleanTag:{const h=new i.constructor(i==null?void 0:i.valueOf());return t.copyProperties(h,i),h}case n.argumentsTag:{const h={};return t.copyProperties(h,i),h.length=i.length,h[Symbol.iterator]=i[Symbol.iterator],h}default:return}}})}e.cloneDeepWith=a})(oN);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=oN;function r(n){return t.cloneDeepWith(n)}e.cloneDeep=r})(iN);var sN={},$b={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function r(n,a=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<a;case"symbol":return!1;case"string":return t.test(n)}}e.isIndex=r})($b);var lN={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=dm;function r(n){return n!==null&&typeof n=="object"&&t.getTag(n)==="[object Arguments]"}e.isArguments=r})(lN);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Tb,r=$b,n=lN,a=cm;function i(o,s){let c;if(Array.isArray(s)?c=s:typeof s=="string"&&t.isDeepKey(s)&&(o==null?void 0:o[s])==null?c=a.toPath(s):c=[s],c.length===0)return!1;let u=o;for(let d=0;d<c.length;d++){const f=c[d];if((u==null||!Object.hasOwn(u,f))&&!((Array.isArray(u)||n.isArguments(u))&&r.isIndex(f)&&f<u.length))return!1;u=u[f]}return!0}e.has=i})(sN);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Db,r=lm,n=iN,a=sm,i=sN;function o(s,c){switch(typeof s){case"object":{Object.is(s==null?void 0:s.valueOf(),-0)&&(s="-0");break}case"number":{s=r.toKey(s);break}}return c=n.cloneDeep(c),function(u){const d=a.get(u,s);return d===void 0?i.has(u,s):c===void 0?d===void 0:t.isMatch(d,c)}}e.matchesProperty=o})(aN);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Rb,r=JT,n=QT,a=aN;function i(o){if(o==null)return t.identity;switch(typeof o){case"function":return o;case"object":return Array.isArray(o)&&o.length===2?a.matchesProperty(o[0],o[1]):n.matches(o);case"string":case"symbol":case"number":return r.property(o)}}e.iteratee=i})(ZT);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=VT,r=KT,n=Rb,a=GT,i=ZT;function o(s,c=n.identity){return a.isArrayLikeObject(s)?t.uniqBy(Array.from(s),r.ary(i.iteratee(c),1)):[]}e.uniqBy=o})(FT);var o9=FT.uniqBy;const Z_=ga(o9);function s9(e,t,r){return t===!0?Z_(e,r):typeof t=="function"?Z_(e,t):e}var cN={exports:{}},uN={},dN={exports:{}},fN={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ss=p;function l9(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var c9=typeof Object.is=="function"?Object.is:l9,u9=Ss.useState,d9=Ss.useEffect,f9=Ss.useLayoutEffect,h9=Ss.useDebugValue;function m9(e,t){var r=t(),n=u9({inst:{value:r,getSnapshot:t}}),a=n[0].inst,i=n[1];return f9(function(){a.value=r,a.getSnapshot=t,ug(a)&&i({inst:a})},[e,r,t]),d9(function(){return ug(a)&&i({inst:a}),e(function(){ug(a)&&i({inst:a})})},[e]),h9(r),r}function ug(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!c9(e,r)}catch{return!0}}function p9(e,t){return t()}var g9=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?p9:m9;fN.useSyncExternalStore=Ss.useSyncExternalStore!==void 0?Ss.useSyncExternalStore:g9;dN.exports=fN;var v9=dN.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fm=p,y9=v9;function b9(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var x9=typeof Object.is=="function"?Object.is:b9,w9=y9.useSyncExternalStore,_9=fm.useRef,j9=fm.useEffect,S9=fm.useMemo,C9=fm.useDebugValue;uN.useSyncExternalStoreWithSelector=function(e,t,r,n,a){var i=_9(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=S9(function(){function c(m){if(!u){if(u=!0,d=m,m=n(m),a!==void 0&&o.hasValue){var v=o.value;if(a(v,m))return f=v}return f=m}if(v=f,x9(d,m))return v;var x=n(m);return a!==void 0&&a(v,x)?(d=m,v):(d=m,f=x)}var u=!1,d,f,h=r===void 0?null:r;return[function(){return c(t())},h===null?void 0:function(){return c(h())}]},[t,r,n,a]);var s=w9(e,i[0],i[1]);return j9(function(){o.hasValue=!0,o.value=s},[s]),C9(s),s};cN.exports=uN;var E9=cN.exports,Lb=p.createContext(null),O9=e=>e,Xe=()=>{var e=p.useContext(Lb);return e?e.store.dispatch:O9},Ld=()=>{},A9=()=>Ld,k9=(e,t)=>e===t;function te(e){var t=p.useContext(Lb);return E9.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:A9,t?t.store.getState:Ld,t?t.store.getState:Ld,t?e:Ld,k9)}function T9(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function N9(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function R9(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(r=>typeof r=="function")){const r=e.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${t}[${r}]`)}}var J_=e=>Array.isArray(e)?e:[e];function D9(e){const t=Array.isArray(e[0])?e[0]:e;return R9(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function P9(e,t){const r=[],{length:n}=e;for(let a=0;a<n;a++)r.push(e[a].apply(null,t));return r}var M9=class{constructor(e){this.value=e}deref(){return this.value}},z9=typeof WeakRef<"u"?WeakRef:M9,B9=0,Q_=1;function sd(){return{s:B9,v:void 0,o:null,p:null}}function hN(e,t={}){let r=sd();const{resultEqualityCheck:n}=t;let a,i=0;function o(){var f;let s=r;const{length:c}=arguments;for(let h=0,m=c;h<m;h++){const v=arguments[h];if(typeof v=="function"||typeof v=="object"&&v!==null){let x=s.o;x===null&&(s.o=x=new WeakMap);const b=x.get(v);b===void 0?(s=sd(),x.set(v,s)):s=b}else{let x=s.p;x===null&&(s.p=x=new Map);const b=x.get(v);b===void 0?(s=sd(),x.set(v,s)):s=b}}const u=s;let d;if(s.s===Q_)d=s.v;else if(d=e.apply(null,arguments),i++,n){const h=((f=a==null?void 0:a.deref)==null?void 0:f.call(a))??a;h!=null&&n(h,d)&&(d=h,i!==0&&i--),a=typeof d=="object"&&d!==null||typeof d=="function"?new z9(d):d}return u.s=Q_,u.v=d,d}return o.clearCache=()=>{r=sd(),o.resetResultsCount()},o.resultsCount=()=>i,o.resetResultsCount=()=>{i=0},o}function I9(e,...t){const r=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,n=(...a)=>{let i=0,o=0,s,c={},u=a.pop();typeof u=="object"&&(c=u,u=a.pop()),T9(u,`createSelector expects an output function after the inputs, but received: [${typeof u}]`);const d={...r,...c},{memoize:f,memoizeOptions:h=[],argsMemoize:m=hN,argsMemoizeOptions:v=[]}=d,x=J_(h),b=J_(v),y=D9(a),g=f(function(){return i++,u.apply(null,arguments)},...x),w=m(function(){o++;const j=P9(y,arguments);return s=g.apply(null,j),s},...b);return Object.assign(w,{resultFunc:u,memoizedResultFunc:g,dependencies:y,dependencyRecomputations:()=>o,resetDependencyRecomputations:()=>{o=0},lastResult:()=>s,recomputations:()=>i,resetRecomputations:()=>{i=0},memoize:f,argsMemoize:m})};return Object.assign(n,{withTypes:()=>n}),n}var B=I9(hN),$9=Object.assign((e,t=B)=>{N9(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const r=Object.keys(e),n=r.map(i=>e[i]);return t(n,(...i)=>i.reduce((o,s,c)=>(o[r[c]]=s,o),{}))},{withTypes:()=>$9}),mN={},pN={},gN={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,a,i)=>{if(n!==a){const o=t(n),s=t(a);if(o===s&&o===0){if(n<a)return i==="desc"?1:-1;if(n>a)return i==="desc"?-1:1}return i==="desc"?s-o:o-s}return 0};e.compareValues=r})(gN);var vN={},Ub={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"||r instanceof Symbol}e.isSymbol=t})(Ub);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ub,r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function a(i,o){return Array.isArray(i)?!1:typeof i=="number"||typeof i=="boolean"||i==null||t.isSymbol(i)?!0:typeof i=="string"&&(n.test(i)||!r.test(i))||o!=null&&Object.hasOwn(o,i)}e.isKey=a})(vN);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=gN,r=vN,n=cm;function a(i,o,s,c){if(i==null)return[];s=c?void 0:s,Array.isArray(i)||(i=Object.values(i)),Array.isArray(o)||(o=o==null?[null]:[o]),o.length===0&&(o=[null]),Array.isArray(s)||(s=s==null?[]:[s]),s=s.map(m=>String(m));const u=(m,v)=>{let x=m;for(let b=0;b<v.length&&x!=null;++b)x=x[v[b]];return x},d=(m,v)=>v==null||m==null?v:typeof m=="object"&&"key"in m?Object.hasOwn(v,m.key)?v[m.key]:u(v,m.path):typeof m=="function"?m(v):Array.isArray(m)?u(v,m):typeof v=="object"?v[m]:v,f=o.map(m=>(Array.isArray(m)&&m.length===1&&(m=m[0]),m==null||typeof m=="function"||Array.isArray(m)||r.isKey(m)?m:{key:m,path:n.toPath(m)}));return i.map(m=>({original:m,criteria:f.map(v=>d(v,m))})).slice().sort((m,v)=>{for(let x=0;x<f.length;x++){const b=t.compareValues(m.criteria[x],v.criteria[x],s[x]);if(b!==0)return b}return 0}).map(m=>m.original)}e.orderBy=a})(pN);var yN={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n=1){const a=[],i=Math.floor(n),o=(s,c)=>{for(let u=0;u<s.length;u++){const d=s[u];Array.isArray(d)&&c<i?o(d,c+1):a.push(d)}};return o(r,0),a}e.flatten=t})(yN);var qb={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=$b,r=um,n=Pb,a=zb;function i(o,s,c){return n.isObject(c)&&(typeof s=="number"&&r.isArrayLike(c)&&t.isIndex(s)&&s<c.length||typeof s=="string"&&s in c)?a.isEqualsSameValueZero(c[s],o):!1}e.isIterateeCall=i})(qb);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=pN,r=yN,n=qb;function a(i,...o){const s=o.length;return s>1&&n.isIterateeCall(i,o[0],o[1])?o=[]:s>2&&n.isIterateeCall(o[0],o[1],o[2])&&(o=[o[0]]),t.orderBy(i,r.flatten(o),["asc"])}e.sortBy=a})(mN);var L9=mN.sortBy;const hm=ga(L9);var bN=e=>e.legend.settings,U9=e=>e.legend.size,q9=e=>e.legend.payload;B([q9,bN],(e,t)=>{var{itemSorter:r}=t,n=e.flat(1);return r?hm(n,r):n});var ld=1;function W9(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,r]=p.useState({height:0,left:0,top:0,width:0}),n=p.useCallback(a=>{if(a!=null){var i=a.getBoundingClientRect(),o={height:i.height,left:i.left,top:i.top,width:i.width};(Math.abs(o.height-t.height)>ld||Math.abs(o.left-t.left)>ld||Math.abs(o.top-t.top)>ld||Math.abs(o.width-t.width)>ld)&&r({height:o.height,left:o.left,top:o.top,width:o.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,n]}function Ot(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var H9=typeof Symbol=="function"&&Symbol.observable||"@@observable",ej=H9,dg=()=>Math.random().toString(36).substring(7).split("").join("."),F9={INIT:`@@redux/INIT${dg()}`,REPLACE:`@@redux/REPLACE${dg()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${dg()}`},Bf=F9;function Wb(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function xN(e,t,r){if(typeof e!="function")throw new Error(Ot(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(Ot(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(Ot(1));return r(xN)(e,t)}let n=e,a=t,i=new Map,o=i,s=0,c=!1;function u(){o===i&&(o=new Map,i.forEach((b,y)=>{o.set(y,b)}))}function d(){if(c)throw new Error(Ot(3));return a}function f(b){if(typeof b!="function")throw new Error(Ot(4));if(c)throw new Error(Ot(5));let y=!0;u();const g=s++;return o.set(g,b),function(){if(y){if(c)throw new Error(Ot(6));y=!1,u(),o.delete(g),i=null}}}function h(b){if(!Wb(b))throw new Error(Ot(7));if(typeof b.type>"u")throw new Error(Ot(8));if(typeof b.type!="string")throw new Error(Ot(17));if(c)throw new Error(Ot(9));try{c=!0,a=n(a,b)}finally{c=!1}return(i=o).forEach(g=>{g()}),b}function m(b){if(typeof b!="function")throw new Error(Ot(10));n=b,h({type:Bf.REPLACE})}function v(){const b=f;return{subscribe(y){if(typeof y!="object"||y===null)throw new Error(Ot(11));function g(){const _=y;_.next&&_.next(d())}return g(),{unsubscribe:b(g)}},[ej](){return this}}}return h({type:Bf.INIT}),{dispatch:h,subscribe:f,getState:d,replaceReducer:m,[ej]:v}}function V9(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:Bf.INIT})>"u")throw new Error(Ot(12));if(typeof r(void 0,{type:Bf.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Ot(13))})}function wN(e){const t=Object.keys(e),r={};for(let i=0;i<t.length;i++){const o=t[i];typeof e[o]=="function"&&(r[o]=e[o])}const n=Object.keys(r);let a;try{V9(r)}catch(i){a=i}return function(o={},s){if(a)throw a;let c=!1;const u={};for(let d=0;d<n.length;d++){const f=n[d],h=r[f],m=o[f],v=h(m,s);if(typeof v>"u")throw s&&s.type,new Error(Ot(14));u[f]=v,c=c||v!==m}return c=c||n.length!==Object.keys(o).length,c?u:o}}function If(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...n)=>t(r(...n)))}function K9(...e){return t=>(r,n)=>{const a=t(r,n);let i=()=>{throw new Error(Ot(15))};const o={getState:a.getState,dispatch:(c,...u)=>i(c,...u)},s=e.map(c=>c(o));return i=If(...s)(a.dispatch),{...a,dispatch:i}}}function _N(e){return Wb(e)&&"type"in e&&typeof e.type=="string"}var jN=Symbol.for("immer-nothing"),tj=Symbol.for("immer-draftable"),Kt=Symbol.for("immer-state");function nn(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var br=Object,Cs=br.getPrototypeOf,$f="constructor",mm="prototype",ty="configurable",Lf="enumerable",Ud="writable",Sc="value",ua=e=>!!e&&!!e[Kt];function fn(e){var t;return e?SN(e)||gm(e)||!!e[tj]||!!((t=e[$f])!=null&&t[tj])||vm(e)||ym(e):!1}var G9=br[mm][$f].toString(),rj=new WeakMap;function SN(e){if(!e||!Hb(e))return!1;const t=Cs(e);if(t===null||t===br[mm])return!0;const r=br.hasOwnProperty.call(t,$f)&&t[$f];if(r===Object)return!0;if(!Io(r))return!1;let n=rj.get(r);return n===void 0&&(n=Function.toString.call(r),rj.set(r,n)),n===G9}function pm(e,t,r=!0){du(e)===0?(r?Reflect.ownKeys(e):br.keys(e)).forEach(a=>{t(a,e[a],e)}):e.forEach((n,a)=>t(a,n,e))}function du(e){const t=e[Kt];return t?t.type_:gm(e)?1:vm(e)?2:ym(e)?3:0}var nj=(e,t,r=du(e))=>r===2?e.has(t):br[mm].hasOwnProperty.call(e,t),ry=(e,t,r=du(e))=>r===2?e.get(t):e[t],Uf=(e,t,r,n=du(e))=>{n===2?e.set(t,r):n===3?e.add(r):e[t]=r};function Y9(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var gm=Array.isArray,vm=e=>e instanceof Map,ym=e=>e instanceof Set,Hb=e=>typeof e=="object",Io=e=>typeof e=="function",fg=e=>typeof e=="boolean";function X9(e){const t=+e;return Number.isInteger(t)&&String(t)===e}var qn=e=>e.copy_||e.base_,Fb=e=>e.modified_?e.copy_:e.base_;function ny(e,t){if(vm(e))return new Map(e);if(ym(e))return new Set(e);if(gm(e))return Array[mm].slice.call(e);const r=SN(e);if(t===!0||t==="class_only"&&!r){const n=br.getOwnPropertyDescriptors(e);delete n[Kt];let a=Reflect.ownKeys(n);for(let i=0;i<a.length;i++){const o=a[i],s=n[o];s[Ud]===!1&&(s[Ud]=!0,s[ty]=!0),(s.get||s.set)&&(n[o]={[ty]:!0,[Ud]:!0,[Lf]:s[Lf],[Sc]:e[o]})}return br.create(Cs(e),n)}else{const n=Cs(e);if(n!==null&&r)return{...e};const a=br.create(n);return br.assign(a,e)}}function Vb(e,t=!1){return bm(e)||ua(e)||!fn(e)||(du(e)>1&&br.defineProperties(e,{set:cd,add:cd,clear:cd,delete:cd}),br.freeze(e),t&&pm(e,(r,n)=>{Vb(n,!0)},!1)),e}function Z9(){nn(2)}var cd={[Sc]:Z9};function bm(e){return e===null||!Hb(e)?!0:br.isFrozen(e)}var qf="MapSet",ay="Patches",aj="ArrayMethods",CN={};function ro(e){const t=CN[e];return t||nn(0,e),t}var ij=e=>!!CN[e],Cc,EN=()=>Cc,J9=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:ij(qf)?ro(qf):void 0,arrayMethodsPlugin_:ij(aj)?ro(aj):void 0});function oj(e,t){t&&(e.patchPlugin_=ro(ay),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function iy(e){oy(e),e.drafts_.forEach(Q9),e.drafts_=null}function oy(e){e===Cc&&(Cc=e.parent_)}var sj=e=>Cc=J9(Cc,e);function Q9(e){const t=e[Kt];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function lj(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];if(e!==void 0&&e!==r){r[Kt].modified_&&(iy(t),nn(4)),fn(e)&&(e=cj(t,e));const{patchPlugin_:a}=t;a&&a.generateReplacementPatches_(r[Kt].base_,e,t)}else e=cj(t,r);return e7(t,e,!0),iy(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==jN?e:void 0}function cj(e,t){if(bm(t))return t;const r=t[Kt];if(!r)return Wf(t,e.handledSet_,e);if(!xm(r,e))return t;if(!r.modified_)return r.base_;if(!r.finalized_){const{callbacks_:n}=r;if(n)for(;n.length>0;)n.pop()(e);kN(r,e)}return r.copy_}function e7(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Vb(t,r)}function ON(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var xm=(e,t)=>e.scope_===t,t7=[];function AN(e,t,r,n){const a=qn(e),i=e.type_;if(n!==void 0&&ry(a,n,i)===t){Uf(a,n,r,i);return}if(!e.draftLocations_){const s=e.draftLocations_=new Map;pm(a,(c,u)=>{if(ua(u)){const d=s.get(u)||[];d.push(c),s.set(u,d)}})}const o=e.draftLocations_.get(t)??t7;for(const s of o)Uf(a,s,r,i)}function r7(e,t,r){e.callbacks_.push(function(a){var s;const i=t;if(!i||!xm(i,a))return;(s=a.mapSetPlugin_)==null||s.fixSetContents(i);const o=Fb(i);AN(e,i.draft_??i,o,r),kN(i,a)})}function kN(e,t){var n;if(e.modified_&&!e.finalized_&&(e.type_===3||e.type_===1&&e.allIndicesReassigned_||(((n=e.assigned_)==null?void 0:n.size)??0)>0)){const{patchPlugin_:a}=t;if(a){const i=a.getPath(e);i&&a.generatePatches_(e,i,t)}ON(e)}}function n7(e,t,r){const{scope_:n}=e;if(ua(r)){const a=r[Kt];xm(a,n)&&a.callbacks_.push(function(){qd(e);const o=Fb(a);AN(e,r,o,t)})}else fn(r)&&e.callbacks_.push(function(){const i=qn(e);e.type_===3?i.has(r)&&Wf(r,n.handledSet_,n):ry(i,t,e.type_)===r&&n.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&Wf(ry(e.copy_,t,e.type_),n.handledSet_,n)})}function Wf(e,t,r){return!r.immer_.autoFreeze_&&r.unfinalizedDrafts_<1||ua(e)||t.has(e)||!fn(e)||bm(e)||(t.add(e),pm(e,(n,a)=>{if(ua(a)){const i=a[Kt];if(xm(i,r)){const o=Fb(i);Uf(e,n,o,e.type_),ON(i)}}else fn(a)&&Wf(a,t,r)})),e}function a7(e,t){const r=gm(e),n={type_:r?1:0,scope_:t?t.scope_:EN(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let a=n,i=Hf;r&&(a=[n],i=Ec);const{revoke:o,proxy:s}=Proxy.revocable(a,i);return n.draft_=s,n.revoke_=o,[s,n]}var Hf={get(e,t){if(t===Kt)return e;let r=e.scope_.arrayMethodsPlugin_;const n=e.type_===1&&typeof t=="string";if(n&&r!=null&&r.isArrayOperationMethod(t))return r.createMethodInterceptor(e,t);const a=qn(e);if(!nj(a,t,e.type_))return i7(e,a,t);const i=a[t];if(e.finalized_||!fn(i)||n&&e.operationMethod&&(r!=null&&r.isMutatingArrayMethod(e.operationMethod))&&X9(t))return i;if(i===hg(e.base_,t)){qd(e);const o=e.type_===1?+t:t,s=ly(e.scope_,i,e,o);return e.copy_[o]=s}return i},has(e,t){return t in qn(e)},ownKeys(e){return Reflect.ownKeys(qn(e))},set(e,t,r){const n=TN(qn(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const a=hg(qn(e),t),i=a==null?void 0:a[Kt];if(i&&i.base_===r)return e.copy_[t]=r,e.assigned_.set(t,!1),!0;if(Y9(r,a)&&(r!==void 0||nj(e.base_,t,e.type_)))return!0;qd(e),sy(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_.set(t,!0),n7(e,t,r)),!0},deleteProperty(e,t){return qd(e),hg(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),sy(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=qn(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{[Ud]:!0,[ty]:e.type_!==1||t!=="length",[Lf]:n[Lf],[Sc]:r[t]}},defineProperty(){nn(11)},getPrototypeOf(e){return Cs(e.base_)},setPrototypeOf(){nn(12)}},Ec={};for(let e in Hf){let t=Hf[e];Ec[e]=function(){const r=arguments;return r[0]=r[0][0],t.apply(this,r)}}Ec.deleteProperty=function(e,t){return Ec.set.call(this,e,t,void 0)};Ec.set=function(e,t,r){return Hf.set.call(this,e[0],t,r,e[0])};function hg(e,t){const r=e[Kt];return(r?qn(r):e)[t]}function i7(e,t,r){var a;const n=TN(t,r);return n?Sc in n?n[Sc]:(a=n.get)==null?void 0:a.call(e.draft_):void 0}function TN(e,t){if(!(t in e))return;let r=Cs(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=Cs(r)}}function sy(e){e.modified_||(e.modified_=!0,e.parent_&&sy(e.parent_))}function qd(e){e.copy_||(e.assigned_=new Map,e.copy_=ny(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var o7=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(r,n,a)=>{if(Io(r)&&!Io(n)){const o=n;n=r;const s=this;return function(u=o,...d){return s.produce(u,f=>n.call(this,f,...d))}}Io(n)||nn(6),a!==void 0&&!Io(a)&&nn(7);let i;if(fn(r)){const o=sj(this),s=ly(o,r,void 0);let c=!0;try{i=n(s),c=!1}finally{c?iy(o):oy(o)}return oj(o,a),lj(i,o)}else if(!r||!Hb(r)){if(i=n(r),i===void 0&&(i=r),i===jN&&(i=void 0),this.autoFreeze_&&Vb(i,!0),a){const o=[],s=[];ro(ay).generateReplacementPatches_(r,i,{patches_:o,inversePatches_:s}),a(o,s)}return i}else nn(1,r)},this.produceWithPatches=(r,n)=>{if(Io(r))return(s,...c)=>this.produceWithPatches(s,u=>r(u,...c));let a,i;return[this.produce(r,n,(s,c)=>{a=s,i=c}),a,i]},fg(t==null?void 0:t.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),fg(t==null?void 0:t.useStrictShallowCopy)&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),fg(t==null?void 0:t.useStrictIteration)&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){fn(t)||nn(8),ua(t)&&(t=sn(t));const r=sj(this),n=ly(r,t,void 0);return n[Kt].isManual_=!0,oy(r),n}finishDraft(t,r){const n=t&&t[Kt];(!n||!n.isManual_)&&nn(9);const{scope_:a}=n;return oj(a,r),lj(void 0,a)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,r){let n;for(n=r.length-1;n>=0;n--){const i=r[n];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}n>-1&&(r=r.slice(n+1));const a=ro(ay).applyPatches_;return ua(t)?a(t,r):this.produce(t,i=>a(i,r))}};function ly(e,t,r,n){const[a,i]=vm(t)?ro(qf).proxyMap_(t,r):ym(t)?ro(qf).proxySet_(t,r):a7(t,r);return((r==null?void 0:r.scope_)??EN()).drafts_.push(a),i.callbacks_=(r==null?void 0:r.callbacks_)??[],i.key_=n,r&&n!==void 0?r7(r,i,n):i.callbacks_.push(function(c){var d;(d=c.mapSetPlugin_)==null||d.fixSetContents(i);const{patchPlugin_:u}=c;i.modified_&&u&&u.generatePatches_(i,[],c)}),a}function sn(e){return ua(e)||nn(10,e),NN(e)}function NN(e){if(!fn(e)||bm(e))return e;const t=e[Kt];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=ny(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=ny(e,!0);return pm(r,(a,i)=>{Uf(r,a,NN(i))},n),t&&(t.finalized_=!1),r}var s7=new o7,RN=s7.produce;function DN(e){return({dispatch:r,getState:n})=>a=>i=>typeof i=="function"?i(r,n,e):a(i)}var l7=DN(),c7=DN,u7=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?If:If.apply(null,arguments)};function Vr(e,t){function r(...n){if(t){let a=t(...n);if(!a)throw new Error(Sr(0));return{type:e,payload:a.payload,..."meta"in a&&{meta:a.meta},..."error"in a&&{error:a.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=n=>_N(n)&&n.type===e,r}var PN=class Nl extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,Nl.prototype)}static get[Symbol.species](){return Nl}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new Nl(...t[0].concat(this)):new Nl(...t.concat(this))}};function uj(e){return fn(e)?RN(e,()=>{}):e}function ud(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function d7(e){return typeof e=="boolean"}var f7=()=>function(t){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:a=!0,actionCreatorCheck:i=!0}=t??{};let o=new PN;return r&&(d7(r)?o.push(l7):o.push(c7(r.extraArgument))),o},MN="RTK_autoBatch",Le=()=>e=>({payload:e,meta:{[MN]:!0}}),dj=e=>t=>{setTimeout(t,e)},zN=(e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let a=!0,i=!1,o=!1;const s=new Set,c=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:dj(10):e.type==="callback"?e.queueNotification:dj(e.timeout),u=()=>{o=!1,i&&(i=!1,s.forEach(d=>d()))};return Object.assign({},n,{subscribe(d){const f=()=>a&&d(),h=n.subscribe(f);return s.add(d),()=>{h(),s.delete(d)}},dispatch(d){var f;try{return a=!((f=d==null?void 0:d.meta)!=null&&f[MN]),i=!a,i&&(o||(o=!0,c(u))),n.dispatch(d)}finally{a=!0}}})},h7=e=>function(r){const{autoBatch:n=!0}=r??{};let a=new PN(e);return n&&a.push(zN(typeof n=="object"?n:void 0)),a};function m7(e){const t=f7(),{reducer:r=void 0,middleware:n,devTools:a=!0,preloadedState:i=void 0,enhancers:o=void 0}=e||{};let s;if(typeof r=="function")s=r;else if(Wb(r))s=wN(r);else throw new Error(Sr(1));let c;typeof n=="function"?c=n(t):c=t();let u=If;a&&(u=u7({trace:!1,...typeof a=="object"&&a}));const d=K9(...c),f=h7(d);let h=typeof o=="function"?o(f):f();const m=u(...h);return xN(s,i,m)}function BN(e){const t={},r=[];let n;const a={addCase(i,o){const s=typeof i=="string"?i:i.type;if(!s)throw new Error(Sr(28));if(s in t)throw new Error(Sr(29));return t[s]=o,a},addAsyncThunk(i,o){return o.pending&&(t[i.pending.type]=o.pending),o.rejected&&(t[i.rejected.type]=o.rejected),o.fulfilled&&(t[i.fulfilled.type]=o.fulfilled),o.settled&&r.push({matcher:i.settled,reducer:o.settled}),a},addMatcher(i,o){return r.push({matcher:i,reducer:o}),a},addDefaultCase(i){return n=i,a}};return e(a),[t,r,n]}function p7(e){return typeof e=="function"}function g7(e,t){let[r,n,a]=BN(t),i;if(p7(e))i=()=>uj(e());else{const s=uj(e);i=()=>s}function o(s=i(),c){let u=[r[c.type],...n.filter(({matcher:d})=>d(c)).map(({reducer:d})=>d)];return u.filter(d=>!!d).length===0&&(u=[a]),u.reduce((d,f)=>{if(f)if(ua(d)){const m=f(d,c);return m===void 0?d:m}else{if(fn(d))return RN(d,h=>f(h,c));{const h=f(d,c);if(h===void 0){if(d===null)return d;throw Error("A case reducer on a non-draftable value must not return undefined")}return h}}return d},s)}return o.getInitialState=i,o}var v7="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",y7=(e=21)=>{let t="",r=e;for(;r--;)t+=v7[Math.random()*64|0];return t},b7=Symbol.for("rtk-slice-createasyncthunk");function x7(e,t){return`${e}/${t}`}function w7({creators:e}={}){var r;const t=(r=e==null?void 0:e.asyncThunk)==null?void 0:r[b7];return function(a){const{name:i,reducerPath:o=i}=a;if(!i)throw new Error(Sr(11));const s=(typeof a.reducers=="function"?a.reducers(j7()):a.reducers)||{},c=Object.keys(s),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},d={addCase(_,j){const S=typeof _=="string"?_:_.type;if(!S)throw new Error(Sr(12));if(S in u.sliceCaseReducersByType)throw new Error(Sr(13));return u.sliceCaseReducersByType[S]=j,d},addMatcher(_,j){return u.sliceMatchers.push({matcher:_,reducer:j}),d},exposeAction(_,j){return u.actionCreators[_]=j,d},exposeCaseReducer(_,j){return u.sliceCaseReducersByName[_]=j,d}};c.forEach(_=>{const j=s[_],S={reducerName:_,type:x7(i,_),createNotation:typeof a.reducers=="function"};C7(j)?O7(S,j,d,t):S7(S,j,d)});function f(){const[_={},j=[],S=void 0]=typeof a.extraReducers=="function"?BN(a.extraReducers):[a.extraReducers],C={..._,...u.sliceCaseReducersByType};return g7(a.initialState,E=>{for(let T in C)E.addCase(T,C[T]);for(let T of u.sliceMatchers)E.addMatcher(T.matcher,T.reducer);for(let T of j)E.addMatcher(T.matcher,T.reducer);S&&E.addDefaultCase(S)})}const h=_=>_,m=new Map,v=new WeakMap;let x;function b(_,j){return x||(x=f()),x(_,j)}function y(){return x||(x=f()),x.getInitialState()}function g(_,j=!1){function S(E){let T=E[_];return typeof T>"u"&&j&&(T=ud(v,S,y)),T}function C(E=h){const T=ud(m,j,()=>new WeakMap);return ud(T,E,()=>{const A={};for(const[R,k]of Object.entries(a.selectors??{}))A[R]=_7(k,E,()=>ud(v,E,y),j);return A})}return{reducerPath:_,getSelectors:C,get selectors(){return C(S)},selectSlice:S}}const w={name:i,reducer:b,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:y,...g(o),injectInto(_,{reducerPath:j,...S}={}){const C=j??o;return _.inject({reducerPath:C,reducer:b},S),{...w,...g(C,!0)}}};return w}}function _7(e,t,r,n){function a(i,...o){let s=t(i);return typeof s>"u"&&n&&(s=r()),e(s,...o)}return a.unwrapped=e,a}var or=w7();function j7(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function S7({type:e,reducerName:t,createNotation:r},n,a){let i,o;if("reducer"in n){if(r&&!E7(n))throw new Error(Sr(17));i=n.reducer,o=n.prepare}else i=n;a.addCase(e,i).exposeCaseReducer(t,i).exposeAction(t,o?Vr(e,o):Vr(e))}function C7(e){return e._reducerDefinitionType==="asyncThunk"}function E7(e){return e._reducerDefinitionType==="reducerWithPrepare"}function O7({type:e,reducerName:t},r,n,a){if(!a)throw new Error(Sr(18));const{payloadCreator:i,fulfilled:o,pending:s,rejected:c,settled:u,options:d}=r,f=a(e,i,d);n.exposeAction(t,f),o&&n.addCase(f.fulfilled,o),s&&n.addCase(f.pending,s),c&&n.addCase(f.rejected,c),u&&n.addMatcher(f.settled,u),n.exposeCaseReducer(t,{fulfilled:o||dd,pending:s||dd,rejected:c||dd,settled:u||dd})}function dd(){}var A7="task",IN="listener",$N="completed",Kb="cancelled",k7=`task-${Kb}`,T7=`task-${$N}`,cy=`${IN}-${Kb}`,N7=`${IN}-${$N}`,wm=class{constructor(e){cp(this,"name","TaskAbortError");cp(this,"message");this.code=e,this.message=`${A7} ${Kb} (reason: ${e})`}},Gb=(e,t)=>{if(typeof e!="function")throw new TypeError(Sr(32))},Ff=()=>{},LN=(e,t=Ff)=>(e.catch(t),e),UN=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),Vi=e=>{if(e.aborted)throw new wm(e.reason)};function qN(e,t){let r=Ff;return new Promise((n,a)=>{const i=()=>a(new wm(e.reason));if(e.aborted){i();return}r=UN(e,i),t.finally(()=>r()).then(n,a)}).finally(()=>{r=Ff})}var R7=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof wm?"cancelled":"rejected",error:r}}finally{t==null||t()}},Vf=e=>t=>LN(qN(e,t).then(r=>(Vi(e),r))),WN=e=>{const t=Vf(e);return r=>t(new Promise(n=>setTimeout(n,r)))},{assign:ls}=Object,fj={},_m="listenerMiddleware",D7=(e,t)=>{const r=n=>UN(e,()=>n.abort(e.reason));return(n,a)=>{Gb(n);const i=new AbortController;r(i);const o=R7(async()=>{Vi(e),Vi(i.signal);const s=await n({pause:Vf(i.signal),delay:WN(i.signal),signal:i.signal});return Vi(i.signal),s},()=>i.abort(T7));return a!=null&&a.autoJoin&&t.push(o.catch(Ff)),{result:Vf(e)(o),cancel(){i.abort(k7)}}}},P7=(e,t)=>{const r=async(n,a)=>{Vi(t);let i=()=>{};const s=[new Promise((c,u)=>{let d=e({predicate:n,effect:(f,h)=>{h.unsubscribe(),c([f,h.getState(),h.getOriginalState()])}});i=()=>{d(),u()}})];a!=null&&s.push(new Promise(c=>setTimeout(c,a,null)));try{const c=await qN(t,Promise.race(s));return Vi(t),c}finally{i()}};return(n,a)=>LN(r(n,a))},HN=e=>{let{type:t,actionCreator:r,matcher:n,predicate:a,effect:i}=e;if(t)a=Vr(t).match;else if(r)t=r.type,a=r.match;else if(n)a=n;else if(!a)throw new Error(Sr(21));return Gb(i),{predicate:a,type:t,effect:i}},FN=ls(e=>{const{type:t,predicate:r,effect:n}=HN(e);return{id:y7(),effect:n,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(Sr(22))}}},{withTypes:()=>FN}),hj=(e,t)=>{const{type:r,effect:n,predicate:a}=HN(t);return Array.from(e.values()).find(i=>(typeof r=="string"?i.type===r:i.predicate===a)&&i.effect===n)},uy=e=>{e.pending.forEach(t=>{t.abort(cy)})},M7=(e,t)=>()=>{for(const r of t.keys())uy(r);e.clear()},mj=(e,t,r)=>{try{e(t,r)}catch(n){setTimeout(()=>{throw n},0)}},VN=ls(Vr(`${_m}/add`),{withTypes:()=>VN}),z7=Vr(`${_m}/removeAll`),KN=ls(Vr(`${_m}/remove`),{withTypes:()=>KN}),B7=(...e)=>{console.error(`${_m}/error`,...e)},fu=(e={})=>{const t=new Map,r=new Map,n=m=>{const v=r.get(m)??0;r.set(m,v+1)},a=m=>{const v=r.get(m)??1;v===1?r.delete(m):r.set(m,v-1)},{extra:i,onError:o=B7}=e;Gb(o);const s=m=>(m.unsubscribe=()=>t.delete(m.id),t.set(m.id,m),v=>{m.unsubscribe(),v!=null&&v.cancelActive&&uy(m)}),c=m=>{const v=hj(t,m)??FN(m);return s(v)};ls(c,{withTypes:()=>c});const u=m=>{const v=hj(t,m);return v&&(v.unsubscribe(),m.cancelActive&&uy(v)),!!v};ls(u,{withTypes:()=>u});const d=async(m,v,x,b)=>{const y=new AbortController,g=P7(c,y.signal),w=[];try{m.pending.add(y),n(m),await Promise.resolve(m.effect(v,ls({},x,{getOriginalState:b,condition:(_,j)=>g(_,j).then(Boolean),take:g,delay:WN(y.signal),pause:Vf(y.signal),extra:i,signal:y.signal,fork:D7(y.signal,w),unsubscribe:m.unsubscribe,subscribe:()=>{t.set(m.id,m)},cancelActiveListeners:()=>{m.pending.forEach((_,j,S)=>{_!==y&&(_.abort(cy),S.delete(_))})},cancel:()=>{y.abort(cy),m.pending.delete(y)},throwIfCancelled:()=>{Vi(y.signal)}})))}catch(_){_ instanceof wm||mj(o,_,{raisedBy:"effect"})}finally{await Promise.all(w),y.abort(N7),a(m),m.pending.delete(y)}},f=M7(t,r);return{middleware:m=>v=>x=>{if(!_N(x))return v(x);if(VN.match(x))return c(x.payload);if(z7.match(x)){f();return}if(KN.match(x))return u(x.payload);let b=m.getState();const y=()=>{if(b===fj)throw new Error(Sr(23));return b};let g;try{if(g=v(x),t.size>0){const w=m.getState(),_=Array.from(t.values());for(const j of _){let S=!1;try{S=j.predicate(x,w,b)}catch(C){S=!1,mj(o,C,{raisedBy:"predicate"})}S&&d(j,x,m,y)}}}finally{b=fj}return g},startListening:c,stopListening:u,clearListeners:f}};function Sr(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var I7={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},GN=or({name:"chartLayout",initialState:I7,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var r,n,a,i;e.margin.top=(r=t.payload.top)!==null&&r!==void 0?r:0,e.margin.right=(n=t.payload.right)!==null&&n!==void 0?n:0,e.margin.bottom=(a=t.payload.bottom)!==null&&a!==void 0?a:0,e.margin.left=(i=t.payload.left)!==null&&i!==void 0?i:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:$7,setLayout:L7,setChartSize:U7,setScale:q7}=GN.actions,W7=GN.reducer;function YN(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}function We(e){return Number.isFinite(e)}function Tn(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function pj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Zo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?pj(Object(r),!0).forEach(function(n){H7(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):pj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function H7(e,t,r){return(t=F7(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function F7(e){var t=V7(e,"string");return typeof t=="symbol"?t:t+""}function V7(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zt(e,t,r){return jt(e)||jt(t)?r:kn(t)?js(e,t,r):typeof t=="function"?t(e):r}var K7=(e,t,r)=>{if(t&&r){var{width:n,height:a}=r,{align:i,verticalAlign:o,layout:s}=t;if((s==="vertical"||s==="horizontal"&&o==="middle")&&i!=="center"&&Z(e[i]))return Zo(Zo({},e),{},{[i]:e[i]+(n||0)});if((s==="horizontal"||s==="vertical"&&i==="center")&&o!=="middle"&&Z(e[o]))return Zo(Zo({},e),{},{[o]:e[o]+(a||0)})}return e},po=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",XN=(e,t,r,n)=>{if(n)return e.map(s=>s.coordinate);var a,i,o=e.map(s=>(s.coordinate===t&&(a=!0),s.coordinate===r&&(i=!0),s.coordinate));return a||o.push(t),i||o.push(r),o},ZN=(e,t,r)=>{if(!e)return null;var{duplicateDomain:n,type:a,range:i,scale:o,realScaleType:s,isCategorical:c,categoricalDomain:u,tickCount:d,ticks:f,niceTicks:h,axisType:m}=e;if(!o)return null;var v=s==="scaleBand"&&o.bandwidth?o.bandwidth()/2:2,x=a==="category"&&o.bandwidth?o.bandwidth()/v:0;if(x=m==="angleAxis"&&i&&i.length>=2?tr(i[0]-i[1])*2*x:x,f||h){var b=(f||h||[]).map((y,g)=>{var w=n?n.indexOf(y):y;return{coordinate:o(w)+x,value:y,offset:x,index:g}});return b.filter(y=>!un(y.coordinate))}return c&&u?u.map((y,g)=>({coordinate:o(y)+x,value:y,index:g,offset:x})):o.ticks&&d!=null?o.ticks(d).map((y,g)=>({coordinate:o(y)+x,value:y,offset:x,index:g})):o.domain().map((y,g)=>({coordinate:o(y)+x,value:n?n[y]:y,index:g,offset:x}))},gj=1e-4,G7=e=>{var t=e.domain();if(!(!t||t.length<=2)){var r=t.length,n=e.range(),a=Math.min(n[0],n[1])-gj,i=Math.max(n[0],n[1])+gj,o=e(t[0]),s=e(t[r-1]);(o<a||o>i||s<a||s>i)&&e.domain([t[0],t[r-1]])}},Y7=(e,t)=>{if(!t||t.length!==2||!Z(t[0])||!Z(t[1]))return e;var r=Math.min(t[0],t[1]),n=Math.max(t[0],t[1]),a=[e[0],e[1]];return(!Z(e[0])||e[0]<r)&&(a[0]=r),(!Z(e[1])||e[1]>n)&&(a[1]=n),a[0]>n&&(a[0]=n),a[1]<r&&(a[1]=r),a},X7=e=>{var t,r=e.length;if(!(r<=0)){var n=(t=e[0])===null||t===void 0?void 0:t.length;if(!(n==null||n<=0))for(var a=0;a<n;++a)for(var i=0,o=0,s=0;s<r;++s){var c=e[s],u=c==null?void 0:c[a];if(u!=null){var d=u[1],f=u[0],h=un(d)?f:d;h>=0?(u[0]=i,u[1]=i+h,i=d):(u[0]=o,u[1]=o+h,o=d)}}}},Z7=e=>{var t,r=e.length;if(!(r<=0)){var n=(t=e[0])===null||t===void 0?void 0:t.length;if(!(n==null||n<=0))for(var a=0;a<n;++a)for(var i=0,o=0;o<r;++o){var s=e[o],c=s==null?void 0:s[a];if(c!=null){var u=un(c[1])?c[0]:c[1];u>=0?(c[0]=i,c[1]=i+u,i=c[1]):(c[0]=0,c[1]=0)}}}},J7={sign:X7,expand:zU,none:to,silhouette:BU,wiggle:IU,positive:Z7},Q7=(e,t,r)=>{var n,a=(n=J7[r])!==null&&n!==void 0?n:to,i=MU().keys(t).value((s,c)=>Number(zt(s,c,0))).order(Qv).offset(a),o=i(e);return o.forEach((s,c)=>{s.forEach((u,d)=>{var f=zt(e[d],t[c],0);Array.isArray(f)&&f.length===2&&Z(f[0])&&Z(f[1])&&(u[0]=f[0],u[1]=f[1])})}),o};function eq(e){return e==null?void 0:String(e)}var vj=e=>{var{axis:t,ticks:r,offset:n,bandSize:a,entry:i,index:o}=e;if(t.type==="category")return r[o]?r[o].coordinate+n:null;var s=zt(i,t.dataKey,t.scale.domain()[o]);return jt(s)?null:t.scale(s)-a/2+n},tq=e=>{var{numericAxis:t}=e,r=t.scale.domain();if(t.type==="number"){var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]);return n<=0&&a>=0?0:a<0?a:n}return r[0]},rq=e=>{var t=e.flat(2).filter(Z);return[Math.min(...t),Math.max(...t)]},nq=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],aq=(e,t,r)=>{if(e!=null)return nq(Object.keys(e).reduce((n,a)=>{var i=e[a];if(!i)return n;var{stackedData:o}=i,s=o.reduce((c,u)=>{var d=YN(u,t,r),f=rq(d);return!We(f[0])||!We(f[1])?c:[Math.min(c[0],f[0]),Math.max(c[1],f[1])]},[1/0,-1/0]);return[Math.min(s[0],n[0]),Math.max(s[1],n[1])]},[1/0,-1/0]))},yj=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,bj=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Kf=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&t&&t.length>=2){for(var a=hm(t,d=>d.coordinate),i=1/0,o=1,s=a.length;o<s;o++){var c=a[o],u=a[o-1];i=Math.min(((c==null?void 0:c.coordinate)||0)-((u==null?void 0:u.coordinate)||0),i)}return i===1/0?0:i}return r?void 0:0};function xj(e){var{tooltipEntrySettings:t,dataKey:r,payload:n,value:a,name:i}=e;return Zo(Zo({},t),{},{dataKey:r,payload:n,value:a,name:i})}function JN(e,t){if(e)return String(e);if(typeof t=="string")return t}var iq=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},oq=(e,t)=>t==="centric"?e.angle:e.radius,ya=e=>e.layout.width,ba=e=>e.layout.height,sq=e=>e.layout.scale,QN=e=>e.layout.margin,jm=B(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),Sm=B(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),lq="data-recharts-item-index",cq="data-recharts-item-id",hu=60;function wj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function fd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?wj(Object(r),!0).forEach(function(n){uq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):wj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function uq(e,t,r){return(t=dq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dq(e){var t=fq(e,"string");return typeof t=="symbol"?t:t+""}function fq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var hq=e=>e.brush.height;function mq(e){var t=Sm(e);return t.reduce((r,n)=>{if(n.orientation==="left"&&!n.mirror&&!n.hide){var a=typeof n.width=="number"?n.width:hu;return r+a}return r},0)}function pq(e){var t=Sm(e);return t.reduce((r,n)=>{if(n.orientation==="right"&&!n.mirror&&!n.hide){var a=typeof n.width=="number"?n.width:hu;return r+a}return r},0)}function gq(e){var t=jm(e);return t.reduce((r,n)=>n.orientation==="top"&&!n.mirror&&!n.hide?r+n.height:r,0)}function vq(e){var t=jm(e);return t.reduce((r,n)=>n.orientation==="bottom"&&!n.mirror&&!n.hide?r+n.height:r,0)}var St=B([ya,ba,QN,hq,mq,pq,gq,vq,bN,U9],(e,t,r,n,a,i,o,s,c,u)=>{var d={left:(r.left||0)+a,right:(r.right||0)+i},f={top:(r.top||0)+o,bottom:(r.bottom||0)+s},h=fd(fd({},f),d),m=h.bottom;h.bottom+=n,h=K7(h,c,u);var v=e-h.left-h.right,x=t-h.top-h.bottom;return fd(fd({brushBottom:m},h),{},{width:Math.max(v,0),height:Math.max(x,0)})}),yq=B(St,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),Yb=B(ya,ba,(e,t)=>({x:0,y:0,width:e,height:t})),bq=p.createContext(null),sr=()=>p.useContext(bq)!=null,Cm=e=>e.brush,Em=B([Cm,St,QN],(e,t,r)=>({height:e.height,x:Z(e.x)?e.x:t.left,y:Z(e.y)?e.y:t.top+t.height+t.brushBottom-((r==null?void 0:r.bottom)||0),width:Z(e.width)?e.width:t.width})),eR={},tR={},rR={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n,{signal:a,edges:i}={}){let o,s=null;const c=i!=null&&i.includes("leading"),u=i==null||i.includes("trailing"),d=()=>{s!==null&&(r.apply(o,s),o=void 0,s=null)},f=()=>{u&&d(),x()};let h=null;const m=()=>{h!=null&&clearTimeout(h),h=setTimeout(()=>{h=null,f()},n)},v=()=>{h!==null&&(clearTimeout(h),h=null)},x=()=>{v(),o=void 0,s=null},b=()=>{d()},y=function(...g){if(a!=null&&a.aborted)return;o=this,s=g;const w=h==null;m(),c&&w&&d()};return y.schedule=m,y.cancel=x,y.flush=b,a==null||a.addEventListener("abort",x,{once:!0}),y}e.debounce=t})(rR);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=rR;function r(n,a=0,i={}){typeof i!="object"&&(i={});const{leading:o=!1,trailing:s=!0,maxWait:c}=i,u=Array(2);o&&(u[0]="leading"),s&&(u[1]="trailing");let d,f=null;const h=t.debounce(function(...x){d=n.apply(this,x),f=null},a,{edges:u}),m=function(...x){return c!=null&&(f===null&&(f=Date.now()),Date.now()-f>=c)?(d=n.apply(this,x),f=Date.now(),h.cancel(),h.schedule(),d):(h.apply(this,x),d)},v=()=>(h.flush(),d);return m.cancel=h.cancel,m.flush=v,m}e.debounce=r})(tR);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=tR;function r(n,a=0,i={}){const{leading:o=!0,trailing:s=!0}=i;return t.debounce(n,a,{leading:o,maxWait:a,trailing:s})}e.throttle=r})(eR);var xq=eR.throttle;const wq=ga(xq);var Gf=function(t,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),i=2;i<n;i++)a[i-2]=arguments[i];if(typeof console<"u"&&console.warn&&(r===void 0&&console.warn("LogUtils requires an error message argument"),!t))if(r===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var o=0;console.warn(r.replace(/%s/g,()=>a[o++]))}},nR=(e,t,r)=>{var{width:n="100%",height:a="100%",aspect:i,maxHeight:o}=r,s=ca(n)?e:Number(n),c=ca(a)?t:Number(a);return i&&i>0&&(s?c=s/i:c&&(s=c*i),o&&c!=null&&c>o&&(c=o)),{calculatedWidth:s,calculatedHeight:c}},_q={width:0,height:0,overflow:"visible"},jq={width:0,overflowX:"visible"},Sq={height:0,overflowY:"visible"},Cq={},Eq=e=>{var{width:t,height:r}=e,n=ca(t),a=ca(r);return n&&a?_q:n?jq:a?Sq:Cq};function Oq(e){var{width:t,height:r,aspect:n}=e,a=t,i=r;return a===void 0&&i===void 0?(a="100%",i="100%"):a===void 0?a=n&&n>0?void 0:"100%":i===void 0&&(i=n&&n>0?void 0:"100%"),{width:a,height:i}}function dy(){return dy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},dy.apply(null,arguments)}function _j(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function jj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_j(Object(r),!0).forEach(function(n){Aq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_j(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Aq(e,t,r){return(t=kq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kq(e){var t=Tq(e,"string");return typeof t=="symbol"?t:t+""}function Tq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var aR=p.createContext({width:-1,height:-1});function Nq(e){return Tn(e.width)&&Tn(e.height)}function iR(e){var{children:t,width:r,height:n}=e,a=p.useMemo(()=>({width:r,height:n}),[r,n]);return Nq(a)?p.createElement(aR.Provider,{value:a},t):null}var Xb=()=>p.useContext(aR),Rq=p.forwardRef((e,t)=>{var{aspect:r,initialDimension:n={width:-1,height:-1},width:a,height:i,minWidth:o=0,minHeight:s,maxHeight:c,children:u,debounce:d=0,id:f,className:h,onResize:m,style:v={}}=e,x=p.useRef(null),b=p.useRef();b.current=m,p.useImperativeHandle(t,()=>x.current);var[y,g]=p.useState({containerWidth:n.width,containerHeight:n.height}),w=p.useCallback((E,T)=>{g(A=>{var R=Math.round(E),k=Math.round(T);return A.containerWidth===R&&A.containerHeight===k?A:{containerWidth:R,containerHeight:k}})},[]);p.useEffect(()=>{if(x.current==null||typeof ResizeObserver>"u")return uu;var E=k=>{var z,{width:$,height:H}=k[0].contentRect;w($,H),(z=b.current)===null||z===void 0||z.call(b,$,H)};d>0&&(E=wq(E,d,{trailing:!0,leading:!1}));var T=new ResizeObserver(E),{width:A,height:R}=x.current.getBoundingClientRect();return w(A,R),T.observe(x.current),()=>{T.disconnect()}},[w,d]);var{containerWidth:_,containerHeight:j}=y;Gf(!r||r>0,"The aspect(%s) must be greater than zero.",r);var{calculatedWidth:S,calculatedHeight:C}=nR(_,j,{width:a,height:i,aspect:r,maxHeight:c});return Gf(S!=null&&S>0||C!=null&&C>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,S,C,a,i,o,s,r),p.createElement("div",{id:f?"".concat(f):void 0,className:Ie("recharts-responsive-container",h),style:jj(jj({},v),{},{width:a,height:i,minWidth:o,minHeight:s,maxHeight:c}),ref:x},p.createElement("div",{style:Eq({width:a,height:i})},p.createElement(iR,{width:S,height:C},u)))}),Dq=p.forwardRef((e,t)=>{var r=Xb();if(Tn(r.width)&&Tn(r.height))return e.children;var{width:n,height:a}=Oq({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:i,calculatedHeight:o}=nR(void 0,void 0,{width:n,height:a,aspect:e.aspect,maxHeight:e.maxHeight});return Z(i)&&Z(o)?p.createElement(iR,{width:i,height:o},e.children):p.createElement(Rq,dy({},e,{width:n,height:a,ref:t}))});function oR(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var Om=()=>{var e,t=sr(),r=te(yq),n=te(Em),a=(e=te(Cm))===null||e===void 0?void 0:e.padding;return!t||!n||!a?r:{width:n.width-a.left-a.right,height:n.height-a.top-a.bottom,x:a.left,y:a.top}},Pq={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},sR=()=>{var e;return(e=te(St))!==null&&e!==void 0?e:Pq},lR=()=>te(ya),cR=()=>te(ba),we=e=>e.layout.layoutType,mu=()=>te(we),Mq=()=>{var e=mu();return e!==void 0},Am=e=>{var t=Xe(),r=sr(),{width:n,height:a}=e,i=Xb(),o=n,s=a;return i&&(o=i.width>0?i.width:n,s=i.height>0?i.height:a),p.useEffect(()=>{!r&&Tn(o)&&Tn(s)&&t(U7({width:o,height:s}))},[t,r,o,s]),null},uR=Symbol.for("immer-nothing"),Sj=Symbol.for("immer-draftable"),Or=Symbol.for("immer-state");function an(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Oc=Object.getPrototypeOf;function Es(e){return!!e&&!!e[Or]}function no(e){var t;return e?dR(e)||Array.isArray(e)||!!e[Sj]||!!((t=e.constructor)!=null&&t[Sj])||pu(e)||Tm(e):!1}var zq=Object.prototype.constructor.toString(),Cj=new WeakMap;function dR(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(r===Object)return!0;if(typeof r!="function")return!1;let n=Cj.get(r);return n===void 0&&(n=Function.toString.call(r),Cj.set(r,n)),n===zq}function Yf(e,t,r=!0){km(e)===0?(r?Reflect.ownKeys(e):Object.keys(e)).forEach(a=>{t(a,e[a],e)}):e.forEach((n,a)=>t(a,n,e))}function km(e){const t=e[Or];return t?t.type_:Array.isArray(e)?1:pu(e)?2:Tm(e)?3:0}function fy(e,t){return km(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function fR(e,t,r){const n=km(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function Bq(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function pu(e){return e instanceof Map}function Tm(e){return e instanceof Set}function Ni(e){return e.copy_||e.base_}function hy(e,t){if(pu(e))return new Map(e);if(Tm(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=dR(e);if(t===!0||t==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(e);delete n[Or];let a=Reflect.ownKeys(n);for(let i=0;i<a.length;i++){const o=a[i],s=n[o];s.writable===!1&&(s.writable=!0,s.configurable=!0),(s.get||s.set)&&(n[o]={configurable:!0,writable:!0,enumerable:s.enumerable,value:e[o]})}return Object.create(Oc(e),n)}else{const n=Oc(e);if(n!==null&&r)return{...e};const a=Object.create(n);return Object.assign(a,e)}}function Zb(e,t=!1){return Nm(e)||Es(e)||!no(e)||(km(e)>1&&Object.defineProperties(e,{set:hd,add:hd,clear:hd,delete:hd}),Object.freeze(e),t&&Object.values(e).forEach(r=>Zb(r,!0))),e}function Iq(){an(2)}var hd={value:Iq};function Nm(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var $q={};function ao(e){const t=$q[e];return t||an(0,e),t}var Ac;function hR(){return Ac}function Lq(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function Ej(e,t){t&&(ao("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function my(e){py(e),e.drafts_.forEach(Uq),e.drafts_=null}function py(e){e===Ac&&(Ac=e.parent_)}function Oj(e){return Ac=Lq(Ac,e)}function Uq(e){const t=e[Or];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function Aj(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[Or].modified_&&(my(t),an(4)),no(e)&&(e=Xf(t,e),t.parent_||Zf(t,e)),t.patches_&&ao("Patches").generateReplacementPatches_(r[Or].base_,e,t.patches_,t.inversePatches_)):e=Xf(t,r,[]),my(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==uR?e:void 0}function Xf(e,t,r){if(Nm(t))return t;const n=e.immer_.shouldUseStrictIteration(),a=t[Or];if(!a)return Yf(t,(i,o)=>kj(e,a,t,i,o,r),n),t;if(a.scope_!==e)return t;if(!a.modified_)return Zf(e,a.base_,!0),a.base_;if(!a.finalized_){a.finalized_=!0,a.scope_.unfinalizedDrafts_--;const i=a.copy_;let o=i,s=!1;a.type_===3&&(o=new Set(i),i.clear(),s=!0),Yf(o,(c,u)=>kj(e,a,i,c,u,r,s),n),Zf(e,i,!1),r&&e.patches_&&ao("Patches").generatePatches_(a,r,e.patches_,e.inversePatches_)}return a.copy_}function kj(e,t,r,n,a,i,o){if(a==null||typeof a!="object"&&!o)return;const s=Nm(a);if(!(s&&!o)){if(Es(a)){const c=i&&t&&t.type_!==3&&!fy(t.assigned_,n)?i.concat(n):void 0,u=Xf(e,a,c);if(fR(r,n,u),Es(u))e.canAutoFreeze_=!1;else return}else o&&r.add(a);if(no(a)&&!s){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[n]===a&&s)return;Xf(e,a),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&(pu(r)?r.has(n):Object.prototype.propertyIsEnumerable.call(r,n))&&Zf(e,a)}}}function Zf(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Zb(t,r)}function qq(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:hR(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let a=n,i=Jb;r&&(a=[n],i=kc);const{revoke:o,proxy:s}=Proxy.revocable(a,i);return n.draft_=s,n.revoke_=o,s}var Jb={get(e,t){if(t===Or)return e;const r=Ni(e);if(!fy(r,t))return Wq(e,r,t);const n=r[t];return e.finalized_||!no(n)?n:n===mg(e.base_,t)?(pg(e),e.copy_[t]=vy(n,e)):n},has(e,t){return t in Ni(e)},ownKeys(e){return Reflect.ownKeys(Ni(e))},set(e,t,r){const n=mR(Ni(e),t);if(n!=null&&n.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const a=mg(Ni(e),t),i=a==null?void 0:a[Or];if(i&&i.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(Bq(r,a)&&(r!==void 0||fy(e.base_,t)))return!0;pg(e),gy(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return mg(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,pg(e),gy(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=Ni(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){an(11)},getPrototypeOf(e){return Oc(e.base_)},setPrototypeOf(){an(12)}},kc={};Yf(Jb,(e,t)=>{kc[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});kc.deleteProperty=function(e,t){return kc.set.call(this,e,t,void 0)};kc.set=function(e,t,r){return Jb.set.call(this,e[0],t,r,e[0])};function mg(e,t){const r=e[Or];return(r?Ni(r):e)[t]}function Wq(e,t,r){var a;const n=mR(t,r);return n?"value"in n?n.value:(a=n.get)==null?void 0:a.call(e.draft_):void 0}function mR(e,t){if(!(t in e))return;let r=Oc(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=Oc(r)}}function gy(e){e.modified_||(e.modified_=!0,e.parent_&&gy(e.parent_))}function pg(e){e.copy_||(e.copy_=hy(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var Hq=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){const i=r;r=t;const o=this;return function(c=i,...u){return o.produce(c,d=>r.call(this,d,...u))}}typeof r!="function"&&an(6),n!==void 0&&typeof n!="function"&&an(7);let a;if(no(t)){const i=Oj(this),o=vy(t,void 0);let s=!0;try{a=r(o),s=!1}finally{s?my(i):py(i)}return Ej(i,n),Aj(a,i)}else if(!t||typeof t!="object"){if(a=r(t),a===void 0&&(a=t),a===uR&&(a=void 0),this.autoFreeze_&&Zb(a,!0),n){const i=[],o=[];ao("Patches").generateReplacementPatches_(t,a,i,o),n(i,o)}return a}else an(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(o,...s)=>this.produceWithPatches(o,c=>t(c,...s));let n,a;return[this.produce(t,r,(o,s)=>{n=o,a=s}),n,a]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof(e==null?void 0:e.useStrictIteration)=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){no(e)||an(8),Es(e)&&(e=Fq(e));const t=Oj(this),r=vy(e,void 0);return r[Or].isManual_=!0,py(t),r}finishDraft(e,t){const r=e&&e[Or];(!r||!r.isManual_)&&an(9);const{scope_:n}=r;return Ej(n,t),Aj(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const a=t[r];if(a.path.length===0&&a.op==="replace"){e=a.value;break}}r>-1&&(t=t.slice(r+1));const n=ao("Patches").applyPatches_;return Es(e)?n(e,t):this.produce(e,a=>n(a,t))}};function vy(e,t){const r=pu(e)?ao("MapSet").proxyMap_(e,t):Tm(e)?ao("MapSet").proxySet_(e,t):qq(e,t);return(t?t.scope_:hR()).drafts_.push(r),r}function Fq(e){return Es(e)||an(10,e),pR(e)}function pR(e){if(!no(e)||Nm(e))return e;const t=e[Or];let r,n=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=hy(e,t.scope_.immer_.useStrictShallowCopy_),n=t.scope_.immer_.shouldUseStrictIteration()}else r=hy(e,!0);return Yf(r,(a,i)=>{fR(r,a,pR(i))},n),t&&(t.finalized_=!1),r}var Vq=new Hq;Vq.produce;var Kq={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},gR=or({name:"legend",initialState:Kq,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:Le()},replaceLegendPayload:{reducer(e,t){var{prev:r,next:n}=t.payload,a=sn(e).payload.indexOf(r);a>-1&&(e.payload[a]=n)},prepare:Le()},removeLegendPayload:{reducer(e,t){var r=sn(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)},prepare:Le()}}}),{setLegendSize:Ere,setLegendSettings:Ore,addLegendPayload:Gq,replaceLegendPayload:Yq,removeLegendPayload:Xq}=gR.actions,Zq=gR.reducer;function yy(){return yy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yy.apply(null,arguments)}function Tj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function gg(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Tj(Object(r),!0).forEach(function(n){Jq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Tj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Jq(e,t,r){return(t=Qq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Qq(e){var t=eW(e,"string");return typeof t=="symbol"?t:t+""}function eW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function tW(e){return Array.isArray(e)&&kn(e[0])&&kn(e[1])?e.join(" ~ "):e}var rW=e=>{var{separator:t=" : ",contentStyle:r={},itemStyle:n={},labelStyle:a={},payload:i,formatter:o,itemSorter:s,wrapperClassName:c,labelClassName:u,label:d,labelFormatter:f,accessibilityLayer:h=!1}=e,m=()=>{if(i&&i.length){var j={padding:0,margin:0},S=(s?hm(i,s):i).map((C,E)=>{if(C.type==="none")return null;var T=C.formatter||o||tW,{value:A,name:R}=C,k=A,z=R;if(T){var $=T(A,R,C,E,i);if(Array.isArray($))[k,z]=$;else if($!=null)k=$;else return null}var H=gg({display:"block",paddingTop:4,paddingBottom:4,color:C.color||"#000"},n);return p.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(E),style:H},kn(z)?p.createElement("span",{className:"recharts-tooltip-item-name"},z):null,kn(z)?p.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,p.createElement("span",{className:"recharts-tooltip-item-value"},k),p.createElement("span",{className:"recharts-tooltip-item-unit"},C.unit||""))});return p.createElement("ul",{className:"recharts-tooltip-item-list",style:j},S)}return null},v=gg({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),x=gg({margin:0},a),b=!jt(d),y=b?d:"",g=Ie("recharts-default-tooltip",c),w=Ie("recharts-tooltip-label",u);b&&f&&i!==void 0&&i!==null&&(y=f(d,i));var _=h?{role:"status","aria-live":"assertive"}:{};return p.createElement("div",yy({className:g,style:v},_),p.createElement("p",{className:w,style:x},p.isValidElement(y)?y:"".concat(y)),m())},vl="recharts-tooltip-wrapper",nW={visibility:"hidden"};function aW(e){var{coordinate:t,translateX:r,translateY:n}=e;return Ie(vl,{["".concat(vl,"-right")]:Z(r)&&t&&Z(t.x)&&r>=t.x,["".concat(vl,"-left")]:Z(r)&&t&&Z(t.x)&&r<t.x,["".concat(vl,"-bottom")]:Z(n)&&t&&Z(t.y)&&n>=t.y,["".concat(vl,"-top")]:Z(n)&&t&&Z(t.y)&&n<t.y})}function Nj(e){var{allowEscapeViewBox:t,coordinate:r,key:n,offsetTopLeft:a,position:i,reverseDirection:o,tooltipDimension:s,viewBox:c,viewBoxDimension:u}=e;if(i&&Z(i[n]))return i[n];var d=r[n]-s-(a>0?a:0),f=r[n]+a;if(t[n])return o[n]?d:f;var h=c[n];if(h==null)return 0;if(o[n]){var m=d,v=h;return m<v?Math.max(f,h):Math.max(d,h)}if(u==null)return 0;var x=f+s,b=h+u;return x>b?Math.max(d,h):Math.max(f,h)}function iW(e){var{translateX:t,translateY:r,useTranslate3d:n}=e;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function oW(e){var{allowEscapeViewBox:t,coordinate:r,offsetTopLeft:n,position:a,reverseDirection:i,tooltipBox:o,useTranslate3d:s,viewBox:c}=e,u,d,f;return o.height>0&&o.width>0&&r?(d=Nj({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),f=Nj({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),u=iW({translateX:d,translateY:f,useTranslate3d:s})):u=nW,{cssProperties:u,cssClasses:aW({translateX:d,translateY:f,coordinate:r})}}function Rj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function md(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Rj(Object(r),!0).forEach(function(n){by(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Rj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function by(e,t,r){return(t=sW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sW(e){var t=lW(e,"string");return typeof t=="symbol"?t:t+""}function lW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class cW extends p.PureComponent{constructor(){super(...arguments),by(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),by(this,"handleKeyDown",t=>{if(t.key==="Escape"){var r,n,a,i;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(a=(i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==null&&a!==void 0?a:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,r;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:r,animationDuration:n,animationEasing:a,children:i,coordinate:o,hasPayload:s,isAnimationActive:c,offset:u,position:d,reverseDirection:f,useTranslate3d:h,viewBox:m,wrapperStyle:v,lastBoundingBox:x,innerRef:b,hasPortalFromProps:y}=this.props,{cssClasses:g,cssProperties:w}=oW({allowEscapeViewBox:r,coordinate:o,offsetTopLeft:u,position:d,reverseDirection:f,tooltipBox:{height:x.height,width:x.width},useTranslate3d:h,viewBox:m}),_=y?{}:md(md({transition:c&&t?"transform ".concat(n,"ms ").concat(a):void 0},w),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&s?"visible":"hidden",position:"absolute",top:0,left:0}),j=md(md({},_),{},{visibility:!this.state.dismissed&&t&&s?"visible":"hidden"},v);return p.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:g,style:j,ref:b},i)}}var vR=()=>{var e;return(e=te(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function xy(){return xy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xy.apply(null,arguments)}function Dj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Pj(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Dj(Object(r),!0).forEach(function(n){uW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Dj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function uW(e,t,r){return(t=dW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dW(e){var t=fW(e,"string");return typeof t=="symbol"?t:t+""}function fW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Mj={curveBasisClosed:SU,curveBasisOpen:CU,curveBasis:jU,curveBumpX:cU,curveBumpY:uU,curveLinearClosed:EU,curveLinear:im,curveMonotoneX:OU,curveMonotoneY:AU,curveNatural:kU,curveStep:TU,curveStepAfter:RU,curveStepBefore:NU},Jf=e=>We(e.x)&&We(e.y),zj=e=>e.base!=null&&Jf(e.base)&&Jf(e),yl=e=>e.x,bl=e=>e.y,hW=(e,t)=>{if(typeof e=="function")return e;var r="curve".concat(cu(e));return(r==="curveMonotone"||r==="curveBump")&&t?Mj["".concat(r).concat(t==="vertical"?"Y":"X")]:Mj[r]||im},mW=e=>{var{type:t="linear",points:r=[],baseLine:n,layout:a,connectNulls:i=!1}=e,o=hW(t,a),s=i?r.filter(Jf):r,c;if(Array.isArray(n)){var u=r.map((m,v)=>Pj(Pj({},m),{},{base:n[v]}));a==="vertical"?c=od().y(bl).x1(yl).x0(m=>m.base.x):c=od().x(yl).y1(bl).y0(m=>m.base.y);var d=c.defined(zj).curve(o),f=i?u.filter(zj):u;return d(f)}a==="vertical"&&Z(n)?c=od().y(bl).x1(yl).x0(n):Z(n)?c=od().x(yl).y1(bl).y0(n):c=AT().x(yl).y(bl);var h=c.defined(Jf).curve(o);return h(s)},yR=e=>{var{className:t,points:r,path:n,pathRef:a}=e,i=mu();if((!r||!r.length)&&!n)return null;var o={type:e.type,points:e.points,baseLine:e.baseLine,layout:e.layout||i,connectNulls:e.connectNulls},s=r&&r.length?mW(o):n;return p.createElement("path",xy({},sa(e),e9(e),{className:Ie("recharts-curve",t),d:s===null?void 0:s,ref:a}))},pW=["x","y","top","left","width","height","className"];function wy(){return wy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wy.apply(null,arguments)}function Bj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function gW(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Bj(Object(r),!0).forEach(function(n){vW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Bj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function vW(e,t,r){return(t=yW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function yW(e){var t=bW(e,"string");return typeof t=="symbol"?t:t+""}function bW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xW(e,t){if(e==null)return{};var r,n,a=wW(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function wW(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var _W=(e,t,r,n,a,i)=>"M".concat(e,",").concat(a,"v").concat(n,"M").concat(i,",").concat(t,"h").concat(r),jW=e=>{var{x:t=0,y:r=0,top:n=0,left:a=0,width:i=0,height:o=0,className:s}=e,c=xW(e,pW),u=gW({x:t,y:r,top:n,left:a,width:i,height:o},c);return!Z(t)||!Z(r)||!Z(i)||!Z(o)||!Z(n)||!Z(a)?null:p.createElement("path",wy({},Fr(u),{className:Ie("recharts-cross",s),d:_W(t,r,i,o,n,a)}))};function SW(e,t,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-a:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-a,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function Ij(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function $j(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ij(Object(r),!0).forEach(function(n){CW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ij(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function CW(e,t,r){return(t=EW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function EW(e){var t=OW(e,"string");return typeof t=="symbol"?t:t+""}function OW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var AW=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),bR=(e,t,r)=>e.map(n=>"".concat(AW(n)," ").concat(t,"ms ").concat(r)).join(","),kW=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((r,n)=>r.filter(a=>n.includes(a))),Tc=(e,t)=>Object.keys(t).reduce((r,n)=>$j($j({},r),{},{[n]:e(n,t[n])}),{});function Lj(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function lt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Lj(Object(r),!0).forEach(function(n){TW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Lj(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function TW(e,t,r){return(t=NW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function NW(e){var t=RW(e,"string");return typeof t=="symbol"?t:t+""}function RW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Qf=(e,t,r)=>e+(t-e)*r,_y=e=>{var{from:t,to:r}=e;return t!==r},xR=(e,t,r)=>{var n=Tc((a,i)=>{if(_y(i)){var[o,s]=e(i.from,i.to,i.velocity);return lt(lt({},i),{},{from:o,velocity:s})}return i},t);return r<1?Tc((a,i)=>_y(i)&&n[a]!=null?lt(lt({},i),{},{velocity:Qf(i.velocity,n[a].velocity,r),from:Qf(i.from,n[a].from,r)}):i,t):xR(e,n,r-1)};function DW(e,t,r,n,a,i){var o,s=n.reduce((h,m)=>lt(lt({},h),{},{[m]:{from:e[m],velocity:0,to:t[m]}}),{}),c=()=>Tc((h,m)=>m.from,s),u=()=>!Object.values(s).filter(_y).length,d=null,f=h=>{o||(o=h);var m=h-o,v=m/r.dt;s=xR(r,s,v),a(lt(lt(lt({},e),t),c())),o=h,u()||(d=i.setTimeout(f))};return()=>(d=i.setTimeout(f),()=>{var h;(h=d)===null||h===void 0||h()})}function PW(e,t,r,n,a,i,o){var s=null,c=a.reduce((f,h)=>{var m=e[h],v=t[h];return m==null||v==null?f:lt(lt({},f),{},{[h]:[m,v]})},{}),u,d=f=>{u||(u=f);var h=(f-u)/n,m=Tc((x,b)=>Qf(...b,r(h)),c);if(i(lt(lt(lt({},e),t),m)),h<1)s=o.setTimeout(d);else{var v=Tc((x,b)=>Qf(...b,r(1)),c);i(lt(lt(lt({},e),t),v))}};return()=>(s=o.setTimeout(d),()=>{var f;(f=s)===null||f===void 0||f()})}const MW=(e,t,r,n,a,i)=>{var o=kW(e,t);return r==null?()=>(a(lt(lt({},e),t)),()=>{}):r.isStepper===!0?DW(e,t,r,o,a,i):PW(e,t,r,n,o,a,i)};var eh=1e-4,wR=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],_R=(e,t)=>e.map((r,n)=>r*t**n).reduce((r,n)=>r+n),Uj=(e,t)=>r=>{var n=wR(e,t);return _R(n,r)},zW=(e,t)=>r=>{var n=wR(e,t),a=[...n.map((i,o)=>i*o).slice(1),0];return _R(a,r)},BW=e=>{var t,r=e.split("(");if(r.length!==2||r[0]!=="cubic-bezier")return null;var n=(t=r[1])===null||t===void 0||(t=t.split(")")[0])===null||t===void 0?void 0:t.split(",");if(n==null||n.length!==4)return null;var a=n.map(i=>parseFloat(i));return[a[0],a[1],a[2],a[3]]},IW=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(r.length===1)switch(r[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var a=BW(r[0]);if(a)return a}}return r.length===4?r:[0,0,1,1]},$W=(e,t,r,n)=>{var a=Uj(e,r),i=Uj(t,n),o=zW(e,r),s=u=>u>1?1:u<0?0:u,c=u=>{for(var d=u>1?1:u,f=d,h=0;h<8;++h){var m=a(f)-d,v=o(f);if(Math.abs(m-d)<eh||v<eh)return i(f);f=s(f-m/v)}return i(f)};return c.isStepper=!1,c},qj=function(){return $W(...IW(...arguments))},LW=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:a=17}=t,i=(o,s,c)=>{var u=-(o-s)*r,d=c*n,f=c+(u-d)*a/1e3,h=c*a/1e3+o;return Math.abs(h-s)<eh&&Math.abs(f)<eh?[s,0]:[h,f]};return i.isStepper=!0,i.dt=a,i},UW=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return qj(e);case"spring":return LW();default:if(e.split("(")[0]==="cubic-bezier")return qj(e)}return typeof e=="function"?e:null};function qW(e){var t,r=()=>null,n=!1,a=null,i=o=>{if(!n){if(Array.isArray(o)){if(!o.length)return;var s=o,[c,...u]=s;if(typeof c=="number"){a=e.setTimeout(i.bind(null,u),c);return}i(c),a=e.setTimeout(i.bind(null,u));return}typeof o=="string"&&(t=o,r(t)),typeof o=="object"&&(t=o,r(t)),typeof o=="function"&&o()}};return{stop:()=>{n=!0},start:o=>{n=!1,a&&(a(),a=null),i(o)},subscribe:o=>(r=o,()=>{r=()=>null}),getTimeoutController:()=>e}}class WW{setTimeout(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),a=null,i=o=>{o-n>=r?t(o):typeof requestAnimationFrame=="function"&&(a=requestAnimationFrame(i))};return a=requestAnimationFrame(i),()=>{a!=null&&cancelAnimationFrame(a)}}}function HW(){return qW(new WW)}var FW=p.createContext(HW);function VW(e,t){var r=p.useContext(FW);return p.useMemo(()=>t??r(e),[e,t,r])}var KW=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Rm={isSsr:KW()},GW={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},Wj={t:0},vg={t:1};function Qb(e){var t=Ar(e,GW),{isActive:r,canBegin:n,duration:a,easing:i,begin:o,onAnimationEnd:s,onAnimationStart:c,children:u}=t,d=r==="auto"?!Rm.isSsr:r,f=VW(t.animationId,t.animationManager),[h,m]=p.useState(d?Wj:vg),v=p.useRef(null);return p.useEffect(()=>{d||m(vg)},[d]),p.useEffect(()=>{if(!d||!n)return uu;var x=MW(Wj,vg,UW(i),a,m,f.getTimeoutController()),b=()=>{v.current=x()};return f.start([c,o,b,a,s]),()=>{f.stop(),v.current&&v.current(),s()}},[d,n,a,i,o,c,s,f]),u(h.t)}function ex(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=p.useRef(jc(t)),n=p.useRef(e);return n.current!==e&&(r.current=jc(t),n.current=e),r.current}var YW=["radius"],XW=["radius"],Hj,Fj,Vj,Kj,Gj,Yj,Xj,Zj,Jj,Qj;function eS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function tS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?eS(Object(r),!0).forEach(function(n){ZW(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ZW(e,t,r){return(t=JW(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function JW(e){var t=QW(e,"string");return typeof t=="symbol"?t:t+""}function QW(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function th(){return th=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},th.apply(null,arguments)}function rS(e,t){if(e==null)return{};var r,n,a=eH(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function eH(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function xn(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var nS=(e,t,r,n,a)=>{var i=Za(r),o=Za(n),s=Math.min(Math.abs(i)/2,Math.abs(o)/2),c=o>=0?1:-1,u=i>=0?1:-1,d=o>=0&&i>=0||o<0&&i<0?1:0,f;if(s>0&&a instanceof Array){for(var h=[0,0,0,0],m=0,v=4;m<v;m++)h[m]=a[m]>s?s:a[m];f=Fe(Hj||(Hj=xn(["M",",",""])),e,t+c*h[0]),h[0]>0&&(f+=Fe(Fj||(Fj=xn(["A ",",",",0,0,",",",",",""])),h[0],h[0],d,e+u*h[0],t)),f+=Fe(Vj||(Vj=xn(["L ",",",""])),e+r-u*h[1],t),h[1]>0&&(f+=Fe(Kj||(Kj=xn(["A ",",",",0,0,",`,
        `,",",""])),h[1],h[1],d,e+r,t+c*h[1])),f+=Fe(Gj||(Gj=xn(["L ",",",""])),e+r,t+n-c*h[2]),h[2]>0&&(f+=Fe(Yj||(Yj=xn(["A ",",",",0,0,",`,
        `,",",""])),h[2],h[2],d,e+r-u*h[2],t+n)),f+=Fe(Xj||(Xj=xn(["L ",",",""])),e+u*h[3],t+n),h[3]>0&&(f+=Fe(Zj||(Zj=xn(["A ",",",",0,0,",`,
        `,",",""])),h[3],h[3],d,e,t+n-c*h[3])),f+="Z"}else if(s>0&&a===+a&&a>0){var x=Math.min(s,a);f=Fe(Jj||(Jj=xn(["M ",",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",","," Z"])),e,t+c*x,x,x,d,e+u*x,t,e+r-u*x,t,x,x,d,e+r,t+c*x,e+r,t+n-c*x,x,x,d,e+r-u*x,t+n,e+u*x,t+n,x,x,d,e,t+n-c*x)}else f=Fe(Qj||(Qj=xn(["M ",","," h "," v "," h "," Z"])),e,t,r,n,-r);return f},aS={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},jR=e=>{var t=Ar(e,aS),r=p.useRef(null),[n,a]=p.useState(-1);p.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var N=r.current.getTotalLength();N&&a(N)}catch{}},[]);var{x:i,y:o,width:s,height:c,radius:u,className:d}=t,{animationEasing:f,animationDuration:h,animationBegin:m,isAnimationActive:v,isUpdateAnimationActive:x}=t,b=p.useRef(s),y=p.useRef(c),g=p.useRef(i),w=p.useRef(o),_=p.useMemo(()=>({x:i,y:o,width:s,height:c,radius:u}),[i,o,s,c,u]),j=ex(_,"rectangle-");if(i!==+i||o!==+o||s!==+s||c!==+c||s===0||c===0)return null;var S=Ie("recharts-rectangle",d);if(!x){var C=Fr(t),{radius:E}=C,T=rS(C,YW);return p.createElement("path",th({},T,{x:Za(i),y:Za(o),width:Za(s),height:Za(c),radius:typeof u=="number"?u:void 0,className:S,d:nS(i,o,s,c,u)}))}var A=b.current,R=y.current,k=g.current,z=w.current,$="0px ".concat(n===-1?1:n,"px"),H="".concat(n,"px 0px"),O=bR(["strokeDasharray"],h,typeof f=="string"?f:aS.animationEasing);return p.createElement(Qb,{animationId:j,key:j,canBegin:n>0,duration:h,easing:f,isActive:x,begin:m},N=>{var D=Tt(A,s,N),M=Tt(R,c,N),L=Tt(k,i,N),V=Tt(z,o,N);r.current&&(b.current=D,y.current=M,g.current=L,w.current=V);var K;v?N>0?K={transition:O,strokeDasharray:H}:K={strokeDasharray:$}:K={strokeDasharray:H};var Q=Fr(t),{radius:ee}=Q,re=rS(Q,XW);return p.createElement("path",th({},re,{radius:typeof u=="number"?u:void 0,className:S,d:nS(L,V,D,M,u),ref:r,style:tS(tS({},K),t.style)}))})};function iS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function oS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?iS(Object(r),!0).forEach(function(n){tH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):iS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tH(e,t,r){return(t=rH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rH(e){var t=nH(e,"string");return typeof t=="symbol"?t:t+""}function nH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var rh=Math.PI/180,aH=e=>e*180/Math.PI,Pt=(e,t,r,n)=>({x:e+Math.cos(-rh*n)*r,y:t+Math.sin(-rh*n)*r}),iH=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},oH=(e,t)=>{var{x:r,y:n}=e,{x:a,y:i}=t;return Math.sqrt((r-a)**2+(n-i)**2)},sH=(e,t)=>{var{x:r,y:n}=e,{cx:a,cy:i}=t,o=oH({x:r,y:n},{x:a,y:i});if(o<=0)return{radius:o,angle:0};var s=(r-a)/o,c=Math.acos(s);return n>i&&(c=2*Math.PI-c),{radius:o,angle:aH(c),angleInRadian:c}},lH=e=>{var{startAngle:t,endAngle:r}=e,n=Math.floor(t/360),a=Math.floor(r/360),i=Math.min(n,a);return{startAngle:t-i*360,endAngle:r-i*360}},cH=(e,t)=>{var{startAngle:r,endAngle:n}=t,a=Math.floor(r/360),i=Math.floor(n/360),o=Math.min(a,i);return e+o*360},uH=(e,t)=>{var{chartX:r,chartY:n}=e,{radius:a,angle:i}=sH({x:r,y:n},t),{innerRadius:o,outerRadius:s}=t;if(a<o||a>s||a===0)return null;var{startAngle:c,endAngle:u}=lH(t),d=i,f;if(c<=u){for(;d>u;)d-=360;for(;d<c;)d+=360;f=d>=c&&d<=u}else{for(;d>c;)d-=360;for(;d<u;)d+=360;f=d>=u&&d<=c}return f?oS(oS({},t),{},{radius:a,angle:cH(d,t)}):null};function SR(e){var{cx:t,cy:r,radius:n,startAngle:a,endAngle:i}=e,o=Pt(t,r,n,a),s=Pt(t,r,n,i);return{points:[o,s],cx:t,cy:r,radius:n,startAngle:a,endAngle:i}}var sS,lS,cS,uS,dS,fS,hS;function jy(){return jy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},jy.apply(null,arguments)}function zi(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var dH=(e,t)=>{var r=tr(t-e),n=Math.min(Math.abs(t-e),359.999);return r*n},pd=e=>{var{cx:t,cy:r,radius:n,angle:a,sign:i,isExternal:o,cornerRadius:s,cornerIsExternal:c}=e,u=s*(o?1:-1)+n,d=Math.asin(s/u)/rh,f=c?a:a+i*d,h=Pt(t,r,u,f),m=Pt(t,r,n,f),v=c?a-i*d:a,x=Pt(t,r,u*Math.cos(d*rh),v);return{center:h,circleTangency:m,lineTangency:x,theta:d}},CR=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:a,startAngle:i,endAngle:o}=e,s=dH(i,o),c=i+s,u=Pt(t,r,a,i),d=Pt(t,r,a,c),f=Fe(sS||(sS=zi(["M ",",",`
    A `,",",`,0,
    `,",",`,
    `,",",`
  `])),u.x,u.y,a,a,+(Math.abs(s)>180),+(i>c),d.x,d.y);if(n>0){var h=Pt(t,r,n,i),m=Pt(t,r,n,c);f+=Fe(lS||(lS=zi(["L ",",",`
            A `,",",`,0,
            `,",",`,
            `,","," Z"])),m.x,m.y,n,n,+(Math.abs(s)>180),+(i<=c),h.x,h.y)}else f+=Fe(cS||(cS=zi(["L ",","," Z"])),t,r);return f},fH=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:a,cornerRadius:i,forceCornerRadius:o,cornerIsExternal:s,startAngle:c,endAngle:u}=e,d=tr(u-c),{circleTangency:f,lineTangency:h,theta:m}=pd({cx:t,cy:r,radius:a,angle:c,sign:d,cornerRadius:i,cornerIsExternal:s}),{circleTangency:v,lineTangency:x,theta:b}=pd({cx:t,cy:r,radius:a,angle:u,sign:-d,cornerRadius:i,cornerIsExternal:s}),y=s?Math.abs(c-u):Math.abs(c-u)-m-b;if(y<0)return o?Fe(uS||(uS=zi(["M ",",",`
        a`,",",",0,0,1,",`,0
        a`,",",",0,0,1,",`,0
      `])),h.x,h.y,i,i,i*2,i,i,-i*2):CR({cx:t,cy:r,innerRadius:n,outerRadius:a,startAngle:c,endAngle:u});var g=Fe(dS||(dS=zi(["M ",",",`
    A`,",",",0,0,",",",",",`
    A`,",",",0,",",",",",",",`
    A`,",",",0,0,",",",",",`
  `])),h.x,h.y,i,i,+(d<0),f.x,f.y,a,a,+(y>180),+(d<0),v.x,v.y,i,i,+(d<0),x.x,x.y);if(n>0){var{circleTangency:w,lineTangency:_,theta:j}=pd({cx:t,cy:r,radius:n,angle:c,sign:d,isExternal:!0,cornerRadius:i,cornerIsExternal:s}),{circleTangency:S,lineTangency:C,theta:E}=pd({cx:t,cy:r,radius:n,angle:u,sign:-d,isExternal:!0,cornerRadius:i,cornerIsExternal:s}),T=s?Math.abs(c-u):Math.abs(c-u)-j-E;if(T<0&&i===0)return"".concat(g,"L").concat(t,",").concat(r,"Z");g+=Fe(fS||(fS=zi(["L",",",`
      A`,",",",0,0,",",",",",`
      A`,",",",0,",",",",",",",`
      A`,",",",0,0,",",",",","Z"])),C.x,C.y,i,i,+(d<0),S.x,S.y,n,n,+(T>180),+(d>0),w.x,w.y,i,i,+(d<0),_.x,_.y)}else g+=Fe(hS||(hS=zi(["L",",","Z"])),t,r);return g},hH={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},ER=e=>{var t=Ar(e,hH),{cx:r,cy:n,innerRadius:a,outerRadius:i,cornerRadius:o,forceCornerRadius:s,cornerIsExternal:c,startAngle:u,endAngle:d,className:f}=t;if(i<a||u===d)return null;var h=Ie("recharts-sector",f),m=i-a,v=dn(o,m,0,!0),x;return v>0&&Math.abs(u-d)<360?x=fH({cx:r,cy:n,innerRadius:a,outerRadius:i,cornerRadius:Math.min(v,m/2),forceCornerRadius:s,cornerIsExternal:c,startAngle:u,endAngle:d}):x=CR({cx:r,cy:n,innerRadius:a,outerRadius:i,startAngle:u,endAngle:d}),p.createElement("path",jy({},Fr(t),{className:h,d:x}))};function mH(e,t,r){if(e==="horizontal")return[{x:t.x,y:r.top},{x:t.x,y:r.top+r.height}];if(e==="vertical")return[{x:r.left,y:t.y},{x:r.left+r.width,y:t.y}];if(HT(t)){if(e==="centric"){var{cx:n,cy:a,innerRadius:i,outerRadius:o,angle:s}=t,c=Pt(n,a,i,s),u=Pt(n,a,o,s);return[{x:c.x,y:c.y},{x:u.x,y:u.y}]}return SR(t)}}var OR={},AR={},kR={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ub;function r(n){return t.isSymbol(n)?NaN:Number(n)}e.toNumber=r})(kR);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=kR;function r(n){return n?(n=t.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}e.toFinite=r})(AR);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=qb,r=AR;function n(a,i,o){o&&typeof o!="number"&&t.isIterateeCall(a,i,o)&&(i=o=void 0),a=r.toFinite(a),i===void 0?(i=a,a=0):i=r.toFinite(i),o=o===void 0?a<i?1:-1:r.toFinite(o);const s=Math.max(Math.ceil((i-a)/(o||1)),0),c=new Array(s);for(let u=0;u<s;u++)c[u]=a,a+=o;return c}e.range=n})(OR);var pH=OR.range;const TR=ga(pH);function si(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function gH(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function tx(e){let t,r,n;e.length!==2?(t=si,r=(s,c)=>si(e(s),c),n=(s,c)=>e(s)-c):(t=e===si||e===gH?e:vH,r=e,n=e);function a(s,c,u=0,d=s.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(s[f],c)<0?u=f+1:d=f}while(u<d)}return u}function i(s,c,u=0,d=s.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;r(s[f],c)<=0?u=f+1:d=f}while(u<d)}return u}function o(s,c,u=0,d=s.length){const f=a(s,c,u,d-1);return f>u&&n(s[f-1],c)>-n(s[f],c)?f-1:f}return{left:a,center:o,right:i}}function vH(){return 0}function NR(e){return e===null?NaN:+e}function*yH(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const bH=tx(si),gu=bH.right;tx(NR).center;class mS extends Map{constructor(t,r=_H){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(pS(this,t))}has(t){return super.has(pS(this,t))}set(t,r){return super.set(xH(this,t),r)}delete(t){return super.delete(wH(this,t))}}function pS({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function xH({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function wH({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function _H(e){return e!==null&&typeof e=="object"?e.valueOf():e}function jH(e=si){if(e===si)return RR;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function RR(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const SH=Math.sqrt(50),CH=Math.sqrt(10),EH=Math.sqrt(2);function nh(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),i=n/Math.pow(10,a),o=i>=SH?10:i>=CH?5:i>=EH?2:1;let s,c,u;return a<0?(u=Math.pow(10,-a)/o,s=Math.round(e*u),c=Math.round(t*u),s/u<e&&++s,c/u>t&&--c,u=-u):(u=Math.pow(10,a)*o,s=Math.round(e/u),c=Math.round(t/u),s*u<e&&++s,c*u>t&&--c),c<s&&.5<=r&&r<2?nh(e,t,r*2):[s,c,u]}function Sy(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,i,o]=n?nh(t,e,r):nh(e,t,r);if(!(i>=a))return[];const s=i-a+1,c=new Array(s);if(n)if(o<0)for(let u=0;u<s;++u)c[u]=(i-u)/-o;else for(let u=0;u<s;++u)c[u]=(i-u)*o;else if(o<0)for(let u=0;u<s;++u)c[u]=(a+u)/-o;else for(let u=0;u<s;++u)c[u]=(a+u)*o;return c}function Cy(e,t,r){return t=+t,e=+e,r=+r,nh(e,t,r)[2]}function Ey(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?Cy(t,e,r):Cy(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function gS(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function vS(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function DR(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?RR:jH(a);n>r;){if(n-r>600){const c=n-r+1,u=t-r+1,d=Math.log(c),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(c-f)/c)*(u-c/2<0?-1:1),m=Math.max(r,Math.floor(t-u*f/c+h)),v=Math.min(n,Math.floor(t+(c-u)*f/c+h));DR(e,t,m,v,a)}const i=e[t];let o=r,s=n;for(xl(e,r,t),a(e[n],i)>0&&xl(e,r,n);o<s;){for(xl(e,o,s),++o,--s;a(e[o],i)<0;)++o;for(;a(e[s],i)>0;)--s}a(e[r],i)===0?xl(e,r,s):(++s,xl(e,s,n)),s<=t&&(r=s+1),t<=s&&(n=s-1)}return e}function xl(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function OH(e,t,r){if(e=Float64Array.from(yH(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return vS(e);if(t>=1)return gS(e);var n,a=(n-1)*t,i=Math.floor(a),o=gS(DR(e,i).subarray(0,i+1)),s=vS(e.subarray(i+1));return o+(s-o)*(a-i)}}function AH(e,t,r=NR){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,i=Math.floor(a),o=+r(e[i],i,e),s=+r(e[i+1],i+1,e);return o+(s-o)*(a-i)}}function kH(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(a);++n<a;)i[n]=e+n*r;return i}function Yr(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function xa(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Oy=Symbol("implicit");function rx(){var e=new mS,t=[],r=[],n=Oy;function a(i){let o=e.get(i);if(o===void 0){if(n!==Oy)return n;e.set(i,o=t.push(i)-1)}return r[o%r.length]}return a.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new mS;for(const o of i)e.has(o)||e.set(o,t.push(o)-1);return a},a.range=function(i){return arguments.length?(r=Array.from(i),a):r.slice()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return rx(t,r).unknown(n)},Yr.apply(a,arguments),a}function nx(){var e=rx().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,i,o,s=!1,c=0,u=0,d=.5;delete e.unknown;function f(){var h=t().length,m=a<n,v=m?a:n,x=m?n:a;i=(x-v)/Math.max(1,h-c+u*2),s&&(i=Math.floor(i)),v+=(x-v-i*(h-c))*d,o=i*(1-c),s&&(v=Math.round(v),o=Math.round(o));var b=kH(h).map(function(y){return v+i*y});return r(m?b.reverse():b)}return e.domain=function(h){return arguments.length?(t(h),f()):t()},e.range=function(h){return arguments.length?([n,a]=h,n=+n,a=+a,f()):[n,a]},e.rangeRound=function(h){return[n,a]=h,n=+n,a=+a,s=!0,f()},e.bandwidth=function(){return o},e.step=function(){return i},e.round=function(h){return arguments.length?(s=!!h,f()):s},e.padding=function(h){return arguments.length?(c=Math.min(1,u=+h),f()):c},e.paddingInner=function(h){return arguments.length?(c=Math.min(1,h),f()):c},e.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},e.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},e.copy=function(){return nx(t(),[n,a]).round(s).paddingInner(c).paddingOuter(u).align(d)},Yr.apply(f(),arguments)}function PR(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return PR(t())},e}function TH(){return PR(nx.apply(null,arguments).paddingInner(1))}function ax(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function MR(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function vu(){}var Nc=.7,ah=1/Nc,cs="\\s*([+-]?\\d+)\\s*",Rc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",On="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",NH=/^#([0-9a-f]{3,8})$/,RH=new RegExp(`^rgb\\(${cs},${cs},${cs}\\)$`),DH=new RegExp(`^rgb\\(${On},${On},${On}\\)$`),PH=new RegExp(`^rgba\\(${cs},${cs},${cs},${Rc}\\)$`),MH=new RegExp(`^rgba\\(${On},${On},${On},${Rc}\\)$`),zH=new RegExp(`^hsl\\(${Rc},${On},${On}\\)$`),BH=new RegExp(`^hsla\\(${Rc},${On},${On},${Rc}\\)$`),yS={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};ax(vu,Dc,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:bS,formatHex:bS,formatHex8:IH,formatHsl:$H,formatRgb:xS,toString:xS});function bS(){return this.rgb().formatHex()}function IH(){return this.rgb().formatHex8()}function $H(){return zR(this).formatHsl()}function xS(){return this.rgb().formatRgb()}function Dc(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=NH.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?wS(t):r===3?new rr(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?gd(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?gd(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=RH.exec(e))?new rr(t[1],t[2],t[3],1):(t=DH.exec(e))?new rr(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=PH.exec(e))?gd(t[1],t[2],t[3],t[4]):(t=MH.exec(e))?gd(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=zH.exec(e))?SS(t[1],t[2]/100,t[3]/100,1):(t=BH.exec(e))?SS(t[1],t[2]/100,t[3]/100,t[4]):yS.hasOwnProperty(e)?wS(yS[e]):e==="transparent"?new rr(NaN,NaN,NaN,0):null}function wS(e){return new rr(e>>16&255,e>>8&255,e&255,1)}function gd(e,t,r,n){return n<=0&&(e=t=r=NaN),new rr(e,t,r,n)}function LH(e){return e instanceof vu||(e=Dc(e)),e?(e=e.rgb(),new rr(e.r,e.g,e.b,e.opacity)):new rr}function Ay(e,t,r,n){return arguments.length===1?LH(e):new rr(e,t,r,n??1)}function rr(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}ax(rr,Ay,MR(vu,{brighter(e){return e=e==null?ah:Math.pow(ah,e),new rr(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Nc:Math.pow(Nc,e),new rr(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new rr(Ki(this.r),Ki(this.g),Ki(this.b),ih(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:_S,formatHex:_S,formatHex8:UH,formatRgb:jS,toString:jS}));function _S(){return`#${Bi(this.r)}${Bi(this.g)}${Bi(this.b)}`}function UH(){return`#${Bi(this.r)}${Bi(this.g)}${Bi(this.b)}${Bi((isNaN(this.opacity)?1:this.opacity)*255)}`}function jS(){const e=ih(this.opacity);return`${e===1?"rgb(":"rgba("}${Ki(this.r)}, ${Ki(this.g)}, ${Ki(this.b)}${e===1?")":`, ${e})`}`}function ih(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Ki(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Bi(e){return e=Ki(e),(e<16?"0":"")+e.toString(16)}function SS(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new on(e,t,r,n)}function zR(e){if(e instanceof on)return new on(e.h,e.s,e.l,e.opacity);if(e instanceof vu||(e=Dc(e)),!e)return new on;if(e instanceof on)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),i=Math.max(t,r,n),o=NaN,s=i-a,c=(i+a)/2;return s?(t===i?o=(r-n)/s+(r<n)*6:r===i?o=(n-t)/s+2:o=(t-r)/s+4,s/=c<.5?i+a:2-i-a,o*=60):s=c>0&&c<1?0:o,new on(o,s,c,e.opacity)}function qH(e,t,r,n){return arguments.length===1?zR(e):new on(e,t,r,n??1)}function on(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}ax(on,qH,MR(vu,{brighter(e){return e=e==null?ah:Math.pow(ah,e),new on(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Nc:Math.pow(Nc,e),new on(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new rr(yg(e>=240?e-240:e+120,a,n),yg(e,a,n),yg(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new on(CS(this.h),vd(this.s),vd(this.l),ih(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=ih(this.opacity);return`${e===1?"hsl(":"hsla("}${CS(this.h)}, ${vd(this.s)*100}%, ${vd(this.l)*100}%${e===1?")":`, ${e})`}`}}));function CS(e){return e=(e||0)%360,e<0?e+360:e}function vd(e){return Math.max(0,Math.min(1,e||0))}function yg(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const ix=e=>()=>e;function WH(e,t){return function(r){return e+r*t}}function HH(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function FH(e){return(e=+e)==1?BR:function(t,r){return r-t?HH(t,r,e):ix(isNaN(t)?r:t)}}function BR(e,t){var r=t-e;return r?WH(e,r):ix(isNaN(e)?t:e)}const ES=function e(t){var r=FH(t);function n(a,i){var o=r((a=Ay(a)).r,(i=Ay(i)).r),s=r(a.g,i.g),c=r(a.b,i.b),u=BR(a.opacity,i.opacity);return function(d){return a.r=o(d),a.g=s(d),a.b=c(d),a.opacity=u(d),a+""}}return n.gamma=e,n}(1);function VH(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(i){for(a=0;a<r;++a)n[a]=e[a]*(1-i)+t[a]*i;return n}}function KH(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function GH(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),i=new Array(r),o;for(o=0;o<n;++o)a[o]=Zs(e[o],t[o]);for(;o<r;++o)i[o]=t[o];return function(s){for(o=0;o<n;++o)i[o]=a[o](s);return i}}function YH(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function oh(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function XH(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=Zs(e[a],t[a]):n[a]=t[a];return function(i){for(a in r)n[a]=r[a](i);return n}}var ky=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,bg=new RegExp(ky.source,"g");function ZH(e){return function(){return e}}function JH(e){return function(t){return e(t)+""}}function QH(e,t){var r=ky.lastIndex=bg.lastIndex=0,n,a,i,o=-1,s=[],c=[];for(e=e+"",t=t+"";(n=ky.exec(e))&&(a=bg.exec(t));)(i=a.index)>r&&(i=t.slice(r,i),s[o]?s[o]+=i:s[++o]=i),(n=n[0])===(a=a[0])?s[o]?s[o]+=a:s[++o]=a:(s[++o]=null,c.push({i:o,x:oh(n,a)})),r=bg.lastIndex;return r<t.length&&(i=t.slice(r),s[o]?s[o]+=i:s[++o]=i),s.length<2?c[0]?JH(c[0].x):ZH(t):(t=c.length,function(u){for(var d=0,f;d<t;++d)s[(f=c[d]).i]=f.x(u);return s.join("")})}function Zs(e,t){var r=typeof t,n;return t==null||r==="boolean"?ix(t):(r==="number"?oh:r==="string"?(n=Dc(t))?(t=n,ES):QH:t instanceof Dc?ES:t instanceof Date?YH:KH(t)?VH:Array.isArray(t)?GH:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?XH:oh)(e,t)}function ox(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function eF(e,t){t===void 0&&(t=e,e=Zs);for(var r=0,n=t.length-1,a=t[0],i=new Array(n<0?0:n);r<n;)i[r]=e(a,a=t[++r]);return function(o){var s=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return i[s](o-s)}}function tF(e){return function(){return e}}function sh(e){return+e}var OS=[0,1];function Ft(e){return e}function Ty(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:tF(isNaN(t)?NaN:.5)}function rF(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function nF(e,t,r){var n=e[0],a=e[1],i=t[0],o=t[1];return a<n?(n=Ty(a,n),i=r(o,i)):(n=Ty(n,a),i=r(i,o)),function(s){return i(n(s))}}function aF(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),i=new Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)a[o]=Ty(e[o],e[o+1]),i[o]=r(t[o],t[o+1]);return function(s){var c=gu(e,s,1,n)-1;return i[c](a[c](s))}}function yu(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Dm(){var e=OS,t=OS,r=Zs,n,a,i,o=Ft,s,c,u;function d(){var h=Math.min(e.length,t.length);return o!==Ft&&(o=rF(e[0],e[h-1])),s=h>2?aF:nF,c=u=null,f}function f(h){return h==null||isNaN(h=+h)?i:(c||(c=s(e.map(n),t,r)))(n(o(h)))}return f.invert=function(h){return o(a((u||(u=s(t,e.map(n),oh)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,sh),d()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),d()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),r=ox,d()},f.clamp=function(h){return arguments.length?(o=h?!0:Ft,d()):o!==Ft},f.interpolate=function(h){return arguments.length?(r=h,d()):r},f.unknown=function(h){return arguments.length?(i=h,f):i},function(h,m){return n=h,a=m,d()}}function sx(){return Dm()(Ft,Ft)}function iF(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function lh(e,t){if(!isFinite(e)||e===0)return null;var r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"),n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function Os(e){return e=lh(Math.abs(e)),e?e[1]:NaN}function oF(e,t){return function(r,n){for(var a=r.length,i=[],o=0,s=e[0],c=0;a>0&&s>0&&(c+s+1>n&&(s=Math.max(1,n-c)),i.push(r.substring(a-=s,a+s)),!((c+=s+1)>n));)s=e[o=(o+1)%e.length];return i.reverse().join(t)}}function sF(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var lF=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Pc(e){if(!(t=lF.exec(e)))throw new Error("invalid format: "+e);var t;return new lx({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Pc.prototype=lx.prototype;function lx(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}lx.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function cF(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var ch;function uF(e,t){var r=lh(e,t);if(!r)return ch=void 0,e.toPrecision(t);var n=r[0],a=r[1],i=a-(ch=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,o=n.length;return i===o?n:i>o?n+new Array(i-o+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+lh(e,Math.max(0,t+i-1))[0]}function AS(e,t){var r=lh(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const kS={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:iF,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>AS(e*100,t),r:AS,s:uF,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function TS(e){return e}var NS=Array.prototype.map,RS=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function dF(e){var t=e.grouping===void 0||e.thousands===void 0?TS:oF(NS.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?TS:sF(NS.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",s=e.minus===void 0?"":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(f,h){f=Pc(f);var m=f.fill,v=f.align,x=f.sign,b=f.symbol,y=f.zero,g=f.width,w=f.comma,_=f.precision,j=f.trim,S=f.type;S==="n"?(w=!0,S="g"):kS[S]||(_===void 0&&(_=12),j=!0,S="g"),(y||m==="0"&&v==="=")&&(y=!0,m="0",v="=");var C=(h&&h.prefix!==void 0?h.prefix:"")+(b==="$"?r:b==="#"&&/[boxX]/.test(S)?"0"+S.toLowerCase():""),E=(b==="$"?n:/[%p]/.test(S)?o:"")+(h&&h.suffix!==void 0?h.suffix:""),T=kS[S],A=/[defgprs%]/.test(S);_=_===void 0?6:/[gprs]/.test(S)?Math.max(1,Math.min(21,_)):Math.max(0,Math.min(20,_));function R(k){var z=C,$=E,H,O,N;if(S==="c")$=T(k)+$,k="";else{k=+k;var D=k<0||1/k<0;if(k=isNaN(k)?c:T(Math.abs(k),_),j&&(k=cF(k)),D&&+k==0&&x!=="+"&&(D=!1),z=(D?x==="("?x:s:x==="-"||x==="("?"":x)+z,$=(S==="s"&&!isNaN(k)&&ch!==void 0?RS[8+ch/3]:"")+$+(D&&x==="("?")":""),A){for(H=-1,O=k.length;++H<O;)if(N=k.charCodeAt(H),48>N||N>57){$=(N===46?a+k.slice(H+1):k.slice(H))+$,k=k.slice(0,H);break}}}w&&!y&&(k=t(k,1/0));var M=z.length+k.length+$.length,L=M<g?new Array(g-M+1).join(m):"";switch(w&&y&&(k=t(L+k,L.length?g-$.length:1/0),L=""),v){case"<":k=z+k+$+L;break;case"=":k=z+L+k+$;break;case"^":k=L.slice(0,M=L.length>>1)+z+k+$+L.slice(M);break;default:k=L+z+k+$;break}return i(k)}return R.toString=function(){return f+""},R}function d(f,h){var m=Math.max(-8,Math.min(8,Math.floor(Os(h)/3)))*3,v=Math.pow(10,-m),x=u((f=Pc(f),f.type="f",f),{suffix:RS[8+m/3]});return function(b){return x(v*b)}}return{format:u,formatPrefix:d}}var yd,cx,IR;fF({thousands:",",grouping:[3],currency:["$",""]});function fF(e){return yd=dF(e),cx=yd.format,IR=yd.formatPrefix,yd}function hF(e){return Math.max(0,-Os(Math.abs(e)))}function mF(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Os(t)/3)))*3-Os(Math.abs(e)))}function pF(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Os(t)-Os(e))+1}function $R(e,t,r,n){var a=Ey(e,t,r),i;switch(n=Pc(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(i=mF(a,o))&&(n.precision=i),IR(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=pF(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=hF(a))&&(n.precision=i-(n.type==="%")*2);break}}return cx(n)}function xi(e){var t=e.domain;return e.ticks=function(r){var n=t();return Sy(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return $R(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,i=n.length-1,o=n[a],s=n[i],c,u,d=10;for(s<o&&(u=o,o=s,s=u,u=a,a=i,i=u);d-- >0;){if(u=Cy(o,s,r),u===c)return n[a]=o,n[i]=s,t(n);if(u>0)o=Math.floor(o/u)*u,s=Math.ceil(s/u)*u;else if(u<0)o=Math.ceil(o*u)/u,s=Math.floor(s*u)/u;else break;c=u}return e},e}function LR(){var e=sx();return e.copy=function(){return yu(e,LR())},Yr.apply(e,arguments),xi(e)}function UR(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,sh),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return UR(e).unknown(t)},e=arguments.length?Array.from(e,sh):[0,1],xi(r)}function qR(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],i=e[n],o;return i<a&&(o=r,r=n,n=o,o=a,a=i,i=o),e[r]=t.floor(a),e[n]=t.ceil(i),e}function DS(e){return Math.log(e)}function PS(e){return Math.exp(e)}function gF(e){return-Math.log(-e)}function vF(e){return-Math.exp(-e)}function yF(e){return isFinite(e)?+("1e"+e):e<0?0:e}function bF(e){return e===10?yF:e===Math.E?Math.exp:t=>Math.pow(e,t)}function xF(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function MS(e){return(t,r)=>-e(-t,r)}function ux(e){const t=e(DS,PS),r=t.domain;let n=10,a,i;function o(){return a=xF(n),i=bF(n),r()[0]<0?(a=MS(a),i=MS(i),e(gF,vF)):e(DS,PS),t}return t.base=function(s){return arguments.length?(n=+s,o()):n},t.domain=function(s){return arguments.length?(r(s),o()):r()},t.ticks=s=>{const c=r();let u=c[0],d=c[c.length-1];const f=d<u;f&&([u,d]=[d,u]);let h=a(u),m=a(d),v,x;const b=s==null?10:+s;let y=[];if(!(n%1)&&m-h<b){if(h=Math.floor(h),m=Math.ceil(m),u>0){for(;h<=m;++h)for(v=1;v<n;++v)if(x=h<0?v/i(-h):v*i(h),!(x<u)){if(x>d)break;y.push(x)}}else for(;h<=m;++h)for(v=n-1;v>=1;--v)if(x=h>0?v/i(-h):v*i(h),!(x<u)){if(x>d)break;y.push(x)}y.length*2<b&&(y=Sy(u,d,b))}else y=Sy(h,m,Math.min(m-h,b)).map(i);return f?y.reverse():y},t.tickFormat=(s,c)=>{if(s==null&&(s=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=Pc(c)).precision==null&&(c.trim=!0),c=cx(c)),s===1/0)return c;const u=Math.max(1,n*s/t.ticks().length);return d=>{let f=d/i(Math.round(a(d)));return f*n<n-.5&&(f*=n),f<=u?c(d):""}},t.nice=()=>r(qR(r(),{floor:s=>i(Math.floor(a(s))),ceil:s=>i(Math.ceil(a(s)))})),t}function WR(){const e=ux(Dm()).domain([1,10]);return e.copy=()=>yu(e,WR()).base(e.base()),Yr.apply(e,arguments),e}function zS(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function BS(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function dx(e){var t=1,r=e(zS(t),BS(t));return r.constant=function(n){return arguments.length?e(zS(t=+n),BS(t)):t},xi(r)}function HR(){var e=dx(Dm());return e.copy=function(){return yu(e,HR()).constant(e.constant())},Yr.apply(e,arguments)}function IS(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function wF(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function _F(e){return e<0?-e*e:e*e}function fx(e){var t=e(Ft,Ft),r=1;function n(){return r===1?e(Ft,Ft):r===.5?e(wF,_F):e(IS(r),IS(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},xi(t)}function hx(){var e=fx(Dm());return e.copy=function(){return yu(e,hx()).exponent(e.exponent())},Yr.apply(e,arguments),e}function jF(){return hx.apply(null,arguments).exponent(.5)}function $S(e){return Math.sign(e)*e*e}function SF(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function FR(){var e=sx(),t=[0,1],r=!1,n;function a(i){var o=SF(e(i));return isNaN(o)?n:r?Math.round(o):o}return a.invert=function(i){return e.invert($S(i))},a.domain=function(i){return arguments.length?(e.domain(i),a):e.domain()},a.range=function(i){return arguments.length?(e.range((t=Array.from(i,sh)).map($S)),a):t.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(r=!!i,a):r},a.clamp=function(i){return arguments.length?(e.clamp(i),a):e.clamp()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return FR(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},Yr.apply(a,arguments),xi(a)}function VR(){var e=[],t=[],r=[],n;function a(){var o=0,s=Math.max(1,t.length);for(r=new Array(s-1);++o<s;)r[o-1]=AH(e,o/s);return i}function i(o){return o==null||isNaN(o=+o)?n:t[gu(r,o)]}return i.invertExtent=function(o){var s=t.indexOf(o);return s<0?[NaN,NaN]:[s>0?r[s-1]:e[0],s<r.length?r[s]:e[e.length-1]]},i.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let s of o)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(si),a()},i.range=function(o){return arguments.length?(t=Array.from(o),a()):t.slice()},i.unknown=function(o){return arguments.length?(n=o,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return VR().domain(e).range(t).unknown(n)},Yr.apply(i,arguments)}function KR(){var e=0,t=1,r=1,n=[.5],a=[0,1],i;function o(c){return c!=null&&c<=c?a[gu(n,c,0,r)]:i}function s(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*t-(c-r)*e)/(r+1);return o}return o.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,s()):[e,t]},o.range=function(c){return arguments.length?(r=(a=Array.from(c)).length-1,s()):a.slice()},o.invertExtent=function(c){var u=a.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,n[0]]:u>=r?[n[r-1],t]:[n[u-1],n[u]]},o.unknown=function(c){return arguments.length&&(i=c),o},o.thresholds=function(){return n.slice()},o.copy=function(){return KR().domain([e,t]).range(a).unknown(i)},Yr.apply(xi(o),arguments)}function GR(){var e=[.5],t=[0,1],r,n=1;function a(i){return i!=null&&i<=i?t[gu(e,i,0,n)]:r}return a.domain=function(i){return arguments.length?(e=Array.from(i),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(i){return arguments.length?(t=Array.from(i),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(i){var o=t.indexOf(i);return[e[o-1],e[o]]},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return GR().domain(e).range(t).unknown(r)},Yr.apply(a,arguments)}const xg=new Date,wg=new Date;function ft(e,t,r,n){function a(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(e(i=new Date(+i)),i),a.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),a.round=i=>{const o=a(i),s=a.ceil(i);return i-o<s-i?o:s},a.offset=(i,o)=>(t(i=new Date(+i),o==null?1:Math.floor(o)),i),a.range=(i,o,s)=>{const c=[];if(i=a.ceil(i),s=s==null?1:Math.floor(s),!(i<o)||!(s>0))return c;let u;do c.push(u=new Date(+i)),t(i,s),e(i);while(u<i&&i<o);return c},a.filter=i=>ft(o=>{if(o>=o)for(;e(o),!i(o);)o.setTime(o-1)},(o,s)=>{if(o>=o)if(s<0)for(;++s<=0;)for(;t(o,-1),!i(o););else for(;--s>=0;)for(;t(o,1),!i(o););}),r&&(a.count=(i,o)=>(xg.setTime(+i),wg.setTime(+o),e(xg),e(wg),Math.floor(r(xg,wg))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(n?o=>n(o)%i===0:o=>a.count(0,o)%i===0):a)),a}const uh=ft(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);uh.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?ft(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):uh);uh.range;const Yn=1e3,Ur=Yn*60,Xn=Ur*60,da=Xn*24,mx=da*7,LS=da*30,_g=da*365,Ii=ft(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Yn)},(e,t)=>(t-e)/Yn,e=>e.getUTCSeconds());Ii.range;const px=ft(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Yn)},(e,t)=>{e.setTime(+e+t*Ur)},(e,t)=>(t-e)/Ur,e=>e.getMinutes());px.range;const gx=ft(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Ur)},(e,t)=>(t-e)/Ur,e=>e.getUTCMinutes());gx.range;const vx=ft(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Yn-e.getMinutes()*Ur)},(e,t)=>{e.setTime(+e+t*Xn)},(e,t)=>(t-e)/Xn,e=>e.getHours());vx.range;const yx=ft(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Xn)},(e,t)=>(t-e)/Xn,e=>e.getUTCHours());yx.range;const bu=ft(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Ur)/da,e=>e.getDate()-1);bu.range;const Pm=ft(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/da,e=>e.getUTCDate()-1);Pm.range;const YR=ft(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/da,e=>Math.floor(e/da));YR.range;function go(e){return ft(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Ur)/mx)}const Mm=go(0),dh=go(1),CF=go(2),EF=go(3),As=go(4),OF=go(5),AF=go(6);Mm.range;dh.range;CF.range;EF.range;As.range;OF.range;AF.range;function vo(e){return ft(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/mx)}const zm=vo(0),fh=vo(1),kF=vo(2),TF=vo(3),ks=vo(4),NF=vo(5),RF=vo(6);zm.range;fh.range;kF.range;TF.range;ks.range;NF.range;RF.range;const bx=ft(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());bx.range;const xx=ft(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());xx.range;const fa=ft(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());fa.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ft(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});fa.range;const ha=ft(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());ha.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ft(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});ha.range;function XR(e,t,r,n,a,i){const o=[[Ii,1,Yn],[Ii,5,5*Yn],[Ii,15,15*Yn],[Ii,30,30*Yn],[i,1,Ur],[i,5,5*Ur],[i,15,15*Ur],[i,30,30*Ur],[a,1,Xn],[a,3,3*Xn],[a,6,6*Xn],[a,12,12*Xn],[n,1,da],[n,2,2*da],[r,1,mx],[t,1,LS],[t,3,3*LS],[e,1,_g]];function s(u,d,f){const h=d<u;h&&([u,d]=[d,u]);const m=f&&typeof f.range=="function"?f:c(u,d,f),v=m?m.range(u,+d+1):[];return h?v.reverse():v}function c(u,d,f){const h=Math.abs(d-u)/f,m=tx(([,,b])=>b).right(o,h);if(m===o.length)return e.every(Ey(u/_g,d/_g,f));if(m===0)return uh.every(Math.max(Ey(u,d,f),1));const[v,x]=o[h/o[m-1][2]<o[m][2]/h?m-1:m];return v.every(x)}return[s,c]}const[DF,PF]=XR(ha,xx,zm,YR,yx,gx),[MF,zF]=XR(fa,bx,Mm,bu,vx,px);function jg(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Sg(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function wl(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function BF(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,i=e.days,o=e.shortDays,s=e.months,c=e.shortMonths,u=_l(a),d=jl(a),f=_l(i),h=jl(i),m=_l(o),v=jl(o),x=_l(s),b=jl(s),y=_l(c),g=jl(c),w={a:N,A:D,b:M,B:L,c:null,d:VS,e:VS,f:oV,g:gV,G:yV,H:nV,I:aV,j:iV,L:ZR,m:sV,M:lV,p:V,q:K,Q:YS,s:XS,S:cV,u:uV,U:dV,V:fV,w:hV,W:mV,x:null,X:null,y:pV,Y:vV,Z:bV,"%":GS},_={a:Q,A:ee,b:re,B:Se,c:null,d:KS,e:KS,f:jV,g:DV,G:MV,H:xV,I:wV,j:_V,L:QR,m:SV,M:CV,p:Re,q:U,Q:YS,s:XS,S:EV,u:OV,U:AV,V:kV,w:TV,W:NV,x:null,X:null,y:RV,Y:PV,Z:zV,"%":GS},j={a:A,A:R,b:k,B:z,c:$,d:HS,e:HS,f:QF,g:WS,G:qS,H:FS,I:FS,j:YF,L:JF,m:GF,M:XF,p:T,q:KF,Q:tV,s:rV,S:ZF,u:qF,U:WF,V:HF,w:UF,W:FF,x:H,X:O,y:WS,Y:qS,Z:VF,"%":eV};w.x=S(r,w),w.X=S(n,w),w.c=S(t,w),_.x=S(r,_),_.X=S(n,_),_.c=S(t,_);function S(P,F){return function(G){var q=[],he=-1,ie=0,Ze=P.length,Je,vn,il;for(G instanceof Date||(G=new Date(+G));++he<Ze;)P.charCodeAt(he)===37&&(q.push(P.slice(ie,he)),(vn=US[Je=P.charAt(++he)])!=null?Je=P.charAt(++he):vn=Je==="e"?" ":"0",(il=F[Je])&&(Je=il(G,vn)),q.push(Je),ie=he+1);return q.push(P.slice(ie,he)),q.join("")}}function C(P,F){return function(G){var q=wl(1900,void 0,1),he=E(q,P,G+="",0),ie,Ze;if(he!=G.length)return null;if("Q"in q)return new Date(q.Q);if("s"in q)return new Date(q.s*1e3+("L"in q?q.L:0));if(F&&!("Z"in q)&&(q.Z=0),"p"in q&&(q.H=q.H%12+q.p*12),q.m===void 0&&(q.m="q"in q?q.q:0),"V"in q){if(q.V<1||q.V>53)return null;"w"in q||(q.w=1),"Z"in q?(ie=Sg(wl(q.y,0,1)),Ze=ie.getUTCDay(),ie=Ze>4||Ze===0?fh.ceil(ie):fh(ie),ie=Pm.offset(ie,(q.V-1)*7),q.y=ie.getUTCFullYear(),q.m=ie.getUTCMonth(),q.d=ie.getUTCDate()+(q.w+6)%7):(ie=jg(wl(q.y,0,1)),Ze=ie.getDay(),ie=Ze>4||Ze===0?dh.ceil(ie):dh(ie),ie=bu.offset(ie,(q.V-1)*7),q.y=ie.getFullYear(),q.m=ie.getMonth(),q.d=ie.getDate()+(q.w+6)%7)}else("W"in q||"U"in q)&&("w"in q||(q.w="u"in q?q.u%7:"W"in q?1:0),Ze="Z"in q?Sg(wl(q.y,0,1)).getUTCDay():jg(wl(q.y,0,1)).getDay(),q.m=0,q.d="W"in q?(q.w+6)%7+q.W*7-(Ze+5)%7:q.w+q.U*7-(Ze+6)%7);return"Z"in q?(q.H+=q.Z/100|0,q.M+=q.Z%100,Sg(q)):jg(q)}}function E(P,F,G,q){for(var he=0,ie=F.length,Ze=G.length,Je,vn;he<ie;){if(q>=Ze)return-1;if(Je=F.charCodeAt(he++),Je===37){if(Je=F.charAt(he++),vn=j[Je in US?F.charAt(he++):Je],!vn||(q=vn(P,G,q))<0)return-1}else if(Je!=G.charCodeAt(q++))return-1}return q}function T(P,F,G){var q=u.exec(F.slice(G));return q?(P.p=d.get(q[0].toLowerCase()),G+q[0].length):-1}function A(P,F,G){var q=m.exec(F.slice(G));return q?(P.w=v.get(q[0].toLowerCase()),G+q[0].length):-1}function R(P,F,G){var q=f.exec(F.slice(G));return q?(P.w=h.get(q[0].toLowerCase()),G+q[0].length):-1}function k(P,F,G){var q=y.exec(F.slice(G));return q?(P.m=g.get(q[0].toLowerCase()),G+q[0].length):-1}function z(P,F,G){var q=x.exec(F.slice(G));return q?(P.m=b.get(q[0].toLowerCase()),G+q[0].length):-1}function $(P,F,G){return E(P,t,F,G)}function H(P,F,G){return E(P,r,F,G)}function O(P,F,G){return E(P,n,F,G)}function N(P){return o[P.getDay()]}function D(P){return i[P.getDay()]}function M(P){return c[P.getMonth()]}function L(P){return s[P.getMonth()]}function V(P){return a[+(P.getHours()>=12)]}function K(P){return 1+~~(P.getMonth()/3)}function Q(P){return o[P.getUTCDay()]}function ee(P){return i[P.getUTCDay()]}function re(P){return c[P.getUTCMonth()]}function Se(P){return s[P.getUTCMonth()]}function Re(P){return a[+(P.getUTCHours()>=12)]}function U(P){return 1+~~(P.getUTCMonth()/3)}return{format:function(P){var F=S(P+="",w);return F.toString=function(){return P},F},parse:function(P){var F=C(P+="",!1);return F.toString=function(){return P},F},utcFormat:function(P){var F=S(P+="",_);return F.toString=function(){return P},F},utcParse:function(P){var F=C(P+="",!0);return F.toString=function(){return P},F}}}var US={"-":"",_:" ",0:"0"},Ct=/^\s*\d+/,IF=/^%/,$F=/[\\^$*+?|[\]().{}]/g;function me(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",i=a.length;return n+(i<r?new Array(r-i+1).join(t)+a:a)}function LF(e){return e.replace($F,"\\$&")}function _l(e){return new RegExp("^(?:"+e.map(LF).join("|")+")","i")}function jl(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function UF(e,t,r){var n=Ct.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function qF(e,t,r){var n=Ct.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function WF(e,t,r){var n=Ct.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function HF(e,t,r){var n=Ct.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function FF(e,t,r){var n=Ct.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function qS(e,t,r){var n=Ct.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function WS(e,t,r){var n=Ct.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function VF(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function KF(e,t,r){var n=Ct.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function GF(e,t,r){var n=Ct.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function HS(e,t,r){var n=Ct.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function YF(e,t,r){var n=Ct.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function FS(e,t,r){var n=Ct.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function XF(e,t,r){var n=Ct.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function ZF(e,t,r){var n=Ct.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function JF(e,t,r){var n=Ct.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function QF(e,t,r){var n=Ct.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function eV(e,t,r){var n=IF.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function tV(e,t,r){var n=Ct.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function rV(e,t,r){var n=Ct.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function VS(e,t){return me(e.getDate(),t,2)}function nV(e,t){return me(e.getHours(),t,2)}function aV(e,t){return me(e.getHours()%12||12,t,2)}function iV(e,t){return me(1+bu.count(fa(e),e),t,3)}function ZR(e,t){return me(e.getMilliseconds(),t,3)}function oV(e,t){return ZR(e,t)+"000"}function sV(e,t){return me(e.getMonth()+1,t,2)}function lV(e,t){return me(e.getMinutes(),t,2)}function cV(e,t){return me(e.getSeconds(),t,2)}function uV(e){var t=e.getDay();return t===0?7:t}function dV(e,t){return me(Mm.count(fa(e)-1,e),t,2)}function JR(e){var t=e.getDay();return t>=4||t===0?As(e):As.ceil(e)}function fV(e,t){return e=JR(e),me(As.count(fa(e),e)+(fa(e).getDay()===4),t,2)}function hV(e){return e.getDay()}function mV(e,t){return me(dh.count(fa(e)-1,e),t,2)}function pV(e,t){return me(e.getFullYear()%100,t,2)}function gV(e,t){return e=JR(e),me(e.getFullYear()%100,t,2)}function vV(e,t){return me(e.getFullYear()%1e4,t,4)}function yV(e,t){var r=e.getDay();return e=r>=4||r===0?As(e):As.ceil(e),me(e.getFullYear()%1e4,t,4)}function bV(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+me(t/60|0,"0",2)+me(t%60,"0",2)}function KS(e,t){return me(e.getUTCDate(),t,2)}function xV(e,t){return me(e.getUTCHours(),t,2)}function wV(e,t){return me(e.getUTCHours()%12||12,t,2)}function _V(e,t){return me(1+Pm.count(ha(e),e),t,3)}function QR(e,t){return me(e.getUTCMilliseconds(),t,3)}function jV(e,t){return QR(e,t)+"000"}function SV(e,t){return me(e.getUTCMonth()+1,t,2)}function CV(e,t){return me(e.getUTCMinutes(),t,2)}function EV(e,t){return me(e.getUTCSeconds(),t,2)}function OV(e){var t=e.getUTCDay();return t===0?7:t}function AV(e,t){return me(zm.count(ha(e)-1,e),t,2)}function eD(e){var t=e.getUTCDay();return t>=4||t===0?ks(e):ks.ceil(e)}function kV(e,t){return e=eD(e),me(ks.count(ha(e),e)+(ha(e).getUTCDay()===4),t,2)}function TV(e){return e.getUTCDay()}function NV(e,t){return me(fh.count(ha(e)-1,e),t,2)}function RV(e,t){return me(e.getUTCFullYear()%100,t,2)}function DV(e,t){return e=eD(e),me(e.getUTCFullYear()%100,t,2)}function PV(e,t){return me(e.getUTCFullYear()%1e4,t,4)}function MV(e,t){var r=e.getUTCDay();return e=r>=4||r===0?ks(e):ks.ceil(e),me(e.getUTCFullYear()%1e4,t,4)}function zV(){return"+0000"}function GS(){return"%"}function YS(e){return+e}function XS(e){return Math.floor(+e/1e3)}var To,tD,rD;BV({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function BV(e){return To=BF(e),tD=To.format,To.parse,rD=To.utcFormat,To.utcParse,To}function IV(e){return new Date(e)}function $V(e){return e instanceof Date?+e:+new Date(+e)}function wx(e,t,r,n,a,i,o,s,c,u){var d=sx(),f=d.invert,h=d.domain,m=u(".%L"),v=u(":%S"),x=u("%I:%M"),b=u("%I %p"),y=u("%a %d"),g=u("%b %d"),w=u("%B"),_=u("%Y");function j(S){return(c(S)<S?m:s(S)<S?v:o(S)<S?x:i(S)<S?b:n(S)<S?a(S)<S?y:g:r(S)<S?w:_)(S)}return d.invert=function(S){return new Date(f(S))},d.domain=function(S){return arguments.length?h(Array.from(S,$V)):h().map(IV)},d.ticks=function(S){var C=h();return e(C[0],C[C.length-1],S??10)},d.tickFormat=function(S,C){return C==null?j:u(C)},d.nice=function(S){var C=h();return(!S||typeof S.range!="function")&&(S=t(C[0],C[C.length-1],S??10)),S?h(qR(C,S)):d},d.copy=function(){return yu(d,wx(e,t,r,n,a,i,o,s,c,u))},d}function LV(){return Yr.apply(wx(MF,zF,fa,bx,Mm,bu,vx,px,Ii,tD).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function UV(){return Yr.apply(wx(DF,PF,ha,xx,zm,Pm,yx,gx,Ii,rD).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Bm(){var e=0,t=1,r,n,a,i,o=Ft,s=!1,c;function u(f){return f==null||isNaN(f=+f)?c:o(a===0?.5:(f=(i(f)-r)*a,s?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,r=i(e=+e),n=i(t=+t),a=r===n?0:1/(n-r),u):[e,t]},u.clamp=function(f){return arguments.length?(s=!!f,u):s},u.interpolator=function(f){return arguments.length?(o=f,u):o};function d(f){return function(h){var m,v;return arguments.length?([m,v]=h,o=f(m,v),u):[o(0),o(1)]}}return u.range=d(Zs),u.rangeRound=d(ox),u.unknown=function(f){return arguments.length?(c=f,u):c},function(f){return i=f,r=f(e),n=f(t),a=r===n?0:1/(n-r),u}}function wi(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function nD(){var e=xi(Bm()(Ft));return e.copy=function(){return wi(e,nD())},xa.apply(e,arguments)}function aD(){var e=ux(Bm()).domain([1,10]);return e.copy=function(){return wi(e,aD()).base(e.base())},xa.apply(e,arguments)}function iD(){var e=dx(Bm());return e.copy=function(){return wi(e,iD()).constant(e.constant())},xa.apply(e,arguments)}function _x(){var e=fx(Bm());return e.copy=function(){return wi(e,_x()).exponent(e.exponent())},xa.apply(e,arguments)}function qV(){return _x.apply(null,arguments).exponent(.5)}function oD(){var e=[],t=Ft;function r(n){if(n!=null&&!isNaN(n=+n))return t((gu(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let a of n)a!=null&&!isNaN(a=+a)&&e.push(a);return e.sort(si),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,a)=>t(a/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,i)=>OH(e,i/n))},r.copy=function(){return oD(t).domain(e)},xa.apply(r,arguments)}function Im(){var e=0,t=.5,r=1,n=1,a,i,o,s,c,u=Ft,d,f=!1,h;function m(x){return isNaN(x=+x)?h:(x=.5+((x=+d(x))-i)*(n*x<n*i?s:c),u(f?Math.max(0,Math.min(1,x)):x))}m.domain=function(x){return arguments.length?([e,t,r]=x,a=d(e=+e),i=d(t=+t),o=d(r=+r),s=a===i?0:.5/(i-a),c=i===o?0:.5/(o-i),n=i<a?-1:1,m):[e,t,r]},m.clamp=function(x){return arguments.length?(f=!!x,m):f},m.interpolator=function(x){return arguments.length?(u=x,m):u};function v(x){return function(b){var y,g,w;return arguments.length?([y,g,w]=b,u=eF(x,[y,g,w]),m):[u(0),u(.5),u(1)]}}return m.range=v(Zs),m.rangeRound=v(ox),m.unknown=function(x){return arguments.length?(h=x,m):h},function(x){return d=x,a=x(e),i=x(t),o=x(r),s=a===i?0:.5/(i-a),c=i===o?0:.5/(o-i),n=i<a?-1:1,m}}function sD(){var e=xi(Im()(Ft));return e.copy=function(){return wi(e,sD())},xa.apply(e,arguments)}function lD(){var e=ux(Im()).domain([.1,1,10]);return e.copy=function(){return wi(e,lD()).base(e.base())},xa.apply(e,arguments)}function cD(){var e=dx(Im());return e.copy=function(){return wi(e,cD()).constant(e.constant())},xa.apply(e,arguments)}function jx(){var e=fx(Im());return e.copy=function(){return wi(e,jx()).exponent(e.exponent())},xa.apply(e,arguments)}function WV(){return jx.apply(null,arguments).exponent(.5)}const Rl=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:nx,scaleDiverging:sD,scaleDivergingLog:lD,scaleDivergingPow:jx,scaleDivergingSqrt:WV,scaleDivergingSymlog:cD,scaleIdentity:UR,scaleImplicit:Oy,scaleLinear:LR,scaleLog:WR,scaleOrdinal:rx,scalePoint:TH,scalePow:hx,scaleQuantile:VR,scaleQuantize:KR,scaleRadial:FR,scaleSequential:nD,scaleSequentialLog:aD,scaleSequentialPow:_x,scaleSequentialQuantile:oD,scaleSequentialSqrt:qV,scaleSequentialSymlog:iD,scaleSqrt:jF,scaleSymlog:HR,scaleThreshold:GR,scaleTime:LV,scaleUtc:UV,tickFormat:$R},Symbol.toStringTag,{value:"Module"}));var wa=e=>e.chartData,uD=B([wa],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),dD=(e,t,r,n)=>n?uD(e):wa(e),HV=(e,t,r)=>r?uD(e):wa(e);function mi(e){if(Array.isArray(e)&&e.length===2){var[t,r]=e;if(We(t)&&We(r))return!0}return!1}function ZS(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function fD(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[r,n]=e,a,i;if(We(r))a=r;else if(typeof r=="function")return;if(We(n))i=n;else if(typeof n=="function")return;var o=[a,i];if(mi(o))return o}}function FV(e,t,r){if(!(!r&&t==null)){if(typeof e=="function"&&t!=null)try{var n=e(t,r);if(mi(n))return ZS(n,t,r)}catch{}if(Array.isArray(e)&&e.length===2){var[a,i]=e,o,s;if(a==="auto")t!=null&&(o=Math.min(...t));else if(Z(a))o=a;else if(typeof a=="function")try{t!=null&&(o=a(t==null?void 0:t[0]))}catch{}else if(typeof a=="string"&&yj.test(a)){var c=yj.exec(a);if(c==null||c[1]==null||t==null)o=void 0;else{var u=+c[1];o=t[0]-u}}else o=t==null?void 0:t[0];if(i==="auto")t!=null&&(s=Math.max(...t));else if(Z(i))s=i;else if(typeof i=="function")try{t!=null&&(s=i(t==null?void 0:t[1]))}catch{}else if(typeof i=="string"&&bj.test(i)){var d=bj.exec(i);if(d==null||d[1]==null||t==null)s=void 0;else{var f=+d[1];s=t[1]+f}}else s=t==null?void 0:t[1];var h=[o,s];if(mi(h))return t==null?h:ZS(h,t,r)}}}var Js=1e9,VV={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Cx,Ue=!0,Kr="[DecimalError] ",Gi=Kr+"Invalid argument: ",Sx=Kr+"Exponent out of range: ",Qs=Math.floor,Ri=Math.pow,KV=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,vr,yt=1e7,Pe=7,hD=9007199254740991,hh=Qs(hD/Pe),Y={};Y.absoluteValue=Y.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Y.comparedTo=Y.cmp=function(e){var t,r,n,a,i=this;if(e=new i.constructor(e),i.s!==e.s)return i.s||-e.s;if(i.e!==e.e)return i.e>e.e^i.s<0?1:-1;for(n=i.d.length,a=e.d.length,t=0,r=n<a?n:a;t<r;++t)if(i.d[t]!==e.d[t])return i.d[t]>e.d[t]^i.s<0?1:-1;return n===a?0:n>a^i.s<0?1:-1};Y.decimalPlaces=Y.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*Pe;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};Y.dividedBy=Y.div=function(e){return ea(this,new this.constructor(e))};Y.dividedToIntegerBy=Y.idiv=function(e){var t=this,r=t.constructor;return Ee(ea(t,new r(e),0,1),r.precision)};Y.equals=Y.eq=function(e){return!this.cmp(e)};Y.exponent=function(){return ot(this)};Y.greaterThan=Y.gt=function(e){return this.cmp(e)>0};Y.greaterThanOrEqualTo=Y.gte=function(e){return this.cmp(e)>=0};Y.isInteger=Y.isint=function(){return this.e>this.d.length-2};Y.isNegative=Y.isneg=function(){return this.s<0};Y.isPositive=Y.ispos=function(){return this.s>0};Y.isZero=function(){return this.s===0};Y.lessThan=Y.lt=function(e){return this.cmp(e)<0};Y.lessThanOrEqualTo=Y.lte=function(e){return this.cmp(e)<1};Y.logarithm=Y.log=function(e){var t,r=this,n=r.constructor,a=n.precision,i=a+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(vr))throw Error(Kr+"NaN");if(r.s<1)throw Error(Kr+(r.s?"NaN":"-Infinity"));return r.eq(vr)?new n(0):(Ue=!1,t=ea(Mc(r,i),Mc(e,i),i),Ue=!0,Ee(t,a))};Y.minus=Y.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?gD(t,e):mD(t,(e.s=-e.s,e))};Y.modulo=Y.mod=function(e){var t,r=this,n=r.constructor,a=n.precision;if(e=new n(e),!e.s)throw Error(Kr+"NaN");return r.s?(Ue=!1,t=ea(r,e,0,1).times(e),Ue=!0,r.minus(t)):Ee(new n(r),a)};Y.naturalExponential=Y.exp=function(){return pD(this)};Y.naturalLogarithm=Y.ln=function(){return Mc(this)};Y.negated=Y.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Y.plus=Y.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?mD(t,e):gD(t,(e.s=-e.s,e))};Y.precision=Y.sd=function(e){var t,r,n,a=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Gi+e);if(t=ot(a)+1,n=a.d.length-1,r=n*Pe+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};Y.squareRoot=Y.sqrt=function(){var e,t,r,n,a,i,o,s=this,c=s.constructor;if(s.s<1){if(!s.s)return new c(0);throw Error(Kr+"NaN")}for(e=ot(s),Ue=!1,a=Math.sqrt(+s),a==0||a==1/0?(t=Cn(s.d),(t.length+e)%2==0&&(t+="0"),a=Math.sqrt(t),e=Qs((e+1)/2)-(e<0||e%2),a==1/0?t="5e"+e:(t=a.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new c(t)):n=new c(a.toString()),r=c.precision,a=o=r+3;;)if(i=n,n=i.plus(ea(s,i,o+2)).times(.5),Cn(i.d).slice(0,o)===(t=Cn(n.d)).slice(0,o)){if(t=t.slice(o-3,o+1),a==o&&t=="4999"){if(Ee(i,r+1,0),i.times(i).eq(s)){n=i;break}}else if(t!="9999")break;o+=4}return Ue=!0,Ee(n,r)};Y.times=Y.mul=function(e){var t,r,n,a,i,o,s,c,u,d=this,f=d.constructor,h=d.d,m=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,r=d.e+e.e,c=h.length,u=m.length,c<u&&(i=h,h=m,m=i,o=c,c=u,u=o),i=[],o=c+u,n=o;n--;)i.push(0);for(n=u;--n>=0;){for(t=0,a=c+n;a>n;)s=i[a]+m[n]*h[a-n-1]+t,i[a--]=s%yt|0,t=s/yt|0;i[a]=(i[a]+t)%yt|0}for(;!i[--o];)i.pop();return t?++r:i.shift(),e.d=i,e.e=r,Ue?Ee(e,f.precision):e};Y.toDecimalPlaces=Y.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(Nn(e,0,Js),t===void 0?t=n.rounding:Nn(t,0,8),Ee(r,e+ot(r)+1,t))};Y.toExponential=function(e,t){var r,n=this,a=n.constructor;return e===void 0?r=io(n,!0):(Nn(e,0,Js),t===void 0?t=a.rounding:Nn(t,0,8),n=Ee(new a(n),e+1,t),r=io(n,!0,e+1)),r};Y.toFixed=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?io(a):(Nn(e,0,Js),t===void 0?t=i.rounding:Nn(t,0,8),n=Ee(new i(a),e+ot(a)+1,t),r=io(n.abs(),!1,e+ot(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};Y.toInteger=Y.toint=function(){var e=this,t=e.constructor;return Ee(new t(e),ot(e)+1,t.rounding)};Y.toNumber=function(){return+this};Y.toPower=Y.pow=function(e){var t,r,n,a,i,o,s=this,c=s.constructor,u=12,d=+(e=new c(e));if(!e.s)return new c(vr);if(s=new c(s),!s.s){if(e.s<1)throw Error(Kr+"Infinity");return s}if(s.eq(vr))return s;if(n=c.precision,e.eq(vr))return Ee(s,n);if(t=e.e,r=e.d.length-1,o=t>=r,i=s.s,o){if((r=d<0?-d:d)<=hD){for(a=new c(vr),t=Math.ceil(n/Pe+4),Ue=!1;r%2&&(a=a.times(s),QS(a.d,t)),r=Qs(r/2),r!==0;)s=s.times(s),QS(s.d,t);return Ue=!0,e.s<0?new c(vr).div(a):Ee(a,n)}}else if(i<0)throw Error(Kr+"NaN");return i=i<0&&e.d[Math.max(t,r)]&1?-1:1,s.s=1,Ue=!1,a=e.times(Mc(s,n+u)),Ue=!0,a=pD(a),a.s=i,a};Y.toPrecision=function(e,t){var r,n,a=this,i=a.constructor;return e===void 0?(r=ot(a),n=io(a,r<=i.toExpNeg||r>=i.toExpPos)):(Nn(e,1,Js),t===void 0?t=i.rounding:Nn(t,0,8),a=Ee(new i(a),e,t),r=ot(a),n=io(a,e<=r||r<=i.toExpNeg,e)),n};Y.toSignificantDigits=Y.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(Nn(e,1,Js),t===void 0?t=n.rounding:Nn(t,0,8)),Ee(new n(r),e,t)};Y.toString=Y.valueOf=Y.val=Y.toJSON=Y[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=ot(e),r=e.constructor;return io(e,t<=r.toExpNeg||t>=r.toExpPos)};function mD(e,t){var r,n,a,i,o,s,c,u,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),Ue?Ee(t,f):t;if(c=e.d,u=t.d,o=e.e,a=t.e,c=c.slice(),i=o-a,i){for(i<0?(n=c,i=-i,s=u.length):(n=u,a=o,s=c.length),o=Math.ceil(f/Pe),s=o>s?o+1:s+1,i>s&&(i=s,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(s=c.length,i=u.length,s-i<0&&(i=s,n=u,u=c,c=n),r=0;i;)r=(c[--i]=c[i]+u[i]+r)/yt|0,c[i]%=yt;for(r&&(c.unshift(r),++a),s=c.length;c[--s]==0;)c.pop();return t.d=c,t.e=a,Ue?Ee(t,f):t}function Nn(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Gi+e)}function Cn(e){var t,r,n,a=e.length-1,i="",o=e[0];if(a>0){for(i+=o,t=1;t<a;t++)n=e[t]+"",r=Pe-n.length,r&&(i+=za(r)),i+=n;o=e[t],n=o+"",r=Pe-n.length,r&&(i+=za(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var ea=function(){function e(n,a){var i,o=0,s=n.length;for(n=n.slice();s--;)i=n[s]*a+o,n[s]=i%yt|0,o=i/yt|0;return o&&n.unshift(o),n}function t(n,a,i,o){var s,c;if(i!=o)c=i>o?1:-1;else for(s=c=0;s<i;s++)if(n[s]!=a[s]){c=n[s]>a[s]?1:-1;break}return c}function r(n,a,i){for(var o=0;i--;)n[i]-=o,o=n[i]<a[i]?1:0,n[i]=o*yt+n[i]-a[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,i,o){var s,c,u,d,f,h,m,v,x,b,y,g,w,_,j,S,C,E,T=n.constructor,A=n.s==a.s?1:-1,R=n.d,k=a.d;if(!n.s)return new T(n);if(!a.s)throw Error(Kr+"Division by zero");for(c=n.e-a.e,C=k.length,j=R.length,m=new T(A),v=m.d=[],u=0;k[u]==(R[u]||0);)++u;if(k[u]>(R[u]||0)&&--c,i==null?g=i=T.precision:o?g=i+(ot(n)-ot(a))+1:g=i,g<0)return new T(0);if(g=g/Pe+2|0,u=0,C==1)for(d=0,k=k[0],g++;(u<j||d)&&g--;u++)w=d*yt+(R[u]||0),v[u]=w/k|0,d=w%k|0;else{for(d=yt/(k[0]+1)|0,d>1&&(k=e(k,d),R=e(R,d),C=k.length,j=R.length),_=C,x=R.slice(0,C),b=x.length;b<C;)x[b++]=0;E=k.slice(),E.unshift(0),S=k[0],k[1]>=yt/2&&++S;do d=0,s=t(k,x,C,b),s<0?(y=x[0],C!=b&&(y=y*yt+(x[1]||0)),d=y/S|0,d>1?(d>=yt&&(d=yt-1),f=e(k,d),h=f.length,b=x.length,s=t(f,x,h,b),s==1&&(d--,r(f,C<h?E:k,h))):(d==0&&(s=d=1),f=k.slice()),h=f.length,h<b&&f.unshift(0),r(x,f,b),s==-1&&(b=x.length,s=t(k,x,C,b),s<1&&(d++,r(x,C<b?E:k,b))),b=x.length):s===0&&(d++,x=[0]),v[u++]=d,s&&x[0]?x[b++]=R[_]||0:(x=[R[_]],b=1);while((_++<j||x[0]!==void 0)&&g--)}return v[0]||v.shift(),m.e=c,Ee(m,o?i+ot(m)+1:i)}}();function pD(e,t){var r,n,a,i,o,s,c=0,u=0,d=e.constructor,f=d.precision;if(ot(e)>16)throw Error(Sx+ot(e));if(!e.s)return new d(vr);for(Ue=!1,s=f,o=new d(.03125);e.abs().gte(.1);)e=e.times(o),u+=5;for(n=Math.log(Ri(2,u))/Math.LN10*2+5|0,s+=n,r=a=i=new d(vr),d.precision=s;;){if(a=Ee(a.times(e),s),r=r.times(++c),o=i.plus(ea(a,r,s)),Cn(o.d).slice(0,s)===Cn(i.d).slice(0,s)){for(;u--;)i=Ee(i.times(i),s);return d.precision=f,t==null?(Ue=!0,Ee(i,f)):i}i=o}}function ot(e){for(var t=e.e*Pe,r=e.d[0];r>=10;r/=10)t++;return t}function Cg(e,t,r){if(t>e.LN10.sd())throw Ue=!0,r&&(e.precision=r),Error(Kr+"LN10 precision limit exceeded");return Ee(new e(e.LN10),t)}function za(e){for(var t="";e--;)t+="0";return t}function Mc(e,t){var r,n,a,i,o,s,c,u,d,f=1,h=10,m=e,v=m.d,x=m.constructor,b=x.precision;if(m.s<1)throw Error(Kr+(m.s?"NaN":"-Infinity"));if(m.eq(vr))return new x(0);if(t==null?(Ue=!1,u=b):u=t,m.eq(10))return t==null&&(Ue=!0),Cg(x,u);if(u+=h,x.precision=u,r=Cn(v),n=r.charAt(0),i=ot(m),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)m=m.times(e),r=Cn(m.d),n=r.charAt(0),f++;i=ot(m),n>1?(m=new x("0."+r),i++):m=new x(n+"."+r.slice(1))}else return c=Cg(x,u+2,b).times(i+""),m=Mc(new x(n+"."+r.slice(1)),u-h).plus(c),x.precision=b,t==null?(Ue=!0,Ee(m,b)):m;for(s=o=m=ea(m.minus(vr),m.plus(vr),u),d=Ee(m.times(m),u),a=3;;){if(o=Ee(o.times(d),u),c=s.plus(ea(o,new x(a),u)),Cn(c.d).slice(0,u)===Cn(s.d).slice(0,u))return s=s.times(2),i!==0&&(s=s.plus(Cg(x,u+2,b).times(i+""))),s=ea(s,new x(f),u),x.precision=b,t==null?(Ue=!0,Ee(s,b)):s;s=c,a+=2}}function JS(e,t){var r,n,a;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(a=t.length;t.charCodeAt(a-1)===48;)--a;if(t=t.slice(n,a),t){if(a-=n,r=r-n-1,e.e=Qs(r/Pe),e.d=[],n=(r+1)%Pe,r<0&&(n+=Pe),n<a){for(n&&e.d.push(+t.slice(0,n)),a-=Pe;n<a;)e.d.push(+t.slice(n,n+=Pe));t=t.slice(n),n=Pe-t.length}else n-=a;for(;n--;)t+="0";if(e.d.push(+t),Ue&&(e.e>hh||e.e<-hh))throw Error(Sx+r)}else e.s=0,e.e=0,e.d=[0];return e}function Ee(e,t,r){var n,a,i,o,s,c,u,d,f=e.d;for(o=1,i=f[0];i>=10;i/=10)o++;if(n=t-o,n<0)n+=Pe,a=t,u=f[d=0];else{if(d=Math.ceil((n+1)/Pe),i=f.length,d>=i)return e;for(u=i=f[d],o=1;i>=10;i/=10)o++;n%=Pe,a=n-Pe+o}if(r!==void 0&&(i=Ri(10,o-a-1),s=u/i%10|0,c=t<0||f[d+1]!==void 0||u%i,c=r<4?(s||c)&&(r==0||r==(e.s<0?3:2)):s>5||s==5&&(r==4||c||r==6&&(n>0?a>0?u/Ri(10,o-a):0:f[d-1])%10&1||r==(e.s<0?8:7))),t<1||!f[0])return c?(i=ot(e),f.length=1,t=t-i-1,f[0]=Ri(10,(Pe-t%Pe)%Pe),e.e=Qs(-t/Pe)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(n==0?(f.length=d,i=1,d--):(f.length=d+1,i=Ri(10,Pe-n),f[d]=a>0?(u/Ri(10,o-a)%Ri(10,a)|0)*i:0),c)for(;;)if(d==0){(f[0]+=i)==yt&&(f[0]=1,++e.e);break}else{if(f[d]+=i,f[d]!=yt)break;f[d--]=0,i=1}for(n=f.length;f[--n]===0;)f.pop();if(Ue&&(e.e>hh||e.e<-hh))throw Error(Sx+ot(e));return e}function gD(e,t){var r,n,a,i,o,s,c,u,d,f,h=e.constructor,m=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),Ue?Ee(t,m):t;if(c=e.d,f=t.d,n=t.e,u=e.e,c=c.slice(),o=u-n,o){for(d=o<0,d?(r=c,o=-o,s=f.length):(r=f,n=u,s=c.length),a=Math.max(Math.ceil(m/Pe),s)+2,o>a&&(o=a,r.length=1),r.reverse(),a=o;a--;)r.push(0);r.reverse()}else{for(a=c.length,s=f.length,d=a<s,d&&(s=a),a=0;a<s;a++)if(c[a]!=f[a]){d=c[a]<f[a];break}o=0}for(d&&(r=c,c=f,f=r,t.s=-t.s),s=c.length,a=f.length-s;a>0;--a)c[s++]=0;for(a=f.length;a>o;){if(c[--a]<f[a]){for(i=a;i&&c[--i]===0;)c[i]=yt-1;--c[i],c[a]+=yt}c[a]-=f[a]}for(;c[--s]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(t.d=c,t.e=n,Ue?Ee(t,m):t):new h(0)}function io(e,t,r){var n,a=ot(e),i=Cn(e.d),o=i.length;return t?(r&&(n=r-o)>0?i=i.charAt(0)+"."+i.slice(1)+za(n):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+za(-a-1)+i,r&&(n=r-o)>0&&(i+=za(n))):a>=o?(i+=za(a+1-o),r&&(n=r-a-1)>0&&(i=i+"."+za(n))):((n=a+1)<o&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-o)>0&&(a+1===o&&(i+="."),i+=za(n))),e.s<0?"-"+i:i}function QS(e,t){if(e.length>t)return e.length=t,!0}function vD(e){var t,r,n;function a(i){var o=this;if(!(o instanceof a))return new a(i);if(o.constructor=a,i instanceof a){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(Gi+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return JS(o,i.toString())}else if(typeof i!="string")throw Error(Gi+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,KV.test(i))JS(o,i);else throw Error(Gi+i)}if(a.prototype=Y,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=vD,a.config=a.set=GV,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return a.config(e),a}function GV(e){if(!e||typeof e!="object")throw Error(Kr+"Object expected");var t,r,n,a=["precision",1,Js,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<a.length;t+=3)if((n=e[r=a[t]])!==void 0)if(Qs(n)===n&&n>=a[t+1]&&n<=a[t+2])this[r]=n;else throw Error(Gi+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Gi+r+": "+n);return this}var Cx=vD(VV);vr=new Cx(1);const be=Cx;var YV=e=>e,yD={},bD=e=>e===yD,eC=e=>function t(){return arguments.length===0||arguments.length===1&&bD(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},xD=(e,t)=>e===1?t:eC(function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];var i=n.filter(o=>o!==yD).length;return i>=e?t(...n):xD(e-i,eC(function(){for(var o=arguments.length,s=new Array(o),c=0;c<o;c++)s[c]=arguments[c];var u=n.map(d=>bD(d)?s.shift():d);return t(...u,...s)}))}),XV=e=>xD(e.length,e),Ny=(e,t)=>{for(var r=[],n=e;n<t;++n)r[n-e]=n;return r},ZV=XV((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(r=>t[r]).map(e)),JV=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return YV;var a=r.reverse(),i=a[0],o=a.slice(1);return function(){return o.reduce((s,c)=>c(s),i(...arguments))}};function wD(e){var t;return e===0?t=1:t=Math.floor(new be(e).abs().log(10).toNumber())+1,t}function _D(e,t,r){for(var n=new be(e),a=0,i=[];n.lt(t)&&a<1e5;)i.push(n.toNumber()),n=n.add(r),a++;return i}var jD=e=>{var[t,r]=e,[n,a]=[t,r];return t>r&&([n,a]=[r,t]),[n,a]},SD=(e,t,r)=>{if(e.lte(0))return new be(0);var n=wD(e.toNumber()),a=new be(10).pow(n),i=e.div(a),o=n!==1?.05:.1,s=new be(Math.ceil(i.div(o).toNumber())).add(r).mul(o),c=s.mul(a);return t?new be(c.toNumber()):new be(Math.ceil(c.toNumber()))},QV=(e,t,r)=>{var n=new be(1),a=new be(e);if(!a.isint()&&r){var i=Math.abs(e);i<1?(n=new be(10).pow(wD(e)-1),a=new be(Math.floor(a.div(n).toNumber())).mul(n)):i>1&&(a=new be(Math.floor(e)))}else e===0?a=new be(Math.floor((t-1)/2)):r||(a=new be(Math.floor(e)));var o=Math.floor((t-1)/2),s=JV(ZV(c=>a.add(new be(c-o).mul(n)).toNumber()),Ny);return s(0,t)},CD=function(t,r,n,a){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-t)/(n-1)))return{step:new be(0),tickMin:new be(0),tickMax:new be(0)};var o=SD(new be(r).sub(t).div(n-1),a,i),s;t<=0&&r>=0?s=new be(0):(s=new be(t).add(r).div(2),s=s.sub(new be(s).mod(o)));var c=Math.ceil(s.sub(t).div(o).toNumber()),u=Math.ceil(new be(r).sub(s).div(o).toNumber()),d=c+u+1;return d>n?CD(t,r,n,a,i+1):(d<n&&(u=r>0?u+(n-d):u,c=r>0?c:c+(n-d)),{step:o,tickMin:s.sub(new be(c).mul(o)),tickMax:s.add(new be(u).mul(o))})},eK=function(t){var[r,n]=t,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(a,2),[s,c]=jD([r,n]);if(s===-1/0||c===1/0){var u=c===1/0?[s,...Ny(0,a-1).map(()=>1/0)]:[...Ny(0,a-1).map(()=>-1/0),c];return r>n?u.reverse():u}if(s===c)return QV(s,a,i);var{step:d,tickMin:f,tickMax:h}=CD(s,c,o,i,0),m=_D(f,h.add(new be(.1).mul(d)),d);return r>n?m.reverse():m},tK=function(t,r){var[n,a]=t,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[o,s]=jD([n,a]);if(o===-1/0||s===1/0)return[n,a];if(o===s)return[o];var c=Math.max(r,2),u=SD(new be(s).sub(o).div(c-1),i,0),d=[..._D(new be(o),new be(s),u),s];return i===!1&&(d=d.map(f=>Math.round(f))),n>a?d.reverse():d},ED=e=>e.rootProps.maxBarSize,rK=e=>e.rootProps.barGap,OD=e=>e.rootProps.barCategoryGap,nK=e=>e.rootProps.barSize,$m=e=>e.rootProps.stackOffset,AD=e=>e.rootProps.reverseStackOrder,Ex=e=>e.options.chartName,Ox=e=>e.rootProps.syncId,kD=e=>e.rootProps.syncMethod,Ax=e=>e.options.eventEmitter,Vt={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},Hn={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},fr={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},Lm=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},aK={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Hn.angleAxisId,includeHidden:!1,name:void 0,reversed:Hn.reversed,scale:Hn.scale,tick:Hn.tick,tickCount:void 0,ticks:void 0,type:Hn.type,unit:void 0},iK={allowDataOverflow:fr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:fr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:fr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:fr.scale,tick:fr.tick,tickCount:fr.tickCount,ticks:void 0,type:fr.type,unit:void 0},oK={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:Hn.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Hn.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Hn.scale,tick:Hn.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},sK={allowDataOverflow:fr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:fr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:fr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:fr.scale,tick:fr.tick,tickCount:fr.tickCount,ticks:void 0,type:"category",unit:void 0},kx=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?oK:aK,Tx=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?sK:iK,Um=e=>e.polarOptions,Nx=B([ya,ba,St],iH),TD=B([Um,Nx],(e,t)=>{if(e!=null)return dn(e.innerRadius,t,0)}),ND=B([Um,Nx],(e,t)=>{if(e!=null)return dn(e.outerRadius,t,t*.8)}),lK=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]},RD=B([Um],lK);B([kx,RD],Lm);var DD=B([Nx,TD,ND],(e,t,r)=>{if(!(e==null||t==null||r==null))return[t,r]});B([Tx,DD],Lm);var PD=B([we,Um,TD,ND,ya,ba],(e,t,r,n,a,i)=>{if(!(e!=="centric"&&e!=="radial"||t==null||r==null||n==null)){var{cx:o,cy:s,startAngle:c,endAngle:u}=t;return{cx:dn(o,a,a/2),cy:dn(s,i,i/2),innerRadius:r,outerRadius:n,startAngle:c,endAngle:u,clockWise:!1}}}),ht=(e,t)=>t,qm=(e,t,r)=>r;function Rx(e){return e==null?void 0:e.id}function MD(e,t,r){var{chartData:n=[]}=t,{allowDuplicatedCategory:a,dataKey:i}=r,o=new Map;return e.forEach(s=>{var c,u=(c=s.data)!==null&&c!==void 0?c:n;if(!(u==null||u.length===0)){var d=Rx(s);u.forEach((f,h)=>{var m=i==null||a?h:String(zt(f,i,null)),v=zt(f,s.dataKey,0),x;o.has(m)?x=o.get(m):x={},Object.assign(x,{[d]:v}),o.set(m,x)})}}),Array.from(o.values())}function Wm(e){return"stackId"in e&&e.stackId!=null&&e.dataKey!=null}var Hm=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function Fm(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function cK(e,t){if(e.length===t.length){for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}return!1}var mt=e=>{var t=we(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},el=e=>e.tooltip.settings.axisId;function tC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function mh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tC(Object(r),!0).forEach(function(n){uK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function uK(e,t,r){return(t=dK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function dK(e){var t=fK(e,"string");return typeof t=="symbol"?t:t+""}function fK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ry=[0,"auto"],gt={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},zD=(e,t)=>e.cartesianAxis.xAxis[t],_a=(e,t)=>{var r=zD(e,t);return r??gt},vt={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:Ry,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:hu},BD=(e,t)=>e.cartesianAxis.yAxis[t],ja=(e,t)=>{var r=BD(e,t);return r??vt},hK={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},Dx=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return r??hK},Xt=(e,t,r)=>{switch(t){case"xAxis":return _a(e,r);case"yAxis":return ja(e,r);case"zAxis":return Dx(e,r);case"angleAxis":return kx(e,r);case"radiusAxis":return Tx(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},mK=(e,t,r)=>{switch(t){case"xAxis":return _a(e,r);case"yAxis":return ja(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},xu=(e,t,r)=>{switch(t){case"xAxis":return _a(e,r);case"yAxis":return ja(e,r);case"angleAxis":return kx(e,r);case"radiusAxis":return Tx(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},ID=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function $D(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var Px=e=>e.graphicalItems.cartesianItems,pK=B([ht,qm],$D),LD=(e,t,r)=>e.filter(r).filter(n=>(t==null?void 0:t.includeHidden)===!0?!0:!n.hide),wu=B([Px,Xt,pK],LD,{memoizeOptions:{resultEqualityCheck:Fm}}),UD=B([wu],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(Wm)),qD=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),gK=B([wu],qD),WD=e=>e.map(t=>t.data).filter(Boolean).flat(1),vK=B([wu],WD,{memoizeOptions:{resultEqualityCheck:Fm}}),HD=(e,t)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:a}=t;return e.length>0?e:r.slice(n,a+1)},Mx=B([vK,dD],HD),FD=(e,t,r)=>(t==null?void 0:t.dataKey)!=null?e.map(n=>({value:zt(n,t.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>e.map(a=>({value:zt(a,n)}))):e.map(n=>({value:n})),Vm=B([Mx,Xt,wu],FD);function VD(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function Wd(e){if(kn(e)||e instanceof Date){var t=Number(e);if(We(t))return t}}function rC(e){if(Array.isArray(e)){var t=[Wd(e[0]),Wd(e[1])];return mi(t)?t:void 0}var r=Wd(e);if(r!=null)return[r,r]}function ma(e){return e.map(Wd).filter(WU)}function yK(e,t,r){return!r||typeof t!="number"||un(t)?[]:r.length?ma(r.flatMap(n=>{var a=zt(e,n.dataKey),i,o;if(Array.isArray(a)?[i,o]=a:i=o=a,!(!We(i)||!We(o)))return[t-i,t+o]})):[]}var pt=e=>{var t=mt(e),r=el(e);return xu(e,t,r)},_u=B([pt],e=>e==null?void 0:e.dataKey),bK=B([UD,dD,pt],MD),KD=(e,t,r,n)=>{var a={},i=t.reduce((o,s)=>{if(s.stackId==null)return o;var c=o[s.stackId];return c==null&&(c=[]),c.push(s),o[s.stackId]=c,o},a);return Object.fromEntries(Object.entries(i).map(o=>{var[s,c]=o,u=n?[...c].reverse():c,d=u.map(Rx);return[s,{stackedData:Q7(e,d,r),graphicalItems:u}]}))},Dy=B([bK,UD,$m,AD],KD),GD=(e,t,r,n)=>{var{dataStartIndex:a,dataEndIndex:i}=t;if(n==null&&r!=="zAxis"){var o=aq(e,a,i);if(!(o!=null&&o[0]===0&&o[1]===0))return o}},xK=B([Xt],e=>e.allowDataOverflow),zx=e=>{var t;if(e==null||!("domain"in e))return Ry;if(e.domain!=null)return e.domain;if("ticks"in e&&e.ticks!=null){if(e.type==="number"){var r=ma(e.ticks);return[Math.min(...r),Math.max(...r)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:Ry},YD=B([Xt],zx),XD=B([YD,xK],fD),wK=B([Dy,wa,ht,XD],GD,{memoizeOptions:{resultEqualityCheck:Hm}}),Bx=e=>e.errorBars,_K=(e,t,r)=>e.flatMap(n=>t[n.id]).filter(Boolean).filter(n=>VD(r,n)),ph=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var a=r.filter(Boolean);if(a.length!==0){var i=a.flat(),o=Math.min(...i),s=Math.max(...i);return[o,s]}},ZD=(e,t,r,n,a)=>{var i,o;if(r.length>0&&e.forEach(s=>{r.forEach(c=>{var u,d,f=(u=n[c.id])===null||u===void 0?void 0:u.filter(y=>VD(a,y)),h=zt(s,(d=t.dataKey)!==null&&d!==void 0?d:c.dataKey),m=yK(s,h,f);if(m.length>=2){var v=Math.min(...m),x=Math.max(...m);(i==null||v<i)&&(i=v),(o==null||x>o)&&(o=x)}var b=rC(h);b!=null&&(i=i==null?b[0]:Math.min(i,b[0]),o=o==null?b[1]:Math.max(o,b[1]))})}),(t==null?void 0:t.dataKey)!=null&&e.forEach(s=>{var c=rC(zt(s,t.dataKey));c!=null&&(i=i==null?c[0]:Math.min(i,c[0]),o=o==null?c[1]:Math.max(o,c[1]))}),We(i)&&We(o))return[i,o]},jK=B([Mx,Xt,gK,Bx,ht],ZD,{memoizeOptions:{resultEqualityCheck:Hm}});function SK(e){var{value:t}=e;if(kn(t)||t instanceof Date)return t}var CK=(e,t,r)=>{var n=e.map(SK).filter(a=>a!=null);return r&&(t.dataKey==null||t.allowDuplicatedCategory&&UT(n))?TR(0,e.length):t.allowDuplicatedCategory?n:Array.from(new Set(n))},JD=e=>e.referenceElements.dots,tl=(e,t,r)=>e.filter(n=>n.ifOverflow==="extendDomain").filter(n=>t==="xAxis"?n.xAxisId===r:n.yAxisId===r),EK=B([JD,ht,qm],tl),QD=e=>e.referenceElements.areas,OK=B([QD,ht,qm],tl),eP=e=>e.referenceElements.lines,AK=B([eP,ht,qm],tl),tP=(e,t)=>{if(e!=null){var r=ma(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},kK=B(EK,ht,tP),rP=(e,t)=>{if(e!=null){var r=ma(e.flatMap(n=>[t==="xAxis"?n.x1:n.y1,t==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},TK=B([OK,ht],rP);function NK(e){var t;if(e.x!=null)return ma([e.x]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.x);return r==null||r.length===0?[]:ma(r)}function RK(e){var t;if(e.y!=null)return ma([e.y]);var r=(t=e.segment)===null||t===void 0?void 0:t.map(n=>n.y);return r==null||r.length===0?[]:ma(r)}var nP=(e,t)=>{if(e!=null){var r=e.flatMap(n=>t==="xAxis"?NK(n):RK(n));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},DK=B([AK,ht],nP),PK=B(kK,DK,TK,(e,t,r)=>ph(e,r,t)),aP=(e,t,r,n,a,i,o,s)=>{if(r!=null)return r;var c=o==="vertical"&&s==="xAxis"||o==="horizontal"&&s==="yAxis",u=c?ph(n,i,a):ph(i,a);return FV(t,u,e.allowDataOverflow)},MK=B([Xt,YD,XD,wK,jK,PK,we,ht],aP,{memoizeOptions:{resultEqualityCheck:Hm}}),zK=[0,1],iP=(e,t,r,n,a,i,o)=>{if(!((e==null||r==null||r.length===0)&&o===void 0)){var{dataKey:s,type:c}=e,u=po(t,i);if(u&&s==null){var d;return TR(0,(d=r==null?void 0:r.length)!==null&&d!==void 0?d:0)}return c==="category"?CK(n,e,u):a==="expand"?zK:o}},Ix=B([Xt,we,Mx,Vm,$m,ht,MK],iP),oP=(e,t,r,n,a)=>{if(e!=null){var{scale:i,type:o}=e;if(i==="auto")return t==="radial"&&a==="radiusAxis"?"band":t==="radial"&&a==="angleAxis"?"linear":o==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?"point":o==="category"?"band":"linear";if(typeof i=="string"){var s="scale".concat(cu(i));return s in Rl?s:"point"}}},ju=B([Xt,we,ID,Ex,ht],oP);function BK(e){if(e!=null){if(e in Rl)return Rl[e]();var t="scale".concat(cu(e));if(t in Rl)return Rl[t]()}}function $x(e,t,r,n){if(!(r==null||n==null)){if(typeof e.scale=="function")return e.scale.copy().domain(r).range(n);var a=BK(t);if(a!=null){var i=a.domain(r).range(n);return G7(i),i}}}var sP=(e,t,r)=>{var n=zx(t);if(!(r!=="auto"&&r!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&mi(e))return eK(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&mi(e))return tK(e,t.tickCount,t.allowDecimals)}},Lx=B([Ix,xu,ju],sP),lP=(e,t,r,n)=>{if(n!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&mi(t)&&Array.isArray(r)&&r.length>0){var a=t[0],i=r[0],o=t[1],s=r[r.length-1];return[Math.min(a,i),Math.max(o,s)]}return t},IK=B([Xt,Ix,Lx,ht],lP),$K=B(Vm,Xt,(e,t)=>{if(!(!t||t.type!=="number")){var r=1/0,n=Array.from(ma(e.map(f=>f.value))).sort((f,h)=>f-h),a=n[0],i=n[n.length-1];if(a==null||i==null)return 1/0;var o=i-a;if(o===0)return 1/0;for(var s=0;s<n.length-1;s++){var c=n[s],u=n[s+1];if(!(c==null||u==null)){var d=u-c;r=Math.min(r,d)}}return r/o}}),cP=B($K,we,OD,St,(e,t,r,n,a)=>a,(e,t,r,n,a)=>{if(!We(e))return 0;var i=t==="vertical"?n.height:n.width;if(a==="gap")return e*i/2;if(a==="no-gap"){var o=dn(r,e*i),s=e*i/2;return s-o-(s-o)/i*o}return 0}),LK=(e,t,r)=>{var n=_a(e,t);return n==null||typeof n.padding!="string"?0:cP(e,"xAxis",t,r,n.padding)},UK=(e,t,r)=>{var n=ja(e,t);return n==null||typeof n.padding!="string"?0:cP(e,"yAxis",t,r,n.padding)},qK=B(_a,LK,(e,t)=>{var r,n;if(e==null)return{left:0,right:0};var{padding:a}=e;return typeof a=="string"?{left:t,right:t}:{left:((r=a.left)!==null&&r!==void 0?r:0)+t,right:((n=a.right)!==null&&n!==void 0?n:0)+t}}),WK=B(ja,UK,(e,t)=>{var r,n;if(e==null)return{top:0,bottom:0};var{padding:a}=e;return typeof a=="string"?{top:t,bottom:t}:{top:((r=a.top)!==null&&r!==void 0?r:0)+t,bottom:((n=a.bottom)!==null&&n!==void 0?n:0)+t}}),HK=B([St,qK,Em,Cm,(e,t,r)=>r],(e,t,r,n,a)=>{var{padding:i}=n;return a?[i.left,r.width-i.right]:[e.left+t.left,e.left+e.width-t.right]}),FK=B([St,we,WK,Em,Cm,(e,t,r)=>r],(e,t,r,n,a,i)=>{var{padding:o}=a;return i?[n.height-o.bottom,o.top]:t==="horizontal"?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),Su=(e,t,r,n)=>{var a;switch(t){case"xAxis":return HK(e,r,n);case"yAxis":return FK(e,r,n);case"zAxis":return(a=Dx(e,r))===null||a===void 0?void 0:a.range;case"angleAxis":return RD(e);case"radiusAxis":return DD(e,r);default:return}},uP=B([Xt,Su],Lm),Km=B([Xt,ju,IK,uP],$x);B([wu,Bx,ht],_K);function dP(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var Gm=(e,t)=>t,Ym=(e,t,r)=>r,VK=B(jm,Gm,Ym,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(dP)),KK=B(Sm,Gm,Ym,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(dP)),fP=(e,t)=>({width:e.width,height:t.height}),GK=(e,t)=>{var r=typeof t.width=="number"?t.width:hu;return{width:r,height:e.height}},hP=B(St,_a,fP),YK=(e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}},XK=(e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}},ZK=B(ba,St,VK,Gm,Ym,(e,t,r,n,a)=>{var i={},o;return r.forEach(s=>{var c=fP(t,s);o==null&&(o=YK(t,n,e));var u=n==="top"&&!a||n==="bottom"&&a;i[s.id]=o-Number(u)*c.height,o+=(u?-1:1)*c.height}),i}),JK=B(ya,St,KK,Gm,Ym,(e,t,r,n,a)=>{var i={},o;return r.forEach(s=>{var c=GK(t,s);o==null&&(o=XK(t,n,e));var u=n==="left"&&!a||n==="right"&&a;i[s.id]=o-Number(u)*c.width,o+=(u?-1:1)*c.width}),i}),QK=(e,t)=>{var r=_a(e,t);if(r!=null)return ZK(e,r.orientation,r.mirror)},eG=B([St,_a,QK,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var a=r==null?void 0:r[n];return a==null?{x:e.left,y:0}:{x:e.left,y:a}}}),tG=(e,t)=>{var r=ja(e,t);if(r!=null)return JK(e,r.orientation,r.mirror)},rG=B([St,ja,tG,(e,t)=>t],(e,t,r,n)=>{if(t!=null){var a=r==null?void 0:r[n];return a==null?{x:0,y:e.top}:{x:a,y:e.top}}}),mP=B(St,ja,(e,t)=>{var r=typeof t.width=="number"?t.width:hu;return{width:r,height:e.height}}),nC=(e,t,r)=>{switch(t){case"xAxis":return hP(e,r).width;case"yAxis":return mP(e,r).height;default:return}},pP=(e,t,r,n)=>{if(r!=null){var{allowDuplicatedCategory:a,type:i,dataKey:o}=r,s=po(e,n),c=t.map(u=>u.value);if(o&&s&&i==="category"&&a&&UT(c))return c}},Ux=B([we,Vm,Xt,ht],pP),gP=(e,t,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:a,scale:i}=r,o=po(e,n);if(o&&(a==="number"||i!=="auto"))return t.map(s=>s.value)}},qx=B([we,Vm,xu,ht],gP),aC=B([we,mK,ju,Km,Ux,qx,Su,Lx,ht],(e,t,r,n,a,i,o,s,c)=>{if(t!=null){var u=po(e,c);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:c,categoricalDomain:i,duplicateDomain:a,isCategorical:u,niceTicks:s,range:o,realScaleType:r,scale:n}}}),nG=(e,t,r,n,a,i,o,s,c)=>{if(!(t==null||n==null)){var u=po(e,c),{type:d,ticks:f,tickCount:h}=t,m=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,v=d==="category"&&n.bandwidth?n.bandwidth()/m:0;v=c==="angleAxis"&&i!=null&&i.length>=2?tr(i[0]-i[1])*2*v:v;var x=f||a;if(x){var b=x.map((y,g)=>{var w=o?o.indexOf(y):y;return{index:g,coordinate:n(w)+v,value:y,offset:v}});return b.filter(y=>We(y.coordinate))}return u&&s?s.map((y,g)=>({coordinate:n(y)+v,value:y,index:g,offset:v})).filter(y=>We(y.coordinate)):n.ticks?n.ticks(h).map(y=>({coordinate:n(y)+v,value:y,offset:v})):n.domain().map((y,g)=>({coordinate:n(y)+v,value:o?o[y]:y,index:g,offset:v}))}},vP=B([we,xu,ju,Km,Lx,Su,Ux,qx,ht],nG),aG=(e,t,r,n,a,i,o)=>{if(!(t==null||r==null||n==null||n[0]===n[1])){var s=po(e,o),{tickCount:c}=t,u=0;return u=o==="angleAxis"&&(n==null?void 0:n.length)>=2?tr(n[0]-n[1])*2*u:u,s&&i?i.map((d,f)=>({coordinate:r(d)+u,value:d,index:f,offset:u})):r.ticks?r.ticks(c).map(d=>({coordinate:r(d)+u,value:d,offset:u})):r.domain().map((d,f)=>({coordinate:r(d)+u,value:a?a[d]:d,index:f,offset:u}))}},Ts=B([we,xu,Km,Su,Ux,qx,ht],aG),Ns=B(Xt,Km,(e,t)=>{if(!(e==null||t==null))return mh(mh({},e),{},{scale:t})}),iG=B([Xt,ju,Ix,uP],$x);B((e,t,r)=>Dx(e,r),iG,(e,t)=>{if(!(e==null||t==null))return mh(mh({},e),{},{scale:t})});var oG=B([we,jm,Sm],(e,t,r)=>{switch(e){case"horizontal":return t.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),yP=e=>e.options.defaultTooltipEventType,bP=e=>e.options.validateTooltipEventTypes;function xP(e,t,r){if(e==null)return t;var n=e?"axis":"item";return r==null?t:r.includes(n)?n:t}function Wx(e,t){var r=yP(e),n=bP(e);return xP(t,r,n)}function sG(e){return te(t=>Wx(t,e))}var wP=(e,t)=>{var r,n=Number(t);if(!(un(n)||t==null))return n>=0?e==null||(r=e[n])===null||r===void 0?void 0:r.value:void 0},lG=e=>e.tooltip.settings,Wa={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},cG={itemInteraction:{click:Wa,hover:Wa},axisInteraction:{click:Wa,hover:Wa},keyboardInteraction:Wa,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},_P=or({name:"tooltip",initialState:cG,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:Le()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:r,next:n}=t.payload,a=sn(e).tooltipItemPayloads.indexOf(r);a>-1&&(e.tooltipItemPayloads[a]=n)},prepare:Le()},removeTooltipEntrySettings:{reducer(e,t){var r=sn(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},prepare:Le()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate}}}),{addTooltipEntrySettings:uG,replaceTooltipEntrySettings:dG,removeTooltipEntrySettings:fG,setTooltipSettingsState:hG,setActiveMouseOverItemIndex:jP,mouseLeaveItem:mG,mouseLeaveChart:SP,setActiveClickItemIndex:pG,setMouseOverAxisIndex:CP,setMouseClickAxisIndex:gG,setSyncInteraction:Py,setKeyboardInteraction:My}=_P.actions,vG=_P.reducer;function iC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function bd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?iC(Object(r),!0).forEach(function(n){yG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):iC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yG(e,t,r){return(t=bG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bG(e){var t=xG(e,"string");return typeof t=="symbol"?t:t+""}function xG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wG(e,t,r){return t==="axis"?r==="click"?e.axisInteraction.click:e.axisInteraction.hover:r==="click"?e.itemInteraction.click:e.itemInteraction.hover}function _G(e){return e.index!=null}var EP=(e,t,r,n)=>{if(t==null)return Wa;var a=wG(e,t,r);if(a==null)return Wa;if(a.active)return a;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var i=e.settings.active===!0;if(_G(a)){if(i)return bd(bd({},a),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n,graphicalItemId:void 0};return bd(bd({},Wa),{},{coordinate:a.coordinate})};function jG(e){if(typeof e=="number")return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var r=Number(e);return Number.isFinite(r)?r:void 0}function SG(e,t){var r=jG(e),n=t[0],a=t[1];if(r===void 0)return!1;var i=Math.min(n,a),o=Math.max(n,a);return r>=i&&r<=o}function CG(e,t,r){if(r==null||t==null)return!0;var n=zt(e,t);return n==null||!mi(r)?!0:SG(n,r)}var Hx=(e,t,r,n)=>{var a=e==null?void 0:e.index;if(a==null)return null;var i=Number(a);if(!We(i))return a;var o=0,s=1/0;t.length>0&&(s=t.length-1);var c=Math.max(o,Math.min(i,s)),u=t[c];return u==null||CG(u,r,n)?String(c):null},OP=(e,t,r,n,a,i,o,s)=>{if(!(i==null||s==null)){var c=o[0],u=c==null?void 0:s(c.positions,i);if(u!=null)return u;var d=a==null?void 0:a[Number(i)];if(d)switch(r){case"horizontal":return{x:d.coordinate,y:(n.top+t)/2};default:return{x:(n.left+e)/2,y:d.coordinate}}}},AP=(e,t,r,n)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var a;if(r==="hover"?a=e.itemInteraction.hover.graphicalItemId:a=e.itemInteraction.click.graphicalItemId,a==null&&n!=null){var i=e.tooltipItemPayloads[0];return i!=null?[i]:[]}return e.tooltipItemPayloads.filter(o=>{var s;return((s=o.settings)===null||s===void 0?void 0:s.graphicalItemId)===a})},Cu=e=>e.options.tooltipPayloadSearcher,rl=e=>e.tooltip;function oC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function sC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?oC(Object(r),!0).forEach(function(n){EG(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function EG(e,t,r){return(t=OG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function OG(e){var t=AG(e,"string");return typeof t=="symbol"?t:t+""}function AG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function kG(e,t){return e??t}var kP=(e,t,r,n,a,i,o)=>{if(!(t==null||i==null)){var{chartData:s,computedData:c,dataStartIndex:u,dataEndIndex:d}=r,f=[];return e.reduce((h,m)=>{var v,{dataDefinedOnItem:x,settings:b}=m,y=kG(x,s),g=Array.isArray(y)?YN(y,u,d):y,w=(v=b==null?void 0:b.dataKey)!==null&&v!==void 0?v:n,_=b==null?void 0:b.nameKey,j;if(n&&Array.isArray(g)&&!Array.isArray(g[0])&&o==="axis"?j=qU(g,n,a):j=i(g,t,c,_),Array.isArray(j))j.forEach(C=>{var E=sC(sC({},b),{},{name:C.name,unit:C.unit,color:void 0,fill:void 0});h.push(xj({tooltipEntrySettings:E,dataKey:C.dataKey,payload:C.payload,value:zt(C.payload,C.dataKey),name:C.name}))});else{var S;h.push(xj({tooltipEntrySettings:b,dataKey:w,payload:j,value:zt(j,w),name:(S=zt(j,_))!==null&&S!==void 0?S:b==null?void 0:b.name}))}return h},f)}},Fx=B([pt,we,ID,Ex,mt],oP),TG=B([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),NG=B([mt,el],$D),nl=B([TG,pt,NG],LD,{memoizeOptions:{resultEqualityCheck:Fm}}),RG=B([nl],e=>e.filter(Wm)),DG=B([nl],WD,{memoizeOptions:{resultEqualityCheck:Fm}}),al=B([DG,wa],HD),PG=B([RG,wa,pt],MD),Vx=B([al,pt,nl],FD),TP=B([pt],zx),MG=B([pt],e=>e.allowDataOverflow),NP=B([TP,MG],fD),zG=B([nl],e=>e.filter(Wm)),BG=B([PG,zG,$m,AD],KD),IG=B([BG,wa,mt,NP],GD),$G=B([nl],qD),LG=B([al,pt,$G,Bx,mt],ZD,{memoizeOptions:{resultEqualityCheck:Hm}}),UG=B([JD,mt,el],tl),qG=B([UG,mt],tP),WG=B([QD,mt,el],tl),HG=B([WG,mt],rP),FG=B([eP,mt,el],tl),VG=B([FG,mt],nP),KG=B([qG,VG,HG],ph),GG=B([pt,TP,NP,IG,LG,KG,we,mt],aP),Eu=B([pt,we,al,Vx,$m,mt,GG],iP),YG=B([Eu,pt,Fx],sP),XG=B([pt,Eu,YG,mt],lP),RP=e=>{var t=mt(e),r=el(e),n=!1;return Su(e,t,r,n)},DP=B([pt,RP],Lm),PP=B([pt,Fx,XG,DP],$x),ZG=B([we,Vx,pt,mt],pP),JG=B([we,Vx,pt,mt],gP),QG=(e,t,r,n,a,i,o,s)=>{if(t){var{type:c}=t,u=po(e,s);if(n){var d=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,f=c==="category"&&n.bandwidth?n.bandwidth()/d:0;return f=s==="angleAxis"&&a!=null&&(a==null?void 0:a.length)>=2?tr(a[0]-a[1])*2*f:f,u&&o?o.map((h,m)=>({coordinate:n(h)+f,value:h,index:m,offset:f})):n.domain().map((h,m)=>({coordinate:n(h)+f,value:i?i[h]:h,index:m,offset:f}))}}},Sa=B([we,pt,Fx,PP,RP,ZG,JG,mt],QG),Kx=B([yP,bP,lG],(e,t,r)=>xP(r.shared,e,t)),MP=e=>e.tooltip.settings.trigger,Gx=e=>e.tooltip.settings.defaultIndex,Ou=B([rl,Kx,MP,Gx],EP),Rs=B([Ou,al,_u,Eu],Hx),zP=B([Sa,Rs],wP),BP=B([Ou],e=>{if(e)return e.dataKey});B([Ou],e=>{if(e)return e.graphicalItemId});var IP=B([rl,Kx,MP,Gx],AP),eY=B([ya,ba,we,St,Sa,Gx,IP,Cu],OP),tY=B([Ou,eY],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),rY=B([Ou],e=>{var t;return(t=e==null?void 0:e.active)!==null&&t!==void 0?t:!1}),nY=B([IP,Rs,wa,_u,zP,Cu,Kx],kP);B([nY],e=>{if(e!=null){var t=e.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(t))}});function lC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function cC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?lC(Object(r),!0).forEach(function(n){aY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):lC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function aY(e,t,r){return(t=iY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iY(e){var t=oY(e,"string");return typeof t=="symbol"?t:t+""}function oY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var sY=()=>te(pt),lY=()=>{var e=sY(),t=te(Sa),r=te(PP);return Kf(!e||!r?void 0:cC(cC({},e),{},{scale:r}),t)};function uC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function No(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uC(Object(r),!0).forEach(function(n){cY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function cY(e,t,r){return(t=uY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function uY(e){var t=dY(e,"string");return typeof t=="symbol"?t:t+""}function dY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var fY=(e,t,r,n)=>{var a=t.find(i=>i&&i.index===r);if(a){if(e==="horizontal")return{x:a.coordinate,y:n.chartY};if(e==="vertical")return{x:n.chartX,y:a.coordinate}}return{x:0,y:0}},hY=(e,t,r,n)=>{var a=t.find(u=>u&&u.index===r);if(a){if(e==="centric"){var i=a.coordinate,{radius:o}=n;return No(No(No({},n),Pt(n.cx,n.cy,o,i)),{},{angle:i,radius:o})}var s=a.coordinate,{angle:c}=n;return No(No(No({},n),Pt(n.cx,n.cy,s,c)),{},{angle:c,radius:s})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function mY(e,t){var{chartX:r,chartY:n}=e;return r>=t.left&&r<=t.left+t.width&&n>=t.top&&n<=t.top+t.height}var $P=(e,t,r,n,a)=>{var i,o=(i=t==null?void 0:t.length)!==null&&i!==void 0?i:0;if(o<=1||e==null)return 0;if(n==="angleAxis"&&a!=null&&Math.abs(Math.abs(a[1]-a[0])-360)<=1e-6)for(var s=0;s<o;s++){var c,u,d,f,h,m=s>0?(c=r[s-1])===null||c===void 0?void 0:c.coordinate:(u=r[o-1])===null||u===void 0?void 0:u.coordinate,v=(d=r[s])===null||d===void 0?void 0:d.coordinate,x=s>=o-1?(f=r[0])===null||f===void 0?void 0:f.coordinate:(h=r[s+1])===null||h===void 0?void 0:h.coordinate,b=void 0;if(!(m==null||v==null||x==null))if(tr(v-m)!==tr(x-v)){var y=[];if(tr(x-v)===tr(a[1]-a[0])){b=x;var g=v+a[1]-a[0];y[0]=Math.min(g,(g+m)/2),y[1]=Math.max(g,(g+m)/2)}else{b=m;var w=x+a[1]-a[0];y[0]=Math.min(v,(w+v)/2),y[1]=Math.max(v,(w+v)/2)}var _=[Math.min(v,(b+v)/2),Math.max(v,(b+v)/2)];if(e>_[0]&&e<=_[1]||e>=y[0]&&e<=y[1]){var j;return(j=r[s])===null||j===void 0?void 0:j.index}}else{var S=Math.min(m,x),C=Math.max(m,x);if(e>(S+v)/2&&e<=(C+v)/2){var E;return(E=r[s])===null||E===void 0?void 0:E.index}}}else if(t)for(var T=0;T<o;T++){var A=t[T];if(A!=null){var R=t[T+1],k=t[T-1];if(T===0&&R!=null&&e<=(A.coordinate+R.coordinate)/2||T===o-1&&k!=null&&e>(A.coordinate+k.coordinate)/2||T>0&&T<o-1&&k!=null&&R!=null&&e>(A.coordinate+k.coordinate)/2&&e<=(A.coordinate+R.coordinate)/2)return A.index}}return-1},pY=()=>te(Ex),Yx=(e,t)=>t,LP=(e,t,r)=>r,Xx=(e,t,r,n)=>n,gY=B(Sa,e=>hm(e,t=>t.coordinate)),Zx=B([rl,Yx,LP,Xx],EP),Jx=B([Zx,al,_u,Eu],Hx),vY=(e,t,r)=>{if(t!=null){var n=rl(e);return t==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},UP=B([rl,Yx,LP,Xx],AP),gh=B([ya,ba,we,St,Sa,Xx,UP,Cu],OP),yY=B([Zx,gh],(e,t)=>{var r;return(r=e.coordinate)!==null&&r!==void 0?r:t}),qP=B([Sa,Jx],wP),bY=B([UP,Jx,wa,_u,qP,Cu,Yx],kP),xY=B([Zx,Jx],(e,t)=>({isActive:e.active&&t!=null,activeIndex:t})),wY=(e,t,r,n,a,i,o)=>{if(!(!e||!r||!n||!a)&&mY(e,o)){var s=iq(e,t),c=$P(s,i,a,r,n),u=fY(t,a,c,e);return{activeIndex:String(c),activeCoordinate:u}}},_Y=(e,t,r,n,a,i,o)=>{if(!(!e||!n||!a||!i||!r)){var s=uH(e,r);if(s){var c=oq(s,t),u=$P(c,o,i,n,a),d=hY(t,i,u,s);return{activeIndex:String(u),activeCoordinate:d}}}},jY=(e,t,r,n,a,i,o,s)=>{if(!(!e||!t||!n||!a||!i))return t==="horizontal"||t==="vertical"?wY(e,t,n,a,i,o,s):_Y(e,t,r,n,a,i,o)},SY=B(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,r)=>r,(e,t,r)=>{if(t!=null){var n=e[t];if(n!=null)return r?n.panoramaElement:n.element}}),CY=B(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(n=>parseInt(n,10)).concat(Object.values(Vt)),r=Array.from(new Set(t));return r.sort((n,a)=>n-a)},{memoizeOptions:{resultEqualityCheck:cK}});function dC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function fC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dC(Object(r),!0).forEach(function(n){EY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function EY(e,t,r){return(t=OY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function OY(e){var t=AY(e,"string");return typeof t=="symbol"?t:t+""}function AY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var kY={},TY={zIndexMap:Object.values(Vt).reduce((e,t)=>fC(fC({},e),{},{[t]:{element:void 0,panoramaElement:void 0,consumers:0}}),kY)},NY=new Set(Object.values(Vt));function RY(e){return NY.has(e)}var WP=or({name:"zIndex",initialState:TY,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]?e.zIndexMap[r].consumers+=1:e.zIndexMap[r]={consumers:1,element:void 0,panoramaElement:void 0}},prepare:Le()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(e.zIndexMap[r].consumers-=1,e.zIndexMap[r].consumers<=0&&!RY(r)&&delete e.zIndexMap[r])},prepare:Le()},registerZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:r,element:n,isPanorama:a}=t.payload;e.zIndexMap[r]?a?e.zIndexMap[r].panoramaElement=n:e.zIndexMap[r].element=n:e.zIndexMap[r]={consumers:0,element:a?void 0:n,panoramaElement:a?n:void 0}},prepare:Le()},unregisterZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:r}=t.payload;e.zIndexMap[r]&&(t.payload.isPanorama?e.zIndexMap[r].panoramaElement=void 0:e.zIndexMap[r].element=void 0)},prepare:Le()}}}),{registerZIndexPortal:DY,unregisterZIndexPortal:PY,registerZIndexPortalElement:MY,unregisterZIndexPortalElement:zY}=WP.actions,BY=WP.reducer;function Ca(e){var{zIndex:t,children:r}=e,n=Mq(),a=n&&t!==void 0&&t!==0,i=sr(),o=Xe();p.useLayoutEffect(()=>a?(o(DY({zIndex:t})),()=>{o(PY({zIndex:t}))}):uu,[o,t,a]);var s=te(c=>SY(c,t,i));return a?s?Ha.createPortal(r,s):null:r}function zy(){return zy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},zy.apply(null,arguments)}function hC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function xd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?hC(Object(r),!0).forEach(function(n){IY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):hC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function IY(e,t,r){return(t=$Y(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $Y(e){var t=LY(e,"string");return typeof t=="symbol"?t:t+""}function LY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function UY(e){var{cursor:t,cursorComp:r,cursorProps:n}=e;return p.isValidElement(t)?p.cloneElement(t,n):p.createElement(r,n)}function qY(e){var t,{coordinate:r,payload:n,index:a,offset:i,tooltipAxisBandSize:o,layout:s,cursor:c,tooltipEventType:u,chartName:d}=e,f=r,h=n,m=a;if(!c||!f||d!=="ScatterChart"&&u!=="axis")return null;var v,x,b;if(d==="ScatterChart")v=f,x=jW,b=Vt.cursorLine;else if(d==="BarChart")v=SW(s,f,i,o),x=jR,b=Vt.cursorRectangle;else if(s==="radial"&&HT(f)){var{cx:y,cy:g,radius:w,startAngle:_,endAngle:j}=SR(f);v={cx:y,cy:g,startAngle:_,endAngle:j,innerRadius:w,outerRadius:w},x=ER,b=Vt.cursorLine}else v={points:mH(s,f,i)},x=yR,b=Vt.cursorLine;var S=typeof c=="object"&&"className"in c?c.className:void 0,C=xd(xd(xd(xd({stroke:"#ccc",pointerEvents:"none"},i),v),Eb(c)),{},{payload:h,payloadIndex:m,className:Ie("recharts-tooltip-cursor",S)});return p.createElement(Ca,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:b},p.createElement(UY,{cursor:c,cursorComp:x,cursorProps:C}))}function WY(e){var t=lY(),r=sR(),n=mu(),a=pY();return t==null||r==null||n==null||a==null?null:p.createElement(qY,zy({},e,{offset:r,layout:n,tooltipAxisBandSize:t,chartName:a}))}var HP=p.createContext(null),HY=()=>p.useContext(HP),FP={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function i(c,u,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var m=new a(d,f||c,h),v=r?r+u:u;return c._events[v]?c._events[v].fn?c._events[v]=[c._events[v],m]:c._events[v].push(m):(c._events[v]=m,c._eventsCount++),c}function o(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function s(){this._events=new n,this._eventsCount=0}s.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)t.call(d,f)&&u.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},s.prototype.listeners=function(u){var d=r?r+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,m=f.length,v=new Array(m);h<m;h++)v[h]=f[h].fn;return v},s.prototype.listenerCount=function(u){var d=r?r+u:u,f=this._events[d];return f?f.fn?1:f.length:0},s.prototype.emit=function(u,d,f,h,m,v){var x=r?r+u:u;if(!this._events[x])return!1;var b=this._events[x],y=arguments.length,g,w;if(b.fn){switch(b.once&&this.removeListener(u,b.fn,void 0,!0),y){case 1:return b.fn.call(b.context),!0;case 2:return b.fn.call(b.context,d),!0;case 3:return b.fn.call(b.context,d,f),!0;case 4:return b.fn.call(b.context,d,f,h),!0;case 5:return b.fn.call(b.context,d,f,h,m),!0;case 6:return b.fn.call(b.context,d,f,h,m,v),!0}for(w=1,g=new Array(y-1);w<y;w++)g[w-1]=arguments[w];b.fn.apply(b.context,g)}else{var _=b.length,j;for(w=0;w<_;w++)switch(b[w].once&&this.removeListener(u,b[w].fn,void 0,!0),y){case 1:b[w].fn.call(b[w].context);break;case 2:b[w].fn.call(b[w].context,d);break;case 3:b[w].fn.call(b[w].context,d,f);break;case 4:b[w].fn.call(b[w].context,d,f,h);break;default:if(!g)for(j=1,g=new Array(y-1);j<y;j++)g[j-1]=arguments[j];b[w].fn.apply(b[w].context,g)}}return!0},s.prototype.on=function(u,d,f){return i(this,u,d,f,!1)},s.prototype.once=function(u,d,f){return i(this,u,d,f,!0)},s.prototype.removeListener=function(u,d,f,h){var m=r?r+u:u;if(!this._events[m])return this;if(!d)return o(this,m),this;var v=this._events[m];if(v.fn)v.fn===d&&(!h||v.once)&&(!f||v.context===f)&&o(this,m);else{for(var x=0,b=[],y=v.length;x<y;x++)(v[x].fn!==d||h&&!v[x].once||f&&v[x].context!==f)&&b.push(v[x]);b.length?this._events[m]=b.length===1?b[0]:b:o(this,m)}return this},s.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&o(this,d)):(this._events=new n,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=r,s.EventEmitter=s,e.exports=s})(FP);var FY=FP.exports;const VY=ga(FY);var zc=new VY,By="recharts.syncEvent.tooltip",mC="recharts.syncEvent.brush";function KY(e,t){if(t){var r=Number.parseInt(t,10);if(!un(r))return e==null?void 0:e[r]}}var GY={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},VP=or({name:"options",initialState:GY,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),YY=VP.reducer,{createEventEmitter:XY}=VP.actions;function ZY(e){return e.tooltip.syncInteraction}var JY={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},KP=or({name:"chartData",initialState:JY,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:n}=t.payload;r!=null&&(e.dataStartIndex=r),n!=null&&(e.dataEndIndex=n)}}}),{setChartData:pC,setDataStartEndIndexes:QY,setComputedData:Are}=KP.actions,eX=KP.reducer,tX=["x","y"];function gC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ro(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gC(Object(r),!0).forEach(function(n){rX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rX(e,t,r){return(t=nX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nX(e){var t=aX(e,"string");return typeof t=="symbol"?t:t+""}function aX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function iX(e,t){if(e==null)return{};var r,n,a=oX(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function oX(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function sX(){var e=te(Ox),t=te(Ax),r=Xe(),n=te(kD),a=te(Sa),i=mu(),o=Om(),s=te(c=>c.rootProps.className);p.useEffect(()=>{if(e==null)return uu;var c=(u,d,f)=>{if(t!==f&&e===u){if(n==="index"){var h;if(o&&d!==null&&d!==void 0&&(h=d.payload)!==null&&h!==void 0&&h.coordinate&&d.payload.sourceViewBox){var m=d.payload.coordinate,{x:v,y:x}=m,b=iX(m,tX),{x:y,y:g,width:w,height:_}=d.payload.sourceViewBox,j=Ro(Ro({},b),{},{x:o.x+(w?(v-y)/w:0)*o.width,y:o.y+(_?(x-g)/_:0)*o.height});r(Ro(Ro({},d),{},{payload:Ro(Ro({},d.payload),{},{coordinate:j})}))}else r(d);return}if(a!=null){var S;if(typeof n=="function"){var C={activeTooltipIndex:d.payload.index==null?void 0:Number(d.payload.index),isTooltipActive:d.payload.active,activeIndex:d.payload.index==null?void 0:Number(d.payload.index),activeLabel:d.payload.label,activeDataKey:d.payload.dataKey,activeCoordinate:d.payload.coordinate},E=n(a,C);S=a[E]}else n==="value"&&(S=a.find(O=>String(O.value)===d.payload.label));var{coordinate:T}=d.payload;if(S==null||d.payload.active===!1||T==null||o==null){r(Py({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:A,y:R}=T,k=Math.min(A,o.x+o.width),z=Math.min(R,o.y+o.height),$={x:i==="horizontal"?S.coordinate:k,y:i==="horizontal"?z:S.coordinate},H=Py({active:d.payload.active,coordinate:$,dataKey:d.payload.dataKey,index:String(S.index),label:d.payload.label,sourceViewBox:d.payload.sourceViewBox,graphicalItemId:d.payload.graphicalItemId});r(H)}}};return zc.on(By,c),()=>{zc.off(By,c)}},[s,r,t,e,n,a,i,o])}function lX(){var e=te(Ox),t=te(Ax),r=Xe();p.useEffect(()=>{if(e==null)return uu;var n=(a,i,o)=>{t!==o&&e===a&&r(QY(i))};return zc.on(mC,n),()=>{zc.off(mC,n)}},[r,t,e])}function cX(){var e=Xe();p.useEffect(()=>{e(XY())},[e]),sX(),lX()}function uX(e,t,r,n,a,i){var o=te(m=>vY(m,e,t)),s=te(Ax),c=te(Ox),u=te(kD),d=te(ZY),f=d==null?void 0:d.active,h=Om();p.useEffect(()=>{if(!f&&c!=null&&s!=null){var m=Py({active:i,coordinate:r,dataKey:o,index:a,label:typeof n=="number"?String(n):n,sourceViewBox:h,graphicalItemId:void 0});zc.emit(By,c,m,s)}},[f,r,o,a,n,s,c,u,i,h])}function vC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function yC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vC(Object(r),!0).forEach(function(n){dX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dX(e,t,r){return(t=fX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fX(e){var t=hX(e,"string");return typeof t=="symbol"?t:t+""}function hX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function mX(e){return e.dataKey}function pX(e,t){return p.isValidElement(e)?p.cloneElement(e,t):typeof e=="function"?p.createElement(e,t):p.createElement(rW,t)}var bC=[],gX={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,includeHidden:!1,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function vX(e){var t,r,n=Ar(e,gX),{active:a,allowEscapeViewBox:i,animationDuration:o,animationEasing:s,content:c,filterNull:u,isAnimationActive:d,offset:f,payloadUniqBy:h,position:m,reverseDirection:v,useTranslate3d:x,wrapperStyle:b,cursor:y,shared:g,trigger:w,defaultIndex:_,portal:j,axisId:S}=n,C=Xe(),E=typeof _=="number"?String(_):_;p.useEffect(()=>{C(hG({shared:g,trigger:w,axisId:S,active:a,defaultIndex:E}))},[C,g,w,S,a,E]);var T=Om(),A=vR(),R=sG(g),{activeIndex:k,isActive:z}=(t=te(Re=>xY(Re,R,w,E)))!==null&&t!==void 0?t:{},$=te(Re=>bY(Re,R,w,E)),H=te(Re=>qP(Re,R,w,E)),O=te(Re=>yY(Re,R,w,E)),N=$,D=HY(),M=(r=a??z)!==null&&r!==void 0?r:!1,[L,V]=W9([N,M]),K=R==="axis"?H:void 0;uX(R,w,O,K,k,M);var Q=j??D;if(Q==null||T==null||R==null)return null;var ee=N??bC;M||(ee=bC),u&&ee.length&&(ee=s9(ee.filter(Re=>Re.value!=null&&(Re.hide!==!0||n.includeHidden)),h,mX));var re=ee.length>0,Se=p.createElement(cW,{allowEscapeViewBox:i,animationDuration:o,animationEasing:s,isAnimationActive:d,active:M,coordinate:O,hasPayload:re,offset:f,position:m,reverseDirection:v,useTranslate3d:x,viewBox:T,wrapperStyle:b,lastBoundingBox:L,innerRef:V,hasPortalFromProps:!!j},pX(c,yC(yC({},n),{},{payload:ee,label:K,active:M,activeIndex:k,coordinate:O,accessibilityLayer:A})));return p.createElement(p.Fragment,null,Ha.createPortal(Se,Q),M&&p.createElement(WY,{cursor:y,tooltipEventType:R,coordinate:O,payload:ee,index:k}))}var Qx=e=>null;Qx.displayName="Cell";function yX(e,t,r){return(t=bX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function bX(e){var t=xX(e,"string");return typeof t=="symbol"?t:t+""}function xX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class wX{constructor(t){yX(this,"cache",new Map),this.maxSize=t}get(t){var r=this.cache.get(t);return r!==void 0&&(this.cache.delete(t),this.cache.set(t,r)),r}set(t,r){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;n!=null&&this.cache.delete(n)}this.cache.set(t,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function xC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function _X(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xC(Object(r),!0).forEach(function(n){jX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function jX(e,t,r){return(t=SX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function SX(e){var t=CX(e,"string");return typeof t=="symbol"?t:t+""}function CX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var EX={cacheSize:2e3,enableCache:!0},GP=_X({},EX),wC=new wX(GP.cacheSize),OX={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},_C="recharts_measurement_span";function AX(e,t){var r=t.fontSize||"",n=t.fontFamily||"",a=t.fontWeight||"",i=t.fontStyle||"",o=t.letterSpacing||"",s=t.textTransform||"";return"".concat(e,"|").concat(r,"|").concat(n,"|").concat(a,"|").concat(i,"|").concat(o,"|").concat(s)}var jC=(e,t)=>{try{var r=document.getElementById(_C);r||(r=document.createElement("span"),r.setAttribute("id",_C),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,OX,t),r.textContent="".concat(e);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch{return{width:0,height:0}}},Ql=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Rm.isSsr)return{width:0,height:0};if(!GP.enableCache)return jC(t,r);var n=AX(t,r),a=wC.get(n);if(a)return a;var i=jC(t,r);return wC.set(n,i),i},YP;function kX(e,t,r){return(t=TX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function TX(e){var t=NX(e,"string");return typeof t=="symbol"?t:t+""}function NX(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var SC=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,CC=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,RX=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,DX=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,PX={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},MX=["cm","mm","pt","pc","in","Q","px"];function zX(e){return MX.includes(e)}var Jo="NaN";function BX(e,t){return e*PX[t]}class kt{static parse(t){var r,[,n,a]=(r=DX.exec(t))!==null&&r!==void 0?r:[];return n==null?kt.NaN:new kt(parseFloat(n),a??"")}constructor(t,r){this.num=t,this.unit=r,this.num=t,this.unit=r,un(t)&&(this.unit=""),r!==""&&!RX.test(r)&&(this.num=NaN,this.unit=""),zX(r)&&(this.num=BX(t,r),this.unit="px")}add(t){return this.unit!==t.unit?new kt(NaN,""):new kt(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new kt(NaN,""):new kt(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new kt(NaN,""):new kt(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new kt(NaN,""):new kt(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return un(this.num)}}YP=kt;kX(kt,"NaN",new YP(NaN,""));function XP(e){if(e==null||e.includes(Jo))return Jo;for(var t=e;t.includes("*")||t.includes("/");){var r,[,n,a,i]=(r=SC.exec(t))!==null&&r!==void 0?r:[],o=kt.parse(n??""),s=kt.parse(i??""),c=a==="*"?o.multiply(s):o.divide(s);if(c.isNaN())return Jo;t=t.replace(SC,c.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var u,[,d,f,h]=(u=CC.exec(t))!==null&&u!==void 0?u:[],m=kt.parse(d??""),v=kt.parse(h??""),x=f==="+"?m.add(v):m.subtract(v);if(x.isNaN())return Jo;t=t.replace(CC,x.toString())}return t}var EC=/\(([^()]*)\)/;function IX(e){for(var t=e,r;(r=EC.exec(t))!=null;){var[,n]=r;t=t.replace(EC,XP(n))}return t}function $X(e){var t=e.replace(/\s+/g,"");return t=IX(t),t=XP(t),t}function LX(e){try{return $X(e)}catch{return Jo}}function Eg(e){var t=LX(e.slice(5,-1));return t===Jo?"":t}var UX=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],qX=["dx","dy","angle","className","breakAll"];function Iy(){return Iy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Iy.apply(null,arguments)}function OC(e,t){if(e==null)return{};var r,n,a=WX(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function WX(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var ZP=/[ \f\n\r\t\v\u2028\u2029]+/,JP=e=>{var{children:t,breakAll:r,style:n}=e;try{var a=[];jt(t)||(r?a=t.toString().split(""):a=t.toString().split(ZP));var i=a.map(s=>({word:s,width:Ql(s,n).width})),o=r?0:Ql("",n).width;return{wordsWithComputedWidth:i,spaceWidth:o}}catch{return null}};function HX(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var QP=(e,t,r,n)=>e.reduce((a,i)=>{var{word:o,width:s}=i,c=a[a.length-1];if(c&&s!=null&&(t==null||n||c.width+s+r<Number(t)))c.words.push(o),c.width+=s+r;else{var u={words:[o],width:s};a.push(u)}return a},[]),eM=e=>e.reduce((t,r)=>t.width>r.width?t:r),FX="",AC=(e,t,r,n,a,i,o,s)=>{var c=e.slice(0,t),u=JP({breakAll:r,style:n,children:c+FX});if(!u)return[!1,[]];var d=QP(u.wordsWithComputedWidth,i,o,s),f=d.length>a||eM(d).width>Number(i);return[f,d]},VX=(e,t,r,n,a)=>{var{maxLines:i,children:o,style:s,breakAll:c}=e,u=Z(i),d=String(o),f=QP(t,n,r,a);if(!u||a)return f;var h=f.length>i||eM(f).width>Number(n);if(!h)return f;for(var m=0,v=d.length-1,x=0,b;m<=v&&x<=d.length-1;){var y=Math.floor((m+v)/2),g=y-1,[w,_]=AC(d,g,c,s,i,n,r,a),[j]=AC(d,y,c,s,i,n,r,a);if(!w&&!j&&(m=y+1),w&&j&&(v=y-1),!w&&j){b=_;break}x++}return b||f},kC=e=>{var t=jt(e)?[]:e.toString().split(ZP);return[{words:t,width:void 0}]},KX=e=>{var{width:t,scaleToFit:r,children:n,style:a,breakAll:i,maxLines:o}=e;if((t||r)&&!Rm.isSsr){var s,c,u=JP({breakAll:i,children:n,style:a});if(u){var{wordsWithComputedWidth:d,spaceWidth:f}=u;s=d,c=f}else return kC(n);return VX({breakAll:i,children:n,maxLines:o,style:a},s,c,t,!!r)}return kC(n)},tM="#808080",GX={angle:0,breakAll:!1,capHeight:"0.71em",fill:tM,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},e1=p.forwardRef((e,t)=>{var r=Ar(e,GX),{x:n,y:a,lineHeight:i,capHeight:o,fill:s,scaleToFit:c,textAnchor:u,verticalAnchor:d}=r,f=OC(r,UX),h=p.useMemo(()=>KX({breakAll:f.breakAll,children:f.children,maxLines:f.maxLines,scaleToFit:c,style:f.style,width:f.width}),[f.breakAll,f.children,f.maxLines,c,f.style,f.width]),{dx:m,dy:v,angle:x,className:b,breakAll:y}=f,g=OC(f,qX);if(!kn(n)||!kn(a)||h.length===0)return null;var w=Number(n)+(Z(m)?m:0),_=Number(a)+(Z(v)?v:0);if(!We(w)||!We(_))return null;var j;switch(d){case"start":j=Eg("calc(".concat(o,")"));break;case"middle":j=Eg("calc(".concat((h.length-1)/2," * -").concat(i," + (").concat(o," / 2))"));break;default:j=Eg("calc(".concat(h.length-1," * -").concat(i,")"));break}var S=[];if(c){var C=h[0].width,{width:E}=f;S.push("scale(".concat(Z(E)&&Z(C)?E/C:1,")"))}return x&&S.push("rotate(".concat(x,", ").concat(w,", ").concat(_,")")),S.length&&(g.transform=S.join(" ")),p.createElement("text",Iy({},Fr(g),{ref:t,x:w,y:_,className:Ie("recharts-text",b),textAnchor:u,fill:s.includes("url")?tM:s}),h.map((T,A)=>{var R=T.words.join(y?"":" ");return p.createElement("tspan",{x:w,dy:A===0?j:i,key:"".concat(R,"-").concat(A)},R)}))});e1.displayName="Text";var YX=["labelRef"],XX=["content"];function TC(e,t){if(e==null)return{};var r,n,a=ZX(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function ZX(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function NC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ke(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?NC(Object(r),!0).forEach(function(n){JX(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):NC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function JX(e,t,r){return(t=QX(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function QX(e){var t=eZ(e,"string");return typeof t=="symbol"?t:t+""}function eZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Fn(){return Fn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Fn.apply(null,arguments)}var rM=p.createContext(null),tZ=e=>{var{x:t,y:r,upperWidth:n,lowerWidth:a,width:i,height:o,children:s}=e,c=p.useMemo(()=>({x:t,y:r,upperWidth:n,lowerWidth:a,width:i,height:o}),[t,r,n,a,i,o]);return p.createElement(rM.Provider,{value:c},s)},nM=()=>{var e=p.useContext(rM),t=Om();return e||oR(t)},rZ=p.createContext(null),nZ=()=>{var e=p.useContext(rZ),t=te(PD);return e||t},aZ=e=>{var{value:t,formatter:r}=e,n=jt(e.children)?t:e.children;return typeof r=="function"?r(n):n},t1=e=>e!=null&&typeof e=="function",iZ=(e,t)=>{var r=tr(t-e),n=Math.min(Math.abs(t-e),360);return r*n},oZ=(e,t,r,n,a)=>{var{offset:i,className:o}=e,{cx:s,cy:c,innerRadius:u,outerRadius:d,startAngle:f,endAngle:h,clockWise:m}=a,v=(u+d)/2,x=iZ(f,h),b=x>=0?1:-1,y,g;switch(t){case"insideStart":y=f+b*i,g=m;break;case"insideEnd":y=h-b*i,g=!m;break;case"end":y=h+b*i,g=m;break;default:throw new Error("Unsupported position ".concat(t))}g=x<=0?g:!g;var w=Pt(s,c,v,y),_=Pt(s,c,v,y+(g?1:-1)*359),j="M".concat(w.x,",").concat(w.y,`
    A`).concat(v,",").concat(v,",0,1,").concat(g?0:1,`,
    `).concat(_.x,",").concat(_.y),S=jt(e.id)?jc("recharts-radial-line-"):e.id;return p.createElement("text",Fn({},n,{dominantBaseline:"central",className:Ie("recharts-radial-bar-label",o)}),p.createElement("defs",null,p.createElement("path",{id:S,d:j})),p.createElement("textPath",{xlinkHref:"#".concat(S)},r))},sZ=(e,t,r)=>{var{cx:n,cy:a,innerRadius:i,outerRadius:o,startAngle:s,endAngle:c}=e,u=(s+c)/2;if(r==="outside"){var{x:d,y:f}=Pt(n,a,o+t,u);return{x:d,y:f,textAnchor:d>=n?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:n,y:a,textAnchor:"middle",verticalAnchor:"end"};var h=(i+o)/2,{x:m,y:v}=Pt(n,a,h,u);return{x:m,y:v,textAnchor:"middle",verticalAnchor:"middle"}},$y=e=>"cx"in e&&Z(e.cx),lZ=(e,t)=>{var{parentViewBox:r,offset:n,position:a}=e,i;r!=null&&!$y(r)&&(i=r);var{x:o,y:s,upperWidth:c,lowerWidth:u,height:d}=t,f=o,h=o+(c-u)/2,m=(f+h)/2,v=(c+u)/2,x=f+c/2,b=d>=0?1:-1,y=b*n,g=b>0?"end":"start",w=b>0?"start":"end",_=c>=0?1:-1,j=_*n,S=_>0?"end":"start",C=_>0?"start":"end";if(a==="top"){var E={x:f+c/2,y:s-y,textAnchor:"middle",verticalAnchor:g};return Ke(Ke({},E),i?{height:Math.max(s-i.y,0),width:c}:{})}if(a==="bottom"){var T={x:h+u/2,y:s+d+y,textAnchor:"middle",verticalAnchor:w};return Ke(Ke({},T),i?{height:Math.max(i.y+i.height-(s+d),0),width:u}:{})}if(a==="left"){var A={x:m-j,y:s+d/2,textAnchor:S,verticalAnchor:"middle"};return Ke(Ke({},A),i?{width:Math.max(A.x-i.x,0),height:d}:{})}if(a==="right"){var R={x:m+v+j,y:s+d/2,textAnchor:C,verticalAnchor:"middle"};return Ke(Ke({},R),i?{width:Math.max(i.x+i.width-R.x,0),height:d}:{})}var k=i?{width:v,height:d}:{};return a==="insideLeft"?Ke({x:m+j,y:s+d/2,textAnchor:C,verticalAnchor:"middle"},k):a==="insideRight"?Ke({x:m+v-j,y:s+d/2,textAnchor:S,verticalAnchor:"middle"},k):a==="insideTop"?Ke({x:f+c/2,y:s+y,textAnchor:"middle",verticalAnchor:w},k):a==="insideBottom"?Ke({x:h+u/2,y:s+d-y,textAnchor:"middle",verticalAnchor:g},k):a==="insideTopLeft"?Ke({x:f+j,y:s+y,textAnchor:C,verticalAnchor:w},k):a==="insideTopRight"?Ke({x:f+c-j,y:s+y,textAnchor:S,verticalAnchor:w},k):a==="insideBottomLeft"?Ke({x:h+j,y:s+d-y,textAnchor:C,verticalAnchor:g},k):a==="insideBottomRight"?Ke({x:h+u-j,y:s+d-y,textAnchor:S,verticalAnchor:g},k):a&&typeof a=="object"&&(Z(a.x)||ca(a.x))&&(Z(a.y)||ca(a.y))?Ke({x:o+dn(a.x,v),y:s+dn(a.y,d),textAnchor:"end",verticalAnchor:"end"},k):Ke({x,y:s+d/2,textAnchor:"middle",verticalAnchor:"middle"},k)},cZ={angle:0,offset:5,zIndex:Vt.label,position:"middle",textBreakAll:!1};function Ba(e){var t=Ar(e,cZ),{viewBox:r,position:n,value:a,children:i,content:o,className:s="",textBreakAll:c,labelRef:u}=t,d=nZ(),f=nM(),h=n==="center"?f:d??f,m,v,x;if(r==null?m=h:$y(r)?m=r:m=oR(r),!m||jt(a)&&jt(i)&&!p.isValidElement(o)&&typeof o!="function")return null;var b=Ke(Ke({},t),{},{viewBox:m});if(p.isValidElement(o)){var{labelRef:y}=b,g=TC(b,YX);return p.cloneElement(o,g)}if(typeof o=="function"){var{content:w}=b,_=TC(b,XX);if(v=p.createElement(o,_),p.isValidElement(v))return v}else v=aZ(t);var j=Fr(t);if($y(m)){if(n==="insideStart"||n==="insideEnd"||n==="end")return oZ(t,n,v,j,m);x=sZ(m,t.offset,t.position)}else x=lZ(t,m);return p.createElement(Ca,{zIndex:t.zIndex},p.createElement(e1,Fn({ref:u,className:Ie("recharts-label",s)},j,x,{textAnchor:HX(j.textAnchor)?j.textAnchor:x.textAnchor,breakAll:c}),v))}Ba.displayName="Label";var uZ=(e,t,r)=>{if(!e)return null;var n={viewBox:t,labelRef:r};return e===!0?p.createElement(Ba,Fn({key:"label-implicit"},n)):kn(e)?p.createElement(Ba,Fn({key:"label-implicit",value:e},n)):p.isValidElement(e)?e.type===Ba?p.cloneElement(e,Ke({key:"label-implicit"},n)):p.createElement(Ba,Fn({key:"label-implicit",content:e},n)):t1(e)?p.createElement(Ba,Fn({key:"label-implicit",content:e},n)):e&&typeof e=="object"?p.createElement(Ba,Fn({},e,{key:"label-implicit"},n)):null};function dZ(e){var{label:t,labelRef:r}=e,n=nM();return uZ(t,n,r)||null}var aM={},iM={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r[r.length-1]}e.last=t})(iM);var oM={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Array.isArray(r)?r:Array.from(r)}e.toArray=t})(oM);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=iM,r=oM,n=um;function a(i){if(n.isArrayLike(i))return t.last(r.toArray(i))}e.last=a})(aM);var fZ=aM.last;const hZ=ga(fZ);var mZ=["valueAccessor"],pZ=["dataKey","clockWise","id","textBreakAll","zIndex"];function vh(){return vh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},vh.apply(null,arguments)}function RC(e,t){if(e==null)return{};var r,n,a=gZ(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function gZ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var vZ=e=>Array.isArray(e.value)?hZ(e.value):e.value,sM=p.createContext(void 0),yZ=sM.Provider,lM=p.createContext(void 0);lM.Provider;function bZ(){return p.useContext(sM)}function xZ(){return p.useContext(lM)}function Hd(e){var{valueAccessor:t=vZ}=e,r=RC(e,mZ),{dataKey:n,clockWise:a,id:i,textBreakAll:o,zIndex:s}=r,c=RC(r,pZ),u=bZ(),d=xZ(),f=u||d;return!f||!f.length?null:p.createElement(Ca,{zIndex:s??Vt.label},p.createElement(la,{className:"recharts-label-list"},f.map((h,m)=>{var v,x=jt(n)?t(h,m):zt(h&&h.payload,n),b=jt(i)?{}:{id:"".concat(i,"-").concat(m)};return p.createElement(Ba,vh({key:"label-".concat(m)},Fr(h),c,b,{fill:(v=r.fill)!==null&&v!==void 0?v:h.fill,parentViewBox:h.parentViewBox,value:x,textBreakAll:o,viewBox:h.viewBox,index:m,zIndex:0}))})))}Hd.displayName="LabelList";function wZ(e){var{label:t}=e;return t?t===!0?p.createElement(Hd,{key:"labelList-implicit"}):p.isValidElement(t)||t1(t)?p.createElement(Hd,{key:"labelList-implicit",content:t}):typeof t=="object"?p.createElement(Hd,vh({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}var _Z={radiusAxis:{},angleAxis:{}},cM=or({name:"polarAxis",initialState:_Z,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:kre,removeRadiusAxis:Tre,addAngleAxis:Nre,removeAngleAxis:Rre}=cM.actions,jZ=cM.reducer,uM={exports:{}},Ae={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r1=Symbol.for("react.transitional.element"),n1=Symbol.for("react.portal"),Xm=Symbol.for("react.fragment"),Zm=Symbol.for("react.strict_mode"),Jm=Symbol.for("react.profiler"),Qm=Symbol.for("react.consumer"),ep=Symbol.for("react.context"),tp=Symbol.for("react.forward_ref"),rp=Symbol.for("react.suspense"),np=Symbol.for("react.suspense_list"),ap=Symbol.for("react.memo"),ip=Symbol.for("react.lazy"),SZ=Symbol.for("react.view_transition"),CZ=Symbol.for("react.client.reference");function Xr(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case r1:switch(e=e.type,e){case Xm:case Jm:case Zm:case rp:case np:case SZ:return e;default:switch(e=e&&e.$$typeof,e){case ep:case tp:case ip:case ap:return e;case Qm:return e;default:return t}}case n1:return t}}}Ae.ContextConsumer=Qm;Ae.ContextProvider=ep;Ae.Element=r1;Ae.ForwardRef=tp;Ae.Fragment=Xm;Ae.Lazy=ip;Ae.Memo=ap;Ae.Portal=n1;Ae.Profiler=Jm;Ae.StrictMode=Zm;Ae.Suspense=rp;Ae.SuspenseList=np;Ae.isContextConsumer=function(e){return Xr(e)===Qm};Ae.isContextProvider=function(e){return Xr(e)===ep};Ae.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===r1};Ae.isForwardRef=function(e){return Xr(e)===tp};Ae.isFragment=function(e){return Xr(e)===Xm};Ae.isLazy=function(e){return Xr(e)===ip};Ae.isMemo=function(e){return Xr(e)===ap};Ae.isPortal=function(e){return Xr(e)===n1};Ae.isProfiler=function(e){return Xr(e)===Jm};Ae.isStrictMode=function(e){return Xr(e)===Zm};Ae.isSuspense=function(e){return Xr(e)===rp};Ae.isSuspenseList=function(e){return Xr(e)===np};Ae.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Xm||e===Jm||e===Zm||e===rp||e===np||typeof e=="object"&&e!==null&&(e.$$typeof===ip||e.$$typeof===ap||e.$$typeof===ep||e.$$typeof===Qm||e.$$typeof===tp||e.$$typeof===CZ||e.getModuleId!==void 0)};Ae.typeOf=Xr;uM.exports=Ae;var EZ=uM.exports,DC=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",PC=null,Og=null,dM=e=>{if(e===PC&&Array.isArray(Og))return Og;var t=[];return p.Children.forEach(e,r=>{jt(r)||(EZ.isFragment(r)?t=t.concat(dM(r.props.children)):t.push(r))}),Og=t,PC=e,t};function OZ(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(a=>DC(a)):n=[DC(t)],dM(e).forEach(a=>{var i=js(a,"type.displayName")||js(a,"type.name");i&&n.indexOf(i)!==-1&&r.push(a)}),r}var fM={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){var a;if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const i=r[Symbol.toStringTag];return i==null||!((a=Object.getOwnPropertyDescriptor(r,Symbol.toStringTag))!=null&&a.writable)?!1:r.toString()===`[object ${i}]`}let n=r;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(r)===n}e.isPlainObject=t})(fM);var AZ=fM.isPlainObject;const kZ=ga(AZ);var MC,zC,BC,IC,$C;function LC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function UC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?LC(Object(r),!0).forEach(function(n){TZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):LC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function TZ(e,t,r){return(t=NZ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function NZ(e){var t=RZ(e,"string");return typeof t=="symbol"?t:t+""}function RZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function yh(){return yh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yh.apply(null,arguments)}function Sl(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var qC=(e,t,r,n,a)=>{var i=r-n,o;return o=Fe(MC||(MC=Sl(["M ",",",""])),e,t),o+=Fe(zC||(zC=Sl(["L ",",",""])),e+r,t),o+=Fe(BC||(BC=Sl(["L ",",",""])),e+r-i/2,t+a),o+=Fe(IC||(IC=Sl(["L ",",",""])),e+r-i/2-n,t+a),o+=Fe($C||($C=Sl(["L ",","," Z"])),e,t),o},DZ={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},PZ=e=>{var t=Ar(e,DZ),{x:r,y:n,upperWidth:a,lowerWidth:i,height:o,className:s}=t,{animationEasing:c,animationDuration:u,animationBegin:d,isUpdateAnimationActive:f}=t,h=p.useRef(null),[m,v]=p.useState(-1),x=p.useRef(a),b=p.useRef(i),y=p.useRef(o),g=p.useRef(r),w=p.useRef(n),_=ex(e,"trapezoid-");if(p.useEffect(()=>{if(h.current&&h.current.getTotalLength)try{var $=h.current.getTotalLength();$&&v($)}catch{}},[]),r!==+r||n!==+n||a!==+a||i!==+i||o!==+o||a===0&&i===0||o===0)return null;var j=Ie("recharts-trapezoid",s);if(!f)return p.createElement("g",null,p.createElement("path",yh({},Fr(t),{className:j,d:qC(r,n,a,i,o)})));var S=x.current,C=b.current,E=y.current,T=g.current,A=w.current,R="0px ".concat(m===-1?1:m,"px"),k="".concat(m,"px 0px"),z=bR(["strokeDasharray"],u,c);return p.createElement(Qb,{animationId:_,key:_,canBegin:m>0,duration:u,easing:c,isActive:f,begin:d},$=>{var H=Tt(S,a,$),O=Tt(C,i,$),N=Tt(E,o,$),D=Tt(T,r,$),M=Tt(A,n,$);h.current&&(x.current=H,b.current=O,y.current=N,g.current=D,w.current=M);var L=$>0?{transition:z,strokeDasharray:k}:{strokeDasharray:R};return p.createElement("path",yh({},Fr(t),{className:j,d:qC(D,M,H,O,N),ref:h,style:UC(UC({},L),t.style)}))})},MZ=["option","shapeType","activeClassName"];function zZ(e,t){if(e==null)return{};var r,n,a=BZ(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function BZ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function WC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function bh(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?WC(Object(r),!0).forEach(function(n){IZ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):WC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function IZ(e,t,r){return(t=$Z(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $Z(e){var t=LZ(e,"string");return typeof t=="symbol"?t:t+""}function LZ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function UZ(e,t){return bh(bh({},t),e)}function qZ(e,t){return e==="symbols"}function HC(e){var{shapeType:t,elementProps:r}=e;switch(t){case"rectangle":return p.createElement(jR,r);case"trapezoid":return p.createElement(PZ,r);case"sector":return p.createElement(ER,r);case"symbols":if(qZ(t))return p.createElement(WT,r);break;case"curve":return p.createElement(yR,r);default:return null}}function WZ(e){return p.isValidElement(e)?e.props:e}function HZ(e){var{option:t,shapeType:r,activeClassName:n="recharts-active-shape"}=e,a=zZ(e,MZ),i;if(p.isValidElement(t))i=p.cloneElement(t,bh(bh({},a),WZ(t)));else if(typeof t=="function")i=t(a,a.index);else if(kZ(t)&&typeof t!="boolean"){var o=UZ(t,a);i=p.createElement(HC,{shapeType:r,elementProps:o})}else{var s=a;i=p.createElement(HC,{shapeType:r,elementProps:s})}return a.isActive?p.createElement(la,{className:n},i):i}var hM=(e,t,r)=>{var n=Xe();return(a,i)=>o=>{e==null||e(a,i,o),n(jP({activeIndex:String(i),activeDataKey:t,activeCoordinate:a.tooltipPosition,activeGraphicalItemId:r}))}},mM=e=>{var t=Xe();return(r,n)=>a=>{e==null||e(r,n,a),t(mG())}},pM=(e,t,r)=>{var n=Xe();return(a,i)=>o=>{e==null||e(a,i,o),n(pG({activeIndex:String(i),activeDataKey:t,activeCoordinate:a.tooltipPosition,activeGraphicalItemId:r}))}};function FZ(e){var{tooltipEntrySettings:t}=e,r=Xe(),n=sr(),a=p.useRef(null);return p.useLayoutEffect(()=>{n||(a.current===null?r(uG(t)):a.current!==t&&r(dG({prev:a.current,next:t})),a.current=t)},[t,r,n]),p.useLayoutEffect(()=>()=>{a.current&&(r(fG(a.current)),a.current=null)},[r]),null}function VZ(e){var{legendPayload:t}=e,r=Xe(),n=sr(),a=p.useRef(null);return p.useLayoutEffect(()=>{n||(a.current===null?r(Gq(t)):a.current!==t&&r(Yq({prev:a.current,next:t})),a.current=t)},[r,n,t]),p.useLayoutEffect(()=>()=>{a.current&&(r(Xq(a.current)),a.current=null)},[r]),null}var Ag,KZ=()=>{var[e]=p.useState(()=>jc("uid-"));return e},GZ=(Ag=SE.useId)!==null&&Ag!==void 0?Ag:KZ;function YZ(e,t){var r=GZ();return t||(e?"".concat(e,"-").concat(r):r)}var XZ=p.createContext(void 0),ZZ=e=>{var{id:t,type:r,children:n}=e,a=YZ("recharts-".concat(r),t);return p.createElement(XZ.Provider,{value:a},n(a))},JZ={cartesianItems:[],polarItems:[]},gM=or({name:"graphicalItems",initialState:JZ,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:Le()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:r,next:n}=t.payload,a=sn(e).cartesianItems.indexOf(r);a>-1&&(e.cartesianItems[a]=n)},prepare:Le()},removeCartesianGraphicalItem:{reducer(e,t){var r=sn(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},prepare:Le()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:Le()},removePolarGraphicalItem:{reducer(e,t){var r=sn(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)},prepare:Le()}}}),{addCartesianGraphicalItem:QZ,replaceCartesianGraphicalItem:eJ,removeCartesianGraphicalItem:tJ,addPolarGraphicalItem:Dre,removePolarGraphicalItem:Pre}=gM.actions,rJ=gM.reducer,nJ=e=>{var t=Xe(),r=p.useRef(null);return p.useLayoutEffect(()=>{r.current===null?t(QZ(e)):r.current!==e&&t(eJ({prev:r.current,next:e})),r.current=e},[t,e]),p.useLayoutEffect(()=>()=>{r.current&&(t(tJ(r.current)),r.current=null)},[t]),null},aJ=p.memo(nJ);function FC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function VC(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?FC(Object(r),!0).forEach(function(n){iJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):FC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function iJ(e,t,r){return(t=oJ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function oJ(e){var t=sJ(e,"string");return typeof t=="symbol"?t:t+""}function sJ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var vM=0,lJ={xAxis:{},yAxis:{},zAxis:{}},yM=or({name:"cartesianAxis",initialState:lJ,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:Le()},replaceXAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.xAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.xAxis[r.id],e.xAxis[n.id]=n)},prepare:Le()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:Le()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:Le()},replaceYAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.yAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.yAxis[r.id],e.yAxis[n.id]=n)},prepare:Le()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:Le()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:Le()},replaceZAxis:{reducer(e,t){var{prev:r,next:n}=t.payload;e.zAxis[r.id]!==void 0&&(r.id!==n.id&&delete e.zAxis[r.id],e.zAxis[n.id]=n)},prepare:Le()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:Le()},updateYAxisWidth(e,t){var{id:r,width:n}=t.payload,a=e.yAxis[r];if(a){var i=a.widthHistory||[];if(i.length===3&&i[0]===i[2]&&n===i[1]&&n!==a.width&&Math.abs(n-i[0])<=1)return;var o=[...i,n].slice(-3);e.yAxis[r]=VC(VC({},e.yAxis[r]),{},{width:n,widthHistory:o})}}}}),{addXAxis:cJ,replaceXAxis:uJ,removeXAxis:dJ,addYAxis:fJ,replaceYAxis:hJ,removeYAxis:mJ,addZAxis:Mre,replaceZAxis:zre,removeZAxis:Bre,updateYAxisWidth:pJ}=yM.actions,gJ=yM.reducer,vJ=B([St],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),yJ=B([vJ,ya,ba],(e,t,r)=>{if(!(!e||t==null||r==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,r-e.top-e.bottom)}}),bM=()=>te(yJ),KC=(e,t,r)=>{var n=r??e;if(!jt(n))return dn(n,t,0)},bJ=(e,t,r)=>{var n={},a=e.filter(Wm),i=e.filter(u=>u.stackId==null),o=a.reduce((u,d)=>(u[d.stackId]||(u[d.stackId]=[]),u[d.stackId].push(d),u),n),s=Object.entries(o).map(u=>{var[d,f]=u,h=f.map(v=>v.dataKey),m=KC(t,r,f[0].barSize);return{stackId:d,dataKeys:h,barSize:m}}),c=i.map(u=>{var d=[u.dataKey].filter(h=>h!=null),f=KC(t,r,u.barSize);return{stackId:void 0,dataKeys:d,barSize:f}});return[...s,...c]};function GC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function wd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?GC(Object(r),!0).forEach(function(n){xJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):GC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xJ(e,t,r){return(t=wJ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wJ(e){var t=_J(e,"string");return typeof t=="symbol"?t:t+""}function _J(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function jJ(e,t,r,n,a){var i=n.length;if(!(i<1)){var o=dn(e,r,0,!0),s,c=[];if(We(n[0].barSize)){var u=!1,d=r/i,f=n.reduce((y,g)=>y+(g.barSize||0),0);f+=(i-1)*o,f>=r&&(f-=(i-1)*o,o=0),f>=r&&d>0&&(u=!0,d*=.9,f=i*d);var h=(r-f)/2>>0,m={offset:h-o,size:0};s=n.reduce((y,g)=>{var w,_={stackId:g.stackId,dataKeys:g.dataKeys,position:{offset:m.offset+m.size+o,size:u?d:(w=g.barSize)!==null&&w!==void 0?w:0}},j=[...y,_];return m=j[j.length-1].position,j},c)}else{var v=dn(t,r,0,!0);r-2*v-(i-1)*o<=0&&(o=0);var x=(r-2*v-(i-1)*o)/i;x>1&&(x>>=0);var b=We(a)?Math.min(x,a):x;s=n.reduce((y,g,w)=>[...y,{stackId:g.stackId,dataKeys:g.dataKeys,position:{offset:v+(x+o)*w+(x-b)/2,size:b}}],c)}return s}}var SJ=(e,t,r,n,a,i,o)=>{var s=jt(o)?t:o,c=jJ(r,n,a!==i?a:i,e,s);return a!==i&&c!=null&&(c=c.map(u=>wd(wd({},u),{},{position:wd(wd({},u.position),{},{offset:u.position.offset-a/2})}))),c},CJ=(e,t)=>{var r=Rx(t);if(!(!e||r==null||t==null)){var{stackId:n}=t;if(n!=null){var a=e[n];if(a){var{stackedData:i}=a;if(i)return i.find(o=>o.key===r)}}}};function EJ(e,t){return e&&typeof e=="object"&&"zIndex"in e&&typeof e.zIndex=="number"&&We(e.zIndex)?e.zIndex:t}var OJ=e=>{var{chartData:t}=e,r=Xe(),n=sr();return p.useEffect(()=>n?()=>{}:(r(pC(t)),()=>{r(pC(void 0))}),[t,r,n]),null},YC={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},xM=or({name:"brush",initialState:YC,reducers:{setBrushSettings(e,t){return t.payload==null?YC:t.payload}}}),{setBrushSettings:Ire}=xM.actions,AJ=xM.reducer;function kJ(e,t,r){return(t=TJ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function TJ(e){var t=NJ(e,"string");return typeof t=="symbol"?t:t+""}function NJ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class a1{static create(t){return new a1(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:r,position:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(n)switch(n){case"start":return this.scale(t);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+a}case"end":{var i=this.bandwidth?this.bandwidth():0;return this.scale(t)+i}default:return this.scale(t)}if(r){var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+o}return this.scale(t)}}isInRange(t){var r=this.range(),n=r[0],a=r[r.length-1];return n<=a?t>=n&&t<=a:t>=a&&t<=n}}kJ(a1,"EPS",1e-4);function RJ(e){return(e%180+180)%180}var DJ=function(t){var{width:r,height:n}=t,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=RJ(a),o=i*Math.PI/180,s=Math.atan(n/r),c=o>s&&o<Math.PI-s?n/Math.sin(o):r/Math.cos(o);return Math.abs(c)},PJ={dots:[],areas:[],lines:[]},wM=or({name:"referenceElements",initialState:PJ,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=sn(e).dots.findIndex(n=>n===t.payload);r!==-1&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=sn(e).areas.findIndex(n=>n===t.payload);r!==-1&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=sn(e).lines.findIndex(n=>n===t.payload);r!==-1&&e.lines.splice(r,1)}}}),{addDot:$re,removeDot:Lre,addArea:Ure,removeArea:qre,addLine:Wre,removeLine:Hre}=wM.actions,MJ=wM.reducer,zJ=p.createContext(void 0),BJ=e=>{var{children:t}=e,[r]=p.useState("".concat(jc("recharts"),"-clip")),n=bM();if(n==null)return null;var{x:a,y:i,width:o,height:s}=n;return p.createElement(zJ.Provider,{value:r},p.createElement("defs",null,p.createElement("clipPath",{id:r},p.createElement("rect",{x:a,y:i,height:s,width:o}))),t)};function _M(e,t){if(t<1)return[];if(t===1)return e;for(var r=[],n=0;n<e.length;n+=t){var a=e[n];a!==void 0&&r.push(a)}return r}function IJ(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return DJ(n,r)}function $J(e,t,r){var n=r==="width",{x:a,y:i,width:o,height:s}=e;return t===1?{start:n?a:i,end:n?a+o:i+s}:{start:n?a+o:i+s,end:n?a:i}}function Bc(e,t,r,n,a){if(e*t<e*n||e*t>e*a)return!1;var i=r();return e*(t-e*i/2-n)>=0&&e*(t+e*i/2-a)<=0}function LJ(e,t){return _M(e,t+1)}function UJ(e,t,r,n,a){for(var i=(n||[]).slice(),{start:o,end:s}=t,c=0,u=1,d=o,f=function(){var v=n==null?void 0:n[c];if(v===void 0)return{v:_M(n,u)};var x=c,b,y=()=>(b===void 0&&(b=r(v,x)),b),g=v.coordinate,w=c===0||Bc(e,g,y,d,s);w||(c=0,d=o,u+=1),w&&(d=g+e*(y()/2+a),c+=u)},h;u<=i.length;)if(h=f(),h)return h.v;return[]}function qJ(e,t,r,n,a){var i=(n||[]).slice(),o=i.length;if(o===0)return[];for(var{start:s,end:c}=t,u=1;u<=o;u++){for(var d=(o-1)%u,f=s,h=!0,m=function(){var g=n[v],w=v,_,j=()=>(_===void 0&&(_=r(g,w)),_),S=g.coordinate,C=v===d||Bc(e,S,j,f,c);if(!C)return h=!1,1;C&&(f=S+e*(j()/2+a))},v=d;v<o&&!m();v+=u);if(h){for(var x=[],b=d;b<o;b+=u)x.push(n[b]);return x}}return[]}function XC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function It(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?XC(Object(r),!0).forEach(function(n){WJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):XC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function WJ(e,t,r){return(t=HJ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function HJ(e){var t=FJ(e,"string");return typeof t=="symbol"?t:t+""}function FJ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function VJ(e,t,r,n,a){for(var i=(n||[]).slice(),o=i.length,{start:s}=t,{end:c}=t,u=function(h){var m=i[h],v,x=()=>(v===void 0&&(v=r(m,h)),v);if(h===o-1){var b=e*(m.coordinate+e*x()/2-c);i[h]=m=It(It({},m),{},{tickCoord:b>0?m.coordinate-b*e:m.coordinate})}else i[h]=m=It(It({},m),{},{tickCoord:m.coordinate});if(m.tickCoord!=null){var y=Bc(e,m.tickCoord,x,s,c);y&&(c=m.tickCoord-e*(x()/2+a),i[h]=It(It({},m),{},{isShow:!0}))}},d=o-1;d>=0;d--)u(d);return i}function KJ(e,t,r,n,a,i){var o=(n||[]).slice(),s=o.length,{start:c,end:u}=t;if(i){var d=n[s-1],f=r(d,s-1),h=e*(d.coordinate+e*f/2-u);if(o[s-1]=d=It(It({},d),{},{tickCoord:h>0?d.coordinate-h*e:d.coordinate}),d.tickCoord!=null){var m=Bc(e,d.tickCoord,()=>f,c,u);m&&(u=d.tickCoord-e*(f/2+a),o[s-1]=It(It({},d),{},{isShow:!0}))}}for(var v=i?s-1:s,x=function(g){var w=o[g],_,j=()=>(_===void 0&&(_=r(w,g)),_);if(g===0){var S=e*(w.coordinate-e*j()/2-c);o[g]=w=It(It({},w),{},{tickCoord:S<0?w.coordinate-S*e:w.coordinate})}else o[g]=w=It(It({},w),{},{tickCoord:w.coordinate});if(w.tickCoord!=null){var C=Bc(e,w.tickCoord,j,c,u);C&&(c=w.tickCoord+e*(j()/2+a),o[g]=It(It({},w),{},{isShow:!0}))}},b=0;b<v;b++)x(b);return o}function i1(e,t,r){var{tick:n,ticks:a,viewBox:i,minTickGap:o,orientation:s,interval:c,tickFormatter:u,unit:d,angle:f}=e;if(!a||!a.length||!n)return[];if(Z(c)||Rm.isSsr){var h;return(h=LJ(a,Z(c)?c:0))!==null&&h!==void 0?h:[]}var m=[],v=s==="top"||s==="bottom"?"width":"height",x=d&&v==="width"?Ql(d,{fontSize:t,letterSpacing:r}):{width:0,height:0},b=(w,_)=>{var j=typeof u=="function"?u(w.value,_):w.value;return v==="width"?IJ(Ql(j,{fontSize:t,letterSpacing:r}),x,f):Ql(j,{fontSize:t,letterSpacing:r})[v]},y=a.length>=2?tr(a[1].coordinate-a[0].coordinate):1,g=$J(i,y,v);return c==="equidistantPreserveStart"?UJ(y,g,b,a,o):c==="equidistantPreserveEnd"?qJ(y,g,b,a,o):(c==="preserveStart"||c==="preserveStartEnd"?m=KJ(y,g,b,a,o,c==="preserveStartEnd"):m=VJ(y,g,b,a,o),m.filter(w=>w.isShow))}var GJ=e=>{var{ticks:t,label:r,labelGapWithTick:n=5,tickSize:a=0,tickMargin:i=0}=e,o=0;if(t){Array.from(t).forEach(d=>{if(d){var f=d.getBoundingClientRect();f.width>o&&(o=f.width)}});var s=r?r.getBoundingClientRect().width:0,c=a+i,u=o+c+s+(r?n:0);return Math.round(u)}return 0},YJ=["axisLine","width","height","className","hide","ticks","axisType"];function XJ(e,t){if(e==null)return{};var r,n,a=ZJ(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function ZJ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function oo(){return oo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},oo.apply(null,arguments)}function ZC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function et(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ZC(Object(r),!0).forEach(function(n){JJ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ZC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function JJ(e,t,r){return(t=QJ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function QJ(e){var t=eQ(e,"string");return typeof t=="symbol"?t:t+""}function eQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ta={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:Vt.axis};function tQ(e){var{x:t,y:r,width:n,height:a,orientation:i,mirror:o,axisLine:s,otherSvgProps:c}=e;if(!s)return null;var u=et(et(et({},c),sa(s)),{},{fill:"none"});if(i==="top"||i==="bottom"){var d=+(i==="top"&&!o||i==="bottom"&&o);u=et(et({},u),{},{x1:t,y1:r+d*a,x2:t+n,y2:r+d*a})}else{var f=+(i==="left"&&!o||i==="right"&&o);u=et(et({},u),{},{x1:t+f*n,y1:r,x2:t+f*n,y2:r+a})}return p.createElement("line",oo({},u,{className:Ie("recharts-cartesian-axis-line",js(s,"className"))}))}function rQ(e,t,r,n,a,i,o,s,c){var u,d,f,h,m,v,x=s?-1:1,b=e.tickSize||o,y=Z(e.tickCoord)?e.tickCoord:e.coordinate;switch(i){case"top":u=d=e.coordinate,h=r+ +!s*a,f=h-x*b,v=f-x*c,m=y;break;case"left":f=h=e.coordinate,d=t+ +!s*n,u=d-x*b,m=u-x*c,v=y;break;case"right":f=h=e.coordinate,d=t+ +s*n,u=d+x*b,m=u+x*c,v=y;break;default:u=d=e.coordinate,h=r+ +s*a,f=h+x*b,v=f+x*c,m=y;break}return{line:{x1:u,y1:f,x2:d,y2:h},tick:{x:m,y:v}}}function nQ(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function aQ(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function iQ(e){var{option:t,tickProps:r,value:n}=e,a,i=Ie(r.className,"recharts-cartesian-axis-tick-value");if(p.isValidElement(t))a=p.cloneElement(t,et(et({},r),{},{className:i}));else if(typeof t=="function")a=t(et(et({},r),{},{className:i}));else{var o="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(o=Ie(o,t==null?void 0:t.className)),a=p.createElement(e1,oo({},r,{className:o}),n)}return a}var oQ=p.forwardRef((e,t)=>{var{ticks:r=[],tick:n,tickLine:a,stroke:i,tickFormatter:o,unit:s,padding:c,tickTextProps:u,orientation:d,mirror:f,x:h,y:m,width:v,height:x,tickSize:b,tickMargin:y,fontSize:g,letterSpacing:w,getTicksConfig:_,events:j,axisType:S}=e,C=i1(et(et({},_),{},{ticks:r}),g,w),E=nQ(d,f),T=aQ(d,f),A=sa(_),R=Eb(n),k={};typeof a=="object"&&(k=a);var z=et(et({},A),{},{fill:"none"},k),$=C.map(N=>et({entry:N},rQ(N,h,m,v,x,d,b,f,y))),H=$.map(N=>{var{entry:D,line:M}=N;return p.createElement(la,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(D.value,"-").concat(D.coordinate,"-").concat(D.tickCoord)},a&&p.createElement("line",oo({},z,M,{className:Ie("recharts-cartesian-axis-tick-line",js(a,"className"))})))}),O=$.map((N,D)=>{var{entry:M,tick:L}=N,V=et(et(et(et({textAnchor:E,verticalAnchor:T},A),{},{stroke:"none",fill:i},R),L),{},{index:D,payload:M,visibleTicksCount:C.length,tickFormatter:o,padding:c},u);return p.createElement(la,oo({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(M.value,"-").concat(M.coordinate,"-").concat(M.tickCoord)},Nb(j,M,D)),n&&p.createElement(iQ,{option:n,tickProps:V,value:"".concat(typeof o=="function"?o(M.value,D):M.value).concat(s||"")}))});return p.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(S,"-ticks")},O.length>0&&p.createElement(Ca,{zIndex:Vt.label},p.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(S,"-tick-labels"),ref:t},O)),H.length>0&&p.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(S,"-tick-lines")},H))}),sQ=p.forwardRef((e,t)=>{var{axisLine:r,width:n,height:a,className:i,hide:o,ticks:s,axisType:c}=e,u=XJ(e,YJ),[d,f]=p.useState(""),[h,m]=p.useState(""),v=p.useRef(null);p.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var b;return GJ({ticks:v.current,label:(b=e.labelRef)===null||b===void 0?void 0:b.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var x=p.useCallback(b=>{if(b){var y=b.getElementsByClassName("recharts-cartesian-axis-tick-value");v.current=y;var g=y[0];if(g){var w=window.getComputedStyle(g),_=w.fontSize,j=w.letterSpacing;(_!==d||j!==h)&&(f(_),m(j))}}},[d,h]);return o||n!=null&&n<=0||a!=null&&a<=0?null:p.createElement(Ca,{zIndex:e.zIndex},p.createElement(la,{className:Ie("recharts-cartesian-axis",i)},p.createElement(tQ,{x:e.x,y:e.y,width:n,height:a,orientation:e.orientation,mirror:e.mirror,axisLine:r,otherSvgProps:sa(e)}),p.createElement(oQ,{ref:x,axisType:c,events:u,fontSize:d,getTicksConfig:e,height:e.height,letterSpacing:h,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:s,unit:e.unit,width:e.width,x:e.x,y:e.y}),p.createElement(tZ,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},p.createElement(dZ,{label:e.label,labelRef:e.labelRef}),e.children)))}),o1=p.forwardRef((e,t)=>{var r=Ar(e,ta);return p.createElement(sQ,oo({},r,{ref:t}))});o1.displayName="CartesianAxis";var lQ=["x1","y1","x2","y2","key"],cQ=["offset"],uQ=["xAxisId","yAxisId"],dQ=["xAxisId","yAxisId"];function JC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function $t(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?JC(Object(r),!0).forEach(function(n){fQ(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):JC(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function fQ(e,t,r){return(t=hQ(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function hQ(e){var t=mQ(e,"string");return typeof t=="symbol"?t:t+""}function mQ(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $i(){return $i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},$i.apply(null,arguments)}function xh(e,t){if(e==null)return{};var r,n,a=pQ(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function pQ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var gQ=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:r,x:n,y:a,width:i,height:o,ry:s}=e;return p.createElement("rect",{x:n,y:a,ry:s,width:i,height:o,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function jM(e){var{option:t,lineItemProps:r}=e,n;if(p.isValidElement(t))n=p.cloneElement(t,r);else if(typeof t=="function")n=t(r);else{var a,{x1:i,y1:o,x2:s,y2:c,key:u}=r,d=xh(r,lQ),f=(a=sa(d))!==null&&a!==void 0?a:{},{offset:h}=f,m=xh(f,cQ);n=p.createElement("line",$i({},m,{x1:i,y1:o,x2:s,y2:c,fill:"none",key:u}))}return n}function vQ(e){var{x:t,width:r,horizontal:n=!0,horizontalPoints:a}=e;if(!n||!a||!a.length)return null;var{xAxisId:i,yAxisId:o}=e,s=xh(e,uQ),c=a.map((u,d)=>{var f=$t($t({},s),{},{x1:t,y1:u,x2:t+r,y2:u,key:"line-".concat(d),index:d});return p.createElement(jM,{key:"line-".concat(d),option:n,lineItemProps:f})});return p.createElement("g",{className:"recharts-cartesian-grid-horizontal"},c)}function yQ(e){var{y:t,height:r,vertical:n=!0,verticalPoints:a}=e;if(!n||!a||!a.length)return null;var{xAxisId:i,yAxisId:o}=e,s=xh(e,dQ),c=a.map((u,d)=>{var f=$t($t({},s),{},{x1:u,y1:t,x2:u,y2:t+r,key:"line-".concat(d),index:d});return p.createElement(jM,{option:n,lineItemProps:f,key:"line-".concat(d)})});return p.createElement("g",{className:"recharts-cartesian-grid-vertical"},c)}function bQ(e){var{horizontalFill:t,fillOpacity:r,x:n,y:a,width:i,height:o,horizontalPoints:s,horizontal:c=!0}=e;if(!c||!t||!t.length||s==null)return null;var u=s.map(f=>Math.round(f+a-a)).sort((f,h)=>f-h);a!==u[0]&&u.unshift(0);var d=u.map((f,h)=>{var m=!u[h+1],v=m?a+o-f:u[h+1]-f;if(v<=0)return null;var x=h%t.length;return p.createElement("rect",{key:"react-".concat(h),y:f,x:n,height:v,width:i,stroke:"none",fill:t[x],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return p.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function xQ(e){var{vertical:t=!0,verticalFill:r,fillOpacity:n,x:a,y:i,width:o,height:s,verticalPoints:c}=e;if(!t||!r||!r.length)return null;var u=c.map(f=>Math.round(f+a-a)).sort((f,h)=>f-h);a!==u[0]&&u.unshift(0);var d=u.map((f,h)=>{var m=!u[h+1],v=m?a+o-f:u[h+1]-f;if(v<=0)return null;var x=h%r.length;return p.createElement("rect",{key:"react-".concat(h),x:f,y:i,width:v,height:s,stroke:"none",fill:r[x],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return p.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var wQ=(e,t)=>{var{xAxis:r,width:n,height:a,offset:i}=e;return XN(i1($t($t($t({},ta),r),{},{ticks:ZN(r),viewBox:{x:0,y:0,width:n,height:a}})),i.left,i.left+i.width,t)},_Q=(e,t)=>{var{yAxis:r,width:n,height:a,offset:i}=e;return XN(i1($t($t($t({},ta),r),{},{ticks:ZN(r),viewBox:{x:0,y:0,width:n,height:a}})),i.top,i.top+i.height,t)},jQ={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:Vt.grid};function SM(e){var t=lR(),r=cR(),n=sR(),a=$t($t({},Ar(e,jQ)),{},{x:Z(e.x)?e.x:n.left,y:Z(e.y)?e.y:n.top,width:Z(e.width)?e.width:n.width,height:Z(e.height)?e.height:n.height}),{xAxisId:i,yAxisId:o,x:s,y:c,width:u,height:d,syncWithTicks:f,horizontalValues:h,verticalValues:m}=a,v=sr(),x=te(T=>aC(T,"xAxis",i,v)),b=te(T=>aC(T,"yAxis",o,v));if(!Tn(u)||!Tn(d)||!Z(s)||!Z(c))return null;var y=a.verticalCoordinatesGenerator||wQ,g=a.horizontalCoordinatesGenerator||_Q,{horizontalPoints:w,verticalPoints:_}=a;if((!w||!w.length)&&typeof g=="function"){var j=h&&h.length,S=g({yAxis:b?$t($t({},b),{},{ticks:j?h:b.ticks}):void 0,width:t??u,height:r??d,offset:n},j?!0:f);Gf(Array.isArray(S),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof S,"]")),Array.isArray(S)&&(w=S)}if((!_||!_.length)&&typeof y=="function"){var C=m&&m.length,E=y({xAxis:x?$t($t({},x),{},{ticks:C?m:x.ticks}):void 0,width:t??u,height:r??d,offset:n},C?!0:f);Gf(Array.isArray(E),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof E,"]")),Array.isArray(E)&&(_=E)}return p.createElement(Ca,{zIndex:a.zIndex},p.createElement("g",{className:"recharts-cartesian-grid"},p.createElement(gQ,{fill:a.fill,fillOpacity:a.fillOpacity,x:a.x,y:a.y,width:a.width,height:a.height,ry:a.ry}),p.createElement(bQ,$i({},a,{horizontalPoints:w})),p.createElement(xQ,$i({},a,{verticalPoints:_})),p.createElement(vQ,$i({},a,{offset:n,horizontalPoints:w,xAxis:x,yAxis:b})),p.createElement(yQ,$i({},a,{offset:n,verticalPoints:_,xAxis:x,yAxis:b}))))}SM.displayName="CartesianGrid";var SQ={},CM=or({name:"errorBars",initialState:SQ,reducers:{addErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]||(e[r]=[]),e[r].push(n)},replaceErrorBar:(e,t)=>{var{itemId:r,prev:n,next:a}=t.payload;e[r]&&(e[r]=e[r].map(i=>i.dataKey===n.dataKey&&i.direction===n.direction?a:i))},removeErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]&&(e[r]=e[r].filter(a=>a.dataKey!==n.dataKey||a.direction!==n.direction))}}}),{addErrorBar:Fre,replaceErrorBar:Vre,removeErrorBar:Kre}=CM.actions,CQ=CM.reducer,EQ=["children"];function OQ(e,t){if(e==null)return{};var r,n,a=AQ(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function AQ(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var kQ={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},TQ=p.createContext(kQ);function NQ(e){var{children:t}=e,r=OQ(e,EQ);return p.createElement(TQ.Provider,{value:r},t)}function EM(e,t){var r,n,a=te(u=>_a(u,e)),i=te(u=>ja(u,t)),o=(r=a==null?void 0:a.allowDataOverflow)!==null&&r!==void 0?r:gt.allowDataOverflow,s=(n=i==null?void 0:i.allowDataOverflow)!==null&&n!==void 0?n:vt.allowDataOverflow,c=o||s;return{needClip:c,needClipX:o,needClipY:s}}function RQ(e){var{xAxisId:t,yAxisId:r,clipPathId:n}=e,a=bM(),{needClipX:i,needClipY:o,needClip:s}=EM(t,r);if(!s||!a)return null;var{x:c,y:u,width:d,height:f}=a;return p.createElement("clipPath",{id:"clipPath-".concat(n)},p.createElement("rect",{x:i?c:c-d/2,y:o?u:u-f/2,width:i?d:d*2,height:o?f:f*2}))}var DQ={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Au=p;function PQ(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var MQ=typeof Object.is=="function"?Object.is:PQ,zQ=Au.useSyncExternalStore,BQ=Au.useRef,IQ=Au.useEffect,$Q=Au.useMemo,LQ=Au.useDebugValue;DQ.useSyncExternalStoreWithSelector=function(e,t,r,n,a){var i=BQ(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=$Q(function(){function c(m){if(!u){if(u=!0,d=m,m=n(m),a!==void 0&&o.hasValue){var v=o.value;if(a(v,m))return f=v}return f=m}if(v=f,MQ(d,m))return v;var x=n(m);return a!==void 0&&a(v,x)?(d=m,v):(d=m,f=x)}var u=!1,d,f,h=r===void 0?null:r;return[function(){return c(t())},h===null?void 0:function(){return c(h())}]},[t,r,n,a]);var s=zQ(e,i[0],i[1]);return IQ(function(){o.hasValue=!0,o.value=s},[s]),LQ(s),s};function UQ(e){e()}function qQ(){let e=null,t=null;return{clear(){e=null,t=null},notify(){UQ(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=e;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const a=t={callback:r,next:null,prev:t};return a.prev?a.prev.next=a:e=a,function(){!n||e===null||(n=!1,a.next?a.next.prev=a.prev:t=a.prev,a.prev?a.prev.next=a.next:e=a.next)}}}}var QC={notify(){},get:()=>[]};function WQ(e,t){let r,n=QC,a=0,i=!1;function o(x){d();const b=n.subscribe(x);let y=!1;return()=>{y||(y=!0,b(),f())}}function s(){n.notify()}function c(){v.onStateChange&&v.onStateChange()}function u(){return i}function d(){a++,r||(r=e.subscribe(c),n=qQ())}function f(){a--,r&&a===0&&(r(),r=void 0,n.clear(),n=QC)}function h(){i||(i=!0,d())}function m(){i&&(i=!1,f())}const v={addNestedSub:o,notifyNestedSubs:s,handleChangeWrapper:c,isSubscribed:u,trySubscribe:h,tryUnsubscribe:m,getListeners:()=>n};return v}var HQ=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",FQ=HQ(),VQ=()=>typeof navigator<"u"&&navigator.product==="ReactNative",KQ=VQ(),GQ=()=>FQ||KQ?p.useLayoutEffect:p.useEffect,YQ=GQ();function eE(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function XQ(e,t){if(eE(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(let a=0;a<r.length;a++)if(!Object.prototype.hasOwnProperty.call(t,r[a])||!eE(e[r[a]],t[r[a]]))return!1;return!0}var kg=Symbol.for("react-redux-context"),Tg=typeof globalThis<"u"?globalThis:{};function ZQ(){if(!p.createContext)return{};const e=Tg[kg]??(Tg[kg]=new Map);let t=e.get(p.createContext);return t||(t=p.createContext(null),e.set(p.createContext,t)),t}var JQ=ZQ();function QQ(e){const{children:t,context:r,serverState:n,store:a}=e,i=p.useMemo(()=>{const c=WQ(a);return{store:a,subscription:c,getServerState:n?()=>n:void 0}},[a,n]),o=p.useMemo(()=>a.getState(),[a]);YQ(()=>{const{subscription:c}=i;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),o!==a.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[i,o]);const s=r||JQ;return p.createElement(s.Provider,{value:i},t)}var eee=QQ,tee=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle","radius"]);function ree(e,t){return e==null&&t==null?!0:typeof e=="number"&&typeof t=="number"?e===t||e!==e&&t!==t:e===t}function s1(e,t){var r=new Set([...Object.keys(e),...Object.keys(t)]);for(var n of r)if(tee.has(n)){if(e[n]==null&&t[n]==null)continue;if(!XQ(e[n],t[n]))return!1}else if(!ree(e[n],t[n]))return!1;return!0}function yo(e,t){var r,n;return(r=(n=e.graphicalItems.cartesianItems.find(a=>a.id===t))===null||n===void 0?void 0:n.xAxisId)!==null&&r!==void 0?r:vM}function bo(e,t){var r,n;return(r=(n=e.graphicalItems.cartesianItems.find(a=>a.id===t))===null||n===void 0?void 0:n.yAxisId)!==null&&r!==void 0?r:vM}var nee="Invariant failed";function aee(e,t){throw new Error(nee)}function Ly(){return Ly=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ly.apply(null,arguments)}function wh(e){return p.createElement(HZ,Ly({shapeType:"rectangle",activeClassName:"recharts-active-bar"},e))}var iee=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(n,a)=>{if(Z(t))return t;var i=Z(n)||jt(n);return i?t(n,a):(i||aee(),r)}},oee=(e,t,r)=>r,see=(e,t)=>t,ku=B([Px,see],(e,t)=>e.filter(r=>r.type==="bar").find(r=>r.id===t)),lee=B([ku],e=>e==null?void 0:e.maxBarSize),cee=(e,t,r,n)=>n,uee=B([we,Px,yo,bo,oee],(e,t,r,n,a)=>t.filter(i=>e==="horizontal"?i.xAxisId===r:i.yAxisId===n).filter(i=>i.isPanorama===a).filter(i=>i.hide===!1).filter(i=>i.type==="bar")),dee=(e,t,r)=>{var n=we(e),a=yo(e,t),i=bo(e,t);if(!(a==null||i==null))return n==="horizontal"?Dy(e,"yAxis",i,r):Dy(e,"xAxis",a,r)},fee=(e,t)=>{var r=we(e),n=yo(e,t),a=bo(e,t);if(!(n==null||a==null))return r==="horizontal"?nC(e,"xAxis",n):nC(e,"yAxis",a)},hee=B([uee,nK,fee],bJ),mee=(e,t,r)=>{var n,a,i=ku(e,t);if(i!=null){var o=yo(e,t),s=bo(e,t);if(!(o==null||s==null)){var c=we(e),u=ED(e),{maxBarSize:d}=i,f=jt(d)?u:d,h,m;return c==="horizontal"?(h=Ns(e,"xAxis",o,r),m=Ts(e,"xAxis",o,r)):(h=Ns(e,"yAxis",s,r),m=Ts(e,"yAxis",s,r)),(n=(a=Kf(h,m,!0))!==null&&a!==void 0?a:f)!==null&&n!==void 0?n:0}}},OM=(e,t,r)=>{var n=we(e),a=yo(e,t),i=bo(e,t);if(!(a==null||i==null)){var o,s;return n==="horizontal"?(o=Ns(e,"xAxis",a,r),s=Ts(e,"xAxis",a,r)):(o=Ns(e,"yAxis",i,r),s=Ts(e,"yAxis",i,r)),Kf(o,s)}},pee=B([hee,ED,rK,OD,mee,OM,lee],SJ),gee=(e,t,r)=>{var n=yo(e,t);if(n!=null)return Ns(e,"xAxis",n,r)},vee=(e,t,r)=>{var n=bo(e,t);if(n!=null)return Ns(e,"yAxis",n,r)},yee=(e,t,r)=>{var n=yo(e,t);if(n!=null)return Ts(e,"xAxis",n,r)},bee=(e,t,r)=>{var n=bo(e,t);if(n!=null)return Ts(e,"yAxis",n,r)},xee=B([pee,ku],(e,t)=>{if(!(e==null||t==null)){var r=e.find(n=>n.stackId===t.stackId&&t.dataKey!=null&&n.dataKeys.includes(t.dataKey));if(r!=null)return r.position}}),wee=B([dee,ku],CJ),_ee=B([St,Yb,gee,vee,yee,bee,xee,we,HV,OM,wee,ku,cee],(e,t,r,n,a,i,o,s,c,u,d,f,h)=>{var{chartData:m,dataStartIndex:v,dataEndIndex:x}=c;if(!(f==null||o==null||t==null||s!=="horizontal"&&s!=="vertical"||r==null||n==null||a==null||i==null||u==null)){var{data:b}=f,y;if(b!=null&&b.length>0?y=b:y=m==null?void 0:m.slice(v,x+1),y!=null)return Zee({layout:s,barSettings:f,pos:o,parentViewBox:t,bandSize:u,xAxis:r,yAxis:n,xAxisTicks:a,yAxisTicks:i,stackedData:d,displayedData:y,offset:e,cells:h,dataStartIndex:v})}}),jee=["index"];function Uy(){return Uy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Uy.apply(null,arguments)}function See(e,t){if(e==null)return{};var r,n,a=Cee(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Cee(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var AM=p.createContext(void 0),Eee=e=>{var t=p.useContext(AM);if(t!=null)return t.stackId;if(e!=null)return eq(e)},Oee=(e,t)=>"recharts-bar-stack-clip-path-".concat(e,"-").concat(t),Aee=e=>{var t=p.useContext(AM);if(t!=null){var{stackId:r}=t;return"url(#".concat(Oee(r,e),")")}},kee=e=>{var{index:t}=e,r=See(e,jee),n=Aee(t);return p.createElement(la,Uy({className:"recharts-bar-stack-layer",clipPath:n},r))},Tee=["onMouseEnter","onMouseLeave","onClick"],Nee=["value","background","tooltipPosition"],Ree=["id"],Dee=["onMouseEnter","onClick","onMouseLeave"];function pa(){return pa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},pa.apply(null,arguments)}function tE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Wt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?tE(Object(r),!0).forEach(function(n){Pee(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):tE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Pee(e,t,r){return(t=Mee(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Mee(e){var t=zee(e,"string");return typeof t=="symbol"?t:t+""}function zee(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _h(e,t){if(e==null)return{};var r,n,a=Bee(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Bee(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Iee=e=>{var{dataKey:t,name:r,fill:n,legendType:a,hide:i}=e;return[{inactive:i,dataKey:t,type:a,color:n,value:JN(r,t),payload:e}]},$ee=p.memo(e=>{var{dataKey:t,stroke:r,strokeWidth:n,fill:a,name:i,hide:o,unit:s,tooltipType:c,id:u}=e,d={dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:r,strokeWidth:n,fill:a,dataKey:t,nameKey:void 0,name:JN(i,t),hide:o,type:c,color:a,unit:s,graphicalItemId:u}};return p.createElement(FZ,{tooltipEntrySettings:d})});function Lee(e){var t=te(Rs),{data:r,dataKey:n,background:a,allOtherBarProps:i}=e,{onMouseEnter:o,onMouseLeave:s,onClick:c}=i,u=_h(i,Tee),d=hM(o,n,i.id),f=mM(s),h=pM(c,n,i.id);if(!a||r==null)return null;var m=Eb(a);return p.createElement(Ca,{zIndex:EJ(a,Vt.barBackground)},r.map((v,x)=>{var{value:b,background:y,tooltipPosition:g}=v,w=_h(v,Nee);if(!y)return null;var _=d(v,x),j=f(v,x),S=h(v,x),C=Wt(Wt(Wt(Wt(Wt({option:a,isActive:String(x)===t},w),{},{fill:"#eee"},y),m),Nb(u,v,x)),{},{onMouseEnter:_,onMouseLeave:j,onClick:S,dataKey:n,index:x,className:"recharts-bar-background-rectangle"});return p.createElement(wh,pa({key:"background-bar-".concat(x)},C))}))}function Uee(e){var{showLabels:t,children:r,rects:n}=e,a=n==null?void 0:n.map(i=>{var o={x:i.x,y:i.y,width:i.width,lowerWidth:i.width,upperWidth:i.width,height:i.height};return Wt(Wt({},o),{},{value:i.value,payload:i.payload,parentViewBox:i.parentViewBox,viewBox:o,fill:i.fill})});return p.createElement(yZ,{value:t?a:void 0},r)}function qee(e){var{shape:t,activeBar:r,baseProps:n,entry:a,index:i,dataKey:o}=e,s=te(Rs),c=te(BP),u=r&&String(i)===s&&(c==null||o===c),d=u?r:t;return u?p.createElement(Ca,{zIndex:Vt.activeBar},p.createElement(wh,pa({},n,{name:String(n.name)},a,{isActive:u,option:d,index:i,dataKey:o}))):p.createElement(wh,pa({},n,{name:String(n.name)},a,{isActive:u,option:d,index:i,dataKey:o}))}function Wee(e){var{shape:t,baseProps:r,entry:n,index:a,dataKey:i}=e;return p.createElement(wh,pa({},r,{name:String(r.name)},n,{isActive:!1,option:t,index:a,dataKey:i}))}function Hee(e){var t,{data:r,props:n}=e,a=(t=sa(n))!==null&&t!==void 0?t:{},{id:i}=a,o=_h(a,Ree),{shape:s,dataKey:c,activeBar:u}=n,{onMouseEnter:d,onClick:f,onMouseLeave:h}=n,m=_h(n,Dee),v=hM(d,c,i),x=mM(h),b=pM(f,c,i);return r?p.createElement(p.Fragment,null,r.map((y,g)=>p.createElement(kee,pa({index:g,key:"rectangle-".concat(y==null?void 0:y.x,"-").concat(y==null?void 0:y.y,"-").concat(y==null?void 0:y.value,"-").concat(g),className:"recharts-bar-rectangle"},Nb(m,y,g),{onMouseEnter:v(y,g),onMouseLeave:x(y,g),onClick:b(y,g)}),u?p.createElement(qee,{shape:s,activeBar:u,baseProps:o,entry:y,index:g,dataKey:c}):p.createElement(Wee,{shape:s,baseProps:o,entry:y,index:g,dataKey:c})))):null}function Fee(e){var{props:t,previousRectanglesRef:r}=e,{data:n,layout:a,isAnimationActive:i,animationBegin:o,animationDuration:s,animationEasing:c,onAnimationEnd:u,onAnimationStart:d}=t,f=r.current,h=ex(t,"recharts-bar-"),[m,v]=p.useState(!1),x=!m,b=p.useCallback(()=>{typeof u=="function"&&u(),v(!1)},[u]),y=p.useCallback(()=>{typeof d=="function"&&d(),v(!0)},[d]);return p.createElement(Uee,{showLabels:x,rects:n},p.createElement(Qb,{animationId:h,begin:o,duration:s,isActive:i,easing:c,onAnimationEnd:b,onAnimationStart:y,key:h},g=>{var w=g===1?n:n==null?void 0:n.map((_,j)=>{var S=f&&f[j];if(S)return Wt(Wt({},_),{},{x:Tt(S.x,_.x,g),y:Tt(S.y,_.y,g),width:Tt(S.width,_.width,g),height:Tt(S.height,_.height,g)});if(a==="horizontal"){var C=Tt(0,_.height,g),E=Tt(_.stackedBarStart,_.y,g);return Wt(Wt({},_),{},{y:E,height:C})}var T=Tt(0,_.width,g),A=Tt(_.stackedBarStart,_.x,g);return Wt(Wt({},_),{},{width:T,x:A})});return g>0&&(r.current=w??null),w==null?null:p.createElement(la,null,p.createElement(Hee,{props:t,data:w}))}),p.createElement(wZ,{label:t.label}),t.children)}function Vee(e){var t=p.useRef(null);return p.createElement(Fee,{previousRectanglesRef:t,props:e})}var kM=0,Kee=(e,t)=>{var r=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:r,errorVal:zt(e,t)}};class Gee extends p.PureComponent{render(){var{hide:t,data:r,dataKey:n,className:a,xAxisId:i,yAxisId:o,needClip:s,background:c,id:u}=this.props;if(t||r==null)return null;var d=Ie("recharts-bar",a),f=u;return p.createElement(la,{className:d,id:u},s&&p.createElement("defs",null,p.createElement(RQ,{clipPathId:f,xAxisId:i,yAxisId:o})),p.createElement(la,{className:"recharts-bar-rectangles",clipPath:s?"url(#clipPath-".concat(f,")"):void 0},p.createElement(Lee,{data:r,dataKey:n,background:c,allOtherBarProps:this.props}),p.createElement(Vee,this.props)))}}var Yee={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",background:!1,hide:!1,isAnimationActive:"auto",label:!1,legendType:"rect",minPointSize:kM,xAxisId:0,yAxisId:0,zIndex:Vt.bar};function Xee(e){var{xAxisId:t,yAxisId:r,hide:n,legendType:a,minPointSize:i,activeBar:o,animationBegin:s,animationDuration:c,animationEasing:u,isAnimationActive:d}=e,{needClip:f}=EM(t,r),h=mu(),m=sr(),v=OZ(e.children,Qx),x=te(g=>_ee(g,e.id,m,v));if(h!=="vertical"&&h!=="horizontal")return null;var b,y=x==null?void 0:x[0];return y==null||y.height==null||y.width==null?b=0:b=h==="vertical"?y.height/2:y.width/2,p.createElement(NQ,{xAxisId:t,yAxisId:r,data:x,dataPointFormatter:Kee,errorBarOffset:b},p.createElement(Gee,pa({},e,{layout:h,needClip:f,data:x,xAxisId:t,yAxisId:r,hide:n,legendType:a,minPointSize:i,activeBar:o,animationBegin:s,animationDuration:c,animationEasing:u,isAnimationActive:d})))}function Zee(e){var{layout:t,barSettings:{dataKey:r,minPointSize:n},pos:a,bandSize:i,xAxis:o,yAxis:s,xAxisTicks:c,yAxisTicks:u,stackedData:d,displayedData:f,offset:h,cells:m,parentViewBox:v,dataStartIndex:x}=e,b=t==="horizontal"?s:o,y=d?b.scale.domain():null,g=tq({numericAxis:b}),w=b.scale(g);return f.map((_,j)=>{var S,C,E,T,A,R;if(d){var k=d[j+x];if(k==null)return null;S=Y7(k,y)}else S=zt(_,r),Array.isArray(S)||(S=[g,S]);var z=iee(n,kM)(S[1],j);if(t==="horizontal"){var $,[H,O]=[s.scale(S[0]),s.scale(S[1])];C=vj({axis:o,ticks:c,bandSize:i,offset:a.offset,entry:_,index:j}),E=($=O??H)!==null&&$!==void 0?$:void 0,T=a.size;var N=H-O;if(A=un(N)?0:N,R={x:C,y:h.top,width:T,height:h.height},Math.abs(z)>0&&Math.abs(A)<Math.abs(z)){var D=tr(A||z)*(Math.abs(z)-Math.abs(A));E-=D,A+=D}}else{var[M,L]=[o.scale(S[0]),o.scale(S[1])];if(C=M,E=vj({axis:s,ticks:u,bandSize:i,offset:a.offset,entry:_,index:j}),T=L-M,A=a.size,R={x:h.left,y:E,width:h.width,height:A},Math.abs(z)>0&&Math.abs(T)<Math.abs(z)){var V=tr(T||z)*(Math.abs(z)-Math.abs(T));T+=V}}if(C==null||E==null||T==null||A==null)return null;var K=Wt(Wt({},_),{},{stackedBarStart:w,x:C,y:E,width:T,height:A,value:d?S:S[1],payload:_,background:R,tooltipPosition:{x:C+T/2,y:E+A/2},parentViewBox:v},m&&m[j]&&m[j].props);return K}).filter(Boolean)}function Jee(e){var t=Ar(e,Yee),r=Eee(t.stackId),n=sr();return p.createElement(ZZ,{id:t.id,type:"bar"},a=>p.createElement(p.Fragment,null,p.createElement(VZ,{legendPayload:Iee(t)}),p.createElement($ee,{dataKey:t.dataKey,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType,id:a}),p.createElement(aJ,{type:"bar",id:a,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:r,hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:n}),p.createElement(Ca,{zIndex:t.zIndex},p.createElement(Xee,pa({},t,{id:a})))))}var TM=p.memo(Jee,s1);TM.displayName="Bar";var Qee=["domain","range"],ete=["domain","range"];function rE(e,t){if(e==null)return{};var r,n,a=tte(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function tte(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function nE(e,t){return e===t?!0:Array.isArray(e)&&e.length===2&&Array.isArray(t)&&t.length===2?e[0]===t[0]&&e[1]===t[1]:!1}function NM(e,t){if(e===t)return!0;var{domain:r,range:n}=e,a=rE(e,Qee),{domain:i,range:o}=t,s=rE(t,ete);return!nE(r,i)||!nE(n,o)?!1:s1(a,s)}var rte=["dangerouslySetInnerHTML","ticks","scale"],nte=["id","scale"];function qy(){return qy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qy.apply(null,arguments)}function aE(e,t){if(e==null)return{};var r,n,a=ate(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function ate(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function ite(e){var t=Xe(),r=p.useRef(null);return p.useLayoutEffect(()=>{r.current===null?t(cJ(e)):r.current!==e&&t(uJ({prev:r.current,next:e})),r.current=e},[e,t]),p.useLayoutEffect(()=>()=>{r.current&&(t(dJ(r.current)),r.current=null)},[t]),null}var ote=e=>{var{xAxisId:t,className:r}=e,n=te(Yb),a=sr(),i="xAxis",o=te(y=>vP(y,i,t,a)),s=te(y=>hP(y,t)),c=te(y=>eG(y,t)),u=te(y=>zD(y,t));if(s==null||c==null||u==null)return null;var{dangerouslySetInnerHTML:d,ticks:f,scale:h}=e,m=aE(e,rte),{id:v,scale:x}=u,b=aE(u,nte);return p.createElement(o1,qy({},m,b,{x:c.x,y:c.y,width:s.width,height:s.height,className:Ie("recharts-".concat(i," ").concat(i),r),viewBox:n,ticks:o,axisType:i}))},ste={allowDataOverflow:gt.allowDataOverflow,allowDecimals:gt.allowDecimals,allowDuplicatedCategory:gt.allowDuplicatedCategory,angle:gt.angle,axisLine:ta.axisLine,height:gt.height,hide:!1,includeHidden:gt.includeHidden,interval:gt.interval,minTickGap:gt.minTickGap,mirror:gt.mirror,orientation:gt.orientation,padding:gt.padding,reversed:gt.reversed,scale:gt.scale,tick:gt.tick,tickCount:gt.tickCount,tickLine:ta.tickLine,tickSize:ta.tickSize,type:gt.type,xAxisId:0},lte=e=>{var t=Ar(e,ste);return p.createElement(p.Fragment,null,p.createElement(ite,{allowDataOverflow:t.allowDataOverflow,allowDecimals:t.allowDecimals,allowDuplicatedCategory:t.allowDuplicatedCategory,angle:t.angle,dataKey:t.dataKey,domain:t.domain,height:t.height,hide:t.hide,id:t.xAxisId,includeHidden:t.includeHidden,interval:t.interval,minTickGap:t.minTickGap,mirror:t.mirror,name:t.name,orientation:t.orientation,padding:t.padding,reversed:t.reversed,scale:t.scale,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit}),p.createElement(ote,t))},RM=p.memo(lte,NM);RM.displayName="XAxis";var cte=["dangerouslySetInnerHTML","ticks","scale"],ute=["id","scale"];function Wy(){return Wy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Wy.apply(null,arguments)}function iE(e,t){if(e==null)return{};var r,n,a=dte(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function dte(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function fte(e){var t=Xe(),r=p.useRef(null);return p.useLayoutEffect(()=>{r.current===null?t(fJ(e)):r.current!==e&&t(hJ({prev:r.current,next:e})),r.current=e},[e,t]),p.useLayoutEffect(()=>()=>{r.current&&(t(mJ(r.current)),r.current=null)},[t]),null}var hte=e=>{var{yAxisId:t,className:r,width:n,label:a}=e,i=p.useRef(null),o=p.useRef(null),s=te(Yb),c=sr(),u=Xe(),d="yAxis",f=te(S=>mP(S,t)),h=te(S=>rG(S,t)),m=te(S=>vP(S,d,t,c)),v=te(S=>BD(S,t));if(p.useLayoutEffect(()=>{if(!(n!=="auto"||!f||t1(a)||p.isValidElement(a)||v==null)){var S=i.current;if(S){var C=S.getCalculatedWidth();Math.round(f.width)!==Math.round(C)&&u(pJ({id:t,width:C}))}}},[m,f,u,a,t,n,v]),f==null||h==null||v==null)return null;var{dangerouslySetInnerHTML:x,ticks:b,scale:y}=e,g=iE(e,cte),{id:w,scale:_}=v,j=iE(v,ute);return p.createElement(o1,Wy({},g,j,{ref:i,labelRef:o,x:h.x,y:h.y,tickTextProps:n==="auto"?{width:void 0}:{width:n},width:f.width,height:f.height,className:Ie("recharts-".concat(d," ").concat(d),r),viewBox:s,ticks:m,axisType:d}))},mte={allowDataOverflow:vt.allowDataOverflow,allowDecimals:vt.allowDecimals,allowDuplicatedCategory:vt.allowDuplicatedCategory,angle:vt.angle,axisLine:ta.axisLine,hide:!1,includeHidden:vt.includeHidden,interval:vt.interval,minTickGap:vt.minTickGap,mirror:vt.mirror,orientation:vt.orientation,padding:vt.padding,reversed:vt.reversed,scale:vt.scale,tick:vt.tick,tickCount:vt.tickCount,tickLine:ta.tickLine,tickSize:ta.tickSize,type:vt.type,width:vt.width,yAxisId:0},pte=e=>{var t=Ar(e,mte);return p.createElement(p.Fragment,null,p.createElement(fte,{interval:t.interval,id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:t.includeHidden,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:t.angle,minTickGap:t.minTickGap,tick:t.tick,tickFormatter:t.tickFormatter}),p.createElement(hte,t))},DM=p.memo(pte,NM);DM.displayName="YAxis";var gte=(e,t)=>t,l1=B([gte,we,PD,mt,DP,Sa,gY,St],jY),c1=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,n=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/n)}},PM=Vr("mouseClick"),MM=fu();MM.startListening({actionCreator:PM,effect:(e,t)=>{var r=e.payload,n=l1(t.getState(),c1(r));(n==null?void 0:n.activeIndex)!=null&&t.dispatch(gG({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var Hy=Vr("mouseMove"),zM=fu(),_d=null;zM.startListening({actionCreator:Hy,effect:(e,t)=>{var r=e.payload;_d!==null&&cancelAnimationFrame(_d);var n=c1(r);_d=requestAnimationFrame(()=>{var a=t.getState(),i=Wx(a,a.tooltip.settings.shared);if(i==="axis"){var o=l1(a,n);(o==null?void 0:o.activeIndex)!=null?t.dispatch(CP({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate})):t.dispatch(SP())}_d=null})}});function vte(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":e==="children"&&typeof t=="object"&&t!==null?"<<CHILDREN>>":t}var oE={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},BM=or({name:"rootProps",initialState:oE,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(r=t.payload.barGap)!==null&&r!==void 0?r:oE.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),yte=BM.reducer,{updateOptions:bte}=BM.actions,IM=or({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:Gre}=IM.actions,xte=IM.reducer,$M=Vr("keyDown"),LM=Vr("focus"),u1=fu();u1.startListening({actionCreator:$M,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:a}=r.tooltip,i=e.payload;if(!(i!=="ArrowRight"&&i!=="ArrowLeft"&&i!=="Enter")){var o=Hx(a,al(r),_u(r),Eu(r)),s=o==null?-1:Number(o);if(!(!Number.isFinite(s)||s<0)){var c=Sa(r);if(i==="Enter"){var u=gh(r,"axis","hover",String(a.index));t.dispatch(My({active:!a.active,activeIndex:a.index,activeCoordinate:u}));return}var d=oG(r),f=d==="left-to-right"?1:-1,h=i==="ArrowRight"?1:-1,m=s+h*f;if(!(c==null||m>=c.length||m<0)){var v=gh(r,"axis","hover",String(m));t.dispatch(My({active:!0,activeIndex:m.toString(),activeCoordinate:v}))}}}}}});u1.startListening({actionCreator:LM,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:a}=r.tooltip;if(!a.active&&a.index==null){var i="0",o=gh(r,"axis","hover",String(i));t.dispatch(My({active:!0,activeIndex:i,activeCoordinate:o}))}}}});var Rr=Vr("externalEvent"),UM=fu(),Ng=new Map;UM.startListening({actionCreator:Rr,effect:(e,t)=>{var{handler:r,reactEvent:n}=e.payload;if(r!=null){n.persist();var a=n.type,i=Ng.get(a);i!==void 0&&cancelAnimationFrame(i);var o=requestAnimationFrame(()=>{try{var s=t.getState(),c={activeCoordinate:tY(s),activeDataKey:BP(s),activeIndex:Rs(s),activeLabel:zP(s),activeTooltipIndex:Rs(s),isTooltipActive:rY(s)};r(c,n)}finally{Ng.delete(a)}});Ng.set(a,o)}}});var wte=B([rl],e=>e.tooltipItemPayloads),_te=B([wte,Cu,(e,t)=>t,(e,t,r)=>r],(e,t,r,n)=>{var a=e.find(s=>s.settings.graphicalItemId===n);if(a!=null){var{positions:i}=a;if(i!=null){var o=t(i,r);return o}}}),qM=Vr("touchMove"),WM=fu();WM.startListening({actionCreator:qM,effect:(e,t)=>{var r=e.payload;if(!(r.touches==null||r.touches.length===0)){var n=t.getState(),a=Wx(n,n.tooltip.settings.shared);if(a==="axis"){var i=r.touches[0];if(i==null)return;var o=l1(n,c1({clientX:i.clientX,clientY:i.clientY,currentTarget:r.currentTarget}));(o==null?void 0:o.activeIndex)!=null&&t.dispatch(CP({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate}))}else if(a==="item"){var s,c=r.touches[0];if(document.elementFromPoint==null||c==null)return;var u=document.elementFromPoint(c.clientX,c.clientY);if(!u||!u.getAttribute)return;var d=u.getAttribute(lq),f=(s=u.getAttribute(cq))!==null&&s!==void 0?s:void 0,h=nl(n).find(x=>x.id===f);if(d==null||h==null||f==null)return;var{dataKey:m}=h,v=_te(n,d,f);t.dispatch(jP({activeDataKey:m,activeIndex:d,activeCoordinate:v,activeGraphicalItemId:f}))}}}});var jte=wN({brush:AJ,cartesianAxis:gJ,chartData:eX,errorBars:CQ,graphicalItems:rJ,layout:W7,legend:Zq,options:YY,polarAxis:jZ,polarOptions:xte,referenceElements:MJ,rootProps:yte,tooltip:vG,zIndex:BY}),Ste=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return m7({reducer:jte,preloadedState:t,middleware:n=>{var a;return n({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((a="es6")!==null&&a!==void 0?a:"")}).concat([MM.middleware,zM.middleware,u1.middleware,UM.middleware,WM.middleware])},enhancers:n=>{var a=n;return typeof n=="function"&&(a=n()),a.concat(zN({type:"raf"}))},devTools:{serialize:{replacer:vte},name:"recharts-".concat(r)}})};function Cte(e){var{preloadedState:t,children:r,reduxStoreName:n}=e,a=sr(),i=p.useRef(null);if(a)return r;i.current==null&&(i.current=Ste(t,n));var o=Lb;return p.createElement(eee,{context:o,store:i.current},r)}function Ete(e){var{layout:t,margin:r}=e,n=Xe(),a=sr();return p.useEffect(()=>{a||(n(L7(t)),n($7(r)))},[n,a,t,r]),null}var Ote=p.memo(Ete,s1);function Ate(e){var t=Xe();return p.useEffect(()=>{t(bte(e))},[t,e]),null}function sE(e){var{zIndex:t,isPanorama:r}=e,n=p.useRef(null),a=Xe();return p.useLayoutEffect(()=>(n.current&&a(MY({zIndex:t,element:n.current,isPanorama:r})),()=>{a(zY({zIndex:t,isPanorama:r}))}),[a,t,r]),p.createElement("g",{tabIndex:-1,ref:n})}function lE(e){var{children:t,isPanorama:r}=e,n=te(CY);if(!n||n.length===0)return t;var a=n.filter(o=>o<0),i=n.filter(o=>o>0);return p.createElement(p.Fragment,null,a.map(o=>p.createElement(sE,{key:o,zIndex:o,isPanorama:r})),t,i.map(o=>p.createElement(sE,{key:o,zIndex:o,isPanorama:r})))}var kte=["children"];function Tte(e,t){if(e==null)return{};var r,n,a=Nte(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Nte(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function jh(){return jh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},jh.apply(null,arguments)}var Rte={width:"100%",height:"100%",display:"block"},Dte=p.forwardRef((e,t)=>{var r=lR(),n=cR(),a=vR();if(!Tn(r)||!Tn(n))return null;var{children:i,otherAttributes:o,title:s,desc:c}=e,u,d;return o!=null&&(typeof o.tabIndex=="number"?u=o.tabIndex:u=a?0:void 0,typeof o.role=="string"?d=o.role:d=a?"application":void 0),p.createElement(_T,jh({},o,{title:s,desc:c,role:d,tabIndex:u,width:r,height:n,style:Rte,ref:t}),i)}),Pte=e=>{var{children:t}=e,r=te(Em);if(!r)return null;var{width:n,height:a,y:i,x:o}=r;return p.createElement(_T,{width:n,height:a,x:o,y:i},t)},cE=p.forwardRef((e,t)=>{var{children:r}=e,n=Tte(e,kte),a=sr();return a?p.createElement(Pte,null,p.createElement(lE,{isPanorama:!0},r)):p.createElement(Dte,jh({ref:t},n),p.createElement(lE,{isPanorama:!1},r))});function Mte(){var e=Xe(),[t,r]=p.useState(null),n=te(sq);return p.useEffect(()=>{if(t!=null){var a=t.getBoundingClientRect(),i=a.width/t.offsetWidth;We(i)&&i!==n&&e(q7(i))}},[t,e,n]),r}function uE(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function zte(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?uE(Object(r),!0).forEach(function(n){Bte(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):uE(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Bte(e,t,r){return(t=Ite(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ite(e){var t=$te(e,"string");return typeof t=="symbol"?t:t+""}function $te(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function so(){return so=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},so.apply(null,arguments)}var Lte=()=>(cX(),null);function Sh(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var Ute=p.forwardRef((e,t)=>{var r,n,a=p.useRef(null),[i,o]=p.useState({containerWidth:Sh((r=e.style)===null||r===void 0?void 0:r.width),containerHeight:Sh((n=e.style)===null||n===void 0?void 0:n.height)}),s=p.useCallback((u,d)=>{o(f=>{var h=Math.round(u),m=Math.round(d);return f.containerWidth===h&&f.containerHeight===m?f:{containerWidth:h,containerHeight:m}})},[]),c=p.useCallback(u=>{if(typeof t=="function"&&t(u),u!=null&&typeof ResizeObserver<"u"){var{width:d,height:f}=u.getBoundingClientRect();s(d,f);var h=v=>{var{width:x,height:b}=v[0].contentRect;s(x,b)},m=new ResizeObserver(h);m.observe(u),a.current=m}},[t,s]);return p.useEffect(()=>()=>{var u=a.current;u!=null&&u.disconnect()},[s]),p.createElement(p.Fragment,null,p.createElement(Am,{width:i.containerWidth,height:i.containerHeight}),p.createElement("div",so({ref:c},e)))}),qte=p.forwardRef((e,t)=>{var{width:r,height:n}=e,[a,i]=p.useState({containerWidth:Sh(r),containerHeight:Sh(n)}),o=p.useCallback((c,u)=>{i(d=>{var f=Math.round(c),h=Math.round(u);return d.containerWidth===f&&d.containerHeight===h?d:{containerWidth:f,containerHeight:h}})},[]),s=p.useCallback(c=>{if(typeof t=="function"&&t(c),c!=null){var{width:u,height:d}=c.getBoundingClientRect();o(u,d)}},[t,o]);return p.createElement(p.Fragment,null,p.createElement(Am,{width:a.containerWidth,height:a.containerHeight}),p.createElement("div",so({ref:s},e)))}),Wte=p.forwardRef((e,t)=>{var{width:r,height:n}=e;return p.createElement(p.Fragment,null,p.createElement(Am,{width:r,height:n}),p.createElement("div",so({ref:t},e)))}),Hte=p.forwardRef((e,t)=>{var{width:r,height:n}=e;return ca(r)||ca(n)?p.createElement(qte,so({},e,{ref:t})):p.createElement(Wte,so({},e,{ref:t}))});function Fte(e){return e===!0?Ute:Hte}var Vte=p.forwardRef((e,t)=>{var{children:r,className:n,height:a,onClick:i,onContextMenu:o,onDoubleClick:s,onMouseDown:c,onMouseEnter:u,onMouseLeave:d,onMouseMove:f,onMouseUp:h,onTouchEnd:m,onTouchMove:v,onTouchStart:x,style:b,width:y,responsive:g,dispatchTouchEvents:w=!0}=e,_=p.useRef(null),j=Xe(),[S,C]=p.useState(null),[E,T]=p.useState(null),A=Mte(),R=Xb(),k=(R==null?void 0:R.width)>0?R.width:y,z=(R==null?void 0:R.height)>0?R.height:a,$=p.useCallback(P=>{A(P),typeof t=="function"&&t(P),C(P),T(P),P!=null&&(_.current=P)},[A,t,C,T]),H=p.useCallback(P=>{j(PM(P)),j(Rr({handler:i,reactEvent:P}))},[j,i]),O=p.useCallback(P=>{j(Hy(P)),j(Rr({handler:u,reactEvent:P}))},[j,u]),N=p.useCallback(P=>{j(SP()),j(Rr({handler:d,reactEvent:P}))},[j,d]),D=p.useCallback(P=>{j(Hy(P)),j(Rr({handler:f,reactEvent:P}))},[j,f]),M=p.useCallback(()=>{j(LM())},[j]),L=p.useCallback(P=>{j($M(P.key))},[j]),V=p.useCallback(P=>{j(Rr({handler:o,reactEvent:P}))},[j,o]),K=p.useCallback(P=>{j(Rr({handler:s,reactEvent:P}))},[j,s]),Q=p.useCallback(P=>{j(Rr({handler:c,reactEvent:P}))},[j,c]),ee=p.useCallback(P=>{j(Rr({handler:h,reactEvent:P}))},[j,h]),re=p.useCallback(P=>{j(Rr({handler:x,reactEvent:P}))},[j,x]),Se=p.useCallback(P=>{w&&j(qM(P)),j(Rr({handler:v,reactEvent:P}))},[j,w,v]),Re=p.useCallback(P=>{j(Rr({handler:m,reactEvent:P}))},[j,m]),U=Fte(g);return p.createElement(HP.Provider,{value:S},p.createElement(iU.Provider,{value:E},p.createElement(U,{width:k??(b==null?void 0:b.width),height:z??(b==null?void 0:b.height),className:Ie("recharts-wrapper",n),style:zte({position:"relative",cursor:"default",width:k,height:z},b),onClick:H,onContextMenu:V,onDoubleClick:K,onFocus:M,onKeyDown:L,onMouseDown:Q,onMouseEnter:O,onMouseLeave:N,onMouseMove:D,onMouseUp:ee,onTouchEnd:Re,onTouchMove:Se,onTouchStart:re,ref:$},p.createElement(Lte,null),r)))}),Kte=["width","height","responsive","children","className","style","compact","title","desc"];function Gte(e,t){if(e==null)return{};var r,n,a=Yte(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Yte(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var Xte=p.forwardRef((e,t)=>{var{width:r,height:n,responsive:a,children:i,className:o,style:s,compact:c,title:u,desc:d}=e,f=Gte(e,Kte),h=sa(f);return c?p.createElement(p.Fragment,null,p.createElement(Am,{width:r,height:n}),p.createElement(cE,{otherAttributes:h,title:u,desc:d},i)):p.createElement(Vte,{className:o,style:s,width:r,height:n,responsive:a??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},p.createElement(cE,{otherAttributes:h,title:u,desc:d,ref:t},p.createElement(BJ,null,i)))});function Fy(){return Fy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Fy.apply(null,arguments)}var Zte={top:5,right:5,bottom:5,left:5},Jte={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:Zte,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},Qte=p.forwardRef(function(t,r){var n,a=Ar(t.categoricalChartProps,Jte),{chartName:i,defaultTooltipEventType:o,validateTooltipEventTypes:s,tooltipPayloadSearcher:c,categoricalChartProps:u}=t,d={chartName:i,defaultTooltipEventType:o,validateTooltipEventTypes:s,tooltipPayloadSearcher:c,eventEmitter:void 0};return p.createElement(Cte,{preloadedState:{options:d},reduxStoreName:(n=u.id)!==null&&n!==void 0?n:i},p.createElement(OJ,{chartData:u.data}),p.createElement(Ote,{layout:a.layout,margin:a.margin}),p.createElement(Ate,{baseValue:a.baseValue,accessibilityLayer:a.accessibilityLayer,barCategoryGap:a.barCategoryGap,maxBarSize:a.maxBarSize,stackOffset:a.stackOffset,barGap:a.barGap,barSize:a.barSize,syncId:a.syncId,syncMethod:a.syncMethod,className:a.className,reverseStackOrder:a.reverseStackOrder}),p.createElement(Xte,Fy({},a,{ref:r})))}),ere=["axis","item"],tre=p.forwardRef((e,t)=>p.createElement(Qte,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:ere,tooltipPayloadSearcher:KY,categoricalChartProps:e,ref:t}));function rre({ibgeCode:e,potenciaKwp:t,onCalculate:r}){const[n,a]=p.useState([]),[i,o]=p.useState(!1),[s,c]=p.useState(null);p.useEffect(()=>{e&&t>0?u():a([])},[e,t]);const u=async()=>{o(!0),c(null);try{const{data:h,error:m}=await I.from("irradiancia").select("*").eq('"cod.ibge"',e).single();if(m)throw m;if(!h)throw new Error("Dados de irradincia no encontrados para este local.");const x=[{name:"Jan",key:"jan.khw"},{name:"Fev",key:"fev.khw"},{name:"Mar",key:"mar.kwh"},{name:"Abr",key:"abr.kwh"},{name:"Mai",key:"mai.kwh"},{name:"Jun",key:"jun.kwh"},{name:"Jul",key:"jul.kwh"},{name:"Ago",key:"ago.kwh"},{name:"Set",key:"set.kwh"},{name:"Out",key:"out.kwh"},{name:"Nov",key:"nov.kwh"},{name:"Dez",key:"dez.khw"}].map(b=>{const y=Number(h[b.key]),g=y?t*y:0;return{name:b.name,geracao:Math.round(g),factor:y}});a(x)}catch(h){console.error("Irradiance error:",h),c("Dados de irradincia no disponveis.")}finally{o(!1)}},d=n.reduce((h,m)=>h+m.geracao,0),f=n.length>0?d/12:0;return p.useEffect(()=>{!i&&r&&f>0&&r(Math.round(f))},[f,r,i]),!e||!t?null:i?l.jsx("div",{style:{padding:"1rem",textAlign:"center",color:"#666"},children:"Calculando estimativa de gerao..."}):l.jsxs("div",{style:{marginTop:"2rem",padding:"1.5rem",background:"#f8fafc",borderRadius:"8px",border:"1px solid #e2e8f0"},children:[l.jsxs("h4",{style:{fontSize:"1rem",fontWeight:"bold",color:"#0369a1",marginBottom:"1rem",display:"flex",justifyContent:"space-between"},children:[l.jsx("span",{children:"Estimativa de Gerao Mensal"}),l.jsxs("span",{style:{fontSize:"0.9rem",color:"#64748b"},children:["Mdia Mensal: ",l.jsxs("strong",{children:[f.toLocaleString("pt-BR",{maximumFractionDigits:0})," kWh"]})]})]}),l.jsx("div",{style:{width:"100%",height:300},children:l.jsx(Dq,{children:l.jsxs(tre,{data:n,margin:{top:20,right:10,left:0,bottom:5},children:[l.jsx(SM,{strokeDasharray:"3 3",vertical:!1,stroke:"#e2e8f0"}),l.jsx(RM,{dataKey:"name",axisLine:!1,tickLine:!1,tick:{fontSize:12,fill:"#64748b"},dy:10}),l.jsx(DM,{axisLine:!1,tickLine:!1,tick:{fontSize:12,fill:"#64748b"}}),l.jsx(vX,{cursor:{fill:"#f1f5f9"},contentStyle:{borderRadius:"8px",border:"none",boxShadow:"0 4px 6px rgba(0,0,0,0.1)"},formatter:h=>[`${h.toLocaleString("pt-BR")} kWh`,"Gerao"]}),l.jsx(TM,{dataKey:"geracao",radius:[4,4,0,0],children:n.map((h,m)=>l.jsx(Qx,{fill:"var(--color-orange)"},`cell-${m}`))})]})})}),l.jsxs("p",{style:{marginTop:"0.5rem",fontSize:"0.8rem",color:"#94a3b8",textAlign:"center"},children:["* Estimativa baseada na mdia histrica de irradincia solar da regio (IBGE: ",e,")."]})]})}const jd=({title:e,icon:t,children:r,defaultOpen:n=!1,color:a="var(--color-blue)"})=>{const[i,o]=p.useState(n);return l.jsxs("div",{style:{marginBottom:"1rem",border:"1px solid #e2e8f0",borderRadius:"8px",overflow:"hidden",background:"white",boxShadow:"0 1px 2px rgba(0,0,0,0.05)"},children:[l.jsxs("div",{onClick:()=>o(!i),style:{padding:"1rem",background:i?`${a}10`:"white",cursor:"pointer",display:"flex",justifyContent:"space-between",alignItems:"center",borderBottom:i?"1px solid #e2e8f0":"none",transition:"background 0.2s"},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.8rem",fontWeight:"bold",color:a},children:[t&&l.jsx(t,{size:20}),l.jsx("span",{style:{fontSize:"1rem"},children:e})]}),i?l.jsx(ob,{size:20,color:"#64748b"}):l.jsx(ib,{size:20,color:"#64748b"})]}),i&&l.jsx("div",{style:{padding:"1.5rem",animation:"fadeIn 0.3s ease-in-out"},children:r})]})};function nre({usina:e,onClose:t,onSave:r,onDelete:n}){const{showAlert:a,showConfirm:i}=Gr(),[o,s]=p.useState([]),[c,u]=p.useState([]),[d,f]=p.useState(!1),[h,m]=p.useState(!1),v=[{value:"gerando",label:"Gerando"},{value:"em_conexao",label:"Em Conexo"},{value:"manutencao",label:"Manuteno"},{value:"inativa",label:"Inativa"},{value:"cancelada",label:"Cancelada"}],x=[{value:"gd1",label:"GD I"},{value:"gd2",label:"GD II"},{value:"gd3",label:"GD III"}],b=["Internet","Segurana","Manuteno","Arrendamento","gua","Energia","Gesto"],y=(U,P,F)=>{let G=[];for(let q=U;q<=P;q+=F)G.push(q);return G},g=y(460,800,5),w=[...y(1e3,7e3,1e3),7500,9e3,1e4,12500,...y(15e3,75e3,5e3),...y(1e5,3e5,25e3)],[_,j]=p.useState({supplier_id:"",name:"",status:"em_conexao",modalidade:"gd1",valor_investido:"",qtd_modulos:"",potencia_modulos_w:"",fabricante_inversor:"",potencia_inversor_w:"",geracao_estimada_kwh:"",servicos_contratados:[],service_values:{},gestao_percentual:"",cep:"",rua:"",numero:"",bairro:"",cidade:"",uf:"",ibge_code:"",concessionaria:""}),[S,C]=p.useState([]),[E,T]=p.useState([]),[A,R]=p.useState(0),k=E.reduce((U,P)=>U+(Number(P.consumo_medio_kwh)||Number(P.franquia)||0),0);p.useEffect(()=>{const U=Number(_.qtd_modulos)||0,P=Number(_.potencia_modulos_w)||0,F=U*P/1e3;R(Number(F.toFixed(2)))},[_.qtd_modulos,_.potencia_modulos_w]),p.useEffect(()=>{var U,P,F,G,q,he,ie;N(),D(),e&&(j({supplier_id:e.supplier_id||"",name:e.name||"",status:e.status||"em_conexao",modalidade:e.modalidade||"gd1",valor_investido:e.valor_investido?M(e.valor_investido):"",qtd_modulos:e.qtd_modulos||"",potencia_modulos_w:e.potencia_modulos_w||"",fabricante_inversor:e.fabricante_inversor||"",potencia_inversor_w:e.potencia_inversor_w||"",geracao_estimada_kwh:e.geracao_estimada_kwh||"",servicos_contratados:e.servicos_contratados||[],service_values:e.service_values||{},gestao_percentual:e.gestao_percentual||"",cep:((U=e.address)==null?void 0:U.cep)||"",rua:((P=e.address)==null?void 0:P.rua)||"",numero:((F=e.address)==null?void 0:F.numero)||"",bairro:((G=e.address)==null?void 0:G.bairro)||"",cidade:((q=e.address)==null?void 0:q.cidade)||"",uf:((he=e.address)==null?void 0:he.uf)||"",ibge_code:e.ibge_code||((ie=e.address)==null?void 0:ie.ibge)||"",concessionaria:e.concessionaria||""}),z(e.id))},[e]),p.useEffect(()=>{O()},[e==null?void 0:e.id]);const z=async U=>{const{data:P}=await I.from("consumer_units").select("*").eq("usina_id",U);P&&T(P)},[$,H]=p.useState(!1),O=async()=>{if(!(e!=null&&e.id)&&!e){const{data:U}=await I.from("consumer_units").select("*").is("usina_id",null);C(U||[]);return}if(e!=null&&e.id){H(!0);try{const[U,P]=await Promise.all([I.from("consumer_units").select("*").eq("usina_id",e.id),I.from("consumer_units").select("*").is("usina_id",null)]),F=[...U.data||[],...P.data||[]],G=Array.from(new Map(F.map(q=>[q.id,q])).values());C(G)}catch(U){console.error("Error fetching UCs:",U)}finally{H(!1)}}},N=async()=>{const{data:U}=await I.from("suppliers").select("id, name").order("name");s(U||[])},D=async()=>{const{data:U}=await I.from("inverter_brands").select("name").order("name");u(U||[])},M=U=>U===""||U===void 0||U===null?"":typeof U=="number"?U.toLocaleString("pt-BR",{style:"currency",currency:"BRL"}):(Number(U.toString().replace(/\D/g,""))/100).toLocaleString("pt-BR",{style:"currency",currency:"BRL"}),L=U=>{const P=U.target.value.replace(/\D/g,"");if(!P){j({..._,valor_investido:""});return}const G=(Number(P)/100).toLocaleString("pt-BR",{style:"currency",currency:"BRL"});j({..._,valor_investido:G})},V=U=>{if(!U)return 0;const P=U.replace(/[^\d,]/g,"").replace(",",".");return Number(P)||0},K=U=>{j(P=>{const F=P.servicos_contratados||[];return F.includes(U)?{...P,servicos_contratados:F.filter(G=>G!==U)}:{...P,servicos_contratados:[...F,U]}})},Q=(U,P)=>{const F=P.replace(/\D/g,""),G=Number(F)/100;j(q=>({...q,service_values:{...q.service_values,[U]:G}}))},ee=async()=>{const U=_.cep.replace(/\D/g,"");if(U.length===8){m(!0);try{const P=await mn(U);if(j(F=>({...F,rua:P.rua||"",bairro:P.bairro||"",cidade:P.cidade||"",uf:P.uf||"",ibge_code:P.ibge||""})),P.ibge){const F=await Qc(P.ibge);F&&F.Concessionaria&&j(G=>({...G,concessionaria:F.Concessionaria}))}}catch(P){console.error("Erro CEP",P)}finally{m(!1)}}},re=p.useCallback(U=>{U&&j(P=>U!==Number(P.geracao_estimada_kwh)?{...P,geracao_estimada_kwh:U}:P)},[]),Se=async()=>{if(await i("Excluir esta usina?","Esta ao no pode ser desfeita.")){f(!0);try{const{error:P}=await I.from("usinas").delete().eq("id",e.id);if(P)throw P;n&&n(e.id),t()}catch(P){a("Erro ao excluir: "+P.message,"error")}finally{f(!1)}}},Re=async U=>{U.preventDefault(),f(!0);try{const P=V(_.valor_investido),F={supplier_id:_.supplier_id||null,name:_.name,concessionaria:_.concessionaria,status:_.status,modalidade:_.modalidade,valor_investido:P,potencia_kwp:Number(A),qtd_modulos:Number(_.qtd_modulos),potencia_modulos_w:Number(_.potencia_modulos_w),fabricante_inversor:_.fabricante_inversor,potencia_inversor_w:Number(_.potencia_inversor_w),geracao_estimada_kwh:Number(_.geracao_estimada_kwh),servicos_contratados:_.servicos_contratados,service_values:_.service_values,gestao_percentual:Number(_.gestao_percentual),ibge_code:_.ibge_code,address:{cep:_.cep,rua:_.rua,numero:_.numero,bairro:_.bairro,cidade:_.cidade,uf:_.uf,ibge:_.ibge_code}};let G=e==null?void 0:e.id,q=null;if(e!=null&&e.id){const{data:he,error:ie}=await I.from("usinas").update(F).eq("id",e.id).select().single();ie?q=ie:he&&(G=he.id)}else{const{data:he,error:ie}=await I.from("usinas").insert(F).select().single();ie?q=ie:he&&(G=he.id)}if(q)throw q;if(G&&(await I.from("consumer_units").update({usina_id:null}).eq("usina_id",G),E.length>0)){const he=E.map(ie=>ie.id);await I.from("consumer_units").update({usina_id:G}).in("id",he)}r({id:G}),t(),a("Usina salva com sucesso!","success")}catch(P){console.error("Save error:",P),a("Erro ao salvar usina: "+(P.message||JSON.stringify(P)),"error")}finally{f(!1)}};return l.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.6)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3,backdropFilter:"blur(4px)"},children:l.jsxs("div",{style:{background:"#f8fafc",borderRadius:"12px",width:"95%",maxWidth:"850px",maxHeight:"95vh",overflowY:"auto",boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.25)"},children:[l.jsxs("div",{style:{padding:"1.5rem",background:"white",borderBottom:"1px solid #e2e8f0",display:"flex",justifyContent:"space-between",alignItems:"center",borderTopLeftRadius:"12px",borderTopRightRadius:"12px"},children:[l.jsxs("div",{children:[l.jsx("h3",{style:{fontSize:"1.5rem",color:"#1e293b",fontWeight:"bold"},children:e?e.name||_.name:"Nova Usina"}),l.jsx("p",{style:{color:"#64748b",fontSize:"0.9rem",marginTop:"0.2rem"},children:"Configure os dados tcnicos e comerciais da usina"})]}),l.jsx("button",{onClick:t,style:{background:"none",border:"none",cursor:"pointer",color:"#94a3b8",padding:"0.5rem"},children:l.jsx(Xh,{size:24})})]}),l.jsxs("form",{onSubmit:Re,style:{padding:"1.5rem"},children:[l.jsx(jd,{title:"Identificao e Localizao",icon:v8,defaultOpen:!0,color:"#2563eb",children:l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:"1rem"},children:[l.jsxs("div",{style:{gridColumn:"1 / -1"},children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.4rem",color:"#475569",fontWeight:600},children:"Nome da Usina"}),l.jsx("input",{required:!0,value:_.name,onChange:U=>j({..._,name:U.target.value}),style:{width:"100%",padding:"0.7rem",border:"1px solid #cbd5e1",borderRadius:"6px"},placeholder:"Ex: Usina Solar Norte 01"})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.4rem",color:"#475569",fontWeight:600},children:"Fornecedor / Proprietrio"}),l.jsxs("select",{required:!0,value:_.supplier_id,onChange:U=>j({..._,supplier_id:U.target.value}),style:{width:"100%",padding:"0.7rem",border:"1px solid #cbd5e1",borderRadius:"6px",background:"white"},children:[l.jsx("option",{value:"",children:"Selecione..."}),o.map(U=>l.jsx("option",{value:U.id,children:U.name},U.id))]})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.4rem",color:"#475569",fontWeight:600},children:"CEP"}),l.jsxs("div",{style:{position:"relative"},children:[l.jsx("input",{value:_.cep,onChange:U=>j({..._,cep:U.target.value}),onBlur:ee,placeholder:"00000-000",style:{width:"100%",padding:"0.7rem",border:"1px solid #cbd5e1",borderRadius:"6px",background:h?"#f0f9ff":"white"}}),h&&l.jsx("span",{style:{position:"absolute",right:"10px",top:"12px",fontSize:"0.8rem",color:"#3b82f6"},children:"..."})]})]}),l.jsxs("div",{style:{gridColumn:"1 / -1",display:"grid",gridTemplateColumns:"2fr 1fr",gap:"1rem"},children:[l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.4rem",color:"#475569",fontWeight:600},children:"Cidade / UF"}),l.jsx("input",{value:_.cidade&&_.uf?`${_.cidade} / ${_.uf}`:"",disabled:!0,placeholder:"Preenchimento automtico",style:{width:"100%",padding:"0.7rem",border:"1px solid #cbd5e1",borderRadius:"6px",background:"#f1f5f9",color:"#64748b"}})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.4rem",color:"#475569",fontWeight:600},children:"Concessionria"}),l.jsx("input",{value:_.concessionaria,onChange:U=>j({..._,concessionaria:U.target.value}),placeholder:"Ex: Cemig",style:{width:"100%",padding:"0.7rem",border:"1px solid #cbd5e1",borderRadius:"6px"}})]})]})]})}),l.jsx(jd,{title:"Caractersticas Tcnicas",icon:Lk,defaultOpen:!0,color:"#ea580c",children:l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"1rem"},children:[l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.4rem",color:"#475569",fontWeight:600},children:"Status Operacional"}),l.jsx("select",{value:_.status,onChange:U=>j({..._,status:U.target.value}),style:{width:"100%",padding:"0.7rem",border:"1px solid #cbd5e1",borderRadius:"6px",background:"white"},children:v.map(U=>l.jsx("option",{value:U.value,children:U.label},U.value))})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.4rem",color:"#475569",fontWeight:600},children:"Modalidade"}),l.jsx("select",{value:_.modalidade,onChange:U=>j({..._,modalidade:U.target.value}),style:{width:"100%",padding:"0.7rem",border:"1px solid #cbd5e1",borderRadius:"6px",background:"white"},children:x.map(U=>l.jsx("option",{value:U.value,children:U.label},U.value))})]}),l.jsx("div",{style:{height:"1px",background:"#e2e8f0",margin:"0.5rem 0",gridColumn:"1 / -1"}}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.4rem",color:"#475569",fontWeight:600},children:"Qtd. Mdulos"}),l.jsx("input",{type:"number",value:_.qtd_modulos,onChange:U=>j({..._,qtd_modulos:U.target.value}),style:{width:"100%",padding:"0.7rem",border:"1px solid #cbd5e1",borderRadius:"6px"}})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.4rem",color:"#475569",fontWeight:600},children:"Potncia Mdulo (W)"}),l.jsxs("select",{value:_.potencia_modulos_w,onChange:U=>j({..._,potencia_modulos_w:U.target.value}),style:{width:"100%",padding:"0.7rem",border:"1px solid #cbd5e1",borderRadius:"6px",background:"white"},children:[l.jsx("option",{value:"",children:"Selecione..."}),g.map(U=>l.jsxs("option",{value:U,children:[U," W"]},U))]})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.4rem",color:"#475569",fontWeight:600},children:"Fabricante Inversor"}),l.jsxs("select",{value:_.fabricante_inversor,onChange:U=>j({..._,fabricante_inversor:U.target.value}),style:{width:"100%",padding:"0.7rem",border:"1px solid #cbd5e1",borderRadius:"6px",background:"white"},children:[l.jsx("option",{value:"",children:"Selecione..."}),c.map(U=>l.jsx("option",{value:U.name,children:U.name},U.name))]})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.4rem",color:"#475569",fontWeight:600},children:"Potncia Inversor (W)"}),l.jsxs("select",{value:_.potencia_inversor_w,onChange:U=>j({..._,potencia_inversor_w:U.target.value}),style:{width:"100%",padding:"0.7rem",border:"1px solid #cbd5e1",borderRadius:"6px",background:"white"},children:[l.jsx("option",{value:"",children:"Selecione..."}),w.map(U=>l.jsxs("option",{value:U,children:[U," W"]},U))]})]}),l.jsx("div",{style:{gridColumn:"1 / -1",marginTop:"0.5rem"},children:l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem",background:"#fff7ed",padding:"1rem",borderRadius:"8px",border:"1px solid #ffedd5"},children:[l.jsx("div",{style:{background:"#ea580c",color:"white",padding:"0.5rem",borderRadius:"50%"},children:l.jsx(Zh,{size:20})}),l.jsxs("div",{children:[l.jsx("div",{style:{fontSize:"0.8rem",color:"#ea580c",fontWeight:600,textTransform:"uppercase"},children:"Potncia Total do Sistema (Calculada)"}),l.jsxs("div",{style:{fontSize:"1.2rem",fontWeight:"bold",color:"#9a3412"},children:[A," kWp"]})]})]})})]})}),l.jsxs(jd,{title:"Gerao e Financeiro",icon:Yh,color:"#16a34a",children:[l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"1rem"},children:[l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.4rem",color:"#475569",fontWeight:600},children:"Valor Investido"}),l.jsx("input",{value:_.valor_investido,onChange:L,placeholder:"R$ 0,00",style:{width:"100%",padding:"0.7rem",border:"1px solid #cbd5e1",borderRadius:"6px"}})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.4rem",color:"#475569",fontWeight:600},children:"Gerao Estimada (Mdia Mensal)"}),l.jsx("input",{type:"number",value:_.geracao_estimada_kwh,onChange:U=>j({..._,geracao_estimada_kwh:U.target.value}),placeholder:"Use o grfico para calcular",style:{width:"100%",padding:"0.7rem",border:"1px solid #cbd5e1",borderRadius:"6px",background:"#f0fdf4"}})]}),l.jsxs("div",{style:{gridColumn:"1 / -1"},children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",marginBottom:"0.4rem",color:"#475569",fontWeight:600},children:"Servios Contratados"}),l.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(180px, 1fr))",gap:"0.8rem"},children:b.map(U=>{var F;const P=_.servicos_contratados.includes(U);return l.jsxs("div",{style:{border:P?"1px solid #16a34a":"1px solid #e2e8f0",borderRadius:"6px",padding:"0.5rem",background:P?"#f0fdf4":"white",transition:"0.2s"},children:[l.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem",cursor:"pointer",marginBottom:P?"0.5rem":"0"},children:[l.jsx("input",{type:"checkbox",checked:P,onChange:()=>K(U)}),l.jsx("span",{style:{fontSize:"0.9rem",fontWeight:P?600:400,color:P?"#166534":"#64748b"},children:U})]}),P&&l.jsx("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",animation:"fadeIn 0.2s"},children:l.jsx("input",{placeholder:"Valor (R$)",value:M((F=_.service_values)==null?void 0:F[U]),onChange:G=>Q(U,G.target.value),style:{width:"100%",padding:"0.3rem",border:"1px solid #bbf7d0",borderRadius:"4px",fontSize:"0.8rem"}})}),P&&U==="Gesto"&&l.jsxs("div",{style:{marginTop:"0.5rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:[l.jsx("input",{type:"number",step:"0.01",placeholder:"%",value:_.gestao_percentual,onChange:G=>j({..._,gestao_percentual:G.target.value}),style:{width:"100%",padding:"0.3rem",border:"1px solid #bbf7d0",borderRadius:"4px",fontSize:"0.8rem"}}),l.jsx("span",{style:{fontSize:"0.8rem",color:"#166534"},children:"%"})]})]},U)})})]})]}),l.jsxs("div",{style:{marginTop:"1.5rem",border:"1px solid #e2e8f0",borderRadius:"8px",padding:"1rem"},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",color:"#059669",fontWeight:600,marginBottom:"0.5rem"},children:[l.jsx(BI,{size:18}),l.jsx("span",{children:"Estimativa de Gerao (Irradincia)"})]}),l.jsx(rre,{ibgeCode:_.ibge_code,potenciaKwp:A,onCalculate:re})]})]}),l.jsx(jd,{title:"Vnculos com UCs",icon:cb,color:"#7c3aed",children:l.jsxs("div",{style:{background:"#f5f3ff",padding:"1rem",borderRadius:"8px",border:"1px solid #ede9fe"},children:[l.jsx("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0.8rem"},children:l.jsxs("div",{style:{fontSize:"0.9rem",color:"#5b21b6"},children:["Capacidade Comprometida: ",l.jsxs("strong",{children:[k.toFixed(2)," kWh"]}),_.geracao_estimada_kwh>0&&l.jsxs("span",{style:{marginLeft:"0.5rem",fontSize:"0.8rem",color:k>_.geracao_estimada_kwh?"#ef4444":"#166534"},children:["(",Math.round(k/_.geracao_estimada_kwh*100),"% da Gerao)"]})]})}),$?l.jsx("p",{style:{fontSize:"0.8rem",color:"#64748b",textAlign:"center",padding:"1rem"},children:"Carregando unidades disponveis..."}):S.length===0?l.jsx("p",{style:{fontSize:"0.8rem",color:"#64748b",textAlign:"center",padding:"1rem"},children:"Nenhuma UC disponvel encontrada."}):l.jsx("div",{style:{maxHeight:"250px",overflowY:"auto",display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(280px, 1fr))",gap:"0.8rem"},children:S.map(U=>{var F;const P=E.some(G=>G.id===U.id);return l.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"0.8rem",fontSize:"0.85rem",padding:"0.8rem",border:P?"1px solid #8b5cf6":"1px solid #ddd",borderRadius:"6px",background:P?"white":"rgba(255,255,255,0.6)",cursor:"pointer",transition:"0.2s",boxShadow:P?"0 2px 4px rgba(139, 92, 246, 0.1)":"none"},children:[l.jsx("input",{type:"checkbox",checked:P,onChange:G=>{G.target.checked?T([...E,U]):T(E.filter(q=>q.id!==U.id))},style:{transform:"scale(1.1)",accentColor:"#7c3aed"}}),l.jsxs("div",{style:{flex:1},children:[l.jsx("div",{style:{fontWeight:"bold",color:"#1e293b"},children:U.numero_uc}),l.jsx("div",{style:{fontSize:"0.75rem",color:"#64748b"},children:(F=U.titular_conta)==null?void 0:F.substring(0,20)})]}),l.jsxs("div",{style:{textAlign:"right"},children:[l.jsx("span",{style:{display:"block",fontSize:"0.65rem",color:"#94a3b8"},children:U.concessionaria}),l.jsx("div",{style:{fontSize:"0.8rem",color:"#059669",fontWeight:"bold"},children:U.franquia?`${Math.round(U.franquia)} kWh (Frq)`:U.consumo_medio_kwh?`${Math.round(U.consumo_medio_kwh)} kWh (Cons)`:"0 kWh"})]})]},U.id)})})]})}),l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:"2rem",paddingTop:"1.5rem",borderTop:"1px solid #e2e8f0"},children:[l.jsx("div",{children:e&&n&&l.jsxs("button",{type:"button",onClick:Se,style:{display:"flex",alignItems:"center",gap:"0.5rem",padding:"0.7rem 1.2rem",background:"#fee2e2",color:"#dc2626",borderRadius:"6px",border:"1px solid #fecaca",fontWeight:600,cursor:"pointer"},children:[l.jsx(tu,{size:18})," Excluir Usina"]})}),l.jsxs("div",{style:{display:"flex",gap:"1rem"},children:[l.jsx("button",{type:"button",onClick:t,style:{padding:"0.8rem 1.5rem",background:"white",border:"1px solid #cbd5e1",borderRadius:"6px",cursor:"pointer",color:"#475569",fontWeight:600},children:"Cancelar"}),l.jsx("button",{type:"submit",disabled:d,style:{display:"flex",alignItems:"center",gap:"0.5rem",padding:"0.8rem 2rem",background:"var(--color-blue)",color:"white",borderRadius:"6px",border:"none",cursor:"pointer",fontWeight:"bold",boxShadow:"0 4px 6px -1px rgba(37, 99, 235, 0.2)"},children:d?"Salvando...":l.jsxs(l.Fragment,{children:[l.jsx(sb,{size:18})," Salvar Usina"]})})]})]})]})]})})}function are({usina:e,closingId:t,onClose:r,onSave:n}){const{showAlert:a}=Gr(),[i,o]=p.useState(!1),s=["Janeiro","Fevereiro","Maro","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],c=new Date().getFullYear(),u=[c-1,c,c+1],[d,f]=p.useState({ref_month:s[new Date().getMonth()],ref_year:c,closing_date:new Date().toISOString().split("T")[0],status:"rascunho",energia_gerada:"",energia_compensada:"",faturamento_mensal:"",faturas_pagas_base:"",custo_disponibilidade:"",manutencao:"",arrendamento:"",servicos_total:"",taxa_gestao_percentual:"",taxa_gestao_valor:"",total_despesas:"",saldo_liquido:""}),h=j=>!j&&j!==0?"":Number(j).toLocaleString("pt-BR",{style:"currency",currency:"BRL"}),m=j=>j?typeof j=="number"?j:Number(j.replace(/[^\d,]/g,"").replace(",","."))||0:0;p.useEffect(()=>{if(t)v();else if(e){const j=e.service_values||{},S=j.Internet||0,C=j.Segurana||0,E=j.gua||0,T=S+C+E;f(A=>({...A,custo_disponibilidade:j.Energia||0,manutencao:j.Manuteno||0,arrendamento:j.Arrendamento||0,servicos_total:T,taxa_gestao_percentual:e.gestao_percentual||0}))}},[e,t]),p.useEffect(()=>{!t&&e&&x()},[d.ref_month,d.ref_year]),p.useEffect(()=>{b()},[d.faturas_pagas_base,d.taxa_gestao_percentual,d.custo_disponibilidade,d.manutencao,d.arrendamento,d.servicos_total]);const v=async()=>{o(!0);const{data:j,error:S}=await I.from("plant_closings").select("*").eq("id",t).single();j&&f(j),o(!1)},x=async()=>{const{data:j}=await I.from("consumer_units").select("id").eq("usina_id",e.id),S=(j==null?void 0:j.map(E=>E.id))||[];if(S.length===0)return;`${d.ref_month}${d.ref_year}`;const{data:C}=await I.from("invoices").select("consumo_kwh, valor_total, status, economia_reais, consumo_reais").in("uc_id",S).ilike("mes_referencia",`%${d.ref_month}%`).eq("ano_referencia",d.ref_year);if(C){const E=C.reduce((k,z)=>k+(Number(z.consumo_kwh)||0),0),A=C.filter(k=>k.status==="paga").reduce((k,z)=>k+(Number(z.valor_total)||0),0),R=C.reduce((k,z)=>k+(Number(z.valor_total)||0),0);f(k=>({...k,energia_compensada:E,faturamento_mensal:R,faturas_pagas_base:A}))}},b=()=>{const j=m(d.faturas_pagas_base),S=Number(d.taxa_gestao_percentual)||0,C=j*(S/100),E=m(d.custo_disponibilidade),T=m(d.manutencao),A=m(d.arrendamento),R=m(d.servicos_total),k=E+T+A+R,z=j-(C+k);f($=>({...$,taxa_gestao_valor:C,total_despesas:k,saldo_liquido:z}))},y=(j,S)=>{f(C=>({...C,[j]:S}))},g=(j,S)=>{const C=Number(S.replace(/\D/g,""))/100;f(E=>({...E,[j]:C}))},w=async()=>{if(!e.pix_key){a("Usina sem chave PIX cadastrada!","error");return}if(confirm("Confirma o repasse de "+h(d.saldo_liquido)+" para a usina? Essa ao  irreversvel.")){o(!0);try{const{data:j,error:S}=await I.functions.invoke("transfer-asaas-pix",{body:{amount:d.saldo_liquido,pixKey:e.pix_key,pixKeyType:e.pix_key_type||"CPF",description:`Repasse Mensal Usina ${e.name} - ${d.ref_month}/${d.ref_year}`,usinaId:e.id}});if(S)throw new Error(S.message||"Erro na comunicao com Asaas");if(j!=null&&j.error)throw new Error(j.error);await I.from("plant_closings").update({status:"liquidado"}).eq("id",t);const C=`${d.ref_month}/${d.ref_year}`,{data:E}=await I.from("consumer_units").select("id").eq("usina_id",e.id),T=(E==null?void 0:E.map(k=>k.id))||[];T.length>0&&await I.from("invoices").update({status:"liquidado"}).in("uc_id",T).ilike("mes_referencia",`%${d.ref_month}%`).eq("ano_referencia",d.ref_year).eq("status","paga");const R=[{cat:"manutencao",val:d.manutencao,desc:"Manuteno"},{cat:"arrendamento",val:d.arrendamento,desc:"Arrendamento"},{cat:"taxa_gestao",val:d.taxa_gestao_valor,desc:"Taxa de Gesto"},{cat:"servicos",val:d.servicos_total,desc:"Servios Gerais"}].filter(k=>Number(k.val)>0).map(k=>({usina_id:e.id,type:"saida",category:k.cat,amount:Number(k.val),description:`${k.desc} - Ref. ${d.ref_month}/${d.ref_year}`,origin_id:t,origin_type:"plant_closing",status:"liquidado",transaction_date:new Date().toISOString()}));R.length>0&&await I.from("cashbook").insert(R),T.length>0&&await I.from("cashbook").update({status:"liquidado"}).eq("usina_id",e.id).eq("type","entrada").eq("status","provisionado").textSearch("description",`${d.ref_month} ${d.ref_year}`),a("Pagamento realizado e despesas liquidadas!","success"),n(),r()}catch(j){console.error(j),a("Erro no processamento: "+j.message,"error")}finally{o(!1)}}},_=async j=>{j.preventDefault(),o(!0);const S={usina_id:e.id,...d,taxa_gestao_valor:Number(d.taxa_gestao_valor),total_despesas:Number(d.total_despesas),saldo_liquido:Number(d.saldo_liquido)};delete S.created_at;let C;t?C=await I.from("plant_closings").update(S).eq("id",t):C=await I.from("plant_closings").insert(S),o(!1),C.error?a("Erro ao salvar: "+C.error.message,"error"):(a("Fechamento salvo com sucesso!","success"),n(),r())};return l.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1100},children:l.jsxs("div",{style:{background:"#f8fafc",borderRadius:"12px",width:"95%",maxWidth:"900px",maxHeight:"95vh",overflowY:"auto",boxShadow:"0 20px 25px -5px rgba(0, 0, 0, 0.1)"},children:[l.jsxs("div",{style:{padding:"1.5rem",background:"white",borderBottom:"1px solid #e2e8f0",display:"flex",justifyContent:"space-between",alignItems:"center",borderTopLeftRadius:"12px",borderTopRightRadius:"12px"},children:[l.jsxs("div",{children:[l.jsx("h3",{style:{fontSize:"1.25rem",fontWeight:"bold",color:"#1e293b"},children:"Novo Fechamento"}),l.jsxs("p",{style:{fontSize:"0.9rem",color:"#64748b"},children:["Usina: ",e.name]})]}),l.jsx("button",{onClick:r,children:l.jsx(Xh,{size:24,color:"#94a3b8"})})]}),l.jsxs("form",{onSubmit:_,style:{padding:"2rem",display:"grid",gap:"2rem"},children:[l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(150px, 1fr))",gap:"1rem",background:"white",padding:"1.5rem",borderRadius:"8px",border:"1px solid #e2e8f0"},children:[l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.85rem",fontWeight:600,color:"#475569",marginBottom:"0.5rem"},children:"Ms Ref."}),l.jsx("select",{value:d.ref_month,onChange:j=>y("ref_month",j.target.value),style:{width:"100%",padding:"0.6rem",borderRadius:"6px",border:"1px solid #cbd5e1"},children:s.map(j=>l.jsx("option",{value:j,children:j},j))})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.85rem",fontWeight:600,color:"#475569",marginBottom:"0.5rem"},children:"Ano"}),l.jsx("select",{value:d.ref_year,onChange:j=>y("ref_year",j.target.value),style:{width:"100%",padding:"0.6rem",borderRadius:"6px",border:"1px solid #cbd5e1"},children:u.map(j=>l.jsx("option",{value:j,children:j},j))})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.85rem",fontWeight:600,color:"#475569",marginBottom:"0.5rem"},children:"Data Fechamento"}),l.jsx("input",{type:"date",value:d.closing_date,onChange:j=>y("closing_date",j.target.value),style:{width:"100%",padding:"0.6rem",borderRadius:"6px",border:"1px solid #cbd5e1"}})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.85rem",fontWeight:600,color:"#475569",marginBottom:"0.5rem"},children:"Status"}),l.jsxs("select",{value:d.status,onChange:j=>y("status",j.target.value),style:{width:"100%",padding:"0.6rem",borderRadius:"6px",border:"1px solid #cbd5e1",fontWeight:"bold",color:d.status==="fechado"?"#166534":"#ea580c"},children:[l.jsx("option",{value:"rascunho",children:"EM PRODUO"}),l.jsx("option",{value:"fechado",children:"FECHADO"})]})]}),l.jsx("div",{style:{display:"flex",alignItems:"end"},children:l.jsx("button",{type:"button",onClick:x,style:{width:"100%",padding:"0.6rem",background:"#3b82f6",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontWeight:600},children:"Buscar Faturas"})})]}),l.jsxs("div",{children:[l.jsxs("h4",{style:{color:"#334155",fontWeight:"bold",borderBottom:"1px solid #e2e8f0",paddingBottom:"0.5rem",marginBottom:"1rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:[l.jsx(MI,{size:18})," Produo e Receita"]}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1.5rem",marginBottom:"1.5rem"},children:[l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.85rem",color:"#64748b",marginBottom:"0.4rem"},children:"Gerao Mensal (kWh)"}),l.jsx("input",{type:"number",value:d.energia_gerada,onChange:j=>y("energia_gerada",j.target.value),style:{width:"100%",padding:"0.6rem",borderRadius:"6px",border:"1px solid #cbd5e1"}})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.85rem",color:"#64748b",marginBottom:"0.4rem"},children:"Energia Compensada (kWh) - Soma Faturas"}),l.jsx("input",{type:"number",value:d.energia_compensada,disabled:!0,style:{width:"100%",padding:"0.6rem",borderRadius:"6px",border:"1px solid #cbd5e1",background:"#f1f5f9"}})]})]}),l.jsxs("div",{style:{background:"#f0fdf4",padding:"1.5rem",borderRadius:"8px",border:"1px solid #bbf7d0"},children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",fontWeight:"bold",color:"#166534",marginBottom:"0.5rem"},children:"Faturas Pagas (Base de Clculo) - R$"}),l.jsx("input",{value:h(d.faturas_pagas_base),onChange:j=>g("faturas_pagas_base",j.target.value),style:{width:"100%",fontSize:"1.5rem",fontWeight:"bold",color:"#166534",padding:"0.5rem",background:"transparent",border:"none",outline:"none",borderBottom:"2px solid #16a34a"}}),l.jsx("p",{style:{fontSize:"0.8rem",color:"#15803d",marginTop:"0.5rem"},children:"Valor efetivamente recebido dos assinantes."})]})]}),l.jsxs("div",{style:{border:"1px solid #fb923c",borderRadius:"8px",padding:"1.5rem",background:"#fff7ed",position:"relative"},children:[l.jsxs("div",{style:{position:"absolute",top:"-12px",left:"20px",background:"#fff7ed",padding:"0 10px",color:"#c2410c",fontWeight:"bold",display:"flex",alignItems:"center",gap:"0.5rem"},children:[l.jsx(fi,{size:18})," Despesas Operacionais"]}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1.5rem",marginTop:"0.5rem"},children:[l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.85rem",color:"#9a3412",marginBottom:"0.4rem"},children:"Custo Disp. (R$)"}),l.jsx("input",{value:h(d.custo_disponibilidade),onChange:j=>g("custo_disponibilidade",j.target.value),style:{width:"100%",padding:"0.6rem",borderRadius:"6px",border:"1px solid #fed7aa",background:"white"}})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.85rem",color:"#9a3412",marginBottom:"0.4rem"},children:"Manuteno (R$)"}),l.jsx("input",{value:h(d.manutencao),onChange:j=>g("manutencao",j.target.value),style:{width:"100%",padding:"0.6rem",borderRadius:"6px",border:"1px solid #fed7aa",background:"white"}})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.85rem",color:"#9a3412",marginBottom:"0.4rem"},children:"Arrendamento (R$)"}),l.jsx("input",{value:h(d.arrendamento),onChange:j=>g("arrendamento",j.target.value),style:{width:"100%",padding:"0.6rem",borderRadius:"6px",border:"1px solid #fed7aa",background:"white"}})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.85rem",color:"#9a3412",marginBottom:"0.4rem"},children:"Servios (Net/Seg/gua) (R$)"}),l.jsx("input",{value:h(d.servicos_total),onChange:j=>g("servicos_total",j.target.value),style:{width:"100%",padding:"0.6rem",borderRadius:"6px",border:"1px solid #fed7aa",background:"white"}})]})]})]}),l.jsx("div",{style:{background:"#fefce8",borderRadius:"8px",padding:"1.5rem",border:"1px solid #fde047"},children:l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1.5rem"},children:[l.jsxs("div",{style:{display:"flex",gap:"1rem",alignItems:"end"},children:[l.jsxs("div",{style:{flex:1},children:[l.jsx("label",{style:{display:"block",fontSize:"0.85rem",color:"#854d0e",marginBottom:"0.4rem"},children:"Taxa de Gesto (%)"}),l.jsx("input",{type:"number",step:"0.1",value:d.taxa_gestao_percentual,onChange:j=>y("taxa_gestao_percentual",j.target.value),style:{width:"100%",padding:"0.6rem",borderRadius:"6px",border:"1px solid #fde047",background:"white"}})]}),l.jsxs("div",{style:{flex:1},children:[l.jsx("label",{style:{display:"block",fontSize:"0.85rem",color:"#854d0e",marginBottom:"0.4rem"},children:"Valor (R$)"}),l.jsx("input",{value:h(d.taxa_gestao_valor),disabled:!0,style:{width:"100%",padding:"0.6rem",borderRadius:"6px",border:"1px solid #fde047",background:"#fffbeb",fontWeight:"bold"}})]})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.85rem",color:"#854d0e",marginBottom:"0.4rem"},children:"Total Despesas Operacionais"}),l.jsx("input",{value:h(d.total_despesas),disabled:!0,style:{width:"100%",padding:"0.6rem",borderRadius:"6px",border:"1px solid #fde047",background:"#fffbeb",fontWeight:"bold"}})]})]})}),"/* ... existing render logic ... */",l.jsxs("div",{style:{background:"#eff6ff",borderRadius:"8px",padding:"2rem",textAlign:"center",border:"1px solid #bfdbfe"},children:[l.jsx("h3",{style:{color:"#1e40af",marginBottom:"0.5rem"},children:"Saldo Lquido a Receber"}),l.jsx("p",{style:{color:"#3b82f6",fontSize:"0.9rem",marginBottom:"1rem"},children:"Faturas Pagas - (Taxa Gesto + Total Despesas)"}),l.jsx("div",{style:{fontSize:"2.5rem",fontWeight:"900",color:d.saldo_liquido<0?"#ef4444":"#1e40af"},children:h(d.saldo_liquido)}),d.saldo_liquido>0&&d.status!=="liquidado"&&l.jsxs("button",{type:"button",onClick:w,disabled:i||d.status==="liquidado",style:{marginTop:"1.5rem",background:"#16a34a",color:"white",padding:"0.8rem 2rem",borderRadius:"6px",border:"none",fontWeight:"bold",cursor:"pointer",display:"inline-flex",alignItems:"center",gap:"0.5rem",boxShadow:"0 4px 6px -1px rgba(22, 163, 74, 0.3)"},children:[l.jsx(Yh,{size:20})," Pagar e Liquidar via Pix"]}),d.status==="liquidado"&&l.jsxs("div",{style:{marginTop:"1rem",color:"#166534",fontWeight:"bold",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem"},children:[l.jsx("div",{style:{width:10,height:10,borderRadius:"50%",background:"#166534"}}),"Repasse Realizado"]})]}),l.jsxs("div",{style:{display:"flex",justifyContent:"flex-end",gap:"1rem",marginTop:"1rem"},children:[l.jsx("button",{type:"button",onClick:r,style:{padding:"0.8rem 1.5rem",background:"white",border:"1px solid #cbd5e1",borderRadius:"6px",cursor:"pointer",color:"#475569",fontWeight:600},children:"Cancelar"}),l.jsx("button",{type:"submit",disabled:i,style:{display:"flex",alignItems:"center",gap:"0.5rem",padding:"0.8rem 2rem",background:"var(--color-blue)",color:"white",borderRadius:"6px",border:"none",cursor:"pointer",fontWeight:"bold",boxShadow:"0 4px 6px -1px rgba(37, 99, 235, 0.2)"},children:i?"Salvando...":l.jsxs(l.Fragment,{children:[l.jsx(sb,{size:18})," Salvar Fechamento"]})})]})]})]})})}function ire({usina:e,onClose:t}){const{showAlert:r}=Gr(),[n,a]=p.useState([]),[i,o]=p.useState(!0),[s,c]=p.useState(null),[u,d]=p.useState(!1);p.useEffect(()=>{e&&f()},[e]);const f=async()=>{o(!0);const{data:b,error:y}=await I.from("plant_closings").select("*").eq("usina_id",e.id).order("created_at",{ascending:!1});y?console.error("Error fetching closings",y):a(b||[]),o(!1)},h=b=>{c(b),d(!0)},m=()=>{c(null),d(!0)},v=()=>{f()},x=b=>Number(b||0).toLocaleString("pt-BR",{style:"currency",currency:"BRL"});return l.jsxs("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1050},children:[u&&l.jsx(are,{usina:e,closingId:s,onClose:()=>d(!1),onSave:v}),l.jsxs("div",{style:{background:"white",borderRadius:"12px",width:"90%",maxWidth:"800px",maxHeight:"85vh",overflow:"hidden",display:"flex",flexDirection:"column",boxShadow:"0 20px 25px -5px rgba(0, 0, 0, 0.1)"},children:[l.jsxs("div",{style:{padding:"1.5rem",borderBottom:"1px solid #e2e8f0",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[l.jsxs("div",{children:[l.jsx("h3",{style:{fontSize:"1.25rem",fontWeight:"bold",color:"#1e293b"},children:"Fechamentos Mensais"}),l.jsxs("p",{style:{fontSize:"0.9rem",color:"#64748b"},children:["Histrico financeiro da usina ",e.name]})]}),l.jsx("button",{onClick:t,children:l.jsx(Xh,{size:24,color:"#94a3b8"})})]}),l.jsx("div",{style:{padding:"1rem 1.5rem",background:"#f8fafc",borderBottom:"1px solid #e2e8f0",display:"flex",justifyContent:"flex-end"},children:l.jsxs("button",{onClick:m,style:{display:"flex",alignItems:"center",gap:"0.5rem",background:"var(--color-blue)",color:"white",padding:"0.6rem 1.2rem",borderRadius:"6px",border:"none",fontWeight:600,cursor:"pointer"},children:[l.jsx(Vs,{size:18})," Novo Fechamento"]})}),l.jsx("div",{style:{padding:"1.5rem",overflowY:"auto",flex:1,background:"#f1f5f9"},children:i?l.jsx("p",{children:"Carregando..."}):n.length===0?l.jsxs("div",{style:{textAlign:"center",padding:"3rem",color:"#94a3b8",background:"white",borderRadius:"8px",border:"1px dashed #cbd5e1"},children:[l.jsx(fi,{size:48,style:{opacity:.2,marginBottom:"1rem"}}),l.jsx("p",{children:"Nenhum fechamento registrado para esta usina."})]}):l.jsx("div",{style:{display:"grid",gap:"1rem"},children:n.map(b=>l.jsxs("div",{style:{background:"white",padding:"1rem",borderRadius:"8px",border:"1px solid #e2e8f0",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[l.jsxs("div",{style:{display:"flex",gap:"1.5rem",alignItems:"center"},children:[l.jsxs("div",{style:{background:"#eff6ff",padding:"0.8rem",borderRadius:"8px",textAlign:"center",minWidth:"80px"},children:[l.jsx("div",{style:{fontSize:"0.8rem",color:"#64748b",textTransform:"uppercase"},children:"Ms/Ano"}),l.jsxs("div",{style:{fontWeight:"bold",color:"#1e40af"},children:[b.ref_month,"/",b.ref_year]})]}),l.jsxs("div",{children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"0.3rem"},children:[l.jsx("span",{style:{fontSize:"0.7rem",textTransform:"uppercase",fontWeight:"bold",padding:"0.2rem 0.5rem",borderRadius:"99px",background:b.status==="fechado"?"#dcfce7":"#ffedd5",color:b.status==="fechado"?"#166534":"#9a3412"},children:b.status}),l.jsxs("span",{style:{fontSize:"0.8rem",color:"#94a3b8"},children:["Criado em ",new Date(b.created_at).toLocaleDateString()]})]}),l.jsxs("div",{style:{fontSize:"0.9rem",color:"#475569"},children:["Faturas: ",l.jsx("strong",{children:x(b.faturas_pagas_base)})," | Despesas: ",l.jsx("strong",{children:x(b.total_despesas)})]})]})]}),l.jsxs("div",{style:{textAlign:"right"},children:[l.jsx("div",{style:{fontSize:"0.8rem",color:"#64748b"},children:"Saldo Lquido"}),l.jsx("div",{style:{fontSize:"1.2rem",fontWeight:"bold",color:b.saldo_liquido<0?"#ef4444":"#166534"},children:x(b.saldo_liquido)}),l.jsx("button",{onClick:()=>h(b.id),style:{marginTop:"0.5rem",background:"none",border:"none",color:"#3b82f6",fontSize:"0.85rem",cursor:"pointer",textDecoration:"underline"},children:"Ver Detalhes"})]})]},b.id))})})]})]})}const ec=[{status:"em_conexao",label:"Em Conexo",color:"#9a3412",bg:"#ffedd5"},{status:"gerando",label:"Gerando",color:"#166534",bg:"#dcfce7"},{status:"manutencao",label:"Manuteno",color:"#991b1b",bg:"#fee2e2"},{status:"inativa",label:"Inativa",color:"#64748b",bg:"#f1f5f9"},{status:"cancelada",label:"Cancelada",color:"#94a3b8",bg:"#f1f5f9"}];function HM({plant:e,onClick:t,onClosingsClick:r,isOverlay:n}){var h,m,v,x;const{attributes:a,listeners:i,setNodeRef:o,transform:s,transition:c,isDragging:u}=Sb({id:e.id,disabled:!!n}),d=ec.find(b=>b.status===e.status)||ec[0],f={transform:An.Transform.toString(s),transition:c,opacity:u?.3:1,background:"white",padding:"1rem",borderRadius:"var(--radius-sm)",boxShadow:n?"var(--shadow-lg)":"var(--shadow-sm)",cursor:n?"grabbing":"grab",border:"1px solid transparent",zIndex:u?1e3:1,position:"relative",overflow:"hidden",width:n?"300px":"auto"};return l.jsxs("div",{ref:o,style:f,...n?{}:a,...n?{}:i,onClick:()=>!n&&t(e),children:[l.jsx("div",{style:{display:"inline-block",padding:"0.2rem 0.6rem",borderRadius:"4px",fontSize:"0.7rem",fontWeight:"bold",textTransform:"uppercase",background:d.bg,color:d.color,marginBottom:"0.5rem"},children:(h=e.status)==null?void 0:h.replace("_"," ")}),l.jsx("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"0.5rem",alignItems:"flex-start"},children:l.jsx("span",{style:{fontWeight:"bold",fontSize:"1rem",color:"var(--color-text-dark)",lineHeight:"1.2"},children:e.name})}),l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"0.5rem",flexWrap:"wrap"},children:[l.jsx("span",{style:{fontSize:"0.75rem",color:"var(--color-blue)",background:"#eff6ff",padding:"0.1rem 0.4rem",borderRadius:"4px"},children:e.concessionaria||"Sem conc."}),l.jsx("span",{style:{fontSize:"0.75rem",color:"#666",background:"#f3f4f6",padding:"0.1rem 0.4rem",borderRadius:"4px"},children:((m=e.supplier)==null?void 0:m.name)||"Sem Fornecedor"})]}),l.jsxs("div",{style:{display:"flex",gap:"0.5rem",marginTop:"0.8rem",marginBottom:"0.5rem"},children:[l.jsxs("div",{style:{background:"var(--color-bg-light)",padding:"0.3rem 0.5rem",borderRadius:"4px",fontSize:"0.75rem",flex:1},children:[l.jsx("div",{style:{color:"var(--color-text-light)",fontSize:"0.65rem"},children:"Potncia"}),l.jsxs("div",{style:{fontWeight:"bold"},children:[e.potencia_kwp," kWp"]})]}),l.jsxs("div",{style:{background:"var(--color-bg-light)",padding:"0.3rem 0.5rem",borderRadius:"4px",fontSize:"0.75rem",flex:1},children:[l.jsx("div",{style:{color:"var(--color-text-light)",fontSize:"0.65rem"},children:"Gerao Est."}),l.jsxs("div",{style:{fontWeight:"bold",color:"var(--color-success)"},children:[e.geracao_estimada_kwh," kWh"]})]})]}),l.jsxs("div",{style:{fontSize:"0.8rem",color:"var(--color-text-light)",display:"flex",justifyContent:"space-between",marginTop:"0.5rem"},children:[l.jsxs("span",{children:[(v=e.address)==null?void 0:v.cidade,"/",(x=e.address)==null?void 0:x.uf]}),l.jsxs("button",{onClick:b=>{b.stopPropagation(),r(e)},style:{background:"none",border:"none",color:"#3b82f6",fontSize:"0.8rem",cursor:"pointer",display:"flex",alignItems:"center",gap:"0.2rem"},children:[l.jsx(fi,{size:14})," Fechamentos"]})]})]})}function ore({status:e,label:t,color:r,bg:n,plants:a,onCardClick:i,onClosingsClick:o}){const{setNodeRef:s,isOver:c}=nm({id:e});return l.jsxs("div",{ref:s,style:{minWidth:"300px",flex:1,background:c?"#e2e8f0":"var(--color-bg-light)",borderRadius:"var(--radius-md)",padding:"0.5rem",borderTop:`4px solid ${r}`,boxShadow:"var(--shadow-sm)",transition:"background 0.2s ease"},children:[l.jsxs("h4",{style:{padding:"0.8rem",borderBottom:"1px solid var(--color-border)",background:"white",borderRadius:"var(--radius-sm)",display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0.5rem",color:r},children:[l.jsx("span",{style:{textTransform:"uppercase",fontSize:"0.85rem",fontWeight:"bold"},children:t}),l.jsx("span",{style:{fontSize:"0.8rem",background:r,color:"white",padding:"0.1rem 0.5rem",borderRadius:"99px"},children:a.length})]}),l.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem",minHeight:"100px"},children:l.jsx(jb,{items:a.map(u=>u.id),strategy:_b,children:a.map(u=>l.jsx(HM,{plant:u,onClick:i,onClosingsClick:o},u.id))})})]})}function sre(){const[e,t]=p.useState([]),[r,n]=p.useState(!0),[a,i]=p.useState(!1),[o,s]=p.useState(null),[c,u]=p.useState(!1),[d,f]=p.useState(null),[h,m]=p.useState(""),[v,x]=p.useState("kanban"),[b,y]=p.useState(null),g=mb(hb(su,{activationConstraint:{distance:8}})),w=e.filter(A=>{var k,z,$,H,O,N,D;if(!h)return!0;const R=h.toLowerCase();return((k=A.name)==null?void 0:k.toLowerCase().includes(R))||((z=A.concessionaria)==null?void 0:z.toLowerCase().includes(R))||((H=($=A.supplier)==null?void 0:$.name)==null?void 0:H.toLowerCase().includes(R))||((O=A.status)==null?void 0:O.toLowerCase().includes(R))||((D=(N=A.address)==null?void 0:N.cidade)==null?void 0:D.toLowerCase().includes(R))});p.useEffect(()=>{_()},[]);const _=async()=>{n(!0);try{const{data:A,error:R}=await I.from("usinas").select(`
                    *,
                    supplier:supplier_id (name)
                `).order("created_at",{ascending:!1});if(R)throw R;t(A||[])}catch(A){console.error("Erro usinas",A)}finally{n(!1)}},j=()=>{_(),i(!1)},S=A=>{t(e.filter(R=>R.id!==A)),i(!1)},C=A=>{y(A.active.id)},E=async A=>{const{active:R,over:k}=A;if(y(null),!k)return;const z=R.id,$=k.id;let H=$;if(!ec.some(D=>D.status===$)){const D=e.find(M=>M.id===$);H=D==null?void 0:D.status}if(!H)return;const N=e.find(D=>D.id===z);if(N&&N.status!==H){t(D=>D.map(M=>M.id===z?{...M,status:H}:M));try{const{error:D}=await I.from("usinas").update({status:H}).eq("id",z);if(D)throw D}catch(D){console.error("Error updating status:",D),_()}}},T=A=>{const R=ec.find(k=>k.status===A)||{bg:"#f1f5f9",color:"#64748b"};return{bg:R.bg,color:R.color}};return l.jsxs("div",{children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"2rem"},children:[l.jsx("h2",{children:"Usinas Geradoras"}),l.jsx("button",{onClick:()=>{s(null),i(!0)},className:"btn btn-primary",children:"+ Nova Usina"})]}),l.jsx("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.5rem",flexWrap:"wrap",gap:"1rem"},children:l.jsxs("div",{style:{display:"flex",gap:"1rem",flex:1,alignItems:"center"},children:[l.jsx("input",{placeholder:"Buscar por Nome, Fornecedor, Concessionria ou Status...",value:h,onChange:A=>m(A.target.value),className:"input",style:{maxWidth:"400px"}}),l.jsxs("div",{className:"btn-group",style:{display:"flex",border:"1px solid var(--color-border)",borderRadius:"var(--radius-sm)",overflow:"hidden"},children:[l.jsx("button",{onClick:()=>x("list"),className:`btn ${v==="list"?"btn-primary":"btn-secondary"}`,style:{borderRadius:0,border:"none"},children:"Lista"}),l.jsx("button",{onClick:()=>x("kanban"),className:`btn ${v==="kanban"?"btn-primary":"btn-secondary"}`,style:{borderRadius:0,border:"none"},children:"Kanban"})]})]})}),r?l.jsx("p",{children:"Carregando..."}):l.jsx(l.Fragment,{children:v==="list"?l.jsx("div",{className:"card",style:{padding:0,overflow:"hidden"},children:l.jsx("div",{className:"table-container",children:w.length===0?l.jsx("p",{style:{padding:"2rem",textAlign:"center",color:"var(--color-text-light)"},children:"Nenhuma usina cadastrada."}):l.jsxs("table",{className:"table",children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{children:"Nome / Concessionria"}),l.jsx("th",{children:"Fornecedor"}),l.jsx("th",{children:"Cidade"}),l.jsx("th",{children:"Gerao / Potncia"}),l.jsx("th",{children:"Status"}),l.jsx("th",{children:"Aes"})]})}),l.jsx("tbody",{children:w.map(A=>{var k,z,$,H;const R=T(A.status);return l.jsxs("tr",{children:[l.jsxs("td",{style:{fontWeight:"bold"},children:[l.jsx("div",{children:A.name}),l.jsx("div",{style:{fontSize:"0.85rem",color:"var(--color-blue)",fontWeight:"normal",marginTop:"4px"},children:A.concessionaria||"-"})]}),l.jsx("td",{children:((k=A.supplier)==null?void 0:k.name)||"-"}),l.jsxs("td",{children:[(z=A.address)==null?void 0:z.cidade,"/",($=A.address)==null?void 0:$.uf]}),l.jsxs("td",{children:[l.jsx("div",{style:{fontWeight:"bold",color:"var(--color-success)",fontSize:"1.05rem"},children:A.geracao_estimada_kwh?`${A.geracao_estimada_kwh} kWh/ms`:"-"}),l.jsxs("div",{style:{fontSize:"0.8rem",color:"var(--color-text-medium)"},children:["Potncia: ",A.potencia_kwp," kWp"]})]}),l.jsx("td",{children:l.jsx("span",{style:{padding:"0.3rem 0.8rem",borderRadius:"99px",fontSize:"0.75rem",fontWeight:"bold",background:R.bg,color:R.color,textTransform:"uppercase"},children:(H=A.status)==null?void 0:H.replace("_"," ")})}),l.jsxs("td",{children:[l.jsx("button",{onClick:()=>{s(A),i(!0)},className:"btn btn-secondary",style:{padding:"0.3rem 0.6rem",fontSize:"0.8rem",marginRight:"0.5rem"},children:"Editar"}),l.jsx("button",{onClick:()=>{f(A),u(!0)},className:"btn btn-secondary",style:{padding:"0.3rem 0.6rem",fontSize:"0.8rem",background:"#e0f2fe",color:"#0369a1",border:"1px solid #bae6fd"},children:l.jsx(fi,{size:14})})]})]},A.id)})})]})})}):l.jsxs(xb,{sensors:g,collisionDetection:pb,onDragStart:C,onDragEnd:E,onDragCancel:()=>y(null),children:[l.jsx("div",{style:{display:"flex",gap:"1rem",overflowX:"auto",paddingBottom:"1rem"},children:ec.map(({status:A,label:R,color:k,bg:z})=>{const $=w.filter(H=>H.status===A);return l.jsx(ore,{status:A,label:R,color:k,bg:z,plants:$,onCardClick:H=>{s(H),i(!0)},onClosingsClick:H=>{f(H),u(!0)}},A)})}),l.jsx(wb,{adjustScale:!0,children:b?l.jsx(HM,{plant:e.find(A=>A.id===b),isOverlay:!0}):null})]})}),a&&l.jsx(nre,{usina:o,onClose:()=>i(!1),onSave:j,onDelete:S}),c&&l.jsx(ire,{usina:d,onClose:()=>u(!1)})]})}function lre(){const{showAlert:e,showConfirm:t}=Gr(),[r,n]=p.useState([]),[a,i]=p.useState([]),[o,s]=p.useState(!0),[c,u]=p.useState("kanban"),[d,f]=p.useState(null),[h,m]=p.useState(!1),[v,x]=p.useState(new Date().toISOString().substring(0,7)),[b,y]=p.useState(""),[g,w]=p.useState(""),[_,j]=p.useState(null),S=r.filter(O=>{var N,D,M,L,V,K,Q;if(b&&O.status!==b)return!1;if(g){const ee=g.toLowerCase(),re=((D=(N=O.consumer_units)==null?void 0:N.titular_conta)==null?void 0:D.toLowerCase())||"",Se=((V=(L=(M=O.consumer_units)==null?void 0:M.subscribers)==null?void 0:L.name)==null?void 0:V.toLowerCase())||"",Re=((Q=(K=O.consumer_units)==null?void 0:K.numero_uc)==null?void 0:Q.toLowerCase())||"";if(!re.includes(ee)&&!Se.includes(ee)&&!Re.includes(ee))return!1}return!0});p.useEffect(()=>{C(),E()},[v]);const C=async()=>{s(!0);try{const[O,N]=v.split("-"),D=`${O}-${N}-01`,M=new Date(O,N,0).getDate(),L=`${O}-${N}-${M}`,{data:V,error:K}=await I.from("invoices").select(`
                    *,
                    consumer_units (
                        numero_uc,
                        titular_conta,
                        concessionaria,
                        subscribers ( name )
                    )
                `).gte("mes_referencia",D).lte("mes_referencia",L).order("vencimento",{ascending:!0});if(K)throw K;n(V||[])}catch(O){console.error("Error fetching invoices:",O),e("Erro ao carregar faturas.","error")}finally{s(!1)}},E=async()=>{const{data:O,error:N}=await I.from("consumer_units").select("id, numero_uc, concessionaria, titular_conta, tarifa_concessionaria, desconto_assinante, tipo_ligacao").eq("status","ativo").order("titular_conta");N||i(O||[])},T=()=>{f(null),m(!0)},A=O=>{f(O),m(!0)},R=()=>{C(),m(!1)},k=async O=>{var D;if(await t(`Gerar boleto Asaas para a fatura de ${(D=O.consumer_units)==null?void 0:D.titular_conta}?`)){j(O.id);try{const M=await Gh(O.id);M.url&&(e("Boleto gerado com sucesso!","success"),window.open(M.url,"_blank"),C())}catch(M){console.error(M),e("Erro ao gerar boleto: "+M.message,"error")}finally{j(null)}}},z=async O=>{if(await t("Tem certeza que deseja excluir esta fatura?"))try{const{error:D}=await I.from("invoices").delete().eq("id",O);if(D)throw D;C()}catch(D){console.error("Erro ao excluir fatura:",D),e("Erro ao excluir fatura: "+D.message,"error")}},$=O=>Number(O||0).toLocaleString("pt-BR",{style:"currency",currency:"BRL"}),H=O=>{const N={pago:{color:"#166534",bg:"#dcfce7",label:"Pago",icon:$k},a_vencer:{color:"#854d0e",bg:"#fef9c3",label:"A Vencer",icon:YI},atrasado:{color:"#991b1b",bg:"#fee2e2",label:"Atrasado",icon:Ik}},D=N[O]||N.a_vencer,M=D.icon;return l.jsxs("span",{style:{display:"flex",alignItems:"center",gap:"0.3rem",padding:"0.2rem 0.6rem",background:D.bg,color:D.color,borderRadius:"99px",fontSize:"0.8rem",width:"fit-content"},children:[l.jsx(M,{size:12})," ",D.label]})};return l.jsxs("div",{style:{padding:"2rem",maxWidth:"1200px",margin:"0 auto"},children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"2rem"},children:[l.jsxs("div",{children:[l.jsx("h2",{style:{color:"var(--color-blue)",fontSize:"1.8rem",fontWeight:"bold"},children:"Faturas"}),l.jsx("p",{style:{color:"#64748b"},children:"Gerencie os lanamentos mensais das Unidades Consumidoras"})]}),l.jsxs("button",{onClick:T,style:{background:"var(--color-orange)",color:"white",padding:"0.8rem 1.5rem",borderRadius:"4px",border:"none",cursor:"pointer",fontWeight:"bold",display:"flex",alignItems:"center",gap:"0.5rem"},children:[l.jsx(Vs,{size:18})," Nova Fatura"]})]}),l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.5rem",flexWrap:"wrap",gap:"1rem"},children:[l.jsxs("div",{style:{background:"white",padding:"0.5rem 1rem",borderRadius:"8px",boxShadow:"0 1px 3px rgba(0,0,0,0.1)",display:"flex",gap:"1rem",alignItems:"center"},children:[l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",color:"#64748b"},children:[l.jsx(l8,{size:18}),l.jsx("span",{style:{fontWeight:"bold"},children:"Ms:"})]}),l.jsx("input",{type:"month",value:v,onChange:O=>x(O.target.value),style:{padding:"0.5rem",border:"1px solid #e2e8f0",borderRadius:"4px"}}),l.jsx("div",{style:{width:"1px",height:"20px",background:"#e2e8f0"}}),l.jsx("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",color:"#64748b"},children:l.jsx("span",{style:{fontWeight:"bold"},children:"Status:"})}),l.jsxs("select",{value:b,onChange:O=>y(O.target.value),style:{padding:"0.5rem",border:"1px solid #e2e8f0",borderRadius:"4px"},children:[l.jsx("option",{value:"",children:"Todos"}),l.jsx("option",{value:"a_vencer",children:"A Vencer"}),l.jsx("option",{value:"atrasado",children:"Atrasado"}),l.jsx("option",{value:"pago",children:"Pago"})]}),l.jsx("div",{style:{width:"1px",height:"20px",background:"#e2e8f0"}}),l.jsx("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",color:"#64748b"},children:l.jsx(lb,{size:18})}),l.jsx("input",{placeholder:"Buscar por Nome...",value:g,onChange:O=>w(O.target.value),style:{padding:"0.5rem",border:"1px solid #e2e8f0",borderRadius:"4px",minWidth:"200px"}})]}),l.jsxs("div",{className:"btn-group",style:{display:"flex",border:"1px solid var(--color-border)",borderRadius:"var(--radius-sm)",overflow:"hidden"},children:[l.jsx("button",{onClick:()=>u("list"),className:`btn ${c==="list"?"btn-primary":"btn-secondary"}`,style:{borderRadius:0,border:"none"},children:"Lista"}),l.jsx("button",{onClick:()=>u("kanban"),className:`btn ${c==="kanban"?"btn-primary":"btn-secondary"}`,style:{borderRadius:0,border:"none"},children:"Kanban"})]})]}),o?l.jsx("p",{children:"Carregando..."}):l.jsx(l.Fragment,{children:c==="list"?l.jsx("div",{style:{background:"white",borderRadius:"8px",boxShadow:"0 4px 6px -1px rgba(0,0,0,0.1)",overflow:"hidden"},children:l.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[l.jsx("thead",{style:{background:"#f8fafc"},children:l.jsxs("tr",{children:[l.jsx("th",{style:{padding:"1rem",textAlign:"left",color:"#64748b",fontSize:"0.8rem",textTransform:"uppercase"},children:"Status"}),l.jsx("th",{style:{padding:"1rem",textAlign:"left",color:"#64748b",fontSize:"0.8rem",textTransform:"uppercase"},children:"Vencimento"}),l.jsx("th",{style:{padding:"1rem",textAlign:"left",color:"#64748b",fontSize:"0.8rem",textTransform:"uppercase"},children:"Unidade Consumidora"}),l.jsx("th",{style:{padding:"1rem",textAlign:"left",color:"#64748b",fontSize:"0.8rem",textTransform:"uppercase"},children:"Consumo"}),l.jsx("th",{style:{padding:"1rem",textAlign:"left",color:"#64748b",fontSize:"0.8rem",textTransform:"uppercase"},children:"Valor"}),l.jsx("th",{style:{padding:"1rem",textAlign:"right",color:"#64748b",fontSize:"0.8rem",textTransform:"uppercase"},children:"Aes"})]})}),l.jsx("tbody",{children:S.length===0?l.jsx("tr",{children:l.jsx("td",{colSpan:"6",style:{padding:"2rem",textAlign:"center",color:"#94a3b8"},children:"Nenhuma fatura encontrada para este ms."})}):S.map(O=>{var N,D,M;return l.jsxs("tr",{style:{borderBottom:"1px solid #f1f5f9"},children:[l.jsx("td",{style:{padding:"1rem"},children:H(O.status)}),l.jsx("td",{style:{padding:"1rem",color:"#334155"},children:O.vencimento?new Date(O.vencimento).toLocaleDateString("pt-BR"):"-"}),l.jsxs("td",{style:{padding:"1rem"},children:[l.jsx("div",{style:{fontWeight:"bold",color:"#1e293b"},children:((N=O.consumer_units)==null?void 0:N.numero_uc)||"N/A"}),l.jsxs("div",{style:{fontSize:"0.8rem",color:"#64748b"},children:[(D=O.consumer_units)==null?void 0:D.titular_conta," (",(M=O.consumer_units)==null?void 0:M.concessionaria,")"]})]}),l.jsxs("td",{style:{padding:"1rem",color:"#334155"},children:[Number(O.consumo_kwh).toLocaleString("pt-BR")," kWh"]}),l.jsx("td",{style:{padding:"1rem",fontWeight:"bold",color:"#0f172a"},children:$(O.valor_a_pagar)}),l.jsx("td",{style:{padding:"1rem",textAlign:"right"},children:l.jsxs("div",{style:{display:"flex",gap:"0.5rem",justifyContent:"flex-end"},children:[O.asaas_boleto_url?l.jsxs("a",{href:O.asaas_boleto_url,target:"_blank",rel:"noopener noreferrer",style:{background:"#dcfce7",color:"#166534",border:"1px solid #bbf7d0",padding:"0.4rem 0.8rem",borderRadius:"4px",textDecoration:"none",fontSize:"0.8rem",display:"flex",alignItems:"center",gap:"0.3rem"},title:"Ver Boleto",children:[l.jsx(fi,{size:14})," Boleto"]}):l.jsx("button",{onClick:()=>k(O),disabled:_===O.id,style:{background:_===O.id?"#f1f5f9":"#fff7ed",color:_===O.id?"#94a3b8":"#c2410c",border:_===O.id?"1px solid #cbd5e1":"1px solid #ffedd5",padding:"0.4rem 0.8rem",borderRadius:"4px",cursor:"pointer",fontSize:"0.8rem",display:"flex",alignItems:"center",gap:"0.3rem"},children:_===O.id?"Gerando...":l.jsxs(l.Fragment,{children:[l.jsx(eu,{size:14})," Emitir"]})}),l.jsx("button",{onClick:()=>A(O),style:{background:"none",border:"1px solid #e2e8f0",padding:"0.4rem 0.8rem",borderRadius:"4px",cursor:"pointer",color:"#475569",fontSize:"0.8rem"},title:"Editar",children:"Editar"}),l.jsx("button",{onClick:()=>z(O.id),style:{background:"#fee2e2",border:"1px solid #fecaca",padding:"0.4rem",borderRadius:"4px",cursor:"pointer",color:"#dc2626",display:"flex",alignItems:"center"},title:"Excluir",children:l.jsx(tu,{size:16})})]})})]},O.id)})})]})}):l.jsx("div",{style:{display:"flex",gap:"1rem",overflowX:"auto",paddingBottom:"1rem"},children:["a_vencer","atrasado","pago"].map(O=>{const N=S.filter(L=>L.status===O),D={pago:{color:"#166534",bg:"#dcfce7",label:"Pago"},a_vencer:{color:"#854d0e",bg:"#fef9c3",label:"A Vencer"},atrasado:{color:"#991b1b",bg:"#fee2e2",label:"Atrasado"}},M=D[O]||D.a_vencer;return l.jsxs("div",{style:{minWidth:"320px",flex:1,background:"var(--color-bg-light)",borderRadius:"var(--radius-md)",padding:"0.5rem",borderTop:`4px solid ${M.color}`,boxShadow:"var(--shadow-sm)"},children:[l.jsxs("h4",{style:{padding:"0.8rem",borderBottom:"1px solid var(--color-border)",background:"white",borderRadius:"var(--radius-sm)",display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0.5rem",color:M.color},children:[l.jsx("span",{style:{textTransform:"uppercase",fontSize:"0.85rem",fontWeight:"bold"},children:M.label}),l.jsx("span",{style:{fontSize:"0.8rem",background:M.color,color:"white",padding:"0.1rem 0.5rem",borderRadius:"99px"},children:$(N.reduce((L,V)=>L+(Number(V.valor_a_pagar)||0),0))})]}),l.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem"},children:N.map(L=>{var V,K;return l.jsxs("div",{onClick:()=>A(L),style:{background:"white",padding:"1rem",borderRadius:"var(--radius-sm)",boxShadow:"var(--shadow-sm)",cursor:"pointer",border:"1px solid transparent",transition:"0.2s"},onMouseEnter:Q=>Q.currentTarget.style.borderColor="var(--color-blue)",onMouseLeave:Q=>Q.currentTarget.style.borderColor="transparent",children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"0.5rem"},children:[l.jsx("span",{style:{fontWeight:"bold",fontSize:"1rem",color:"var(--color-text-dark)"},children:(V=L.consumer_units)==null?void 0:V.numero_uc}),l.jsxs("span",{style:{fontSize:"0.75rem",color:"var(--color-text-medium)"},children:["Venc: ",L.vencimento?new Date(L.vencimento).toLocaleDateString("pt-BR"):"-"]})]}),l.jsx("div",{style:{fontSize:"0.85rem",color:"var(--color-text-medium)",marginBottom:"0.5rem"},children:(K=L.consumer_units)==null?void 0:K.titular_conta}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"0.5rem",fontSize:"0.85rem",color:"var(--color-text-medium)",marginBottom:"0.8rem"},children:[l.jsxs("div",{children:[l.jsx("div",{style:{fontSize:"0.7rem",color:"var(--color-text-light)"},children:"Consumo"}),l.jsxs("div",{children:[Number(L.consumo_kwh).toLocaleString("pt-BR")," kWh"]})]}),l.jsxs("div",{children:[l.jsx("div",{style:{fontSize:"0.7rem",color:"var(--color-text-light)"},children:"Valor"}),l.jsx("div",{style:{fontWeight:"bold",color:"var(--color-blue)"},children:$(L.valor_a_pagar)})]})]}),l.jsx("div",{style:{display:"flex",justifyContent:"flex-end",gap:"0.5rem"},children:L.asaas_boleto_url?l.jsxs("a",{href:L.asaas_boleto_url,target:"_blank",rel:"noopener noreferrer",onClick:Q=>Q.stopPropagation(),style:{background:"#dcfce7",color:"#166534",border:"1px solid #bbf7d0",padding:"0.4rem 0.8rem",borderRadius:"4px",textDecoration:"none",fontSize:"0.8rem",display:"flex",alignItems:"center",gap:"0.3rem"},title:"Ver Boleto",children:[l.jsx(fi,{size:14})," Boleto"]}):l.jsx("button",{onClick:Q=>{Q.stopPropagation(),k(L)},className:"btn",disabled:_===L.id,style:{padding:"0.2rem 0.5rem",fontSize:"0.75rem",color:"#c2410c",borderColor:"#ffedd5",background:"#fff7ed",fontWeight:"bold"},children:_===L.id?"...":"Emitir"})})]},L.id)})})]},O)})})}),h&&l.jsx(Fk,{invoice:d,ucs:a,onClose:()=>m(!1),onSave:R})]})}const dE=[{status:"em_ativacao",label:"Em Ativao",color:"#3b82f6"},{status:"aguardando_conexao",label:"Aguardando Conexo",color:"#eab308"},{status:"ativo",label:"Ativo",color:"#22c55e"},{status:"sem_geracao",label:"Sem Gerao",color:"#64748b"},{status:"em_atraso",label:"Em Atraso",color:"#f97316"},{status:"cancelado",label:"Cancelado",color:"#ef4444"},{status:"cancelado_inadimplente",label:"Cancelado (Inad.)",color:"#991b1b"}];function FM({uc:e,onClick:t,isOverlay:r}){var d,f,h;const{attributes:n,listeners:a,setNodeRef:i,transform:o,transition:s,isDragging:c}=Sb({id:e.id,disabled:!!r}),u={transform:An.Transform.toString(o),transition:s,opacity:c?.3:1,background:"white",padding:"1rem",borderRadius:"var(--radius-sm)",boxShadow:r?"var(--shadow-lg)":"var(--shadow-sm)",cursor:r?"grabbing":"grab",border:"1px solid transparent",zIndex:c?1e3:1,position:"relative",width:r?"300px":"auto"};return l.jsxs("div",{ref:i,style:u,...r?{}:n,...r?{}:a,onClick:()=>!r&&t(e),children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"0.5rem"},children:[l.jsx("span",{style:{fontWeight:"bold",fontSize:"1rem",color:"var(--color-text-dark)"},children:e.numero_uc}),l.jsx("span",{style:{fontSize:"0.75rem",color:"var(--color-blue)",background:"#eff6ff",padding:"0.1rem 0.4rem",borderRadius:"4px"},children:e.concessionaria})]}),l.jsx("div",{style:{fontSize:"0.9rem",color:"var(--color-text-medium)",marginBottom:"0.2rem"},children:((d=e.subscriber)==null?void 0:d.name)||"Sem Assinante"}),l.jsxs("div",{style:{fontSize:"0.8rem",color:"var(--color-text-light)",display:"flex",justifyContent:"space-between",marginTop:"0.5rem"},children:[l.jsxs("span",{children:[(f=e.address)==null?void 0:f.cidade,"/",(h=e.address)==null?void 0:h.uf]}),l.jsx("span",{children:e.franquia?`${Number(e.franquia).toLocaleString("pt-BR")} kWh`:""})]})]})}function cre({status:e,label:t,color:r,units:n,onCardClick:a}){const{setNodeRef:i,isOver:o}=nm({id:e});return l.jsxs("div",{ref:i,style:{minWidth:"300px",flex:1,background:o?"#e2e8f0":"var(--color-bg-light)",borderRadius:"var(--radius-md)",padding:"0.5rem",borderTop:`4px solid ${r}`,boxShadow:"var(--shadow-sm)",transition:"background 0.2s ease"},children:[l.jsxs("h4",{style:{padding:"0.8rem",borderBottom:"1px solid var(--color-border)",background:"white",borderRadius:"var(--radius-sm)",display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0.5rem",color:r},children:[l.jsx("span",{style:{textTransform:"uppercase",fontSize:"0.85rem",fontWeight:"bold"},children:t}),l.jsx("span",{style:{fontSize:"0.8rem",background:r,color:"white",padding:"0.1rem 0.5rem",borderRadius:"99px"},children:n.length})]}),l.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem",minHeight:"100px"},children:l.jsx(jb,{items:n.map(s=>s.id),strategy:_b,children:n.map(s=>l.jsx(FM,{uc:s,onClick:a},s.id))})})]})}function ure(){const[e,t]=p.useState([]),[r,n]=p.useState(!0),[a,i]=p.useState(""),[o,s]=p.useState("kanban"),[c,u]=p.useState(!1),[d,f]=p.useState(null),[h,m]=p.useState(null),v=mb(hb(su,{activationConstraint:{distance:8}})),x=e.filter(j=>{var C,E,T,A,R,k,z;if(!a)return!0;const S=a.toLowerCase();return((C=j.numero_uc)==null?void 0:C.toLowerCase().includes(S))||((T=(E=j.subscriber)==null?void 0:E.name)==null?void 0:T.toLowerCase().includes(S))||((A=j.concessionaria)==null?void 0:A.toLowerCase().includes(S))||((k=(R=j.address)==null?void 0:R.cidade)==null?void 0:k.toLowerCase().includes(S))||((z=j.status)==null?void 0:z.toLowerCase().includes(S))});p.useEffect(()=>{b()},[]);const b=async()=>{n(!0);try{const{data:j,error:S}=await I.from("consumer_units").select(`
                    *,
                    subscriber:subscriber_id (name, cpf_cnpj)
                `).order("created_at",{ascending:!1});if(S)throw S;t(j||[])}catch(j){console.error("Error fetching UCs:",j)}finally{n(!1)}},y=j=>{b(),u(!1)},g=j=>{t(e.filter(S=>S.id!==j)),u(!1)},w=j=>{m(j.active.id)},_=async j=>{const{active:S,over:C}=j;if(m(null),!C)return;const E=S.id,T=C.id;let A=T;if(!dE.some(z=>z.status===T)){const z=e.find($=>$.id===T);A=z==null?void 0:z.status}if(!A)return;const k=e.find(z=>z.id===E);if(k&&k.status!==A){t(z=>z.map($=>$.id===E?{...$,status:A}:$));try{const{error:z}=await I.from("consumer_units").update({status:A}).eq("id",E);if(z)throw z}catch(z){console.error("Error updating status:",z),b()}}};return l.jsxs("div",{children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"2rem"},children:[l.jsx("h2",{children:"Gesto de Unidades Consumidoras (UCs)"}),l.jsx("button",{onClick:()=>{f(null),u(!0)},style:{padding:"0.6rem 1.2rem",background:"var(--color-blue)",color:"white",borderRadius:"4px",fontWeight:"bold",cursor:"pointer"},children:"+ Nova UC"})]}),l.jsx("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.5rem",flexWrap:"wrap",gap:"1rem"},children:l.jsxs("div",{style:{display:"flex",gap:"1rem",flex:1,alignItems:"center"},children:[l.jsx("input",{placeholder:"Buscar por UC, Assinante, Concessionria ou Status...",value:a,onChange:j=>i(j.target.value),className:"input",style:{maxWidth:"400px"}}),l.jsxs("div",{className:"btn-group",style:{display:"flex",border:"1px solid var(--color-border)",borderRadius:"var(--radius-sm)",overflow:"hidden"},children:[l.jsx("button",{onClick:()=>s("list"),className:`btn ${o==="list"?"btn-primary":"btn-secondary"}`,style:{borderRadius:0,border:"none"},children:"Lista"}),l.jsx("button",{onClick:()=>s("kanban"),className:`btn ${o==="kanban"?"btn-primary":"btn-secondary"}`,style:{borderRadius:0,border:"none"},children:"Kanban"})]})]})}),r?l.jsx("p",{children:"Carregando..."}):l.jsx(l.Fragment,{children:o==="list"?l.jsx("div",{className:"card",style:{padding:0,overflow:"hidden"},children:l.jsx("div",{className:"table-container",children:x.length===0?l.jsx("p",{style:{padding:"2rem",textAlign:"center",color:"var(--color-text-light)"},children:"Nenhuma UC encontrada."}):l.jsxs("table",{className:"table",children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{children:"UC"}),l.jsx("th",{children:"Concessionria"}),l.jsx("th",{children:"Assinante"}),l.jsx("th",{children:"Franquia"}),l.jsx("th",{children:"Status"}),l.jsx("th",{children:"Cidade"}),l.jsx("th",{children:"Aes"})]})}),l.jsx("tbody",{children:x.map(j=>{var S,C,E,T,A;return l.jsxs("tr",{children:[l.jsx("td",{style:{fontWeight:"bold"},children:j.numero_uc}),l.jsx("td",{style:{color:"var(--color-text-medium)"},children:j.concessionaria||"-"}),l.jsxs("td",{children:[l.jsx("div",{style:{fontWeight:"bold"},children:((S=j.subscriber)==null?void 0:S.name)||"-"}),l.jsx("div",{style:{fontSize:"0.8rem",color:"var(--color-text-medium)"},children:(C=j.subscriber)==null?void 0:C.cpf_cnpj})]}),l.jsx("td",{children:j.franquia?`${Number(j.franquia).toLocaleString("pt-BR")} kWh`:"-"}),l.jsx("td",{children:l.jsx("span",{className:"badge",style:{background:j.status==="ativo"?"var(--color-success-light)":j.status==="em_atraso"||j.status==="cancelado_inadimplente"?"#fee2e2":"var(--color-bg-light)",color:j.status==="ativo"?"var(--color-success)":j.status==="em_atraso"||j.status==="cancelado_inadimplente"?"#dc2626":"var(--color-text-light)"},children:(E=j.status)==null?void 0:E.replace("_"," ").toUpperCase()})}),l.jsxs("td",{children:[(T=j.address)==null?void 0:T.cidade," / ",(A=j.address)==null?void 0:A.uf]}),l.jsx("td",{children:l.jsx("button",{onClick:()=>{f(j),u(!0)},className:"btn btn-secondary",style:{padding:"0.3rem 0.6rem",fontSize:"0.8rem"},children:"Editar"})})]},j.id)})})]})})}):l.jsxs(xb,{sensors:v,collisionDetection:pb,onDragStart:w,onDragEnd:_,onDragCancel:()=>m(null),children:[l.jsx("div",{style:{display:"flex",gap:"1rem",overflowX:"auto",paddingBottom:"1rem"},children:dE.map(({status:j,label:S,color:C})=>{const E=x.filter(T=>(T.status||"em_ativacao")===j);return l.jsx(cre,{status:j,label:S,color:C,units:E,onCardClick:T=>{f(T),u(!0)}},j)})}),l.jsx(wb,{adjustScale:!0,children:h?l.jsx(FM,{uc:e.find(j=>j.id===h),isOverlay:!0}):null})]})}),c&&l.jsx(ub,{consumerUnit:d,onClose:()=>u(!1),onSave:y,onDelete:g})]})}function dre({billing:e,onClose:t,onSave:r}){const[n,a]=p.useState([]),[i,o]=p.useState(!1),[s,c]=p.useState(!1),[u,d]=p.useState({usina_id:"",status:"em_producao",mes_referencia:new Date().toISOString().substring(0,7),fechamento:new Date().toISOString().substring(0,10),geracao_mensal_kwh:"",energia_compensada:"",faturamento_mensal:"",faturas_pagas:"",custo_disponibilidade:"",manutencao:"",gestao_reais:"",arrendamento:"",servicos:"",total_despesas:"",saldo_receber:""}),[f,h]=p.useState(0),m=["em_producao","fechado","liquidado"],v=C=>{if(!C&&C!==0)return"";const E=Number(C);return isNaN(E)?"":E.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})},x=C=>{if(!C||typeof C!="string")return 0;const E=C.replace(/\D/g,"");return Number(E)/100},b=(C,E)=>{const T=E.replace(/\D/g,""),R=(Number(T)/100).toLocaleString("pt-BR",{style:"currency",currency:"BRL"});d(k=>({...k,[C]:R}))};p.useEffect(()=>{y(),e&&(d({usina_id:e.usina_id,status:e.status||"em_producao",mes_referencia:e.mes_referencia?e.mes_referencia.substring(0,7):"",fechamento:e.fechamento||"",geracao_mensal_kwh:e.geracao_mensal_kwh||"",energia_compensada:e.energia_compensada||"",faturamento_mensal:v(e.faturamento_mensal),faturas_pagas:v(e.faturas_pagas),custo_disponibilidade:v(e.custo_disponibilidade),manutencao:v(e.manutencao),gestao_reais:v(e.gestao_reais),arrendamento:v(e.arrendamento),servicos:v(e.servicos),total_despesas:v(e.total_despesas),saldo_receber:v(e.saldo_receber)}),g(e.usina_id))},[e]),p.useEffect(()=>{_()},[u.faturas_pagas,u.custo_disponibilidade,u.manutencao,u.arrendamento,u.servicos,f]);const y=async()=>{const{data:C}=await I.from("usinas").select("id, name");a(C||[])},g=async C=>{if(!C)return;const{data:E}=await I.from("usinas").select("gestao_percentual").eq("id",C).single();E&&h(Number(E.gestao_percentual)||0)},w=async C=>{const E=C.target.value;d(T=>({...T,usina_id:E})),await g(E)},_=()=>{const C=x(u.faturas_pagas),E=x(u.custo_disponibilidade),T=x(u.manutencao),A=x(u.arrendamento),R=x(u.servicos);let k=0;f>0&&(k=C*(f/100));const z=E+T+k+A+R,$=C-z,H=x(u.gestao_reais),O=x(u.total_despesas),N=x(u.saldo_receber);Math.abs(H-k)<.01&&Math.abs(O-z)<.01&&Math.abs(N-$)<.01||d(D=>({...D,gestao_reais:v(k),total_despesas:v(z),saldo_receber:v($)}))},j=async()=>{if(!u.usina_id||!u.mes_referencia){alert("Selecione uma Usina e um Ms de Referncia.");return}c(!0);try{const{data:C,error:E}=await I.from("consumer_units").select("id").eq("usina_id",u.usina_id);if(E)throw E;if(!C||C.length===0){alert("Nenhuma UC vinculada a esta usina."),c(!1);return}const T=C.map(M=>M.id),[A,R]=u.mes_referencia.split("-"),k=`${A}-${R}-01`,z=new Date(A,R,0).getDate(),$=`${A}-${R}-${z}`,{data:H,error:O}=await I.from("invoices").select("valor_a_pagar, status").in("uc_id",T).gte("mes_referencia",k).lte("mes_referencia",$);if(O)throw O;let N=0,D=0;H.forEach(M=>{const L=Number(M.valor_a_pagar)||0;N+=L,M.status==="pago"&&(D+=L)}),d(M=>({...M,faturamento_mensal:v(N),faturas_pagas:v(D)}))}catch(C){console.error("Reconciliation error:",C),alert("Erro ao buscar faturas: "+C.message)}finally{c(!1)}},S=async C=>{C.preventDefault(),o(!0);try{const E={usina_id:u.usina_id,status:u.status,mes_referencia:`${u.mes_referencia}-01`,fechamento:u.fechamento,geracao_mensal_kwh:Number(u.geracao_mensal_kwh),energia_compensada:Number(u.energia_compensada),faturamento_mensal:x(u.faturamento_mensal),faturas_pagas:x(u.faturas_pagas),custo_disponibilidade:x(u.custo_disponibilidade),manutencao:x(u.manutencao),gestao_reais:x(u.gestao_reais),arrendamento:x(u.arrendamento),servicos:x(u.servicos),total_despesas:x(u.total_despesas),saldo_receber:x(u.saldo_receber)};let T;if(e!=null&&e.id?T=await I.from("generation_production").update(E).eq("id",e.id):T=await I.from("generation_production").insert(E),T.error)throw T.error;r(),t()}catch(E){console.error("Save error:",E),alert("Erro ao salvar: "+(E.message||JSON.stringify(E)))}finally{o(!1)}};return l.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},children:l.jsxs("div",{style:{background:"white",padding:"2rem",borderRadius:"8px",width:"90%",maxWidth:"900px",maxHeight:"90vh",overflowY:"auto"},children:[l.jsx("h3",{style:{marginBottom:"1.5rem",borderBottom:"1px solid #eee",paddingBottom:"0.5rem"},children:e?"Editar Fechamento":"Novo Fechamento"}),l.jsxs("form",{onSubmit:S,style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"},children:[l.jsxs("div",{style:{gridColumn:"1 / -1",display:"flex",gap:"1rem",background:"#f8fafc",padding:"1rem",borderRadius:"4px"},children:[l.jsxs("div",{style:{flex:1},children:[l.jsx("label",{style:{display:"block",fontSize:"0.8rem",marginBottom:"0.2rem"},children:"Usina"}),l.jsxs("select",{required:!0,value:u.usina_id,onChange:w,style:{width:"100%",padding:"0.5rem",borderRadius:"4px",border:"1px solid #ddd"},children:[l.jsx("option",{value:"",children:"Selecione..."}),n.map(C=>l.jsx("option",{value:C.id,children:C.name},C.id))]})]}),l.jsxs("div",{style:{width:"220px",display:"flex",gap:"0.5rem"},children:[l.jsxs("div",{style:{flex:1},children:[l.jsx("label",{style:{display:"block",fontSize:"0.8rem",marginBottom:"0.2rem"},children:"Ms Ref."}),l.jsx("select",{value:u.mes_referencia.split("-")[1],onChange:C=>{const E=u.mes_referencia.split("-")[0];d({...u,mes_referencia:`${E}-${C.target.value}`})},style:{width:"100%",padding:"0.4rem",border:"1px solid #ddd",borderRadius:"4px"},children:["01","02","03","04","05","06","07","08","09","10","11","12"].map((C,E)=>l.jsx("option",{value:C,children:["Janeiro","Fevereiro","Maro","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"][E]},C))})]}),l.jsxs("div",{style:{width:"80px"},children:[l.jsx("label",{style:{display:"block",fontSize:"0.8rem",marginBottom:"0.2rem"},children:"Ano"}),l.jsx("select",{value:u.mes_referencia.split("-")[0],onChange:C=>{const E=u.mes_referencia.split("-")[1];d({...u,mes_referencia:`${C.target.value}-${E}`})},style:{width:"100%",padding:"0.4rem",border:"1px solid #ddd",borderRadius:"4px"},children:Array.from({length:10},(C,E)=>new Date().getFullYear()-2+E).map(C=>l.jsx("option",{value:C,children:C},C))})]})]}),l.jsxs("div",{style:{width:"150px"},children:[l.jsx("label",{style:{display:"block",fontSize:"0.8rem",marginBottom:"0.2rem"},children:"Data Fechamento"}),l.jsx("input",{type:"date",required:!0,value:u.fechamento,onChange:C=>d({...u,fechamento:C.target.value}),style:{width:"100%",padding:"0.4rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),l.jsxs("div",{style:{width:"120px"},children:[l.jsx("label",{style:{display:"block",fontSize:"0.8rem",marginBottom:"0.2rem"},children:"Status"}),l.jsx("select",{value:u.status,onChange:C=>d({...u,status:C.target.value}),style:{width:"100%",padding:"0.5rem",borderRadius:"4px",border:"1px solid #ddd"},children:m.map(C=>l.jsx("option",{value:C,children:C.replace("_"," ").toUpperCase()},C))})]}),l.jsx("div",{style:{display:"flex",alignItems:"flex-end"},children:l.jsx("button",{type:"button",onClick:j,disabled:s||!u.usina_id,style:{padding:"0.5rem 1rem",background:"var(--color-blue)",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",opacity:s?.7:1},children:s?"Buscando...":"Buscar Faturas"})})]}),l.jsx("div",{style:{gridColumn:"1 / -1",fontWeight:"bold",marginTop:"0.5rem",color:"var(--color-blue)"},children:"Produo e Receita"}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem"},children:"Gerao Mensal (kWh)"}),l.jsx("input",{type:"number",required:!0,value:u.geracao_mensal_kwh,onChange:C=>d({...u,geracao_mensal_kwh:C.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem"},children:"Energia Compensada (kWh)"}),l.jsx("input",{type:"number",value:u.energia_compensada,onChange:C=>d({...u,energia_compensada:C.target.value}),style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem"},children:"Faturamento Mensal (R$ Total)"}),l.jsx("input",{type:"text",value:u.faturamento_mensal,onChange:C=>b("faturamento_mensal",C.target.value),placeholder:"R$ 0,00",style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),l.jsxs("div",{style:{gridColumn:"1 / -1",background:"#ecfdf5",padding:"1rem",borderRadius:"4px",border:"1px solid #d1fae5"},children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",color:"#047857",fontWeight:"bold"},children:"Faturas Pagas (Base de Clculo) - R$"}),l.jsx("input",{type:"text",value:u.faturas_pagas,onChange:C=>b("faturas_pagas",C.target.value),placeholder:"R$ 0,00",style:{width:"100%",padding:"0.5rem",border:"1px solid #10b981",borderRadius:"4px",fontSize:"1.2rem",fontWeight:"bold",color:"#047857"}}),l.jsx("span",{style:{fontSize:"0.8rem",color:"#059669"},children:"Valor efetivamente recebido dos assinantes."})]}),l.jsx("div",{style:{gridColumn:"1 / -1",fontWeight:"bold",marginTop:"0.5rem",color:"var(--color-blue)"},children:"Despesas Operacionais"}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem"},children:"Custo Disp. (R$)"}),l.jsx("input",{type:"text",value:u.custo_disponibilidade,onChange:C=>b("custo_disponibilidade",C.target.value),placeholder:"R$ 0,00",style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem"},children:"Manuteno (R$)"}),l.jsx("input",{type:"text",value:u.manutencao,onChange:C=>b("manutencao",C.target.value),placeholder:"R$ 0,00",style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem"},children:"Arrendamento (R$)"}),l.jsx("input",{type:"text",value:u.arrendamento,onChange:C=>b("arrendamento",C.target.value),placeholder:"R$ 0,00",style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem"},children:"Servios (R$)"}),l.jsx("input",{type:"text",value:u.servicos,onChange:C=>b("servicos",C.target.value),placeholder:"R$ 0,00",style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px"}})]}),l.jsxs("div",{style:{gridColumn:"1 / -1",background:"#fef3c7",padding:"1rem",borderRadius:"4px",marginTop:"0.5rem",display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem",border:"1px solid #fcd34d"},children:[l.jsxs("div",{children:[l.jsxs("label",{style:{display:"block",fontSize:"0.9rem",color:"#b45309"},children:["Taxa de Gesto (",f,"%)"]}),l.jsx("input",{disabled:!0,value:u.gestao_reais,style:{width:"100%",padding:"0.5rem",border:"1px solid #fbbf24",borderRadius:"4px",background:"white"}})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",fontSize:"0.9rem",color:"#b45309",fontWeight:"bold"},children:"Total Despesas"}),l.jsx("input",{disabled:!0,value:u.total_despesas,style:{width:"100%",padding:"0.5rem",border:"1px solid #fbbf24",borderRadius:"4px",background:"white",fontWeight:"bold"}})]})]}),l.jsxs("div",{style:{gridColumn:"1 / -1",background:"#eff6ff",padding:"1.5rem",borderRadius:"4px",border:"1px solid #bfdbfe",marginTop:"1rem",textAlign:"center"},children:[l.jsx("label",{style:{display:"block",fontSize:"1rem",color:"#1e40af",marginBottom:"0.5rem"},children:"Saldo Lquido a Receber"}),l.jsx("div",{style:{fontSize:"2rem",fontWeight:"bold",color:"#1e3a8a"},children:u.saldo_receber}),l.jsx("span",{style:{fontSize:"0.8rem",color:"#60a5fa"},children:"Faturas Pagas - Total Despesas"})]}),l.jsxs("div",{style:{gridColumn:"1 / -1",display:"flex",justifyContent:"flex-end",gap:"1rem",marginTop:"1rem"},children:[l.jsx("button",{type:"button",onClick:t,style:{padding:"0.8rem 1.5rem",background:"#ccc",borderRadius:"4px",border:"none",cursor:"pointer"},children:"Cancelar"}),l.jsx("button",{type:"submit",disabled:i,style:{padding:"0.8rem 1.5rem",background:"var(--color-blue)",color:"white",borderRadius:"4px",border:"none",cursor:"pointer",fontWeight:"bold"},children:i?"Salvando...":"Confirmar Fechamento"})]})]})]})})}function fre(){const[e,t]=p.useState([]),[r,n]=p.useState(!0),[a,i]=p.useState("kanban"),[o,s]=p.useState(!1),[c,u]=p.useState(null);p.useEffect(()=>{d()},[]);const d=async()=>{n(!0);const{data:g,error:w}=await I.from("generation_production").select(`
                *,
                usinas ( name )
            `).order("mes_referencia",{ascending:!1});w?console.error("Error fetching billing:",w):t(g||[]),n(!1)},f=g=>{u(g),s(!0)},h=()=>{u(null),s(!0)},m=async g=>{if(!confirm("Tem certeza que deseja excluir este fechamento?"))return;const{error:w}=await I.from("generation_production").delete().eq("id",g);w?alert("Erro ao excluir"):d()},v=async g=>{var w;if(!g.saldo_receber||g.saldo_receber<=0){alert("Saldo a receber deve ser maior que zero.");return}if(confirm(`Deseja enviar R$ ${g.saldo_receber} via Pix para esta usina/fornecedor?`)){n(!0);try{const{data:_,error:j}=await I.from("usinas").select("supplier:suppliers ( pix_key, pix_key_type, name )").eq("id",g.usina_id).single();if(j||!_||!_.supplier)throw new Error("Fornecedor/Pix no encontrado para esta usina.");const S=_.supplier;if(!S.pix_key)throw new Error("Fornecedor sem Chave Pix cadastrada.");const{data:C,error:E}=await I.functions.invoke("transfer-asaas-pix",{body:{value:g.saldo_receber,pix_key:S.pix_key,pix_key_type:S.pix_key_type,description:`Pagamento Energia - ${g.mes_referencia} - ${_.name}`,operationType:"PIX"}});if(E)throw E;if(!C.success)throw new Error(C.error||"Erro desconhecido na transferncia");alert("Pagamento enviado com sucesso! ID: "+((w=C.data)==null?void 0:w.id)),d(),await I.from("generation_production").update({status:"liquidado"}).eq("id",g.id),d()}catch(_){console.error("Payment Error:",_),alert("Erro no pagamento: "+_.message)}finally{n(!1)}}},x=()=>{d(),s(!1)},b=g=>{if(!g)return"-";const[w,_]=g.split("-"),j=["Janeiro","Fevereiro","Maro","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"],S=parseInt(_,10)-1;return`${j[S]||"-"} ${w}`},y=g=>Number(g||0).toLocaleString("pt-BR",{style:"currency",currency:"BRL"});return l.jsxs("div",{style:{padding:"2rem"},children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"2rem"},children:[l.jsx("h2",{style:{color:"var(--color-blue)",fontSize:"1.5rem",fontWeight:"bold"},children:"Fechamento Mensal"}),l.jsx("button",{onClick:h,style:{background:"var(--color-orange)",color:"white",padding:"0.8rem 1.5rem",borderRadius:"4px",border:"none",cursor:"pointer",fontWeight:"bold"},children:"Novo Fechamento"})]}),l.jsx("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.5rem"},children:l.jsxs("div",{className:"btn-group",style:{display:"flex",border:"1px solid var(--color-border)",borderRadius:"var(--radius-sm)",overflow:"hidden"},children:[l.jsx("button",{onClick:()=>i("list"),className:`btn ${a==="list"?"btn-primary":"btn-secondary"}`,style:{borderRadius:0,border:"none"},children:"Lista"}),l.jsx("button",{onClick:()=>i("kanban"),className:`btn ${a==="kanban"?"btn-primary":"btn-secondary"}`,style:{borderRadius:0,border:"none"},children:"Kanban"})]})}),r?l.jsx("p",{children:"Carregando..."}):l.jsx(l.Fragment,{children:a==="list"?l.jsx("div",{className:"card",style:{padding:0,overflow:"hidden"},children:l.jsx("div",{className:"table-container",children:l.jsxs("table",{className:"table",children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{children:"Ms Ref."}),l.jsx("th",{children:"Usina"}),l.jsx("th",{children:"Status"}),l.jsx("th",{children:"Gerao (kWh)"}),l.jsx("th",{children:"Compensado (kWh)"}),l.jsx("th",{children:"Faturado (R$)"}),l.jsx("th",{children:"Saldo a Receber (R$)"}),l.jsx("th",{children:"Aes"})]})}),l.jsx("tbody",{children:e.map(g=>{var w;return l.jsxs("tr",{children:[l.jsx("td",{children:b(g.mes_referencia)}),l.jsx("td",{children:((w=g.usinas)==null?void 0:w.name)||"-"}),l.jsx("td",{children:l.jsx("span",{className:"badge",style:{background:g.status==="liquidado"?"#dcfce7":g.status==="fechado"?"#e0f2fe":"#fef9c3",color:g.status==="liquidado"?"#166534":g.status==="fechado"?"#0369a1":"#854d0e"},children:g.status})}),l.jsxs("td",{children:[Number(g.geracao_mensal_kwh).toLocaleString("pt-BR")," kWh"]}),l.jsxs("td",{children:[Number(g.energia_compensada||0).toLocaleString("pt-BR")," kWh"]}),l.jsx("td",{children:y(g.faturamento_mensal)}),l.jsx("td",{style:{fontWeight:"bold",color:"var(--color-blue)"},children:y(g.saldo_receber)}),l.jsx("td",{children:l.jsxs("div",{style:{display:"flex",gap:"0.5rem"},children:[l.jsx("button",{onClick:()=>f(g),className:"btn btn-secondary",style:{padding:"0.3rem 0.6rem",fontSize:"0.8rem"},children:"Editar"}),l.jsx("button",{onClick:()=>m(g.id),className:"btn btn-secondary",style:{padding:"0.3rem 0.6rem",fontSize:"0.8rem",color:"#ef4444",borderColor:"#fee2e2",background:"#fef2f2"},children:"Excluir"}),l.jsx("button",{onClick:()=>v(g),className:"btn",style:{padding:"0.3rem 0.6rem",fontSize:"0.8rem",color:"#059669",borderColor:"#d1fae5",background:"#ecfdf5",fontWeight:"bold"},children:" Pagar"})]})})]},g.id)})})]})})}):l.jsx("div",{style:{display:"flex",gap:"1rem",overflowX:"auto",paddingBottom:"1rem"},children:["aberto","fechado","liquidado"].map(g=>{const w=e.filter(S=>S.status===g),j={aberto:"#eab308",fechado:"#0ea5e9",liquidado:"#22c55e"}[g]||"#64748b";return l.jsxs("div",{style:{minWidth:"320px",flex:1,background:"var(--color-bg-light)",borderRadius:"var(--radius-md)",padding:"0.5rem",borderTop:`4px solid ${j}`,boxShadow:"var(--shadow-sm)"},children:[l.jsxs("h4",{style:{padding:"0.8rem",borderBottom:"1px solid var(--color-border)",background:"white",borderRadius:"var(--radius-sm)",display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"0.5rem",color:j},children:[l.jsx("span",{style:{textTransform:"uppercase",fontSize:"0.85rem",fontWeight:"bold"},children:g}),l.jsx("span",{style:{fontSize:"0.8rem",background:j,color:"white",padding:"0.1rem 0.5rem",borderRadius:"99px"},children:y(w.reduce((S,C)=>S+(Number(C.saldo_receber)||0),0))})]}),l.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.5rem"},children:w.map(S=>{var C;return l.jsxs("div",{onClick:()=>f(S),style:{background:"white",padding:"1rem",borderRadius:"var(--radius-sm)",boxShadow:"var(--shadow-sm)",cursor:"pointer",border:"1px solid transparent",transition:"0.2s"},onMouseEnter:E=>E.currentTarget.style.borderColor="var(--color-blue)",onMouseLeave:E=>E.currentTarget.style.borderColor="transparent",children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"0.5rem"},children:[l.jsx("span",{style:{fontWeight:"bold",fontSize:"1rem",color:"var(--color-text-dark)"},children:(C=S.usinas)==null?void 0:C.name}),l.jsx("span",{style:{fontSize:"0.75rem",color:"var(--color-text-medium)"},children:b(S.mes_referencia)})]}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"0.5rem",fontSize:"0.85rem",color:"var(--color-text-medium)",marginBottom:"0.8rem"},children:[l.jsxs("div",{children:[l.jsx("div",{style:{fontSize:"0.7rem",color:"var(--color-text-light)"},children:"Gerao"}),l.jsxs("div",{children:[Number(S.geracao_mensal_kwh).toLocaleString("pt-BR")," kWh"]})]}),l.jsxs("div",{children:[l.jsx("div",{style:{fontSize:"0.7rem",color:"var(--color-text-light)"},children:"Saldo"}),l.jsx("div",{style:{fontWeight:"bold",color:"var(--color-blue)"},children:y(S.saldo_receber)})]})]}),l.jsx("div",{style:{display:"flex",justifyContent:"flex-end",gap:"0.5rem"},children:S.status!=="liquidado"&&l.jsx("button",{onClick:E=>{E.stopPropagation(),v(S)},className:"btn",style:{padding:"0.2rem 0.5rem",fontSize:"0.75rem",color:"#059669",borderColor:"#d1fae5",background:"#ecfdf5",fontWeight:"bold"},children:" Pagar"})})]},S.id)})})]},g)})})}),o&&l.jsx(dre,{billing:c,onClose:()=>s(!1),onSave:x})]})}function hre(){const[e,t]=p.useState([]),[r,n]=p.useState(!0),[a,i]=p.useState("all"),[o,s]=p.useState(""),[c,u]=p.useState(null),d=[{id:"all",label:"Todos",color:"#64748b"},{id:"super_admin",label:"Super Admin",color:"#0f172a"},{id:"admin",label:"Admin",color:"#1e293b"},{id:"manager",label:"Gerente",color:"#334155"},{id:"coordinator",label:"Coord.",color:"#475569"},{id:"supplier",label:"Fornecedor",color:"#ea580c"},{id:"originator",label:"Originador",color:"#059669"},{id:"subscriber",label:"Assinante",color:"#2563eb"},{id:"lead",label:"Lead",color:"#94a3b8"}],f=g=>{var w;return((w=d.find(_=>_.id===g))==null?void 0:w.label)||g},h=g=>{var w;return((w=d.find(_=>_.id===g))==null?void 0:w.color)||"#94a3b8"};p.useEffect(()=>{m()},[]);const m=async()=>{n(!0);const{data:g}=await I.from("profiles").select("*").order("name");g&&t(g),n(!1)},v=g=>{t(e.map(w=>w.id===g.id?g:w))},x=e.filter(g=>{var j,S;const w=(((j=g.name)==null?void 0:j.toLowerCase())||"").includes(o.toLowerCase())||(((S=g.email)==null?void 0:S.toLowerCase())||"").includes(o.toLowerCase()),_=a==="all"?!0:g.role===a;return w&&_}),b=e.length,y=e.filter(g=>g.role!=="lead").length;return l.jsxs("div",{children:[l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"1rem",marginBottom:"2rem"},children:[l.jsxs("div",{style:{background:"white",padding:"1.5rem",borderRadius:"12px",border:"1px solid #e2e8f0",display:"flex",alignItems:"center",gap:"1rem"},children:[l.jsx("div",{style:{background:"#eff6ff",padding:"0.8rem",borderRadius:"8px",color:"#2563eb"},children:l.jsx(cb,{size:24})}),l.jsxs("div",{children:[l.jsx("div",{style:{fontSize:"2rem",fontWeight:"bold",color:"#1e293b",lineHeight:1},children:b}),l.jsx("div",{style:{fontSize:"0.85rem",color:"#64748b"},children:"Total de Usurios"})]})]}),l.jsxs("div",{style:{background:"white",padding:"1.5rem",borderRadius:"12px",border:"1px solid #e2e8f0",display:"flex",alignItems:"center",gap:"1rem"},children:[l.jsx("div",{style:{background:"#f0fdf4",padding:"0.8rem",borderRadius:"8px",color:"#16a34a"},children:l.jsx(Uk,{size:24})}),l.jsxs("div",{children:[l.jsx("div",{style:{fontSize:"2rem",fontWeight:"bold",color:"#1e293b",lineHeight:1},children:y}),l.jsx("div",{style:{fontSize:"0.85rem",color:"#64748b"},children:"Perfis Ativos"})]})]})]}),l.jsxs("div",{style:{background:"white",borderRadius:"12px",border:"1px solid #e2e8f0",overflow:"hidden"},children:[l.jsxs("div",{style:{borderBottom:"1px solid #e2e8f0"},children:[l.jsxs("div",{style:{padding:"1rem",display:"flex",justifyContent:"space-between",alignItems:"center",background:"#f8fafc"},children:[l.jsx("h3",{style:{margin:0,fontSize:"1rem",color:"#334155"},children:"Lista de Usurios"}),l.jsxs("div",{style:{position:"relative"},children:[l.jsx(lb,{size:16,style:{position:"absolute",left:"10px",top:"50%",transform:"translateY(-50%)",color:"#94a3b8"}}),l.jsx("input",{placeholder:"Buscar usurio...",value:o,onChange:g=>s(g.target.value),style:{padding:"0.5rem 1rem 0.5rem 2.2rem",borderRadius:"6px",border:"1px solid #cbd5e1",fontSize:"0.9rem",width:"250px"}})]})]}),l.jsx("div",{style:{display:"flex",gap:"2rem",padding:"0 1rem",overflowX:"auto"},children:d.map(g=>l.jsxs("button",{onClick:()=>i(g.id),style:{background:"none",border:"none",padding:"1rem 0",color:a===g.id?"#0284c7":"#64748b",fontWeight:a===g.id?600:400,borderBottom:a===g.id?"2px solid #0284c7":"2px solid transparent",cursor:"pointer",whiteSpace:"nowrap",fontSize:"0.9rem"},children:[g.label,l.jsx("span",{style:{marginLeft:"6px",background:a===g.id?"#e0f2fe":"#f1f5f9",padding:"2px 6px",borderRadius:"99px",fontSize:"0.75rem"},children:g.id==="all"?e.length:e.filter(w=>w.role===g.id).length})]},g.id))})]}),l.jsx("div",{style:{overflowX:"auto"},children:l.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",textAlign:"left"},children:[l.jsx("thead",{style:{background:"#f8fafc",borderBottom:"1px solid #e2e8f0",fontSize:"0.8rem",textTransform:"uppercase",color:"#64748b"},children:l.jsxs("tr",{children:[l.jsx("th",{style:{padding:"1rem"},children:"Usurio"}),l.jsx("th",{style:{padding:"1rem"},children:"Perfil (Role)"}),l.jsx("th",{style:{padding:"1rem"},children:"Contato"}),l.jsx("th",{style:{padding:"1rem"},children:"Comisses"}),l.jsx("th",{style:{padding:"1rem",textAlign:"right"},children:"Aes"})]})}),l.jsx("tbody",{children:r?l.jsx("tr",{children:l.jsx("td",{colSpan:"5",style:{padding:"2rem",textAlign:"center"},children:"Carregando..."})}):x.length===0?l.jsx("tr",{children:l.jsx("td",{colSpan:"5",style:{padding:"2rem",textAlign:"center",color:"#94a3b8"},children:"Nenhum usurio encontrado."})}):x.map(g=>{var w;return l.jsxs("tr",{style:{borderBottom:"1px solid #f1f5f9"},children:[l.jsx("td",{style:{padding:"1rem"},children:l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.8rem"},children:[l.jsx("div",{style:{width:36,height:36,borderRadius:"50%",background:"#e2e8f0",display:"flex",alignItems:"center",justifyContent:"center",color:"#64748b",fontWeight:"bold"},children:((w=g.name)==null?void 0:w.charAt(0).toUpperCase())||"?"}),l.jsxs("div",{children:[l.jsx("div",{style:{fontWeight:600,color:"#1e293b"},children:g.name||"Sem Nome"}),l.jsx("div",{style:{fontSize:"0.8rem",color:"#64748b"},children:g.email})]})]})}),l.jsx("td",{style:{padding:"1rem"},children:l.jsx("span",{style:{padding:"0.3rem 0.8rem",borderRadius:"99px",fontSize:"0.75rem",fontWeight:600,background:h(g.role)+"20",color:h(g.role),border:`1px solid ${h(g.role)}40`},children:f(g.role)})}),l.jsx("td",{style:{padding:"1rem",fontSize:"0.9rem",color:"#475569"},children:g.phone||"-"}),l.jsx("td",{style:{padding:"1rem",fontSize:"0.85rem"},children:g.commission_split?l.jsxs("div",{style:{display:"flex",gap:"1rem"},children:[l.jsxs("div",{children:[l.jsx("span",{style:{color:"#94a3b8"},children:"Start:"})," ",l.jsxs("strong",{children:[g.commission_split.start,"%"]})]}),l.jsxs("div",{children:[l.jsx("span",{style:{color:"#94a3b8"},children:"Rec.:"})," ",l.jsxs("strong",{children:[g.commission_split.recorrente,"%"]})]})]}):"-"}),l.jsx("td",{style:{padding:"1rem",textAlign:"right"},children:l.jsxs("button",{onClick:()=>u(g),style:{background:"white",border:"1px solid #cbd5e1",borderRadius:"6px",padding:"0.4rem 0.8rem",cursor:"pointer",display:"inline-flex",alignItems:"center",gap:"0.4rem",color:"#475569",fontSize:"0.8rem",fontWeight:500},children:[l.jsx(j8,{size:14})," Editar"]})})]},g.id)})})]})})]}),c&&l.jsx(Hk,{user:c,onClose:()=>u(null),onSave:v})]})}function fE({serviceName:e,title:t,description:r}){var E,T;const{showAlert:n}=Gr(),[a,i]=p.useState(!1),[o,s]=p.useState(!1),[c,u]=p.useState({endpoint_url:"",api_key:"",secret_key:"",variables:[]});p.useEffect(()=>{d()},[e]);const d=async()=>{i(!0);const{data:A,error:R}=await I.from("integrations_config").select("*").eq("service_name",e).single();if(A){const k=A.variables?Object.entries(A.variables).map(([z,$])=>({key:z,value:$})):[];u({endpoint_url:A.endpoint_url||"",api_key:A.api_key||"",secret_key:A.secret_key||"",variables:k})}else R&&R.code!=="PGRST116"&&console.error("Error fetching config:",R);i(!1)},f=async A=>{A.preventDefault(),i(!0);const R=c.variables.reduce(($,H)=>(H.key&&($[H.key]=H.value),$),{}),k={service_name:e,endpoint_url:c.endpoint_url,api_key:c.api_key,secret_key:c.secret_key,variables:R,updated_at:new Date().toISOString()},{error:z}=await I.from("integrations_config").upsert(k,{onConflict:"service_name"});i(!1),z?n("Erro ao salvar configuraes: "+z.message,"error"):n("Configuraes salvas com sucesso!","success")},h=()=>{u(A=>({...A,variables:[...A.variables,{key:"",value:""}]}))},m=A=>{u(R=>({...R,variables:R.variables.filter((k,z)=>z!==A)}))},v=(A,R,k)=>{const z=[...c.variables];z[A][R]=k,u($=>({...$,variables:z}))},[x,b]=p.useState(""),[y,g]=p.useState("Teste de conexo Evolution API"),[w,_]=p.useState(""),[j,S]=p.useState(!1),C=async()=>{if(!x){n("Informe um nmero de telefone para teste.","error");return}S(!0);try{const{data:A,error:R}=await I.functions.invoke("send-whatsapp",{body:{text:y,phone:x,mediaUrl:w}});if(R)throw new Error(R.message);if(A!=null&&A.error)throw new Error(A.error);n("Mensagem de teste enviada com sucesso!","success")}catch(A){console.error(A),n("Falha no teste: "+A.message,"error")}finally{S(!1)}};return l.jsxs("div",{style:{background:"white",borderRadius:"12px",border:"1px solid #e2e8f0",overflow:"hidden"},children:[l.jsx("div",{style:{padding:"1.5rem",borderBottom:"1px solid #e2e8f0",background:"#f8fafc"},children:l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem"},children:[l.jsx("div",{style:{padding:"0.5rem",background:"#fff",borderRadius:"6px",border:"1px solid #cbd5e1"},children:l.jsx(A8,{size:20,color:"#475569"})}),l.jsxs("div",{children:[l.jsx("h3",{style:{margin:0,fontSize:"1.1rem",color:"#1e293b"},children:t}),l.jsx("p",{style:{margin:0,fontSize:"0.9rem",color:"#64748b"},children:r})]})]})}),l.jsxs("form",{onSubmit:f,style:{padding:"2rem"},children:[l.jsxs("div",{style:{marginBottom:"1.5rem"},children:[l.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:600,color:"#334155",fontSize:"0.9rem"},children:"Endpoint URL"}),l.jsx("input",{type:"url",placeholder:"https://api.exemplo.com/v1",value:c.endpoint_url,onChange:A=>u({...c,endpoint_url:A.target.value}),style:{width:"100%",padding:"0.7rem",borderRadius:"6px",border:"1px solid #cbd5e1",fontSize:"0.95rem"}})]}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1.5rem",marginBottom:"1.5rem"},children:[l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:600,color:"#334155",fontSize:"0.9rem"},children:"API Key / Token"}),l.jsxs("div",{style:{position:"relative"},children:[l.jsx("input",{type:o?"text":"password",value:c.api_key,onChange:A=>u({...c,api_key:A.target.value}),style:{width:"100%",padding:"0.7rem",borderRadius:"6px",border:"1px solid #cbd5e1",fontSize:"0.95rem"}}),l.jsx("button",{type:"button",onClick:()=>s(!o),style:{position:"absolute",right:"10px",top:"50%",transform:"translateY(-50%)",background:"none",border:"none",cursor:"pointer",color:"#94a3b8"},children:o?l.jsx(n8,{size:18}):l.jsx(i8,{size:18})})]})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:600,color:"#334155",fontSize:"0.9rem"},children:"Secret Key (Opcional)"}),l.jsx("input",{type:"password",value:c.secret_key,onChange:A=>u({...c,secret_key:A.target.value}),style:{width:"100%",padding:"0.7rem",borderRadius:"6px",border:"1px solid #cbd5e1",fontSize:"0.95rem"}})]})]}),e==="evolution_api"&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{style:{marginBottom:"1.5rem"},children:[l.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:600,color:"#334155",fontSize:"0.9rem"},children:"Nome da Instncia"}),l.jsx("input",{placeholder:"Nome da Instncia (ex: minha-instancia)",value:((E=c.variables.find(A=>A.key==="instance_name"))==null?void 0:E.value)||"",onChange:A=>{const R=A.target.value;u(k=>{const z=k.variables.some(H=>H.key==="instance_name");let $;return z?$=k.variables.map(H=>H.key==="instance_name"?{...H,value:R}:H):$=[...k.variables,{key:"instance_name",value:R}],{...k,variables:$}})},style:{width:"100%",padding:"0.7rem",borderRadius:"6px",border:"1px solid #cbd5e1",fontSize:"0.95rem"}}),l.jsx("p",{style:{margin:"0.5rem 0 0 0",fontSize:"0.8rem",color:"#64748b"},children:"Nome da instncia criada na Evolution API."})]}),l.jsxs("div",{style:{marginBottom:"1.5rem"},children:[l.jsx("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:600,color:"#334155",fontSize:"0.9rem"},children:"URL da Mdia (Convite)"}),l.jsx("input",{type:"url",placeholder:"https://exemplo.com/imagem.png",value:((T=c.variables.find(A=>A.key==="invite_media_url"))==null?void 0:T.value)||"",onChange:A=>{const R=A.target.value;u(k=>{const z=k.variables.some(H=>H.key==="invite_media_url");let $;return z?$=k.variables.map(H=>H.key==="invite_media_url"?{...H,value:R}:H):$=[...k.variables,{key:"invite_media_url",value:R}],{...k,variables:$}})},style:{width:"100%",padding:"0.7rem",borderRadius:"6px",border:"1px solid #cbd5e1",fontSize:"0.95rem"}}),l.jsx("p",{style:{margin:"0.5rem 0 0 0",fontSize:"0.8rem",color:"#64748b"},children:"Imagem enviada junto com o convite."})]})]}),l.jsxs("div",{style:{borderTop:"1px solid #e2e8f0",paddingTop:"1.5rem",marginBottom:"1.5rem"},children:[l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[l.jsx("label",{style:{fontWeight:600,color:"#334155",fontSize:"0.9rem"},children:"Variveis de Ambiente / Parmetros Extras"}),l.jsxs("button",{type:"button",onClick:h,style:{display:"flex",alignItems:"center",gap:"0.5rem",fontSize:"0.8rem",color:"#2563eb",background:"#eff6ff",padding:"0.4rem 0.8rem",borderRadius:"99px",border:"none",cursor:"pointer",fontWeight:600},children:[l.jsx(Vs,{size:14})," Adicionar Varivel"]})]}),c.variables.length===0&&l.jsx("div",{style:{padding:"1rem",background:"#f8fafc",borderRadius:"6px",textAlign:"center",color:"#94a3b8",fontSize:"0.9rem",border:"1px dashed #cbd5e1"},children:"Nenhuma varivel configurada."}),l.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"0.8rem"},children:c.variables.map((A,R)=>e==="evolution_api"&&(A.key==="instance_name"||A.key==="invite_media_url")?null:l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr auto",gap:"1rem",alignItems:"center"},children:[l.jsx("input",{placeholder:"Nome da Varivel (ex: instance_name)",value:A.key,onChange:k=>v(R,"key",k.target.value),style:{padding:"0.6rem",borderRadius:"6px",border:"1px solid #cbd5e1",fontSize:"0.9rem"}}),l.jsx("input",{placeholder:"Valor",value:A.value,onChange:k=>v(R,"value",k.target.value),style:{padding:"0.6rem",borderRadius:"6px",border:"1px solid #cbd5e1",fontSize:"0.9rem"}}),l.jsx("button",{type:"button",onClick:()=>m(R),style:{color:"#ef4444",background:"none",border:"none",cursor:"pointer",padding:"0.4rem"},title:"Remover",children:l.jsx(tu,{size:18})})]},R))})]}),l.jsx("div",{style:{display:"flex",justifyContent:"flex-end",marginBottom:"2rem"},children:l.jsx("button",{type:"submit",disabled:a,style:{display:"flex",alignItems:"center",gap:"0.5rem",padding:"0.8rem 2rem",background:"#0284c7",color:"white",border:"none",borderRadius:"6px",fontWeight:"bold",cursor:"pointer",boxShadow:"0 4px 6px -1px rgba(2, 132, 199, 0.2)"},children:a?"Salvando...":l.jsxs(l.Fragment,{children:[l.jsx(sb,{size:18})," Salvar Configuraes"]})})}),e==="evolution_api"&&l.jsxs("div",{style:{borderTop:"2px dashed #cbd5e1",paddingTop:"2rem"},children:[l.jsx("h4",{style:{margin:"0 0 1rem 0",color:"#334155"},children:"Teste de Conexo"}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 2fr auto",gap:"1rem",alignItems:"end"},children:[l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",marginBottom:"0.4rem",fontSize:"0.85rem",color:"#64748b"},children:"Nmero (com DDI)"}),l.jsx("input",{placeholder:"5511999999999",value:x,onChange:A=>b(A.target.value.replace(/\D/g,"")),style:{width:"100%",padding:"0.6rem",borderRadius:"6px",border:"1px solid #cbd5e1"}})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",marginBottom:"0.4rem",fontSize:"0.85rem",color:"#64748b"},children:"URL da Mdia (Opcional)"}),l.jsx("input",{placeholder:"https://...",value:w,onChange:A=>_(A.target.value),style:{width:"100%",padding:"0.6rem",borderRadius:"6px",border:"1px solid #cbd5e1"}})]}),l.jsxs("div",{children:[l.jsx("label",{style:{display:"block",marginBottom:"0.4rem",fontSize:"0.85rem",color:"#64748b"},children:"Mensagem / Legenda"}),l.jsx("input",{value:y,onChange:A=>g(A.target.value),style:{width:"100%",padding:"0.6rem",borderRadius:"6px",border:"1px solid #cbd5e1"}})]}),l.jsx("button",{type:"button",onClick:C,disabled:j||!x,style:{padding:"0.7rem 1.5rem",background:j?"#94a3b8":"#10b981",color:"white",border:"none",borderRadius:"6px",cursor:j?"default":"pointer",fontWeight:600},children:j?"Enviando...":"Enviar Teste"})]})]}),e==="financial_api"&&l.jsx("div",{style:{borderTop:"2px dashed #cbd5e1",paddingTop:"2rem"},children:l.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[l.jsxs("div",{children:[l.jsx("h4",{style:{margin:"0 0 0.5rem 0",color:"#334155"},children:"Teste de Conexo (Asaas)"}),l.jsx("p",{style:{margin:0,fontSize:"0.85rem",color:"#64748b"},children:"Verifica se o endpoint e o token esto corretos."})]}),l.jsx("button",{type:"button",onClick:async()=>{var A;i(!0);try{const{data:R,error:k}=await I.functions.invoke("manage-asaas-customer",{body:{test:!0}});if(k){let z=k.message;try{const $=await((A=k.context)==null?void 0:A.json());$&&$.error&&(z=$.error)}catch{}throw new Error(z)}if(R!=null&&R.success)n(R.message||"Conexo OK!","success");else throw new Error((R==null?void 0:R.error)||"Erro desconhecido")}catch(R){console.error(R),n("Falha na conexo: "+R.message,"error")}finally{i(!1)}},disabled:a||!c.api_key||!c.endpoint_url,style:{padding:"0.7rem 1.5rem",background:a?"#94a3b8":"#6366f1",color:"white",border:"none",borderRadius:"6px",cursor:a?"default":"pointer",fontWeight:600},children:a?"Testando...":"Testar Conexo"})]})})]})]})}function mre(){const[e,t]=p.useState("users"),r=[{id:"users",label:"Perfil de Usurios",icon:cb,desc:"Gerenciar usurios e acesso"},{id:"evolution",label:"Evolution API",icon:ZI,desc:"Configurao da API WhatsApp"},{id:"financial",label:"Integrao Financeira",icon:eu,desc:"Gateways de Pagamento"}],n=()=>{switch(e){case"users":return l.jsx(hre,{});case"evolution":return l.jsx(fE,{serviceName:"evolution_api",title:"Evolution API",description:"Configurao da API de WhatsApp"});case"financial":return l.jsx(fE,{serviceName:"financial_api",title:"Integrao Financeira",description:"Gateways de Pagamento (Asaas, etc)"});default:return null}};return l.jsxs("div",{style:{padding:"2rem",height:"100%"},children:[l.jsx("h2",{style:{marginBottom:"0.5rem",color:"#1e293b"},children:"Configuraes"}),l.jsx("p",{style:{color:"#64748b",marginBottom:"2rem"},children:"Gerencie as configuraes gerais e integraes do sistema."}),l.jsxs("div",{style:{display:"grid",gridTemplateColumns:"260px 1fr",gap:"2rem",alignItems:"start"},children:[l.jsxs("div",{style:{background:"white",borderRadius:"12px",border:"1px solid #e2e8f0",overflow:"hidden"},children:[l.jsx("div",{style:{padding:"1rem",borderBottom:"1px solid #f1f5f9",background:"#f8fafc"},children:l.jsx("span",{style:{fontSize:"0.75rem",fontWeight:"bold",color:"#94a3b8",textTransform:"uppercase",letterSpacing:"0.5px"},children:"Menu"})}),l.jsx("div",{children:r.map(a=>l.jsxs("button",{onClick:()=>t(a.id),style:{width:"100%",display:"flex",alignItems:"center",gap:"0.75rem",padding:"1rem 1.5rem",border:"none",textAlign:"left",cursor:"pointer",color:e===a.id?"#0284c7":"#475569",background:e===a.id?"#f0f9ff":"transparent",borderLeft:e===a.id?"3px solid #0284c7":"3px solid transparent",transition:"all 0.2s"},children:[l.jsx(a.icon,{size:18}),l.jsxs("div",{children:[l.jsx("div",{style:{fontWeight:600,fontSize:"0.9rem"},children:a.label}),l.jsx("div",{style:{fontSize:"0.75rem",color:"#94a3b8"},children:a.desc})]})]},a.id))})]}),l.jsx("div",{style:{minHeight:"500px"},children:n()})]})]})}function pre(){var m;const{profile:e,signOut:t}=pn(),r=yi(),[n,a]=p.useState("default"),[i,o]=p.useState(!1),[s,c]=p.useState(!1);p.useEffect(()=>{e&&n==="default"&&(e.role==="subscriber"?a("subscriber_dashboard"):e.role==="supplier"?a("supplier_dashboard"):a("leads"))},[e,n]);const u=async()=>{await t(),r("/login")},f=(v=>{if(!v)return[];const x=[];v!=="subscriber"&&x.push({id:"leads",label:"Leads",icon:b8}),["originator","coordinator","manager","admin","super_admin"].includes(v)&&(v==="originator"?(x.push({id:"originator_dashboard",label:"Minhas Comisses",icon:ng}),x.push({id:"originators_list",label:"Equipe",icon:k_})):x.push({id:"originators_list",label:"Originadores",icon:k_})),v!=="lead"&&(v==="subscriber"?x.push({id:"subscriber_dashboard",label:"Meu Painel",icon:ng}):x.push({id:"subscribers_list",label:"Assinantes",icon:Uk})),v!=="lead"&&v!=="subscriber"&&x.push({id:"consumer_units",label:"Unidades Consumidoras",icon:u8}),x.push({id:"invoices",label:"Faturas",icon:fi});const y=["supplier","manager","admin","super_admin"];return y.includes(v)&&(v==="supplier"?x.push({id:"supplier_dashboard",label:"Meu Painel",icon:ng}):x.push({id:"suppliers_list",label:"Fornecedores",icon:P8})),y.includes(v)&&x.push({id:"power_plants",label:"Usinas",icon:Zh}),["supplier","manager","admin","super_admin"].includes(v)&&x.push({id:"billing",label:"Billing",icon:Yh}),["admin","super_admin"].includes(v)&&x.push({id:"settings",label:"Configuraes",icon:Lk}),x})(e==null?void 0:e.role),h=()=>{if(!e)return l.jsx("p",{children:"Carregando perfil..."});switch(n){case"admin":return l.jsx(J8,{});case"subscriber_dashboard":return l.jsx(Q8,{});case"originator_dashboard":return l.jsx(e$,{});case"supplier_dashboard":return l.jsx(t$,{});case"leads":return l.jsx(HL,{});case"subscribers_list":return l.jsx(FL,{});case"originators_list":return l.jsx(KL,{});case"suppliers_list":return l.jsx(YL,{});case"power_plants":return l.jsx(sre,{});case"consumer_units":return l.jsx(ure,{});case"invoices":return l.jsx(lre,{});case"billing":return l.jsx(fre,{});case"settings":return l.jsx(mre,{});default:return l.jsxs("div",{style:{padding:"2rem"},children:[l.jsxs("h2",{children:["Bem-vindo, ",e==null?void 0:e.name]}),l.jsx("p",{children:"Selecione uma opo no menu."})]})}};return l.jsxs("div",{className:"dashboard-container",children:[l.jsx("button",{className:"menu-toggle",onClick:()=>o(!i),children:l.jsx(w8,{size:24})}),i&&l.jsx("div",{className:"modal-overlay",style:{zIndex:999,backdropFilter:"none"},onClick:()=>o(!1)}),l.jsxs("aside",{className:`sidebar ${i?"open":""} ${s?"collapsed":""}`,children:[l.jsxs("div",{className:"sidebar-header",style:{justifyContent:s?"center":"space-between"},children:[!s&&l.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[l.jsx("img",{src:"https://b2wenergia.com.br/wp-content/uploads/2025/12/Logo-Laranja-estreito.png",alt:"B2W Energia",style:{height:"35px",objectFit:"contain"}}),l.jsx("span",{style:{color:"white",fontWeight:"bold",fontSize:"1.2rem"},children:"B2W Energia"})]}),l.jsx("button",{onClick:()=>c(!s),style:{background:"transparent",color:"white",border:"none",cursor:"pointer",display:i?"none":"block"},className:"desktop-only-btn",children:s?l.jsx(qI,{size:20}):l.jsx(LI,{size:20})})]}),l.jsx("nav",{style:{flex:1,overflowY:"auto"},children:l.jsx("ul",{style:{listStyle:"none"},children:f.map(v=>{const x=v.icon;return l.jsx("li",{style:{marginBottom:"0.25rem"},children:l.jsxs("button",{onClick:()=>{a(v.id),o(!1)},title:s?v.label:"",className:`sidebar-link ${n===v.id?"active":""}`,style:{justifyContent:s?"center":"flex-start"},children:[l.jsx(x,{size:20,style:{marginRight:s?0:"0.75rem",flexShrink:0}}),!s&&l.jsx("span",{children:v.label})]})},v.id)})})}),l.jsxs("div",{className:"sidebar-footer",children:[!s&&l.jsxs("div",{style:{marginBottom:"1rem",padding:"0 0.5rem"},children:[l.jsx("p",{style:{fontWeight:"bold",fontSize:"0.9rem"},children:e==null?void 0:e.name}),l.jsx("p",{style:{opacity:.7,fontSize:"0.75rem"},children:(m=e==null?void 0:e.role)==null?void 0:m.replace("_"," ").toUpperCase()})]}),l.jsxs("button",{onClick:u,title:"Sair",className:"sidebar-footer-btn",style:{justifyContent:s?"center":"flex-start"},children:[l.jsx(p8,{size:20,style:{marginRight:s?0:"0.5rem"}}),!s&&l.jsx("span",{children:"Sair"})]})]})]}),l.jsx("main",{className:"main-content",children:h()})]})}function gre(){const[e]=Y0(),t=yi(),r=e.get("id"),[n,a]=p.useState("simulation"),[i,o]=p.useState(!1),[s,c]=p.useState(null),[u,d]=p.useState(null),[f,h]=p.useState(null),[m,v]=p.useState({cep:"",nome:"",email:"",telefone:"",consumo:"",rua:"",numero:"",bairro:"",cidade:"",uf:"",cpf_cnpj:"",numero_uc:""}),x=async()=>{if(m.cep.length>=8)try{o(!0);const g=await mn(m.cep);if(v(w=>({...w,rua:g.rua||"",bairro:g.bairro||"",cidade:g.cidade||"",uf:g.uf||""})),g.ibge){const w=await Qc(g.ibge);d(w)}}catch(g){console.error(g),alert("Erro ao buscar CEP")}finally{o(!1)}},b=async g=>{if(g.preventDefault(),!eo(m.telefone)){alert("Telefone invlido! Digite o DDD + 9 dgitos.");return}o(!0);try{const w=u&&u["Tarifa Concessionaria"]||.85,_=u&&u["Desconto Assinante"]||.1,j=parseFloat(m.consumo)*w,S=j*_;c({contaAtual:j,economiaMensal:S,anual:S*12});const{data:C,error:E}=await I.from("leads").insert({name:m.nome,email:m.email,phone:m.telefone,address:{cep:m.cep,rua:m.rua,cidade:m.cidade,uf:m.uf},consumo_kwh:parseFloat(m.consumo),concessionaria:u==null?void 0:u.Concessionaria,tarifa_concessionaria:w,desconto_assinante:_,originator_id:r,status:"indicado"}).select().single();if(E)throw E;h(C.id),a("signup")}catch(w){alert("Erro na simulao: "+w.message)}finally{o(!1)}},y=async g=>{if(g.preventDefault(),!nu(m.cpf_cnpj)){alert("CPF/CNPJ invlido!");return}if(!eo(m.telefone)){alert("Telefone invlido!");return}o(!0);try{const{data:w,error:_}=await I.from("subscribers").insert({name:m.nome,cpf_cnpj:m.cpf_cnpj,email:m.email,phone:m.telefone,status:"ativacao",originator_id:r}).select().single();if(_)throw _;const{error:j}=await I.from("consumer_units").insert({subscriber_id:w.id,numero_uc:m.numero_uc,concessionaria:u==null?void 0:u.Concessionaria,status:"ativacao",address:{cep:m.cep,rua:m.rua,numero:m.numero,bairro:m.bairro,cidade:m.cidade,uf:m.uf},titular_conta:m.nome});if(j)throw j;f&&await I.from("leads").update({status:"convertido"}).eq("id",f),alert("Cadastro realizado com sucesso! Em breve entraremos em contato."),t("/login")}catch(w){alert("Erro ao finalizar cadastro: "+w.message)}finally{o(!1)}};return l.jsx("div",{style:{minHeight:"100vh",padding:"2rem",backgroundColor:"#f3f4f6",display:"flex",justifyContent:"center"},children:l.jsxs("div",{style:{maxWidth:"600px",width:"100%",background:"white",padding:"2rem",borderRadius:"8px",boxShadow:"0 4px 10px rgba(0,0,0,0.1)"},children:[l.jsxs("div",{style:{textAlign:"center",marginBottom:"2rem"},children:[l.jsx("h1",{style:{color:"var(--color-blue)",marginBottom:"0.5rem"},children:"B2W Energia"}),l.jsx("p",{style:{color:"#666"},children:"Economize na sua conta de luz sem investimento."})]}),n==="simulation"?l.jsxs("form",{onSubmit:b,children:[l.jsx("h2",{style:{marginBottom:"1.5rem",fontSize:"1.2rem",color:"#333"},children:"Simule sua Economia"}),l.jsxs("div",{style:{marginBottom:"1rem"},children:[l.jsx("label",{style:{display:"block",marginBottom:"0.3rem",fontSize:"0.9rem"},children:"CEP"}),l.jsx("input",{value:m.cep,onChange:g=>v({...m,cep:g.target.value}),onBlur:x,placeholder:"00000-000",style:{width:"100%",padding:"0.75rem",borderRadius:"4px",border:"1px solid #ddd"},required:!0})]}),m.cidade&&l.jsxs("div",{style:{marginBottom:"1rem",padding:"0.75rem",background:"#ecfdf5",borderRadius:"4px",color:"#065f46",fontSize:"0.9rem"},children:[" ",m.cidade," - ",m.uf,u&&l.jsxs("span",{style:{display:"block",fontWeight:"bold"},children:[" ",u.Concessionaria]})]}),l.jsxs("div",{style:{marginBottom:"1rem"},children:[l.jsx("label",{style:{display:"block",marginBottom:"0.3rem",fontSize:"0.9rem"},children:"Nome Completo"}),l.jsx("input",{value:m.nome,onChange:g=>v({...m,nome:g.target.value}),style:{width:"100%",padding:"0.75rem",borderRadius:"4px",border:"1px solid #ddd"},required:!0})]}),l.jsxs("div",{style:{marginBottom:"1rem"},children:[l.jsx("label",{style:{display:"block",marginBottom:"0.3rem",fontSize:"0.9rem"},children:"Email"}),l.jsx("input",{type:"email",value:m.email,onChange:g=>v({...m,email:g.target.value}),style:{width:"100%",padding:"0.75rem",borderRadius:"4px",border:"1px solid #ddd"},required:!0})]}),l.jsxs("div",{style:{marginBottom:"1rem"},children:[l.jsx("label",{style:{display:"block",marginBottom:"0.3rem",fontSize:"0.9rem"},children:"Telefone"}),l.jsx("input",{value:m.telefone,onChange:g=>v({...m,telefone:hi(g.target.value)}),placeholder:"(00) 00000-0000",style:{width:"100%",padding:"0.75rem",borderRadius:"4px",border:"1px solid #ddd"},required:!0})]}),l.jsxs("div",{style:{marginBottom:"1.5rem"},children:[l.jsx("label",{style:{display:"block",marginBottom:"0.3rem",fontSize:"0.9rem"},children:"Mdia de Consumo (kWh)"}),l.jsx("input",{type:"number",value:m.consumo,onChange:g=>v({...m,consumo:g.target.value}),placeholder:"Ex: 500",style:{width:"100%",padding:"0.75rem",borderRadius:"4px",border:"1px solid #ddd"},required:!0})]}),l.jsx("button",{type:"submit",disabled:i,style:{width:"100%",padding:"1rem",background:"var(--color-orange)",color:"white",border:"none",borderRadius:"4px",fontSize:"1rem",fontWeight:"bold",cursor:"pointer"},children:i?"Calculando...":"VER MINHA ECONOMIA"})]}):l.jsxs("form",{onSubmit:y,children:[s&&l.jsxs("div",{style:{textAlign:"center",marginBottom:"2rem",padding:"1.5rem",background:"#ecfdf5",borderRadius:"8px",border:"1px solid #a7f3d0"},children:[l.jsx("div",{style:{fontSize:"0.9rem",color:"#065f46"},children:"Economia Anual Estimada"}),l.jsxs("div",{style:{fontSize:"2rem",fontWeight:"bold",color:"#059669"},children:["R$ ",s.anual.toLocaleString("pt-BR",{minimumFractionDigits:2})]})]}),l.jsx("h2",{style:{marginBottom:"1.5rem",fontSize:"1.2rem",color:"#333"},children:"Finalizar Cadastro"}),l.jsxs("div",{style:{marginBottom:"1rem"},children:[l.jsx("label",{style:{display:"block",marginBottom:"0.3rem",fontSize:"0.9rem"},children:"CPF / CNPJ"}),l.jsx("input",{value:m.cpf_cnpj,onChange:g=>v({...m,cpf_cnpj:ru(g.target.value)}),placeholder:"000.000.000-00",style:{width:"100%",padding:"0.75rem",borderRadius:"4px",border:"1px solid #ddd"},required:!0})]}),l.jsxs("div",{style:{marginBottom:"1rem"},children:[l.jsx("label",{style:{display:"block",marginBottom:"0.3rem",fontSize:"0.9rem"},children:"Confirme seu Nome"}),l.jsx("input",{value:m.nome,onChange:g=>v({...m,nome:g.target.value}),style:{width:"100%",padding:"0.75rem",borderRadius:"4px",border:"1px solid #ddd"},required:!0})]}),l.jsxs("div",{style:{marginBottom:"1rem"},children:[l.jsx("label",{style:{display:"block",marginBottom:"0.3rem",fontSize:"0.9rem"},children:"Confirme seu Email"}),l.jsx("input",{type:"email",value:m.email,onChange:g=>v({...m,email:g.target.value}),style:{width:"100%",padding:"0.75rem",borderRadius:"4px",border:"1px solid #ddd"},required:!0})]}),l.jsxs("div",{style:{marginBottom:"1rem"},children:[l.jsx("label",{style:{display:"block",marginBottom:"0.3rem",fontSize:"0.9rem"},children:"Confirme seu Telefone"}),l.jsx("input",{value:m.telefone,onChange:g=>v({...m,telefone:hi(g.target.value)}),style:{width:"100%",padding:"0.75rem",borderRadius:"4px",border:"1px solid #ddd"},required:!0})]}),l.jsxs("div",{style:{marginBottom:"1rem",display:"flex",gap:"1rem"},children:[l.jsxs("div",{style:{flex:1},children:[l.jsx("label",{style:{display:"block",marginBottom:"0.3rem",fontSize:"0.9rem"},children:"Rua"}),l.jsx("input",{value:m.rua,disabled:!0,style:{width:"100%",padding:"0.75rem",background:"#f9f9f9",border:"1px solid #eee"}})]}),l.jsxs("div",{style:{width:"100px"},children:[l.jsx("label",{style:{display:"block",marginBottom:"0.3rem",fontSize:"0.9rem"},children:"Nmero"}),l.jsx("input",{value:m.numero,onChange:g=>v({...m,numero:g.target.value}),style:{width:"100%",padding:"0.75rem",borderRadius:"4px",border:"1px solid #ddd"},required:!0})]})]}),l.jsxs("div",{style:{marginBottom:"1.5rem"},children:[l.jsx("label",{style:{display:"block",marginBottom:"0.3rem",fontSize:"0.9rem"},children:"Nmero da UC (Instalao)"}),l.jsx("input",{value:m.numero_uc,onChange:g=>v({...m,numero_uc:g.target.value}),placeholder:"Encontrado na sua conta de luz",style:{width:"100%",padding:"0.75rem",borderRadius:"4px",border:"1px solid #ddd"},required:!0})]}),l.jsx("button",{type:"submit",disabled:i,style:{width:"100%",padding:"1rem",background:"var(--color-blue)",color:"white",border:"none",borderRadius:"4px",fontSize:"1rem",fontWeight:"bold",cursor:"pointer"},children:i?"Finalizando...":"FINALIZAR ASSINATURA"})]})]})})}const vre=()=>{const{user:e}=pn();return e?l.jsx(W3,{}):l.jsx(T2,{to:"/login",replace:!0})};function yre(){return l.jsx(Y3,{children:l.jsx($8,{children:l.jsx(Z8,{children:l.jsxs(F3,{children:[l.jsx(wn,{path:"/login",element:l.jsx(jI,{})}),l.jsx(wn,{path:"/simulacao",element:l.jsx(U8,{})}),l.jsx(wn,{path:"/cadastro-parceiro",element:l.jsx(H8,{})}),l.jsx(wn,{path:"/assine",element:l.jsx(X8,{})}),l.jsx(wn,{path:"/originador",element:l.jsx(gre,{})}),l.jsx(wn,{path:"/contrato",element:l.jsx(Y8,{})}),l.jsx(wn,{element:l.jsx(vre,{}),children:l.jsx(wn,{path:"/dashboard",element:l.jsx(pre,{})})}),l.jsx(wn,{path:"/",element:l.jsx(T2,{to:"/login",replace:!0})})]})})})})}Zz.createRoot(document.getElementById("root")).render(l.jsx(p.StrictMode,{children:l.jsx(yre,{})}));
